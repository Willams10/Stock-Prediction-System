!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=931)}([function(e,t,n){"use strict";e.exports=n(426)},function(e,t,n){e.exports=n(483)()},function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"$mobx",(function(){return Gn})),n.d(t,"FlowCancellationError",(function(){return St})),n.d(t,"IDerivationState",(function(){return ae})),n.d(t,"ObservableMap",(function(){return Cn})),n.d(t,"ObservableSet",(function(){return Sn})),n.d(t,"Reaction",(function(){return Xe})),n.d(t,"_allowStateChanges",(function(){return De})),n.d(t,"_allowStateChangesInsideComputed",(function(){return Te})),n.d(t,"_allowStateReadsEnd",(function(){return ve})),n.d(t,"_allowStateReadsStart",(function(){return ye})),n.d(t,"_endAction",(function(){return je})),n.d(t,"_getAdministration",(function(){return Qn})),n.d(t,"_getGlobalState",(function(){return Qe})),n.d(t,"_interceptReads",(function(){return Bt})),n.d(t,"_isComputingDerivation",(function(){return fe})),n.d(t,"_resetGlobalState",(function(){return He})),n.d(t,"_startAction",(function(){return Ce})),n.d(t,"action",(function(){return dt})),n.d(t,"autorun",(function(){return mt})),n.d(t,"comparer",(function(){return P})),n.d(t,"computed",(function(){return le})),n.d(t,"configure",(function(){return wt})),n.d(t,"createAtom",(function(){return T})),n.d(t,"decorate",(function(){return kt})),n.d(t,"entries",(function(){return Kt})),n.d(t,"extendObservable",(function(){return xt})),n.d(t,"extendShallowObservable",(function(){return Et})),n.d(t,"flow",(function(){return Mt})),n.d(t,"get",(function(){return Vt})),n.d(t,"getAtom",(function(){return zn})),n.d(t,"getDebugName",(function(){return Hn})),n.d(t,"getDependencyTree",(function(){return Ot})),n.d(t,"getObserverTree",(function(){return jt})),n.d(t,"has",(function(){return Gt})),n.d(t,"intercept",(function(){return It})),n.d(t,"isAction",(function(){return pt})),n.d(t,"isArrayLike",(function(){return b})),n.d(t,"isBoxedObservable",(function(){return Pe})),n.d(t,"isComputed",(function(){return Ut})),n.d(t,"isComputedProp",(function(){return Rt})),n.d(t,"isFlowCancellationError",(function(){return Tt})),n.d(t,"isObservable",(function(){return zt})),n.d(t,"isObservableArray",(function(){return xn})),n.d(t,"isObservableMap",(function(){return Dn})),n.d(t,"isObservableObject",(function(){return Fn})),n.d(t,"isObservableProp",(function(){return Qt})),n.d(t,"isObservableSet",(function(){return Tn})),n.d(t,"keys",(function(){return Ht})),n.d(t,"observable",(function(){return ne})),n.d(t,"observe",(function(){return $t})),n.d(t,"onBecomeObserved",(function(){return yt})),n.d(t,"onBecomeUnobserved",(function(){return vt})),n.d(t,"onReactionError",(function(){return Je})),n.d(t,"reaction",(function(){return bt})),n.d(t,"remove",(function(){return qt})),n.d(t,"runInAction",(function(){return ft})),n.d(t,"set",(function(){return Wt})),n.d(t,"spy",(function(){return lt})),n.d(t,"toJS",(function(){return Zt})),n.d(t,"trace",(function(){return en})),n.d(t,"transaction",(function(){return tn})),n.d(t,"untracked",(function(){return _e})),n.d(t,"values",(function(){return Yt})),n.d(t,"when",(function(){return nn}));var a=[];Object.freeze(a);var o={};Object.freeze(o);var i={};function s(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:i}function l(){return++ze.mobxGuid}function c(e){throw u(!1,e),"X"}function u(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}function d(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var f=function(){};function p(e){return null!==e&&"object"==typeof e}function h(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function m(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function _(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function g(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return p(e)&&!0===e[n]}}function b(e){return Array.isArray(e)||xn(e)}function y(e){return void 0!==s().Map&&e instanceof s().Map}function v(e){return e instanceof Set}function A(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function w(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function k(e){return null===e?null:"object"==typeof e?""+e:e}function E(e,t){for(var n=e.next();!n.done;)t(n.value),n=e.next()}function x(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function O(e,t){_(e,x(),t)}function C(e){return e[x()]=D,e}function j(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function D(){return this}var N=function(){function e(e){void 0===e&&(e="Atom@"+l()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ae.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return Ve(this)},e.prototype.reportChanged=function(){qe(),function(e){if(e.lowestObserverState!==ae.STALE){e.lowestObserverState=ae.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ae.UP_TO_DATE&&(r.isTracing!==oe.NONE&&$e(r,e),r.onBecomeStale()),r.dependenciesState=ae.STALE}}}(this),Ge()},e.prototype.toString=function(){return this.name},e}(),S=g("Atom",N);function T(e,t,n){void 0===t&&(t=f),void 0===n&&(n=f);var r=new N(e);return yt(r,t),vt(r,n),r}function M(e,t){return e===t}var P={identity:M,structural:function(e,t){return Kn(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||M(e,t)},shallow:function(e,t){return Kn(e,t,1)}},B=function(e,t){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function I(e,t){function n(){this.constructor=e}B(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function U(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}function R(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(U(arguments[t]));return e}var F={},z={};function Q(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in m(e,"__mobxDidRunLazyInitializers",!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function H(e,t){return function(){var n,r,o=function(r,a,o,i){if(!0===i)return t(r,a,o,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var s=r.__mobxDecorators;m(r,"__mobxDecorators",L({},s))}return r.__mobxDecorators[a]={prop:a,propertyCreator:t,descriptor:o,decoratorTarget:r,decoratorArguments:n},function(e,t){var n=t?F:z;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return Q(this),this[e]},set:function(t){Q(this),this[e]=t}})}(a,e)};return(2===(r=arguments).length||3===r.length)&&"string"==typeof r[1]||4===r.length&&!0===r[3]?(n=a,o.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),o)}}function Y(e,t,n){return zt(e)?e:Array.isArray(e)?ne.array(e,{name:n}):h(e)?ne.object(e,void 0,{name:n}):y(e)?ne.map(e,{name:n}):v(e)?ne.set(e,{name:n}):e}function K(e){return e}function W(e){u(e);var t=H(!0,(function(t,n,r,a,o){Bn(t,n,r?r.initializer?r.initializer.call(t):r.value:void 0,e)})),n=(void 0!==r&&Object({NODE_ENV:"production"}),t);return n.enhancer=e,n}var q={deep:!0,name:void 0,defaultDecorator:void 0},G={deep:!1,name:void 0,defaultDecorator:void 0};function V(e){return null==e?q:"string"==typeof e?{name:e,deep:!0}:e}function $(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?K:Y}Object.freeze(q),Object.freeze(G);var X=W(Y),J=W((function(e,t,n){return null==e||Fn(e)||xn(e)||Dn(e)||Tn(e)?e:Array.isArray(e)?ne.array(e,{name:n,deep:!1}):h(e)?ne.object(e,void 0,{name:n,deep:!1}):y(e)?ne.map(e,{name:n,deep:!1}):v(e)?ne.set(e,{name:n,deep:!1}):c(!1)})),Z=W(K),ee=W((function(e,t,n){return Kn(e,t)?t:e})),te={box:function(e,t){arguments.length>2&&re("box");var n=V(t);return new Me(e,$(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&re("shallowBox"),ne.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&re("array");var n=V(t);return new yn(e,$(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&re("shallowArray"),ne.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&re("map");var n=V(t);return new Cn(e,$(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&re("shallowMap"),ne.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&re("set");var n=V(t);return new Sn(e,$(n),n.name)},object:function(e,t,n){return"string"==typeof arguments[1]&&re("object"),xt({},e,t,V(n))},shallowObject:function(e,t){return"string"==typeof arguments[1]&&re("shallowObject"),ne.object(e,{},{name:t,deep:!1})},ref:Z,shallow:J,deep:X,struct:ee},ne=function(e,t,n){if("string"==typeof arguments[1])return X.apply(null,arguments);if(zt(e))return e;var r=h(e)?ne.object(e,t,n):Array.isArray(e)?ne.array(e,t):y(e)?ne.map(e,t):v(e)?ne.set(e,t):e;if(r!==e)return r;c(!1)};function re(e){c("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(te).forEach((function(e){return ne[e]=te[e]}));var ae,oe,ie=H(!1,(function(e,t,n,r,a){var o=n.get,i=n.set,s=a[0]||{};!function(e,t,n){var r=Pn(e);n.name=r.name+"."+t,n.context=e,r.values[t]=new Be(n),Object.defineProperty(e,t,function(e){return Ln[e]||(Ln[e]={configurable:ze.computedConfigurable,enumerable:!1,get:function(){return Un(this).read(this,e)},set:function(t){Un(this).write(this,e,t)}})}(t))}(e,t,L({get:o,set:i},s))})),se=ie({equals:P.structural}),le=function(e,t,n){if("string"==typeof t)return ie.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ie.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new Be(r)};le.struct=se,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(ae||(ae={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(oe||(oe={}));var ce=function(e){this.cause=e};function ue(e){return e instanceof ce}function de(e){switch(e.dependenciesState){case ae.UP_TO_DATE:return!1;case ae.NOT_TRACKING:case ae.STALE:return!0;case ae.POSSIBLY_STALE:for(var t=ye(!0),n=ge(),r=e.observing,a=r.length,o=0;o<a;o++){var i=r[o];if(Ie(i)){if(ze.disableErrorBoundaries)i.get();else try{i.get()}catch(e){return be(n),ve(t),!0}if(e.dependenciesState===ae.STALE)return be(n),ve(t),!0}}return Ae(e),be(n),ve(t),!1}}function fe(){return null!==ze.trackingDerivation}function pe(e){var t=e.observers.length>0;ze.computationDepth>0&&t&&c(!1),ze.allowStateChanges||!t&&"strict"!==ze.enforceActions||c(!1)}function he(e,t,n){var r=ye(!0);Ae(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++ze.runId;var a,o=ze.trackingDerivation;if(ze.trackingDerivation=e,!0===ze.disableErrorBoundaries)a=t.call(n);else try{a=t.call(n)}catch(e){a=new ce(e)}return ze.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=ae.UP_TO_DATE,a=0,o=e.unboundDepsCount,i=0;i<o;i++){0===(s=n[i]).diffValue&&(s.diffValue=1,a!==i&&(n[a]=s),a++),s.dependenciesState>r&&(r=s.dependenciesState)}for(n.length=a,e.newObserving=null,o=t.length;o--;){0===(s=t[o]).diffValue&&Ke(s,e),s.diffValue=0}for(;a--;){var s;1===(s=n[a]).diffValue&&(s.diffValue=0,Ye(s,e))}r!==ae.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),e.observing.length,ve(r),a}function me(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Ke(t[n],e);e.dependenciesState=ae.NOT_TRACKING}function _e(e){var t=ge(),n=e();return be(t),n}function ge(){var e=ze.trackingDerivation;return ze.trackingDerivation=null,e}function be(e){ze.trackingDerivation=e}function ye(e){var t=ze.allowStateReads;return ze.allowStateReads=e,t}function ve(e){ze.allowStateReads=e}function Ae(e){if(e.dependenciesState!==ae.UP_TO_DATE){e.dependenciesState=ae.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=ae.UP_TO_DATE}}var we=0,ke=1,Ee=Object.getOwnPropertyDescriptor((function(){}),"name");function xe(e,t){var n=function(){return Oe(e,t,this,arguments)};return n.isMobxAction=!0,n}function Oe(e,t,n,r){var a=Ce(e,n,r);try{return t.apply(n,r)}catch(e){throw a.error=e,e}finally{je(a)}}function Ce(e,t,n){var r=rt()&&!!e,a=0;if(r){a=Date.now();var o=n&&n.length||0,i=new Array(o);if(o>0)for(var s=0;s<o;s++)i[s]=n[s];ot({type:"action",name:e,object:t,arguments:i})}var l=ge();qe();var c={prevDerivation:l,prevAllowStateChanges:Ne(!0),prevAllowStateReads:ye(!0),notifySpy:r,startTime:a,actionId:ke++,parentActionId:we};return we=c.actionId,c}function je(e){we!==e.actionId&&c("invalid action stack. did you forget to finish an action?"),we=e.parentActionId,void 0!==e.error&&(ze.suppressReactionErrors=!0),Se(e.prevAllowStateChanges),ve(e.prevAllowStateReads),Ge(),be(e.prevDerivation),e.notifySpy&&st({time:Date.now()-e.startTime}),ze.suppressReactionErrors=!1}function De(e,t){var n,r=Ne(e);try{n=t()}finally{Se(r)}return n}function Ne(e){var t=ze.allowStateChanges;return ze.allowStateChanges=e,t}function Se(e){ze.allowStateChanges=e}function Te(e){var t,n=ze.computationDepth;ze.computationDepth=0;try{t=e()}finally{ze.computationDepth=n}return t}Ee&&Ee.configurable;var Me=function(e){function t(t,n,r,a,o){void 0===r&&(r="ObservableValue@"+l()),void 0===a&&(a=!0),void 0===o&&(o=P.default);var i=e.call(this,r)||this;return i.enhancer=n,i.name=r,i.equals=o,i.hasUnreportedChange=!1,i.value=n(t,void 0,r),a&&rt()&&at({type:"create",name:i.name,newValue:""+i.value}),i}return I(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==ze.UNCHANGED){var n=rt();n&&ot({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&st()}},t.prototype.prepareNewValue=function(e){if(pe(this),an(this)){var t=sn(this,{object:this,type:"update",newValue:e});if(!t)return ze.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?ze.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),ln(this)&&un(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return on(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),cn(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return k(this.get())},t}(N);Me.prototype[w()]=Me.prototype.valueOf;var Pe=g("ObservableValue",Me),Be=function(){function e(e){this.dependenciesState=ae.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ae.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+l(),this.value=new ce(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=oe.NONE,u(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+l(),e.set&&(this.setter=xe(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?P.structural:P.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState===ae.UP_TO_DATE){e.lowestObserverState=ae.POSSIBLY_STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ae.UP_TO_DATE&&(r.dependenciesState=ae.POSSIBLY_STALE,r.isTracing!==oe.NONE&&$e(r,e),r.onBecomeStale())}}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&c("Cycle detected in computation "+this.name+": "+this.derivation),0!==ze.inBatch||0!==this.observers.length||this.keepAlive?(Ve(this),de(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==ae.STALE){e.lowestObserverState=ae.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ae.POSSIBLY_STALE?r.dependenciesState=ae.STALE:r.dependenciesState===ae.UP_TO_DATE&&(e.lowestObserverState=ae.UP_TO_DATE)}}}(this)):de(this)&&(this.warnAboutUntrackedRead(),qe(),this.value=this.computeValue(!1),Ge());var e=this.value;if(ue(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(ue(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){u(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else u(!1,!1)},e.prototype.trackAndCompute=function(){rt()&&at({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===ae.NOT_TRACKING,n=this.computeValue(!0),r=t||ue(e)||ue(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,ze.computationDepth++,e)t=he(this,this.derivation,this.scope);else if(!0===ze.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new ce(e)}return ze.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(me(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,a=void 0;return mt((function(){var o=n.get();if(!r||t){var i=ge();e({type:"update",object:n,newValue:o,oldValue:a}),be(i)}r=!1,a=o}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return k(this.get())},e}();Be.prototype[w()]=Be.prototype.valueOf;var Ie=g("ComputedValue",Be),Le=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Ue=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Re=!0,Fe=!1,ze=function(){var e=s();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Re=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Ue).version&&(Re=!1),Re?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Ue):(setTimeout((function(){Fe||c("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Ue)}();function Qe(){return ze}function He(){var e=new Ue;for(var t in e)-1===Le.indexOf(t)&&(ze[t]=e[t]);ze.allowStateChanges=!ze.enforceActions}function Ye(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Ke(e,t){if(1===e.observers.length)e.observers.length=0,We(e);else{var n=e.observers,r=e.observersIndexes,a=n.pop();if(a!==t){var o=r[t.__mapid]||0;o?r[a.__mapid]=o:delete r[a.__mapid],n[o]=a}delete r[t.__mapid]}}function We(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,ze.pendingUnobservations.push(e))}function qe(){ze.inBatch++}function Ge(){if(0==--ze.inBatch){et();for(var e=ze.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Be&&n.suspend())}ze.pendingUnobservations=[]}}function Ve(e){var t=ze.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&ze.inBatch>0&&We(e),!1)}function $e(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===oe.BREAK){var n=[];!function e(t,n,r){n.length>=1e3?n.push("(and many more)"):(n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)})))}(Ot(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Be?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var Xe=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+l()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=ae.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+l(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=oe.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ze.pendingReactions.push(this),et())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(qe(),this._isScheduled=!1,de(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&rt()&&at({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Ge()}},e.prototype.track=function(e){qe();var t,n=rt();n&&(t=Date.now(),ot({name:this.name,type:"reaction"})),this._isRunning=!0;var r=he(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&me(this),ue(r)&&this.reportExceptionInDerivation(r.cause),n&&st({time:Date.now()-t}),Ge()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(ze.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";ze.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),rt()&&at({type:"error",name:this.name,message:n,error:""+e}),ze.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(qe(),me(this),Ge()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),en(this,e)},e}();function Je(e){return ze.globalReactionErrorHandlers.push(e),function(){var t=ze.globalReactionErrorHandlers.indexOf(e);t>=0&&ze.globalReactionErrorHandlers.splice(t,1)}}var Ze=function(e){return e()};function et(){ze.inBatch>0||ze.isRunningReactions||Ze(tt)}function tt(){ze.isRunningReactions=!0;for(var e=ze.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,a=n.length;r<a;r++)n[r].runReaction()}ze.isRunningReactions=!1}var nt=g("Reaction",Xe);function rt(){return!!ze.spyListeners.length}function at(e){if(ze.spyListeners.length)for(var t=ze.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function ot(e){at(L(L({},e),{spyReportStart:!0}))}var it={spyReportEnd:!0};function st(e){at(e?L(L({},e),{spyReportEnd:!0}):it)}function lt(e){return ze.spyListeners.push(e),d((function(){ze.spyListeners=ze.spyListeners.filter((function(t){return t!==e}))}))}function ct(){c(!1)}function ut(e){return function(t,n,r){if(r){if(r.value)return{value:xe(e,r.value),enumerable:!1,configurable:!0,writable:!0};var a=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return xe(e,a.call(this))}}}return function(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){m(this,n,dt(e,t))}})}}(e).apply(this,arguments)}}var dt=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?xe(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?xe(e,t):1===arguments.length&&"string"==typeof e?ut(e):!0!==r?ut(t).apply(null,arguments):void(e[t]=xe(e.name||t,n.value))};function ft(e,t){return Oe("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t,this,void 0)}function pt(e){return"function"==typeof e&&!0===e.isMobxAction}function ht(e,t,n){m(e,t,xe(t,n.bind(e)))}function mt(e,t){void 0===t&&(t=o);var n,r=t&&t.name||e.name||"Autorun@"+l();if(t.scheduler||t.delay){var a=gt(t),i=!1;n=new Xe(r,(function(){i||(i=!0,a((function(){i=!1,n.isDisposed||n.track(s)})))}),t.onError,t.requiresObservable)}else n=new Xe(r,(function(){this.track(s)}),t.onError,t.requiresObservable);function s(){e(n)}return n.schedule(),n.getDisposer()}dt.bound=function(e,t,n,r){return!0===r?(ht(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return ht(this,t,n.value||n.initializer.call(this)),this[t]},set:ct}:{enumerable:!1,configurable:!0,set:function(e){ht(this,t,e)},get:function(){}}};var _t=function(e){return e()};function gt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:_t}function bt(e,t,n){void 0===n&&(n=o),"boolean"==typeof n&&(n={fireImmediately:n});var r,a,i,s=n.name||"Reaction@"+l(),c=dt(s,n.onError?(r=n.onError,a=t,function(){try{return a.apply(this,arguments)}catch(e){r.call(this,e)}}):t),u=!n.scheduler&&!n.delay,d=gt(n),f=!0,p=!1,h=n.compareStructural?P.structural:n.equals||P.default,m=new Xe(s,(function(){f||u?_():p||(p=!0,d(_))}),n.onError,n.requiresObservable);function _(){if(p=!1,!m.isDisposed){var t=!1;m.track((function(){var n=e(m);t=f||!h(i,n),i=n})),f&&n.fireImmediately&&c(i,m),f||!0!==t||c(i,m),f&&(f=!1)}}return m.schedule(),m.getDisposer()}function yt(e,t,n){return At("onBecomeObserved",e,t,n)}function vt(e,t,n){return At("onBecomeUnobserved",e,t,n)}function At(e,t,n,r){var a="function"==typeof r?zn(t,n):zn(t),o="function"==typeof r?r:n,i=a[e];return"function"!=typeof i?c(!1):(a[e]=function(){i.call(this),o.call(this)},function(){a[e]=i})}function wt(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,a=e.disableErrorBoundaries,o=e.arrayBuffer,i=e.reactionScheduler,l=e.reactionRequiresObservable,u=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((ze.pendingReactions.length||ze.inBatch||ze.isRunningReactions)&&c("isolateGlobalState should be called before MobX is running any reactions"),Fe=!0,Re&&(0==--s().__mobxInstanceCount&&(s().__mobxGlobals=void 0),ze=new Ue)),void 0!==t){var d=void 0;switch(t){case!0:case"observed":d=!0;break;case!1:case"never":d=!1;break;case"strict":case"always":d="strict";break;default:c("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}ze.enforceActions=d,ze.allowStateChanges=!0!==d&&"strict"!==d}void 0!==n&&(ze.computedRequiresReaction=!!n),void 0!==l&&(ze.reactionRequiresObservable=!!l),void 0!==u&&(ze.observableRequiresReaction=!!u,ze.allowStateReads=!ze.observableRequiresReaction),void 0!==r&&(ze.computedConfigurable=!!r),void 0!==a&&(!0===a&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),ze.disableErrorBoundaries=!!a),"number"==typeof o&&kn(o),i&&function(e){var t=Ze;Ze=function(n){return e((function(){return t(n)}))}}(i)}function kt(e,t){var n="function"==typeof e?e.prototype:e,r=function(e){var r=t[e];Array.isArray(r)||(r=[r]);var a=Object.getOwnPropertyDescriptor(n,e),o=r.reduce((function(t,r){return r(n,e,t)}),a);o&&Object.defineProperty(n,e,o)};for(var a in t)r(a);return e}function Et(e,t,n){return xt(e,t,n,G)}function xt(e,t,n,r){var a=(r=V(r)).defaultDecorator||(!1===r.deep?Z:X);Q(e),Pn(e,r.name,a.enhancer),qe();try{for(var o=Object.getOwnPropertyNames(t),i=0,s=o.length;i<s;i++){var l=o[i],c=Object.getOwnPropertyDescriptor(t,l),u=(n&&l in n?n[l]:c.get?ie:a)(e,l,c,!0);u&&Object.defineProperty(e,l,u)}}finally{Ge()}return e}function Ot(e,t){return Ct(zn(e,t))}function Ct(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(Ct)),r}function jt(e,t){return Dt(zn(e,t))}function Dt(e){var t,n={name:e.name};return(t=e).observers&&t.observers.length>0&&(n.observers=function(e){return e.observers}(e).map(Dt)),n}var Nt=0;function St(){this.message="FLOW_CANCELLED"}function Tt(e){return e instanceof St}function Mt(e){1!==arguments.length&&c("Flow expects one 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=arguments,a=++Nt,o=dt(t+" - runid: "+a+" - init",e).apply(this,r),i=void 0,s=new Promise((function(e,r){var s=0;function l(e){var n;i=void 0;try{n=dt(t+" - runid: "+a+" - yield "+s++,o.next).call(o,e)}catch(e){return r(e)}u(n)}function c(e){var n;i=void 0;try{n=dt(t+" - runid: "+a+" - yield "+s++,o.throw).call(o,e)}catch(e){return r(e)}u(n)}function u(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(i=Promise.resolve(t.value)).then(l,c);t.then(u,r)}n=r,l(void 0)}));return s.cancel=dt(t+" - runid: "+a+" - cancel",(function(){try{i&&Pt(i);var e=o.return(void 0),t=Promise.resolve(e.value);t.then(f,f),Pt(t),n(new St)}catch(e){n(e)}})),s}}function Pt(e){"function"==typeof e.cancel&&e.cancel()}function Bt(e,t,n){var r;if(Dn(e)||xn(e)||Pe(e))r=Qn(e);else{if(!Fn(e))return c(!1);if("string"!=typeof t)return c(!1);r=Qn(e,t)}return void 0!==r.dehancer?c(!1):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})}function It(e,t,n){return"function"==typeof n?function(e,t,n){return Qn(e,t).intercept(n)}(e,t,n):function(e,t){return Qn(e).intercept(t)}(e,t)}function Lt(e,t){if(null==e)return!1;if(void 0!==t){if(!1===Fn(e))return!1;if(!e.$mobx.values[t])return!1;var n=zn(e,t);return Ie(n)}return Ie(e)}function Ut(e){return arguments.length>1?c(!1):Lt(e)}function Rt(e,t){return"string"!=typeof t?c(!1):Lt(e,t)}function Ft(e,t){if(null==e)return!1;if(void 0!==t){if(Fn(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return Fn(e)||!!e.$mobx||S(e)||nt(e)||Ie(e)}function zt(e){return 1!==arguments.length&&c(!1),Ft(e)}function Qt(e,t){return"string"!=typeof t?c(!1):Ft(e,t)}function Ht(e){return Fn(e)?e.$mobx.getKeys():Dn(e)||Tn(e)?A(e.keys()):xn(e)?e.map((function(e,t){return t})):c(!1)}function Yt(e){return Fn(e)?Ht(e).map((function(t){return e[t]})):Dn(e)?Ht(e).map((function(t){return e.get(t)})):Tn(e)?A(e.values()):xn(e)?e.slice():c(!1)}function Kt(e){return Fn(e)?Ht(e).map((function(t){return[t,e[t]]})):Dn(e)?Ht(e).map((function(t){return[t,e.get(t)]})):Tn(e)?A(e.entries()):xn(e)?e.map((function(e,t){return[t,e]})):c(!1)}function Wt(e,t,n){if(2!==arguments.length||Tn(e))if(Fn(e)){var r=e.$mobx;r.values[t]?r.write(e,t,n):Bn(e,t,n,r.defaultEnhancer)}else if(Dn(e))e.set(t,n);else if(Tn(e))e.add(t);else{if(!xn(e))return c(!1);"number"!=typeof t&&(t=parseInt(t,10)),u(t>=0,"Not a valid index: '"+t+"'"),qe(),t>=e.length&&(e.length=t+1),e[t]=n,Ge()}else{qe();var a=t;try{for(var o in a)Wt(e,o,a[o])}finally{Ge()}}}function qt(e,t){if(Fn(e))e.$mobx.remove(t);else if(Dn(e))e.delete(t);else if(Tn(e))e.delete(t);else{if(!xn(e))return c(!1);"number"!=typeof t&&(t=parseInt(t,10)),u(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}}function Gt(e,t){if(Fn(e)){var n=Qn(e);return n.getKeys(),!!n.values[t]}return Dn(e)||Tn(e)?e.has(t):xn(e)?t>=0&&t<e.length:c(!1)}function Vt(e,t){if(Gt(e,t))return Fn(e)?e[t]:Dn(e)?e.get(t):xn(e)?e[t]:c(!1)}function $t(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return Qn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return Qn(e).observe(t,n)}(e,t,n)}St.prototype=Object.create(Error.prototype);var Xt={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Jt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Zt(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Xt),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!zt(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Pe(t))return e(t.get(),n,r);if(zt(t)&&Ht(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(xn(t)||Array.isArray(t)){var a=Jt(r,t,[],n),o=t.map((function(t){return e(t,n,r)}));a.length=o.length;for(var i=0,s=o.length;i<s;i++)a[i]=o[i];return a}if(Tn(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){var l=Jt(r,t,new Set,n);return t.forEach((function(t){l.add(e(t,n,r))})),l}var c=Jt(r,t,[],n);return t.forEach((function(t){c.push(e(t,n,r))})),c}if(Dn(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var u=Jt(r,t,new Map,n);return t.forEach((function(t,a){u.set(a,e(t,n,r))})),u}var d=Jt(r,t,{},n);return t.forEach((function(t,a){d[a]=e(t,n,r)})),d}var f=Jt(r,t,{},n);for(var p in t)f[p]=e(t[p],n,r);return f}(e,t,n)}function en(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=function(e){switch(e.length){case 0:return ze.trackingDerivation;case 1:return zn(e[0]);case 2:return zn(e[0],e[1])}}(e);if(!r)return c(!1);r.isTracing===oe.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?oe.BREAK:oe.LOG}function tn(e,t){void 0===t&&(t=void 0),qe();try{return e.apply(t)}finally{Ge()}}function nn(e,t,n){return 1===arguments.length||t&&"object"==typeof t?function(e,t){var n,r=new Promise((function(r,a){var o=rn(e,r,L(L({},t),{onError:a}));n=function(){o(),a("WHEN_CANCELLED")}}));return r.cancel=n,r}(e,t):rn(e,t,n||{})}function rn(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!o.$mobx.isDisposed){o();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+l();var a=xe(n.name+"-effect",t),o=mt((function(t){e()&&(t.dispose(),r&&clearTimeout(r),a())}),n);return o}function an(e){return void 0!==e.interceptors&&e.interceptors.length>0}function on(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),d((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function sn(e,t){var n=ge();try{var r=e.interceptors;if(r)for(var a=0,o=r.length;a<o&&(u(!(t=r[a](t))||t.type,"Intercept handlers should return nothing or a change object"),t);a++);return t}finally{be(n)}}function ln(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function cn(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),d((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function un(e,t){var n=ge(),r=e.changeListeners;if(r){for(var a=0,o=(r=r.slice()).length;a<o;a++)r[a](t);be(n)}}var dn,fn,pn,hn,mn=(dn=!1,fn={},Object.defineProperty(fn,"0",{set:function(){dn=!0}}),Object.create(fn)[0]=1,!1===dn),_n=0,gn=function(){};pn=gn,hn=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(pn.prototype,hn):void 0!==pn.prototype.__proto__?pn.prototype.__proto__=hn:pn.prototype=hn,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(gn.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var bn=function(){function e(e,t,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new N(e||"ObservableArray@"+l()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return on(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),cn(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>_n&&kn(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var r=this;pe(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=a),an(this)){var i=sn(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!i)return a;t=i.removedCount,n=i.added}var s=(n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}))).length-t;this.updateArrayLength(o,s);var l=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,l),this.dehanceValues(l)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,R([e,t],n));var a=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),a},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&rt(),a=ln(this),o=a||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;r&&ot(L(L({},o),{name:this.atom.name})),this.atom.reportChanged(),a&&un(this,o),r&&st()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&rt(),a=ln(this),o=a||r?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&ot(L(L({},o),{name:this.atom.name})),this.atom.reportChanged(),a&&un(this,o),r&&st()},e}(),yn=function(e){function t(t,n,r,a){void 0===r&&(r="ObservableArray@"+l()),void 0===a&&(a=!1);var o=e.call(this)||this,i=new bn(r,n,o,a);if(_(o,"$mobx",i),t&&t.length){var s=Ne(!0);o.spliceWithArray(0,0,t),Se(s)}return mn&&Object.defineProperty(i.array,"0",vn),o}return I(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return xn(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var r=this.peek(),a=r.length,o=n;o<a;o++)if(e.call(t,r[o],o,this))return o;return-1},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var r,a=this.$mobx.values;r=e<t?R(a.slice(0,e),a.slice(e+1,t+1),[a[e]],a.slice(t+1)):R(a.slice(0,t),[a[e]],a.slice(t,e),a.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,r=n.values;if(e<r.length){pe(n.atom);var a=r[e];if(an(n)){var o=sn(n,{type:"update",object:this,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,a))!==a&&(r[e]=t,n.notifyArrayChildUpdate(e,t,a))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}},t}(gn);O(yn.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return C({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(yn.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),m(yn.prototype,j(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];u("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),m(yn.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(e){u("function"==typeof Array.prototype[e],"Base function not defined on Array prototype: '"+e+"'"),m(yn.prototype,e,(function(t,n){var r=this,a=this.$mobx;return a.atom.reportObserved(),a.dehanceValues(a.values)[e]((function(e,a){return t.call(n,e,a,r)}),n)}))})),["reduce","reduceRight"].forEach((function(e){m(yn.prototype,e,(function(){var t=this,n=this.$mobx;n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,a,o){return a=n.dehanceValue(a),r(e,a,o,t)},n.values[e].apply(n.values,arguments)}))})),function(e,t){for(var n=0;n<t.length;n++)m(e,t[n],e[t[n]])}(yn.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var vn=An(0);function An(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function wn(e){Object.defineProperty(yn.prototype,""+e,An(e))}function kn(e){for(var t=_n;t<e;t++)wn(t);_n=e}kn(1e3);var En=g("ObservableArrayAdministration",bn);function xn(e){return p(e)&&En(e.$mobx)}var On={},Cn=function(){function e(e,t,n){if(void 0===t&&(t=Y),void 0===n&&(n="ObservableMap@"+l()),this.enhancer=t,this.name=n,this.$mobx=On,this._keysAtom=T(this.name+".keys()"),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!ze.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Me(this._has(e),K,this.name+"."+jn(e)+"?",!1);this._hasMap.set(e,r),vt(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(an(this)){var r=sn(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(pe(this._keysAtom),an(this)&&!(a=sn(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=rt(),r=ln(this),a=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&ot(L(L({},a),{name:this.name,key:e})),tn((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&un(this,a),n&&st(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==ze.UNCHANGED){var r=rt(),a=ln(this),o=a||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&ot(L(L({},o),{name:this.name,key:e})),n.setNewValue(t),a&&un(this,o),r&&st()}},e.prototype._addValue=function(e,t){var n=this;pe(this._keysAtom),tn((function(){var r=new Me(t,n.enhancer,n.name+"."+jn(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=rt(),a=ln(this),o=a||r?{type:"add",object:this,name:e,newValue:t}:null;r&&ot(L(L({},o),{name:this.name,key:e})),a&&un(this,o),r&&st()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return C({next:function(){var n=t.next(),r=n.done,a=n.value;return{done:r,value:r?void 0:e.get(a)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return C({next:function(){var n=t.next(),r=n.done,a=n.value;return{done:r,value:r?void 0:[a,e.get(a)]}}})},e.prototype.forEach=function(e,t){var n=this;this._keysAtom.reportObserved(),this._data.forEach((function(r,a){return e.call(t,n.get(a),a,n)}))},e.prototype.merge=function(e){var t=this;return Dn(e)&&(e=e.toJS()),tn((function(){var n=Ne(!0);try{h(e)?Object.keys(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=U(e,2),r=n[0],a=n[1];return t.set(r,a)})):y(e)?e.constructor!==Map?c("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,n){return t.set(n,e)})):null!=e&&c("Cannot initialize map from "+e)}finally{Se(n)}})),this},e.prototype.clear=function(){var e=this;tn((function(){_e((function(){e._data.forEach((function(t,n){return e.delete(n)}))}))}))},e.prototype.replace=function(e){var t=this;return tn((function(){var n=function(e){if(y(e)||Dn(e))return e;if(Array.isArray(e))return new Map(e);if(h(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return c("Cannot convert to map from '"+e+"'")}(e),r=new Map,a=!1;if(E(t._data.keys(),(function(e){if(!n.has(e))if(t.delete(e))a=!0;else{var o=t._data.get(e);r.set(e,o)}})),E(n.entries(),(function(e){var n=U(e,2),o=n[0],i=n[1],s=t._data.has(o);if(t.set(o,i),t._data.has(o)){var l=t._data.get(o);r.set(o,l),s||(a=!0)}})),!a)if(t._data.size!==r.size)t._keysAtom.reportChanged();else for(var o=t._data.keys(),i=r.keys(),s=o.next(),l=i.next();!s.done;){if(s.value!==l.value){t._keysAtom.reportChanged();break}s=o.next(),l=i.next()}t._data=r})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this.forEach((function(n,r){return t["symbol"==typeof r?r:jn(r)]=e.get(r)})),t},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+A(this.keys()).map((function(t){return jn(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return cn(this,e)},e.prototype.intercept=function(e){return on(this,e)},e}();function jn(e){return e&&e.toString?e.toString():new String(e).toString()}O(Cn.prototype,(function(){return this.entries()})),_(Cn.prototype,j(),"Map");var Dn=g("ObservableMap",Cn),Nn={},Sn=function(){function e(e,t,n){if(void 0===t&&(t=Y),void 0===n&&(n="ObservableSet@"+l()),this.name=n,this.$mobx=Nn,this._data=new Set,this._atom=T(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;tn((function(){_e((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var n=this;this._atom.reportObserved(),this._data.forEach((function(r){e.call(t,r,r,n)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(pe(this._atom),an(this)&&!(a=sn(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){tn((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=rt(),r=ln(this),a=r||n?{type:"add",object:this,newValue:e}:null;r&&un(this,a)}return this},e.prototype.delete=function(e){var t=this;if(an(this)&&!(a=sn(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=rt(),r=ln(this),a=r||n?{type:"delete",object:this,oldValue:e}:null;return tn((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&un(this,a),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=A(this.keys()),n=A(this.values());return C({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=A(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),C({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return Tn(e)&&(e=e.toJS()),tn((function(){var n=Ne(!0);try{Array.isArray(e)||v(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&c("Cannot initialize set from "+e)}finally{Se(n)}})),this},e.prototype.observe=function(e,t){return cn(this,e)},e.prototype.intercept=function(e){return on(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+A(this.keys()).join(", ")+" ]"},e}();O(Sn.prototype,(function(){return this.values()})),_(Sn.prototype,j(),"Set");var Tn=g("ObservableSet",Sn),Mn=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var r=this.target;r!==e&&this.illegalAccess(e,t);var a=this.values[t];if(a instanceof Be)a.set(n);else{if(an(this)){if(!(s=sn(this,{type:"update",object:r,name:t,newValue:n})))return;n=s.newValue}if((n=a.prepareNewValue(n))!==ze.UNCHANGED){var o=ln(this),i=rt(),s=o||i?{type:"update",object:r,oldValue:a.value,name:t,newValue:n}:null;i&&ot(L(L({},s),{name:this.name,key:t})),a.setNewValue(n),o&&un(this,s),i&&st()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(an(this)&&!(o=sn(this,{object:t,name:e,type:"remove"})))return;try{qe();var n=ln(this),r=rt(),a=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var o=n||r?{type:"remove",object:t,oldValue:a,name:e}:null;r&&ot(L(L({},o),{name:this.name,key:e})),n&&un(this,o),r&&st()}finally{Ge()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return cn(this,e)},e.prototype.intercept=function(e){return on(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new yn(Object.keys(this.values).filter((function(t){return e.values[t]instanceof Me})),K,"keys("+this.name+")",!0)),this.keys.slice()},e}();function Pn(e,t,n){void 0===t&&(t=""),void 0===n&&(n=Y);var r=e.$mobx;return r||(h(e)||(t=(e.constructor.name||"ObservableObject")+"@"+l()),t||(t="ObservableObject@"+l()),_(e,"$mobx",r=new Mn(e,t,n)),r)}function Bn(e,t,n,r){var a=Pn(e);if(an(a)){var o=sn(a,{object:e,name:t,type:"add",newValue:n});if(!o)return;n=o.newValue}n=(a.values[t]=new Me(n,r,a.name+"."+t,!1)).value,Object.defineProperty(e,t,function(e){return In[e]||(In[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),a.keys&&a.keys.push(t),function(e,t,n,r){var a=ln(e),o=rt(),i=a||o?{type:"add",object:t,name:n,newValue:r}:null;o&&ot(L(L({},i),{name:e.name,key:n})),a&&un(e,i),o&&st()}(a,e,t,n)}var In=Object.create(null),Ln=Object.create(null);function Un(e){return e.$mobx||(Q(e),e.$mobx)}var Rn=g("ObservableObjectAdministration",Mn);function Fn(e){return!!p(e)&&(Q(e),Rn(e.$mobx))}function zn(e,t){if("object"==typeof e&&null!==e){if(xn(e))return void 0!==t&&c(!1),e.$mobx.atom;if(Tn(e))return e.$mobx;if(Dn(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||c(!1),r)}var r;if(Q(e),t&&!e.$mobx&&e[t],Fn(e))return t?((r=e.$mobx.values[t])||c(!1),r):c(!1);if(S(e)||Ie(e)||nt(e))return e}else if("function"==typeof e&&nt(e.$mobx))return e.$mobx;return c(!1)}function Qn(e,t){return e||c("Expecting some object"),void 0!==t?Qn(zn(e,t)):S(e)||Ie(e)||nt(e)||Dn(e)||Tn(e)?e:(Q(e),e.$mobx?e.$mobx:void c(!1))}function Hn(e,t){return(void 0!==t?zn(e,t):Fn(e)||Dn(e)||Tn(e)?Qn(e):zn(e)).name}var Yn=Object.prototype.toString;function Kn(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,a,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var i=typeof t;if("function"!==i&&"object"!==i&&"object"!=typeof n)return!1;t=Wn(t),n=Wn(n);var s=Yn.call(t);if(s!==Yn.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var l="[object Array]"===s;if(!l){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,u=n.constructor;if(c!==u&&!("function"==typeof c&&c instanceof c&&"function"==typeof u&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1),o=o||[];for(var d=(a=a||[]).length;d--;)if(a[d]===t)return o[d]===n;if(a.push(t),o.push(n),l){if((d=t.length)!==n.length)return!1;for(;d--;)if(!e(t[d],n[d],r-1,a,o))return!1}else{var f=Object.keys(t),p=void 0;if(d=f.length,Object.keys(n).length!==d)return!1;for(;d--;)if(!qn(n,p=f[d])||!e(t[p],n[p],r-1,a,o))return!1}return a.pop(),o.pop(),!0}(e,t,n)}function Wn(e){return xn(e)?e.peek():y(e)||Dn(e)||v(e)||Tn(e)?A(e.entries()):e}function qn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Gn="$mobx";"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:lt,extras:{getDebugName:Hn},$mobx:Gn})}.call(this,n(54),n(148))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(2);function a(e){Object(r.a)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},function(e,t,n){"use strict";n.d(t,"w",(function(){return a})),n.d(t,"a",(function(){return ve})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return we})),n.d(t,"d",(function(){return ye})),n.d(t,"e",(function(){return q})),n.d(t,"f",(function(){return fe})),n.d(t,"g",(function(){return Pe})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return Fe})),n.d(t,"j",(function(){return Ue})),n.d(t,"k",(function(){return O})),n.d(t,"l",(function(){return C})),n.d(t,"m",(function(){return D})),n.d(t,"n",(function(){return N})),n.d(t,"o",(function(){return Q})),n.d(t,"p",(function(){return be})),n.d(t,"q",(function(){return ge})),n.d(t,"r",(function(){return _e})),n.d(t,"s",(function(){return E})),n.d(t,"t",(function(){return ze})),n.d(t,"u",(function(){return x})),n.d(t,"v",(function(){return w})),n.d(t,"x",(function(){return ke})),n.d(t,"y",(function(){return j})),n.d(t,"z",(function(){return He})),n.d(t,"A",(function(){return Qe})),n.d(t,"B",(function(){return Ye})),n.d(t,"C",(function(){return Ke})),n.d(t,"D",(function(){return qe}));let r=y();const a=e=>m(e,r);let o=y();a.write=e=>m(e,o);let i=y();a.onStart=e=>m(e,i);let s=y();a.onFrame=e=>m(e,s);let l=y();a.onFinish=e=>m(e,l);let c=[];a.setTimeout=(e,t)=>{let n=a.now()+t,r=()=>{let e=c.findIndex(e=>e.cancel==r);~e&&c.splice(e,1),p-=~e?1:0},o={time:n,handler:e,cancel:r};return c.splice(u(n),0,o),p+=1,_(),o};let u=e=>~(~c.findIndex(t=>t.time>e)||~c.length);a.cancel=e=>{i.delete(e),s.delete(e),r.delete(e),o.delete(e),l.delete(e)},a.sync=e=>{h=!0,a.batchedUpdates(e),h=!1},a.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...e){t=e,a.onStart(n)}return r.handler=e,r.cancel=()=>{i.delete(n),t=null},r};let d="undefined"!=typeof window?window.requestAnimationFrame:()=>{};a.use=e=>d=e,a.now="undefined"!=typeof performance?()=>performance.now():Date.now,a.batchedUpdates=e=>e(),a.catch=console.error,a.frameLoop="always",a.advance=()=>{"demand"!==a.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):b()};let f=-1,p=0,h=!1;function m(e,t){h?(t.delete(e),e(0)):(t.add(e),_())}function _(){f<0&&(f=0,"demand"!==a.frameLoop&&d(g))}function g(){~f&&(d(g),a.batchedUpdates(b))}function b(){let e=f;f=a.now();let t=u(f);t&&(v(c.splice(0,t),e=>e.handler()),p-=t),i.flush(),r.flush(e?Math.min(64,f-e):16.667),s.flush(),o.flush(),l.flush(),p||(f=-1)}function y(){let e=new Set,t=e;return{add(n){p+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(p-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,p-=t.size,v(t,t=>t(n)&&e.add(t)),p+=e.size,t=e)}}}function v(e,t){e.forEach(e=>{try{t(e)}catch(e){a.catch(e)}})}var A=n(0);function w(){}const k=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),E={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function x(e,t){if(E.arr(e)){if(!E.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}const O=(e,t)=>e.forEach(t);function C(e,t,n){if(E.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],""+r);else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}const j=e=>E.und(e)?[]:E.arr(e)?e:[e];function D(e,t){if(e.size){const n=Array.from(e);e.clear(),O(n,t)}}const N=(e,...t)=>D(e,e=>e(...t)),S=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let T,M,P=null,B=!1,I=w;var L=Object.freeze({__proto__:null,get createStringInterpolator(){return T},get to(){return M},get colors(){return P},get skipAnimation(){return B},get willAdvance(){return I},assign:e=>{e.to&&(M=e.to),e.now&&(a.now=e.now),void 0!==e.colors&&(P=e.colors),null!=e.skipAnimation&&(B=e.skipAnimation),e.createStringInterpolator&&(T=e.createStringInterpolator),e.requestAnimationFrame&&a.use(e.requestAnimationFrame),e.batchedUpdates&&(a.batchedUpdates=e.batchedUpdates),e.willAdvance&&(I=e.willAdvance),e.frameLoop&&(a.frameLoop=e.frameLoop)}});const U=new Set;let R=[],F=[],z=0;const Q={get idle(){return!U.size&&!R.length},start(e){z>e.priority?(U.add(e),a.onStart(H)):(Y(e),a(W))},advance:W,sort(e){if(z)a.onFrame(()=>Q.sort(e));else{const t=R.indexOf(e);~t&&(R.splice(t,1),K(e))}},clear(){R=[],U.clear()}};function H(){U.forEach(Y),U.clear(),a(W)}function Y(e){R.includes(e)||K(e)}function K(e){R.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(R,t=>t.priority>e.priority),0,e)}function W(e){const t=F;for(let n=0;n<R.length;n++){const r=R[n];z=r.priority,r.idle||(I(r),r.advance(e),r.idle||t.push(r))}return z=0,(F=R).length=0,(R=t).length>0}const q={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},G="[-+]?\\d*\\.?\\d+",V=G+"%";function $(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const X=new RegExp("rgb"+$(G,G,G)),J=new RegExp("rgba"+$(G,G,G,G)),Z=new RegExp("hsl"+$(G,V,V)),ee=new RegExp("hsla"+$(G,V,V,G)),te=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ne=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,re=/^#([0-9a-fA-F]{6})$/,ae=/^#([0-9a-fA-F]{8})$/;function oe(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ie(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r,o=oe(a,r,e+1/3),i=oe(a,r,e),s=oe(a,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*i)<<16|Math.round(255*s)<<8}function se(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function le(e){return(parseFloat(e)%360+360)%360/360}function ce(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function ue(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function de(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=re.exec(e))?parseInt(t[1]+"ff",16)>>>0:P&&void 0!==P[e]?P[e]:(t=X.exec(e))?(se(t[1])<<24|se(t[2])<<16|se(t[3])<<8|255)>>>0:(t=J.exec(e))?(se(t[1])<<24|se(t[2])<<16|se(t[3])<<8|ce(t[4]))>>>0:(t=te.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ae.exec(e))?parseInt(t[1],16)>>>0:(t=ne.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Z.exec(e))?(255|ie(le(t[1]),ue(t[2]),ue(t[3])))>>>0:(t=ee.exec(e))?(ie(le(t[1]),ue(t[2]),ue(t[3]))|ce(t[4]))>>>0:null}(e);return null===t?e:`rgba(${(4278190080&(t=t||0))>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`}const fe=(e,t,n)=>{if(E.fun(e))return e;if(E.arr(e))return fe({range:e,output:t,extrapolate:n});if(E.str(e.output[0]))return T(e);const r=e,a=r.output,o=r.range||[0,1],i=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,a,o,i,s,l){let c=l?l(e):e;if(c<t){if("identity"===i)return c;"clamp"===i&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}return r===a?r:t===n?e<=t?r:a:(t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t),c=o(c),r===-1/0?c=-c:a===1/0?c+=r:c=c*(a-r)+r,c)}(e,o[t],o[t+1],a[t],a[t+1],l,i,s,r.map)}};function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const he=Symbol.for("FluidValue.get"),me=Symbol.for("FluidValue.observers"),_e=e=>Boolean(e&&e[he]),ge=e=>e&&e[he]?e[he]():e,be=e=>e[me]||null;function ye(e,t){let n=e[me];n&&n.forEach(e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)})}class ve{constructor(e){if(this[he]=void 0,this[me]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Ae(this,e)}}const Ae=(e,t)=>Ee(e,he,t);function we(e,t){if(e[he]){let n=e[me];n||Ee(e,me,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function ke(e,t){let n=e[me];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[me]=null,e.observerRemoved&&e.observerRemoved(r,t)}}const Ee=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),xe=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Oe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ce=new RegExp(`(${xe.source})(%|[a-z]+)`,"i"),je=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,De=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ne=e=>{const[t,n]=Se(e);if(!t||S())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){return window.getComputedStyle(document.documentElement).getPropertyValue(n)||e}return n&&De.test(n)?Ne(n):n||e},Se=e=>{const t=De.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]};let Te;const Me=(e,t,n,r,a)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${a})`,Pe=e=>{Te||(Te=P?new RegExp(`(${Object.keys(P).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(e=>ge(e).replace(De,Ne).replace(Oe,de).replace(Te,de)),n=t.map(e=>e.match(xe).map(Number)),r=n[0].map((e,t)=>n.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>fe(pe({},e,{output:t})));return e=>{var n;const a=!Ce.test(t[0])&&(null==(n=t.find(e=>Ce.test(e)))?void 0:n.replace(xe,""));let o=0;return t[0].replace(xe,()=>`${r[o++](e)}${a||""}`).replace(je,Me)}},Be="react-spring: ",Ie=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(Be+"once requires a function parameter");return(...e)=>{n||(t(...e),n=!0)}},Le=Ie(console.warn);function Ue(){Le(Be+'The "interpolate" function is deprecated in v9 (use "to" instead)')}const Re=Ie(console.warn);function Fe(){Re(Be+'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions')}function ze(e){return E.str(e)&&("#"==e[0]||/\d/.test(e)||!S()&&De.test(e)||e in(P||{}))}const Qe="undefined"!=typeof window&&window.document&&window.document.createElement?A.useLayoutEffect:A.useEffect;function He(){const e=Object(A.useState)()[1],t=(()=>{const e=Object(A.useRef)(!1);return Qe(()=>(e.current=!0,()=>{e.current=!1}),[]),e})();return()=>{t.current&&e(Math.random())}}function Ye(e,t){const[n]=Object(A.useState)(()=>({inputs:t,result:e()})),r=Object(A.useRef)(),a=r.current;let o=a;return o?Boolean(t&&o.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.inputs))||(o={inputs:t,result:e()}):o=n,Object(A.useEffect)(()=>{r.current=o,a==n&&(n.inputs=n.result=void 0)},[o]),o.result}const Ke=e=>Object(A.useEffect)(e,We),We=[];function qe(e){const t=Object(A.useRef)();return Object(A.useEffect)(()=>{t.current=e}),t.current}},function(e,t,n){"use strict";n.r(t),n.d(t,"propTypes",(function(){return z})),n.d(t,"PropTypes",(function(){return z})),n.d(t,"onError",(function(){return Me})),n.d(t,"observer",(function(){return ve})),n.d(t,"Observer",(function(){return Ae})),n.d(t,"renderReporter",(function(){return ie})),n.d(t,"componentByNodeRegistery",(function(){return oe})),n.d(t,"componentByNodeRegistry",(function(){return oe})),n.d(t,"trackComponents",(function(){return pe})),n.d(t,"useStaticRendering",(function(){return he})),n.d(t,"Provider",(function(){return Ce})),n.d(t,"inject",(function(){return Z})),n.d(t,"disposeOnUnmount",(function(){return Te}));var r=n(3),a=n(0),o=n.n(a),i=n(15);
/** @license mobx-react v5.4.4
 * index.module.js
 *
 * Copyright (c) 2015 Michel Weststrate.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){return e(t={exports:{}},t.exports),t.exports}var _,g=m((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case i:return e;default:switch(e=e&&e.$$typeof){case c:case f:case l:return e;default:return t}}case a:return t}}}function g(e){return _(e)===d}t.typeOf=_,t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Profiler=s,t.Portal=a,t.StrictMode=i,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===i||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f)},t.isAsyncMode=function(e){return g(e)||_(e)===u},t.isConcurrentMode=g,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===s},t.isPortal=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===i}}));(_=g)&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")&&_.default,g.typeOf,g.AsyncMode,g.ConcurrentMode,g.ContextConsumer,g.ContextProvider,g.Element,g.ForwardRef,g.Fragment,g.Profiler,g.Portal,g.StrictMode,g.isValidElementType,g.isAsyncMode,g.isConcurrentMode,g.isContextConsumer,g.isContextProvider,g.isElement,g.isForwardRef,g.isFragment,g.isProfiler,g.isPortal,g.isStrictMode;var b=m((function(e){e.exports=g})),y={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},v={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},A={};A[b.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var w=Object.defineProperty,k=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols,x=Object.getOwnPropertyDescriptor,O=Object.getPrototypeOf,C=Object.prototype,j=function e(t,n,r){if("string"!=typeof n){if(C){var a=O(n);a&&a!==C&&e(t,a,r)}var o=k(n);E&&(o=o.concat(E(n)));for(var i=A[t.$$typeof]||y,s=A[n.$$typeof]||y,l=0;l<o.length;++l){var c=o[l];if(!(v[c]||r&&r[c]||s&&s[c]||i&&i[c])){var u=x(n,c);try{w(t,c,u)}catch(e){}}}return t}return t},D=function(){function e(){l(this,e),this.listeners=[]}return u(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}();function N(e){function t(t,n,a,o,i,s){for(var l=arguments.length,c=new Array(l>6?l-6:0),u=6;u<l;u++)c[u-6]=arguments[u];return Object(r.untracked)((function(){if(o=o||"<<anonymous>>",s=s||a,null==n[a]){if(t){var r=null===n[a]?"null":"undefined";return new Error("The "+i+" `"+s+"` is marked as required in `"+o+"`, but its value is `"+r+"`.")}return null}return e.apply(void 0,[n,a,o,i,s].concat(c))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function S(e){var t=s(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function T(e,t){return N((function(n,a,o,i,s){return Object(r.untracked)((function(){if(e&&S(n[a])===t.toLowerCase())return null;var i;switch(t){case"Array":i=r.isObservableArray;break;case"Object":i=r.isObservableObject;break;case"Map":i=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: ".concat(t))}var l=n[a];if(!i(l)){var c=function(e){var t=S(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(l),u=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+c+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+u+".")}return null}))}))}function M(e,t){return N((function(n,a,o,i,s){for(var l=arguments.length,c=new Array(l>5?l-5:0),u=5;u<l;u++)c[u-5]=arguments[u];return Object(r.untracked)((function(){if("function"!=typeof t)return new Error("Property `"+s+"` of component `"+o+"` has invalid PropType notation.");var r=T(e,"Array")(n,a,o);if(r instanceof Error)return r;for(var l=n[a],u=0;u<l.length;u++)if((r=t.apply(void 0,[l,u,o,i,s+"["+u+"]"].concat(c)))instanceof Error)return r;return null}))}))}var P=T(!1,"Array"),B=M.bind(null,!1),I=T(!1,"Map"),L=T(!1,"Object"),U=T(!0,"Array"),R=M.bind(null,!0),F=T(!0,"Object"),z=Object.freeze({observableArray:P,observableArrayOf:B,observableMap:I,observableObject:L,arrayOrObservableArray:U,arrayOrObservableArrayOf:R,objectOrObservableObject:F}),Q=0,H={};function Y(e){return H[e]||(H[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(Q,")");return Q++,t}(e)),H[e]}var K=Y("patchMixins"),W=Y("patchedDefinition");function q(e,t){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];t.locks++;try{var i;return null!=e&&(i=e.apply(this,a)),i}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,a)}))}}function G(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];q.call.apply(q,[this,e,t].concat(r))}}function V(e,t){for(var n=function(e,t){var n=e[K]=e[K]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t),r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];for(var i=0;i<a.length;i++){var s=a[i];n.methods.indexOf(s)<0&&n.methods.push(s)}var l=Object.getOwnPropertyDescriptor(e,t);if(!l||!l[W]){var c=e[t],u=function e(t,n,r,a,o){var i,s=G(o,a);return d(i={},W,!0),d(i,"get",(function(){return s})),d(i,"set",(function(o){if(this===t)s=G(o,a);else{var i=e(this,n,r,a,o);Object.defineProperty(this,n,i)}})),d(i,"configurable",!0),d(i,"enumerable",r),i}(e,t,l?l.enumerable:void 0,n,c);Object.defineProperty(e,t,u)}}var $={mobxStores:F};Object.seal($);var X={contextTypes:{get:function(){return $},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function J(e,t,n){var r="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");n&&(r+="-with-"+n);var o=function(n){function r(){var e,t;l(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=h(this,(e=p(r)).call.apply(e,[this].concat(a)))).storeRef=function(e){t.wrappedInstance=e},t}return f(r,a.Component),u(r,[{key:"render",value:function(){var n={};for(var r in this.props)this.props.hasOwnProperty(r)&&(n[r]=this.props[r]);var o=e(this.context.mobxStores||{},n,this.context)||{};for(var i in o)n[i]=o[i];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(n.ref=this.storeRef),Object(a.createElement)(t,n)}}]),r}();return o.displayName=r,j(o,t),o.wrappedComponent=t,Object.defineProperties(o,X),o}function Z(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=J(e,t);return n.isMobxInjector=!1,(n=ve(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=function(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}(t),function(n){return J(e,n,t.join("-"))}}var ee=r.$mobx||"$mobx",te=Y("isUnmounted"),ne=!1,re=!1,ae=!1,oe="undefined"!=typeof WeakMap?new WeakMap:void 0,ie=new D,se=Y("skipRender"),le=Y("isForcingUpdate"),ce="function"==typeof a.forwardRef&&Object(a.forwardRef)((function(e,t){})).$$typeof;function ue(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function de(e){if(i.findDOMNode)try{return Object(i.findDOMNode)(e)}catch(e){return null}return null}function fe(e){var t=de(e);t&&oe&&oe.set(t,e),ie.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function pe(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");ne||(ne=!0)}function he(e){re=e}var me=new D;function _e(e,t){if(ge(e,t))return!0;if("object"!==s(e)||null===e||"object"!==s(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!hasOwnProperty.call(t,n[a])||!ge(e[n[a]],t[n[a]]))return!1;return!0}function ge(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var be={componentWillUnmount:function(){if(!0!==re&&(this.render[ee]&&this.render[ee].dispose(),this[te]=!0,ne)){var e=de(this);e&&oe&&oe.delete(e),ie.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){ne&&fe(this)},componentDidUpdate:function(){ne&&fe(this)},shouldComponentUpdate:function(e,t){return re&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!_e(this.props,e)}};function ye(e,t){var n=Y("reactProp_".concat(t,"_valueHolder")),a=Y("reactProp_".concat(t,"_atomHolder"));function o(){return this[a]||ue(this,a,Object(r.createAtom)("reactive "+t)),this[a]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[n]},set:function(e){this[le]||_e(this[n],e)?ue(this,n,e):(ue(this,n,e),ue(this,se,!0),o.call(this).reportChanged(),ue(this,se,!1))}})}function ve(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return ae||(ae=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?Z.apply(null,e)(ve(t)):function(t){return ve(e,t)};var n=e;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===a.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),ce&&n.$$typeof===ce){var i=n.render;if("function"!=typeof i)throw new Error("render property of ForwardRef was not a function");return Object(a.forwardRef)((function(){var e=arguments;return o.a.createElement(Ae,null,(function(){return i.apply(void 0,e)}))}))}if(!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||a.Component.isPrototypeOf(n))){var s,c,d=ve((c=s=function(e){function t(){return l(this,t),h(this,p(t).apply(this,arguments))}return f(t,a.Component),u(t,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),t}(),s.displayName=n.displayName||n.name,s.contextTypes=n.contextTypes,s.propTypes=n.propTypes,s.defaultProps=n.defaultProps,c));return j(d,n),d}if(!n)throw new Error("Please pass a valid component to 'observer'");var m=n.prototype||n;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(t){!function(e,t){V(e,t,be[t])}(e,t)})),e.shouldComponentUpdate?e.shouldComponentUpdate!==be.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=be.shouldComponentUpdate}(m),n.isMobXReactObserver=!0,ye(m,"props"),ye(m,"state");var _=m.render;return m.render=function(){return function(e){var t=this;if(!0===re)return e.call(this);function n(){var e=this;l=!1;var t=void 0,n=void 0;if(c.track((function(){ne&&(e.__$mobRenderStart=Date.now());try{n=Object(r._allowStateChanges)(!1,s)}catch(e){t=e}ne&&(e.__$mobRenderEnd=Date.now())})),t)throw me.emit(t),t;return n}var o=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",i=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;ue(this,se,!1),ue(this,le,!1);var s=e.bind(this),l=!1,c=new r.Reaction("".concat(o,"#").concat(i,".render()"),(function(){if(!l&&(l=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t[te])){var e=!0;try{ue(t,le,!0),t[se]||a.Component.prototype.forceUpdate.call(t),e=!1}finally{ue(t,le,!1),e&&c.dispose()}}}));return c.reactComponent=this,n[ee]=c,this.render=n,n.call(this)}.call(this,_)},n}var Ae=ve((function(e){var t=e.children,n=e.inject,r=e.render,a=t||r;if(void 0===a)return null;if(!n)return a();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var i=Z(n)(a);return o.a.createElement(i,null)}));Ae.displayName="Observer";var we=function(e,t,n,r,a){var o="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[o]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[o]?new Error("Invalid prop `"+a+"` of type `"+s(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function ke(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Ee(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function xe(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Ae.propTypes={render:we,children:we},ke.__suppressDeprecationWarning=!0,Ee.__suppressDeprecationWarning=!0,xe.__suppressDeprecationWarning=!0;var Oe={children:!0,key:!0,ref:!0},Ce=function(e){function t(e,n){var r;return l(this,t),(r=h(this,p(t).call(this,e,n))).state={},je(e,r.state),r}return f(t,a.Component),u(t,[{key:"render",value:function(){return a.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return je(this.context.mobxStores,e),je(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(De).length!==Object.keys(t).filter(De).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)De(n)&&t[n]!==e[n]&&console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}();function je(e,t){if(e)for(var n in e)De(n)&&(t[n]=e[n])}function De(e){return!Oe[e]&&"suppressChangedStoreWarning"!==e}Ce.contextTypes={mobxStores:F},Ce.childContextTypes={mobxStores:F.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,a=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?a="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==a){var o=e.displayName||e.name,i="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=ke,t.componentWillReceiveProps=Ee),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=xe;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}}(Ce);var Ne=Y("disposeOnUnmount");function Se(){var e=this;this[Ne]&&(this[Ne].forEach((function(t){var n="string"==typeof t?e[t]:t;if(null!=n){if("function"!=typeof n)throw new Error("[mobx-react] disposeOnUnmount only works on functions such as disposers returned by reactions, autorun, etc.");n()}})),this[Ne]=[])}function Te(e,t){if(Array.isArray(t))return t.map((function(t){return Te(e,t)}));if(!e instanceof a.Component)throw new Error("[mobx-react] disposeOnUnmount only works on class based React components.");if("string"!=typeof t&&"function"!=typeof t)throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var n=!!e[Ne];return(e[Ne]||(e[Ne]=[])).push(t),n||V(e,"componentWillUnmount",Se),"string"!=typeof t?t:void 0}if(!a.Component)throw new Error("mobx-react requires React to be available");if(!r.spy)throw new Error("mobx-react requires mobx to be available");"function"==typeof i.unstable_batchedUpdates&&Object(r.configure)({reactionScheduler:i.unstable_batchedUpdates});var Me=function(e){return me.on(e)};if("object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":s(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var Pe={spy:r.spy,extras:{getDebugName:r.getDebugName}},Be={renderReporter:ie,componentByNodeRegistry:oe,componentByNodeRegistery:oe,trackComponents:pe};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(Be,Pe)}},function(e,t,n){"use strict";e.exports=n(647)},function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=(e=new Date(e)).getDay(),n=e.getDate()-t+(0==t?-6:1);return new Date(e.setDate(n))}function i(e,t){return moment(e).diff(moment(t),"days")}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Array.from(new Set(store.dates.userGlobalHolidays(n).slice(0))),a=0,o=moment(e).format("YYYY-MM-DD"),i=moment(t).format("YYYY-MM-DD");-1!=r.indexOf(o)?a+=1:r.push(o),-1!=r.indexOf(i)?a+=1:r.push(i),r.sort();var s=r.indexOf(o);return a+(r.indexOf(i)-s)-1}function l(e,t){var n=store.projectsettings.get_working_days(),r=Number(e.getMonth())+1;r<=9&&(r="0"+r);var a=Number(t.getMonth())+1;a<=9&&(a="0"+a);var o=Number(e.getDate());o<=9&&(o="0"+o);var i=Number(t.getDate());i<=9&&(i="0"+i);var s=moment(e.getFullYear()+"-"+r+"-"+o),l=moment(t.getFullYear()+"-"+a+"-"+i),c=Math.floor((l.diff(s,"days")+1)/7),u=(l.diff(s,"days")+1)%7,d=0,f=0;Object.keys(n).forEach((function(e){n[e]||d++}));for(var p=0;p<u;p++){var h=new Date(e);h.setDate(h.getDate()+p),n[h.getDay()]||f++}return f+c*d}function c(e,t){return moment(e).diff(moment(t),"days")+1}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t<e)return-1;if(e-t==0)return 0;e.setHours(0,0,0,1),t.setHours(23,59,59,999);var r=t-e;r-=e.getTimezoneOffset()!=t.getTimezoneOffset()?60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3:0;var a=Math.floor(r/864e5);return a<0&&(a=0),a-=s(e,t,n),(a-=l(e,t))<0&&(a=0),a}t.uuid=function(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n},t.pluralize=function(e,t){return 1===e?t:t+"s"},t.leadingZeros=function(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n},t.nameAbbreviation=function(e){if(!e)return"NN";var t="",n=(e=String(e).replace("VU: ","").trim()).split(" ")[0],r=e.split(" ")[1];return void 0!==e&&(t+=n[0]),void 0!==r&&""!=r&&(t+=r[0]),void 0!==r&&""!=r||(t+=n[1]),t},t.getDateSafely=function(e){var t=new Date;return e&&void 0!==e&&(t=new Date(e.split("-")[0],e.split("-")[1]-1,e.split("-")[2])),t},t.getMonday=o,t.daysDiff=i,t.subtractHolidays=s,t.subtractNonWorkingdaysPerformance=function(e,t){var n=store.projectsettings.get_working_days();store.uistate.working_days_arr||(store.uistate.working_days_arr=[]);var r=moment(e).format("YYYY-MM-DD"),o=moment(t).format("YYYY-MM-DD");e=moment(r).toDate(),t=moment(o).toDate();var i=[];if(-1==store.uistate.working_days_arr.indexOf(r)){for(var s,l=store.uistate.working_days_arr[0]?moment(store.uistate.working_days_arr[0]).add("days",-1).toDate():moment(t).add("days",1),c=new Date(e);c<=l;c.setDate(c.getDate()+1))if(n[c.getDay()]){var u=moment(c).format("YYYY-MM-DD");-1==i.indexOf(u)&&i.push(u)}(s=i).push.apply(s,a(store.uistate.working_days_arr)),store.uistate.working_days_arr=i.map((function(e){return e})),i=[]}if(-1==store.uistate.working_days_arr.indexOf(o)){var d,f=store.uistate.working_days_arr[store.uistate.working_days_arr.length-1]?moment(store.uistate.working_days_arr[store.uistate.working_days_arr.length-1]).add("days",1).toDate():e;for(c=new Date(f);c<=moment(o).toDate();c.setDate(c.getDate()+1))if(n[c.getDay()]){var p=moment(c).format("YYYY-MM-DD");-1==i.indexOf(p)&&i.push(p)}(d=store.uistate.working_days_arr).push.apply(d,a(i))}var h=moment(o).diff(moment(r),"days"),m=store.uistate.working_days_arr.indexOf(r);if(-1==m)for(var _=new Date(e),g=0;m<0;)if(g++,_.setDate(_.getDate()+1),m=store.uistate.working_days_arr.indexOf(moment(_).format("YYYY-MM-DD")),g>100){console.log("Break");break}var b=store.uistate.working_days_arr.indexOf(o);if(-1==b)for(var y=new Date(t),v=0;b<0;)if(v++,y.setDate(y.getDate()-1),b=store.uistate.working_days_arr.indexOf(moment(y).format("YYYY-MM-DD")),v>100){console.log("Break");break}var A=h-(b-m);return n[t.getDay()]||A--,A},t.subtractNonWorkingdays=l,t.daysBetweenTwoDates=c,t.workingDaysLength=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t<e)return-1;if(e-t==0)return 0;e.setHours(0,0,0,1),t.setHours(23,59,59,999);var r=t-e,a=e.getTimezoneOffset()!=t.getTimezoneOffset()?60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3:0;r-=a;var o=Math.floor(r/864e5);return(o-=s(e,t,n))-l(e,t)},t.workingDaysDifference=u,t.isWeekend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e._d&&(e=e._d);var n=e.getDay();return!store.projectsettings.get_working_days()[n]||-1!=store.dates.userGlobalHolidays(t).slice(0).indexOf(moment(e).format("YYYY-MM-DD"))},t.sumWorkingDays=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=moment(new Date(e)).toDate(),a=0;if(t>0)for(;u(e,new Date(r),n)<t&&(r=(r=moment(r).add("days",1)).toDate(),!(++a>1e3)););if(t<0)for(;u(new Date(r),e,n)<Math.abs(t)&&(r=(r=moment(r).add("days",-1)).toDate(),!(++a>1e3)););return r},t.metrics=function(e,t,n){var r=n.column_width,a=n.column_length,s=n.first_month_first_date;if(1==a)var l=Math.ceil(i(e,s)/a)*r,u=Math.ceil(c(t,e)/a)*r;else l=Math.floor(i(o(e),o(s))/a)*r,u=Math.ceil(c(o(t),o(e))/a)*r;return{initial_margin:l,duration:u}},t.buildDates=function(e,t,n){var r=Math.floor(e/n.column_width),a=Math.floor(r+t/n.column_width)-1;if(1==n.column_length)var i=moment(moment(n.first_month_first_date)).add("days",r).format("YYYY-MM-DD"),s=moment(moment(n.first_month_first_date)).add("days",a).format("YYYY-MM-DD");else{var l=o(n.first_month_first_date);i=moment(moment(l)).add("days",7*r).format("YYYY-MM-DD"),s=moment(moment(l)).add("days",7*a+4).format("YYYY-MM-DD")}return{start:i,end:s}},t.getCompletedFalse=function(){return(!store.user||"standalone"!=store.user.type)&&"false"},t.replaceUsers=function(e){for(var t=e.split(/@\[(.+?)\]\((user:)[^\)]+\)/g),n=[],r=0;r<t.length-1;r++)"user:"!=t[r]&&("user:"==t[r+1]?n.push({type:"user",value:t[r]}):n.push({type:"text",value:t[r]}));return t[t.length-1]&&"user:"!=t[t.length-1]&&n.push({type:"text",value:t[t.length-1]}),n},t.inu=function(e,t,n){e&&gtag("config","UA-18294201-9",{user_id:e,custom_map:{dimension1:"paid",dimension2:"product"}}),t&&gtag("event","paid_dimension",{paid:t}),n&&gtag("event","product_dimension",{product:n})},t.inev=function(e,t,n,r){var a={};void 0!==e&&(a.event_category=e),void 0!==n&&(a.event_label=n),void 0!==r&&(a.value=r),gtag("event",t,a)},Date.prototype.getWeek=function(e){var t=o(this);e="int"==typeof e?e:1;var n=new Date(t.getFullYear(),0,1),r=n.getDay()-e;r=r>=0?r:r+7;var a,i,s=Math.floor((t.getTime()-n.getTime()-6e4*(this.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1;return r<4?(a=Math.floor((s+r-1)/7)+1)>52&&(a=(i=(i=new Date(t.getFullYear()+1,0,1).getDay()-e)>=0?i:i+7)<4?1:53):a=Math.floor((s+r-1)/7),a};var d=function(e){return e.offsetX=e.pageX-$(e.currentTarget).offset().left,e.offsetY=e.pageY-$(e.currentTarget).offset().top,e};$&&$.fn&&($.fn.extend({lasso:function(e){e=e||{};var t={done:function(){}};return $.extend(t,e),$(this).hasClass("lassable")?($(this).children().addClass("lassable"),this):($(this).addClass("lassable"),$(this).children().addClass("lassable"),this.mousedown((function(e){e.ctrlKey||1===e.which&&!$(this).is(".lassoRunning")&&$(e.target).hasClass("lassable")&&(e=d(e),$(this).addClass("lassoRunning"),$(this).data("lassoStart",[e.offsetX,e.offsetY]))})).mouseup((function(e){if(1===e.which&&$(this).is(".lassoRunning")){e=d(e),$(this).data("lassoEnd",[e.offsetX,e.offsetY]);var n=[$(this).data("lassoStart"),$(this).data("lassoEnd")];$(this).removeClass("lassoRunning"),$("#lasso-helper",this).remove(),$("#lasso-mask").remove(),t.done(e,n)}})).mousemove((function(e){if($(this).is(".lassoRunning")){e=d(e);var t=$(this).data("lassoStart"),n=[e.offsetX,e.offsetY],r=t[0]<=n[0]?t[0]+"px":n[0]+"px",a=t[0]<=n[0]?n[0]-t[0]+"px":t[0]-n[0]+"px",o=t[1]<=n[1]?t[1]+"px":n[1]+"px",i=t[1]<=n[1]?n[1]-t[1]+"px":t[1]-n[1]+"px";0==$("#lasso-helper",this).length&&$(this).append("<div id='lasso-helper'></div>"),0==$("#lasso-mask",this).length&&$(this).append("<div style='position:absolute;left:0;right:0;top:0;bottom:0;' id='lasso-mask'></div>"),$("#lasso-helper",this).css({left:r,top:o,width:a,height:i})}})))}}),jQuery.fn.addCog=function(e){this.parents("ul.dropdown-menu").length>0?this.parents("ul.dropdown-menu").prevAll(".dropdown-toggle:first").addCog():(this.children("i.fa").not(".fa-caret-down").length>0&&(this.attr("data-icon-classes",this.children("i.fa").not(".fa-caret-down").attr("class")),this.children("i.fa").not(".fa-caret-down").remove()),this.prepend("<i class='fa fa-cog fa-spin'></i> "),"object"===(void 0===e?"undefined":r(e))&&this.children("i.fa").css(e),this.attr("disabled",!0))},jQuery.fn.removeCog=function(){if(this.parents("ul.dropdown-menu").length>0)this.parents("ul.dropdown-menu").prevAll(".dropdown-toggle:first").removeCog();else{if(this.children(".fa-spin.fa-cog").remove(),this.attr("data-icon-classes")){var e=document.createElement("i");jQuery(e).addClass(this.attr("data-icon-classes"))}this.prepend(e),this.removeAttr("disabled")}},jQuery.fn.openMenu=function(){this.hasClass("open-menu")?$("*.open-menu").removeClass("open-menu"):($("*.open-menu").removeClass("open-menu"),this.addClass("open-menu"))},jQuery.fn.closeMenu=function(){$("*.open-menu").removeClass("open-menu")}),"undefined"!=typeof window&&(window.calculatePrice=function(e){return e<2?7*e:5*e}),String.prototype.nl2br=function(){return this.replace(/\n/g,"<br />")},Number.prototype.money=function(e,t,n,r){var a="\\d(?=(\\d{"+(t||3)+"})+"+(e>0?"\\D":"$")+")",o=this.toFixed(Math.max(0,~~e));return(r?o.replace(".",r):o).replace(new RegExp(a,"g"),"$&"+(n||","))}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=(a=s)&&a.__esModule?a:{default:a},c=(0,n(6).observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.close=n.close.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){$(this.node).modal("show"),this.store.uistate.is_mobile||$(this.node).css("top","5%")}},{key:"componentWillUnmount",value:function(){$(this.node).modal("hide")}},{key:"close",value:function(){this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}},{key:"render",value:function(){var e=this;if(Math.max(document.documentElement.clientHeight,window.innerHeight||0)<550)var t="400px";else t=this.props.height?this.props.height+"px":"500px";if(this.store.uistate.is_mobile)var n={width:"100%",marginLeft:0,left:0,display:"block",top:0,bottom:0,borderRadius:"0"};else n=o({top:"5% !important",width:this.props.width+"px",marginLeft:-1*this.props.width/2+"px"},this.props.style);return l.default.createElement("div",{id:this.props.id,className:["modal hide fade",this.props.className,this.store.uistate.is_mobile?"mobile":""].join(" "),ref:function(t){return e.node=t},style:n,"data-backdrop":"static","data-keyboard":"false"},this.props.title&&l.default.createElement("div",{className:"modal-header",style:this.props.headerStyle},(this.props.closeButton||this.props.upperCloseButton)&&l.default.createElement("a",{href:"javascript:void(0);",className:"pull-right",onClick:this.props.closeButtonCallback||this.close},l.default.createElement("h3",{style:{color:"#666"}},l.default.createElement("i",{className:"fa fa-times"})," ")),l.default.createElement("h3",{style:this.props.titleStyle},this.props.title)),l.default.createElement("div",{className:"modal-body",style:o({maxHeight:t},this.props.bodyStyle)},this.props.children),(this.props.closeButton||this.props.successButton||this.props.dangerButton)&&l.default.createElement("div",{className:"modal-footer",style:this.props.footerStyle},this.props.footerHTML,this.props.dangerButton&&l.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-danger btn-flat pull-left",disabled:!this.props.dangerButtonEnabled||!1,onClick:this.props.dangerButtonCallback},this.props.dangerButtonName),this.props.closeButton&&l.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-close btn-flat",onClick:this.props.closeButtonCallback||this.close}," ",this.props.closeButtonName||"Close"," "),this.props.successButton&&l.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-success btn-flat",disabled:!this.props.successButtonEnabled||!1,onClick:this.props.successButtonCallback}," ",this.props.successButtonLoading&&l.default.createElement("i",{className:"fa fa-spin fa-spinner"})," ",this.props.successButtonName||"Continue")))}}]),t}())||r;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return h}));var r=7,a=24*Math.pow(10,8)*60*60*1e3,o=6e4,i=36e5,s=1e3,l=-a,c=60,u=3,d=12,f=4,p=3600,h=60},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(427)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return i(e)?e:Q(e)}function r(e){return s(e)?e:H(e)}function a(e){return l(e)?e:Y(e)}function o(e){return i(e)&&!c(e)?e:K(e)}function i(e){return!(!e||!e[d])}function s(e){return!(!e||!e[f])}function l(e){return!(!e||!e[p])}function c(e){return s(e)||l(e)}function u(e){return!(!e||!e[h])}t(r,n),t(a,n),t(o,n),n.isIterable=i,n.isKeyed=s,n.isIndexed=l,n.isAssociative=c,n.isOrdered=u,n.Keyed=r,n.Indexed=a,n.Set=o;var d="@@__IMMUTABLE_ITERABLE__@@",f="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",m=32,_=31,g={},b={value:!1},y={value:!1};function v(e){return e.value=!1,e}function A(e){e&&(e.value=!0)}function w(){}function k(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),a=0;a<n;a++)r[a]=e[a+t];return r}function E(e){return void 0===e.size&&(e.size=e.__iterate(O)),e.size}function x(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?E(e)+t:t}function O(){return!0}function C(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function j(e,t){return N(e,t,0)}function D(e,t){return N(e,t,t)}function N(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var S="function"==typeof Symbol&&Symbol.iterator,T="@@iterator",M=S||T;function P(e){this.next=e}function B(e,t,n,r){var a=0===e?t:1===e?n:[t,n];return r?r.value=a:r={value:a,done:!1},r}function I(){return{value:void 0,done:!0}}function L(e){return!!F(e)}function U(e){return e&&"function"==typeof e.next}function R(e){var t=F(e);return t&&t.call(e)}function F(e){var t=e&&(S&&e[S]||e[T]);if("function"==typeof t)return t}function z(e){return e&&"number"==typeof e.length}function Q(e){return null==e?te():i(e)?e.toSeq():function(e){var t=ae(e)||"object"==typeof e&&new X(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function H(e){return null==e?te().toKeyedSeq():i(e)?s(e)?e.toSeq():e.fromEntrySeq():ne(e)}function Y(e){return null==e?te():i(e)?s(e)?e.entrySeq():e.toIndexedSeq():re(e)}function K(e){return(null==e?te():i(e)?s(e)?e.entrySeq():e:re(e)).toSetSeq()}P.prototype.toString=function(){return"[Iterator]"},P.KEYS=0,P.VALUES=1,P.ENTRIES=2,P.prototype.inspect=P.prototype.toSource=function(){return this.toString()},P.prototype[M]=function(){return this},t(Q,n),Q.of=function(){return Q(arguments)},Q.prototype.toSeq=function(){return this},Q.prototype.toString=function(){return this.__toString("Seq {","}")},Q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Q.prototype.__iterate=function(e,t){return oe(this,e,t,!0)},Q.prototype.__iterator=function(e,t){return ie(this,e,t,!0)},t(H,Q),H.prototype.toKeyedSeq=function(){return this},t(Y,Q),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(e,t){return oe(this,e,t,!1)},Y.prototype.__iterator=function(e,t){return ie(this,e,t,!1)},t(K,Q),K.of=function(){return K(arguments)},K.prototype.toSetSeq=function(){return this},Q.isSeq=ee,Q.Keyed=H,Q.Set=K,Q.Indexed=Y;var W,q,G,V="@@__IMMUTABLE_SEQ__@@";function $(e){this._array=e,this.size=e.length}function X(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function J(e){this._iterable=e,this.size=e.length||e.size}function Z(e){this._iterator=e,this._iteratorCache=[]}function ee(e){return!(!e||!e[V])}function te(){return W||(W=new $([]))}function ne(e){var t=Array.isArray(e)?new $(e).fromEntrySeq():U(e)?new Z(e).fromEntrySeq():L(e)?new J(e).fromEntrySeq():"object"==typeof e?new X(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function re(e){var t=ae(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ae(e){return z(e)?new $(e):U(e)?new Z(e):L(e)?new J(e):void 0}function oe(e,t,n,r){var a=e._cache;if(a){for(var o=a.length-1,i=0;i<=o;i++){var s=a[n?o-i:i];if(!1===t(s[1],r?s[0]:i,e))return i+1}return i}return e.__iterateUncached(t,n)}function ie(e,t,n,r){var a=e._cache;if(a){var o=a.length-1,i=0;return new P((function(){var e=a[n?o-i:i];return i++>o?{value:void 0,done:!0}:B(t,r?e[0]:i-1,e[1])}))}return e.__iteratorUncached(t,n)}function se(e,t){return t?function e(t,n,r,a){return Array.isArray(n)?t.call(a,r,Y(n).map((function(r,a){return e(t,r,a,n)}))):ce(n)?t.call(a,r,H(n).map((function(r,a){return e(t,r,a,n)}))):n}(t,e,"",{"":e}):le(e)}function le(e){return Array.isArray(e)?Y(e).map(le).toList():ce(e)?H(e).map(le).toMap():e}function ce(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ue(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function de(e,t){if(e===t)return!0;if(!i(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||l(e)!==l(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!c(e);if(u(e)){var r=e.entries();return t.every((function(e,t){var a=r.next().value;return a&&ue(a[1],e)&&(n||ue(a[0],t))}))&&r.next().done}var a=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{a=!0;var o=e;e=t,t=o}var d=!0,f=t.__iterate((function(t,r){if(n?!e.has(t):a?!ue(t,e.get(r,g)):!ue(e.get(r,g),t))return d=!1,!1}));return d&&e.size===f}function fe(e,t){if(!(this instanceof fe))return new fe(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(q)return q;q=this}}function pe(e,t){if(!e)throw new Error(t)}function he(e,t,n){if(!(this instanceof he))return new he(e,t,n);if(pe(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(G)return G;G=this}}function me(){throw TypeError("Abstract")}function _e(){}function ge(){}function be(){}Q.prototype[V]=!0,t($,Y),$.prototype.get=function(e,t){return this.has(e)?this._array[x(this,e)]:t},$.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,a=0;a<=r;a++)if(!1===e(n[t?r-a:a],a,this))return a+1;return a},$.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,a=0;return new P((function(){return a>r?{value:void 0,done:!0}:B(e,a,n[t?r-a++:a++])}))},t(X,H),X.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},X.prototype.has=function(e){return this._object.hasOwnProperty(e)},X.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,a=r.length-1,o=0;o<=a;o++){var i=r[t?a-o:o];if(!1===e(n[i],i,this))return o+1}return o},X.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,a=r.length-1,o=0;return new P((function(){var i=r[t?a-o:o];return o++>a?{value:void 0,done:!0}:B(e,i,n[i])}))},X.prototype[h]=!0,t(J,Y),J.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=R(this._iterable),r=0;if(U(n))for(var a;!(a=n.next()).done&&!1!==e(a.value,r++,this););return r},J.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=R(this._iterable);if(!U(n))return new P(I);var r=0;return new P((function(){var t=n.next();return t.done?t:B(e,r++,t.value)}))},t(Z,Y),Z.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,a=this._iteratorCache,o=0;o<a.length;)if(!1===e(a[o],o++,this))return o;for(;!(n=r.next()).done;){var i=n.value;if(a[o]=i,!1===e(i,o++,this))break}return o},Z.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,a=0;return new P((function(){if(a>=r.length){var t=n.next();if(t.done)return t;r[a]=t.value}return B(e,a,r[a++])}))},t(fe,Y),fe.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},fe.prototype.get=function(e,t){return this.has(e)?this._value:t},fe.prototype.includes=function(e){return ue(this._value,e)},fe.prototype.slice=function(e,t){var n=this.size;return C(e,t,n)?this:new fe(this._value,D(t,n)-j(e,n))},fe.prototype.reverse=function(){return this},fe.prototype.indexOf=function(e){return ue(this._value,e)?0:-1},fe.prototype.lastIndexOf=function(e){return ue(this._value,e)?this.size:-1},fe.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},fe.prototype.__iterator=function(e,t){var n=this,r=0;return new P((function(){return r<n.size?B(e,r++,n._value):{value:void 0,done:!0}}))},fe.prototype.equals=function(e){return e instanceof fe?ue(this._value,e._value):de(e)},t(he,Y),he.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},he.prototype.get=function(e,t){return this.has(e)?this._start+x(this,e)*this._step:t},he.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},he.prototype.slice=function(e,t){return C(e,t,this.size)?this:(e=j(e,this.size),(t=D(t,this.size))<=e?new he(0,0):new he(this.get(e,this._end),this.get(t,this._end),this._step))},he.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},he.prototype.lastIndexOf=function(e){return this.indexOf(e)},he.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,a=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(a,o,this))return o+1;a+=t?-r:r}return o},he.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,a=t?this._start+n*r:this._start,o=0;return new P((function(){var i=a;return a+=t?-r:r,o>n?{value:void 0,done:!0}:B(e,o++,i)}))},he.prototype.equals=function(e){return e instanceof he?this._start===e._start&&this._end===e._end&&this._step===e._step:de(this,e)},t(me,n),t(_e,me),t(ge,me),t(be,me),me.Keyed=_e,me.Indexed=ge,me.Set=be;var ye="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ve(e){return e>>>1&1073741824|3221225471&e}function Ae(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t,n,r=typeof e;if("number"===r){var a=0|e;for(a!==e&&(a^=4294967295*e);e>4294967295;)a^=e/=4294967295;return ve(a)}if("string"===r)return e.length>De?(void 0===(n=Te[t=e])&&(n=we(t),Se===Ne&&(Se=0,Te={}),Se++,Te[t]=n),n):we(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===r)return function(e){var t;if(Oe&&void 0!==(t=ke.get(e)))return t;if(void 0!==(t=e[je]))return t;if(!xe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[je]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Ce,1073741824&Ce&&(Ce=0),Oe)ke.set(e,t);else{if(void 0!==Ee&&!1===Ee(e))throw new Error("Non-extensible objects are not allowed as keys.");if(xe)Object.defineProperty(e,je,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[je]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[je]=t}}return t}(e);if("function"==typeof e.toString)return we(e.toString());throw new Error("Value type "+r+" cannot be hashed.")}function we(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ve(t)}var ke,Ee=Object.isExtensible,xe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Oe="function"==typeof WeakMap;Oe&&(ke=new WeakMap);var Ce=0,je="__immutablehash__";"function"==typeof Symbol&&(je=Symbol(je));var De=16,Ne=255,Se=0,Te={};function Me(e){pe(e!==1/0,"Cannot perform this action with an infinite size.")}function Pe(e){return null==e?Ge():Be(e)&&!u(e)?e:Ge().withMutations((function(t){var n=r(e);Me(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Be(e){return!(!e||!e[Le])}t(Pe,_e),Pe.prototype.toString=function(){return this.__toString("Map {","}")},Pe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Pe.prototype.set=function(e,t){return Ve(this,e,t)},Pe.prototype.setIn=function(e,t){return this.updateIn(e,g,(function(){return t}))},Pe.prototype.remove=function(e){return Ve(this,e,g)},Pe.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return g}))},Pe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Pe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,a){var o=t===g,i=n.next();if(i.done){var s=o?r:t,l=a(s);return l===s?t:l}pe(o||t&&t.set,"invalid keyPath");var c=i.value,u=o?g:t.get(c,g),d=e(u,n,r,a);return d===u?t:d===g?t.remove(c):(o?Ge():t).set(c,d)}(this,Jt(e),t,n);return r===g?void 0:r},Pe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ge()},Pe.prototype.merge=function(){return Ze(this,void 0,arguments)},Pe.prototype.mergeWith=function(t){var n=e.call(arguments,1);return Ze(this,t,n)},Pe.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ge(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Pe.prototype.mergeDeep=function(){return Ze(this,et,arguments)},Pe.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ze(this,tt(t),n)},Pe.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ge(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Pe.prototype.sort=function(e){return xt(zt(this,e))},Pe.prototype.sortBy=function(e,t){return xt(zt(this,t,e))},Pe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Pe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new w)},Pe.prototype.asImmutable=function(){return this.__ensureOwner()},Pe.prototype.wasAltered=function(){return this.__altered},Pe.prototype.__iterator=function(e,t){return new Ye(this,e,t)},Pe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Pe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?qe(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Pe.isMap=Be;var Ie,Le="@@__IMMUTABLE_MAP__@@",Ue=Pe.prototype;function Re(e,t){this.ownerID=e,this.entries=t}function Fe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function ze(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function He(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Ye(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&We(e._root)}function Ke(e,t){return B(e,t[0],t[1])}function We(e,t){return{node:e,index:0,__prev:t}}function qe(e,t,n,r){var a=Object.create(Ue);return a.size=e,a._root=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}function Ge(){return Ie||(Ie=qe(0))}function Ve(e,t,n){var r,a;if(e._root){var o=v(b),i=v(y);if(r=$e(e._root,e.__ownerID,0,void 0,t,n,o,i),!i.value)return e;a=e.size+(o.value?n===g?-1:1:0)}else{if(n===g)return e;a=1,r=new Re(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=a,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?qe(a,r):Ge()}function $e(e,t,n,r,a,o,i,s){return e?e.update(t,n,r,a,o,i,s):o===g?e:(A(s),A(i),new He(t,r,[a,o]))}function Xe(e){return e.constructor===He||e.constructor===Qe}function Je(e,t,n,r,a){if(e.keyHash===r)return new Qe(t,r,[e.entry,a]);var o,i=(0===n?e.keyHash:e.keyHash>>>n)&_,s=(0===n?r:r>>>n)&_;return new Fe(t,1<<i|1<<s,i===s?[Je(e,t,n+5,r,a)]:(o=new He(t,r,a),i<s?[e,o]:[o,e]))}function Ze(e,t,n){for(var a=[],o=0;o<n.length;o++){var s=n[o],l=r(s);i(s)||(l=l.map((function(e){return se(e)}))),a.push(l)}return nt(e,t,a)}function et(e,t,n){return e&&e.mergeDeep&&i(t)?e.mergeDeep(t):ue(e,t)?e:t}function tt(e){return function(t,n,r){if(t&&t.mergeDeepWith&&i(n))return t.mergeDeepWith(e,n);var a=e(t,n,r);return ue(t,a)?t:a}}function nt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,g,(function(e){return e===g?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},a=0;a<n.length;a++)n[a].forEach(r)})):e.constructor(n[0])}function rt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function at(e,t,n,r){var a=r?e:k(e);return a[t]=n,a}Ue[Le]=!0,Ue.delete=Ue.remove,Ue.removeIn=Ue.deleteIn,Re.prototype.get=function(e,t,n,r){for(var a=this.entries,o=0,i=a.length;o<i;o++)if(ue(n,a[o][0]))return a[o][1];return r},Re.prototype.update=function(e,t,n,r,a,o,i){for(var s=a===g,l=this.entries,c=0,u=l.length;c<u&&!ue(r,l[c][0]);c++);var d=c<u;if(d?l[c][1]===a:s)return this;if(A(i),(s||!d)&&A(o),!s||1!==l.length){if(!d&&!s&&l.length>=ot)return function(e,t,n,r){e||(e=new w);for(var a=new He(e,Ae(n),[n,r]),o=0;o<t.length;o++){var i=t[o];a=a.update(e,0,void 0,i[0],i[1])}return a}(e,l,r,a);var f=e&&e===this.ownerID,p=f?l:k(l);return d?s?c===u-1?p.pop():p[c]=p.pop():p[c]=[r,a]:p.push([r,a]),f?(this.entries=p,this):new Re(e,p)}},Fe.prototype.get=function(e,t,n,r){void 0===t&&(t=Ae(n));var a=1<<((0===e?t:t>>>e)&_),o=this.bitmap;return 0==(o&a)?r:this.nodes[rt(o&a-1)].get(e+5,t,n,r)},Fe.prototype.update=function(e,t,n,r,a,o,i){void 0===n&&(n=Ae(r));var s=(0===t?n:n>>>t)&_,l=1<<s,c=this.bitmap,u=0!=(c&l);if(!u&&a===g)return this;var d=rt(c&l-1),f=this.nodes,p=u?f[d]:void 0,h=$e(p,e,t+5,n,r,a,o,i);if(h===p)return this;if(!u&&h&&f.length>=it)return function(e,t,n,r,a){for(var o=0,i=new Array(m),s=0;0!==n;s++,n>>>=1)i[s]=1&n?t[o++]:void 0;return i[r]=a,new ze(e,o+1,i)}(e,f,c,s,h);if(u&&!h&&2===f.length&&Xe(f[1^d]))return f[1^d];if(u&&h&&1===f.length&&Xe(h))return h;var b=e&&e===this.ownerID,y=u?h?c:c^l:c|l,v=u?h?at(f,d,h,b):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var a=new Array(r),o=0,i=0;i<r;i++)i===t&&(o=1),a[i]=e[i+o];return a}(f,d,b):function(e,t,n,r){var a=e.length+1;if(r&&t+1===a)return e[t]=n,e;for(var o=new Array(a),i=0,s=0;s<a;s++)s===t?(o[s]=n,i=-1):o[s]=e[s+i];return o}(f,d,h,b);return b?(this.bitmap=y,this.nodes=v,this):new Fe(e,y,v)},ze.prototype.get=function(e,t,n,r){void 0===t&&(t=Ae(n));var a=(0===e?t:t>>>e)&_,o=this.nodes[a];return o?o.get(e+5,t,n,r):r},ze.prototype.update=function(e,t,n,r,a,o,i){void 0===n&&(n=Ae(r));var s=(0===t?n:n>>>t)&_,l=a===g,c=this.nodes,u=c[s];if(l&&!u)return this;var d=$e(u,e,t+5,n,r,a,o,i);if(d===u)return this;var f=this.count;if(u){if(!d&&--f<st)return function(e,t,n,r){for(var a=0,o=0,i=new Array(n),s=0,l=1,c=t.length;s<c;s++,l<<=1){var u=t[s];void 0!==u&&s!==r&&(a|=l,i[o++]=u)}return new Fe(e,a,i)}(e,c,f,s)}else f++;var p=e&&e===this.ownerID,h=at(c,s,d,p);return p?(this.count=f,this.nodes=h,this):new ze(e,f,h)},Qe.prototype.get=function(e,t,n,r){for(var a=this.entries,o=0,i=a.length;o<i;o++)if(ue(n,a[o][0]))return a[o][1];return r},Qe.prototype.update=function(e,t,n,r,a,o,i){void 0===n&&(n=Ae(r));var s=a===g;if(n!==this.keyHash)return s?this:(A(i),A(o),Je(this,e,t,n,[r,a]));for(var l=this.entries,c=0,u=l.length;c<u&&!ue(r,l[c][0]);c++);var d=c<u;if(d?l[c][1]===a:s)return this;if(A(i),(s||!d)&&A(o),s&&2===u)return new He(e,this.keyHash,l[1^c]);var f=e&&e===this.ownerID,p=f?l:k(l);return d?s?c===u-1?p.pop():p[c]=p.pop():p[c]=[r,a]:p.push([r,a]),f?(this.entries=p,this):new Qe(e,this.keyHash,p)},He.prototype.get=function(e,t,n,r){return ue(n,this.entry[0])?this.entry[1]:r},He.prototype.update=function(e,t,n,r,a,o,i){var s=a===g,l=ue(r,this.entry[0]);return(l?a===this.entry[1]:s)?this:(A(i),s?void A(o):l?e&&e===this.ownerID?(this.entry[1]=a,this):new He(e,this.keyHash,[r,a]):(A(o),Je(this,e,t,Ae(r),[r,a])))},Re.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.entries,r=0,a=n.length-1;r<=a;r++)if(!1===e(n[t?a-r:r]))return!1},Fe.prototype.iterate=ze.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,a=n.length-1;r<=a;r++){var o=n[t?a-r:r];if(o&&!1===o.iterate(e,t))return!1}},He.prototype.iterate=function(e,t){return e(this.entry)},t(Ye,P),Ye.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,a=t.index++;if(r.entry){if(0===a)return Ke(e,r.entry)}else if(r.entries){if(a<=(n=r.entries.length-1))return Ke(e,r.entries[this._reverse?n-a:a])}else if(a<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-a:a];if(o){if(o.entry)return Ke(e,o.entry);t=this._stack=We(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ot=8,it=16,st=8;function lt(e){var t=bt();if(null==e)return t;if(ct(e))return e;var n=a(e),r=n.size;return 0===r?t:(Me(r),r>0&&r<m?gt(0,r,5,null,new ft(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function ct(e){return!(!e||!e[ut])}t(lt,ge),lt.of=function(){return this(arguments)},lt.prototype.toString=function(){return this.__toString("List [","]")},lt.prototype.get=function(e,t){if((e=x(this,e))>=0&&e<this.size){var n=At(this,e+=this._origin);return n&&n.array[e&_]}return t},lt.prototype.set=function(e,t){return function(e,t,n){if((t=x(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?wt(e,t).set(0,n):wt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,a=e._root,o=v(y);return t>=Et(e._capacity)?r=yt(r,e.__ownerID,0,t,n,o):a=yt(a,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=a,e._tail=r,e.__hash=void 0,e.__altered=!0,e):gt(e._origin,e._capacity,e._level,a,r):e}(this,e,t)},lt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},lt.prototype.insert=function(e,t){return this.splice(e,0,t)},lt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):bt()},lt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){wt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},lt.prototype.pop=function(){return wt(this,0,-1)},lt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){wt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},lt.prototype.shift=function(){return wt(this,1)},lt.prototype.merge=function(){return kt(this,void 0,arguments)},lt.prototype.mergeWith=function(t){var n=e.call(arguments,1);return kt(this,t,n)},lt.prototype.mergeDeep=function(){return kt(this,et,arguments)},lt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return kt(this,tt(t),n)},lt.prototype.setSize=function(e){return wt(this,0,e)},lt.prototype.slice=function(e,t){var n=this.size;return C(e,t,n)?this:wt(this,j(e,n),D(t,n))},lt.prototype.__iterator=function(e,t){var n=0,r=_t(this,t);return new P((function(){var t=r();return t===mt?{value:void 0,done:!0}:B(e,n++,t)}))},lt.prototype.__iterate=function(e,t){for(var n,r=0,a=_t(this,t);(n=a())!==mt&&!1!==e(n,r++,this););return r},lt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?gt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},lt.isList=ct;var ut="@@__IMMUTABLE_LIST__@@",dt=lt.prototype;function ft(e,t){this.array=e,this.ownerID=t}dt[ut]=!0,dt.delete=dt.remove,dt.setIn=Ue.setIn,dt.deleteIn=dt.removeIn=Ue.removeIn,dt.update=Ue.update,dt.updateIn=Ue.updateIn,dt.mergeIn=Ue.mergeIn,dt.mergeDeepIn=Ue.mergeDeepIn,dt.withMutations=Ue.withMutations,dt.asMutable=Ue.asMutable,dt.asImmutable=Ue.asImmutable,dt.wasAltered=Ue.wasAltered,ft.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&_;if(r>=this.array.length)return new ft([],e);var a,o=0===r;if(t>0){var i=this.array[r];if((a=i&&i.removeBefore(e,t-5,n))===i&&o)return this}if(o&&!a)return this;var s=vt(this,e);if(!o)for(var l=0;l<r;l++)s.array[l]=void 0;return a&&(s.array[r]=a),s},ft.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,a=n-1>>>t&_;if(a>=this.array.length)return this;if(t>0){var o=this.array[a];if((r=o&&o.removeAfter(e,t-5,n))===o&&a===this.array.length-1)return this}var i=vt(this,e);return i.array.splice(a+1),r&&(i.array[a]=r),i};var pt,ht,mt={};function _t(e,t){var n=e._origin,r=e._capacity,a=Et(r),o=e._tail;return function e(i,s,l){return 0===s?function(e,i){var s=i===a?o&&o.array:e&&e.array,l=i>n?0:n-i,c=r-i;return c>m&&(c=m),function(){if(l===c)return mt;var e=t?--c:l++;return s&&s[e]}}(i,l):function(a,o,i){var s,l=a&&a.array,c=i>n?0:n-i>>o,u=1+(r-i>>o);return u>m&&(u=m),function(){for(;;){if(s){var n=s();if(n!==mt)return n;s=null}if(c===u)return mt;var r=t?--u:c++;s=e(l&&l[r],o-5,i+(r<<o))}}}(i,s,l)}(e._root,e._level,0)}function gt(e,t,n,r,a,o,i){var s=Object.create(dt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=a,s.__ownerID=o,s.__hash=i,s.__altered=!1,s}function bt(){return pt||(pt=gt(0,0,5))}function yt(e,t,n,r,a,o){var i,s=r>>>n&_,l=e&&s<e.array.length;if(!l&&void 0===a)return e;if(n>0){var c=e&&e.array[s],u=yt(c,t,n-5,r,a,o);return u===c?e:((i=vt(e,t)).array[s]=u,i)}return l&&e.array[s]===a?e:(A(o),i=vt(e,t),void 0===a&&s===i.array.length-1?i.array.pop():i.array[s]=a,i)}function vt(e,t){return t&&e&&t===e.ownerID?e:new ft(e?e.array.slice():[],t)}function At(e,t){if(t>=Et(e._capacity))return e._tail;if(t<1<<e._level+5){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&_],r-=5;return n}}function wt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new w,a=e._origin,o=e._capacity,i=a+t,s=void 0===n?o:n<0?o+n:a+n;if(i===a&&s===o)return e;if(i>=s)return e.clear();for(var l=e._level,c=e._root,u=0;i+u<0;)c=new ft(c&&c.array.length?[void 0,c]:[],r),u+=1<<(l+=5);u&&(i+=u,a+=u,s+=u,o+=u);for(var d=Et(o),f=Et(s);f>=1<<l+5;)c=new ft(c&&c.array.length?[c]:[],r),l+=5;var p=e._tail,h=f<d?At(e,s-1):f>d?new ft([],r):p;if(p&&f>d&&i<o&&p.array.length){for(var m=c=vt(c,r),g=l;g>5;g-=5){var b=d>>>g&_;m=m.array[b]=vt(m.array[b],r)}m.array[d>>>5&_]=p}if(s<o&&(h=h&&h.removeAfter(r,0,s)),i>=f)i-=f,s-=f,l=5,c=null,h=h&&h.removeBefore(r,0,i);else if(i>a||f<d){for(u=0;c;){var y=i>>>l&_;if(y!==f>>>l&_)break;y&&(u+=(1<<l)*y),l-=5,c=c.array[y]}c&&i>a&&(c=c.removeBefore(r,l,i-u)),c&&f<d&&(c=c.removeAfter(r,l,f-u)),u&&(i-=u,s-=u)}return e.__ownerID?(e.size=s-i,e._origin=i,e._capacity=s,e._level=l,e._root=c,e._tail=h,e.__hash=void 0,e.__altered=!0,e):gt(i,s,l,c,h)}function kt(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var l=n[s],c=a(l);c.size>o&&(o=c.size),i(l)||(c=c.map((function(e){return se(e)}))),r.push(c)}return o>e.size&&(e=e.setSize(o)),nt(e,t,r)}function Et(e){return e<m?0:e-1>>>5<<5}function xt(e){return null==e?jt():Ot(e)?e:jt().withMutations((function(t){var n=r(e);Me(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ot(e){return Be(e)&&u(e)}function Ct(e,t,n,r){var a=Object.create(xt.prototype);return a.size=e?e.size:0,a._map=e,a._list=t,a.__ownerID=n,a.__hash=r,a}function jt(){return ht||(ht=Ct(Ge(),bt()))}function Dt(e,t,n){var r,a,o=e._map,i=e._list,s=o.get(t),l=void 0!==s;if(n===g){if(!l)return e;i.size>=m&&i.size>=2*o.size?(r=(a=i.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=a.__ownerID=e.__ownerID)):(r=o.remove(t),a=s===i.size-1?i.pop():i.set(s,void 0))}else if(l){if(n===i.get(s)[1])return e;r=o,a=i.set(s,[t,n])}else r=o.set(t,i.size),a=i.set(i.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=a,e.__hash=void 0,e):Ct(r,a)}function Nt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function St(e){this._iter=e,this.size=e.size}function Tt(e){this._iter=e,this.size=e.size}function Mt(e){this._iter=e,this.size=e.size}function Pt(e){var t=Vt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=$t,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(2===t){var r=e.__iterator(t,n);return new P((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,n)},t}function Bt(e,t,n){var r=Vt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,a){var o=e.get(r,g);return o===g?a:t.call(n,o,r,e)},r.__iterateUncached=function(r,a){var o=this;return e.__iterate((function(e,a,i){return!1!==r(t.call(n,e,a,i),a,o)}),a)},r.__iteratorUncached=function(r,a){var o=e.__iterator(2,a);return new P((function(){var a=o.next();if(a.done)return a;var i=a.value,s=i[0];return B(r,s,t.call(n,i[1],s,e),a)}))},r}function It(e,t){var n=Vt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Pt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=$t,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Lt(e,t,n,r){var a=Vt(e);return r&&(a.has=function(r){var a=e.get(r,g);return a!==g&&!!t.call(n,a,r,e)},a.get=function(r,a){var o=e.get(r,g);return o!==g&&t.call(n,o,r,e)?o:a}),a.__iterateUncached=function(a,o){var i=this,s=0;return e.__iterate((function(e,o,l){if(t.call(n,e,o,l))return s++,a(e,r?o:s-1,i)}),o),s},a.__iteratorUncached=function(a,o){var i=e.__iterator(2,o),s=0;return new P((function(){for(;;){var o=i.next();if(o.done)return o;var l=o.value,c=l[0],u=l[1];if(t.call(n,u,c,e))return B(a,r?c:s++,u,o)}}))},a}function Ut(e,t,n,r){var a=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),C(t,n,a))return e;var o=j(t,a),i=D(n,a);if(o!=o||i!=i)return Ut(e.toSeq().cacheResult(),t,n,r);var s,l=i-o;l==l&&(s=l<0?0:l);var c=Vt(e);return c.size=0===s?s:e.size&&s||void 0,!r&&ee(e)&&s>=0&&(c.get=function(t,n){return(t=x(this,t))>=0&&t<s?e.get(t+o,n):n}),c.__iterateUncached=function(t,n){var a=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var i=0,l=!0,c=0;return e.__iterate((function(e,n){if(!l||!(l=i++<o))return c++,!1!==t(e,r?n:c-1,a)&&c!==s})),c},c.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var a=0!==s&&e.__iterator(t,n),i=0,l=0;return new P((function(){for(;i++<o;)a.next();if(++l>s)return{value:void 0,done:!0};var e=a.next();return r||1===t?e:B(t,l-1,0===t?void 0:e.value[1],e)}))},c}function Rt(e,t,n,r){var a=Vt(e);return a.__iterateUncached=function(a,o){var i=this;if(o)return this.cacheResult().__iterate(a,o);var s=!0,l=0;return e.__iterate((function(e,o,c){if(!s||!(s=t.call(n,e,o,c)))return l++,a(e,r?o:l-1,i)})),l},a.__iteratorUncached=function(a,o){var i=this;if(o)return this.cacheResult().__iterator(a,o);var s=e.__iterator(2,o),l=!0,c=0;return new P((function(){var e,o,u;do{if((e=s.next()).done)return r||1===a?e:B(a,c++,0===a?void 0:e.value[1],e);var d=e.value;o=d[0],u=d[1],l&&(l=t.call(n,u,o,i))}while(l);return 2===a?e:B(a,o,u,e)}))},a}function Ft(e,t,n){var r=Vt(e);return r.__iterateUncached=function(r,a){var o=0,s=!1;return function e(l,c){var u=this;l.__iterate((function(a,l){return(!t||c<t)&&i(a)?e(a,c+1):!1===r(a,n?l:o++,u)&&(s=!0),!s}),a)}(e,0),o},r.__iteratorUncached=function(r,a){var o=e.__iterator(r,a),s=[],l=0;return new P((function(){for(;o;){var e=o.next();if(!1===e.done){var c=e.value;if(2===r&&(c=c[1]),t&&!(s.length<t)||!i(c))return n?e:B(r,l++,c,e);s.push(o),o=c.__iterator(r,a)}else o=s.pop()}return{value:void 0,done:!0}}))},r}function zt(e,t,n){t||(t=Xt);var r=s(e),a=0,o=e.toSeq().map((function(t,r){return[r,t,a++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?H(o):l(e)?Y(o):K(o)}function Qt(e,t,n){if(t||(t=Xt),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return Ht(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return Ht(t,e,n)?n:e}))}function Ht(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function Yt(e,t,r){var a=Vt(e);return a.size=new $(r).map((function(e){return e.size})).min(),a.__iterate=function(e,t){for(var n,r=this.__iterator(1,t),a=0;!(n=r.next()).done&&!1!==e(n.value,a++,this););return a},a.__iteratorUncached=function(e,a){var o=r.map((function(e){return e=n(e),R(a?e.reverse():e)})),i=0,s=!1;return new P((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?{value:void 0,done:!0}:B(e,i++,t.apply(null,n.map((function(e){return e.value}))))}))},a}function Kt(e,t){return ee(e)?t:e.constructor(t)}function Wt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function qt(e){return Me(e.size),E(e)}function Gt(e){return s(e)?r:l(e)?a:o}function Vt(e){return Object.create((s(e)?H:l(e)?Y:K).prototype)}function $t(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Q.prototype.cacheResult.call(this)}function Xt(e,t){return e>t?1:e<t?-1:0}function Jt(e){var t=R(e);if(!t){if(!z(e))throw new TypeError("Expected iterable or array-like: "+e);t=R(n(e))}return t}function Zt(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var i=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){pe(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(a,i),a.size=i.length,a._name=t,a._keys=i,a._defaultValues=e}this._map=Pe(o)},a=r.prototype=Object.create(en);return a.constructor=r,r}t(xt,Pe),xt.of=function(){return this(arguments)},xt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},xt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},xt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):jt()},xt.prototype.set=function(e,t){return Dt(this,e,t)},xt.prototype.remove=function(e){return Dt(this,e,g)},xt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},xt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},xt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},xt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Ct(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},xt.isOrderedMap=Ot,xt.prototype[h]=!0,xt.prototype.delete=xt.prototype.remove,t(Nt,H),Nt.prototype.get=function(e,t){return this._iter.get(e,t)},Nt.prototype.has=function(e){return this._iter.has(e)},Nt.prototype.valueSeq=function(){return this._iter.valueSeq()},Nt.prototype.reverse=function(){var e=this,t=It(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Nt.prototype.map=function(e,t){var n=this,r=Bt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Nt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?qt(this):0,function(a){return e(a,t?--n:n++,r)}),t)},Nt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(1,t),r=t?qt(this):0;return new P((function(){var a=n.next();return a.done?a:B(e,t?--r:r++,a.value,a)}))},Nt.prototype[h]=!0,t(St,Y),St.prototype.includes=function(e){return this._iter.includes(e)},St.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},St.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t),r=0;return new P((function(){var t=n.next();return t.done?t:B(e,r++,t.value,t)}))},t(Tt,K),Tt.prototype.has=function(e){return this._iter.includes(e)},Tt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Tt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new P((function(){var t=n.next();return t.done?t:B(e,t.value,t.value,t)}))},t(Mt,H),Mt.prototype.entrySeq=function(){return this._iter.toSeq()},Mt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){Wt(t);var r=i(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Mt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new P((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Wt(r);var a=i(r);return B(e,a?r.get(0):r[0],a?r.get(1):r[1],t)}}}))},St.prototype.cacheResult=Nt.prototype.cacheResult=Tt.prototype.cacheResult=Mt.prototype.cacheResult=$t,t(Zt,_e),Zt.prototype.toString=function(){return this.__toString(nn(this)+" {","}")},Zt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Zt.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Zt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=tn(this,Ge()))},Zt.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+nn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:tn(this,n)},Zt.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:tn(this,t)},Zt.prototype.wasAltered=function(){return this._map.wasAltered()},Zt.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},Zt.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},Zt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?tn(this,t,e):(this.__ownerID=e,this._map=t,this)};var en=Zt.prototype;function tn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function nn(e){return e._name||e.constructor.name||"Record"}function rn(e){return null==e?dn():an(e)&&!u(e)?e:dn().withMutations((function(t){var n=o(e);Me(n.size),n.forEach((function(e){return t.add(e)}))}))}function an(e){return!(!e||!e[sn])}en.delete=en.remove,en.deleteIn=en.removeIn=Ue.removeIn,en.merge=Ue.merge,en.mergeWith=Ue.mergeWith,en.mergeIn=Ue.mergeIn,en.mergeDeep=Ue.mergeDeep,en.mergeDeepWith=Ue.mergeDeepWith,en.mergeDeepIn=Ue.mergeDeepIn,en.setIn=Ue.setIn,en.update=Ue.update,en.updateIn=Ue.updateIn,en.withMutations=Ue.withMutations,en.asMutable=Ue.asMutable,en.asImmutable=Ue.asImmutable,t(rn,be),rn.of=function(){return this(arguments)},rn.fromKeys=function(e){return this(r(e).keySeq())},rn.prototype.toString=function(){return this.__toString("Set {","}")},rn.prototype.has=function(e){return this._map.has(e)},rn.prototype.add=function(e){return cn(this,this._map.set(e,!0))},rn.prototype.remove=function(e){return cn(this,this._map.remove(e))},rn.prototype.clear=function(){return cn(this,this._map.clear())},rn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},rn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},rn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},rn.prototype.merge=function(){return this.union.apply(this,arguments)},rn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},rn.prototype.sort=function(e){return fn(zt(this,e))},rn.prototype.sortBy=function(e,t){return fn(zt(this,t,e))},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},rn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},rn.isSet=an;var on,sn="@@__IMMUTABLE_SET__@@",ln=rn.prototype;function cn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function un(e,t){var n=Object.create(ln);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function dn(){return on||(on=un(Ge()))}function fn(e){return null==e?gn():pn(e)?e:gn().withMutations((function(t){var n=o(e);Me(n.size),n.forEach((function(e){return t.add(e)}))}))}function pn(e){return an(e)&&u(e)}ln[sn]=!0,ln.delete=ln.remove,ln.mergeDeep=ln.merge,ln.mergeDeepWith=ln.mergeWith,ln.withMutations=Ue.withMutations,ln.asMutable=Ue.asMutable,ln.asImmutable=Ue.asImmutable,ln.__empty=dn,ln.__make=un,t(fn,rn),fn.of=function(){return this(arguments)},fn.fromKeys=function(e){return this(r(e).keySeq())},fn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},fn.isOrderedSet=pn;var hn,mn=fn.prototype;function _n(e,t){var n=Object.create(mn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function gn(){return hn||(hn=_n(jt()))}function bn(e){return null==e?En():yn(e)?e:En().unshiftAll(e)}function yn(e){return!(!e||!e[An])}mn[h]=!0,mn.__empty=gn,mn.__make=_n,t(bn,ge),bn.of=function(){return this(arguments)},bn.prototype.toString=function(){return this.__toString("Stack [","]")},bn.prototype.get=function(e,t){var n=this._head;for(e=x(this,e);n&&e--;)n=n.next;return n?n.value:t},bn.prototype.peek=function(){return this._head&&this._head.value},bn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):kn(e,t)},bn.prototype.pushAll=function(e){if(0===(e=a(e)).size)return this;Me(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):kn(t,n)},bn.prototype.pop=function(){return this.slice(1)},bn.prototype.unshift=function(){return this.push.apply(this,arguments)},bn.prototype.unshiftAll=function(e){return this.pushAll(e)},bn.prototype.shift=function(){return this.pop.apply(this,arguments)},bn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):En()},bn.prototype.slice=function(e,t){if(C(e,t,this.size))return this;var n=j(e,this.size);if(D(t,this.size)!==this.size)return ge.prototype.slice.call(this,e,t);for(var r=this.size-n,a=this._head;n--;)a=a.next;return this.__ownerID?(this.size=r,this._head=a,this.__hash=void 0,this.__altered=!0,this):kn(r,a)},bn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?kn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},bn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},bn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new P((function(){if(r){var t=r.value;return r=r.next,B(e,n++,t)}return{value:void 0,done:!0}}))},bn.isStack=yn;var vn,An="@@__IMMUTABLE_STACK__@@",wn=bn.prototype;function kn(e,t,n,r){var a=Object.create(wn);return a.size=e,a._head=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}function En(){return vn||(vn=kn(0))}function xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}wn[An]=!0,wn.withMutations=Ue.withMutations,wn.asMutable=Ue.asMutable,wn.asImmutable=Ue.asImmutable,wn.wasAltered=Ue.wasAltered,n.Iterator=P,xn(n,{toArray:function(){Me(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new St(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Nt(this,!0)},toMap:function(){return Pe(this.toKeyedSeq())},toObject:function(){Me(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return xt(this.toKeyedSeq())},toOrderedSet:function(){return fn(s(this)?this.valueSeq():this)},toSet:function(){return rn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Tt(this)},toSeq:function(){return l(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return bn(s(this)?this.valueSeq():this)},toList:function(){return lt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Kt(this,function(e,t){var n=s(e),a=[e].concat(t).map((function(e){return i(e)?n&&(e=r(e)):e=n?ne(e):re(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===a.length)return e;if(1===a.length){var o=a[0];if(o===e||n&&s(o)||l(e)&&l(o))return o}var c=new $(a);return n?c=c.toKeyedSeq():l(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=a.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),c}(this,t))},includes:function(e){return this.some((function(t){return ue(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){Me(this.size);var n=!0;return this.__iterate((function(r,a,o){if(!e.call(t,r,a,o))return n=!1,!1})),n},filter:function(e,t){return Kt(this,Lt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,a,o){if(e.call(t,r,a,o))return n=[a,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Me(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Me(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return Kt(this,Bt(this,e,t))},reduce:function(e,t,n){var r,a;return Me(this.size),arguments.length<2?a=!0:r=t,this.__iterate((function(t,o,i){a?(a=!1,r=t):r=e.call(n,r,t,o,i)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Kt(this,It(this,!0))},slice:function(e,t){return Kt(this,Ut(this,e,t,!0))},some:function(e,t){return!this.every(Nn(e),t)},sort:function(e){return Kt(this,zt(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return E(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Pe().asMutable();return e.__iterate((function(a,o){r.update(t.call(n,a,o,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return de(this,e)},entrySeq:function(){var e=this;if(e._cache)return new $(e._cache);var t=e.toSeq().map(Dn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Nn(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(O)},flatMap:function(e,t){return Kt(this,function(e,t,n){var r=Gt(e);return e.toSeq().map((function(a,o){return r(t.call(n,a,o,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Kt(this,Ft(this,e,!0))},fromEntrySeq:function(){return new Mt(this)},get:function(e,t){return this.find((function(t,n){return ue(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,a=Jt(e);!(n=a.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,g):g)===g)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=s(e),a=(u(e)?xt():Pe()).asMutable();e.__iterate((function(o,i){a.update(t.call(n,o,i,e),(function(e){return(e=e||[]).push(r?[i,o]:o),e}))}));var o=Gt(e);return a.map((function(t){return Kt(e,o(t))}))}(this,e,t)},has:function(e){return this.get(e,g)!==g},hasIn:function(e){return this.getIn(e,g)!==g},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(jn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return Qt(this,e)},maxBy:function(e,t){return Qt(this,t,e)},min:function(e){return Qt(this,e?Sn(e):Pn)},minBy:function(e,t){return Qt(this,t?Sn(t):Pn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Kt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Kt(this,Rt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Nn(e),t)},sortBy:function(e,t){return Kt(this,zt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Kt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Kt(this,function(e,t,n){var r=Vt(e);return r.__iterateUncached=function(r,a){var o=this;if(a)return this.cacheResult().__iterate(r,a);var i=0;return e.__iterate((function(e,a,s){return t.call(n,e,a,s)&&++i&&r(e,a,o)})),i},r.__iteratorUncached=function(r,a){var o=this;if(a)return this.cacheResult().__iterator(r,a);var i=e.__iterator(2,a),s=!0;return new P((function(){if(!s)return{value:void 0,done:!0};var e=i.next();if(e.done)return e;var a=e.value,l=a[0],c=a[1];return t.call(n,c,l,o)?2===r?e:B(r,l,c,e):(s=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Nn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=u(e),n=s(e),r=t?1:0;return function(e,t){return t=ye(t,3432918353),t=ye(t<<15|t>>>-15,461845907),t=ye(t<<13|t>>>-13,5),t=ye((t=(t+3864292196|0)^e)^t>>>16,2246822507),ve((t=ye(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Bn(Ae(e),Ae(t))|0}:function(e,t){r=r+Bn(Ae(e),Ae(t))|0}:t?function(e){r=31*r+Ae(e)|0}:function(e){r=r+Ae(e)|0}),r)}(this))}});var On=n.prototype;On[d]=!0,On[M]=On.values,On.__toJS=On.toArray,On.__toStringMapper=Tn,On.inspect=On.toSource=function(){return this.toString()},On.chain=On.flatMap,On.contains=On.includes,function(){try{Object.defineProperty(On,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),xn(r,{flip:function(){return Kt(this,Pt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return ue(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return ue(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return Kt(this,this.toSeq().map((function(a,o){return e.call(t,[o,a],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Kt(this,this.toSeq().flip().map((function(r,a){return e.call(t,r,a,n)})).flip())}});var Cn=r.prototype;function jn(e,t){return t}function Dn(e,t){return[t,e]}function Nn(e){return function(){return!e.apply(this,arguments)}}function Sn(e){return function(){return-e.apply(this,arguments)}}function Tn(e){return"string"==typeof e?JSON.stringify(e):e}function Mn(){return k(arguments)}function Pn(e,t){return e<t?1:e>t?-1:0}function Bn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Cn[f]=!0,Cn[M]=On.entries,Cn.__toJS=On.toObject,Cn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Tn(e)},xn(a,{toKeyedSeq:function(){return new Nt(this,!1)},filter:function(e,t){return Kt(this,Lt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return Kt(this,It(this,!1))},slice:function(e,t){return Kt(this,Ut(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=j(e,e<0?this.count():this.size);var r=this.slice(0,e);return Kt(this,1===n?r:r.concat(k(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return Kt(this,Ft(this,e,!1))},get:function(e,t){return(e=x(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=x(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Kt(this,function(e,t){var n=Vt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var a=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,a))&&!1!==n(e,o++,a)}),r),o},n.__iteratorUncached=function(n,r){var a,o=e.__iterator(1,r),i=0;return new P((function(){return(!a||i%2)&&(a=o.next()).done?a:i%2?B(n,i++,t):B(n,i++,a.value,a)}))},n}(this,e))},interleave:function(){var e=[this].concat(k(arguments)),t=Yt(this.toSeq(),Y.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Kt(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Kt(this,Rt(this,e,t,!1))},zip:function(){return Kt(this,Yt(this,Mn,[this].concat(k(arguments))))},zipWith:function(e){var t=k(arguments);return t[0]=this,Kt(this,Yt(this,e,t))}}),a.prototype[p]=!0,a.prototype[h]=!0,xn(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=On.includes,xn(H,r.prototype),xn(Y,a.prototype),xn(K,o.prototype),xn(_e,r.prototype),xn(ge,a.prototype),xn(be,o.prototype),{Iterable:n,Seq:Q,Collection:me,Map:Pe,OrderedMap:xt,List:lt,Stack:bn,Set:rn,OrderedSet:fn,Record:Zt,Range:he,Repeat:fe,is:ue,fromJS:se}}()},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;(o=new Error(t.replace(/%s/g,(function(){return String(r[i++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),c=d(n(269)),u=d(n(270));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h=(r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listening=[],f(this,"loading",a,this),f(this,"last_modified",o,this),f(this,"ref",i,this),this.events=l.observable.map(),this.errors=l.observable.map(),t.__ref&&(this.ref=t.__ref,delete t.__ref),t=this.defaults?this.fillDefaults(t):t,this.set(t)}return s(e,[{key:"storage",value:function(){switch(this.storageMode()){case"Firebase":return u.default;case"HTTPSaver":return c.default}}},{key:"storageMode",value:function(){return this.storage_type&&"Firebase"==this.storage_type?"Firebase":"HTTPSaver"==this.storage_type?"HTTPSaver":this.collection?this.collection.storageMode():"standalone"==this.globalstore.user.type?"Firebase":"HTTPSaver"}},{key:"firebaseRef",value:function(){return this.ref?this.ref:"Firebase"==this.storageMode()?this.collection&&this.id?this.collection.getRef(this).doc(this.optimisticId()):null:this.collection?this.collection.getRef(this).doc(this.optimisticId()):null}},{key:"get",value:function(e){throw new Error('Attribute "'+e+'" not found')}},{key:"has",value:function(e){return!!this[e]}},{key:"optimisticId",value:function(){return this.id?this.id:(this.optimistic_id||(this.optimistic_id=parseInt((new Date).getTime()*Math.random())),this.optimistic_id)}},{key:"setRefFromData",value:function(e){return e.__ref&&(this.ref=e.__ref,delete e.__ref),e}},{key:"set",value:function(e){e=this.setRefFromData(e),Object.assign(this,e)}},{key:"urlRoot",value:function(){throw new Error("`url` method not implemented")}},{key:"getJSON",value:function(){if(this.getAttributes)return this.getAttributes();var e=(0,l.toJS)(this.attributes);return JSON.stringify(e)}},{key:"fetch",value:function(e){var t=this,n=e&&e.url?e.url:this.url;if("Firebase"==this.storageMode()&&(n=this.firebaseRef(),this.listening.length>0&&this.listening.forEach((function(e){return e()})),this.firebase_realtime)){n=this.firebaseRef();var r=this.storage().listenCollection(n,(function(e){e=e||{},e=t.setRefFromData(e),t.prefillOnChange&&(e=t.prefillOnChange(e)),t.afterRealtime&&t.afterRealtime(e),t.events.set("change",!0)}),{type:"model"});this.listening.push(r)}var a=!!this.collection&&this.collection.globalstore.uistate.pushConnection({action:"FETCH_MODEL",model:this});return this.storage().get(n,{credentials:"include",type:"model"}).then((function(e){return a&&a.dispose(),(0,l.runInAction)("fetch-done",(function(){t.set(e),t.events.set("change",!0)})),e})).catch((function(e){a&&a.dispose(),(0,l.runInAction)("fetch-error",(function(){t.errors.set("change",e)}))}))}},{key:"destroy",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{optimistic:!0};if(t.optimistic=t.optimistic||!1,!this.has("id")&&this.collection)return this.collection.remove([this.optimisticId]),this.collection.removeModel(this),Promise.resolve();t.optimistic&&this.collection&&this.collection.remove([this.id]);var n=void 0;n="Firebase"==this.storageMode()?this.firebaseRef():t.url?t.url:this.url;var r=!!this.collection&&this.collection.globalstore.uistate.pushConnection({action:"DESTROY_MODEL",model:this});return this.storage().delete(n,this.id).then((function(n){(0,l.runInAction)("destroy-done",(function(){!t.optimistic&&e.collection&&e.collection.remove([e.id]),r&&r.dispose()}))})).catch((function(n){throw(0,l.runInAction)("destroy-fail",(function(){t.optimistic&&e.collection,r&&r.dispose()})),new Error("Error: Model destroy",n)}))}},{key:"getAttributes",value:function(){var e=this,t=Object.keys(this.defaults),n={};return t.forEach((function(t){n[t]=e[t],(0,l.isObservable)(n[t])&&(n[t]=(0,l.toJS)(e[t],!1))})),n}},{key:"save",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.optimistic=n.optimistic||!0,n.patch=n.patch||!1,n.quiet_sync=n.quiet_sync||!1;var r=void 0;"Firebase"==this.storageMode()?(n.patch=!1,r=n.ref?n.ref:this.firebaseRef()):r=n.url?n.url:this.url;var a=n.optimistic,o=void 0,i=void 0,s=this.getAttributes();if(n.patch?(o=Object.assign({},s,t),i=Object.assign({},t)):(o=Object.assign({},t),i=Object.assign({},s,t)),!this.has("id"))return this.set(Object.assign({},t)),this.collection?this.collection.create(this,{optimistic:a}):this._create(i,{optimistic:a});delete i.collection,this.preSave&&(this.collection&&this.collection.preSave&&this.collection.preSave(this),i=this.preSave(i,t)),this.last_modified=(new Date).getTime(),n.optimistic&&this.set(o);var c=!1;return n.quiet_sync||(c=!!this.collection&&this.collection.globalstore.uistate.pushConnection({action:"SAVE_MODEL",model:this})),this.storage().save(r,i,n.patch).then((function(t){(0,l.runInAction)("save-done",(function(){e.set(t),c&&c.dispose()}))})).catch((function(t){throw(0,l.runInAction)("save-fail",(function(){e.set(s),c&&c.dispose(),console.log(t)})),new Error("Error: Model save",t)}))}},{key:"_create",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.optimistic=n.optimistic||!0;var r=!!this.collection&&this.collection.globalstore.uistate.pushConnection({action:"CREATE_MODEL",model:this});return this.storage().create(this.url,t).then((function(t){(0,l.runInAction)("create-done",(function(){e.set(t),r&&r.dispose()}))})).catch((function(e){throw(0,l.runInAction)("create-error",(function(){r&&r.dispose()})),new Error("Error: Collection fetch",e)}))}},{key:"fillDefaults",value:function(e){return Object.assign(this.defaults,e)}},{key:"store",get:function(){return this.collection}},{key:"globalstore",get:function(){return this.collection?this.collection.globalstore:this.custom_globalstore}},{key:"defaults",get:function(){return{}}},{key:"isNew",get:function(){return!this.has("id")}},{key:"url",get:function(){var e=void 0;if(this.collection?(e=this.collection.url().split("?")[0],this.collection.url().split("?")[1]):e=this.urlRoot(),!e)throw new Error("Either implement `urlRoot` or assign a collection");return this.isNew?e:e+"/"+this.id}}]),e}(),a=p(r.prototype,"loading",[l.observable],{enumerable:!0,initializer:function(){return null}}),o=p(r.prototype,"last_modified",[l.observable],{enumerable:!0,initializer:function(){return null}}),i=p(r.prototype,"ref",[l.observable],{enumerable:!0,initializer:function(){return null}}),p(r.prototype,"set",[l.action],Object.getOwnPropertyDescriptor(r.prototype,"set"),r.prototype),p(r.prototype,"isNew",[l.computed],Object.getOwnPropertyDescriptor(r.prototype,"isNew"),r.prototype),p(r.prototype,"fetch",[l.action],Object.getOwnPropertyDescriptor(r.prototype,"fetch"),r.prototype),r);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),c=f(n(19)),u=f(n(269)),d=f(n(270));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _=(r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mapId={},this.listening=[],h(this,"request",a,this),h(this,"error",o,this),h(this,"models",i,this),this.queryFilters=l.observable.map(),this.getRefs=this.getRefs.bind(this),this.set(t,{add:!0})}return s(e,[{key:"url",value:function(){throw new Error("You must implement this method")}},{key:"storageMode",value:function(){return this.storage_type&&"Firebase"==this.storage_type?"Firebase":"HTTPSaver"==this.storage_type?"HTTPSaver":"standalone"==this.globalstore.user.type?"Firebase":"HTTPSaver"}},{key:"storage",value:function(){switch(this.storageMode()){case"Firebase":return d.default;case"HTTPSaver":return u.default}}},{key:"model",value:function(){return c.default}},{key:"_ids",value:function(){return map(this.models,(function(e){return e.id})).filter()}},{key:"at",value:function(e){return this.models[e]}},{key:"get",value:function(e){return!!this.mapId[e]&&this.mapId[e]}},{key:"add",value:function(e){var t,n=this,r=e.map((function(e){return n.build(e)}));return(t=this.models).push.apply(t,p(r)),r.forEach((function(e){e.id?(n.mapId[e.id],n.mapId[e.id]=e):e.optimisticId()&&(n.mapId[e.optimisticId()]=e)})),r}},{key:"fromJSON",value:function(e,t){var n=void 0;try{n=JSON.parse(e)}catch(e){throw new Error("Error: Collection set JSON",e)}t&&(this.models=[]),this.add(n)}},{key:"getJSON",value:function(){var e=this.models.map((function(e){var t=e.getJSON();return t&&t.collection&&delete t.collection,t}));return JSON.stringify(e)}},{key:"firebaseRefQuery",value:function(){return this.firebaseRef()}},{key:"set",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.add=void 0===n.add||n.add,n.change=void 0===n.change||n.change,n.remove=void 0===n.remove||n.remove,n.remove){var r=t.map((function(e){return e.id})),a=this.models.filter((function(e){return-1==r.indexOf(e.id)})).map((function(e){return e.id}));a.length&&this.remove(a)}t.forEach((function(t){var r=e.get(t.id);r&&n.change&&r.set(t),!r&&n.add&&e.add([t])})),1==t.length||n.remove}},{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new(this.model())(e);return t.collection=this,t}},{key:"errorModals",value:function(e){"Server issues"==e.message?store.uistate.current_modal="SERVER_ISSUE":"Credentials issues"==e.message&&(store&&store.user&&"standalone"!=store.user.type?store.uistate.current_modal="CREDENTIALS_ISSUE":window.location="/")}},{key:"getRef",value:function(e){var t=this.firebaseRef();return Array.isArray(t)&&(t=this.firebaseRefMultiSelector(e)),t}},{key:"beforeCreate",value:function(e){return e}},{key:"create",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{optimistic:!0},r=void 0,a=e instanceof c.default?e.getAttributes():e;if("Firebase"==this.storageMode()&&!a.id){var o=this.getRef(a);a.id=o.doc().id}a=this.beforeCreate(a),n.optimistic&&(r=e instanceof c.default?e:this.add([e])[0]),"Firebase"==this.storageMode()&&this.setId(r),Object.keys(a).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a[e])})).join("&");var i=this.globalstore.uistate.pushConnection({action:"CREATE_MODEL",model:r}),s=this.url();return"Firebase"==this.storageMode()&&(s=this.firebaseRef(),Array.isArray(s)&&(console.log("Selecting multi source",r),s=this.firebaseRefMultiSelector(r))),this.storage().create(s,a).then((function(e){return(0,l.runInAction)("create-done",(function(){r?t.get(e.id)?console.log("Duplicated model"):(r.set(e),t.setId(r)):(t.add([e]),console.log("Creating model")),i&&i.dispose()})),e})).catch((function(e){throw t.errorModals(e),(0,l.runInAction)("create-error",(function(){r&&t.remove([r.id]),i&&i.dispose()})),new Error("Error: Collection fetch",e)}))}},{key:"setId",value:function(e){e.id&&!this.mapId[e.id]&&(this.mapId[e.id]=e,this.mapId[e.optimistic_id]&&delete this.mapId[e.optimistic_id])}},{key:"createBatch",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{optimistic:!0};console.log("Creating batch"),e.forEach((function(e){var r=e instanceof c.default?e.attributes.toJS():e;if("Firebase"==t.storageMode()&&!r.id){var a=t.getRef(r);r.id=a.doc().id}n.optimistic})),this.listening.length>0&&this.listening.forEach((function(e){return e()}));var r=this.globalstore.uistate.pushConnection({action:"CREATE_BATCH"}),a=this.url();return"Firebase"==this.storageMode()&&(a=this.firebaseRef(),Array.isArray(a)&&(a=this.firebaseRefMultiSelector(model))),this.storage().createBatch(a,this.globalstore.db,e).then((function(){return r&&r.dispose(),t.fetch()})).catch((function(e){throw t.errorModals(e),(0,l.runInAction)("create-error",(function(){r&&r.dispose()})),new Error("Error: Collection fetch",e)}))}},{key:"fetch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.url?t.url:this.url();if("Firebase"==this.storageMode()){if(Array.isArray(this.firebaseRefQuery()))return this.multiFetch(t);if(n=this.firebaseRefQuery(),this.listening.length>0&&this.listening.forEach((function(e){return e()})),this.firebase_realtime)return new Promise((function(t,r){n=e.firebaseRefQuery();var a=e.storage().listenCollection(n,(function(n){if(0==e.models.length){var r=n.map((function(e){return e.data}));e.prefill&&(r=e.prefill(r)),e.set(r,{add:!0,change:!0}),e.afterReset&&e.afterReset(),t(e.models)}else{var a=[];n.forEach((function(t,n){var r=[t.data];"added"!=t.type&&"modified"!=t.type||(e.prefillOnChange&&(r=e.prefillOnChange(r)),a.push(r[0])),"removed"==t.type&&e.remove([r[0].id])})),e.set(a,{add:!0,change:!0,remove:!1}),t()}}));e.listening.push(a)}))}var r=this.globalstore.uistate.pushConnection({action:"FETCH_COLLECTION",model:!1});return this.storage().get(n).then((function(t){e.prefill&&(t=e.prefill(t)),e.set(t,{add:!0}),e.afterReset&&e.afterReset(),r&&r.dispose()})).catch((function(t){throw r&&r.dispose(),e.errorModals(t),console.log(t),new Error("Error: Collection fetch",t)}))}},{key:"listenRefs",value:function(){var e=this.firebaseRefQuery();this.listening.forEach((function(e){return e()})),e.forEach((function(e){}))}},{key:"getRefs",value:function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,s,l,c,u,d,f,h,m,_=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.firebaseRefQuery(),n=[],r=[],a=[],r=[[]],o=0,i=!0,s=!1,l=void 0,e.prev=9,c=t[Symbol.iterator]();case 11:if(i=(u=c.next()).done){e.next=33;break}if(d=u.value,o++,f=r.length-1,r[f].push(this.storage().get(d.ref)),!(r[f].length>=10)){e.next=25;break}return e.next=19,Promise.all(r[f]);case 19:h=e.sent,n.push.apply(n,p(h)),r.push([]),f=r.length-1,e.next=30;break;case 25:if(t.length!=o){e.next=30;break}return e.next=28,Promise.all(r[f]);case 28:m=e.sent,n.push.apply(n,p(m));case 30:i=!0,e.next=11;break;case 33:e.next=39;break;case 35:e.prev=35,e.t0=e.catch(9),s=!0,l=e.t0;case 39:e.prev=39,e.prev=40,!i&&c.return&&c.return();case 42:if(e.prev=42,!s){e.next=45;break}throw l;case 45:return e.finish(42);case 46:return e.finish(39);case 47:return n.forEach((function(e,n){if(_.prefillPartial){var r=t[n];e=_.prefillPartial(e,r.model,r.ref)}a.push.apply(a,p(e))})),e.abrupt("return",a);case 49:case"end":return e.stop()}}),e,this,[[9,35,39,47],[40,,42,46]])})),function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))});return function(){return t.apply(this,arguments)}}()},{key:"multiFetch",value:function(){var e=this,t=this.globalstore.uistate.pushConnection({action:"FETCH_COLLECTION",model:!1});return this.getRefs().then((function(n){e.prefill&&(n=e.prefill(n)),e.set(n,{add:!0}),e.afterReset&&e.afterReset(),t&&t.dispose()}))}},{key:"reset",value:function(e,t){this.mapId={},this.models=[],this.set(e,t),this.afterReset&&this.afterReset()}},{key:"remove",value:function(e){var t=this;e.forEach((function(e){var n=t.get(e);n&&(t.models.splice(t.models.indexOf(n),1),delete t.mapId[e])}))}},{key:"removeModel",value:function(e){-1!==this.models.indexOf(e)&&(this.models.splice(this.models.indexOf(e),1),delete this.mapId[e.id])}}]),e}(),a=m(r.prototype,"request",[l.observable],{enumerable:!0,initializer:function(){return null}}),o=m(r.prototype,"error",[l.observable],{enumerable:!0,initializer:function(){return null}}),i=m(r.prototype,"models",[l.observable],{enumerable:!0,initializer:function(){return[]}}),m(r.prototype,"add",[l.action],Object.getOwnPropertyDescriptor(r.prototype,"add"),r.prototype),m(r.prototype,"set",[l.action],Object.getOwnPropertyDescriptor(r.prototype,"set"),r.prototype),m(r.prototype,"create",[l.action],Object.getOwnPropertyDescriptor(r.prototype,"create"),r.prototype),m(r.prototype,"createBatch",[l.action],Object.getOwnPropertyDescriptor(r.prototype,"createBatch"),r.prototype),r);t.default=_},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(709),i=n(247),s=n(711),l=n(169),c=n(17),u=c.OrderedSet,d=c.Record,f=c.Stack,p=c.OrderedMap,h=c.List,m=d({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:f(),selection:null,treeMap:null,undoStack:f()}),_=function(){t.createEmpty=function(e){return this.createWithText("",e)},t.createWithText=function(e,n){return t.createWithContent(i.createFromText(e),n)},t.createWithContent=function(e,n){if(0===e.getBlockMap().count())return t.createEmpty(n);var r=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:f(),redoStack:f(),decorator:n||null,selection:l.createEmpty(r)})},t.create=function(e){var n=e.currentContent,a=r({},e,{treeMap:b(n,e.decorator),directionMap:s.getDirectionMap(n)});return new t(new m(a))},t.fromJS=function(e){return new t(new m(r({},e,{directionMap:null!=e.directionMap?p(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?u(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?i.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?f(e.redoStack.map((function(e){return i.fromJS(e)}))):e.redoStack,selection:null!=e.selection?new l(e.selection):e.selection,treeMap:null!=e.treeMap?p(e.treeMap).map((function(e){return h(e).map((function(e){return o.fromJS(e)}))})):e.treeMap,undoStack:null!=e.undoStack?f(e.undoStack.map((function(e){return i.fromJS(e)}))):e.undoStack,currentContent:i.fromJS(e.currentContent)})))},t.set=function(e,n){return new t(e.getImmutable().withMutations((function(t){var r=t.get("decorator"),a=r;null===n.decorator?a=null:n.decorator&&(a=n.decorator);var i=n.currentContent||e.getCurrentContent();if(a!==r){var s,l=t.get("treeMap");return s=a&&r?function(e,t,n,r,a){return n.merge(t.toSeq().filter((function(t){return r.getDecorations(t,e)!==a.getDecorations(t,e)})).map((function(t){return o.generate(e,t,r)})))}(i,i.getBlockMap(),l,a,r):b(i,a),void t.merge({decorator:a,treeMap:s,nativelyRenderedContent:null})}i!==e.getCurrentContent()&&t.set("treeMap",function(e,t,n,r){var a=e.getCurrentContent().set("entityMap",n),i=a.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter((function(e,t){return e!==i.get(t)})).map((function(e){return o.generate(a,e,r)})))}(e,i.getBlockMap(),i.getEntityMap(),a)),t.merge(n)})))};var e=t.prototype;function t(e){a(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,n){return t.set(e,{inlineStyleOverride:n})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),a=e.getBlockForKey(n);return r>0?a.getInlineStyleAt(r-1):a.getLength()?a.getInlineStyleAt(0):y(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),a=e.getBlockForKey(n);return r<a.getLength()?a.getInlineStyleAt(r):r>0?a.getInlineStyleAt(r-1):y(e,n)}(t,n)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(e,t){return g(e,t,!1)},t.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),g(e,t,!0)},t.moveSelectionToEnd=function(e){var n=e.getCurrentContent().getLastBlock(),r=n.getKey(),a=n.getLength();return t.acceptSelection(e,new l({anchorKey:r,anchorOffset:a,focusKey:r,focusOffset:a,isBackward:!1}))},t.moveFocusToEnd=function(e){var n=t.moveSelectionToEnd(e);return t.forceSelection(n,n.getSelection())},t.push=function(e,n,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===n)return e;var o=s.getDirectionMap(n,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:n,directionMap:o,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:a,inlineStyleOverride:null});var i=e.getSelection(),l=e.getCurrentContent(),c=e.getUndoStack(),u=n;i!==l.getSelectionAfter()||function(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}(e,r)?(c=c.push(l),u=u.set("selectionBefore",i)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(u=u.set("selectionBefore",l.getSelectionBefore()));var d=e.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(r)&&(d=null);var p={currentContent:u,directionMap:o,undoStack:c,redoStack:f(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:a,inlineStyleOverride:d};return t.set(e,p)},t.undo=function(e){if(!e.getAllowUndo())return e;var n=e.getUndoStack(),r=n.peek();if(!r)return e;var a=e.getCurrentContent(),o=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:n.shift(),redoStack:e.getRedoStack().push(a),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:a.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var n=e.getRedoStack(),r=n.peek();if(!r)return e;var a=e.getCurrentContent(),o=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:e.getUndoStack().push(a),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},t}();function g(e,t,n){return _.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function b(e,t){return e.getBlockMap().map((function(n){return o.generate(e,n,t)})).toOrderedMap()}function y(e,t){var n=e.getBlockMap().reverse().skipUntil((function(e,n){return n===t})).skip(1).skipUntil((function(e,t){return e.getLength()})).first();return n?n.getInlineStyleAt(n.getLength()-1):u()}e.exports=_},function(e,t,n){"use strict";n.d(t,"animated",(function(){return k}));var r=n(181);n.o(r,"config")&&n.d(t,"config",(function(){return r.config})),n.o(r,"to")&&n.d(t,"to",(function(){return r.to})),n.o(r,"useSpring")&&n.d(t,"useSpring",(function(){return r.useSpring})),n.o(r,"useTransition")&&n.d(t,"useTransition",(function(){return r.useTransition}));var a=n(15),o=n(5),i=n(24);function s(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}const l=["style","children","scrollTop","scrollLeft"],c=/^--/;function u(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||c.test(e)||f.hasOwnProperty(e)&&f[e]?(""+t).trim():t+"px"}const d={};let f={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const p=["Webkit","Ms","Moz","O"];f=Object.keys(f).reduce((e,t)=>(p.forEach(n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t]),e),f);const h=["x","y","z"],m=/^(matrix|translate|scale|rotate|skew)/,_=/^(translate)/,g=/^(rotate|skew)/,b=(e,t)=>o.s.num(e)&&0!==e?e+t:e,y=(e,t)=>o.s.arr(e)?e.every(e=>y(e,t)):o.s.num(e)?e===t:parseFloat(e)===t;class v extends i.a{constructor(e){let{x:t,y:n,z:r}=e,a=s(e,h);const i=[],l=[];(t||n||r)&&(i.push([t||0,n||0,r||0]),l.push(e=>[`translate3d(${e.map(e=>b(e,"px")).join(",")})`,y(e,0)])),Object(o.l)(a,(e,t)=>{if("transform"===t)i.push([e||""]),l.push(e=>[e,""===e]);else if(m.test(t)){if(delete a[t],o.s.und(e))return;const n=_.test(t)?"px":g.test(t)?"deg":"";i.push(Object(o.y)(e)),l.push("rotate3d"===t?([e,t,r,a])=>[`rotate3d(${e},${t},${r},${b(a,n)})`,y(a,0)]:e=>[`${t}(${e.map(e=>b(e,n)).join(",")})`,y(e,t.startsWith("scale")?1:0)])}}),i.length&&(a.transform=new A(i,l)),super(a)}}class A extends o.a{constructor(e,t){super(),this._value=null,this.inputs=e,this.transforms=t}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Object(o.k)(this.inputs,(n,r)=>{const a=Object(o.q)(n[0]),[i,s]=this.transforms[r](o.s.arr(a)?a:n.map(o.q));e+=" "+i,t=t&&s}),t?"none":e}observerAdded(e){1==e&&Object(o.k)(this.inputs,e=>Object(o.k)(e,e=>Object(o.r)(e)&&Object(o.c)(e,this)))}observerRemoved(e){0==e&&Object(o.k)(this.inputs,e=>Object(o.k)(e,e=>Object(o.r)(e)&&Object(o.x)(e,this)))}eventObserved(e){"change"==e.type&&(this._value=null),Object(o.d)(this,e)}}const w=["scrollTop","scrollLeft"];r.Globals.assign({batchedUpdates:a.unstable_batchedUpdates,createStringInterpolator:o.g,colors:o.e});const k=Object(i.d)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,{style:a,children:o,scrollTop:i,scrollLeft:f}=r,p=s(r,l),h=Object.values(p),m=Object.keys(p).map(t=>n||e.hasAttribute(t)?t:d[t]||(d[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));void 0!==o&&(e.textContent=o);for(let t in a)if(a.hasOwnProperty(t)){const n=u(t,a[t]);c.test(t)?e.style.setProperty(t,n):e.style[t]=n}m.forEach((t,n)=>{e.setAttribute(t,h[n])}),void 0!==i&&(e.scrollTop=i),void 0!==f&&(e.scrollLeft=f)},createAnimatedStyle:e=>new v(e),getComponentProps:e=>s(e,w)}).animated},function(e,t,n){"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return s}));var r=n(5),a=n(0);const o=Symbol.for("Animated:node"),i=e=>e&&e[o],s=(e,t)=>Object(r.h)(e,o,t),l=e=>e&&e[o]&&e[o].getPayload();class c{constructor(){this.payload=void 0,s(this,this)}getPayload(){return this.payload||[]}}class u extends c{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,r.s.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new u(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return r.s.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,r.s.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class d extends u{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=Object(r.f)({output:[e,e]})}static create(e){return new d(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(r.s.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=Object(r.f)({output:[this.getValue(),e]})),this._value=0,super.reset()}}const f={dependencies:null};class p extends c{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Object(r.l)(this.source,(n,a)=>{(e=>!!e&&e[o]===e)(n)?t[a]=n.getValue(e):Object(r.r)(n)?t[a]=Object(r.q)(n):e||(t[a]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Object(r.k)(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Object(r.l)(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){f.dependencies&&Object(r.r)(e)&&f.dependencies.add(e);const t=l(e);t&&Object(r.k)(t,e=>this.add(e))}}class h extends p{constructor(e){super(e)}static create(e){return new h(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((t,n)=>t.setValue(e[n])).some(Boolean):(super.setValue(e.map(m)),!0)}}function m(e){return(Object(r.t)(e)?d:u).create(e)}function _(e){const t=i(e);return t?t.constructor:r.s.arr(e)?h:Object(r.t)(e)?d:u}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const b=(e,t)=>{const n=!r.s.fun(e)||e.prototype&&e.prototype.isReactComponent;return Object(a.forwardRef)((o,i)=>{const s=Object(a.useRef)(null),l=n&&Object(a.useCallback)(e=>{s.current=function(e,t){return e&&(r.s.fun(e)?e(t):e.current=t),t}(i,e)},[i]),[c,u]=function(e,t){const n=new Set;return f.dependencies=n,e.style&&(e=g({},e,{style:t.createAnimatedStyle(e.style)})),e=new p(e),f.dependencies=null,[e,n]}(o,t),d=Object(r.z)(),h=()=>{const e=s.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,c.getValue(!0)))&&d()},m=new y(h,u),_=Object(a.useRef)();Object(r.A)(()=>(_.current=m,Object(r.k)(u,e=>Object(r.c)(e,m)),()=>{_.current&&(Object(r.k)(_.current.deps,e=>Object(r.x)(e,_.current)),r.w.cancel(_.current.update))})),Object(a.useEffect)(h,[]),Object(r.C)(()=>()=>{const e=_.current;Object(r.k)(e.deps,t=>Object(r.x)(t,e))});const b=t.getComponentProps(c.getValue());return a.createElement(e,g({},b,{ref:l}))})};class y{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&r.w.write(this.update)}}const v=Symbol.for("AnimatedComponent"),A=(e,{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new p(e)),getComponentProps:a=(e=>e)}={})=>{const o={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:a},i=e=>{const t=w(e)||"Anonymous";return(e=r.s.str(e)?i[e]||(i[e]=b(e,o)):e[v]||(e[v]=b(e,o))).displayName=`Animated(${t})`,e};return Object(r.l)(e,(t,n)=>{r.s.arr(e)&&(n=w(t)),i[n]=i(t)}),{animated:i}},w=e=>r.s.str(e)?e:e&&r.s.str(e.displayName)?e.displayName:r.s.fun(e)&&e.name||null},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((a=e[n])===(o=t[n])||r(a)&&r(o)))return!1;var a,o;return!0}t.a=function(e,t){var n;void 0===t&&(t=a);var r,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(127),a=n(4),o=n(2);function i(e){if(Object(o.a)(1,arguments),!Object(r.default)(e)&&"number"!=typeof e)return!1;var t=Object(a.default)(e);return!isNaN(Number(t))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(4),a=n(8),o=n(2);function i(e,t){Object(o.a)(1,arguments);var n=t||{},i=n.locale,s=i&&i.options&&i.options.weekStartsOn,l=null==s?0:Object(a.a)(s),c=null==n.weekStartsOn?l:Object(a.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(r.default)(e),d=u.getDay(),f=(d<c?7:0)+d-c;return u.setDate(u.getDate()-f),u.setHours(0,0,0,0),u}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(4),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(a.default)(e),i=Object(r.a)(t);return isNaN(i)?new Date(NaN):i?(n.setDate(n.getDate()+i),n):n}},function(e,t){e.exports=moment},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(23),a=n(49),o=n(2),i=864e5;function s(e,t){Object(o.a)(2,arguments);var n=Object(a.default)(e),s=Object(a.default)(t),l=n.getTime()-Object(r.a)(n),c=s.getTime()-Object(r.a)(s);return Math.round((l-c)/i)}},function(e,t,n){var r=n(119);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},function(e,t,n){"use strict";var r=n(39),a=n(699),o=n(700),i=n(702),s=n(167),l=n(17),c=n(705),u=n(706),d=n(18),f=n(363),p=n(361),h=n(707),m=n(708),_=l.OrderedSet,g={replaceText:function(e,t,n,a,o){var i=p(e,t),s=h(i,t),l=r.create({style:a||_(),entity:o||null});return u(s,s.getSelectionAfter(),n,l)},insertText:function(e,t,n,r,a){return t.isCollapsed()||d(!1),g.replaceText(e,t,n,r,a)},moveText:function(e,t,n){var r=s(e,t),a=g.removeRange(e,t,"backward");return g.replaceWithFragment(a,n,r)},replaceWithFragment:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",a=p(e,t),o=h(a,t);return c(o,o.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r,a,o,s;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),a=t.getFocusKey(),o=e.getBlockForKey(r),s=e.getBlockForKey(a);var l=t.getStartOffset(),c=t.getEndOffset(),u=o.getEntityAt(l),d=s.getEntityAt(c-1);if(r===a&&u&&u===d){var f=i(e.getEntityMap(),o,s,t,n);return h(e,f)}var m=p(e,t);return h(m,t)},splitBlock:function(e,t){var n=p(e,t),r=h(n,t);return m(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return a.add(e,t,n)},removeInlineStyle:function(e,t,n){return a.remove(e,t,n)},setBlockType:function(e,t,n){return f(e,t,(function(e){return e.merge({type:n,depth:0})}))},setBlockData:function(e,t,n){return f(e,t,(function(e){return e.merge({data:n})}))},mergeBlockData:function(e,t,n){return f(e,t,(function(e){return e.merge({data:e.getData().merge(n)})}))},applyEntity:function(e,t,n){var r=p(e,t);return o(r,t,n)}};e.exports=g},function(e,t,n){"use strict";e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},function(e,t,n){"use strict";var r=n(718),a=n(721),o=n(722),i=n(723);function s(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,a.contains(o,t))}function l(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var c={isBrowser:function(e){return s(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return s(r.browserArchitecture,null,e)},isDevice:function(e){return s(r.deviceName,null,e)},isEngine:function(e){return s(r.engineName,r.engineVersion,e)},isPlatform:function(e){return s(r.platformName,r.platformFullVersion,e,l)},isPlatformArchitecture:function(e){return s(r.platformArchitecture,null,e)}};e.exports=o(c,i)},function(e,t,n){var r=n(301),a=n(530),o=n(101);e.exports=function(e){return o(e)?r(e):a(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(17),a=r.Map,o=r.OrderedSet,i=r.Record,s=o(),l={style:s,entity:null},c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getStyle=function(){return this.get("style")},i.getEntity=function(){return this.get("entity")},i.hasStyle=function(e){return this.getStyle().includes(e)},r.applyStyle=function(e,t){var n=e.set("style",e.getStyle().add(t));return r.create(n)},r.removeStyle=function(e,t){var n=e.set("style",e.getStyle().remove(t));return r.create(n)},r.applyEntity=function(e,t){var n=e.getEntity()===t?e:e.set("entity",t);return r.create(n)},r.create=function(e){if(!e)return u;var t=a({style:s,entity:null}).merge(e),n=d.get(t);if(n)return n;var o=new r(t);return d=d.set(t,o),o},r.fromJS=function(e){var t=e.style,n=e.entity;return new r({style:Array.isArray(t)?o(t):t,entity:Array.isArray(n)?o(n):n})},r}(i(l)),u=new c,d=a([[a(l),u]]);c.EMPTY=u,e.exports=c},function(e,t,n){"use strict";var r=n(39),a=n(124),o=n(17),i=o.List,s=o.Map,l=o.OrderedSet,c=o.Record,u=o.Repeat,d=l(),f={parent:null,characterList:i(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:i(),prevSibling:null,nextSibling:null},p=function(e,t){return e.getStyle()===t.getStyle()},h=function(e,t){return e.getEntity()===t.getEntity()},m=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=i(u(r.EMPTY,n.length))),e},_=function(e){var t,n;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return e.call(this,m(t))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getKey=function(){return this.get("key")},o.getType=function(){return this.get("type")},o.getText=function(){return this.get("text")},o.getCharacterList=function(){return this.get("characterList")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get("depth")},o.getData=function(){return this.get("data")},o.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():d},o.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},o.getChildKeys=function(){return this.get("children")},o.getParentKey=function(){return this.get("parent")},o.getPrevSiblingKey=function(){return this.get("prevSibling")},o.getNextSiblingKey=function(){return this.get("nextSibling")},o.findStyleRanges=function(e,t){a(this.getCharacterList(),p,e,t)},o.findEntityRanges=function(e,t){a(this.getCharacterList(),h,e,t)},r}(c(f));e.exports=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPropsDecorator=t.defaultStyle=t.EnhancerProvider=t.createSubstyle=void 0;var r=s(n(322)),a=s(n(605)),o=s(n(606)),i=s(n(323));function s(e){return e&&e.__esModule?e:{default:e}}t.createSubstyle=r.default,t.EnhancerProvider=o.default,t.defaultStyle=a.default,t.defaultPropsDecorator=i.default,t.default=(0,a.default)()},function(e,t,n){"use strict";var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var o={date:a({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:a({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:a({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function s(e){return function(t,n){var r,a=n||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=a.width?String(a.width):o;r=e.formattingValues[i]||e.formattingValues[o]}else{var s=e.defaultWidth,l=a.width?String(a.width):e.defaultWidth;r=e.values[l]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function l(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var i,s=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(l,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(l,(function(e){return e.test(s)}));return i=e.valueCallback?e.valueCallback(c):c,{value:i=n.valueCallback?n.valueCallback(i):i,rest:t.slice(s.length)}}}var c,u={code:"en-US",formatDistance:function(e,t,n){var a,o=r[e];return a="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},formatLong:o,formatRelative:function(e,t,n,r){return i[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:s({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:s({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:s({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:s({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:s({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(c={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(c.matchPattern);if(!n)return null;var r=n[0],a=e.match(c.parsePattern);if(!a)return null;var o=c.valueCallback?c.valueCallback(a[0]):a[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:l({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:l({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:l({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:l({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:l({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};t.a=u},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){(function(e){!function(t,n,r,a,o,i,s,l,c,u,d,f,p,h,m,_,g,b,y,v,A,w,k,E,x,O,C,j,D,N,S,T,M,P,B,I,L,U,R,F,z,Q,H,Y,K,W,q,G,V,$,X,J,Z,ee,te,ne,re,ae,oe,ie,se,le){"use strict";function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&de(e.prototype,t),n&&de(e,n),e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var a=be(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ye(e):t}(this,n)}}function Ae(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function we(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,f=f&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,m=m&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m,_=_&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_,g=g&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g,b=b&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b,y=y&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y,v=v&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v,A=A&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A,w=w&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w,k=k&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k,E=E&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E,x=x&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x,O=O&&Object.prototype.hasOwnProperty.call(O,"default")?O.default:O,C=C&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C,j=j&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j,D=D&&Object.prototype.hasOwnProperty.call(D,"default")?D.default:D,N=N&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N,S=S&&Object.prototype.hasOwnProperty.call(S,"default")?S.default:S,T=T&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T,M=M&&Object.prototype.hasOwnProperty.call(M,"default")?M.default:M,P=P&&Object.prototype.hasOwnProperty.call(P,"default")?P.default:P,B=B&&Object.prototype.hasOwnProperty.call(B,"default")?B.default:B,I=I&&Object.prototype.hasOwnProperty.call(I,"default")?I.default:I,L=L&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L,U=U&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U,R=R&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R,F=F&&Object.prototype.hasOwnProperty.call(F,"default")?F.default:F,z=z&&Object.prototype.hasOwnProperty.call(z,"default")?z.default:z,Q=Q&&Object.prototype.hasOwnProperty.call(Q,"default")?Q.default:Q,H=H&&Object.prototype.hasOwnProperty.call(H,"default")?H.default:H,Y=Y&&Object.prototype.hasOwnProperty.call(Y,"default")?Y.default:Y,K=K&&Object.prototype.hasOwnProperty.call(K,"default")?K.default:K,W=W&&Object.prototype.hasOwnProperty.call(W,"default")?W.default:W,q=q&&Object.prototype.hasOwnProperty.call(q,"default")?q.default:q,G=G&&Object.prototype.hasOwnProperty.call(G,"default")?G.default:G,V=V&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V,$=$&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$,X=X&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X,J=J&&Object.prototype.hasOwnProperty.call(J,"default")?J.default:J,Z=Z&&Object.prototype.hasOwnProperty.call(Z,"default")?Z.default:Z,ee=ee&&Object.prototype.hasOwnProperty.call(ee,"default")?ee.default:ee,te=te&&Object.prototype.hasOwnProperty.call(te,"default")?te.default:te,ne=ne&&Object.prototype.hasOwnProperty.call(ne,"default")?ne.default:ne,re=re&&Object.prototype.hasOwnProperty.call(re,"default")?re.default:re,ae=ae&&Object.prototype.hasOwnProperty.call(ae,"default")?ae.default:ae,oe=oe&&Object.prototype.hasOwnProperty.call(oe,"default")?oe.default:oe,ie=ie&&Object.prototype.hasOwnProperty.call(ie,"default")?ie.default:ie,se=se&&Object.prototype.hasOwnProperty.call(se,"default")?se.default:se;var ke={p:we,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),a=r[1],o=r[2];if(!o)return Ae(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Ae(a,t)).replace("{{time}}",we(o,t))}},Ee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function xe(e){var t=e?"string"==typeof e||e instanceof String?ie(e):ae(e):new Date;return Ce(t)?t:null}function Oe(e,t,n,r){var a=null,o=Re(n)||Ue(),i=!0;return Array.isArray(t)?(t.forEach((function(t){var n=oe(e,t,new Date,{locale:o});r&&(i=Ce(n)&&e===s(n,t,{awareOfUnicodeTokens:!0})),Ce(n)&&i&&(a=n)})),a):(a=oe(e,t,new Date,{locale:o}),r?i=Ce(a)&&e===s(a,t,{awareOfUnicodeTokens:!0}):Ce(a)||(t=t.match(Ee).map((function(e){var t=e[0];return"p"===t||"P"===t?o?(0,ke[t])(e,o.formatLong):t:e})).join(""),e.length>0&&(a=oe(e,t.slice(0,e.length),new Date)),Ce(a)||(a=new Date(e))),Ce(a)&&i?a:null)}function Ce(e){return i(e)&&te(e,new Date("1/1/1000"))}function je(e,t,n){if("en"===n)return s(e,t,{awareOfUnicodeTokens:!0});var r=Re(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Ue()&&Re(Ue())&&(r=Re(Ue())),s(e,t,{locale:r||null,awareOfUnicodeTokens:!0})}function De(e,t){var n=t.hour,r=void 0===n?0:n,a=t.minute,o=void 0===a?0:a,i=t.second;return T(S(N(e,void 0===i?0:i),o),r)}function Ne(e,t){var n=Re(t||Ue());return H(e,{locale:n})}function Se(e){return Y(e)}function Te(e,t){return e&&t?Z(e,t):!e&&!t}function Me(e,t){return e&&t?J(e,t):!e&&!t}function Pe(e,t){return e&&t?ee(e,t):!e&&!t}function Be(e,t){return e&&t?X(e,t):!e&&!t}function Ie(e,t){return e&&t?$(e,t):!e&&!t}function Le(e,t,n){var r,a=Q(t),o=q(n);try{r=re(e,{start:a,end:o})}catch(e){r=!1}return r}function Ue(){return("undefined"!=typeof window?window:e).__localeId__}function Re(t){if("string"==typeof t){var n="undefined"!=typeof window?window:e;return n.__localeData__?n.__localeData__[t]:null}return t}function Fe(e,t){return je(M(xe(),e),"LLLL",t)}function ze(e,t){return je(M(xe(),e),"LLL",t)}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,o=t.includeDates,i=t.filterDate;return qe(e,{minDate:n,maxDate:r})||a&&a.some((function(t){return Be(e,t)}))||o&&!o.some((function(t){return Be(e,t)}))||i&&!i(xe(e))||!1}function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,o=t.includeDates,i=t.filterDate;return qe(e,{minDate:n,maxDate:r})||a&&a.some((function(t){return Me(e,t)}))||o&&!o.some((function(t){return Me(e,t)}))||i&&!i(xe(e))||!1}function Ye(e,t,n,r){var a=j(e),o=O(e),i=j(t),s=O(t),l=j(r);return a===i&&a===l?o<=n&&n<=s:a<i?l===a&&o<=n||l===i&&s>=n||l<i&&l>a:void 0}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,o=t.includeDates,i=t.filterDate;return qe(e,{minDate:n,maxDate:r})||a&&a.some((function(t){return Pe(e,t)}))||o&&!o.some((function(t){return Pe(e,t)}))||i&&!i(xe(e))||!1}function We(e,t,n,r){var a=j(e),o=C(e),i=j(t),s=C(t),l=j(r);return a===i&&a===l?o<=n&&n<=s:a<i?l===a&&o<=n||l===i&&s>=n||l<i&&l>a:void 0}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&U(e,n)<0||r&&U(e,r)>0}function Ge(e,t){for(var n=t.length,r=0;r<n;r++)if(w(t[r])===w(e)&&A(t[r])===A(e))return!0;return!1}function Ve(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a,o=xe(),i=T(S(o,A(e)),w(e)),s=T(S(o,A(n)),w(n)),l=T(S(o,A(r)),w(r));try{a=!re(i,{start:s,end:l})}catch(e){a=!1}return a}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,a=b(e,1);return n&&R(n,a)>0||r&&r.every((function(e){return R(e,a)>0}))||!1}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=f(e,1);return n&&R(a,n)>0||r&&r.every((function(e){return R(a,e)>0}))||!1}function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,a=y(e,1);return n&&z(n,a)>0||r&&r.every((function(e){return z(e,a)>0}))||!1}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=p(e,1);return n&&z(a,n)>0||r&&r.every((function(e){return z(a,e)>0}))||!1}function et(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return U(e,t)>=0}));return I(r)}return n?I(n):t}function tt(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return U(e,t)<=0}));return L(r)}return n?L(n):t}function nt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,a=e.length;r<a;r++){var i=e[r];if(o(i)){var s=je(i,"MM.dd.yyyy"),l=n.get(s)||[];l.includes(t)||(l.push(t),n.set(s,l))}else if("object"===ce(i)){var c=Object.keys(i),u=c[0],d=i[c[0]];if("string"==typeof u&&d.constructor===Array)for(var f=0,p=d.length;f<p;f++){var h=je(d[f],"MM.dd.yyyy"),m=n.get(h)||[];m.includes(u)||(m.push(u),n.set(h,m))}}}return n}function rt(e,t,n,r,a){for(var o=a.length,i=[],s=0;s<o;s++){var u=l(c(e,w(a[s])),A(a[s])),d=l(e,(n+1)*r);te(u,t)&&ne(u,d)&&i.push(a[s])}return i}function at(e){return e<10?"0".concat(e):"".concat(e)}function ot(e,t,n,r){for(var a=[],o=0;o<2*t+1;o++){var i=e+t-o,s=!0;n&&(s=j(n)<=i),r&&s&&(s=j(r)>=i),s&&a.push(i)}return a}var it=se(function(e){ge(r,e);var t=ve(r);function r(e){var a;ue(this,r),pe(ye(a=t.call(this,e)),"renderOptions",(function(){var e=a.props.year,t=a.state.yearsList.map((function(t){return n.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:a.onChange.bind(ye(a),t)},e===t?n.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",t)})),r=a.props.minDate?j(a.props.minDate):null,o=a.props.maxDate?j(a.props.maxDate):null;return o&&a.state.yearsList.find((function(e){return e===o}))||t.unshift(n.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},n.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&a.state.yearsList.find((function(e){return e===r}))||t.push(n.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},n.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t})),pe(ye(a),"onChange",(function(e){a.props.onChange(e)})),pe(ye(a),"handleClickOutside",(function(){a.props.onCancel()})),pe(ye(a),"shiftYears",(function(e){var t=a.state.yearsList.map((function(t){return t+e}));a.setState({yearsList:t})})),pe(ye(a),"incrementYears",(function(){return a.shiftYears(1)})),pe(ye(a),"decrementYears",(function(){return a.shiftYears(-1)}));var o=e.yearDropdownItemNumber,i=e.scrollableYearDropdown,s=o||(i?10:5);return a.state={yearsList:ot(a.props.year,s,a.props.minDate,a.props.maxDate)},a}return fe(r,[{key:"render",value:function(){var e=a({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return n.createElement("div",{className:e},this.renderOptions())}}]),r}(n.Component)),st=function(e){ge(r,e);var t=ve(r);function r(){var e;ue(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return pe(ye(e=t.call.apply(t,[this].concat(o))),"state",{dropdownVisible:!1}),pe(ye(e),"renderSelectOptions",(function(){for(var t=e.props.minDate?j(e.props.minDate):1900,r=e.props.maxDate?j(e.props.maxDate):2100,a=[],o=t;o<=r;o++)a.push(n.createElement("option",{key:o,value:o},o));return a})),pe(ye(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),pe(ye(e),"renderSelectMode",(function(){return n.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),pe(ye(e),"renderReadView",(function(t){return n.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(t){return e.toggleDropdown(t)}},n.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),n.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))})),pe(ye(e),"renderDropdown",(function(){return n.createElement(it,{key:"dropdown",year:e.props.year,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableYearDropdown:e.props.scrollableYearDropdown,yearDropdownItemNumber:e.props.yearDropdownItemNumber})})),pe(ye(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),pe(ye(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)})),pe(ye(e),"toggleDropdown",(function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},(function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)}))})),pe(ye(e),"handleYearChange",(function(t,n){e.onSelect(t,n),e.setOpen()})),pe(ye(e),"onSelect",(function(t,n){e.props.onSelect&&e.props.onSelect(t,n)})),pe(ye(e),"setOpen",(function(){e.props.setOpen&&e.props.setOpen(!0)})),e}return fe(r,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return n.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),r}(n.Component),lt=se(function(e){ge(r,e);var t=ve(r);function r(){var e;ue(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return pe(ye(e=t.call.apply(t,[this].concat(o))),"renderOptions",(function(){return e.props.monthNames.map((function(t,r){return n.createElement("div",{className:e.props.month===r?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(ye(e),r)},e.props.month===r?n.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",t)}))})),pe(ye(e),"onChange",(function(t){return e.props.onChange(t)})),pe(ye(e),"handleClickOutside",(function(){return e.props.onCancel()})),e}return fe(r,[{key:"render",value:function(){return n.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),r}(n.Component)),ct=function(e){ge(r,e);var t=ve(r);function r(){var e;ue(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return pe(ye(e=t.call.apply(t,[this].concat(o))),"state",{dropdownVisible:!1}),pe(ye(e),"renderSelectOptions",(function(e){return e.map((function(e,t){return n.createElement("option",{key:t,value:t},e)}))})),pe(ye(e),"renderSelectMode",(function(t){return n.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(t){return e.onChange(t.target.value)}},e.renderSelectOptions(t))})),pe(ye(e),"renderReadView",(function(t,r){return n.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},n.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),n.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[e.props.month]))})),pe(ye(e),"renderDropdown",(function(t){return n.createElement(lt,{key:"dropdown",month:e.props.month,monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown})})),pe(ye(e),"renderScrollMode",(function(t){var n=e.state.dropdownVisible,r=[e.renderReadView(!n,t)];return n&&r.unshift(e.renderDropdown(t)),r})),pe(ye(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)})),pe(ye(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return fe(r,[{key:"render",value:function(){var e,t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return ze(e,t.props.locale)}:function(e){return Fe(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(r);break;case"select":e=this.renderSelectMode(r)}return n.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),r}(n.Component);function ut(e,t){for(var n=[],r=Se(e),a=Se(t);!te(r,a);)n.push(xe(r)),r=f(r,1);return n}var dt=se(function(e){ge(r,e);var t=ve(r);function r(e){var a;return ue(this,r),pe(ye(a=t.call(this,e)),"renderOptions",(function(){return a.state.monthYearsList.map((function(e){var t=D(e),r=Te(a.props.date,e)&&Me(a.props.date,e);return n.createElement("div",{className:r?"react-datepicker__month-year-option --selected_month-year":"react-datepicker__month-year-option",key:t,onClick:a.onChange.bind(ye(a),t)},r?n.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",je(e,a.props.dateFormat))}))})),pe(ye(a),"onChange",(function(e){return a.props.onChange(e)})),pe(ye(a),"handleClickOutside",(function(){a.props.onCancel()})),a.state={monthYearsList:ut(a.props.minDate,a.props.maxDate)},a}return fe(r,[{key:"render",value:function(){var e=a({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return n.createElement("div",{className:e},this.renderOptions())}}]),r}(n.Component)),ft=function(e){ge(r,e);var t=ve(r);function r(){var e;ue(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return pe(ye(e=t.call.apply(t,[this].concat(o))),"state",{dropdownVisible:!1}),pe(ye(e),"renderSelectOptions",(function(){for(var t=Se(e.props.minDate),r=Se(e.props.maxDate),a=[];!te(t,r);){var o=D(t);a.push(n.createElement("option",{key:o,value:o},je(t,e.props.dateFormat,e.props.locale))),t=f(t,1)}return a})),pe(ye(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),pe(ye(e),"renderSelectMode",(function(){return n.createElement("select",{value:D(Se(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),pe(ye(e),"renderReadView",(function(t){var r=je(e.props.date,e.props.dateFormat,e.props.locale);return n.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(t){return e.toggleDropdown(t)}},n.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),n.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))})),pe(ye(e),"renderDropdown",(function(){return n.createElement(dt,{key:"dropdown",date:e.props.date,dateFormat:e.props.dateFormat,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableMonthYearDropdown:e.props.scrollableMonthYearDropdown})})),pe(ye(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),pe(ye(e),"onChange",(function(t){e.toggleDropdown();var n=xe(parseInt(t));Te(e.props.date,n)&&Me(e.props.date,n)||e.props.onChange(n)})),pe(ye(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return fe(r,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return n.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),r}(n.Component),pt=function(e){ge(r,e);var t=ve(r);function r(){var e;ue(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return pe(ye(e=t.call.apply(t,[this].concat(i))),"dayEl",n.createRef()),pe(ye(e),"handleClick",(function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)})),pe(ye(e),"handleMouseEnter",(function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)})),pe(ye(e),"handleOnKeyDown",(function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)})),pe(ye(e),"isSameDay",(function(t){return Be(e.props.day,t)})),pe(ye(e),"isKeyboardSelected",(function(){return!e.props.disabledKeyboardNavigation&&!e.props.inline&&!e.isSameDay(e.props.selected)&&e.isSameDay(e.props.preSelection)})),pe(ye(e),"isDisabled",(function(){return Qe(e.props.day,e.props)})),pe(ye(e),"isExcluded",(function(){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).excludeDates;return t&&t.some((function(t){return Be(e,t)}))||!1}(e.props.day,e.props)})),pe(ye(e),"getHighLightedClass",(function(t){var n=e.props,r=n.day,a=n.highlightDates;if(!a)return!1;var o=je(r,"MM.dd.yyyy");return a.get(o)})),pe(ye(e),"isInRange",(function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&Le(n,r,a)})),pe(ye(e),"isInSelectingRange",(function(){var t=e.props,n=t.day,r=t.selectsStart,a=t.selectsEnd,o=t.selectingDate,i=t.startDate,s=t.endDate;return!(!r&&!a||!o||e.isDisabled())&&(r&&s&&(ne(o,s)||Ie(o,s))?Le(n,o,s):!(!a||!i||!te(o,i)&&!Ie(o,i))&&Le(n,i,o))})),pe(ye(e),"isSelectingRangeStart",(function(){if(!e.isInSelectingRange())return!1;var t=e.props,n=t.day,r=t.selectingDate,a=t.startDate;return Be(n,t.selectsStart?r:a)})),pe(ye(e),"isSelectingRangeEnd",(function(){if(!e.isInSelectingRange())return!1;var t=e.props,n=t.day,r=t.selectingDate,a=t.endDate;return Be(n,t.selectsEnd?r:a)})),pe(ye(e),"isRangeStart",(function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&Be(r,n)})),pe(ye(e),"isRangeEnd",(function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&Be(a,n)})),pe(ye(e),"isWeekend",(function(){var t=k(e.props.day);return 0===t||6===t})),pe(ye(e),"isOutsideMonth",(function(){return void 0!==e.props.month&&e.props.month!==O(e.props.day)})),pe(ye(e),"getClassNames",(function(t){var n=e.props.dayClassName?e.props.dayClassName(t):void 0;return a("react-datepicker__day",n,"react-datepicker__day--"+function(e,t){return je(e,"ddd",void 0)}(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSameDay(e.props.selected),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isSameDay(xe()),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isOutsideMonth()},e.getHighLightedClass("react-datepicker__day--highlighted"))})),pe(ye(e),"getAriaLabel",(function(){var t=e.props,n=t.day,r=t.ariaLabelPrefixWhenEnabled,a=void 0===r?"Choose":r,o=t.ariaLabelPrefixWhenDisabled,i=void 0===o?"Not available":o,s=e.isDisabled()||e.isExcluded()?i:a;return"".concat(s," ").concat(je(n,"PPPP"))})),pe(ye(e),"getTabIndex",(function(t,n){var r=t||e.props.selected,a=n||e.props.preSelection;return e.isKeyboardSelected()||e.isSameDay(r)&&Be(a,r)?0:-1})),pe(ye(e),"handleFocusDay",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1;0===e.getTabIndex()&&!t.isInputFocused&&e.isSameDay(e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(n=!0)),n&&e.dayEl.current.focus()})),pe(ye(e),"render",(function(){return n.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"button","aria-disabled":e.isDisabled()},e.props.renderDayContents?e.props.renderDayContents(E(e.props.day),e.props.day):E(e.props.day))})),e}return fe(r,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(e){this.handleFocusDay(e)}}]),r}(n.Component),ht=function(e){ge(r,e);var t=ve(r);function r(){var e;ue(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return pe(ye(e=t.call.apply(t,[this].concat(a))),"handleClick",(function(t){e.props.onClick&&e.props.onClick(t)})),e}return fe(r,[{key:"render",value:function(){var e=this.props,t=e.weekNumber,r=e.ariaLabelPrefix,o=void 0===r?"week ":r,i={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!e.onClick};return n.createElement("div",{className:a(i),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick},t)}}]),r}(n.Component),mt=function(e){ge(r,e);var t=ve(r);function r(){var e;ue(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return pe(ye(e=t.call.apply(t,[this].concat(o))),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n)})),pe(ye(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),pe(ye(e),"handleWeekClick",(function(t,n,r){"function"==typeof e.props.onWeekSelect&&e.props.onWeekSelect(t,n,r),e.props.shouldCloseOnSelect&&e.props.setOpen(!1)})),pe(ye(e),"formatWeekNumber",(function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):function(e,t){var n=t&&Re(t)||Ue()&&Re(Ue());return x(e,n?{locale:n}:null)}(t,e.props.locale)})),pe(ye(e),"renderDays",(function(){var t=Ne(e.props.day,e.props.locale),r=[],a=e.formatWeekNumber(t);if(e.props.showWeekNumber){var o=e.props.onWeekSelect?e.handleWeekClick.bind(ye(e),t,a):void 0;r.push(n.createElement(ht,{key:"W",weekNumber:a,onClick:o,ariaLabelPrefix:e.props.ariaLabelPrefix}))}return r.concat([0,1,2,3,4,5,6].map((function(r){var a=u(t,r);return n.createElement(pt,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:a.valueOf(),day:a,month:e.props.month,onClick:e.handleDayClick.bind(ye(e),a),onMouseEnter:e.handleDayMouseEnter.bind(ye(e),a),minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,inline:e.props.inline,highlightDates:e.props.highlightDates,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,renderDayContents:e.props.renderDayContents,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef})})))})),e}return fe(r,[{key:"render",value:function(){return n.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),r}(n.Component),_t=function(e){ge(r,e);var t=ve(r);function r(){var e;ue(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return pe(ye(e=t.call.apply(t,[this].concat(i))),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n,e.props.orderInDisplay)})),pe(ye(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),pe(ye(e),"handleMouseLeave",(function(){e.props.onMouseLeave&&e.props.onMouseLeave()})),pe(ye(e),"isRangeStartMonth",(function(t){var n=e.props,r=n.day,a=n.startDate,o=n.endDate;return!(!a||!o)&&Me(M(r,t),a)})),pe(ye(e),"isRangeStartQuarter",(function(t){var n=e.props,r=n.day,a=n.startDate,o=n.endDate;return!(!a||!o)&&Pe(P(r,t),a)})),pe(ye(e),"isRangeEndMonth",(function(t){var n=e.props,r=n.day,a=n.startDate,o=n.endDate;return!(!a||!o)&&Me(M(r,t),o)})),pe(ye(e),"isRangeEndQuarter",(function(t){var n=e.props,r=n.day,a=n.startDate,o=n.endDate;return!(!a||!o)&&Pe(P(r,t),o)})),pe(ye(e),"isWeekInMonth",(function(t){var n=e.props.day,r=u(t,6);return Me(t,n)||Me(r,n)})),pe(ye(e),"renderWeeks",(function(){for(var t=[],r=e.props.fixedHeight,a=Ne(Se(e.props.day),e.props.locale),o=0,i=!1;t.push(n.createElement(mt,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:e.props.disabledDayAriaLabelPrefix,key:o,day:a,month:O(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,onWeekSelect:e.props.onWeekSelect,formatWeekNumber:e.props.formatWeekNumber,locale:e.props.locale,minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,inline:e.props.inline,highlightDates:e.props.highlightDates,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,showWeekNumber:e.props.showWeekNumbers,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,setOpen:e.props.setOpen,shouldCloseOnSelect:e.props.shouldCloseOnSelect,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,renderDayContents:e.props.renderDayContents,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef})),!i;){o++,a=d(a,1);var s=r&&o>=6,l=!r&&!e.isWeekInMonth(a);if(s||l){if(!e.props.peekNextMonth)break;i=!0}}return t})),pe(ye(e),"onMonthClick",(function(t,n){e.handleDayClick(Se(M(e.props.day,n)),t)})),pe(ye(e),"onQuarterClick",(function(t,n){e.handleDayClick(function(e){return K(e)}(P(e.props.day,n)),t)})),pe(ye(e),"getMonthClassNames",(function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate,s=n.selected,l=n.minDate,c=n.maxDate;return a("react-datepicker__month-text","react-datepicker__month-".concat(t),{"react-datepicker__month--disabled":(l||c)&&He(M(r,t),e.props),"react-datepicker__month--selected":O(r)===t&&j(r)===j(s),"react-datepicker__month--in-range":Ye(o,i,t,r),"react-datepicker__month--range-start":e.isRangeStartMonth(t),"react-datepicker__month--range-end":e.isRangeEndMonth(t)})})),pe(ye(e),"getQuarterClassNames",(function(t){var n=e.props,r=n.day,o=n.startDate,i=n.endDate,s=n.selected,l=n.minDate,c=n.maxDate;return a("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter--disabled":(l||c)&&Ke(P(r,t),e.props),"react-datepicker__quarter--selected":C(r)===t&&j(r)===j(s),"react-datepicker__quarter--in-range":We(o,i,t,r),"react-datepicker__quarter--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter--range-end":e.isRangeEndQuarter(t)})})),pe(ye(e),"renderMonths",(function(){var t=e.props,r=t.showFullMonthYearPicker,a=t.locale;return[[0,1,2],[3,4,5],[6,7,8],[9,10,11]].map((function(t,o){return n.createElement("div",{className:"react-datepicker__month-wrapper",key:o},t.map((function(t,o){return n.createElement("div",{key:o,onClick:function(n){e.onMonthClick(n,t)},className:e.getMonthClassNames(t)},r?Fe(t,a):ze(t,a))})))}))})),pe(ye(e),"renderQuarters",(function(){return n.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(t,r){return n.createElement("div",{key:r,onClick:function(n){e.onQuarterClick(n,t)},className:e.getQuarterClassNames(t)},function(e,t){return je(P(xe(),e),"QQQ",t)}(t,e.props.locale))})))})),pe(ye(e),"getClassNames",(function(){var t=e.props,n=t.selectingDate,r=t.selectsStart,o=t.selectsEnd,i=t.showMonthYearPicker,s=t.showQuarterYearPicker;return a("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||o)},{"react-datepicker__monthPicker":i},{"react-datepicker__quarterPicker":s})})),e}return fe(r,[{key:"render",value:function(){var e=this.props,t=e.showMonthYearPicker,r=e.showQuarterYearPicker,a=e.day,o=e.ariaLabelPrefix,i=void 0===o?"month ":o;return n.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(i," ").concat(je(a,"yyyy-MM"))},t?this.renderMonths():r?this.renderQuarters():this.renderWeeks())}}]),r}(n.Component),gt=function(e){ge(r,e);var t=ve(r);function r(){var e;ue(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return pe(ye(e=t.call.apply(t,[this].concat(o))),"state",{height:null}),pe(ye(e),"handleClick",(function(t){(e.props.minTime||e.props.maxTime)&&Ve(t,e.props)||e.props.excludeTimes&&Ge(t,e.props.excludeTimes)||e.props.includeTimes&&!Ge(t,e.props.includeTimes)||e.props.onChange(t)})),pe(ye(e),"liClasses",(function(t,n,r){var a=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t,n,r):void 0];return e.props.selected&&n===w(t)&&r===A(t)&&a.push("react-datepicker__time-list-item--selected"),((e.props.minTime||e.props.maxTime)&&Ve(t,e.props)||e.props.excludeTimes&&Ge(t,e.props.excludeTimes)||e.props.includeTimes&&!Ge(t,e.props.includeTimes))&&a.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(60*w(t)+A(t))%e.props.intervals!=0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")})),pe(ye(e),"renderTimes",(function(){for(var t=[],r=e.props.format?e.props.format:"p",a=e.props.intervals,o=e.props.selected||e.props.openToDate||xe(),i=w(o),s=A(o),c=function(e){return Q(e)}(xe()),u=1440/a,d=e.props.injectTimes&&e.props.injectTimes.sort((function(e,t){return e-t})),f=0;f<u;f++){var p=l(c,f*a);if(t.push(p),d){var h=rt(c,p,f,a,d);t=t.concat(h)}}return t.map((function(t,a){return n.createElement("li",{key:a,onClick:e.handleClick.bind(ye(e),t),className:e.liClasses(t,i,s),ref:function(n){i===w(t)&&s>=A(t)&&(e.centerLi=n)}},je(t,r,e.props.locale))}))})),e}return fe(r,[{key:"componentDidMount",value:function(){this.list.scrollTop=r.calcCenterPosition(this.props.monthRef?this.props.monthRef.clientHeight-this.header.clientHeight:this.list.clientHeight,this.centerLi),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var e=this,t=this.state.height;return n.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},n.createElement("div",{className:"react-datepicker__header react-datepicker__header--time",ref:function(t){e.header=t}},n.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),n.createElement("div",{className:"react-datepicker__time"},n.createElement("div",{className:"react-datepicker__time-box"},n.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{}},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),r}(n.Component);pe(gt,"calcCenterPosition",(function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)}));var bt=function(e){ge(r,e);var t=ve(r);function r(e){var n;return ue(this,r),pe(ye(n=t.call(this,e)),"handleYearClick",(function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)})),pe(ye(n),"onYearClick",(function(e,t){var r;n.handleYearClick((r=B(n.props.date,t),W(r)),e)})),n}return fe(r,[{key:"render",value:function(){for(var e=this,t=[],r=this.props.date,a=function(r,a){t.push(n.createElement("div",{onClick:function(t){e.onYearClick(t,r)},className:"react-datepicker__year-container-text",key:r},r))},o=j(r)-11,i=0;o<=j(r);o++,i++)a(o);return n.createElement("div",{className:"react-datepicker__year-container"},t)}}]),r}(n.Component),yt=function(e){ge(r,e);var t=ve(r);function r(e){var a;return ue(this,r),pe(ye(a=t.call(this,e)),"onTimeChange",(function(e){a.setState({time:e});var t=new Date;t.setHours(e.split(":")[0]),t.setMinutes(e.split(":")[1]),a.props.onChange(t)})),pe(ye(a),"renderTimeInput",(function(){var e=a.state.time,t=a.props,r=t.timeString,o=t.customTimeInput;return o?n.cloneElement(o,{value:e,onChange:a.onTimeChange}):n.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:e,onChange:function(e){a.onTimeChange(e.target.value||r)}})})),a.state={time:a.props.timeString},a}return fe(r,[{key:"render",value:function(){return n.createElement("div",{className:"react-datepicker__input-time-container"},n.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),n.createElement("div",{className:"react-datepicker-time__input-container"},n.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}]),r}(n.Component);function vt(e){var t=e.className,r=e.children,a=e.showPopperArrow,o=e.arrowProps,i=void 0===o?{}:o;return n.createElement("div",{className:t},a&&n.createElement("div",he({className:"react-datepicker__triangle"},i)),r)}var At=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],wt=function(e){ge(r,e);var t=ve(r);function r(e){var o;return ue(this,r),pe(ye(o=t.call(this,e)),"handleClickOutside",(function(e){o.props.onClickOutside(e)})),pe(ye(o),"setClickOutsideRef",(function(){return o.containerRef.current})),pe(ye(o),"handleDropdownFocus",(function(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.className||"").split(/\s+/);return At.some((function(e){return t.indexOf(e)>=0}))})(e.target)&&o.props.onDropdownFocus()})),pe(ye(o),"getDateInView",(function(){var e=o.props,t=e.preSelection,n=e.selected,r=e.openToDate,a=et(o.props),i=tt(o.props),s=xe();return r||n||t||(a&&ne(s,a)?a:i&&te(s,i)?i:s)})),pe(ye(o),"increaseMonth",(function(){o.setState((function(e){var t=e.date;return{date:f(t,1)}}),(function(){return o.handleMonthChange(o.state.date)}))})),pe(ye(o),"decreaseMonth",(function(){o.setState((function(e){var t=e.date;return{date:b(t,1)}}),(function(){return o.handleMonthChange(o.state.date)}))})),pe(ye(o),"handleDayClick",(function(e,t,n){return o.props.onSelect(e,t,n)})),pe(ye(o),"handleDayMouseEnter",(function(e){o.setState({selectingDate:e}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(e)})),pe(ye(o),"handleMonthMouseLeave",(function(){o.setState({selectingDate:null}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()})),pe(ye(o),"handleYearChange",(function(e){o.props.onYearChange&&o.props.onYearChange(e)})),pe(ye(o),"handleMonthChange",(function(e){o.props.onMonthChange&&o.props.onMonthChange(e),o.props.adjustDateOnChange&&(o.props.onSelect&&o.props.onSelect(e),o.props.setOpen&&o.props.setOpen(!0)),o.props.setPreSelection&&o.props.setPreSelection(e)})),pe(ye(o),"handleMonthYearChange",(function(e){o.handleYearChange(e),o.handleMonthChange(e)})),pe(ye(o),"changeYear",(function(e){o.setState((function(t){var n=t.date;return{date:B(n,e)}}),(function(){return o.handleYearChange(o.state.date)}))})),pe(ye(o),"changeMonth",(function(e){o.setState((function(t){var n=t.date;return{date:M(n,e)}}),(function(){return o.handleMonthChange(o.state.date)}))})),pe(ye(o),"changeMonthYear",(function(e){o.setState((function(t){var n=t.date;return{date:B(M(n,O(e)),j(e))}}),(function(){return o.handleMonthYearChange(o.state.date)}))})),pe(ye(o),"header",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.state.date,t=Ne(e,o.props.locale),r=[];return o.props.showWeekNumbers&&r.push(n.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),r.concat([0,1,2,3,4,5,6].map((function(e){var r=u(t,e),i=o.formatWeekday(r,o.props.locale),s=o.props.weekDayClassName?o.props.weekDayClassName(r):void 0;return n.createElement("div",{key:e,className:a("react-datepicker__day-name",s)},i)})))})),pe(ye(o),"formatWeekday",(function(e,t){return o.props.formatWeekDay?function(e,t,n){return t(je(e,"EEEE",n))}(e,o.props.formatWeekDay,t):o.props.useWeekdaysShort?function(e,t){return je(e,"EEE",t)}(e,t):function(e,t){return je(e,"EEEEEE",t)}(e,t)})),pe(ye(o),"decreaseYear",(function(){o.setState((function(e){var t=e.date;return{date:y(t,o.props.showYearPicker?11:1)}}),(function(){return o.handleYearChange(o.state.date)}))})),pe(ye(o),"renderPreviousButton",(function(){if(!o.props.renderCustomHeader){var e=o.props.showMonthYearPicker?Je(o.state.date,o.props):$e(o.state.date,o.props);if((o.props.forceShowMonthNavigation||o.props.showDisabledMonthNavigation||!e)&&!o.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--previous"],r=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(r=o.decreaseYear),e&&o.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--previous--disabled"),r=null);var a=o.props.showMonthYearPicker||o.props.showQuarterYearPicker,i=o.props,s=i.previousMonthAriaLabel,l=void 0===s?"Previous Month":s,c=i.previousYearAriaLabel,u=void 0===c?"Previous Year":c;return n.createElement("button",{type:"button",className:t.join(" "),onClick:r,"aria-label":a?u:l},a?o.props.previousYearButtonLabel:o.props.previousMonthButtonLabel)}}})),pe(ye(o),"increaseYear",(function(){o.setState((function(e){var t=e.date;return{date:p(t,o.props.showYearPicker?11:1)}}),(function(){return o.handleYearChange(o.state.date)}))})),pe(ye(o),"renderNextButton",(function(){if(!o.props.renderCustomHeader){var e=o.props.showMonthYearPicker?Ze(o.state.date,o.props):Xe(o.state.date,o.props);if((o.props.forceShowMonthNavigation||o.props.showDisabledMonthNavigation||!e)&&!o.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--next"];o.props.showTimeSelect&&t.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&t.push("react-datepicker__navigation--next--with-today-button");var r=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(r=o.increaseYear),e&&o.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--next--disabled"),r=null);var a=o.props.showMonthYearPicker||o.props.showQuarterYearPicker,i=o.props,s=i.nextMonthAriaLabel,l=void 0===s?"Next Month":s,c=i.nextYearAriaLabel,u=void 0===c?"Next Year":c;return n.createElement("button",{type:"button",className:t.join(" "),onClick:r,"aria-label":a?u:l},a?o.props.nextYearButtonLabel:o.props.nextMonthButtonLabel)}}})),pe(ye(o),"renderCurrentMonth",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.state.date,t=["react-datepicker__current-month"];return o.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),n.createElement("div",{className:t.join(" ")},je(e,o.props.dateFormat,o.props.locale))})),pe(ye(o),"renderYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o.props.showYearDropdown&&!e)return n.createElement(st,{adjustDateOnChange:o.props.adjustDateOnChange,date:o.state.date,onSelect:o.props.onSelect,setOpen:o.props.setOpen,dropdownMode:o.props.dropdownMode,onChange:o.changeYear,minDate:o.props.minDate,maxDate:o.props.maxDate,year:j(o.state.date),scrollableYearDropdown:o.props.scrollableYearDropdown,yearDropdownItemNumber:o.props.yearDropdownItemNumber})})),pe(ye(o),"renderMonthDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o.props.showMonthDropdown&&!e)return n.createElement(ct,{dropdownMode:o.props.dropdownMode,locale:o.props.locale,onChange:o.changeMonth,month:O(o.state.date),useShortMonthInDropdown:o.props.useShortMonthInDropdown})})),pe(ye(o),"renderMonthYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o.props.showMonthYearDropdown&&!e)return n.createElement(ft,{dropdownMode:o.props.dropdownMode,locale:o.props.locale,dateFormat:o.props.dateFormat,onChange:o.changeMonthYear,minDate:o.props.minDate,maxDate:o.props.maxDate,date:o.state.date,scrollableMonthYearDropdown:o.props.scrollableMonthYearDropdown})})),pe(ye(o),"renderTodayButton",(function(){if(o.props.todayButton&&!o.props.showTimeSelectOnly)return n.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return o.props.onSelect(Q(xe()),e)}},o.props.todayButton)})),pe(ye(o),"renderDefaultHeader",(function(e){var t=e.monthDate,r=e.i;return n.createElement("div",{className:"react-datepicker__header"},o.renderCurrentMonth(t),n.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(0!==r),o.renderMonthYearDropdown(0!==r),o.renderYearDropdown(0!==r)),n.createElement("div",{className:"react-datepicker__day-names"},o.header(t)))})),pe(ye(o),"renderCustomHeader",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.monthDate,r=e.i;if(0!==r&&void 0!==r)return null;var a=$e(o.state.date,o.props),i=Xe(o.state.date,o.props),s=Je(o.state.date,o.props),l=Ze(o.state.date,o.props),c=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return n.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},o.props.renderCustomHeader(_e(_e({},o.state),{},{changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:i,prevYearButtonDisabled:s,nextYearButtonDisabled:l})),c&&n.createElement("div",{className:"react-datepicker__day-names"},o.header(t)))})),pe(ye(o),"renderYearHeader",(function(){return n.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o.props.showYearPicker?"".concat(j(o.state.date)-11," - ").concat(j(o.state.date)):j(o.state.date))})),pe(ye(o),"renderHeader",(function(e){switch(!0){case void 0!==o.props.renderCustomHeader:return o.renderCustomHeader(e);case o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker:return o.renderYearHeader(e);default:return o.renderDefaultHeader(e)}})),pe(ye(o),"renderMonths",(function(){if(!o.props.showTimeSelectOnly&&!o.props.showYearPicker){for(var e=[],t=o.props.showPreviousMonths?o.props.monthsShown-1:0,r=b(o.state.date,t),a=0;a<o.props.monthsShown;++a){var i=a-o.props.monthSelectedIn,s=f(r,i),l="month-".concat(a);e.push(n.createElement("div",{key:l,ref:function(e){o.monthContainer=e},className:"react-datepicker__month-container"},o.renderHeader({monthDate:s,i:a}),n.createElement(_t,{chooseDayAriaLabelPrefix:o.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:o.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:o.props.weekAriaLabelPrefix,onChange:o.changeMonthYear,day:s,dayClassName:o.props.dayClassName,monthClassName:o.props.monthClassName,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,onWeekSelect:o.props.onWeekSelect,orderInDisplay:a,formatWeekNumber:o.props.formatWeekNumber,locale:o.props.locale,minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,highlightDates:o.props.highlightDates,selectingDate:o.state.selectingDate,includeDates:o.props.includeDates,inline:o.props.inline,fixedHeight:o.props.fixedHeight,filterDate:o.props.filterDate,preSelection:o.props.preSelection,selected:o.props.selected,selectsStart:o.props.selectsStart,selectsEnd:o.props.selectsEnd,showWeekNumbers:o.props.showWeekNumbers,startDate:o.props.startDate,endDate:o.props.endDate,peekNextMonth:o.props.peekNextMonth,setOpen:o.props.setOpen,shouldCloseOnSelect:o.props.shouldCloseOnSelect,renderDayContents:o.props.renderDayContents,disabledKeyboardNavigation:o.props.disabledKeyboardNavigation,showMonthYearPicker:o.props.showMonthYearPicker,showFullMonthYearPicker:o.props.showFullMonthYearPicker,showYearPicker:o.props.showYearPicker,showQuarterYearPicker:o.props.showQuarterYearPicker,isInputFocused:o.props.isInputFocused,containerRef:o.containerRef})))}return e}})),pe(ye(o),"renderYears",(function(){if(!o.props.showTimeSelectOnly)return o.props.showYearPicker?n.createElement("div",{className:"react-datepicker__year"},o.renderHeader(),n.createElement(bt,{onDayClick:o.handleDayClick,date:o.state.date})):void 0})),pe(ye(o),"renderTimeSection",(function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return n.createElement(gt,{selected:o.props.selected,openToDate:o.props.openToDate,onChange:o.props.onTimeChange,timeClassName:o.props.timeClassName,format:o.props.timeFormat,includeTimes:o.props.includeTimes,intervals:o.props.timeIntervals,minTime:o.props.minTime,maxTime:o.props.maxTime,excludeTimes:o.props.excludeTimes,timeCaption:o.props.timeCaption,todayButton:o.props.todayButton,showMonthDropdown:o.props.showMonthDropdown,showMonthYearDropdown:o.props.showMonthYearDropdown,showYearDropdown:o.props.showYearDropdown,withPortal:o.props.withPortal,monthRef:o.state.monthContainer,injectTimes:o.props.injectTimes,locale:o.props.locale})})),pe(ye(o),"renderInputTimeSection",(function(){var e=new Date(o.props.selected),t="".concat(at(e.getHours()),":").concat(at(e.getMinutes()));if(o.props.showTimeInput)return n.createElement(yt,{timeString:t,timeInputLabel:o.props.timeInputLabel,onChange:o.props.onTimeChange,customTimeInput:o.props.customTimeInput})})),o.containerRef=n.createRef(),o.state={date:o.getDateInView(),selectingDate:null,monthContainer:null},o}return fe(r,null,[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,monthSelectedIn:0,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null}}}]),fe(r,[{key:"componentDidMount",value:function(){this.props.showTimeSelect&&(this.assignMonthContainer=void this.setState({monthContainer:this.monthContainer}))}},{key:"componentDidUpdate",value:function(e){this.props.preSelection&&!Be(this.props.preSelection,e.preSelection)?this.setState({date:this.props.preSelection}):this.props.openToDate&&!Be(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var e=this.props.container||vt;return n.createElement("div",{ref:this.containerRef},n.createElement(e,{className:a("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow},this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.props.children))}}]),r}(n.Component),kt=function(e){return!e.disabled&&-1!==e.tabIndex},Et=function(e){ge(r,e);var t=ve(r);function r(e){var a;return ue(this,r),pe(ye(a=t.call(this,e)),"getTabChildren",(function(){return Array.prototype.slice.call(a.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(kt)})),pe(ye(a),"handleFocusStart",(function(e){var t=a.getTabChildren();t&&t.length>1&&t[t.length-1].focus()})),pe(ye(a),"handleFocusEnd",(function(e){var t=a.getTabChildren();t&&t.length>1&&t[0].focus()})),a.tabLoopRef=n.createRef(),a}return fe(r,null,[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),fe(r,[{key:"render",value:function(){return this.props.enableTabLoop?n.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},n.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,n.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}]),r}(n.Component),xt=function(e){ge(r,e);var t=ve(r);function r(){return ue(this,r),t.apply(this,arguments)}return fe(r,[{key:"render",value:function(){var e,t=this.props,r=t.className,o=t.wrapperClassName,i=t.hidePopper,s=t.popperComponent,l=t.popperModifiers,c=t.popperPlacement,u=t.popperProps,d=t.targetComponent,f=t.enableTabLoop,p=t.popperOnKeyDown;if(!i){var h=a("react-datepicker-popper",r);e=n.createElement(le.Popper,he({modifiers:l,placement:c},u),(function(e){var t=e.ref,r=e.style,a=e.placement,o=e.arrowProps;return n.createElement(Et,{enableTabLoop:f},n.createElement("div",he({ref:t,style:r},{className:h,"data-placement":a,onKeyDown:p}),n.cloneElement(s,{arrowProps:o})))}))}this.props.popperContainer&&(e=n.createElement(this.props.popperContainer,{},e));var m=a("react-datepicker-wrapper",o);return n.createElement(le.Manager,{className:"react-datepicker-manager"},n.createElement(le.Reference,null,(function(e){var t=e.ref;return n.createElement("div",{ref:t,className:m},d)})),e)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!0,boundariesElement:"viewport"}},popperProps:{},popperPlacement:"bottom-start"}}}]),r}(n.Component),Ot=se(wt),Ct=function(e){ge(r,e);var t=ve(r);function r(e){var i;return ue(this,r),pe(ye(i=t.call(this,e)),"getPreSelection",(function(){return i.props.openToDate?i.props.openToDate:i.props.selectsEnd&&i.props.startDate?i.props.startDate:i.props.selectsStart&&i.props.endDate?i.props.endDate:xe()})),pe(ye(i),"calcInitialState",(function(){var e=i.getPreSelection(),t=et(i.props),n=tt(i.props),r=t&&ne(e,t)?t:n&&te(e,n)?n:e;return{open:i.props.startOpen||!1,preventFocus:!1,preSelection:i.props.selected?i.props.selected:r,highlightDates:nt(i.props.highlightDates),focused:!1}})),pe(ye(i),"clearPreventFocusTimeout",(function(){i.preventFocusTimeout&&clearTimeout(i.preventFocusTimeout)})),pe(ye(i),"setFocus",(function(){i.input&&i.input.focus&&i.input.focus()})),pe(ye(i),"setBlur",(function(){i.input&&i.input.blur&&i.input.blur(),i.cancelFocusInput()})),pe(ye(i),"setOpen",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.setState({open:e,preSelection:e&&i.state.open?i.state.preSelection:i.calcInitialState().preSelection,lastPreSelectChange:Dt},(function(){e||i.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&i.setBlur(),i.setState({inputValue:null})}))}))})),pe(ye(i),"inputOk",(function(){return o(i.state.preSelection)})),pe(ye(i),"isCalendarOpen",(function(){return void 0===i.props.open?i.state.open&&!i.props.disabled&&!i.props.readOnly:i.props.open})),pe(ye(i),"handleFocus",(function(e){i.state.preventFocus||(i.props.onFocus(e),i.props.preventOpenOnFocus||i.props.readOnly||i.setOpen(!0)),i.setState({focused:!0})})),pe(ye(i),"cancelFocusInput",(function(){clearTimeout(i.inputFocusTimeout),i.inputFocusTimeout=null})),pe(ye(i),"deferFocusInput",(function(){i.cancelFocusInput(),i.inputFocusTimeout=setTimeout((function(){return i.setFocus()}),1)})),pe(ye(i),"handleDropdownFocus",(function(){i.cancelFocusInput()})),pe(ye(i),"handleBlur",(function(e){(!i.state.open||i.props.withPortal||i.props.showTimeInput)&&i.props.onBlur(e),i.setState({focused:!1})})),pe(ye(i),"handleCalendarClickOutside",(function(e){i.props.inline||i.setOpen(!1),i.props.onClickOutside(e),i.props.withPortal&&e.preventDefault()})),pe(ye(i),"handleChange",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if(!i.props.onChangeRaw||(i.props.onChangeRaw.apply(ye(i),t),"function"==typeof r.isDefaultPrevented&&!r.isDefaultPrevented())){i.setState({inputValue:r.target.value,lastPreSelectChange:jt});var a=Oe(r.target.value,i.props.dateFormat,i.props.locale,i.props.strictParsing);!a&&r.target.value||i.setSelected(a,r,!0)}})),pe(ye(i),"handleSelect",(function(e,t,n){i.setState({preventFocus:!0},(function(){return i.preventFocusTimeout=setTimeout((function(){return i.setState({preventFocus:!1})}),50),i.preventFocusTimeout})),i.setSelected(e,t,!1,n),!i.props.shouldCloseOnSelect||i.props.showTimeSelect?i.setPreSelection(e):i.props.inline||i.setOpen(!1)})),pe(ye(i),"setSelected",(function(e,t,n,r){var a=e;null!==a&&Qe(a,i.props)||(Ie(i.props.selected,a)&&!i.props.allowSameDay||(null!==a&&(!i.props.selected||n&&(i.props.showTimeSelect||i.props.showTimeSelectOnly||i.props.showTimeInput)||(a=De(a,{hour:w(i.props.selected),minute:A(i.props.selected),second:v(i.props.selected)})),i.props.inline||i.setState({preSelection:a}),i.props.inline&&i.props.monthsShown>1&&!i.props.inlineFocusSelectedMonth&&i.setState({monthSelectedIn:r})),i.props.onChange(a,t)),i.props.onSelect(a,t),n||i.setState({inputValue:null}))})),pe(ye(i),"setPreSelection",(function(e){var t=void 0!==i.props.minDate,n=void 0!==i.props.maxDate,r=!0;e&&(t&&n?r=Le(e,i.props.minDate,i.props.maxDate):t?r=te(e,i.props.minDate):n&&(r=ne(e,i.props.maxDate))),r&&i.setState({preSelection:e})})),pe(ye(i),"handleTimeChange",(function(e){var t=De(i.props.selected?i.props.selected:i.getPreSelection(),{hour:w(e),minute:A(e)});i.setState({preSelection:t}),i.props.onChange(t),i.props.shouldCloseOnSelect&&i.setOpen(!1),i.props.showTimeInput&&i.setOpen(!0),i.setState({inputValue:null})})),pe(ye(i),"onInputClick",(function(){i.props.disabled||i.props.readOnly||i.setOpen(!0),i.props.onInputClick()})),pe(ye(i),"onInputKeyDown",(function(e){i.props.onKeyDown(e);var t=e.key;if(i.state.open||i.props.inline||i.props.preventOpenOnFocus){if(i.state.open){if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();var n=i.calendar.componentNode&&i.calendar.componentNode.querySelector('.react-datepicker__day[tabindex="0"]');return void(n&&n.focus())}var r=xe(i.state.preSelection);"Enter"===t?(e.preventDefault(),i.inputOk()&&i.state.lastPreSelectChange===Dt?(i.handleSelect(r,e),!i.props.shouldCloseOnSelect&&i.setPreSelection(r)):i.setOpen(!1)):"Escape"===t&&(e.preventDefault(),i.setOpen(!1)),i.inputOk()||i.props.onInputError({code:1,msg:"Date input not valid."})}}else"ArrowDown"!==t&&"ArrowUp"!==t&&"Enter"!==t||i.onInputClick()})),pe(ye(i),"onDayKeyDown",(function(e){i.props.onKeyDown(e);var t=e.key,n=xe(i.state.preSelection);if("Enter"===t)e.preventDefault(),i.handleSelect(n,e),!i.props.shouldCloseOnSelect&&i.setPreSelection(n);else if("Escape"===t)e.preventDefault(),i.setOpen(!1),i.inputOk()||i.props.onInputError({code:1,msg:"Date input not valid."});else if(!i.props.disabledKeyboardNavigation){var r;switch(t){case"ArrowLeft":r=_(n,1);break;case"ArrowRight":r=u(n,1);break;case"ArrowUp":r=g(n,1);break;case"ArrowDown":r=d(n,1);break;case"PageUp":r=b(n,1);break;case"PageDown":r=f(n,1);break;case"Home":r=y(n,1);break;case"End":r=p(n,1)}if(!r)return void(i.props.onInputError&&i.props.onInputError({code:1,msg:"Date input not valid."}));e.preventDefault(),i.setState({lastPreSelectChange:Dt}),i.props.adjustDateOnChange&&i.setSelected(r),i.setPreSelection(r)}})),pe(ye(i),"onPopperKeyDown",(function(e){"Escape"===e.key&&(e.preventDefault(),i.setState({preventFocus:!0},(function(){i.setOpen(!1),setTimeout((function(){i.setFocus(),i.setState({preventFocus:!1})}))})))})),pe(ye(i),"onClearClick",(function(e){e&&e.preventDefault&&e.preventDefault(),i.props.onChange(null,e),i.setState({inputValue:null})})),pe(ye(i),"clear",(function(){i.onClearClick()})),pe(ye(i),"renderCalendar",(function(){return i.props.inline||i.isCalendarOpen()?n.createElement(Ot,{ref:function(e){i.calendar=e},locale:i.props.locale,chooseDayAriaLabelPrefix:i.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:i.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:i.props.weekAriaLabelPrefix,adjustDateOnChange:i.props.adjustDateOnChange,setOpen:i.setOpen,shouldCloseOnSelect:i.props.shouldCloseOnSelect,dateFormat:i.props.dateFormatCalendar,useWeekdaysShort:i.props.useWeekdaysShort,formatWeekDay:i.props.formatWeekDay,dropdownMode:i.props.dropdownMode,selected:i.props.selected,preSelection:i.state.preSelection,onSelect:i.handleSelect,onWeekSelect:i.props.onWeekSelect,openToDate:i.props.openToDate,minDate:i.props.minDate,maxDate:i.props.maxDate,selectsStart:i.props.selectsStart,selectsEnd:i.props.selectsEnd,startDate:i.props.startDate,endDate:i.props.endDate,excludeDates:i.props.excludeDates,filterDate:i.props.filterDate,onClickOutside:i.handleCalendarClickOutside,formatWeekNumber:i.props.formatWeekNumber,highlightDates:i.state.highlightDates,includeDates:i.props.includeDates,includeTimes:i.props.includeTimes,injectTimes:i.props.injectTimes,inline:i.props.inline,peekNextMonth:i.props.peekNextMonth,showMonthDropdown:i.props.showMonthDropdown,showPreviousMonths:i.props.showPreviousMonths,useShortMonthInDropdown:i.props.useShortMonthInDropdown,showMonthYearDropdown:i.props.showMonthYearDropdown,showWeekNumbers:i.props.showWeekNumbers,showYearDropdown:i.props.showYearDropdown,withPortal:i.props.withPortal,forceShowMonthNavigation:i.props.forceShowMonthNavigation,showDisabledMonthNavigation:i.props.showDisabledMonthNavigation,scrollableYearDropdown:i.props.scrollableYearDropdown,scrollableMonthYearDropdown:i.props.scrollableMonthYearDropdown,todayButton:i.props.todayButton,weekLabel:i.props.weekLabel,outsideClickIgnoreClass:"react-datepicker-ignore-onclickoutside",fixedHeight:i.props.fixedHeight,monthsShown:i.props.monthsShown,monthSelectedIn:i.state.monthSelectedIn,onDropdownFocus:i.handleDropdownFocus,onMonthChange:i.props.onMonthChange,onYearChange:i.props.onYearChange,dayClassName:i.props.dayClassName,weekDayClassName:i.props.weekDayClassName,monthClassName:i.props.monthClassName,timeClassName:i.props.timeClassName,showTimeSelect:i.props.showTimeSelect,showTimeSelectOnly:i.props.showTimeSelectOnly,onTimeChange:i.handleTimeChange,timeFormat:i.props.timeFormat,timeIntervals:i.props.timeIntervals,minTime:i.props.minTime,maxTime:i.props.maxTime,excludeTimes:i.props.excludeTimes,timeCaption:i.props.timeCaption,className:i.props.calendarClassName,container:i.props.calendarContainer,yearDropdownItemNumber:i.props.yearDropdownItemNumber,previousMonthButtonLabel:i.props.previousMonthButtonLabel,nextMonthButtonLabel:i.props.nextMonthButtonLabel,previousYearButtonLabel:i.props.previousYearButtonLabel,nextYearButtonLabel:i.props.nextYearButtonLabel,timeInputLabel:i.props.timeInputLabel,disabledKeyboardNavigation:i.props.disabledKeyboardNavigation,renderCustomHeader:i.props.renderCustomHeader,popperProps:i.props.popperProps,renderDayContents:i.props.renderDayContents,onDayMouseEnter:i.props.onDayMouseEnter,onMonthMouseLeave:i.props.onMonthMouseLeave,showTimeInput:i.props.showTimeInput,showMonthYearPicker:i.props.showMonthYearPicker,showFullMonthYearPicker:i.props.showFullMonthYearPicker,showYearPicker:i.props.showYearPicker,showQuarterYearPicker:i.props.showQuarterYearPicker,showPopperArrow:i.props.showPopperArrow,excludeScrollbar:i.props.excludeScrollbar,handleOnKeyDown:i.onDayKeyDown,isInputFocused:i.state.focused,customTimeInput:i.props.customTimeInput,setPreSelection:i.setPreSelection},i.props.children):null})),pe(ye(i),"renderDateInput",(function(){var e,t,r,o,s,l=a(i.props.className,pe({},"react-datepicker-ignore-onclickoutside",i.state.open)),c=i.props.customInput||n.createElement("input",{type:"text"}),u=i.props.customInputRef||"ref",d="string"==typeof i.props.value?i.props.value:"string"==typeof i.state.inputValue?i.state.inputValue:(t=i.props.selected,o=(r=i.props).dateFormat,s=r.locale,t&&je(t,Array.isArray(o)?o[0]:o,s)||"");return n.cloneElement(c,(pe(e={},u,(function(e){i.input=e})),pe(e,"value",d),pe(e,"onBlur",i.handleBlur),pe(e,"onChange",i.handleChange),pe(e,"onClick",i.onInputClick),pe(e,"onFocus",i.handleFocus),pe(e,"onKeyDown",i.onInputKeyDown),pe(e,"id",i.props.id),pe(e,"name",i.props.name),pe(e,"autoFocus",i.props.autoFocus),pe(e,"placeholder",i.props.placeholderText),pe(e,"disabled",i.props.disabled),pe(e,"autoComplete",i.props.autoComplete),pe(e,"className",a(c.props.className,l)),pe(e,"title",i.props.title),pe(e,"readOnly",i.props.readOnly),pe(e,"required",i.props.required),pe(e,"tabIndex",i.props.tabIndex),pe(e,"aria-labelledby",i.props.ariaLabelledBy),e))})),pe(ye(i),"renderClearButton",(function(){var e=i.props,t=e.isClearable,r=e.selected,a=e.clearButtonTitle,o=e.ariaLabelClose,s=void 0===o?"Close":o;return t&&null!=r?n.createElement("button",{type:"button",className:"react-datepicker__close-icon","aria-label":s,onClick:i.onClearClick,title:a,tabIndex:-1}):null})),i.state=i.calcInitialState(),i}return fe(r,null,[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,renderDayContents:function(e){return e},inlineFocusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null}}}]),fe(r,[{key:"componentDidUpdate",value:function(e,t){var n,r;e.inline&&(n=e.selected,r=this.props.selected,n&&r?O(n)!==O(r)||j(n)!==j(r):n!==r)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:nt(this.props.highlightDates)}),t.focused||Ie(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&this.props.onCalendarOpen(),!0===t.open&&!1===this.state.open&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout()}},{key:"render",value:function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?n.createElement("div",null,this.props.inline?null:n.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?n.createElement("div",{className:"react-datepicker__portal"},e):null):n.createElement(xt,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),popperModifiers:this.props.popperModifiers,targetComponent:n.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}]),r}(n.Component),jt="input",Dt="navigate";t.CalendarContainer=vt,t.default=Ct,t.getDefaultLocale=Ue,t.registerLocale=function(t,n){var r="undefined"!=typeof window?window:e;r.__localeData__||(r.__localeData__={}),r.__localeData__[t]=n},t.setDefaultLocale=function(t){("undefined"!=typeof window?window:e).__localeId__=t},Object.defineProperty(t,"__esModule",{value:!0})}(t,n(0),n(1),n(485),n(127),n(27),n(143),n(84),n(85),n(29),n(69),n(46),n(128),n(193),n(194),n(70),n(195),n(129),n(196),n(197),n(198),n(199),n(71),n(130),n(131),n(200),n(105),n(201),n(132),n(202),n(203),n(204),n(86),n(205),n(206),n(133),n(134),n(32),n(135),n(136),n(137),n(49),n(28),n(72),n(73),n(87),n(88),n(138),n(89),n(207),n(47),n(139),n(140),n(141),n(208),n(209),n(210),n(4),n(142),n(211),n(486),n(924))}).call(this,n(54))},function(e,t,n){var r=n(302),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(4),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(a.default)(e),i=Object(r.a)(t);if(isNaN(i))return new Date(NaN);if(!i)return n;var s=n.getDate(),l=new Date(n.getTime());return l.setMonth(n.getMonth()+i+1,0),s>=l.getDate()?l:(n.setFullYear(l.getFullYear(),l.getMonth(),s),n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(49),a=n(2);function o(e,t){Object(a.a)(2,arguments);var n=Object(r.default)(e),o=Object(r.default)(t);return n.getTime()===o.getTime()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8),a=n(59),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(a.a)(e,-n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){Object(a.a)(1,arguments);var t=Object(r.default)(e);return t.setHours(0,0,0,0),t}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a=n(2),o=n(8);function i(e,t){Object(a.a)(1,arguments);var n=t||{},i=n.locale,s=i&&i.options&&i.options.weekStartsOn,l=null==s?0:Object(o.a)(s),c=null==n.weekStartsOn?l:Object(o.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(r.default)(e),d=u.getUTCDay(),f=(d<c?7:0)+d-c;return u.setUTCDate(u.getUTCDate()-f),u.setUTCHours(0,0,0,0),u}},function(e,t,n){"use strict";var r=n(11),a={y:function(e,t){var n=e.getUTCFullYear(),a=n>0?n:1-n;return Object(r.a)("yy"===t?a%100:a,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Object(r.a)(n+1,2)},d:function(e,t){return Object(r.a)(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Object(r.a)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Object(r.a)(e.getUTCHours(),t.length)},m:function(e,t){return Object(r.a)(e.getUTCMinutes(),t.length)},s:function(e,t){return Object(r.a)(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,a=e.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,n-3));return Object(r.a)(o,t.length)}};t.a=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=h(c),d=n(6),f=n(3),p=h(n(804));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"text",o,n),m(n,"activationBoolean",i,n),n.store=n.props.store,n.clickFunc=n.props.clickFunc,n.activationBoolean=n.props.activationBoolean,n.text=n.props.text,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props.tag?""+this.props.tag:"a";return u.default.createElement(e,{status:this.props.status,className:[p.default.container,"square-checkbox"].join(" "),style:s({},this.props.style?this.props.style:{}),key:Math.random(),onClick:this.clickFunc},u.default.createElement("i",{className:["fa-square","fa-fw",this.activationBoolean()?"fas":"far"].join(" ")}),"  ",this.props.text)}}]),t}(),o=_(a.prototype,"text",[f.observable],{enumerable:!0,initializer:null}),i=_(a.prototype,"activationBoolean",[f.observable],{enumerable:!0,initializer:null}),r=a))||r;t.default=g},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"FULFILLED",(function(){return h})),n.d(t,"IDENTITY",(function(){return o})),n.d(t,"NOOP",(function(){return a})),n.d(t,"ObservableGroupMap",(function(){return X})),n.d(t,"PENDING",(function(){return p})),n.d(t,"REJECTED",(function(){return m})),n.d(t,"ViewModel",(function(){return S})),n.d(t,"actionAsync",(function(){return he})),n.d(t,"addHiddenProp",(function(){return u})),n.d(t,"asyncAction",(function(){return F})),n.d(t,"chunkProcessor",(function(){return I})),n.d(t,"computedFn",(function(){return te})),n.d(t,"createTransformer",(function(){return K})),n.d(t,"createViewModel",(function(){return T})),n.d(t,"deepObserve",(function(){return G})),n.d(t,"deprecated",(function(){return c})),n.d(t,"expr",(function(){return Q})),n.d(t,"fail",(function(){return i})),n.d(t,"fromPromise",(function(){return g})),n.d(t,"fromResource",(function(){return k})),n.d(t,"fromStream",(function(){return C})),n.d(t,"getAllMethodsAndProperties",(function(){return f})),n.d(t,"invariant",(function(){return s})),n.d(t,"isPromiseBasedObservable",(function(){return b})),n.d(t,"keepAlive",(function(){return P})),n.d(t,"lazyObservable",(function(){return w})),n.d(t,"moveItem",(function(){return v})),n.d(t,"now",(function(){return U})),n.d(t,"queueProcessor",(function(){return B})),n.d(t,"task",(function(){return pe})),n.d(t,"toStream",(function(){return x})),n.d(t,"whenAsync",(function(){return z})),n.d(t,"whenWithTimeout",(function(){return M}));var r=n(3),a=function(){},o=function(e){return e};function i(e){throw new Error("[mobx-utils] "+e)}function s(e,t){void 0===t&&(t="Illegal state"),e||i(t)}var l=[];function c(e){-1===l.indexOf(e)&&(l.push(e),console.error("[mobx-utils] Deprecated: "+e))}function u(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}var d=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(d(Object.getPrototypeOf(e))||[])},f=function(e){return function(e){var t=d(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))},p="pending",h="fulfilled",m="rejected";function _(e){switch(this.state){case p:return e.pending&&e.pending(this.value);case m:return e.rejected&&e.rejected(this.value);case h:return e.fulfilled?e.fulfilled(this.value):this.value}}function g(e,t){if(s(arguments.length<=2,"fromPromise expects up to two arguments"),s("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then(Object(r.action)("observableFromPromise-resolve",(function(e){n.value=e,n.state=h})),Object(r.action)("observableFromPromise-reject",(function(e){n.value=e,n.state=m}))),n.isPromiseBasedObservable=!0,n.case=_;var a=t&&t.state===h?t.value:void 0;return Object(r.extendObservable)(n,{value:a,state:p},{},{deep:!1}),n}function b(e){return e&&!0===e.isPromiseBasedObservable}!function(e){e.reject=Object(r.action)("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state=m,n.value=t,n})),e.resolve=Object(r.action)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state=h,n.value=t,n}))}(g||(g={}));var y=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r};function v(e,t,n){if(A(e,t),A(e,n),t!==n){var a,o=e[r.$mobx].values;return a=t<n?y(o.slice(0,t),o.slice(t+1,n+1),[o[t]],o.slice(n+1)):y(o.slice(0,n),[o[t]],o.slice(n,t),o.slice(t+1)),e.replace(a),e}}function A(e,t){if(t<0)throw new Error("[mobx.array] Index out of bounds: "+t+" is negative");var n=e[r.$mobx].values.length;if(t>=n)throw new Error("[mobx.array] Index out of bounds: "+t+" is not smaller than "+n)}function w(e,t){void 0===t&&(t=void 0);var n=!1,a=r.observable.box(t,{deep:!1}),o=r.observable.box(!1),i=function(){return n||(n=!0,Object(r._allowStateChanges)(!0,(function(){o.set(!0)})),e((function(e){Object(r._allowStateChanges)(!0,(function(){a.set(e),o.set(!1)}))}))),a.get()},s=Object(r.action)("lazyObservable-reset",(function(){return n=!1,a.set(t),a.get()}));return{current:i,refresh:function(){return n?(n=!1,i()):a.get()},reset:function(){return s()},get pending(){return o.get()}}}function k(e,t,n){void 0===t&&(t=a),void 0===n&&(n=void 0);var o=!1,i=!1,l=n,c=function(){o&&(o=!1,t())},u=Object(r.createAtom)("ResourceBasedObservable",(function(){s(!o&&!i),o=!0,e((function(e){Object(r._allowStateChanges)(!0,(function(){l=e,u.reportChanged()}))}))}),c);return{current:function(){return s(!i,"subscribingObservable has already been disposed"),u.reportObserved()||o||console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),l},dispose:function(){i=!0,c()},isAlive:function(){return o}}}var E=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};function x(e,t){var n;void 0===t&&(t=!1);var a=Object(r.computed)(e);return(n={subscribe:function(e){return"function"==typeof e?{unsubscribe:a.observe((function(t){var n=t.newValue;return e(n)}),t)}:e&&"object"==typeof e&&e.next?{unsubscribe:a.observe((function(t){var n=t.newValue;return e.next(n)}),t)}:{unsubscribe:function(){}}}})["function"==typeof Symbol&&Symbol.observable||"@@observable"]=function(){return this},n}var O=function(){function e(e,t){var n=this;Object(r.runInAction)((function(){n.current=t,n.subscription=e.subscribe(n)}))}return e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},E([r.observable.ref],e.prototype,"current",void 0),E([r.action.bound],e.prototype,"next",null),E([r.action.bound],e.prototype,"complete",null),E([r.action.bound],e.prototype,"error",null),e}();function C(e,t){return void 0===t&&(t=void 0),new O(e,t)}var j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},D=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},N=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],S=function(){function e(e){var t=this;this.model=e,this.localValues=r.observable.map({}),this.localComputedValues=r.observable.map({}),this.isPropertyDirty=function(e){return t.localValues.has(e)},s(Object(r.isObservableObject)(e),"createViewModel expects an observable object"),f(e).forEach((function(n){if(n!==r.$mobx&&"__mobxDidRunLazyInitializers"!==n){if(s(-1===N.indexOf(n),"The propertyname "+n+" is reserved and cannot be used with viewModels"),Object(r.isComputedProp)(e,n)){var a=Object(r._getAdministration)(e,n).derivation;t.localComputedValues.set(n,Object(r.computed)(a.bind(t)))}var o=Object.getOwnPropertyDescriptor(e,n),i=o?{enumerable:o.enumerable}:{};Object.defineProperty(t,n,j(j({},i),{configurable:!0,get:function(){return Object(r.isComputedProp)(e,n)?t.localComputedValues.get(n).get():t.isPropertyDirty(n)?t.localValues.get(n):t.model[n]},set:Object(r.action)((function(e){e!==t.model[n]?t.localValues.set(n,e):t.localValues.delete(n)}))}))}}))}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;Object(r.keys)(this.localValues).forEach((function(t){var n=e.localValues.get(t),a=e.model[t];Object(r.isObservableArray)(a)?a.replace(n):Object(r.isObservableMap)(a)?(a.clear(),a.merge(n)):Object(r.isComputed)(n)||(e.model[t]=n)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},D([r.computed],e.prototype,"isDirty",null),D([r.computed],e.prototype,"changedValues",null),D([r.action.bound],e.prototype,"submit",null),D([r.action.bound],e.prototype,"reset",null),D([r.action.bound],e.prototype,"resetProperty",null),e}();function T(e){return new S(e)}function M(e,t,n,a){return void 0===n&&(n=1e4),void 0===a&&(a=function(){}),c("whenWithTimeout is deprecated, use mobx.when with timeout option instead"),Object(r.when)(e,t,{timeout:n,onError:a})}function P(e,t){var n=Object(r.getAtom)(e,t);if(!n)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return n.observe((function(){}))}function B(e,t,n){if(void 0===n&&(n=0),!Object(r.isObservableArray)(e))throw new Error("Expected observable array as first argument");Object(r.isAction)(t)||(t=Object(r.action)("queueProcessor",t));var a=function(){var n=e.slice(0);Object(r.runInAction)((function(){return e.splice(0)})),n.forEach(t)};return n>0?Object(r.autorun)(a,{delay:n}):Object(r.autorun)(a)}function I(e,t,n,a){if(void 0===n&&(n=0),void 0===a&&(a=0),!Object(r.isObservableArray)(e))throw new Error("Expected observable array as first argument");Object(r.isAction)(t)||(t=Object(r.action)("chunkProcessor",t));var o=function(){for(var n=function(){var n=0===a?e.length:Math.min(e.length,a),o=e.slice(0,n);Object(r.runInAction)((function(){return e.splice(0,n)})),t(o)};e.length>0;)n()};return n>0?Object(r.autorun)(o,{delay:n}):Object(r.autorun)(o)}var L={};function U(e){return void 0===e&&(e=1e3),Object(r._isComputingDerivation)()?(L[e]||(L[e]="number"==typeof e?function(e){var t;return k((function(n){n(Date.now()),t=setInterval((function(){return n(Date.now())}),e)}),(function(){clearInterval(t)}),Date.now())}(e):t=k((function(e){e(Date.now()),function n(){window.requestAnimationFrame((function(){e(Date.now()),t.isAlive()&&n()}))}()}),(function(){}),Date.now())),L[e].current()):Date.now();var t}var R=function(){return(R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function F(e,t){if("string"==typeof arguments[1]){var n=arguments[1],a=arguments[2];return a&&a.value?Object.assign({},a,{value:Object(r.flow)(a.value)}):Object.assign({},a,{set:function(e){Object.defineProperty(this,n,R(R({},a),{value:Object(r.flow)(e)}))}})}var o="string"==typeof e?t:e;return"string"==typeof e||o.name,c("asyncAction is deprecated. use mobx.flow instead"),Object(r.flow)(o)}function z(e,t){return void 0===t&&(t=0),c("whenAsync is deprecated, use mobx.when without effect instead"),Object(r.when)(e,{timeout:t})}function Q(e){return Object(r._isComputingDerivation)()||console.warn("'expr' should only be used inside other reactive functions."),Object(r.computed)(e).get()}var H=function(){return(H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Y=0;function K(e,t){s("function"==typeof e&&e.length<2,"createTransformer expects a function that accepts one argument");var n={},a=void 0,o=!1,i=void 0;"object"==typeof t?(a=t.onCleanup,o=void 0!==t.keepAlive&&t.keepAlive,i=t.debugNameGenerator):"function"==typeof t&&(a=t);var l=!1;return function(s){var c=function(e){var t=typeof e;if("string"===t)return"string:"+e;if("number"===t)return"number:"+e;if(null===e||"object"!==t&&"function"!==t)throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(e));var n=e.$transformId;return void 0===n&&u(e,"$transformId",n="memoizationId:"+ ++Y),n}(s),d=n[c];if(d)return d.get();if(!o&&!Object(r._isComputingDerivation)()){l||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),l=!0);var f=e(s);return a&&a(f,s),f}return(d=n[c]=function(s,l){var c,u={};"object"==typeof t?(a=t.onCleanup,i=t.debugNameGenerator,u=t):"function"==typeof t?a=t:(a=void 0,i=void 0);var d=i?i(l):"Transformer-"+e.name+"-"+s,f=Object(r.computed)((function(){return c=e(l)}),H(H({},u),{name:d}));if(!o)var p=Object(r.onBecomeUnobserved)(f,(function(){delete n[s],p(),a&&a(c,l)}));return f}(c,s)).get()}}function W(e){if(!e)return"ROOT";for(var t=[];e.parent;)t.push(e.path),e=e.parent;return t.reverse().join("/")}function q(e){return Object(r.isObservableObject)(e)||Object(r.isObservableArray)(e)||Object(r.isObservableMap)(e)}function G(e,t){var n=new WeakMap;function a(r){var a=n.get(r.object);!function(e,t){switch(e.type){case"add":o(e.newValue,t,e.name);break;case"update":i(e.oldValue),o(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":i(e.oldValue);break;case"splice":e.removed.map(i),e.added.forEach((function(n,r){return o(n,t,""+(e.index+r))}));for(var r=e.index+e.addedCount;r<e.object.length;r++)if(q(e.object[r])){var a=n.get(e.object[r]);a&&(a.path=""+r)}}}(r,a),t(r,W(a),e)}function o(e,t,i){if(q(e)){var s=n.get(e);if(s){if(s.parent!==t||s.path!==i)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+W(t)+"/"+i+"', but it already exists at '"+W(s.parent)+"/"+s.path+"'")}else{var l={parent:t,path:i,dispose:Object(r.observe)(e,a)};n.set(e,l),Object(r.entries)(e).forEach((function(e){var t=e[0];return o(e[1],l,t)}))}}}function i(e){if(q(e)){var t=n.get(e);if(!t)return;n.delete(e),t.dispose(),Object(r.values)(e).forEach(i)}}return o(e,void 0,""),function(){i(e)}}var V,$=(V=function(e,t){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),X=function(e){function t(t,n,a){var o=void 0===a?{}:a,i=o.name,s=void 0===i?"ogm"+(1e3*Math.random()|0):i,l=o.keyToName,c=void 0===l?function(e){return""+e}:l,u=e.call(this)||this;u._keyToName=c,u._groupBy=n,u._ogmInfoKey=Symbol("ogmInfo"+s),u._base=t;for(var d=0;d<t.length;d++)u._addItem(t[d]);return u._disposeBaseObserver=Object(r.observe)(u._base,(function(e){if("splice"===e.type)Object(r.transaction)((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];u._removeItem(r)}for(var a=0,o=e.added;a<o.length;a++){var i=o[a];u._addItem(i)}}));else{if("update"!==e.type)throw new Error("illegal state");Object(r.transaction)((function(){u._removeItem(e.oldValue),u._addItem(e.newValue)}))}})),u}return $(t,e),t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(e){throw new Error("not supported")},t.prototype.set=function(e,t){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}},t.prototype._getGroupArr=function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=Object(r.observable)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n},t.prototype._removeFromGroupArr=function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},t.prototype._addItem=function(e){var t=this,n=this._groupBy(e),a=this._getGroupArr(n),o={groupByValue:n,groupArrIndex:a.length,reaction:Object(r.reaction)((function(){return t._groupBy(e)}),(function(n,r){var a=e[t._ogmInfoKey];t._removeFromGroupArr(a.groupByValue,a.groupArrIndex);var o=t._getGroupArr(n),i=o.length;o.push(e),a.groupByValue=n,a.groupArrIndex=i}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:o}),a.push(e)},t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]},t}(r.ObservableMap),J=function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var a=new Map;n.set(this.args[r],a),n=a}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}(),Z=function(){function e(){this.store=new Map,this.argsLength=-1}return e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new J(this.store,e)},e}(),ee=function(){return(ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function te(e,t){if(void 0===t&&(t=!1),Object(r.isAction)(e))throw new Error("computedFn shouldn't be used on actions");var n=!1,a=0,o="boolean"==typeof t?{keepAlive:t}:t,i=new Z;return function(){for(var t=this,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=i.entry(s);if(c.exists())return c.get().get();if(!o.keepAlive&&!Object(r._isComputingDerivation)())return n||(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),n=!0),e.apply(this,s);var u=Object(r.computed)((function(){return e.apply(t,s)}),ee(ee({},o),{name:"computedFn("+e.name+"#"+ ++a+")"}));return c.set(u),o.keepAlive||Object(r.onBecomeUnobserved)(u,(function(){i.entry(s).delete()})),u.get()}}function ne(e,t,n,r,a){if(a)return function(e,t,n,r){if(void 0!==r.get)return fail(e+" cannot be used with getters");if(r.value)return{value:t(n,r.value),enumerable:!1,configurable:!0,writable:!0};var a=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return t(n,a.call(this))}}}(e,t,r,a);!function(e,t,n){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){u(this,n,e(n,t))}})}(t,n,r)}var re,ae,oe=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},ie=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},se=0,le=new Set,ce=new Set,ue=Promise.resolve();ae="undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==e&&e.nextTick?function(t){e.nextTick(t)}:function(e){setTimeout(e,0)};var de=function(){return new Promise((function(e){ae(e)}))};re=function(){return ue=ue.then(de)};var fe=[];function pe(e){return oe(this,void 0,void 0,(function(){var t,n,a,o,s,l,c,u,d,f,p;return ie(this,(function(h){switch(h.label){case 0:(t=fe[fe.length-1])||i("'actionAsync' context not present when running 'task'. did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?"),n=t.runId,a=t.actionName,o=t.args,s=t.scope,l=t.actionRunInfo,c=t.step,u=c+1,fe.pop(),Object(r._endAction)(l),ce.delete(n),h.label=1;case 1:return h.trys.push([1,4,6,7]),[4,e];case 2:return d=h.sent(),[4,re()];case 3:return h.sent(),[2,d];case 4:return f=h.sent(),[4,re()];case 5:throw h.sent(),f;case 6:return le.has(n)&&(p=Object(r._startAction)(_e(a,n,u),this,o),fe.push({runId:n,step:u,actionRunInfo:p,actionName:a,args:o,scope:s}),ce.add(n)),[7];case 7:return[2]}}))}))}function he(e,t,n){return"string"==typeof arguments[1]?ne("@actionAsync",(function(e,t){return me(e,t)}),e,t,n):me("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t)}function me(e,t){return r._startAction&&r._endAction||i("'actionAsync' requires mobx >=5.13.1 or >=4.13.1"),s("function"==typeof t,"'asyncAction' expects a function"),"string"==typeof e&&e||i("actions should have valid names, got: '"+e+"'"),function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return oe(this,void 0,void 0,(function(){var a,o,s,l,c,u;return ie(this,(function(d){switch(d.label){case 0:a=se++,le.add(a),o=Object(r._startAction)(_e(e,a,0),this,n),fe.push({runId:a,step:0,actionRunInfo:o,actionName:e,args:n,scope:this}),ce.add(a),s=function(t){le.delete(a);var n=fe.pop();if(!n||n.runId!==a){n&&fe.push(n);var o="invalid 'actionAsync' context when finishing action '"+e+"'.";o+=n?" an action context for '"+n.actionName+"' was found instead.":" no action context could be found instead.",i(o+=" did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?")}if(n.actionRunInfo.error=t,Object(r._endAction)(n.actionRunInfo),ce.delete(a),t)throw t};try{l=t.apply(this,n)}catch(e){s(e)}if(ce.has(a))return s(void 0),[2,l];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,l];case 2:return c=d.sent(),[3,4];case 3:return u=d.sent(),s(u),[3,4];case 4:return s(void 0),[2,c]}}))}))}}function _e(e,t,n){return e+" - runid "+t+" - step "+n}}.call(this,n(148))},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},a=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};u.prototype.append=function(e,t){e=s(e),t=l(t);var n=this.map[e];this.map[e]=n?n+","+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=l(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),c(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),c(e)},t.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},m.call(_.prototype),m.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var i=[301,302,303,307,308];b.redirect=function(e,t){if(-1===i.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=u,e.Request=_,e.Response=b,e.fetch=function(e,n){return new Promise((function(r,a){var o=new _(e,n),i=new XMLHttpRequest;i.onload=function(){var e,t,n={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();t.append(r,a)}})),t)};n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var a="response"in i?i.response:i.responseText;r(new b(a,n))},i.onerror=function(){a(new TypeError("Network request failed"))},i.ontimeout=function(){a(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&t.blob&&(i.responseType="blob"),o.headers.forEach((function(e,t){i.setRequestHeader(t,e)})),i.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function p(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!a(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=d(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=f(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var n,r,a=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}})),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r={},a=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*a).toString(32);return r[e]=!0,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8),a=n(4),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(a.default)(e).getTime(),i=Object(r.a)(t);return new Date(n+i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),a=n(2);function o(e){Object(a.a)(1,arguments);var t=Object(r.default)(e),n=t.getUTCDay(),o=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-o),t.setUTCHours(0,0,0,0),t}},function(e,t,n){var r=n(65),a=n(57);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var r=["D","DD"],a=["YY","YYYY"];function o(e){return-1!==r.indexOf(e)}function i(e){return-1!==a.indexOf(e)}function s(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}},function(e,t,n){var r;r=function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.Browser={};"undefined"!=typeof window&&(r.SUPPORTED="requestAnimationFrame"in window,r.SUPPORTS_TOUCH="ontouchstart"in window,r.touch=!1,r.dynamicInputDetection=!0,r.iOS=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream}),t.Store=[],t.Selectors={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-tooltip-content",CIRCLE:"[x-circle]",ARROW:"[x-arrow]",TOOLTIPPED_EL:"[data-tooltipped]",CONTROLLER:"[data-tippy-controller]"};var a=t.Defaults={html:!1,position:"top",animation:"shift",animateFill:!0,arrow:!1,arrowSize:"regular",delay:0,trigger:"mouseenter focus",duration:350,interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,flipDuration:350,sticky:!1,stickyDuration:200,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,useContext:!1,reactInstance:void 0,popperOptions:{},open:void 0,onRequestClose:function(){}};t.DefaultsKeys=r.SUPPORTED&&Object.keys(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[!1,"webkit"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var a=t[r],o=a?""+a+n:e;if(void 0!==window.document.body.style[o])return o}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/-.+/,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(Element.prototype.closest||function(e){for(var t=this;t;){if(r.matches.call(t,e))return t;t=t.parentElement}}).call(e,t)};var r=n(8)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.requestAnimationFrame((function(){setTimeout(e,0)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{tooltip:e.querySelector(r.Selectors.TOOLTIP),circle:e.querySelector(r.Selectors.CIRCLE),content:e.querySelector(r.Selectors.CONTENT)}};var r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"visible"===e.style.visibility}},function(e,t,n){"use strict";function r(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.matches="undefined"==typeof window?r:Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(13),i=c(o),s=c(n(30)),l=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return e.stopPropagation()},d={html:null,position:"top",animation:"shift",animateFill:!0,arrow:!1,delay:0,hideDelay:0,trigger:"mouseenter focus",duration:375,hideDuration:375,interactive:!1,interactiveBorder:2,theme:"dark",offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,popperOptions:{},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},disabled:!1,arrowSize:"regular",size:"regular",className:"",style:{},distance:10,onRequestClose:function(){},sticky:!1,stickyDuration:200,tag:"div",touchHold:!1,unmountHTMLWhenHide:!1,zIndex:9999},f=Object.keys(d),p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initTippy=n._initTippy.bind(n),n.destroyTippy=n._destroyTippy.bind(n),n.updateTippy=n._updateTippy.bind(n),n.updateReactDom=n._updateReactDom.bind(n),n.showTooltip=n._showTooltip.bind(n),n.hideTooltip=n._hideTooltip.bind(n),n.updateSettings=n._updateSettings.bind(n),n.state={reactDOMValue:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){"undefined"!=typeof window&&"undefined"!=typeof document&&this.initTippy()}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&"undefined"!=typeof document&&this.destroyTippy()}},{key:"componentDidUpdate",value:function(e){var t=this;if("undefined"!=typeof window&&"undefined"!=typeof document){if(!1===this.props.disabled&&!0===e.disabled)return this.updateSettings("disabled",!1),this.destroyTippy(),void this.initTippy();if(!0===this.props.disabled&&!1===e.disabled)return this.updateSettings("disabled",!0),void this.destroyTippy();!0!==this.props.open||e.open||(this.updateSettings("open",!0),setTimeout((function(){t.showTooltip()}),0)),!1===this.props.open&&!0===e.open&&(this.updateSettings("open",!1),this.hideTooltip()),this.props.html!==e.html&&this.updateReactDom(),this.props.title!==e.title&&this.updateTippy(),function(e,t){var n=[];return f.forEach((function(r){e[r]!==t[r]&&n.push(r)})),n}(this.props,e).forEach((function(e){t.updateSettings(e,t.props[e])}))}}},{key:"_showTooltip",value:function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&this.tippy){var e=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.show(e,this.props.duration)}}},{key:"_hideTooltip",value:function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&this.tippy){var e=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.hide(e,this.props.hideDuration)}}},{key:"_updateSettings",value:function(e,t){if("undefined"!=typeof window&&"undefined"!=typeof document&&this.tippy){var n=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.updateSettings(n,e,t)}}},{key:"_updateReactDom",value:function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&this.tippy){this.updateSettings("reactDOM",this.props.html);var e=this.tippy.getPopperElement(this.tooltipDOM);("visible"===e.style.visibility||this.props.open)&&this.tippy.updateForReact(e,this.props.html)}}},{key:"_updateTippy",value:function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&this.tippy){var e=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.update(e)}}},{key:"_initTippy",value:function(){var e=this;"undefined"!=typeof window&&"undefined"!=typeof document&&l.Browser.SUPPORTED&&(this.props.disabled?this.tippy=null:(this.props.title&&this.tooltipDOM.setAttribute("title",this.props.title),this.tippy=(0,s.default)(this.tooltipDOM,{disabled:this.props.disabled,position:this.props.position,animation:this.props.animation,animateFill:this.props.animateFill,arrow:this.props.arrow,arrowSize:this.props.arrowSize,delay:this.props.delay,hideDelay:this.props.hideDelay,trigger:this.props.trigger,duration:this.props.duration,hideDuration:this.props.hideDuration,interactive:this.props.interactive,interactiveBorder:this.props.interactiveBorder,theme:this.props.theme,offset:this.props.offset,hideOnClick:this.props.hideOnClick,multiple:this.props.multiple,size:this.props.size,followCursor:this.props.followCursor,inertia:this.props.inertia,popperOptions:this.props.popperOptions,onShow:this.props.onShow,onShown:this.props.onShown,onHide:this.props.onHide,onHidden:this.props.onHidden,distance:this.props.distance,reactDOM:this.props.html,setReactDOMValue:function(t){return e.setState({reactDOMValue:t})},unmountHTMLWhenHide:this.props.unmountHTMLWhenHide,open:this.props.open,sticky:this.props.sticky,stickyDuration:this.props.stickyDuration,tag:this.props.tag,touchHold:this.props.touchHold,onRequestClose:this.props.onRequestClose,useContext:this.props.useContext,reactInstance:this.props.useContext?this:void 0,performance:!0,html:this.props.rawTemplate?this.props.rawTemplate:void 0,zIndex:this.props.zIndex}),this.props.open&&this.showTooltip()))}},{key:"_destroyTippy",value:function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&this.tippy){var e=this.tippy.getPopperElement(this.tooltipDOM);this.updateSettings("open",!1),this.tippy.hide(e,0),this.tippy.destroy(e),this.tippy=null}}},{key:"render",value:function(){var e=this,t=this.props.tag;return i.default.createElement(i.default.Fragment,null,i.default.createElement(t,{ref:function(t){e.tooltipDOM=t},title:this.props.title,className:this.props.className,tabIndex:this.props.tabIndex,style:r({display:"inline"},this.props.style)},this.props.children),this.state.reactDOMValue&&i.default.createElement("div",{onClick:u,onContextMenu:u,onDoubleClick:u,onDrag:u,onDragEnd:u,onDragEnter:u,onDragExit:u,onDragLeave:u,onDragOver:u,onDragStart:u,onDrop:u,onMouseDown:u,onMouseEnter:u,onMouseLeave:u,onMouseMove:u,onMouseOver:u,onMouseOut:u,onMouseUp:u,onKeyDown:u,onKeyPress:u,onKeyUp:u,onFocus:u,onBlur:u,onChange:u,onInput:u,onInvalid:u,onSubmit:u},this.state.reactDOMValue))}}]),t}();p.defaultProps=d,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,n=(0,o.default)(r.Store,(function(e){return e.el===t}));if(n){var s=n.popper,l=n.settings.offset,c=(0,a.default)(s.getAttribute("x-placement")),u=Math.round(s.offsetWidth/2),d=Math.round(s.offsetHeight/2),f=document.documentElement.offsetWidth||document.body.offsetWidth,p=e.pageX,h=e.pageY,m=void 0,_=void 0;switch(c){case"top":m=p-u+l,_=h-2.25*d;break;case"left":m=p-2*u-10,_=h-d+l;break;case"right":m=p+d,_=h-d+l;break;case"bottom":m=p-u+l,_=h+d/1.5}"top"!==c&&"bottom"!==c||(p+5+u+l>f&&(m=f-5-2*u),p-5-u+l<0&&(m=5)),s.style[(0,i.default)("transform")]="translate3d("+m+"px, "+_+"px, 0)"}};var r=n(0),a=s(n(3)),o=s(n(2)),i=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}s(n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return-(e-r.Defaults.distance)+"px"};var r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getAttribute("title");t&&e.setAttribute("data-original-title",t),e.removeAttribute("title")}},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(13)),a=o(n(9));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,[]);return r.default.createElement(a.default,t,r.default.createElement(e,o))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTooltip=t.Tooltip=void 0;var r=o(n(9)),a=o(n(14));function o(e){return e&&e.__esModule?e:{default:e}}t.Tooltip=r.default,t.withTooltip=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=function(){r.Browser.touch=!0,r.Browser.iOS()&&document.body.classList.add("tippy-touch"),r.Browser.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",n)},n=(e=void 0,function(){var t=performance.now();t-e<20&&(r.Browser.touch=!1,document.removeEventListener("mousemove",n),r.Browser.iOS()||document.body.classList.remove("tippy-touch")),e=t});document.addEventListener("click",(function(e){if(!(e.target instanceof Element))return(0,a.default)();var t=(0,o.default)(e.target,r.Selectors.TOOLTIPPED_EL),n=(0,o.default)(e.target,r.Selectors.POPPER);if(n){var s=(0,i.default)(r.Store,(function(e){return e.popper===n}));if(!s)return;if(s.settings.interactive)return}if(t){var l=(0,i.default)(r.Store,(function(e){return e.el===t}));if(!l)return;var c=l.settings,u=c.hideOnClick,d=c.multiple,f=c.trigger;if(!d&&r.Browser.touch||!d&&-1!==f.indexOf("click"))return(0,a.default)(l);if(!0!==u||-1!==f.indexOf("click"))return}!(0,o.default)(e.target,r.Selectors.CONTROLLER)&&document.querySelector(r.Selectors.POPPER)&&(0,a.default)()})),document.addEventListener("touchstart",t),window.addEventListener("blur",(function(e){var t=document.activeElement;t&&t.blur&&s.matches.call(t,r.Selectors.TOOLTIPPED_EL)&&t.blur()})),!r.Browser.SUPPORTS_TOUCH&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.addEventListener("pointerdown",t)};var r=n(0),a=l(n(25)),o=l(n(4)),i=l(n(2)),s=n(8);function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=n.position,i=n.distance,s=n.arrow,l=n.animateFill,c=n.inertia,u=n.animation,d=n.arrowSize,f=n.size,p=n.theme,h=n.html,m=n.zIndex,_=n.interactive,g=document.createElement("div");g.setAttribute("class","tippy-popper"),g.setAttribute("role","tooltip"),g.setAttribute("aria-hidden","true"),g.setAttribute("id","tippy-tooltip-"+e),g.style.zIndex=m;var b=document.createElement("div");if(b.setAttribute("class","tippy-tooltip tippy-tooltip--"+f+" leave"),b.setAttribute("data-animation",u),p.split(" ").forEach((function(e){b.classList.add(e+"-theme")})),s){var y=document.createElement("div");y.setAttribute("class","arrow-"+d),y.setAttribute("x-arrow",""),b.appendChild(y)}if(l){b.setAttribute("data-animatefill","");var v=document.createElement("div");v.setAttribute("class","leave"),v.setAttribute("x-circle",""),b.appendChild(v)}c&&b.setAttribute("data-inertia",""),_&&b.setAttribute("data-interactive","");var A=document.createElement("div");if(A.setAttribute("class","tippy-tooltip-content"),h){var w=void 0;h instanceof Element?(A.appendChild(h),w="#"+h.id||!1):(A.innerHTML=document.getElementById(h.replace("#","")).innerHTML,w=h),g.classList.add("html-template"),_&&g.setAttribute("tabindex","-1"),b.setAttribute("data-template-id",w)}else A.innerHTML=t;return b.style[(0,r.default)(o)]=(0,a.default)(i),b.appendChild(A),g.appendChild(b),g};var r=o(n(3)),a=o(n(11));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e.el,n=e.popper,u=e.settings,d=u.position,f=u.popperOptions,p=u.offset,h=u.distance,m=u.flipDuration,_=(0,l.default)(n).tooltip,g=r({placement:d},f||{},{modifiers:r({},f?f.modifiers:{},{flip:r({padding:h+5},f&&f.modifiers?f.modifiers.flip:{}),offset:r({offset:p},f&&f.modifiers?f.modifiers.offset:{})}),onUpdate:function(){var e=_.style;e.top="",e.bottom="",e.left="",e.right="",e[(0,s.default)(n.getAttribute("x-placement"))]=(0,c.default)(h)}});if(window.MutationObserver){var b=n.style,y=new MutationObserver((function(){b[(0,i.default)("transitionDuration")]="0ms",e.popperInstance.update(),(0,o.default)((function(){b[(0,i.default)("transitionDuration")]=m+"ms"}))}));y.observe(n,{childList:!0,subtree:!0,characterData:!0}),e._mutationObserver=y}return new a.default(t,n,g)};var a=u(n(38)),o=u(n(5)),i=u(n(1)),s=u(n(3)),l=u(n(6)),c=u(n(11));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;return e.reduce((function(e,n){var c=u,d=(0,s.default)(t.settings.performance?t.settings:(0,r.default)(n,t.settings)),f=d.html,p=d.reactDOM,h=d.trigger,m=d.touchHold,_=n.getAttribute("title");if(!_&&!f&&!p)return e;n.setAttribute("data-tooltipped",""),n.setAttribute("aria-describedby","tippy-tooltip-"+c),(0,l.default)(n);var g=(0,a.default)(c,_,d),b=i.default.call(t,n,g,d),y=[];return h.trim().split(" ").forEach((function(e){return y=y.concat((0,o.default)(e,n,b,m))})),e.push({id:c,el:n,popper:g,settings:d,listeners:y,tippyInstance:t}),u++,e}),[])};var r=c(n(24)),a=c(n(17)),o=c(n(20)),i=c(n(23)),s=c(n(21)),l=c(n(12));function c(e){return e&&e.__esModule?e:{default:e}}n(0);var u=1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){var o=[];return"manual"===e||(t.addEventListener(e,n.handleTrigger),o.push({event:e,handler:n.handleTrigger}),"mouseenter"===e&&(r.Browser.SUPPORTS_TOUCH&&a&&(t.addEventListener("touchstart",n.handleTrigger),o.push({event:"touchstart",handler:n.handleTrigger}),t.addEventListener("touchend",n.handleMouseleave),o.push({event:"touchend",handler:n.handleMouseleave})),t.addEventListener("mouseleave",n.handleMouseleave),o.push({event:"mouseleave",handler:n.handleMouseleave})),"focus"===e&&(t.addEventListener("blur",n.handleBlur),o.push({event:"blur",handler:n.handleBlur}))),o};var r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.arrow&&(e.animateFill=!1),e.appendTo&&"function"==typeof e.appendTo&&(e.appendTo=e.appendTo()),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Element?[e]:Array.isArray(e)?e:[].slice.call(document.querySelectorAll(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var s=this,l=(n.position,n.delay),c=(n.duration,n.interactive),u=(n.interactiveBorder,n.distance,n.hideOnClick),d=n.trigger,f=n.touchHold,p=void n.touchWait,h=void 0,m=function(){clearTimeout(p),clearTimeout(h)},_=function(){if(m(),!(0,a.default)(t)){var e=Array.isArray(l)?l[0]:l;l?p=setTimeout((function(){return s.show(t)}),e):s.show(t)}},g=function(){m();var e=Array.isArray(l)?l[1]:l;l?h=setTimeout((function(){return s.hide(t)}),e):s.hide(t)};return{handleTrigger:function(n){var o="mouseenter"===n.type&&r.Browser.SUPPORTS_TOUCH&&r.Browser.touch;if(!o||!f){var i="click"===n.type,l="persistent"!==u;i&&(0,a.default)(t)&&l?g():function(e){s.callbacks.wait?s.callbacks.wait.call(t,_,e):_()}(n),o&&r.Browser.iOS()&&e.click&&e.click()}},handleMouseleave:function(a){if(!("mouseleave"===a.type&&r.Browser.SUPPORTS_TOUCH&&r.Browser.touch&&f)){if(c)return document.body.addEventListener("mouseleave",g),void document.addEventListener("mousemove",(function a(s){var l=function(){document.body.removeEventListener("mouseleave",g),document.removeEventListener("mousemove",a),g()},c=(0,o.default)(s.target,r.Selectors.TOOLTIPPED_EL),u=(0,o.default)(s.target,r.Selectors.POPPER)===t,f=c===e,p=-1!==d.indexOf("click");if(c&&c!==e)return l();u||f||p||(0,i.default)(s,t,n)&&l()}));g()}},handleBlur:function(e){e.relatedTarget&&!r.Browser.touch&&((0,o.default)(e.relatedTarget,r.Selectors.POPPER)||g())}}};var r=n(0),a=s(n(7)),o=s(n(4)),i=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=r.DefaultsKeys.reduce((function(n,r){var a=e.getAttribute("data-"+r.toLowerCase())||t[r];return"false"===a&&(a=!1),"true"===a&&(a=!0),isFinite(a)&&!isNaN(parseFloat(a))&&(a=parseFloat(a)),"string"==typeof a&&"["===a.trim().charAt(0)&&(a=JSON.parse(a)),n[r]=a,n}),{});return Object.assign({},t,n)};var r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){r.Store.forEach((function(t){var n=t.popper,r=t.tippyInstance,a=t.settings,o=a.appendTo,i=a.hideOnClick,s=a.trigger;if(o.contains(n)){var l=!0===i||-1!==s.indexOf("focus"),c=!e||n!==e.popper;l&&c&&(t.settings.onRequestClose(),r.hide(n))}}))};var r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){return!e.done&&(e.done=!0,(0,a.default)(),!0)};var r,a=(r=n(16))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.popper,n=e.popperInstance,i=e.settings.stickyDuration;(0,r.default)((function e(){n&&n.scheduleUpdate(),t.style[(0,a.default)("transitionDuration")]=i+"ms",(0,o.default)(t)?window.requestAnimationFrame(e):t.style[(0,a.default)("transitionDuration")]=""}))};var r=i(n(5)),a=i(n(1)),o=i(n(7));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.el,n=e.popper,i=e.settings,s=i.appendTo,l=i.followCursor;s.contains(n)||(s.appendChild(n),e.popperInstance?(e.popperInstance.update(),l&&!r.Browser.touch||e.popperInstance.enableEventListeners()):e.popperInstance=(0,o.default)(e),l&&!r.Browser.touch&&(t.addEventListener("mousemove",a.default),e.popperInstance.disableEventListeners()))};var r=n(0),a=i(n(10)),o=i(n(18));function i(e){return e&&e.__esModule?e:{default:e}}i(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!t)return n();var r=(0,a.default)(e.popper).tooltip,o=!1,i=function(e){e.target!==r||o||(o=!0,n())};r.addEventListener("webkitTransitionEnd",i),r.addEventListener("transitionend",i),clearTimeout(e._transitionendTimeout),e._transitionendTimeout=setTimeout((function(){o||n()}),t)},n(0);var r,a=(r=n(6))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=x(n(39)),s=x(n(26)),l=x(n(5)),c=(x(n(1)),x(n(2))),u=x(n(34)),d=x(n(12)),f=x(n(33)),p=x(n(37)),h=x(n(35)),m=x(n(6)),_=x(n(31)),g=x(n(7)),b=x(n(36)),y=x(n(10)),v=x(n(22)),A=x(n(29)),w=x(n(28)),k=x(n(27)),E=x(n(19));function x(e){return e&&e.__esModule?e:{default:e}}var O=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o.Browser.SUPPORTED&&((0,s.default)(),this.state={destroyed:!1},this.selector=t,this.settings=r({},o.Defaults,n),(n.show||n.shown||n.hide||n.hidden)&&console.warn("Callbacks without the `on` prefix are deprecated (with the exception of `wait`). Use onShow, onShown, onHide, and onHidden instead."),this.callbacks={wait:n.wait,show:n.onShow||n.show||b.default,shown:n.onShown||n.shown||b.default,hide:n.onHide||n.hide||b.default,hidden:n.onHidden||n.hidden||b.default},this.store=E.default.call(this,(0,v.default)(t)),o.Store.push.apply(o.Store,this.store))}return a(e,[{key:"getPopperElement",value:function(e){try{return(0,c.default)(this.store,(function(t){return t.el===e})).popper}catch(e){console.error("[getPopperElement]: Element passed as the argument does not exist in the instance")}}},{key:"getReferenceElement",value:function(e){try{return(0,c.default)(this.store,(function(t){return t.popper===e})).el}catch(e){console.error("[getReferenceElement]: Popper passed as the argument does not exist in the instance")}}},{key:"getReferenceData",value:function(e){return(0,c.default)(this.store,(function(t){return t.el===e||t.popper===e}))}},{key:"updateSettings",value:function(e,t,n){var a=(0,c.default)(this.store,(function(t){return t.popper===e}));if(a){var o=r({},a.settings,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n));a.settings=o}}},{key:"updateForReact",value:function(e,t){var n=e.querySelector(o.Selectors.CONTENT),r=(0,c.default)(this.store,(function(t){return t.popper===e}));if(r){var a=r.settings,s=a.useContext,l=a.setReactDOMValue;s?l(i.default.createPortal(t,n)):i.default.render(t,n)}}},{key:"show",value:function(e,t){var n=this;if(!this.state.destroyed){var r=(0,c.default)(this.store,(function(t){return t.popper===e}));if(r){var a=(0,m.default)(e),i=a.tooltip,s=a.circle,u=a.content;if(document.body.contains(r.el)){if(this.callbacks.show.call(e),!r.settings||!1!==r.settings.open){r.settings.reactDOM&&this.updateForReact(e,r.settings.reactDOM);var f=r.el,b=r.settings,y=(b.appendTo,b.sticky),v=b.interactive,E=b.followCursor,x=b.flipDuration,O=b.duration;if(b.dynamicTitle){var C=f.getAttribute("title");C&&(u.innerHTML=C,(0,d.default)(f))}var j=void 0!==t?t:Array.isArray(O)?O[0]:O;(0,_.default)([e,i,s],0),(0,w.default)(r),e.style.visibility="visible",e.setAttribute("aria-hidden","false"),(0,l.default)((function(){E&&!o.Browser.touch||(r.popperInstance.update(),(0,_.default)([e],x)),(0,_.default)([i,s],j),s&&(u.style.opacity=1),v&&f.classList.add("active"),y&&(0,k.default)(r),(0,p.default)(i,s),(0,h.default)([i,s],(function(e){e.contains("tippy-notransition")&&e.remove("tippy-notransition"),e.remove("leave"),e.add("enter")})),(0,A.default)(r,j,(function(){(0,g.default)(e)&&!r._onShownFired&&(v&&e.focus(),i.classList.add("tippy-notransition"),r._onShownFired=!0,n.callbacks.shown.call(e))}))}))}}else this.destroy(e)}}}},{key:"hide",value:function(e,t){var n=this;if(!this.state.destroyed){this.callbacks.hide.call(e);var r=(0,c.default)(this.store,(function(t){return t.popper===e}));if(r){var a=(0,m.default)(e),o=a.tooltip,s=a.circle,l=a.content;if(!1!==r.settings.disabled||!r||!r.settings.open){var u=r&&r.settings&&r.settings.unmountHTMLWhenHide&&r.settings.reactDOM,d=r.el,p=r.settings,b=p.appendTo,v=(p.sticky,p.interactive),w=(p.followCursor,p.html),k=p.trigger,E=p.duration,x=void 0!==t?t:Array.isArray(E)?E[1]:E;r._onShownFired=!1,v&&d.classList.remove("active"),e.style.visibility="hidden",e.setAttribute("aria-hidden","true"),(0,_.default)([o,s,s?l:null],x),s&&(l.style.opacity=0),(0,h.default)([o,s],(function(e){e.contains("tippy-tooltip")&&e.remove("tippy-notransition"),e.remove("enter"),e.add("leave")})),w&&-1!==k.indexOf("click")&&(0,f.default)(d)&&d.focus(),(0,A.default)(r,x,(function(){!(0,g.default)(e)&&b.contains(e)&&"1"!==getComputedStyle(o).opacity&&(d.removeEventListener("mousemove",y.default),r.popperInstance.disableEventListeners(),b.removeChild(e),n.callbacks.hidden.call(e),u&&i.default.unmountComponentAtNode(l))}))}}}}},{key:"update",value:function(e){if(!this.state.destroyed){var t=(0,c.default)(this.store,(function(t){return t.popper===e}));if(t){var n=(0,m.default)(e).content,r=t.el,a=t.settings.html;a instanceof Element?console.warn("Aborted: update() should not be used if `html` is a DOM element"):(n.innerHTML=a?document.getElementById(a.replace("#","")).innerHTML:r.getAttribute("title")||r.getAttribute("data-original-title"),a||(0,d.default)(r))}}}},{key:"destroy",value:function(e,t){var n=this;if(!this.state.destroyed){var r=(0,c.default)(this.store,(function(t){return t.popper===e}));if(r){var a=r.el,i=r.popperInstance,s=r.listeners,l=r._mutationObserver;(0,g.default)(e)&&this.hide(e,0),s.forEach((function(e){return a.removeEventListener(e.event,e.handler)})),a.setAttribute("title",a.getAttribute("data-original-title")),a.removeAttribute("data-original-title"),a.removeAttribute("data-tooltipped"),a.removeAttribute("aria-describedby"),i&&i.destroy(),l&&l.disconnect(),o.Store.splice((0,u.default)(o.Store,(function(t){return t.popper===e})),1),(void 0===t||t)&&(this.store=o.Store.filter((function(e){return e.tippyInstance===n})))}}}},{key:"destroyAll",value:function(){var e=this;if(!this.state.destroyed){var t=this.store.length;this.store.forEach((function(n,r){var a=n.popper;e.destroy(a,r===t-1)})),this.store=null,this.state.destroyed=!0}}}]),e}();function C(e,t){return new O(e,t)}C.Browser=o.Browser,C.Defaults=o.Defaults,C.disableDynamicInputDetection=function(){return o.Browser.dynamicInputDetection=!1},C.enableDynamicInputDetection=function(){return o.Browser.dynamicInputDetection=!0},t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.forEach((function(e){if(e){var n=i.matches.call(e,a.Selectors.CONTENT)?Math.round(t/1.3):t;e.style[(0,o.default)("transitionDuration")]=n+"ms"}}))};var r,a=n(0),o=(r=n(1))&&r.__esModule?r:{default:r},i=n(8)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!t.getAttribute("x-placement"))return!0;var r=e.clientX,o=e.clientY,i=n.interactiveBorder,s=n.distance,l=t.getBoundingClientRect(),c=(0,a.default)(t.getAttribute("x-placement")),u=i+s,d={top:l.top-o>i,bottom:o-l.bottom>i,left:l.left-r>i,right:r-l.right>i};switch(c){case"top":d.top=l.top-o>u;break;case"bottom":d.bottom=o-l.bottom>u;break;case"left":d.left=l.left-r>u;break;case"right":d.right=r-l.right>u}return d.top||d.bottom||d.left||d.right};var r,a=(r=n(3))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Array.prototype.findIndex?e.findIndex(t):e.indexOf((0,a.default)(e,t))};var r,a=(r=n(2))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.forEach((function(e){e&&t(e.classList)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t?window.getComputedStyle(t)[(0,a.default)("transform")]:window.getComputedStyle(e).opacity};var r,a=(r=n(1))&&r.__esModule?r:{default:r}},function(e,n){e.exports=t},function(e,t){e.exports=n}])},e.exports=r(n(0),n(183),n(15))},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))a.call(n,c)&&(s[c]=n[c]);if(r){i=r(n);for(var u=0;u<i.length;u++)o.call(n,i[u])&&(s[i[u]]=n[i[u]])}}return s}},function(e,t,n){var r=n(99),a=n(526),o=n(527),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},function(e,t,n){"use strict";var r={encode:function(e,t,n){return e+"-"+t+"-"+n},decode:function(e){var t=e.split("-").reverse(),n=t[0],r=t[1];return{blockKey:t.slice(2).reverse().join("-"),decoratorKey:parseInt(r,10),leafKey:parseInt(n,10)}}};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),c(n(20))),l=c(n(402));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var d=(r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i,s,l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return o=l,"filters",s=l,(i=a)&&Object.defineProperty(o,"filters",{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(s):void 0}),l.globalstore=e,l.options=r,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"model",value:function(){return l.default}},{key:"firebaseRef",value:function(){return this.globalstore.db.collection("workbooks").doc(this.options.workbook_id).collection("resources")}},{key:"url",value:function(){return"/workbooks/"+this.options.workbook_id+"/resources"}},{key:"inUse",value:function(e){return this.models.filter((function(t){return t.email==e}))}},{key:"findByName",value:function(e){return this.models.filter((function(t){return t.name.toLowerCase().trim()==e.toLowerCase().trim()}))}},{key:"members",get:function(){return this.models.filter((function(e){return""!=e.email}))}},{key:"resources",get:function(){return this.models.filter((function(e){return""==e.email}))}},{key:"filtered",get:function(){var e=this.models.map((function(e){return e.id})),t=this.globalstore.tasks.users.filter((function(t){return-1==e.indexOf(t.id)}));return(-1==e.indexOf(0)&&-1==t.map((function(e){return e.id})).indexOf(0)?this.models.concat(t).concat({id:0,name:"Unassigned",photo:!1,belongs_to_project:!0}):this.models.concat(t)).sort((function(e,t){return(e.name||"").toLowerCase()<(t.name||"").toLowerCase()?-1:(e.name||"").toLowerCase()>(t.name||"").toLowerCase()?1:0}))}}]),t}(),a=u(r.prototype,"filters",[i.observable],{enumerable:!0,initializer:function(){return{query:""}}}),u(r.prototype,"members",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"members"),r.prototype),u(r.prototype,"resources",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"resources"),r.prototype),u(r.prototype,"filtered",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),r);t.default=d},function(e,t,n){"use strict";n.r(t),n.d(t,"DragDropContext",(function(){return na})),n.d(t,"Draggable",(function(){return Na})),n.d(t,"Droppable",(function(){return Pa})),n.d(t,"resetServerContext",(function(){return ta})),n.d(t,"useKeyboardSensor",(function(){return Fr})),n.d(t,"useMouseSensor",(function(){return Lr})),n.d(t,"useTouchSensor",(function(){return Qr}));var r=n(0),a=n.n(r),o=n(144),i=n(10),s=n(43);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var d="function"==typeof Symbol&&Symbol.observable||"@@observable",f=function(){return Math.random().toString(36).substring(7).split("").join(".")},p={INIT:"@@redux/INIT"+f(),REPLACE:"@@redux/REPLACE"+f(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+f()}};function h(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function m(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(u(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(u(1));return n(m)(e,t)}if("function"!=typeof e)throw new Error(u(2));var a=e,o=t,i=[],s=i,l=!1;function c(){s===i&&(s=i.slice())}function f(){if(l)throw new Error(u(3));return o}function _(e){if("function"!=typeof e)throw new Error(u(4));if(l)throw new Error(u(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(u(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),i=null}}}function g(e){if(!h(e))throw new Error(u(7));if(void 0===e.type)throw new Error(u(8));if(l)throw new Error(u(9));try{l=!0,o=a(o,e)}finally{l=!1}for(var t=i=s,n=0;n<t.length;n++)(0,t[n])();return e}return g({type:p.INIT}),(r={dispatch:g,subscribe:_,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error(u(10));a=e,g({type:p.REPLACE})}})[d]=function(){var e,t=_;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(u(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[d]=function(){return this},e},r}function _(e,t){return function(){return t(e.apply(this,arguments))}}function g(e,t){if("function"==typeof e)return _(e,t);if("object"!=typeof e||null===e)throw new Error(u(16));var n={};for(var r in e){var a=e[r];"function"==typeof a&&(n[r]=_(a,t))}return n}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var y=a.a.createContext(null),v=function(e){e()},A={notify:function(){},get:function(){return[]}};function w(e,t){var n,r=A;function a(){i.onStateChange&&i.onStateChange()}function o(){var o,i,s;n||(n=t?t.addNestedSub(a):e.subscribe(a),o=v,i=null,s=null,r={clear:function(){i=null,s=null},notify:function(){o((function(){for(var e=i;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],t=i;t;)e.push(t),t=t.next;return e},subscribe:function(e){var t=!0,n=s={callback:e,next:null,prev:s};return n.prev?n.prev.next=n:i=n,function(){t&&null!==i&&(t=!1,n.next?n.next.prev=n.prev:s=n.prev,n.prev?n.prev.next=n.next:i=n.next)}}})}var i={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=A)},getListeners:function(){return r}};return i}var k="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,E=function(e){var t=e.store,n=e.context,o=e.children,i=Object(r.useMemo)((function(){var e=w(t);return{store:t,subscription:e}}),[t]),s=Object(r.useMemo)((function(){return t.getState()}),[t]);k((function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,s]);var l=n||y;return a.a.createElement(l.Provider,{value:i},o)},x=n(50),O=n(91),C=n.n(O),j=n(260),D=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],N=["reactReduxForwardedRef"],S=[],T=[null,null];function M(e,t){var n=e[1];return[t.payload,n+1]}function P(e,t,n){k((function(){return e.apply(void 0,t)}),n)}function B(e,t,n,r,a,o,i){e.current=r,t.current=a,n.current=!1,o.current&&(o.current=null,i())}function I(e,t,n,r,a,o,i,s,l,c){if(e){var u=!1,d=null,f=function(){if(!u){var e,n,f=t.getState();try{e=r(f,a.current)}catch(e){n=e,d=e}n||(d=null),e===o.current?i.current||l():(o.current=e,s.current=e,i.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=f,n.trySubscribe(),f(),function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var L=function(){return[null,0]};function U(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,s=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,l=n.methodName,c=void 0===l?"connectAdvanced":l,u=n.renderCountProp,d=void 0===u?void 0:u,f=n.shouldHandleStateChanges,p=void 0===f||f,h=n.storeKey,m=void 0===h?"store":h,_=(n.withRef,n.forwardRef),g=void 0!==_&&_,b=n.context,v=void 0===b?y:b,A=Object(x.a)(n,D),k=v;return function(t){var n=t.displayName||t.name||"Component",o=s(n),l=Object(i.a)({},A,{getDisplayName:s,methodName:c,renderCountProp:d,shouldHandleStateChanges:p,storeKey:m,displayName:o,wrappedComponentName:n,WrappedComponent:t}),u=A.pure,f=u?r.useMemo:function(e){return e()};function h(n){var o=Object(r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Object(x.a)(n,N);return[n.context,e,t]}),[n]),s=o[0],c=o[1],u=o[2],d=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(j.isContextConsumer)(a.a.createElement(s.Consumer,null))?s:k}),[s,k]),h=Object(r.useContext)(d),m=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var _=m?n.store:h.store,g=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,l)}(_)}),[_]),b=Object(r.useMemo)((function(){if(!p)return T;var e=w(_,m?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[_,m,h]),y=b[0],v=b[1],A=Object(r.useMemo)((function(){return m?h:Object(i.a)({},h,{subscription:y})}),[m,h,y]),E=Object(r.useReducer)(M,S,L),O=E[0][0],C=E[1];if(O&&O.error)throw O.error;var D=Object(r.useRef)(),U=Object(r.useRef)(u),R=Object(r.useRef)(),F=Object(r.useRef)(!1),z=f((function(){return R.current&&u===U.current?R.current:g(_.getState(),u)}),[_,O,u]);P(B,[U,D,F,u,z,R,v]),P(I,[p,_,y,g,U,D,F,R,v,C],[_,y,g]);var Q=Object(r.useMemo)((function(){return a.a.createElement(t,Object(i.a)({},z,{ref:c}))}),[c,t,z]);return Object(r.useMemo)((function(){return p?a.a.createElement(d.Provider,{value:A},Q):Q}),[d,Q,A])}var _=u?a.a.memo(h):h;if(_.WrappedComponent=t,_.displayName=h.displayName=o,g){var b=a.a.forwardRef((function(e,t){return a.a.createElement(_,Object(i.a)({},e,{reactReduxForwardedRef:t}))}));return b.displayName=o,b.WrappedComponent=t,C()(b,t)}return C()(_,t)}}function R(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function F(e,t){if(R(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!R(e[n[a]],t[n[a]]))return!1;return!0}function z(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function Q(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function H(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Q(e);var a=r(t,n);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=Q(a),a=r(t,n)),a},r}}var Y=[function(e){return"function"==typeof e?H(e):void 0},function(e){return e?void 0:z((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?z((function(t){return function(e,t){var n={},r=function(r){var a=e[r];"function"==typeof a&&(n[r]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)r(a);return n}(e,t)})):void 0}],K=[function(e){return"function"==typeof e?H(e):void 0},function(e){return e?void 0:z((function(){return{}}))}];function W(e,t,n){return Object(i.a)({},n,e,t)}var q=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,a=n.pure,o=n.areMergedPropsEqual,i=!1;return function(t,n,s){var l=e(t,n,s);return i?a&&o(l,r)||(r=l):(i=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return W}}],G=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function V(e,t,n,r){return function(a,o){return n(e(a,o),t(r,o),o)}}function $(e,t,n,r,a){var o,i,s,l,c,u=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,p=!1;function h(a,p){var h,m,_=!d(p,i),g=!u(a,o);return o=a,i=p,_&&g?(s=e(o,i),t.dependsOnOwnProps&&(l=t(r,i)),c=n(s,l,i)):_?(e.dependsOnOwnProps&&(s=e(o,i)),t.dependsOnOwnProps&&(l=t(r,i)),c=n(s,l,i)):g?(h=e(o,i),m=!f(h,s),s=h,m&&(c=n(s,l,i)),c):c}return function(a,u){return p?h(a,u):(s=e(o=a,i=u),l=t(r,i),c=n(s,l,i),p=!0,c)}}function X(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,o=Object(x.a)(t,G),i=n(e,o),s=r(e,o),l=a(e,o);return(o.pure?$:V)(i,s,l,e,o)}var J=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Z(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function ee(e,t){return e===t}var te,ne=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?U:n,a=t.mapStateToPropsFactories,o=void 0===a?K:a,s=t.mapDispatchToPropsFactories,l=void 0===s?Y:s,c=t.mergePropsFactories,u=void 0===c?q:c,d=t.selectorFactory,f=void 0===d?X:d;return function(e,t,n,a){void 0===a&&(a={});var s=a,c=s.pure,d=void 0===c||c,p=s.areStatesEqual,h=void 0===p?ee:p,m=s.areOwnPropsEqual,_=void 0===m?F:m,g=s.areStatePropsEqual,b=void 0===g?F:g,y=s.areMergedPropsEqual,v=void 0===y?F:y,A=Object(x.a)(s,J),w=Z(e,o,"mapStateToProps"),k=Z(t,l,"mapDispatchToProps"),E=Z(n,u,"mergeProps");return r(f,Object(i.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:k,initMergeProps:E,pure:d,areStatesEqual:h,areOwnPropsEqual:_,areStatePropsEqual:b,areMergedPropsEqual:v},A))}}(),re=n(15),ae=n.n(re);function oe(e,t){var n=Object(r.useState)((function(){return{inputs:t,result:e()}}))[0],a=Object(r.useRef)(!0),o=Object(r.useRef)(n),i=a.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return Object(r.useEffect)((function(){a.current=!1,o.current=i}),[i]),i.result}te=re.unstable_batchedUpdates,v=te;var ie=oe,se=function(e,t){return oe((function(){return e}),t)},le="Invariant failed",ce=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},ue=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},de=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},fe={top:0,right:0,bottom:0,left:0},pe=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?fe:n,a=e.border,o=void 0===a?fe:a,i=e.padding,s=void 0===i?fe:i,l=ce(ue(t,r)),c=ce(de(t,o)),u=ce(de(c,s));return{marginBox:l,borderBox:ce(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:s}},he=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){throw new Error(le)}(),n},me=function(e,t){var n,r,a=e.borderBox,o=e.border,i=e.margin,s=e.padding,l=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return pe({borderBox:l,border:o,margin:i,padding:s})},_e=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),me(e,t)},ge=function(e,t){var n={top:he(t.marginTop),right:he(t.marginRight),bottom:he(t.marginBottom),left:he(t.marginLeft)},r={top:he(t.paddingTop),right:he(t.paddingRight),bottom:he(t.paddingBottom),left:he(t.paddingLeft)},a={top:he(t.borderTopWidth),right:he(t.borderRightWidth),bottom:he(t.borderBottomWidth),left:he(t.borderLeftWidth)};return pe({borderBox:e,margin:n,padding:r,border:a})},be=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return ge(t,n)},ye=n(26),ve=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];t=a,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Ae(e,t){}function we(){}function ke(e,t,n){var r=t.map((function(t){var r,a,o=(r=n,a=t.options,Object(i.a)({},r,{},a));return e.addEventListener(t.eventName,t.fn,o),function(){e.removeEventListener(t.eventName,t.fn,o)}}));return function(){r.forEach((function(e){e()}))}}Ae.bind(null,"warn"),Ae.bind(null,"error");var Ee="Invariant failed";function xe(e){this.message=e}function Oe(e,t){if(!e)throw new xe(Ee)}xe.prototype.toString=function(){return this.message};var Ce=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=we,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof xe&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=ke(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof xe))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(a.a.Component),je=function(e){return e+1},De=function(e,t){var n=e.droppableId===t.droppableId,r=je(e.index),a=je(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},Ne=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Se=function(e){return"\n  The item has returned to its starting position\n  of "+je(e.index)+"\n"},Te="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Me=function(e){return"\n  You have lifted an item in position "+je(e.source.index)+"\n"},Pe=function(e){var t=e.destination;if(t)return De(e.source,t);var n=e.combine;return n?Ne(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Be=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Se(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+De(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Ne(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Se(e.source)+"\n  "},Ie={x:0,y:0},Le=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Ue=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Re=function(e,t){return e.x===t.x&&e.y===t.y},Fe=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},ze=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Qe=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},He=function(e,t){return Math.min.apply(Math,t.map((function(t){return Qe(e,t)})))},Ye=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Ke=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},We=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},qe=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=ce({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):ce(e)},Ge=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,o=function(e,t,n){var r;return n&&n.increasedBy?Object(i.a)({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(function(e,t){return t?Ke(e,t.scroll.diff.displacement):e}(t.marginBox,a),r,n);return{page:t,withPlaceholder:n,active:qe(o,a)}},Ve=function(e,t){e.frame||Oe(!1);var n=e.frame,r=Ue(t,n.scroll.initial),a=Fe(r),o=Object(i.a)({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}}),s=Ge({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return Object(i.a)({},e,{frame:o,subject:s})};function $e(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Xe(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Je(e,t){if(e.find)return e.find(t);var n=Xe(e,t);return-1!==n?e[n]:void 0}function Ze(e){return Array.prototype.slice.call(e)}var et=Object(ye.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),tt=Object(ye.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),nt=Object(ye.a)((function(e){return $e(e)})),rt=Object(ye.a)((function(e){return $e(e)})),at=Object(ye.a)((function(e,t){return rt(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function ot(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function it(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var st=Object(ye.a)((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),lt=function(e,t){return e.descriptor.droppableId===t.descriptor.id},ct={point:Ie,value:0},ut={invisible:{},visible:{},all:[]},dt={displaced:ut,displacedBy:ct,at:null},ft=function(e,t){return function(n){return e<=n&&n<=t}},pt=function(e){var t=ft(e.top,e.bottom),n=ft(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;var i=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!i||!s)||i&&o||s&&a}},ht=function(e){var t=ft(e.top,e.bottom),n=ft(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},mt={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},_t={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},gt=function(e){var t=e.target,n=e.destination,r=e.viewport,a=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,i=a?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Ie;return Ke(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(i,n,o)&&function(e,t,n){return n(t)(e)}(i,r,o)},bt=function(e){return gt(Object(i.a)({},e,{isVisibleThroughFrameFn:pt}))},yt=function(e){return gt(Object(i.a)({},e,{isVisibleThroughFrameFn:ht}))},vt=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,a=t.visible;if(r[e])return!1;var o=a[e];return!o||o.shouldAnimate};function At(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,o=e.forceShouldAnimate,i=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return ce(ue(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!bt({target:s,destination:n,viewport:a,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c={draggableId:l,shouldAnimate:vt(l,i,o)};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function wt(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:ut,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:o}}}}function kt(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,o=e.displacedBy,i=e.last,s=e.index,l=e.forceShouldAnimate,c=lt(t,r);if(null==s)return wt({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=Je(n,(function(e){return e.descriptor.index===s}));if(!u)return wt({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=st(t,n),f=n.indexOf(u);return{displaced:At({afterDragging:d.slice(f),destination:r,displacedBy:o,last:i,viewport:a.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Et(e,t){return Boolean(t.effected[e])}var xt=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Ot=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Ct=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return ze(t.line,n.marginBox[t.end]+xt(t,r),Ot(t,n.marginBox,r))},jt=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return ze(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Ot(t,n.marginBox,r))},Dt=function(e,t){var n=e.frame;return n?Le(t,n.scroll.diff.displacement):t},Nt=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,o=e.afterCritical,i=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,o=e.afterCritical,i=at(a.descriptor.id,r),s=n.page,l=a.axis;if(!i.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return ze(t.line,n.contentBox[t.start]+xt(t,r),Ot(t,n.contentBox,r))}({axis:l,moveInto:a.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var f=r[d];if(Et(d,o))return jt({axis:l,moveRelativeTo:f.page,isMoving:s});var p=me(f.page,u.point);return jt({axis:l,moveRelativeTo:p,isMoving:s})}var h=i[i.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Et(h.descriptor.id,o)){var m=me(h.page,Fe(o.displacedBy.point));return Ct({axis:l,moveRelativeTo:m,isMoving:s})}return Ct({axis:l,moveRelativeTo:h.page,isMoving:s})}({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:o}):function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=it(n);a||Oe(!1);var o=a.draggableId,i=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return Et(r,n)?o?Ie:Fe(a.point):o?a.point:Ie}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return Le(i,s)}({impact:t,draggables:a,afterCritical:o}):i}(e),n=e.droppable;return n?Dt(n,t):t},St=function(e,t){var n=Ue(t,e.scroll.initial),r=Fe(n);return{frame:ce({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Tt(e,t){return e.map((function(e){return t[e]}))}var Mt=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return Le(e.scroll.diff.displacement,t)}(e.viewport,t),a=Ue(r,n.page.borderBox.center);return Le(n.client.borderBox.center,a)},Pt=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,o=e.withDroppableDisplacement,s=e.onlyOnMainAxis,l=void 0!==s&&s,c=Ue(r,t.page.borderBox.center),u={target:Ke(t.page.borderBox,c),destination:n,withDroppableDisplacement:o,viewport:a};return l?function(e){return gt(Object(i.a)({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=ft(e.top,e.bottom),r=ft(e.left,e.right);return function(e){return t===mt?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(u):yt(u)},Bt=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,o=e.previousImpact,s=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var d=at(r.descriptor.id,a),f=lt(n,r),p=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!ot(o))return null;function s(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return Object(i.a)({},o,{at:t})}var l=o.displaced.all,c=l.length?l[0]:null;if(t)return c?s(c):null;var u=st(n,a);if(!c)return u.length?s(u[u.length-1].descriptor.id):null;var d=Xe(u,(function(e){return e.descriptor.id===c}));-1===d&&Oe(!1);var f=d-1;return f<0?null:s(u[f].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:o})||function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,o=e.destination,i=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||Oe(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var o=a.index,i=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return i<s||i>(n?l:l+1)?null:i}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:i});return null==d?null:kt({draggable:r,insideDestination:i,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var f=function(e){var t=e.isMovingForward,n=e.draggables,r=e.combine,a=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var o=r.draggableId,i=n[o].descriptor.index;return Et(o,a)?t?i:i-1:t?i+1:i}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:a,combine:u.combine,afterCritical:c});return null==f?null:kt({draggable:r,insideDestination:i,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})}({isMovingForward:t,isInHomeList:f,draggable:n,draggables:a,destination:r,insideDestination:d,previousImpact:o,viewport:s,afterCritical:u});if(!p)return null;var h=Nt({impact:p,draggable:n,droppable:r,draggables:a,afterCritical:u});if(Pt({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Mt({pageBorderBoxCenter:h,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null};var m=Ue(h,l);return{clientSelection:c,impact:function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,o=e.maxScrollChange,s=St(n,Le(n.scroll.current,o)),l=r.frame?Ve(r,Le(r.frame.scroll.current,o)):r,c=t.displaced,u=At({afterDragging:Tt(c.all,a),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:c,forceShouldAnimate:!1}),d=At({afterDragging:Tt(c.all,a),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),f={},p={},h=[c,u,d];return c.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?p[e]=t:f[e]=!0})),Object(i.a)({},t,{displaced:{all:c.all,invisible:f,visible:p}})}({impact:p,viewport:s,destination:r,draggables:a,maxScrollChange:m}),scrollJumpRequest:m}},It=function(e){var t=e.subject.active;return t||Oe(!1),t},Lt=function(e,t){var n=e.page.borderBox.center;return Et(e.descriptor.id,t)?Ue(n,t.displacedBy.point):n},Ut=function(e,t){var n=e.page.borderBox;return Et(e.descriptor.id,t)?Ke(n,Fe(t.displacedBy.point)):n},Rt=Object(ye.a)((function(e,t){var n=t[e.line];return{value:n,point:ze(e.line,n)}})),Ft=function(e,t){return Object(i.a)({},e,{scroll:Object(i.a)({},e.scroll,{max:t})})},zt=function(e,t,n){var r=e.frame;lt(t,e)&&Oe(!1),e.subject.withPlaceholder&&Oe(!1);var a=Rt(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return ze(r.line,t[r.line]);var a=e.subject.page.contentBox[r.size],o=at(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-a;return o<=0?null:ze(r.line,o)}(e,a,n),s={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var l=Ge({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return Object(i.a)({},e,{subject:l})}var c=o?Le(r.scroll.max,o):r.scroll.max,u=Ft(r,c),d=Ge({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:u});return Object(i.a)({},e,{subject:d,frame:u})},Qt=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Ht=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Qt(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),a=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],i=r||o,s=i.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!a)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,f=t.dimensions,p=f.draggables,h=f.droppables;return l?Bt({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:i,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,o=e.draggables,i=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,o=e.viewport,i=r.subject.active;if(!i)return null;var s=r.axis,l=ft(i[s.start],i[s.end]),c=nt(a).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return pt(o.frame)(It(e))})).filter((function(e){var n=It(e);return t?i[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<i[s.crossAxisStart]})).filter((function(e){var t=It(e),n=ft(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(i[s.start])||n(i[s.end])})).sort((function(e,n){var r=It(e)[s.crossAxisStart],a=It(n)[s.crossAxisStart];return t?r-a:a-r})).filter((function(e,t,n){return It(e)[s.crossAxisStart]===It(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return ft(It(e)[s.start],It(e)[s.end])(n[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return It(e)[s.start]-It(t)[s.start]}))[0]:c.sort((function(e,t){var r=He(n,We(It(e))),a=He(n,We(It(t)));return r!==a?r-a:It(e)[s.start]-It(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:i,viewport:s});if(!c)return null;var u=at(c.descriptor.id,o),d=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,o=e.draggables,i=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:ut,displacedBy:ct,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},u=Nt({impact:c,draggable:a,droppable:i,draggables:o,afterCritical:l}),d=lt(a,i)?i:zt(i,a,o);return Pt({draggable:a,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var f,p=Boolean(t[i.axis.line]<=n.page.borderBox.center[i.axis.line]),h=(f=n.descriptor.index,n.descriptor.id===a.descriptor.id||p?f:f+1);return kt({draggable:a,insideDestination:r,destination:i,viewport:s,displacedBy:Rt(i.axis,a.displaceBy),last:ut,index:h})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.afterCritical;return e.insideDestination.filter((function(e){return yt({target:Ut(e,a),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var o=Qe(t,Dt(r,Lt(e,a))),i=Qe(t,Dt(r,Lt(n,a)));return o<i?-1:i<o?1:e.descriptor.index-n.descriptor.index}))[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),insideDestination:u,viewport:s,afterCritical:l});if(!d)return null;var f=Nt({impact:d,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:Mt({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:d,scrollJumpRequest:null}}({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:i,draggables:p,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Yt(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Kt(e){var t=ft(e.top,e.bottom),n=ft(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}var Wt=function(e,t){return ce(Ke(e,t))};function qt(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Gt=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,o=e.previousImpact,i=e.viewport,s=e.afterCritical,l=Wt(n.page.borderBox,t),c=function(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=nt(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,a=e.subject.active;if(!a)return!1;if(r=a,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Kt(a)(t.center))return!0;var o=e.axis,i=a.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=ft(a[o.crossAxisStart],a[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<i:l>i)}));return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.candidates,r=e.draggable.page.borderBox.center,a=n.map((function(e){var n=e.axis,a=ze(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Qe(r,a)}})).sort((function(e,t){return t.distance-e.distance}));return a[0]?a[0].id:null}({pageBorderBox:t,draggable:n,candidates:a}):null}({pageBorderBox:l,draggable:n,droppables:a});if(!c)return dt;var u,d,f=a[c],p=at(f.descriptor.id,r),h=(u=l,(d=f.frame)?Wt(u,d.scroll.diff.value):u);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,o=e.insideDestination,i=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,l=Rt(a.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],f=Je(st(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,a=n[s.size]/4,o=Et(t,i),l=qt({displaced:r.displaced,id:t});return o?l?d>n[s.start]+a&&d<n[s.end]-a:u>n[s.start]-c+a&&u<n[s.end]-c-a:l?d>n[s.start]+c+a&&d<n[s.end]+c-a:u>n[s.start]+a&&u<n[s.end]-a}));return f?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:a.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:f,insideDestination:p,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,o=e.last,i=e.viewport,s=e.afterCritical,l=r.axis,c=Rt(r.axis,n.displaceBy),u=c.value,d=t[l.start],f=t[l.end],p=function(e){var t=e.draggable,n=e.closest;return n?e.inHomeList&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:Je(st(n,a),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Et(t,s),a=qt({displaced:o,id:t});return r?a?f<=n:d<n-u:a?f<=n+u:d<n})),inHomeList:lt(n,r)});return kt({draggable:n,insideDestination:a,destination:r,viewport:i,last:o,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:f,insideDestination:p,last:o.displaced,viewport:i,afterCritical:s})},Vt=function(e,t){var n;return Object(i.a)({},e,((n={})[t.descriptor.id]=t,n))},$t=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,a=Qt(t),o=Qt(n);if(!a)return r;if(a===o)return r;var s=r[a];if(!s.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||Oe(!1);var n=e.frame;if(!n){var r=Ge({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return Object(i.a)({},e,{subject:r})}var a=t.oldFrameMaxScroll;a||Oe(!1);var o=Ft(n,a),s=Ge({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return Object(i.a)({},e,{subject:s,frame:o})}(s);return Vt(r,l)},Xt=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,o=e.impact,s=e.scrollJumpRequest,l=a||t.viewport,c=r||t.dimensions,u=n||t.current.client.selection,d=Ue(u,t.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:Le(t.initial.client.borderBoxCenter,d)},p={selection:Le(f.selection,l.scroll.current),borderBoxCenter:Le(f.borderBoxCenter,l.scroll.current),offset:Le(f.offset,l.scroll.diff.value)},h={client:f,page:p};if("COLLECTING"===t.phase)return Object(i.a)({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:h});var m=c.draggables[t.critical.draggable.id],_=o||Gt({pageOffset:p.offset,draggable:m,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.impact,o=$t({previousImpact:e.previousImpact,impact:a,droppables:r}),i=Qt(a);if(!i)return o;var s=r[i];if(lt(t,s))return o;if(s.subject.withPlaceholder)return o;var l=zt(s,t,n);return Vt(o,l)}({draggable:m,impact:_,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return Object(i.a)({},t,{current:h,dimensions:{draggables:c.draggables,droppables:g},impact:_,viewport:l,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null})},Jt=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,o=e.forceShouldAnimate,s=t.displaced,l=At({afterDragging:function(e,t){return e.map((function(e){return t[e]}))}(s.all,r),destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return Object(i.a)({},t,{displaced:l})},Zt=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,o=e.viewport,i=e.afterCritical,s=Nt({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:i});return Mt({pageBorderBoxCenter:s,draggable:n,viewport:o})},en=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Oe(!1);var a=t.impact,o=r||t.viewport,i=n||t.dimensions,s=i.draggables,l=i.droppables,c=s[t.critical.draggable.id],u=Qt(a);u||Oe(!1);var d=l[u],f=Jt({impact:a,viewport:o,destination:d,draggables:s}),p=Zt({impact:f,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return Xt({impact:f,clientSelection:p,state:t,dimensions:i,viewport:o})},tn=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,o=Rt(n.axis,t.displaceBy),i=at(n.descriptor.id,r),s=i.indexOf(t);-1===s&&Oe(!1);var l,c=i.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:u};return{impact:{displaced:At({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},nn=function(e){return"SNAP"===e.movementMode},rn=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Vt(e.droppables,t)}}(e.dimensions,t);return!nn(e)||n?Xt({state:e,dimensions:r}):en({state:e,dimensions:r})};function an(e){return e.isDragging&&"SNAP"===e.movementMode?Object(i.a)({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var on={phase:"IDLE",completed:null,shouldFlush:!1},sn=function(e,t){if(void 0===e&&(e=on),"FLUSH"===t.type)return Object(i.a)({},on,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Oe(!1);var n=t.payload,r=n.critical,a=n.clientSelection,o=n.viewport,s=n.dimensions,l=n.movementMode,c=s.draggables[r.draggable.id],u=s.droppables[r.droppable.id],d={selection:a,borderBoxCenter:c.client.borderBox.center,offset:Ie},f={client:d,page:{selection:Le(d.selection,o.scroll.initial),borderBoxCenter:Le(d.selection,o.scroll.initial),offset:Le(d.selection,o.scroll.diff.value)}},p=nt(s.droppables).every((function(e){return!e.isFixedOnPage})),h=tn({draggable:c,home:u,draggables:s.draggables,viewport:o}),m=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:s,initial:f,current:f,isWindowScrollAllowed:p,impact:m,afterCritical:h.afterCritical,onLiftImpact:m,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Oe(!1),Object(i.a)({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Oe(!1),function(e){var t=e.state,n=e.published,r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Ve(n,e.scroll)})),a=Object(i.a)({},t.dimensions.droppables,{},et(r)),o=tt(function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||Oe(!1),t}(n[t]).scroll.diff.value;return function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=me(t.client,n),o=_e(a,r);return Object(i.a)({},t,{placeholder:Object(i.a)({},t.placeholder,{client:a}),client:a,page:o})}({draggable:e,offset:Le(a,o),initialWindowScroll:r.scroll.initial})}))}({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),s=Object(i.a)({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete s[e]}));var l={droppables:a,draggables:s},c=Qt(t.impact),u=c?l.droppables[c]:null,d=l.draggables[t.critical.draggable.id],f=l.droppables[t.critical.droppable.id],p=tn({draggable:d,home:f,draggables:s,viewport:t.viewport}),h=p.impact,m=p.afterCritical,_=u&&u.isCombineEnabled?t.impact:h,g=Gt({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:_,viewport:t.viewport,afterCritical:m}),b=Object(i.a)({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:h,dimensions:l,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?b:Object(i.a)({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Yt(e)||Oe(!1);var _=t.payload.client;return Re(_,e.current.client.selection)?e:Xt({state:e,clientSelection:_,impact:nn(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return an(e);if("COLLECTING"===e.phase)return an(e);Yt(e)||Oe(!1);var g=t.payload,b=g.id,y=g.newScroll,v=e.dimensions.droppables[b];if(!v)return e;var A=Ve(v,y);return rn(e,A,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Yt(e)||Oe(!1);var w=t.payload,k=w.id,E=w.isEnabled,x=e.dimensions.droppables[k];x||Oe(!1),x.isEnabled===E&&Oe(!1);var O=Object(i.a)({},x,{isEnabled:E});return rn(e,O,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Yt(e)||Oe(!1);var C=t.payload,j=C.id,D=C.isCombineEnabled,N=e.dimensions.droppables[j];N||Oe(!1),N.isCombineEnabled===D&&Oe(!1);var S=Object(i.a)({},N,{isCombineEnabled:D});return rn(e,S,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Yt(e)||Oe(!1),e.isWindowScrollAllowed||Oe(!1);var T=t.payload.newScroll;if(Re(e.viewport.scroll.current,T))return an(e);var M=St(e.viewport,T);return nn(e)?en({state:e,viewport:M}):Xt({state:e,viewport:M})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Yt(e))return e;var P=t.payload.maxScroll;if(Re(P,e.viewport.scroll.max))return e;var B=Object(i.a)({},e.viewport,{scroll:Object(i.a)({},e.viewport.scroll,{max:P})});return Object(i.a)({phase:"DRAGGING"},e,{viewport:B})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Oe(!1);var I=Ht({state:e,type:t.type});return I?Xt({state:e,impact:I.impact,clientSelection:I.clientSelection,scrollJumpRequest:I.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var L=t.payload.reason;return"COLLECTING"!==e.phase&&Oe(!1),Object(i.a)({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:L})}if("DROP_ANIMATE"===t.type){var U=t.payload,R=U.completed,F=U.dropDuration,z=U.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Oe(!1),{phase:"DROP_ANIMATING",completed:R,dropDuration:F,newHomeClientOffset:z,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},ln=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},cn=function(){return{type:"COLLECTION_STARTING",payload:null}},un=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},dn=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},fn=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},pn=function(e){return{type:"MOVE",payload:e}},hn=function(){return{type:"MOVE_UP",payload:null}},mn=function(){return{type:"MOVE_DOWN",payload:null}},_n=function(){return{type:"MOVE_RIGHT",payload:null}},gn=function(){return{type:"MOVE_LEFT",payload:null}},bn=function(e){return{type:"DROP_COMPLETE",payload:e}},yn=function(e){return{type:"DROP",payload:e}},vn="cubic-bezier(.2,1,.1,1)",An={drop:0,combining:.7},wn={drop:.75},kn="0.2s "+"cubic-bezier(0.2, 0, 0, 1)",En={fluid:"opacity "+kn,snap:"transform "+kn+", opacity "+kn,drop:function(e){var t=e+"s "+vn;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+kn,placeholder:"height "+kn+", width "+kn+", margin "+kn},xn=function(e){return Re(e,Ie)?null:"translate("+e.x+"px, "+e.y+"px)"},On=xn,Cn=function(e,t){var n=xn(e);return n?t?n+" scale("+wn.drop+")":n:null},jn=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var a=t(),o=r.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&Oe(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&Oe(!1);var s=a.critical,l=a.dimensions,c=l.draggables[a.critical.draggable.id],u=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,o=e.viewport,s=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:Object(i.a)({},r,{displaced:ut}),didDropInsideDroppable:!0}:{impact:Jt({draggables:t,impact:s,destination:a,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),d=u.impact,f=u.didDropInsideDroppable,p=f?ot(d):null,h=f?it(d):null,m={index:s.draggable.index,droppableId:s.droppable.id},_={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:o,mode:a.movementMode,destination:p,combine:h},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,o=e.afterCritical,i=r.draggables,s=r.droppables,l=Qt(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=Zt({impact:t,draggable:n,draggables:i,afterCritical:o,droppable:c||u,viewport:a});return Ue(d,n.client.borderBox.center)}({impact:d,draggable:c,dimensions:l,viewport:a.viewport,afterCritical:a.afterCritical}),b={critical:a.critical,afterCritical:a.afterCritical,result:_,impact:d};if(!Re(a.current.client.offset,g)||Boolean(_.combine)){var y=function(e){var t=e.reason,n=Qe(e.current,e.destination);if(n<=0)return.33;if(n>=1500)return.55;var r=.33+n/1500*(.55-.33);return Number(("CANCEL"===t?.6*r:r).toFixed(2))}({current:a.current.client.offset,destination:g,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:y,completed:b}))}else n(bn({completed:b}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},Dn=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var Nn=function(e){var t=function(e){var t,n=e.onWindowScroll,r=ve((function(){n(Dn())})),a=(t=r,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||t()}}),o=we;function i(){return o!==we}return{start:function(){i()&&Oe(!1),o=ke(window,[a])},stop:function(){i()||Oe(!1),r.cancel(),o(),o=we},isActive:i}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Sn=function(e,t){t()},Tn=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Mn=function(e,t,n,r){if(e){var a=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),a=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=function(){return t},a}(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}else n(r(t))},Pn=function(e,t){var n=function(e,t){var n=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=Xe(e,(function(e){return e.timerId===t}));-1===n&&Oe(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}}(),r=null,a=function(n){r||Oe(!1),r=null,Sn(0,(function(){return Mn(e().onDragEnd,n,t,Be)}))};return{beforeCapture:function(t,n){r&&Oe(!1),Sn(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&Oe(!1),Sn(0,(function(){var r=e().onBeforeDragStart;r&&r(Tn(t,n))}))},start:function(a,o){r&&Oe(!1);var i=Tn(a,o);r={mode:o,lastCritical:a,lastLocation:i.source,lastCombine:null},n.add((function(){Sn(0,(function(){return Mn(e().onDragStart,i,t,Me)}))}))},update:function(a,o){var s=ot(o),l=it(o);r||Oe(!1);var c=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(a,r.lastCritical);c&&(r.lastCritical=a);var u,d,f=(d=s,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));f&&(r.lastLocation=s);var p=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,l);if(p&&(r.lastCombine=l),c||f||p){var h=Object(i.a)({},Tn(a,r.mode),{combine:l,destination:s});n.add((function(){Sn(0,(function(){return Mn(e().onDragUpdate,h,t,Pe)}))}))}},flush:function(){r||Oe(!1),n.flush()},drop:a,abort:function(){if(r){var e=Object(i.a)({},Tn(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});a(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var a=r.payload.critical;return n.beforeStart(a,r.payload.movementMode),t(r),void n.start(a,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Bn=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Oe(!1),e.dispatch(bn({completed:r.completed}))}else t(n)}}},In=function(e){var t=null,n=null;return function(r){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"===a.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=ke(window,[o])}))}}}},Ln=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(yn({reason:r.reason})))}}}},Un=b,Rn=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,a=e.styleMarshal,o=e.getResponders,i=e.announce,s=e.autoScroller;return m(sn,Un(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(u(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(a)}));return r=b.apply(void 0,o)(n.dispatch),c(c({},n),{},{dispatch:r})}}}((t=a,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var o=a.payload,i=o.id,s=o.clientSelection,l=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(bn({completed:c.completed})),"IDLE"!==n().phase&&Oe(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:i,movementMode:l}});var u={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),f=d.critical,p=d.dimensions,h=d.viewport;r(function(e){return{type:"INITIAL_PUBLISH",payload:e}}({critical:f,dimensions:p,clientSelection:s,movementMode:l,viewport:h}))}else t(a)}}}}(n),jn,Bn,In,Ln,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var a=t.getState();return"DRAGGING"!==a.phase&&Oe(!1),void e.start(a)}n(r),e.scroll(t.getState())}}}}(s),Nn,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Pn(o,i))))},Fn=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,o=Ue({x:n,y:t},{x:a,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},zn=function(){var e=document.documentElement;return e||Oe(!1),e},Qn=function(){var e=zn();return Fn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function Hn(e,t,n){return n.descriptor.id!==t.id&&n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var Yn,Kn,Wn=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},a=null,o=function(){a||(n.collectionStarting(),a=requestAnimationFrame((function(){a=null;var e=r,o=e.additions,i=e.removals,s=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(Ie)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(i),modified:c};r={additions:{},removals:{},modified:{}},n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){a&&(cancelAnimationFrame(a),a=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){n||Oe(!1);var a=n.critical.draggable;"ADDITION"===t.type&&Hn(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Hn(e,a,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,a){e.droppable.exists(r)||Oe(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:function(r,a){n&&(e.droppable.exists(r)||Oe(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,a){n&&(e.droppable.exists(r)||Oe(!1),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:function(t){n&&Oe(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),i={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(a);return n={critical:i,unsubscribe:s},function(e){var t,n,r,a,o,i,s,l=e.critical,c=e.scrollOptions,u=e.registry,d=(t=Dn(),n=Qn(),r=t.y,a=t.x,i=(o=zn()).clientWidth,s=o.clientHeight,{frame:ce({top:r,left:a,right:a+i,bottom:r+s}),scroll:{initial:t,current:t,max:n,diff:{value:Ie,displacement:Ie}}}),f=d.scroll.current,p=l.droppable,h=u.droppable.getAllByType(p.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(f,c)})),m=u.draggable.getAllByType(l.draggable.type).map((function(e){return e.getDimension(f)}));return{dimensions:{draggables:tt(m),droppables:et(h)},critical:l,viewport:d}}({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}}},qn=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},Gn=function(e){window.scrollBy(e.x,e.y)},Vn=Object(ye.a)((function(e){return nt(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),$n=function(e){return Math.pow(e,2)},Xn=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;return 0===a?0:(r-t)/a},Jn=360,Zn=1200,er=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var n=Xn({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=28*$n(1-n);return Math.ceil(r)}(t,n);return 0===o?0:a?Math.max(function(e,t){var n=t,r=Zn,a=Date.now()-n;if(a>=Zn)return e;if(a<Jn)return 1;var o=Xn({startOfRange:Jn,endOfRange:r,current:a}),i=e*$n(o);return Math.ceil(i)}(o,r),1):o},tr=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,o=e.shouldUseTimeDampening,i=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,a);return n[a.end]<n[a.start]?er({distanceToEdge:n[a.end],thresholds:i,dragStartTime:r,shouldUseTimeDampening:o}):-1*er({distanceToEdge:n[a.start],thresholds:i,dragStartTime:r,shouldUseTimeDampening:o})},nr=Ye((function(e){return 0===e?0:e})),rr=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,o=e.shouldUseTimeDampening,i={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},s=tr({container:n,distanceToEdges:i,dragStartTime:t,axis:mt,shouldUseTimeDampening:o}),l=tr({container:n,distanceToEdges:i,dragStartTime:t,axis:_t,shouldUseTimeDampening:o}),c=nr({x:l,y:s});if(Re(c,Ie))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,o=n.width>t.width;return o||a?o&&a?null:{x:o?0:r.x,y:a?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?Re(u,Ie)?null:u:null},ar=Ye((function(e){return 0===e?0:e>0?1:-1})),or=(Yn=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,a=Le(t,r),o={x:Yn(a.x,n.x),y:Yn(a.y,n.y)};return Re(o,Ie)?null:o}),ir=function(e){var t=e.max,n=e.current,r=e.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=ar(r),i=or({max:a,current:n,change:o});return!i||0!==o.x&&0===i.x||0!==o.y&&0===i.y},sr=function(e,t){return ir({current:e.scroll.current,max:e.scroll.max,change:t})},lr=function(e,t){var n=e.frame;return!!n&&ir({current:n.scroll.current,max:n.scroll.max,change:t})},cr=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,o=e.scrollDroppable,i=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.shouldUseTimeDampening,o=rr({dragStartTime:e.dragStartTime,container:t.frame,subject:n,center:r,shouldUseTimeDampening:a});return o&&sr(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:i,shouldUseTimeDampening:r});if(l)return void a(l)}var c=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}return function(e,t){return Je(Vn(t),(function(t){return t.frame||Oe(!1),Kt(t.frame.pageMarginBox)(e)}))}(t,r)}({center:i,destination:Qt(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,o=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var s=rr({dragStartTime:a,container:i.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&lr(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:i,shouldUseTimeDampening:r});u&&o(c.descriptor.id,u)}},ur=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=function(e){var t=e.scrollDroppable,n=ve(e.scrollWindow),r=ve(t),a=null,o=function(e){a||Oe(!1);var t=a,o=t.shouldUseTimeDampening,i=t.dragStartTime;cr({state:e,scrollWindow:n,scrollDroppable:r,dragStartTime:i,shouldUseTimeDampening:o})};return{start:function(e){a&&Oe(!1);var t=Date.now(),n=!1,r=function(){n=!0};cr({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),a={dragStartTime:t,shouldUseTimeDampening:n},n&&o(e)},stop:function(){a&&(n.cancel(),r.cancel(),a=null)},scroll:o}}({scrollWindow:n,scrollDroppable:t}),o=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,a=function(e,t){if(!lr(e,t))return t;var r=function(e,t){var n=e.frame;return n&&lr(e,t)?or({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var a=Ue(t,r);return n(e.descriptor.id,a),Ue(t,a)},o=function(e,t,n){if(!e)return n;if(!sr(t,n))return n;var a=function(e,t){if(!sr(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return or({current:r,max:n,change:t})}(t,n);if(!a)return r(n),null;var o=Ue(n,a);return r(o),Ue(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Qt(e.impact);r||Oe(!1);var i=a(e.dimensions.droppables[r],n);if(i){var s=e.viewport,l=o(e.isWindowScrollAllowed,s,i);l&&function(e,n){var r=Le(e.current.client.selection,n);t({client:r})}(e,l)}}}}({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):a.scroll(e))},start:a.start,stop:a.stop}},dr="data-rbd",fr={base:Kn=dr+"-drag-handle",draggableId:Kn+"-draggable-id",contextId:Kn+"-context-id"},pr=function(){var e=dr+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),hr=function(){var e=dr+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),mr={contextId:dr+"-scroll-container-context-id"},_r=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},gr="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,br=function(){var e=document.querySelector("head");return e||Oe(!1),e},yr=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},vr=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Ar(e){return e instanceof vr(e).HTMLElement}function wr(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,o=r(a);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[a],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Oe(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return $e(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||Oe(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return $e(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var kr=a.a.createContext(null),Er=function(){var e=document.body;return e||Oe(!1),e},xr={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Or=0,Cr={separator:"::"};function jr(e,t){return void 0===t&&(t=Cr),ie((function(){return""+e+t.separator+Or++}),[t.separator,e])}var Dr=a.a.createContext(null);function Nr(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e})),t}var Sr,Tr,Mr=((Sr={})[13]=!0,Sr[9]=!0,Sr),Pr=function(e){Mr[e.keyCode]&&e.preventDefault()},Br=function(){var e="visibilitychange";return"undefined"==typeof document?e:Je([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),Ir={type:"IDLE"};function Lr(e){var t=Object(r.useRef)(Ir),n=Object(r.useRef)(we),a=ie((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,s,{sourceEvent:t});if(a){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),u(a,o)}}}}}}),[e]),o=ie((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),i=se((function(){n.current=ke(window,[o,a],{passive:!1,capture:!0})}),[o,a]),s=se((function(){"IDLE"!==t.current.type&&(t.current=Ir,n.current(),i())}),[i]),l=se((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=se((function(){var e=function(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var i={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(i);if("PENDING"!==s.type&&Oe(!1),l=s.point,c=i,Math.abs(c.x-l.x)>=5||Math.abs(c.y-l.y)>=5){var l,c;e.preventDefault();var u=s.actions.fluidLift(i);a({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Pr(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Oe(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Br,fn:t}]}({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=ke(window,e,{capture:!0,passive:!1})}),[l,s]),u=se((function(e,n){"IDLE"!==t.current.type&&Oe(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);gr((function(){return i(),function(){n.current()}}),[i])}function Ur(){}var Rr=((Tr={})[34]=!0,Tr[33]=!0,Tr[36]=!0,Tr[35]=!0,Tr);function Fr(e){var t=Object(r.useRef)(Ur),n=ie((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var r=e.findClosestDraggableId(n);if(r){var o=e.tryGetLock(r,l,{sourceEvent:n});if(o){n.preventDefault();var i=!0,s=o.snapLift();t.current(),t.current=ke(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Rr[r.keyCode]?r.preventDefault():Pr(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Br,fn:n}]}(s,l),{capture:!0,passive:!1})}}}function l(){i||Oe(!1),i=!1,t.current(),a()}}}}),[e]),a=se((function(){t.current=ke(window,[n],{passive:!1,capture:!0})}),[n]);gr((function(){return a(),function(){t.current()}}),[a])}var zr={type:"IDLE"};function Qr(e){var t=Object(r.useRef)(zr),n=Object(r.useRef)(we),a=se((function(){return t.current}),[]),o=se((function(e){t.current=e}),[]),i=ie((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,l,{sourceEvent:t});if(a){var o=t.touches[0],i={x:o.clientX,y:o.clientY};n.current(),f(a,i)}}}}}}),[e]),s=se((function(){n.current=ke(window,[i],{capture:!0,passive:!1})}),[i]),l=se((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(zr),n.current(),s())}),[s,o]),c=se((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=se((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:a},r=ke(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var a=e.touches[0],o={x:a.clientX,y:a.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Oe(!1);var a=e.touches[0];if(a&&a.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:Br,fn:t}]}(t),e),o=ke(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Br,fn:t}]}(t),e);n.current=function(){r(),o()}}),[c,a,l]),d=se((function(){var e=a();"PENDING"!==e.type&&Oe(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[a,o]),f=se((function(e,t){"IDLE"!==a().type&&Oe(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,a,o,d]);gr((function(){return s(),function(){n.current();var e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(zr))}}),[a,s,o]),gr((function(){return ke(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}var Hr={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};var Yr=function(e){return ce(e.getBoundingClientRect()).center},Kr="undefined"==typeof document?"matches":Je(["matches","msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||"matches";function Wr(e,t){var n,r=t.target;if(!((n=r)instanceof vr(n).Element))return null;var a=function(e,t){return e.closest?e.closest(t):function e(t,n){return null==t?null:t[Kr](n)?t:e(t.parentElement,n)}(e,t)}(r,function(e){return"["+fr.contextId+'="'+e+'"]'}(e));return a&&Ar(a)?a:null}function qr(e){e.preventDefault()}function Gr(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function Vr(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(a);return!!o&&!!o.options.isEnabled&&!!qn(n.getState(),a)}function $r(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,o=e.draggableId,s=e.forceSensorStop,l=e.sourceEvent;if(!Vr({lockAPI:t,store:r,registry:a,draggableId:o}))return null;var c=a.draggable.getById(o),u=function(e,t){var n="["+pr.contextId+'="'+e+'"]',r=Je(Ze(document.querySelectorAll(n)),(function(e){return e.getAttribute(pr.id)===t}));return r&&Ar(r)?r:null}(n,c.descriptor.id);if(!u)return null;if(l&&!c.options.canDragInteractiveElements&&function(e,t){var n=t.target;return!!Ar(n)&&function e(t,n){if(null==n)return!1;if(Boolean(Hr[n.tagName.toLowerCase()]))return!0;var r=n.getAttribute("contenteditable");return"true"===r||""===r||n!==t&&e(t,n.parentElement)}(e,n)}(u,l))return null;var d=t.claim(s||we),f="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function h(){return t.isActive(d)}var m=function(e,t){Gr({expected:e,phase:f,isLockActive:h,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function _(e){function n(){t.release(),f="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var o=ke(window,[{eventName:"click",fn:qr,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(yn({reason:t}))}return"PRE_DRAG"!==f&&(n(),"PRE_DRAG"!==f&&Oe(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),f="DRAGGING",Object(i.a)({isActive:function(){return Gr({expected:"DRAGGING",phase:f,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}return{isActive:function(){return Gr({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=ve((function(e){m((function(){return pn({client:e})}))})),n=_({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return Object(i.a)({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return m(hn)},moveRight:function(){return m(_n)},moveDown:function(){return m(mn)},moveLeft:function(){return m(gn)}};return _({liftActionArgs:{id:o,clientSelection:Yr(u),movementMode:"SNAP"},cleanup:we,actions:e})},abort:function(){Gr({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!0})&&t.release()}}}var Xr=[Lr,Fr,Qr];function Jr(e){return e.current||Oe(!1),e.current}function Zr(e){var t=e.contextId,n=e.setCallbacks,o=e.sensors,s=e.nonce,l=e.dragHandleUsageInstructions,c=Object(r.useRef)(null),u=Nr(e),d=se((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(u.current)}),[u]),f=function(e){var t=ie((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Object(i.a)(e.style,xr),Er().appendChild(e),function(){setTimeout((function(){var t=Er();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),se((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),p=function(e){var t=e.contextId,n=e.text,a=jr("hidden-text",{separator:"-"}),o=ie((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:a}).contextId+"-"+e.uniqueId;var e}),[a,t]);return Object(r.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",Er().appendChild(e),function(){var t=Er();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:l}),h=function(e,t){var n=ie((function(){return function(e){var t,n,r,a=(t=e,function(e){return"["+e+'="'+t+'"]'}),o=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:a(fr.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),i=[(r="\n      transition: "+En.outOfTheWay+";\n    ",{selector:a(pr.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),o,{selector:a(hr.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:_r(i,"always"),resting:_r(i,"resting"),dragging:_r(i,"dragging"),dropAnimating:_r(i,"dropAnimating"),userCancel:_r(i,"userCancel")}}(e)}),[e]),a=Object(r.useRef)(null),o=Object(r.useRef)(null),i=se(Object(ye.a)((function(e){var t=o.current;t||Oe(!1),t.textContent=e})),[]),s=se((function(e){var t=a.current;t||Oe(!1),t.textContent=e}),[]);gr((function(){(a.current||o.current)&&Oe(!1);var r=yr(t),l=yr(t);return a.current=r,o.current=l,r.setAttribute(dr+"-always",e),l.setAttribute(dr+"-dynamic",e),br().appendChild(r),br().appendChild(l),s(n.always),i(n.resting),function(){var e=function(e){var t=e.current;t||Oe(!1),br().removeChild(t),e.current=null};e(a),e(o)}}),[t,s,i,n.always,n.resting,e]);var l=se((function(){return i(n.dragging)}),[i,n.dragging]),c=se((function(e){i("DROP"!==e?n.userCancel:n.dropAnimating)}),[i,n.dropAnimating,n.userCancel]),u=se((function(){o.current&&i(n.resting)}),[i,n.resting]);return ie((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}(t,s),m=se((function(e){Jr(c).dispatch(e)}),[]),_=ie((function(){return g({publishWhileDragging:ln,updateDroppableScroll:un,updateDroppableIsEnabled:dn,updateDroppableIsCombineEnabled:fn,collectionStarting:cn},m)}),[m]),b=function(){var e=ie(wr,[]);return Object(r.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),y=ie((function(){return Wn(b,_)}),[b,_]),v=ie((function(){return ur(Object(i.a)({scrollWindow:Gn,scrollDroppable:y.scrollDroppable},g({move:pn},m)))}),[y.scrollDroppable,m]),A=function(e){var t=Object(r.useRef)({}),n=Object(r.useRef)(null),a=Object(r.useRef)(null),o=Object(r.useRef)(!1),i=se((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=se((function(t){var n=function(e,t){var n="["+fr.contextId+'="'+e+'"]',r=Ze(document.querySelectorAll(n));if(!r.length)return null;var a=Je(r,(function(e){return e.getAttribute(fr.draggableId)===t}));return a&&Ar(a)?a:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=se((function(e,t){n.current===e&&(n.current=t)}),[]),c=se((function(){a.current||o.current&&(a.current=requestAnimationFrame((function(){a.current=null;var e=n.current;e&&s(e)})))}),[s]),u=se((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(fr.draggableId)===e&&(n.current=e)}),[]);return gr((function(){return o.current=!0,function(){o.current=!1;var e=a.current;e&&cancelAnimationFrame(e)}}),[]),ie((function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[i,u,c,l])}(t),w=ie((function(){return Rn({announce:f,autoScroller:v,dimensionMarshal:y,focusMarshal:A,getResponders:d,styleMarshal:h})}),[f,v,y,A,d,h]);c.current=w;var k=se((function(){var e=Jr(c);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),x=se((function(){var e=Jr(c).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(ie((function(){return{isDragging:x,tryAbort:k}}),[x,k]));var O=se((function(e){return qn(Jr(c).getState(),e)}),[]),C=se((function(){return Yt(Jr(c).getState())}),[]),j=ie((function(){return{marshal:y,focus:A,contextId:t,canLift:O,isMovementAllowed:C,dragHandleUsageInstructionsId:p,registry:b}}),[t,y,p,A,O,C,b]);return function(e){var t=e.contextId,n=e.store,a=e.registry,o=e.customSensors,i=e.enableDefaultSensors,s=[].concat(i?Xr:[],o||[]),l=Object(r.useState)((function(){return function(){var e=null;function t(){e||Oe(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Oe(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=se((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);gr((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),gr((function(){return l.tryAbandon}),[l.tryAbandon]);for(var u=se((function(e){return Vr({lockAPI:l,registry:a,store:n,draggableId:e})}),[l,a,n]),d=se((function(e,r,o){return $r({lockAPI:l,registry:a,contextId:t,store:n,draggableId:e,forceSensorStop:r,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,l,a,n]),f=se((function(e){return function(e,t){var n=Wr(e,t);return n?n.getAttribute(fr.draggableId):null}(t,e)}),[t]),p=se((function(e){var t=a.draggable.findById(e);return t?t.options:null}),[a.draggable]),h=se((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),m=se(l.isClaimed,[l]),_=ie((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:h,isLockClaimed:m}}),[u,d,f,p,h,m]),g=0;g<s.length;g++)s[g](_)}({contextId:t,store:w,registry:b,customSensors:o,enableDefaultSensors:!1!==e.enableDefaultSensors}),Object(r.useEffect)((function(){return k}),[k]),a.a.createElement(Dr.Provider,{value:j},a.a.createElement(E,{context:kr,store:w},e.children))}var ea=0;function ta(){ea=0,Or=0}function na(e){var t=ie((function(){return""+ea++}),[]),n=e.dragHandleUsageInstructions||Te;return a.a.createElement(Ce,null,(function(r){return a.a.createElement(Zr,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var ra=function(e){return function(t){return e===t}},aa=ra("scroll"),oa=ra("auto"),ia=(ra("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),sa=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return ia(n,aa)||ia(n,oa)}(t)?t:e(t.parentElement)},la=function(e){return{x:e.scrollLeft,y:e.scrollTop}},ca={passive:!1},ua={passive:!0},da=function(e){return e.shouldPublishImmediately?ca:ua};function fa(e){var t=Object(r.useContext)(e);return t||Oe(!1),t}var pa=function(e){return e&&e.env.closestScrollable||null};function ha(){}var ma={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},_a=a.a.memo((function(e){var t=Object(r.useRef)(null),n=se((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),o=e.animate,i=e.onTransitionEnd,s=e.onClose,l=e.contextId,c=Object(r.useState)("open"===e.animate),u=c[0],d=c[1];Object(r.useEffect)((function(){return u?"open"!==o?(n(),d(!1),ha):t.current?ha:(t.current=setTimeout((function(){t.current=null,d(!1)})),n):ha}),[o,u,n]);var f=se((function(e){"height"===e.propertyName&&(i(),"close"===o&&s())}),[o,s,i]),p=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,a=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?ma:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?En.placeholder:null}}({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return a.a.createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":l,onTransitionEnd:f,ref:e.innerRef})})),ga=a.a.createContext(null),ba=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return Object(o.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(a.a.PureComponent),ya=5e3,va=4500,Aa=function(e,t){return t?En.drop(t.duration):e?En.snap:En.fluid},wa=function(e,t){return e?t?An.drop:An.combining:null};function ka(e){e.preventDefault()}var Ea=function(e,t){return e===t},xa=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function Oa(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Ca={mapped:{type:"SECONDARY",offset:Ie,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Oa(null)}},ja=ne((function(){var e,t,n,r=(e=Object(ye.a)((function(e,t){return{x:e,y:t}})),t=Object(ye.a)((function(e,t,n,r,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Object(ye.a)((function(e,n,r,a,o,i,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:i,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,a,o,i,null)}}})),function(r,a){if(r.isDragging){if(r.critical.draggable.id!==a.draggableId)return null;var o=r.current.client.offset,i=r.dimensions.draggables[a.draggableId],s=Qt(r.impact),l=function(e){return e.at&&"COMBINE"===e.at.type?e.at.combine.draggableId:null}(r.impact),c=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,i,a.isClone,s,l,c)}if("DROP_ANIMATING"===r.phase){var u=r.completed;if(u.result.draggableId!==a.draggableId)return null;var d=a.isClone,f=r.dimensions.draggables[a.draggableId],p=u.result,h=p.mode,m=xa(p),_=function(e){return e.combine?e.combine.draggableId:null}(p),g={duration:r.dropDuration,curve:vn,moveTo:r.newHomeClientOffset,opacity:_?An.drop:null,scale:_?wn.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:g,draggingOver:m,combineWith:_,mode:h,forceShouldAnimate:null,snapshot:t(h,d,m,_,g)}}}return null}),a=function(){var e=Object(ye.a)((function(e,t){return{x:e,y:t}})),t=Object(ye.a)(Oa),n=Object(ye.a)((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Ie,e,!0):null},a=function(t,a,o,i){var s=o.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),c=it(o),u=c&&c.draggableId===t?a:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;var d=Fe(i.displacedBy.point),f=e(d.x,d.y);return n(f,u,!0)}if(l)return r(u);var p=o.displacedBy.point,h=e(p.x,p.y);return n(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||a(e,t)||Ca}}),{dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},null,{context:kr,pure:!0,areStatePropsEqual:Ea})((function(e){var t=Object(r.useRef)(null),n=se((function(e){t.current=e}),[]),a=se((function(){return t.current}),[]),o=fa(Dr),i=o.contextId,s=o.dragHandleUsageInstructionsId,l=o.registry,c=fa(ga),u=c.type,d=c.droppableId,f=ie((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),p=e.children,h=e.draggableId,m=e.isEnabled,_=e.shouldRespectForcePress,g=e.canDragInteractiveElements,b=e.isClone,y=e.mapped,v=e.dropAnimationFinished;b||function(e){var t=jr("draggable"),n=e.descriptor,a=e.registry,o=e.getDraggableRef,i=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=ie((function(){return{canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:l}}),[i,l,s]),u=se((function(e){var t=o();return t||Oe(!1),function(e,t,n){void 0===n&&(n=Ie);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=ge(a,r),i=_e(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:i}}(n,t,e)}),[n,o]),d=ie((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),f=Object(r.useRef)(d),p=Object(r.useRef)(!0);gr((function(){return a.draggable.register(f.current),function(){return a.draggable.unregister(f.current)}}),[a.draggable]),gr((function(){if(p.current)p.current=!1;else{var e=f.current;f.current=d,a.draggable.update(d,e)}}),[d,a.draggable])}(ie((function(){return{descriptor:f,registry:l,getDraggableRef:a,canDragInteractiveElements:g,shouldRespectForcePress:_,isEnabled:m}}),[f,l,a,g,_,m]));var A=ie((function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:ka}:null}),[i,s,h,m]),w=se((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&v()}),[v,y]),k=ie((function(){var e=function(e){return"DRAGGING"===e.type?(r=(n=e).dimension.client,a=n.offset,o=n.combineWith,i=n.dropping,s=Boolean(o),l=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(n),u=(c=Boolean(i))?Cn(a,s):On(a),{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Aa(l,i),transform:u,opacity:wa(s,c),zIndex:c?va:ya,pointerEvents:"none"}):{transform:On((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,n,r,a,o,i,s,l,c,u}(y),t="DRAGGING"===y.type&&y.dropping?w:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:A}}),[i,A,h,y,w,n]),E=ie((function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}}),[f.droppableId,f.id,f.index,f.type]);return p(k,y.snapshot,E)}));function Da(e){return fa(ga).isUsingCloneFor!==e.draggableId||e.isClone?a.a.createElement(ja,e):null}function Na(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return a.a.createElement(Da,Object(i.a)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var Sa=function(e,t){return e===t.droppable.type},Ta=function(e,t){return t.draggables[e.draggable.id]},Ma={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Oe(!1),document.body}},Pa=ne((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Object(i.a)({},e,{shouldAnimatePlaceholder:!1}),n=Object(ye.a)((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=Object(ye.a)((function(r,a,o,i,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!a)return t;if(!i)return e;var f={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}}));return function(n,a){var o=a.droppableId,i=a.type,s=!a.isDropDisabled,l=a.renderClone;if(n.isDragging){var c=n.critical;if(!Sa(i,c))return t;var u=Ta(c,n.dimensions),d=Qt(n.impact)===o;return r(o,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var f=n.completed;if(!Sa(i,f.critical))return t;var p=Ta(f.critical,n.dimensions);return r(o,s,xa(f.result)===o,Qt(f.impact)===o,p,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!Sa(i,h.critical))return t;var m=Qt(h.impact)===o,_=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),g=h.critical.droppable.id===o;return m?_?e:t:g?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:kr,pure:!0,areStatePropsEqual:Ea})((function(e){var t=Object(r.useContext)(Dr);t||Oe(!1);var n=t.contextId,o=t.isMovementAllowed,i=Object(r.useRef)(null),s=Object(r.useRef)(null),l=e.children,c=e.droppableId,u=e.type,d=e.mode,f=e.direction,p=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,_=e.snapshot,g=e.useClone,b=e.updateViewportMaxScroll,y=e.getContainerForClone,v=se((function(){return i.current}),[]),A=se((function(e){i.current=e}),[]),w=(se((function(){return s.current}),[]),se((function(e){s.current=e}),[])),k=se((function(){o()&&b({maxScroll:Qn()})}),[o,b]);!function(e){var t=Object(r.useRef)(null),n=fa(Dr),a=jr("droppable"),o=n.registry,i=n.marshal,s=Nr(e),l=ie((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=Object(r.useRef)(l),u=ie((function(){return Object(ye.a)((function(e,n){t.current||Oe(!1);var r={x:e,y:n};i.updateDroppableScroll(l.id,r)}))}),[l.id,i]),d=se((function(){var e=t.current;return e&&e.env.closestScrollable?la(e.env.closestScrollable):Ie}),[]),f=se((function(){var e=d();u(e.x,e.y)}),[d,u]),p=ie((function(){return ve(f)}),[f]),h=se((function(){var e=t.current,n=pa(e);e&&n||Oe(!1),e.scrollOptions.shouldPublishImmediately?f():p()}),[p,f]),m=se((function(e,r){t.current&&Oe(!1);var a=s.current,o=a.getDroppableRef();o||Oe(!1);var i=function(e){return{closestScrollable:sa(e),isFixedOnPage:function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))}(e)}}(o),c={ref:o,descriptor:l,env:i,scrollOptions:r};t.current=c;var u=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,o=e.direction,i=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=be(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=a+t.scrollWidth,s=ue({top:r,right:i,bottom:o,left:a},n.border);return pe({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=_e(u,a),f=function(){if(!c)return null;var e=be(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:_e(e,a),scroll:la(c),scrollSize:t,shouldClipSubject:l}}();return function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,o=e.direction,i=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=Fn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Ie,displacement:Ie}}}}(),u="vertical"===o?mt:_t;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:u,isEnabled:n,client:i,page:s,frame:c,subject:Ge({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!i,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:f})}({ref:o,descriptor:l,env:i,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),d=i.closestScrollable;return d&&(d.setAttribute(mr.contextId,n.contextId),d.addEventListener("scroll",h,da(c.scrollOptions))),u}),[n.contextId,l,h,s]),_=se((function(){var e=t.current,n=pa(e);return e&&n||Oe(!1),la(n)}),[]),g=se((function(){var e=t.current;e||Oe(!1);var n=pa(e);t.current=null,n&&(p.cancel(),n.removeAttribute(mr.contextId),n.removeEventListener("scroll",h,da(e.scrollOptions)))}),[h,p]),b=se((function(e){var n=t.current;n||Oe(!1);var r=pa(n);r||Oe(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=ie((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:_,dragStopped:g,scroll:b}}),[g,m,_,b]),v=ie((function(){return{uniqueId:a,descriptor:l,callbacks:y}}),[y,l,a]);gr((function(){return c.current=v.descriptor,o.droppable.register(v),function(){t.current&&g(),o.droppable.unregister(v)}}),[y,l,g,v,i,o.droppable]),gr((function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,i]),gr((function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,i])}({droppableId:c,type:u,mode:d,direction:f,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:p,getDroppableRef:v});var E=a.a.createElement(ba,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return a.a.createElement(_a,{placeholder:r,onClose:t,innerRef:w,animate:o,contextId:n,onTransitionEnd:k})})),x=ie((function(){return{innerRef:A,placeholder:E,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,E,A]),O=g?g.dragging.draggableId:null,C=ie((function(){return{droppableId:c,type:u,isUsingCloneFor:O}}),[c,O,u]);return a.a.createElement(ga.Provider,{value:C},l(x,_),function(){if(!g)return null;var e=g.dragging,t=g.render,n=a.a.createElement(Da,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return ae.a.createPortal(n,y())}())}));Pa.defaultProps=Ma},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(29),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=7*Object(r.a)(t);return Object(a.default)(e,n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(29),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(a.default)(e,-n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){return Object(a.a)(1,arguments),Object(r.default)(e).getDay()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){Object(a.a)(1,arguments);var t=Object(r.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){Object(a.a)(1,arguments);var t=Object(r.default)(e),n=t.getMonth(),o=n-n%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}},function(e,t,n){e.exports={container:"_1323p-mnZswpGq2xU3DFJQ",close_container:"g3krW_w5jJMiSKTbEWY1n",sidebar:"_1tT6kJcgY0IQ5Kj4SwRduj",item:"_29RlzA35oou8COMx67KiY6",logo:"_2oCuTDYMmEmxdXrytmsJTR",selected:"_3sZWie2-59SMkdhN5rMQff",search_sidebar:"_1DI6Xk-tl45i7Kz7CBo6bt",search_header:"_3RujCGsSrGM46bI6SRjCRO",results_scroll_container:"_3vmLoeCsjD6pUgfxFLGoHS",result_container:"wKYNTubfgzk2xgR9LJnBr",section_header:"_1BeUPp1AddPRstWzoYSmDj",result:"_3smcS4i-8CWObF6aBApg5F",in_row:"kJE5vUDMHDkaoW3Cb7G4k",title:"_2UYf55FKuvqCxDZ_Tyma3n",subtitle:"_1lM3Fu9i3DhdlY1LbSEOHv",label:"_2TsmCXqFDZQGxHnSZQMcWR",published:"_1J33qkNCB6hgIpCYZrKCiu",standalone:"_2ZkGNgV6VBCVvLy_ue3-yC",asana:"_3qy5BuFb45bpz4qkJOMeSO",main:"_2rdjQyevOJzr1YSja7v151",main_inner:"_3Oonqs3iXLFSQECDJyPwyz",card_container:"_3ahmixAlDXf6Vajj_ldpEh",card:"_3i2b5E29GbmCXTOBcZsmFh",card_header:"nYDGus4B8T-A8gSwK9jWd",close_button:"_2r9O8B3bctDgMNsSw9vOh_",close_icon:"_1e2qlHftDn_loyzaNHebaH",standalone_bg:"_3bORna-55-UemPa8fcpkT4",asana_bg:"_2ZTbFxQ_6GHP9CvYuN4XR2",tabs_container:"_1VOIR5TRZfHYqm2NyVcf2w",tab:"_2nl3Fs-nuLwL_LbvoFnMMh",horizontal_group:"z4gNNAGZNXwt61cbv0JUa",card_body:"_37S0jzxI45D4-1AibHB8FW",side_car:"gOpyWeUeK1_eD1tVDRPAP",row_title:"_1M_9Hcz-Qevpq5nXrdDfl3",row_title_item:"_1JNWhPQWg7vJOkrreIFlJP",multi_row:"_3-jXLI5nn1u9LcfRHAFgIf",row:"rvAyv9BH8GDQVbVMd4D2t",input_container:"Zl-rxFHkM1pRdOHtONJ4d",editor_wrapper:"_1C9q1xFEzw0Z5ry7YrcfsO",editor:"_26IwV4cwqUyYsNKNOPydhv"}},function(e,t,n){"use strict";e.exports=function(e){return!("undefined"==typeof window||!window.__DRAFT_GKX||!window.__DRAFT_GKX[e])}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(349);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=(a=s)&&a.__esModule?a:{default:a},c=n(6),u=n(15),d=function(e){var t=e.children;return(0,u.createPortal)(t,document.body)},f=(0,c.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.close=n.close.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){$(this.node).modal("show"),this.store.uistate.is_mobile||$(this.node).css("top","5%")}},{key:"componentWillUnmount",value:function(){$(this.node).modal("hide")}},{key:"close",value:function(){this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}},{key:"render",value:function(){var e=this;if(Math.max(document.documentElement.clientHeight,window.innerHeight||0)<550)var t="400px";else t=this.props.height?this.props.height+"px":"500px";if(this.store.uistate.is_mobile)var n={width:"100%",marginLeft:0,left:0,display:"block",top:0,bottom:0,borderRadius:"0"};else n=o({top:"5% !important",width:this.props.width+"px",marginLeft:-1*this.props.width/2+"px"},this.props.style);return l.default.createElement(d,null,l.default.createElement("div",{id:this.props.id,className:["modal fade",this.props.className,this.store.uistate.is_mobile?"mobile":""].join(" "),ref:function(t){return e.node=t},style:n,"data-backdrop":"static","data-keyboard":"false"},this.props.title&&l.default.createElement("div",{className:"modal-header",style:this.props.headerStyle},(this.props.closeButton||this.props.upperCloseButton)&&l.default.createElement("a",{href:"javascript:void(0);",className:"pull-right",onClick:this.props.closeButtonCallback||this.close},l.default.createElement("h3",{style:{color:"#666"}},l.default.createElement("i",{className:"fa fa-times"})," ")),l.default.createElement("h3",{style:this.props.titleStyle},this.props.title)),l.default.createElement("div",{className:"modal-body",style:o({maxHeight:t},this.props.bodyStyle)},this.props.children),(this.props.closeButton||this.props.successButton||this.props.dangerButton)&&l.default.createElement("div",{className:"modal-footer",style:this.props.footerStyle},this.props.footerHTML,this.props.dangerButton&&l.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-danger btn-flat pull-left",disabled:!this.props.dangerButtonEnabled||!1,onClick:this.props.dangerButtonCallback},this.props.dangerButtonName),this.props.closeButton&&l.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-close btn-flat",onClick:this.props.closeButtonCallback||this.close}," ",this.props.closeButtonName||"Close"," "),this.props.successButton&&l.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-success btn-flat",disabled:!this.props.successButtonEnabled||!1,onClick:this.props.successButtonCallback}," ",this.props.successButtonLoading&&l.default.createElement("i",{className:"fa fa-spin fa-spinner"})," ",this.props.successButtonName||"Continue"))))}}]),t}())||r;t.default=f},function(e,t,n){var r=n(544),a=n(547);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";var r=n(39),a=n(124),o=n(17),i=o.List,s=o.Map,l=o.OrderedSet,c=o.Record,u=o.Repeat,d=l(),f=c({key:"",type:"unstyled",text:"",characterList:i(),depth:0,data:s()}),p=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=i(u(r.EMPTY,n.length))),e},h=function(e){var t,n;function r(t){return e.call(this,p(t))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getKey=function(){return this.get("key")},o.getType=function(){return this.get("type")},o.getText=function(){return this.get("text")},o.getCharacterList=function(){return this.get("characterList")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get("depth")},o.getData=function(){return this.get("data")},o.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():d},o.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},o.findStyleRanges=function(e,t){a(this.getCharacterList(),m,e,t)},o.findEntityRanges=function(e,t){a(this.getCharacterList(),_,e,t)},r}(f);function m(e,t){return e.getStyle()===t.getStyle()}function _(e,t){return e.getEntity()===t.getEntity()}e.exports=h},function(e,t,n){"use strict";function r(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(t){return e[t]})).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},function(e,t,n){"use strict";var r=n(18),a=/[\uD800-\uDFFF]/;function o(e){return 55296<=e&&e<=57343}function i(e){return a.test(e)}function s(e,t){return 1+o(e.charCodeAt(t))}function l(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!i(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var a=0;if(t>0){for(;t>0&&a<r;t--)a+=s(e,a);if(a>=r)return""}else if(t<0){for(a=r;t<0&&0<a;t++)a-=s(e,a-1);a<0&&(a=0)}var o=r;if(n<r)for(o=a;n>0&&o<r;n--)o+=s(e,o);return e.substring(a,o)}var c={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=s(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:s,hasSurrogateUnit:i,isCodeUnitInSurrogateRange:o,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),a=e.charCodeAt(t+1);return 55296<=n&&n<=56319&&56320<=a&&a<=57343},strlen:function(e){if(!i(e))return e.length;for(var t=0,n=0;n<e.length;n+=s(e,n))t++;return t},substring:function(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return l(e,t=t<n?t:n,r)},substr:l};e.exports=c},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(59),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(a.a)(e,6e4*n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(8),a=n(59),o=n(2),i=36e5;function s(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(a.a)(e,n*i)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(8),a=n(4),o=n(179),i=n(2);function s(e,t){Object(i.a)(2,arguments);var n=Object(a.default)(e),s=Object(r.a)(t),l=n.getFullYear(),c=n.getDate(),u=new Date(0);u.setFullYear(l,s,15),u.setHours(0,0,0,0);var d=Object(o.a)(u);return n.setMonth(s,Math.min(c,d)),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){Object(a.a)(1,arguments);var t=Object(r.default)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){Object(a.a)(1,arguments);var t=Object(r.default)(e);return t.setHours(23,59,59,999),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){Object(a.a)(1,arguments);var t=Object(r.default)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(178),a=n(28),o=n(8),i=n(2);function s(e,t){Object(i.a)(1,arguments);var n=t||{},s=n.locale,l=s&&s.options&&s.options.firstWeekContainsDate,c=null==l?1:Object(o.a)(l),u=null==n.firstWeekContainsDate?c:Object(o.a)(n.firstWeekContainsDate),d=Object(r.a)(e,t),f=new Date(0);return f.setFullYear(d,0,u),f.setHours(0,0,0,0),Object(a.default)(f,t)}},function(e,t,n){"use strict";var r=n(260),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?i:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var a=p(n);a&&a!==h&&e(t,a,r)}var i=u(n);d&&(i=i.concat(d(n)));for(var s=l(t),m=l(n),_=0;_<i.length;++_){var g=i[_];if(!(o[g]||r&&r[g]||m&&m[g]||s&&s[g])){var b=f(n,g);try{c(t,g,b)}catch(e){}}}}return t}},function(e,t,n){var r=n(65),a=n(230),o=n(38),i=Function.prototype,s=Object.prototype,l=i.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},function(e,t,n){var r=n(233);e.exports=function(e,t){return r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),c(n(20))),l=c(n(443));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var d=(r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i,s,l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return o=l,"filters",s=l,(i=a)&&Object.defineProperty(o,"filters",{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(s):void 0}),l.globalstore=e,l.options=r,window.workbooksprojects=l,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"model",value:function(){return l.default}},{key:"firebaseRef",value:function(){return this.globalstore.db.collection("workbooks").doc(this.options.workbook_id).collection("projects")}},{key:"url",value:function(){return"/workbooks/"+this.options.workbook_id+"/resources"}},{key:"filtered",get:function(){return this.models.filter((function(e){return void 0!==e.archived&&!e.archived&&"All Projects"!=e.name}))}},{key:"archived_projects",get:function(){return this.models.filter((function(e){return!0===e.archived}))}}]),t}(),a=u(r.prototype,"filters",[i.observable],{enumerable:!0,initializer:function(){return{query:""}}}),u(r.prototype,"filtered",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),u(r.prototype,"archived_projects",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"archived_projects"),r.prototype),r);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(15),u=n(6),d=n(3);function f(e){return e&&e.__esModule?e:{default:e}}f(n(507));var p,h,m,_,g,b=function(e){var t=e.children,n=document.getElementById("mobile-bottom-popup");return(0,c.createPortal)(t,n)},y=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"visible",a=i,(r=o)&&Object.defineProperty(n,"visible",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){setTimeout((function(){$("#popup-view").css({bottom:"0"})}),0)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return l.default.createElement(b,null,l.default.createElement("div",{id:"popup-view",style:{zIndex:1101,position:"fixed",bottom:"-500px",left:0,right:0,background:"#fff",boxShadow:"0 0 3px rgba(0,0,0,0.3)",padding:"10px",transition:"bottom 0.5s",borderRadius:"5px 5px 0 0"}},l.default.createElement("div",{style:{display:"flex",marginBottom:"20px"}},l.default.createElement("div",{style:{flexGrow:1,fontSize:"18px"}},this.props.title),l.default.createElement("div",{onClick:this.props.onClose},l.default.createElement("i",{className:"fa fa-fw fa-times",style:{fontSize:"18px",cursor:"pointer"}}))),l.default.createElement("div",{style:{maxHeight:"500px",overflow:"scroll"}},this.props.children)),l.default.createElement("div",{style:{position:"fixed",background:"rgba(0,0,0,0.3)",top:0,left:0,right:0,bottom:0,zIndex:1100}}))}}]),t}(),p=a.prototype,h="visible",m=[d.observable],_={enumerable:!0,initializer:function(){return!1}},g={},Object.keys(_).forEach((function(e){g[e]=_[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),void 0===(g=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),g)).initializer&&(Object.defineProperty(p,h,g),g=null),o=g,r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return"dropdown"==e.cf.type?o.default.createElement("div",{onClick:e.onClick?e.onClick:void 0,style:r({display:"flex"},e.style),className:["palette custom_fields_option","palette-"+e.color,e.className].join(" ")},e.value):"checkbox"==e.cf.type?e.isPriorityHeading?"":o.default.createElement("div",{onClick:e.onClick?e.onClick:void 0,className:"",style:{fontSize:"16px"}},(!0===e.rawValue||"true"===e.rawValue||!0===e.id||"true"===e.id)&&o.default.createElement("span",null,e.text&&o.default.createElement("span",{style:{fontSize:"12px"}},"Checked"),!e.text&&o.default.createElement("i",{class:"fa-regular fa-square-check",style:{fontSize:"16px"}})),!0!==e.rawValue&&"true"!==e.rawValue&&"true"!==e.id&&!0!==e.id&&o.default.createElement("span",null,e.text&&o.default.createElement("span",{style:{fontSize:"12px"}},"Unchecked"),!e.text&&o.default.createElement("i",{class:"fa-light fa-square",style:{fontSize:"16px"}}))):e.value};var a,o=(a=n(0))&&a.__esModule?a:{default:a}},,,function(e,t,n){var r=n(45).Symbol;e.exports=r},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var r=n(61),a=n(222);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},function(e,t,n){var r=n(226),a=n(227);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),i?a(n,c,u):r(n,c,u)}return n}},function(e,t,n){var r=n(31),a=n(232),o=n(582),i=n(585);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},function(e,t,n){var r=n(162);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){Object(a.a)(1,arguments);var t=Object(r.default)(e);return Math.floor(t.getMonth()/3)+1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),a=n(2),o=n(51),i=n(8);function s(e,t){Object(a.a)(1,arguments);var n=Object(r.default)(e),s=n.getUTCFullYear(),l=t||{},c=l.locale,u=c&&c.options&&c.options.firstWeekContainsDate,d=null==u?1:Object(i.a)(u),f=null==l.firstWeekContainsDate?d:Object(i.a)(l.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(s+1,0,f),p.setUTCHours(0,0,0,0);var h=Object(o.a)(p,t),m=new Date(0);m.setUTCFullYear(s,0,f),m.setUTCHours(0,0,0,0);var _=Object(o.a)(m,t);return n.getTime()>=h.getTime()?s+1:n.getTime()>=_.getTime()?s:s-1}},function(e,t,n){var r=n(487);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(65),a=n(38);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=(r=n(0))&&r.__esModule?r:{default:r};t.default=[{value:"",display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),"  "),dropdown_display:a.default.createElement("div",null," - ")},{value:1,display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),"  "),dropdown_display:a.default.createElement("div",null," 1 ",a.default.createElement("div",{className:"priority_bar"}),"  ")},{value:2,display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),a.default.createElement("div",{className:"sglclick cell-editable priority_bar"})," "),dropdown_display:a.default.createElement("div",null," 2 ",a.default.createElement("div",{className:"priority_bar"}),a.default.createElement("div",{className:"priority_bar"})," ")},{value:3,display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),a.default.createElement("div",{className:"sglclick cell-editable priority_bar"})," "),dropdown_display:a.default.createElement("div",null," 3 ",a.default.createElement("div",{className:"priority_bar"}),a.default.createElement("div",{className:"priority_bar"}),a.default.createElement("div",{className:"priority_bar"})," ")},{value:4,display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),a.default.createElement("div",{className:"sglclick cell-editable priority_bar"})," "),dropdown_display:a.default.createElement("div",null," 4 ",a.default.createElement("div",{className:"priority_bar"}),a.default.createElement("div",{className:"priority_bar"}),a.default.createElement("div",{className:"priority_bar"}),a.default.createElement("div",{className:"priority_bar"})," ")},{value:5,display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),a.default.createElement("div",{className:"sglclick cell-editable priority_bar"}),a.default.createElement("div",{className:"sglclick cell-editable priority_bar"})," "),dropdown_display:a.default.createElement("div",null," 5 ",a.default.createElement("div",{className:"priority_bar"}),a.default.createElement("div",{className:"priority_bar"}),a.default.createElement("div",{className:"priority_bar"}),a.default.createElement("div",{className:"priority_bar"}),a.default.createElement("div",{className:"priority_bar"})," ")}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=(r=n(0))&&r.__esModule?r:{default:r};t.default=[{value:"",display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),"  "),dropdown_display:a.default.createElement("div",null," - ")},{value:1,display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),"  "),dropdown_display:a.default.createElement("div",null," 1 ",a.default.createElement("div",{className:"risk_bar"}),"  ")},{value:2,display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),a.default.createElement("div",{className:"sglclick cell-editable risk_bar"})," "),dropdown_display:a.default.createElement("div",null," 2 ",a.default.createElement("div",{className:"risk_bar"}),a.default.createElement("div",{className:"risk_bar"})," ")},{value:3,display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),a.default.createElement("div",{className:"sglclick cell-editable risk_bar"})," "),dropdown_display:a.default.createElement("div",null," 3 ",a.default.createElement("div",{className:"risk_bar"}),a.default.createElement("div",{className:"risk_bar"}),a.default.createElement("div",{className:"risk_bar"})," ")},{value:4,display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),a.default.createElement("div",{className:"sglclick cell-editable risk_bar"})," "),dropdown_display:a.default.createElement("div",null," 4 ",a.default.createElement("div",{className:"risk_bar"}),a.default.createElement("div",{className:"risk_bar"}),a.default.createElement("div",{className:"risk_bar"}),a.default.createElement("div",{className:"risk_bar"})," ")},{value:5,display:a.default.createElement("div",{className:"sglclick cell-editable"},"  ",a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),a.default.createElement("div",{className:"sglclick cell-editable risk_bar"}),a.default.createElement("div",{className:"sglclick cell-editable risk_bar"})," "),dropdown_display:a.default.createElement("div",null," 5 ",a.default.createElement("div",{className:"risk_bar"}),a.default.createElement("div",{className:"risk_bar"}),a.default.createElement("div",{className:"risk_bar"}),a.default.createElement("div",{className:"risk_bar"}),a.default.createElement("div",{className:"risk_bar"})," ")}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(0),_=A(m),g=n(6),b=n(3),y=A(n(78)),v=n(68);function A(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function O(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var C=(0,g.observer)((a=function(e){function t(e){k(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return w(n,"option",o,n),w(n,"editing",i,n),n.option=n.props.option,""==n.option.value&&(n.editing=!0),n.onKeyDown=n.onKeyDown.bind(n),n}return x(t,m.Component),h(t,[{key:"setColor",value:function(e){this.option.color=e}},{key:"onKeyDown",value:function(e){"27"==e.keyCode&&(this.editing=!1),"13"==e.keyCode&&(this.editing=!1)}},{key:"isSystem",value:function(){return"_status"==this.props.cf.id&&this.option.id<=3||!!this.option.blocked||void 0}},{key:"disable",value:function(){""==this.option.value?this.props.cf.options.splice(this.props.cf.options.indexOf(this.option),1):this.option.enabled=!this.option.enabled}},{key:"render",value:function(){var e=this;return _.default.createElement("div",p({ref:this.props.provided.innerRef},this.props.provided.draggableProps,{style:p({borderBottom:"1px solid #ccc",display:"flex"},this.props.provided.draggableProps.style)}),_.default.createElement("div",p({style:{padding:"10px"}},this.props.provided.dragHandleProps),_.default.createElement("i",{className:"fas fa-grip-lines"})),_.default.createElement("div",{style:{flexGrow:1,padding:"10px",textDecoration:this.option.enabled?"none":"line-through"}},this.editing&&_.default.createElement("input",{onKeyDown:this.onKeyDown,autoFocus:!0,value:this.option.value,onChange:function(t){return e.option.value=t.target.value},type:"text",style:{width:"100%",boxSizing:"border-box",height:"27px",marginBottom:0}}),!this.editing&&this.option.value),_.default.createElement("div",{style:{padding:"10px",cursor:"pointer"},className:"dropdown"},_.default.createElement("div",{"data-toggle":"dropdown",className:"dropdown-toggle palette palette-"+this.option.color,style:{padding:"3px 5px",borderRadius:"3px"}},_.default.createElement("i",{className:"fas fa-palette"})," ",_.default.createElement("i",{className:"fa fa-chevron-down"})),_.default.createElement("ul",{className:"dropdown-menu",style:{minWidth:"auto"}},[1,2,3,4,5,6,7,8,9].map((function(t){return _.default.createElement("li",{onClick:function(){return e.setColor(t)}},_.default.createElement("a",{href:"javascript:void(0);"},_.default.createElement("div",{style:{width:"17px",height:"17px",borderRadius:"3px"},className:"palette palette-"+t})))})))),this.isSystem()&&_.default.createElement("div",{style:{padding:"10px"}},"System status. Can't be edited"),!this.isSystem()&&_.default.createElement(_.default.Fragment,null,_.default.createElement("div",{style:{padding:"10px",cursor:"pointer"}},_.default.createElement("i",{className:"fa fa-pen",onClick:function(t){return e.editing=!e.editing}})),_.default.createElement("div",{style:{padding:"10px",cursor:"pointer"},onClick:function(){return e.disable()}},_.default.createElement("i",{className:"fa fa-trash"}))))}}]),t}(),o=O(a.prototype,"option",[b.observable],{enumerable:!0,initializer:null}),i=O(a.prototype,"editing",[b.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r,j=(0,g.observer)(s=function(e){function t(e){k(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cf=n.props.cf,n}return x(t,m.Component),h(t,[{key:"render",value:function(){var e=this;return _.default.createElement(_.default.Fragment,null,this.cf.options.map((function(t,n){return _.default.createElement(v.Draggable,{type:"OPTION",key:String(t.id),draggableId:String(t.id),index:n},(function(n,r){return _.default.createElement(C,{provided:n,snapshot:r,cf:e.cf,option:t})}))})))}}]),t}())||s,D=(0,g.observer)((c=function(e){function t(e){k(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return w(n,"cf",u,n),w(n,"editing",d,n),n.onDragEnd=function(e){var t=e.source,r=e.destination;if(n.cf.options.filter((function(t){return t.id==e.draggableId}))[0]&&r){n.cf.options;var a=n.cf.options.splice(t.index,1),o=f(a,1)[0];n.cf.options.splice(r.index,0,o)}},n.store=n.props.store,n.save=n.save.bind(n),n.cf=n.props.cf,n.onKeyDown=n.onKeyDown.bind(n),n}return x(t,m.Component),h(t,[{key:"componentDidMount",value:function(){$(this.node).modal("show"),this.store.uistate.is_mobile||$(this.node).css("top","5%")}},{key:"componentWillUnmount",value:function(){$(this.node).modal("hide")}},{key:"onKeyDown",value:function(e){"27"==e.keyCode&&(this.editing=!1),"13"==e.keyCode&&(this.editing=!1)}},{key:"save",value:function(){this.store.workbooksettings.saveCustomField((0,b.toJS)(this.cf)),this.props.close()}},{key:"addOption",value:function(){var e=0;this.cf.options.forEach((function(t){t.id>e&&(e=t.id)})),this.cf.options.push({color:1,enabled:!0,value:"",id:e+1})}},{key:"render",value:function(){var e=this;return _.default.createElement(y.default,{title:this.props.cf.name+" editor",successButton:!0,successButtonCallback:this.save,successButtonEnabled:!0,closeButton:!0,closeButtonCallback:this.props.close,store:this.props.store,successButtonName:"Save",bodyStyle:{height:"500px"}},"_status"!=this.cf.id&&_.default.createElement(_.default.Fragment,null,_.default.createElement("div",{style:{display:"flex",alignItems:"center"}},_.default.createElement("div",{style:{flexGrow:1,fontSize:"16px",marginBottom:"10px"}},"Custom field name")),_.default.createElement("div",{style:{borderBottom:"1px solid #ccc",display:"flex",height:"50px",alignItems:"center",marginBottom:"40px"}},_.default.createElement("div",{style:{flexGrow:1,padding:"10px 0"}},this.editing&&_.default.createElement("input",{onKeyDown:this.onKeyDown,autoFocus:!0,value:this.cf.name,onChange:function(t){e.cf.name=t.target.value,e.cf.short_name=t.target.value},type:"text",style:{width:"100%",boxSizing:"border-box",height:"27px",marginBottom:0}}),!this.editing&&this.cf.name),_.default.createElement("div",{style:{padding:"10px",cursor:"pointer"}},_.default.createElement("i",{className:"fa fa-pen",onClick:function(t){return e.editing=!e.editing}})))),"dropdown"==this.cf.type&&_.default.createElement(_.default.Fragment,null,_.default.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"}},_.default.createElement("div",{style:{flexGrow:1,fontSize:"16px",marginBottom:"10px"}},"Options"),_.default.createElement("div",{style:{}},_.default.createElement("button",{className:"btn btn-flat btn-small btn-info",onClick:function(){return e.addOption()}},"Add option"))),_.default.createElement(v.DragDropContext,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},_.default.createElement(v.Droppable,{droppableId:this.cf.id,type:"OPTION"},(function(t,n){return _.default.createElement(_.default.Fragment,null,_.default.createElement("div",p({},t.droppableProps,{ref:t.innerRef}),_.default.createElement(j,{cf:e.cf,store:e.store}),t.placeholder))})))))}}]),t}(),u=O(c.prototype,"cf",[b.observable],{enumerable:!0,initializer:null}),d=O(c.prototype,"editing",[b.observable],{enumerable:!0,initializer:function(){return!1}}),l=c))||l;t.default=D},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),s=n(6),l=u(n(461)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.store.dates,n=this.props.type,r=moment(this.store.uistate.today),a=moment(this.store.uistate.today);return 1==this.store.uistate.column_length&&(r=moment(r).format("YYYY-MM-DD"),a=moment(a).format("YYYY-MM-DD")),7==this.store.uistate.column_length&&(r=moment(c.getMonday(moment(r).toDate())).format("YYYY-MM-DD"),a=moment(c.getMonday(moment(a).toDate())).format("YYYY-MM-DD")),this.props.user_ids?i.default.createElement("section",null,t.filtered_assigned(this.props.user_ids).map((function(t){return i.default.createElement(l.default,{key:t.id?t.id:t.optimisticId(),date:t,type:n,store:e.store,user:!0})}))):0==t.filtered_unassigned.length&&this.store.uistate.today_indicator?i.default.createElement(l.default,{today:!0,date:{id:1,name:"Today",start:r,end:a,is_holiday:!1,not_editable:!0,color:"highlight-today"},type:n,store:this.store}):i.default.createElement("section",null,t.filtered_unassigned.map((function(t){return i.default.createElement(l.default,{key:t.id?t.id:t.optimisticId(),date:t,type:n,store:e.store})})),this.store.uistate.today_indicator&&i.default.createElement(l.default,{today:!0,date:{id:1,name:"Today",start:r,end:a,is_holiday:!1,not_editable:!0,color:"highlight-today"},type:n,store:this.store}))}}]),t}())||r;t.default=d},function(e,t,n){"use strict";var r=n(280),a="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,i=Array.prototype.concat,s=Object.defineProperty,l=n(494)(),c=s&&l,u=function(e,t,n,r){var a;t in e&&("function"!=typeof(a=r)||"[object Function]"!==o.call(a)||!r())||(c?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);a&&(o=i.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)u(e,o[s],t[o[s]],n[o[s]])};d.supportsDescriptors=!!c,e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=x(d),p=n(15),h=n(6),m=n(3),_=(n(55),x(n(44))),g=x(n(30)),b=(x(n(506)),x(n(289))),y=x(n(288)),v=x(n(216)),A=x(n(290)),w=x(n(95)),k=x(n(96)),E=x(n(291));function x(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function j(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(217);var D=function(e){var t=e.children,n=document.getElementById("react-datepicker-container");return(0,p.createPortal)(t,n)},N=(0,h.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return C(n,"editor_value",o,n),C(n,"editor_value_end",i,n),C(n,"editing",s,n),n.reactions=[],n.displayTemplates={"color-picker":n.colorPickerTemplate.bind(n)},n.handleClick=n.handleClick.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleChangeDate=n.handleChangeDate.bind(n),n.handleChangeStartDate=n.handleChangeStartDate.bind(n),n.handleChangeDueDate=n.handleChangeDueDate.bind(n),n.onBlurStartDate=n.onBlurStartDate.bind(n),n.onBlurEndDate=n.onBlurEndDate.bind(n),n.onSelectStartDate=n.onSelectStartDate.bind(n),n.onSelectEndDate=n.onSelectEndDate.bind(n),n.closeCurrentEditables=n.closeCurrentEditables.bind(n),n.changeParent=n.changeParent.bind(n),n.setColor=n.setColor.bind(n),n.saveDropdownValue=n.saveDropdownValue.bind(n),"edit"==n.props["data-state"]&&(n.editing=!0),n.reactions.push((0,m.reaction)((function(){return n.props.tasks.globalstore.uistate.active_field}),(function(e){!e&&n.editing&&(n.closeCurrentEditables(),document.removeEventListener("mousedown",n.handleClickOutside))}))),n.handleClickOutside=n.handleClickOutside.bind(n),n.handleEsc=n.handleEsc.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleEsc)}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()})),document.removeEventListener("mousedown",this.handleClickOutside),document.removeEventListener("keydown",this.handleEsc)}},{key:"handleClickOutside",value:function(e){if(!this.props.tasks.globalstore.uistate.is_mobile&&this.wrapper&&!this.wrapper.contains(e.target)){if(document.removeEventListener("mousedown",this.handleClickOutside),-1==["compound_cost","text","integer","number","percentage","array_colon"].indexOf(this.props["data-type"]))return void this.closeCurrentEditables();this.closeCurrentEditables({save:!0})}}},{key:"handleEsc",value:function(e){27==e.keyCode&&this.closeCurrentEditables()}},{key:"addListeners",value:function(){document.addEventListener("keydown",this.handleEscape)}},{key:"removeListeners",value:function(){document.removeEventListener("keydown",this.handleEscape)}},{key:"display",value:function(){var e=this,t=!1;if("dropdown"==this.props["data-type"]){var n=this.props.options.filter((function(t){return t.value==e.props.value}));n.length>0&&(t=n[0].display)}t=!1,this.removeListeners();var r=this.props.className;if("offline"==store.mode&&(r=r.replace("cell-editable","").replace("sglclick","")),"dropdown"==this.props["data-type"]){var a=this.props.options.filter((function(t){return t.value==e.props.value}));a.length>0&&(t=a[0].display)}if(this.props.cf){var o=this.props.tasks.selected[0];return f.default.createElement("div",{style:c({},this.props.style),ref:function(t){return e.node=t},onClick:this.handleClick,className:[r].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"],"data-blocked":this.props["data-blocked"],title:this.props.title,"data-toggle":this.props["data-toggle"],"data-title":this.props["data-title"],"data-trigger":this.props["data-trigger"]},("dropdown"==this.props.cf.type||"checkbox"==this.props.cf.type)&&!o.is_project&&f.default.createElement(k.default,c({style:{borderRadius:"4px",padding:"2px 5px",fontSize:"10px",lineHeight:"14px"},cf:this.props.cf},this.props.tasks.globalstore.workbooksettings.customField(this.props.cf.id).optionsObject&&this.props.tasks.globalstore.workbooksettings.customField(this.props.cf.id).optionsObject[this.props.value],{onClick:this.handleClick,rawValue:this.props.value,className:"sglclick cell-editable",isPriorityHeading:o.is_priority_heading})),("dropdown"==this.props.cf.type||"checkbox"==this.props.cf.type)&&o.is_project&&f.default.createElement("span",null,"-"),"dropdown"!=this.props.cf.type&&"checkbox"!=this.props.cf.type&&""!=this.props.value&&f.default.createElement("span",null,this.props.value),"dropdown"!=this.props.cf.type&&"checkbox"!=this.props.cf.type&&""==this.props.value&&f.default.createElement("span",null,"-"))}return f.default.createElement("div",{style:c({textAlign:"left",whiteSpace:"inherit"},this.props.style),ref:function(t){return e.node=t},onClick:this.handleClick,className:r,"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"],"data-blocked":this.props["data-blocked"],"data-toggle":this.props["data-toggle"],title:this.props.title,"data-title":this.props["data-title"],"data-trigger":this.props["data-trigger"],"data-placement":this.props["data-placement"]},t||this.props.children||this.props.value||this.displayTemplates[this.props["data-type"]]&&this.displayTemplates[this.props["data-type"]]())}},{key:"saveCustomField",value:function(e,t,n){e.stopPropagation(),"object"==(void 0===n?"undefined":l(n))?this.props.tasks.applyToSelected({no_childs:!0},(function(e){e.saveCustomField(t,n.id)})):this.props.tasks.applyToSelected({no_childs:!0},(function(e){e.saveCustomField(t,n)})),this.closeCurrentEditables()}},{key:"editor",value:function(){var e=this,t=this.props.tasks,n=(t.globalstore.uistate,t.globalstore);this.addListeners();var r,a=c({},this.props.style);return this.props.cf?"dropdown"==this.props.cf.type?f.default.createElement("div",{style:c({},a),className:[this.props.className,"editing","forced_overflow"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},f.default.createElement(E.default,null,f.default.createElement("div",{ref:function(t){return e.wrapper=t},style:c({},this.props.style),className:[this.props.className,"editing","forced_overflow"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},f.default.createElement("div",{className:"cell-dropdown-container",onKeyDown:this.handleEscape,style:{maxWidth:"150px",marginLeft:"-75px"}},f.default.createElement("ul",{className:"unstyled",style:{padding:"5px 0"}},this.props.cf.options.filter((function(e){return e.enabled})).map((function(t){return f.default.createElement("li",null,f.default.createElement(k.default,c({style:{fontSize:"10px"},cf:e.props.cf},t,{onClick:function(n){return e.saveCustomField(n,e.props.cf,t)}})))}))))))):f.default.createElement("div",{style:c({},this.props.style),className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},f.default.createElement("input",{onFocus:function(t){t.target.value="",t.target.value=e.editor_value},onChange:this.handleKeyDown,onKeyDown:this.handleKeyDown,type:"text",className:"input-editable-cell",value:this.editor_value,autoFocus:"true",style:{width:"90px"}})):-1!=["number","percentage"].indexOf(this.props["data-type"])?f.default.createElement("div",{ref:function(t){return e.wrapper=t},className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},f.default.createElement("input",{onFocus:function(t){t.target.value="",t.target.value=e.editor_value},onChange:this.handleKeyDown,onKeyDown:this.handleKeyDown,type:"text",className:"input-editable-cell",value:this.editor_value,autoFocus:"true"})):"compound_cost"==this.props["data-type"]&&(0==t.selected[0].get_users.length||1==t.selected[0].get_users.length&&void 0===t.selected[0].get_users[0])?f.default.createElement("div",{ref:function(t){return e.wrapper=t},style:c({},this.props.style),className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},f.default.createElement("input",{onFocus:function(t){t.target.value="",t.target.value=e.editor_value},onChange:this.handleKeyDown,onKeyDown:this.handleKeyDown,type:"text",className:"input-editable-cell",value:this.editor_value,autoFocus:"true"})):"text"==this.props["data-type"]?f.default.createElement("div",{ref:function(t){return e.wrapper=t},className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},f.default.createElement("input",{onChange:this.handleKeyDown,onKeyDown:this.handleKeyDown,type:"text",className:"input-editable-cell",value:this.editor_value,autoFocus:"true"})):"date"==this.props["data-type"]?f.default.createElement("div",{ref:function(t){return e.wrapper=t},className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},f.default.createElement(_.default,{popperContainer:D,dateFormat:"dd/MM/yyyy",selected:(0,g.default)(this.editor_value).toDate(),onChange:this.handleChangeDate,className:"input-editable-cell",autoFocus:"true",popoverTargetOffset:"30px 0px",style:{width:"30px"}})):"daterange"==this.props["data-type"]?f.default.createElement("div",(O(r={ref:function(t){return e.wrapper=t},className:[this.props.className,"editing"].join(" ")},"ref",(function(t){return e.node=t})),O(r,"data-attribute",this.props["data-attribute"]),O(r,"data-type",this.props["data-type"]),r),f.default.createElement("div",{style:{display:"inline-block"}},f.default.createElement(_.default,{popperContainer:D,dateFormat:"dd MMM yyyy",selectsStart:!0,selected:(0,g.default)(this.editor_value).toDate(),startDate:(0,g.default)(this.editor_value).toDate(),endDate:(0,g.default)(this.editor_value_end).toDate(),className:"input-editable-cell date start-date",autoFocus:"true",onBlur:this.onBlurStartDate,onSelect:this.handleChangeStartDate,style:{width:"50px"},ref:function(t){return e.start_node=t}})),f.default.createElement("div",{style:{display:"inline-block"}},"to"),f.default.createElement("div",{style:{display:"inline-block"}},f.default.createElement(_.default,{popperContainer:D,dateFormat:"dd MMM yyyy",selectsEnd:!0,selected:(0,g.default)(this.editor_value_end).toDate(),endDate:(0,g.default)(this.editor_value_end).toDate(),startDate:(0,g.default)(this.editor_value).toDate(),onBlur:this.onBlurEndDate,onSelect:this.handleChangeDueDate,className:"input-editable-cell date due-date",style:{width:"50px"},ref:function(t){return e.end_node=t}}))):"assignee"==this.props["data-type"]&&"standalone"==n.user.type?f.default.createElement(v.default,{store:n,tasks:t,className:this.props.className}):"assignee"==this.props["data-type"]&&"standalone"!=n.user.type?f.default.createElement("div",{ref:function(t){return e.wrapper=t},className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},f.default.createElement(b.default,{tasks:t,onClose:this.closeCurrentEditables})):"tags"==this.props["data-type"]?f.default.createElement("div",{ref:function(t){return e.wrapper=t},className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},f.default.createElement(y.default,{task:this.props.task,tasks:t,onClose:this.closeCurrentEditables})):"parent"==this.props["data-type"]?f.default.createElement(f.default.Fragment,null,f.default.createElement("select",{onChange:this.changeParent,className:this.props.editorClassName||""},this.props.parents.map((function(e){return f.default.createElement("option",{value:e.id,selected:e.selected},e.name)}))),"  ",f.default.createElement("button",{className:"btn btn-flat btn-mini",onClick:this.closeCurrentEditables},"Close")):"dropdown"==this.props["data-type"]?f.default.createElement("div",{ref:function(t){return e.wrapper=t},className:[this.props.className,"editing","forced_overflow"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},f.default.createElement("div",{className:"cell-dropdown-container",onKeyDown:this.handleEscape},f.default.createElement("ul",{className:"unstyled"},this.props.options.map((function(t){return f.default.createElement("li",{onClick:function(){return e.saveDropdownValue(t.value)}},t.dropdown_display)}))))):"compound_cost"==this.props["data-type"]?f.default.createElement(f.default.Fragment,null,f.default.createElement(A.default,{store:t.selected[0].store.globalstore,className:this.props.className,style:c({},this.props.style),height:"170px",width:"200px"},f.default.createElement("div",{style:{padding:"0px"}},f.default.createElement("table",{style:{width:"100%",margin:0},className:"table"},f.default.createElement("tr",null,f.default.createElement("td",{style:{lineHeight:"14px"}},"Variable ",f.default.createElement("br",null),"(Hours x Rate)"),f.default.createElement("td",null,f.default.createElement("input",{type:"text",disabled:!0,value:""!=this.props["data-variable-attribute"]?(n.projectsettings.getSetting("currency")||"$")+Number(this.props["data-variable-attribute"]).money(2,3,".",","):(n.projectsettings.getSetting("currency")||"$")+"0",style:{width:"60px",margin:0,fontSize:"11px"}}))),f.default.createElement("tr",null,f.default.createElement("td",null,"Fixed"),f.default.createElement("td",null,f.default.createElement("input",{onFocus:function(t){t.target.value="",t.target.value=e.editor_value},onChange:this.handleKeyDown,onKeyDown:this.handleKeyDown,type:"text",className:"",value:this.editor_value,autoFocus:"true",style:{width:"60px",margin:0,fontSize:"11px"}}))),f.default.createElement("tr",null,f.default.createElement("td",{style:{fontSize:"14px",borderTop:"1px solid #ccc",fontweight:"bold"}},"Total"),f.default.createElement("td",{style:{fontSize:"14px",borderTop:"1px solid #ccc",fontweight:"bold"}},n.projectsettings.getSetting("currency")||"$",""!==this.props["data-total-attribute"]?Number(this.props["data-total-attribute"]).money(2,3,".",","):"0")),f.default.createElement("tr",null,f.default.createElement("td",{colspan:2},f.default.createElement("a",{href:"javascript:void(0)",style:{fontSize:"10px"},onClick:function(){return t.store.globalstore.uistate.current_modal="WORKING_DAYS"}},"Set up hourly rates per user"))))))):void 0}},{key:"render",value:function(){var e=this,t=this.props.tasks.globalstore.uistate;return this.editing?t.is_mobile&&-1!=["number","percentage","text"].indexOf(this.props["data-type"])?f.default.createElement(w.default,{title:"Edit value",onClose:function(){return e.closeCurrentEditables()}},f.default.createElement("div",{style:{display:"flex"}},f.default.createElement("div",{style:{flexGrow:1,marginRight:"10px"}},this.editor()),f.default.createElement("div",null,f.default.createElement("button",{class:"btn btn-flat btn-success",onClick:function(){return e.saveInputValue()}},"Save")))):this.editor():this.display()}},{key:"colorPickerTemplate",value:function(){var e=this,t=this.props.tasks,n=t.globalstore.uistate,r=t.selected[0].color;return f.default.createElement("div",{className:"title-menu dropdown","data-toggle":"tooltip","data-placement":"bottom",title:"Color"},f.default.createElement("span",{href:"javascript:void(0);",className:"dropdown-toggle","data-toggle":"dropdown"},r&&f.default.createElement("div",null,f.default.createElement("div",{className:["color-box-mini pull-left",r].join(" ")}),r," ",f.default.createElement("i",{className:"fa fa-fw fa-caret-down"})),!r&&f.default.createElement("div",null,"Color ",f.default.createElement("i",{className:"fa fa-fw fa-caret-down"}))),f.default.createElement("ul",{className:"dropdown-menu"},f.default.createElement("li",{style:{textAlign:"left"}},f.default.createElement("a",{href:"#","data-color":"",className:"set-color",onClick:this.setColor},"Default",f.default.createElement("div",{className:"muted"},f.default.createElement("div",{onClick:this.setColor,className:"color-box-mini color-ontime pull-left"})," On time ",f.default.createElement("div",{className:"clearfix"}),f.default.createElement("div",{onClick:this.setColor,className:"color-box-mini color-overdue pull-left"})," Overdue ",f.default.createElement("div",{className:"clearfix"}),f.default.createElement("div",{onClick:this.setColor,className:"color-box-mini color-completed pull-left"})," Completed ",f.default.createElement("div",{className:"clearfix"})))),f.default.createElement("li",{className:"divider"}),f.default.createElement("li",{style:{paddingLeft:"10px"}},n.available_colors.map((function(t){return f.default.createElement("div",{onClick:e.setColor,className:["pull-left color-box set-color",t].join(" "),"data-color":t})})))))}},{key:"changeParent",value:function(e){var t=this.props.tasks.selected[0].collection.get(e.target.value);t&&t.setCollapsed(!1),this.props.tasks.applyToSelected({},(function(t){t.changeParent({parent:e.target.value})})),this.editing=!1}},{key:"handleClick",value:function(e){var t=this;if(this.props.tasks.globalstore.uistate,this.props["data-blocked"])return $(this.node).tooltip("show"),void setTimeout((function(){$(t.node).tooltip("hide")}),2e3);$(e.target).hasClass("sglclick")||$(e.currentTarget).hasClass("sglclick")?this.toggleEditableCell(e):this.props.onClick&&this.props.onClick(e)}},{key:"handleEscape",value:function(e){console.log("handling escape"),27==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.closeCurrentEditables())}},{key:"toggleEditableCell",value:function(e){document.addEventListener("mousedown",this.handleClickOutside);var t=this.props.tasks,n=t.globalstore.uistate,r=t.selected[0];n.active_field=!1,n.active_field=this.props["data-type"],e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var a=$(e.target);if("INPUT"!=e.target.tagName){e.target.dataset.attribute,e.target.dataset.type,e.target.setAttribute("data-display",e.target.textContent);var o=e.target.dataset.blocked;if(e.target.dataset.linked,o)return a.tooltip("show"),void setTimeout((function(){a.tooltip("hide")}),2e3);if(!r.is_project){if("percentage"==this.props["data-type"])var i=parseInt(r[this.props["data-attribute"]]||0);else i=r[this.props["data-attribute"]],r.is_priority_heading&&(i=i.split(":")[0]);if(this.props.cf){if(console.log("going checkbox 1"),"checkbox"==this.props.cf.type){console.log("going checkbox 2");var s=r.getCustomField(this.props.cf.id);return console.log({current_value:s}),void(!0===s||"true"===s?r.saveCustomField(this.props.cf,!1):r.saveCustomField(this.props.cf,!0))}i=r.getCustomField(this.props.cf.id)}this.editing=!0,this.editor_value=i,r[this.props["data-attribute-end"]]&&(this.editor_value_end=r[this.props["data-attribute-end"]]),"daterange"==this.props["data-type"]&&(""!=this.editor_value&&""!=this.editor_value_end||(this.editor_value_end=moment().format("YYYY-MM-DD"),this.editor_value=moment().format("YYYY-MM-DD")))}}}},{key:"closeCurrentEditables",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.editing=!1,e.save&&this.saveInputValue(),this.props.onClose&&this.props.onClose()}},{key:"handleKeyDown",value:function(e){if(this.props.tasks.globalstore.uistate,"percentage"==this.props["data-type"]&&e.target.value?this.editor_value=parseInt(e.target.value):this.editor_value=e.target.value,13==e.keyCode)e.preventDefault(),e.stopPropagation(),this.saveInputValue(e),this.closeCurrentEditables();else if(27==e.keyCode)console.log("esc"),e.preventDefault(),e.stopPropagation(),this.closeCurrentEditables();else{if(this.props["data-blocked"])return e.preventDefault(),e.stopPropagation(),!1;if("date"==this.props["data-type"])return $(e.target).datepicker("hide"),e.preventDefault(),e.stopPropagation(),!1;if("daterange"==this.props["data-type"])return $(e.target).datepicker("hide"),e.preventDefault(),e.stopPropagation(),!1}}},{key:"handleChangeDate",value:function(e){var t=this.props.tasks,n=(t.globalstore.uistate,t.selected[0]),r=n.editing||{};r.due=moment(e).format("YYYY-MM-DD"),r.start=moment(e).format("YYYY-MM-DD"),n.set({editing:r}),n.saveChangeDates(),this.closeCurrentEditables()}},{key:"handleChangeStartDate",value:function(e){var t=this.props.tasks;t.globalstore.uistate,t.selected[0].set({editing:{start:moment(e).format("YYYY-MM-DD")}}),this.editor_value=moment(e).format("YYYY-MM-DD"),this.editor_value>this.editor_value_end&&(this.editor_value_end=this.editor_value),$("input",this.node).focus()}},{key:"handleChangeDueDate",value:function(e){console.log("Handling change due date");var t=this.props.tasks,n=(t.globalstore.uistate,t.selected[0]),r=n.editing||{};r.due=moment(e).format("YYYY-MM-DD"),n.set({editing:r}),n.saveChangeDates({ignore_siblings:!0}),this.closeCurrentEditables()}},{key:"saveDropdownValue",value:function(e){var t=this,n=this.props.tasks,r=(n.globalstore.uistate,this.props["data-attribute"]),a=(this.props["data-type"],{});a[r]=e,n.applyToSelected({no_childs:!0},(function(e){e[r]!=a[r]&&e.save(a),t.hints(r)})),this.editing=!1}},{key:"onBlurEndDate",value:function(e){this.handleChangeDueDate(this.editor_value_end)}},{key:"onBlurStartDate",value:function(e){}},{key:"onSelectEndDate",value:function(e){}},{key:"onSelectStartDate",value:function(e){}},{key:"saveInputValue",value:function(e){var t=this;console.log("saving");var n=this.props.tasks,r=(n.globalstore.uistate,this.editor_value),a=this.props["data-attribute"],o=this.props["data-type"];this.props.cf&&this.props.cf.type&&(o=this.props.cf.type);var i={};if(i[a]=r,"integer"==o){if(isNaN(parseInt(i[a]))&&""!==i[a])return;i[a]=parseInt(r),r=i[a]}if("number"==o||"compound_cost"==o){if(""!=i[a]&&isNaN(parseFloat(i[a])))return;i[a]=isNaN(parseFloat(i[a]))?i[a]:parseFloat(i[a])}if("percentage"==o){if(isNaN(parseInt(i[a])))return;parseInt(i[a])>100&&(i[a]=100),i[a]=parseInt(i[a])+"%"}if("assignee"!=o){if("name"==a&&n.selected[0].is_priority_heading&&(i[a]=i[a]+":"),this.props.cf){console.log("CF",this.props.cf),console.log("Update attribute",i[a]),console.log("Value",r);var s=i[a];return void 0===s&&(s=r),void this.saveCustomField(e,this.props.cf,s)}n.applyToSelected({no_childs:!0},(function(e){e[a]!=i[a]&&e.save(i),t.hints(a)})),this.editing=!1}}},{key:"setColor",value:function(e){var t=this.props.tasks,n=e.target.dataset.color;""!=n&&void 0!==n||(n=!1),t.applyToSelected({},(function(e){e.save({color:n})}))}},{key:"hints",value:function(e){var t=this.props.tasks.globalstore.user.type||"";"estimated_hours"!=e||t||this.props.tasks.globalstore.uistate.showHint("estimated_hours")}}]),t}(),o=j(a.prototype,"editor_value",[m.observable],{enumerable:!0,initializer:function(){return""}}),i=j(a.prototype,"editor_value_end",[m.observable],{enumerable:!0,initializer:function(){return""}}),s=j(a.prototype,"editing",[m.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=N},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(301),a=n(563),o=n(101);e.exports=function(e){return o(e)?r(e,!0):a(e)}},function(e,t,n){var r=n(103),a=n(104);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){e.exports={card:"_2M3CryWCkWwHpDF-grtFvw",second_row:"_20nIACfvJIJmftSHk6_9Xo",show_on_hover:"_1uM62WEV3A7iM7zJXXCuid",edit_task_name:"ukm_3OchAJ4tqfATehV52",inline_parent:"_3UyIpohSopWtz_X7FQgyV_",item:"O-Re1wLHVmIvjge8UdFEe",grow:"ASsZNMbJMzDwMtAr2k25x",message:"_3BlesxNhljHmX0gFVqekHU",thumbnail:"C9xV-AlmdBqzpyf9_GvJk",card_inner:"_16sHWJX2ap6unluKMLPWHy",task_editor:"_23xFG8Qvui6lz_b5EzFnb_",element:"_25-6X3FUEV9shRsGOhWBZq",card_content:"XJ0Gn3dyZ7AaUPDt9YSj1",card_content_text:"_12XChksicC5IgWgA4jq_1T",avatar_container:"_3D5RM7eyuzI-g-8MOVBUez",active_action:"_6P74vO0qk5YIctGQQUh6b",information:"_3yOs_J_AE_RW2H7FHEbsVF",assignees:"_2ITwGmjnaZHByu5OQ3MKj-",card_right_action:"_3tH4B8-Cpvr0dAkik4NT5e",card_action:"_3PGwpZDcSk9BQxgQTNSY0P",third_row:"_3TM1mtEWrhQSTOg6zTfLfI",subtask:"_1N9EPOgG9o59EhquDFygBq",action:"_3kKr6Pc82UearjhzdnRnyF",name:"_2zouQV5zuwQwyI7-pOqRJk",right_action:"_1w-j_Alkx1JwEbCn-HA9Vj",right_action_visible:"w18VZ8QTHWs_mA2U1HFwe",subtasks_indicator:"_3s0hjPKcS_TAR8EB1A45aM",card_completed:"H9atsty1edCOuNnm0pJbu",title:"_34svcxdKu-1eyFd4Mtbe05",title_inner:"yPNYgGBHfFNC9MmNE_Gfk",title_inner_text:"eV2JzuCWlXWAtCbfdDGb9",title_inner_action:"_1PUi81BpCAWrcA2zL3m3XC",title_edit:"xaSKZ_rXHftjbapLmX5ah",title_action:"_1QjhZ3we_MgM933nacbURa",is_container:"_1Hl1y3KGuiC83pJXNtUN1M",is_section:"_9j6cY2_0Cw51rKsMhsXrb"}},function(e,t,n){e.exports={header:"_1N5FGYMDmukI14mtefkG4z",header_left:"_1wts-pRZC3qOnJgOzF5P0Z",header_right:"_3igYuLrtU-spsRDntOhIWh",header_item:"_2073ML5pibj1NKfB9SZr5Z",content_wrapper:"NmfANQKd8tXh-xYvSYWKG",content_scroller:"_1B43ejz25EsghfpHf1pj0u",container:"Gqaj2Mxr8hXH5RDMFrpVc",projects_container:"_2uIdtYDb5Udg8bfTox5mGm",block:"_3zgu-bWlixZE1g6u5_xj8P",timeline:"_3ztD6AXIw93Pj9EBM5xaFW",timeline_header:"_1ye32knAMGHJ0it8xcWlFG",title:"npGjcDMoa6jccXyaXQKgi",filter_item:"_2ZAv2rwyjiQF2KG0RLMCJ3",timeline_container:"_2zobWccRVVi-qC6MTlF-xZ",project:"_13Z5d_AviYrgcMxmPzq9eJ",component_title:"_3uqz6mSmJftFQBOH1phVDq",options:"_135XITZd2EY1FWiMdIJLCZ",component_title_mini:"_33IFrhxMUhyQ_wN0uUdwCt",progress_chart:"_3DYxL9cR9k5aLPmz2iTFGg",stats:"_3SFiqy-tHflcqbH-dBTH3A",stat_item:"_3NetxVKFS4zmCCMCO6qIET",stat_title:"_3giohge3nvwiWw14p1y4rY",stat_value:"_29jA4Q-xqXwHWiLd3o2oar",user_stats:"_1fCDf9p5B7b6WTwPgRf-Pn",stat_cell:"_2zCnhRZGVUhOUoGNgNrNly",stat_cell_header:"_1AVrQQZf-4KnbT1AfOgfIA",delayed:"_1lftzizIl-s54RjVa1SECp",advanced:"SjZD19e1aKQAJFdSF4nCt",uptodate:"_3MdvufIgi4iHCkV7uu2eWf",selectable_option_container:"_1Wc-sznRKeEdmobuRVYrom",selectable_option:"_3UwIKobb2FUl3-IGkl7nrj"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),c=d(n(681)),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),d(n(20)));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}d(n(357));var h=(r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("constructing user management");var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.storage_type="HTTPSaver",f(r,"non_project_members_expanded",a,r),f(r,"filtered_users",o,r),f(r,"search_query",i,r),r.globalstore=e,r.prefill=r.prefill.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),s(t,[{key:"model",value:function(){return c.default}},{key:"url",value:function(){var e=this.search_query;return"users"==this.globalstore.management.ui.search_filter?"/management/users?email="+e:"/management/users?subscription_reference="+e}},{key:"prefill",value:function(e){return e}},{key:"selected",get:function(){return this.models.filter((function(e){return e.selected}))[0]}}]),t}(),a=p(r.prototype,"non_project_members_expanded",[l.observable],{enumerable:!0,initializer:function(){return!0}}),o=p(r.prototype,"filtered_users",[l.observable],{enumerable:!0,initializer:function(){return[]}}),i=p(r.prototype,"search_query",[l.observable],{enumerable:!0,initializer:function(){return""}}),p(r.prototype,"selected",[l.computed],Object.getOwnPropertyDescriptor(r.prototype,"selected"),r.prototype),r);t.default=h},function(e,t,n){"use strict";var r=n(17).OrderedMap,a={createFromArray:function(e){return r(e.map((function(e){return[e.getKey(),e]})))}};e.exports=a},function(e,t,n){"use strict";e.exports=function(e,t,n,r){if(e.size){var a=0;e.reduce((function(e,o,i){return t(e,o)||(n(e)&&r(a,i),a=i),o})),n(e.last())&&r(a,e.count())}}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},function(e,t,n){"use strict";var r=n(34),a=n(75)("draft_tree_data_support");e.exports=function(e,t,n){var o=e.getSelection(),i=e.getCurrentContent(),s=o,l=o.getAnchorKey(),c=o.getFocusKey(),u=i.getBlockForKey(l);if(a&&"forward"===n&&l!==c)return i;if(o.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return i;if(a&&o.getAnchorOffset()===i.getBlockForKey(l).getLength()){var d=i.getBlockForKey(u.nextSibling);if(!d||0===d.getLength())return i}}else if(e.isSelectionAtStartOfContent())return i;if((s=t(e))===o)return i}return r.removeRange(i,s,n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n(2);function a(e){return Object(r.a)(1,arguments),e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(46),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(a.default)(e,12*n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(46),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(a.default)(e,-n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){return Object(a.a)(1,arguments),Object(r.default)(e).getDate()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(28),a=n(90),o=n(4),i=n(2),s=6048e5;function l(e,t){Object(i.a)(1,arguments);var n=Object(o.default)(e),l=Object(r.default)(n,t).getTime()-Object(a.a)(n,t).getTime();return Math.round(l/s)+1}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){return Object(a.a)(1,arguments),Object(r.default)(e).getTime()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){var t,n;if(Object(a.a)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=Object(r.default)(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)})),n||new Date(NaN)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){var t,n;if(Object(a.a)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=Object(r.default)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)})),n||new Date(NaN)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e,t){Object(a.a)(2,arguments);var n=Object(r.default)(e),o=Object(r.default)(t);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(28),a=n(23),o=n(2),i=6048e5;function s(e,t,n){Object(o.a)(2,arguments);var s=Object(r.default)(e,n),l=Object(r.default)(t,n),c=s.getTime()-Object(a.a)(s),u=l.getTime()-Object(a.a)(l);return Math.round((c-u)/i)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e,t){Object(a.a)(2,arguments);var n=Object(r.default)(e),o=Object(r.default)(t);return n.getFullYear()-o.getFullYear()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(4),a=n(8),o=n(2);function i(e,t){Object(o.a)(1,arguments);var n=t||{},i=n.locale,s=i&&i.options&&i.options.weekStartsOn,l=null==s?0:Object(a.a)(s),c=null==n.weekStartsOn?l:Object(a.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Object(r.default)(e),d=u.getDay(),f=6+(d<c?-7:0)-(d-c);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e,t){Object(a.a)(2,arguments);var n=Object(r.default)(e),o=Object(r.default)(t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e,t){Object(a.a)(2,arguments);var n=Object(r.default)(e),o=Object(r.default)(t);return n.getFullYear()===o.getFullYear()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(73),a=n(2);function o(e,t){Object(a.a)(2,arguments);var n=Object(r.default)(e),o=Object(r.default)(t);return n.getTime()===o.getTime()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return oe}));var r=n(42),a=n(48),o=n(4),i=n(186),s=n(184),l=n(23),c=n(62),u=n(8),d=n(106),f=n(2);function p(e,t,n){Object(f.a)(2,arguments);var r=n||{},a=r.locale,i=a&&a.options&&a.options.weekStartsOn,s=null==i?0:Object(u.a)(i),l=null==r.weekStartsOn?s:Object(u.a)(r.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=Object(o.default)(e),d=Object(u.a)(t),p=((d%7+7)%7<l?7:0)+d-c.getUTCDay();return c.setUTCDate(c.getUTCDate()+p),c}var h=n(190),m=n(189),_=n(60),g=n(51),b=/^(1[0-2]|0?\d)/,y=/^(3[0-1]|[0-2]?\d)/,v=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,A=/^(5[0-3]|[0-4]?\d)/,w=/^(2[0-3]|[0-1]?\d)/,k=/^(2[0-4]|[0-1]?\d)/,E=/^(1[0-1]|0?\d)/,x=/^(1[0-2]|0?\d)/,O=/^[0-5]?\d/,C=/^[0-5]?\d/,j=/^\d/,D=/^\d{1,2}/,N=/^\d{1,3}/,S=/^\d{1,4}/,T=/^-?\d+/,M=/^-?\d/,P=/^-?\d{1,2}/,B=/^-?\d{1,3}/,I=/^-?\d{1,4}/,L=/^([+-])(\d{2})(\d{2})?|Z/,U=/^([+-])(\d{2})(\d{2})|Z/,R=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,F=/^([+-])(\d{2}):(\d{2})|Z/,z=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Q(e,t,n){var r=t.match(e);if(!r)return null;var a=parseInt(r[0],10);return{value:n?n(a):a,rest:t.slice(r[0].length)}}function H(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function Y(e,t){return Q(T,e,t)}function K(e,t,n){switch(e){case 1:return Q(j,t,n);case 2:return Q(D,t,n);case 3:return Q(N,t,n);case 4:return Q(S,t,n);default:return Q(new RegExp("^\\d{1,"+e+"}"),t,n)}}function W(e,t,n){switch(e){case 1:return Q(M,t,n);case 2:return Q(P,t,n);case 3:return Q(B,t,n);case 4:return Q(I,t,n);default:return Q(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function q(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function G(e,t){var n,r=t>0,a=r?t:1-t;if(a<=50)n=e||100;else{var o=a+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}var V=[31,28,31,30,31,30,31,31,30,31,30,31],$=[31,29,31,30,31,30,31,31,30,31,30,31];function X(e){return e%400==0||e%4==0&&e%100!=0}var J={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var a=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return K(4,e,a);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:a});default:return K(t.length,e,a)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var a=e.getUTCFullYear();if(n.isTwoDigitYear){var o=G(n.year,a);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var i="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var a=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return K(4,e,a);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:a});default:return K(t.length,e,a)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var a=Object(d.a)(e,r);if(n.isTwoDigitYear){var o=G(n.year,a);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(g.a)(e,r)}var i="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(g.a)(e,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return W("R"===t?4:t.length,e)},set:function(e,t,n,r){var a=new Date(0);return a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0),Object(_.a)(a)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return W("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return K(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return K(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var a=function(e){return e-1};switch(t){case"M":return Q(b,e,a);case"MM":return K(2,e,a);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:a});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var a=function(e){return e-1};switch(t){case"L":return Q(b,e,a);case"LL":return K(2,e,a);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:a});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return Q(A,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return K(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return Object(g.a)(function(e,t,n){Object(f.a)(2,arguments);var r=Object(o.default)(e),a=Object(u.a)(t),i=Object(m.a)(r,n)-a;return r.setUTCDate(r.getUTCDate()-7*i),r}(e,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return Q(A,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return K(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return Object(_.a)(function(e,t){Object(f.a)(2,arguments);var n=Object(o.default)(e),r=Object(u.a)(t),a=Object(h.a)(n)-r;return n.setUTCDate(n.getUTCDate()-7*a),n}(e,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"d":return Q(y,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return K(t.length,e)}},validate:function(e,t,n){var r=X(e.getUTCFullYear()),a=e.getUTCMonth();return r?t>=1&&t<=$[a]:t>=1&&t<=V[a]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"D":case"DD":return Q(v,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return K(t.length,e)}},validate:function(e,t,n){return X(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=p(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return K(t.length,e,a);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:a});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=p(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return K(t.length,e,a);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:a});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=p(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var a=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return K(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:a})||n.day(e,{width:"short",context:"formatting",valueCallback:a})||n.day(e,{width:"narrow",context:"formatting",valueCallback:a});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:a});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:a})||n.day(e,{width:"narrow",context:"formatting",valueCallback:a});case"iiii":default:return n.day(e,{width:"wide",context:"formatting",valueCallback:a})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:a})||n.day(e,{width:"short",context:"formatting",valueCallback:a})||n.day(e,{width:"narrow",context:"formatting",valueCallback:a})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return(e=function(e,t){Object(f.a)(2,arguments);var n=Object(u.a)(t);n%7==0&&(n-=7);var r=Object(o.default)(e),a=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+a),r}(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(q(n),0,0,0),e},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(q(n),0,0,0),e},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(q(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return Q(x,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return K(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var a=e.getUTCHours()>=12;return a&&n<12?e.setUTCHours(n+12,0,0,0):a||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return Q(w,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return K(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return Q(E,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return K(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return Q(k,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return K(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var a=n<=24?n%24:n;return e.setUTCHours(a,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return Q(O,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return K(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return Q(C,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return K(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return K(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return H(L,e);case"XX":return H(U,e);case"XXXX":return H(R,e);case"XXXXX":return H(z,e);case"XXX":default:return H(F,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return H(L,e);case"xx":return H(U,e);case"xxxx":return H(R,e);case"xxxxx":return H(z,e);case"xxx":default:return H(F,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return Y(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return Y(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},Z=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,te=/^'([^]*?)'?$/,ne=/''/g,re=/\S/,ae=/[a-zA-Z]/;function oe(e,t,n,d){Object(f.a)(3,arguments);var p=String(e),h=String(t),m=d||{},_=m.locale||r.a;if(!_.match)throw new RangeError("locale must contain match property");var g=_.options&&_.options.firstWeekContainsDate,b=null==g?1:Object(u.a)(g),y=null==m.firstWeekContainsDate?b:Object(u.a)(m.firstWeekContainsDate);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=_.options&&_.options.weekStartsOn,A=null==v?0:Object(u.a)(v),w=null==m.weekStartsOn?A:Object(u.a)(m.weekStartsOn);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===h)return""===p?Object(o.default)(n):new Date(NaN);var k,E={firstWeekContainsDate:y,weekStartsOn:w,locale:_},x=[{priority:10,subPriority:-1,set:ie,index:0}],O=h.match(ee).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,s.a[t])(e,_.formatLong,E):e})).join("").match(Z),C=[];for(k=0;k<O.length;k++){var j=O[k];!m.useAdditionalWeekYearTokens&&Object(c.b)(j)&&Object(c.c)(j,h,e),!m.useAdditionalDayOfYearTokens&&Object(c.a)(j)&&Object(c.c)(j,h,e);var D=j[0],N=J[D];if(N){var S=N.incompatibleTokens;if(Array.isArray(S)){for(var T=void 0,M=0;M<C.length;M++){var P=C[M].token;if(-1!==S.indexOf(P)||P===D){T=C[M];break}}if(T)throw new RangeError("The format string mustn't contain `".concat(T.fullToken,"` and `").concat(j,"` at the same time"))}else if("*"===N.incompatibleTokens&&C.length)throw new RangeError("The format string mustn't contain `".concat(j,"` and any other token at the same time"));C.push({token:D,fullToken:j});var B=N.parse(p,j,_.match,E);if(!B)return new Date(NaN);x.push({priority:N.priority,subPriority:N.subPriority||0,set:N.set,validate:N.validate,value:B.value,index:x.length}),p=B.rest}else{if(D.match(ae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if("''"===j?j="'":"'"===D&&(j=j.match(te)[1].replace(ne,"'")),0!==p.indexOf(j))return new Date(NaN);p=p.slice(j.length)}}if(p.length>0&&re.test(p))return new Date(NaN);var I=x.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return x.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),L=Object(o.default)(n);if(isNaN(L))return new Date(NaN);var U=Object(a.a)(L,Object(l.a)(L)),R={};for(k=0;k<I.length;k++){var F=I[k];if(F.validate&&!F.validate(U,F.value,E))return new Date(NaN);var z=F.set(U,R,F.value,E);z[0]?(U=z[0],Object(i.a)(R,z[1])):U=z}return U}function ie(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n(27),a=n(42),o=n(48),i=n(4),s=n(2),l=864e5,c=n(190),u=n(185),d=n(189),f=n(106),p=n(11),h=n(52);function m(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),o=r%60;if(0===o)return n+String(a);var i=t||"";return n+String(a)+i+Object(p.a)(o,2)}function _(e,t){return e%60==0?(e>0?"-":"+")+Object(p.a)(Math.abs(e)/60,2):g(e,t)}function g(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+Object(p.a)(Math.floor(a/60),2)+n+Object(p.a)(a%60,2)}var b={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return h.a.y(e,t)},Y:function(e,t,n,r){var a=Object(f.a)(e,r),o=a>0?a:1-a;if("YY"===t){var i=o%100;return Object(p.a)(i,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Object(p.a)(o,t.length)},R:function(e,t){var n=Object(u.a)(e);return Object(p.a)(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return Object(p.a)(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Object(p.a)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Object(p.a)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return h.a.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Object(p.a)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=Object(d.a)(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Object(p.a)(a,t.length)},I:function(e,t,n){var r=Object(c.a)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Object(p.a)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):h.a.d(e,t)},D:function(e,t,n){var r=function(e){Object(s.a)(1,arguments);var t=Object(i.default)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/l)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Object(p.a)(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Object(p.a)(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Object(p.a)(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Object(p.a)(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return h.a.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):h.a.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Object(p.a)(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Object(p.a)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):h.a.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):h.a.s(e,t)},S:function(e,t){return h.a.S(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return _(a);case"XXXX":case"XX":return g(a);case"XXXXX":case"XXX":default:return g(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return _(a);case"xxxx":case"xx":return g(a);case"xxxxx":case"xxx":default:return g(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+m(a,":");case"OOOO":default:return"GMT"+g(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+m(a,":");case"zzzz":default:return"GMT"+g(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e,o=Math.floor(a.getTime()/1e3);return Object(p.a)(o,t.length)},T:function(e,t,n,r){var a=(r._originalDate||e).getTime();return Object(p.a)(a,t.length)}},y=n(184),v=n(23),A=n(62),w=n(8),k=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,E=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x=/^'([^]*?)'?$/,O=/''/g,C=/[a-zA-Z]/;function j(e,t,n){Object(s.a)(2,arguments);var l=String(t),c=n||{},u=c.locale||a.a,d=u.options&&u.options.firstWeekContainsDate,f=null==d?1:Object(w.a)(d),p=null==c.firstWeekContainsDate?f:Object(w.a)(c.firstWeekContainsDate);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=u.options&&u.options.weekStartsOn,m=null==h?0:Object(w.a)(h),_=null==c.weekStartsOn?m:Object(w.a)(c.weekStartsOn);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var g=Object(i.default)(e);if(!Object(r.default)(g))throw new RangeError("Invalid time value");var j=Object(v.a)(g),D=Object(o.a)(g,j),N={firstWeekContainsDate:p,weekStartsOn:_,locale:u,_originalDate:g};return l.match(E).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,y.a[t])(e,u.formatLong,N):e})).join("").match(k).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return n.match(x)[1].replace(O,"'");var a=b[r];if(a)return!c.useAdditionalWeekYearTokens&&Object(A.b)(n)&&Object(A.c)(n,t,e),!c.useAdditionalDayOfYearTokens&&Object(A.a)(n)&&Object(A.c)(n,t,e),a(D,n,u.localize,N);if(r.match(C))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(187);function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_desc,_value,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_descriptor10,_descriptor11,_descriptor12,_descriptor13,_descriptor14,_descriptor15,_descriptor16,_descriptor17,_descriptor18,_descriptor19,_descriptor20,_descriptor21,_descriptor22,_descriptor23,_descriptor24,_descriptor25,_descriptor26,_descriptor27,_descriptor28,_descriptor29,_descriptor30,_descriptor31,_descriptor32,_descriptor33,_descriptor34,_descriptor35,_descriptor36,_descriptor37,_descriptor38,_descriptor39,_descriptor40,_descriptor41,_descriptor42,_descriptor43,_descriptor44,_descriptor45,_descriptor46,_descriptor47,_descriptor48,_descriptor49,_descriptor50,_descriptor51,_descriptor52,_descriptor53,_descriptor54,_descriptor55,_descriptor56,_descriptor57,_descriptor58,_mobx=__webpack_require__(3),_mobxUtils=__webpack_require__(55),_utils=__webpack_require__(9),Utils=_interopRequireWildcard(_utils),_modelBase=__webpack_require__(19),_modelBase2=_interopRequireDefault(_modelBase);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _applyDecoratedDescriptor(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}var columns_utils={aggregations:{sum:function(e,t,n){var r=0;return e.forEach((function(e){if(e.id!=n){var a=t(e);a>0&&(r+=a)}})),0===r?"":r},average:function(e,t,n){var r=0,a=0;return e.forEach((function(e){if(e.id!=n){var o=t(e);o>0&&(a+=1,r+=o)}})),0===a?"":Math.round(r/a)}},is_editable:function(e){return 0==e.raw_childrens.length}},TaskModel=(_dec=_mobx.observable.deep,_dec2=_mobx.computed.struct,_dec3=_mobx.computed.struct,_dec4=_mobx.computed.struct,_dec5=_mobx.computed.struct,_dec6=_mobx.computed.struct,_dec7=_mobx.computed.struct,_dec8=_mobx.computed.struct,_dec9=_mobx.computed.struct,_class=function(_BaseModel){function TaskModel(e){_classCallCheck(this,TaskModel);var t=_possibleConstructorReturn(this,(TaskModel.__proto__||Object.getPrototypeOf(TaskModel)).call(this,e));return _initDefineProp(t,"id",_descriptor,t),_initDefineProp(t,"name",_descriptor2,t),_initDefineProp(t,"completed",_descriptor3,t),_initDefineProp(t,"start",_descriptor4,t),_initDefineProp(t,"due",_descriptor5,t),_initDefineProp(t,"subtasks",_descriptor6,t),_initDefineProp(t,"parent",_descriptor7,t),_initDefineProp(t,"color",_descriptor8,t),_initDefineProp(t,"progress",_descriptor9,t),_initDefineProp(t,"estimated_hours",_descriptor10,t),_initDefineProp(t,"actual_hours",_descriptor11,t),_initDefineProp(t,"priority_user",_descriptor12,t),_initDefineProp(t,"risk",_descriptor13,t),_initDefineProp(t,"estimated_cost",_descriptor14,t),_initDefineProp(t,"actual_cost",_descriptor15,t),_initDefineProp(t,"notes",_descriptor16,t),_initDefineProp(t,"tags",_descriptor17,t),_initDefineProp(t,"followers",_descriptor18,t),_initDefineProp(t,"projects",_descriptor19,t),_initDefineProp(t,"is_project",_descriptor20,t),_initDefineProp(t,"is_priority_heading",_descriptor21,t),_initDefineProp(t,"dependent_of",_descriptor22,t),_initDefineProp(t,"user",_descriptor23,t),_initDefineProp(t,"duration_cd_fixed",_descriptor24,t),_initDefineProp(t,"duration_wd_fixed",_descriptor25,t),_initDefineProp(t,"assignee",_descriptor26,t),_initDefineProp(t,"priority",_descriptor27,t),_initDefineProp(t,"local_priority",_descriptor28,t),_initDefineProp(t,"parent_priority_heading",_descriptor29,t),_initDefineProp(t,"priority_heading_id",_descriptor30,t),_initDefineProp(t,"is_milestone",_descriptor31,t),_initDefineProp(t,"temporal",_descriptor32,t),_initDefineProp(t,"temporal_container",_descriptor33,t),_initDefineProp(t,"simulated",_descriptor34,t),_initDefineProp(t,"previous_dates",_descriptor35,t),_initDefineProp(t,"project_priority",_descriptor36,t),_initDefineProp(t,"drawing_dependency",_descriptor37,t),_initDefineProp(t,"locked",_descriptor38,t),_initDefineProp(t,"collapsed",_descriptor39,t),_initDefineProp(t,"selected",_descriptor40,t),_initDefineProp(t,"multiple_options",_descriptor41,t),_initDefineProp(t,"completed_at",_descriptor42,t),_initDefineProp(t,"last_change",_descriptor43,t),_initDefineProp(t,"last_changed_by",_descriptor44,t),_initDefineProp(t,"created_at",_descriptor45,t),_initDefineProp(t,"files",_descriptor46,t),_initDefineProp(t,"users",_descriptor47,t),_initDefineProp(t,"last_read",_descriptor48,t),_initDefineProp(t,"workbook_id",_descriptor49,t),_initDefineProp(t,"project_id",_descriptor50,t),_initDefineProp(t,"previous_last_read",_descriptor51,t),_initDefineProp(t,"custom_fields",_descriptor52,t),_initDefineProp(t,"custom_priority",_descriptor53,t),_initDefineProp(t,"distance_type",_descriptor54,t),_initDefineProp(t,"placeholder",_descriptor55,t),_initDefineProp(t,"previous_container_dates",_descriptor56,t),_initDefineProp(t,"previous_temporal",_descriptor57,t),_initDefineProp(t,"skip_reaction_to_push_childs",_descriptor58,t),t.getCustomField=(0,_mobxUtils.createTransformer)((function(e){var n=t.store.globalstore.workbooksettings.customField(e);return"dropdown"==n.type?t.is_priority_heading?"-":"_status"==e&&(void 0===t.custom_fields[e]||t.custom_fields[e]&&1==t.custom_fields[e])?parseInt(t.calculated_progress||0)>0&&parseInt(t.calculated_progress||0)<100?2:0==parseInt(t.calculated_progress||0)?1:3:t.custom_fields[e]||n.options[0].id:t.custom_fields[e]||""})),t.calculatedCustomField=(0,_mobxUtils.createTransformer)((function(e){var n=t.store.globalstore.workbooksettings.customField(e);if("dropdown"==n.type)return t.getCustomField(e);if("text"==n.type)return t.getCustomField(e);var r=t.raw_childrens_models;if(t.is_project&&(r=t.project_direct_childrens),0==r.length)return t.getCustomField(e);var a=0,o=!0;return r.forEach((function(r){if(r.id!=t.id){var i=r.calculatedCustomField(e)?r.calculatedCustomField(e):"";"percentage"==n.type&&(i=parseInt(i||0)),"checkbox"==n.type&&(o=o&&i),a+=Number(i)}})),a=parseFloat(a.toFixed(2)),"percentage"==n.type&&(a=parseInt(a/r.length)),"integer"!=n.type&&"number"!=n.type&&"decimal"!=n.type&&"compound_cost"!=n.type||0==a&&(a=""),"checkbox"==n.type&&(a=o),a})),t.custom_comparator=(0,_mobxUtils.computedFn)((function(e){var t=this.custom_priority;return void 0!==t[e]&&""!==t[e]?[0,Utils.leadingZeros(parseInt(1e3*t[e]),8)]:[1,Utils.leadingZeros(parseInt(1e3*this.local_priority),8)]})),t.distanceType=(0,_mobxUtils.computedFn)((function(e){return this.distance_type&&this.distance_type[e]&&-1!=["slack","lag"].indexOf(this.distance_type[e])?this.distance_type[e]:null})),t.setDistanceType=function(e){var n=(0,_mobx.toJS)(t.distance_type);n[e.predecessor_id]=e.distance_type,t.distance_type=n},(0,_mobx.reaction)((function(){return t.duration_wd_fixed}),(function(){return t.updateDurationWd()})),(0,_mobx.reaction)((function(){return t.container}),(function(){if(t.accept_container_reaction){if(t.accept_container_reaction=!1,t.disposeAutorun&&t.disposeAutorun(),!t.previous_container_dates.start)return t.previous_container_dates.start=t.container.start,t.previous_container_dates.due=t.container.due,void t.scheduleSuccessors();t.skip_reaction_to_push_childs?t.skip_reaction_to_push_childs=!1:(t.skip_reaction_to_push_childs=!1,t.previous_container_dates.start==t.container.start&&t.previous_container_dates.due==t.container.due||(t.moveChildsOf({previous:{start:t.previous_container_dates.start,due:t.previous_container_dates.due},new:{start:t.container.start,due:t.container.due},only_successors:!0,uuid:t.bubbling_uuid,container_postreaction:!0}),t.previous_container_dates={start:t.container.start,due:t.container.due},t.store.saveTemporals()))}else t.previous_container_dates={start:t.container.start,due:t.container.due}})),(0,_mobx.reaction)((function(){return[t.temporal]}),(function(){t.container&&(t.temporal?t.skip_reaction_to_push_childs=!0:t.skip_reaction_to_push_childs=!1)})),(0,_mobx.reaction)((function(){return[t.calculated_temporal_container]}),(function(){if(0!=t.raw_childrens.length&&(t.temporal_container||t.calculated_temporal_container.start!=t.container.start||t.calculated_temporal_container.due!=t.container.due)&&(!t.temporal_container||!t.calculated_temporal_container||t.temporal_container.start!=t.calculated_temporal_container.start||t.temporal_container.due!=t.calculated_temporal_container.due)){t.bubbling=!0;var e=t.temporal_container?{start:t.temporal_container.start,due:t.temporal_container.due}:{start:t.equivalent_dates.start,due:t.equivalent_dates.due};t.temporal_container={start:t.calculated_temporal_container.start,due:t.calculated_temporal_container.due,uuid:t.bubbling_uuid},t.previous_container_dates={start:t.calculated_temporal_container.start,due:t.calculated_temporal_container.due},t.moveChildsOf({only_successors:!0,previous:{start:e.start,due:e.due},new:{start:t.calculated_temporal_container.start,due:t.calculated_temporal_container.due},uuid:t.bubbling_uuid}),t.container.start==t.calculated_temporal_container.start&&t.container.due==t.calculated_temporal_container.due&&(t.bubbling=!1,t.temporal=null,t.temporal_container=null)}})),t.disposeAutorun=(0,_mobx.autorun)((function(){t.container&&(t.previous_container_dates.start||t.previous_container_dates.due||(t.previous_container_dates={start:t.container.start,due:t.container.due}),t.disposeAutorun())})),t}return _inherits(TaskModel,_BaseModel),_createClass(TaskModel,[{key:"toggle",value:function(){this.completed=!this.completed}},{key:"toggleCompleted",value:function toggleCompleted(){eval(this.completed)?this.save({completed:Utils.getCompletedFalse(),progress:"0%",completed_at:null}):this.save({completed:!0,progress:"100%",completed_at:moment().format("YYYY-MM-DD")})}},{key:"delete_active",value:function(){var e=this;if(this.setCollapsed(!0),this.store.globalstore.uistate.task_details_open=!1,this.selected=!1,this.is_priority_heading){var t=this.collection.models.filter((function(t){return t.is_new_task_handler&&t.priority_heading_id==e.id}))[0];t&&this.store.remove([t.id])}if("standalone"==this.globalstore.user.type){this.cascade_raw_childrens.forEach((function(e){e.destroy()}));var n=this.store.models.filter((function(t){return 1==t.is_new_task_handler&&t.priority_heading_id==e.id}));n.length>0&&this.store.remove([n[0].id])}this.destroy()}},{key:"getEstimatedHoursPerUser",value:function(e,t){var n=e.get_users.map((function(e){return(0,_mobx.toJS)(e)})),r=!1;n.forEach((function(e){e&&(e.hours&&(r=!0),e.hours||(e.hours=0))})),r||n.forEach((function(e){e&&(e.hours=t?t/n.length.toFixed(2):0)}));var a={};return 1==n.length&&!n[0]||0==n.length?a[0]={id:0,hours:t}:n.forEach((function(e){e&&(a[e.id]=e)})),a}},{key:"decorateCustomField",value:function(e,t){return"percentage"==e.type?(""==t&&(t="0"),t=parseInt(t)+"%"):"compound_cost"==e.type?t=(this.store.globalstore.projectsettings.getSetting("currency",(this.projects[0]||{}).id)||"$")+Number(t).money(2,3,".",","):"text"==e.type&&""==t&&(t="-"),t}},{key:"calculated_weight_items_recursive",value:function(e,t){var n=this,r=this.raw_childrens_models;if(this.is_project&&(r=this.project_direct_childrens),0==r.length)return[];this.is_project&&(r=r.filter((function(e){return!(0==e.raw_childrens.length&&e.is_priority_heading)}))),(e=e)||(e=this.calculated_mandays);var a=[];return r.forEach((function(r){if(r.id!=n.id){var o=e,i=0,s=void 0;s=t?(r.calculated_mandays_on_container?r.calculated_mandays_on_container:r.calculated_mandays)/t.inner_total_mandays*t.currentTaskPercentage:(r.calculated_mandays_on_container?r.calculated_mandays_on_container:r.calculated_mandays)/e,isNaN(s)&&(s=0),a.push([r,s]),r.calculated_mandays_on_container>0?(o=r.calculated_mandays_on_container,i=r.calculated_mandays,a=a.concat(r.calculated_weight_items_recursive(e,{local_total_mandays:o,inner_total_mandays:i,currentTaskPercentage:s}))):(i=r.calculated_mandays,a=a.concat(r.calculated_weight_items_recursive(e,{inner_total_mandays:i,currentTaskPercentage:s})))}})),a}},{key:"hide_if_completed",value:function(){return!!(this.completed&&"false"!=this.completed&&this.completed_at&&moment(this.completed_at)<this.store.globalstore.uistate.completed_since_options[this.store.globalstore.uistate.completed_since].time)}},{key:"parent_task",value:function(){return!(!this.parent||!this.parent.id)&&this.collection.get(this.parent.id)}},{key:"hasTag",value:function(e){return 0==e.length||(e=e.map((function(e){return String(e)})),_.intersection(_.pluck(this.tags,"name"),e).length>0)}},{key:"cascadeFilters",value:function(e){var t=this,n=!0;return e.forEach((function(e){n=t.cascadeFilter(e)&&n})),n}},{key:"cascadeFilter",value:function(e){var t=this;if(this.is_new_task_handler){if(e.strict_mode)return!1;var n=this.store.globalstore.projects.selected;if(this.priority_heading_id)return this.store.get(this.priority_heading_id).cascadeFilter(e);if("group"==n.type){var r=this.store.get(this.projects[0].id);return!!r&&r.cascadeFilter(e)}}if(0==this.raw_childrens_count)return this.passFilter(e);if(e.strict_mode&&!this.is_priority_heading)return this.passFilter(e);if(e.strict_mode&&this.is_priority_heading)return!1;if(this.passFilter(e))return!0;var a=!1;return this.raw_childrens.forEach((function(n){var r=t.store.get(n);r.id!=t.id&&(a||(r.passFilter(e)||r.cascadeFilter(e))&&(a=!0))})),a}},{key:"passFilter",value:function(e){var t=this;if(e.selected&&0==e.selected.length)return!0;var n=e.subattribute?e.subattribute:"id",r=!1;if("list"==e.type&&e.selected.forEach((function(a){if("Array"==e.attributeType&&t[e.attribute].filter((function(e){return void 0===e&&0==a.id||(void 0!==e||0==a.id)&&(""==e&&0==a.id||(""!=e||0==a.id)&&e[n]==a.id)})).length>0&&(r=!0),"Object"==e.attributeType)if("custom"==e.column_type)if(e.isBoolean)t.getCustomField(e.attribute)||!1!==a.id||(r=!0),t.getCustomField(e.attribute)&&a&&a.id==t.getCustomField(e.attribute)&&(r=!0);else{if(!t.getCustomField(e.attribute)&&!a.id)return void(r=!0);t.getCustomField(e.attribute)&&a&&a.id==t.getCustomField(e.attribute)&&(r=!0)}else{if(!(t[e.attribute]&&t[e.attribute][n]||a.id))return void(r=!0);t[e.attribute]&&t[e.attribute][n]&&a&&a.id==t[e.attribute][n]&&(r=!0)}})),"range"==e.type&&e.subattribute&&(e.range&&e.range.from&&e.range.to&&this[e.attribute][n]>=e.range.from&&this[e.attribute][n]<=e.range.to&&(r=!0),e.range&&e.range.from&&!e.range.to&&this[e.attribute][n]>=e.range.from&&(r=!0),e.range&&!e.range.from&&e.range.to&&this[e.attribute][n]<=e.range.to&&(r=!0),e.range&&(e.range.from||e.range.to)||(r=!0)),"range"==e.type&&!e.subattribute){if("custom"==e.column_type)var a=e.subtype&&"date"==e.subtype?this.getCustomField(e.attribute):parseFloat(this.getCustomField(e.attribute));else a=e.subtype&&"date"==e.subtype?this[e.attribute]:parseFloat(this[e.attribute]);var o=e.subtype&&"date"==e.subtype?e.range.from:parseFloat(e.range.from),i=e.subtype&&"date"==e.subtype?e.range.to:parseFloat(e.range.to);e.range&&e.range.from&&e.range.to&&a>=o&&a<=i&&(r=!0),e.range&&e.range.from&&!e.range.to&&a>=o&&(r=!0),e.range&&!e.range.from&&e.range.to&&a<=i&&(r=!0),e.range&&(e.range.from||e.range.to)||(r=!0)}return r}},{key:"cascadeHasTag",value:function(e){var t=this;if(this.is_new_task_handler){var n=this.store.globalstore.projects.selected;if(this.priority_heading_id)return this.store.get(this.priority_heading_id).cascadeHasTag(e);if("group"==n.type){var r=this.store.get(this.projects[0].id);return!!r&&r.cascadeHasTag(e)}}if(0==this.raw_childrens_count)return this.hasTag(e);if(this.hasTag(e))return!0;var a=!1;return this.raw_childrens.forEach((function(n){var r=t.store.get(n);r.id!=t.id&&(a||(r.hasTag(e)||r.cascadeHasTag(e))&&(a=!0))})),a}},{key:"hasQuery",value:function(e){return-1!=this.name.toLowerCase().indexOf(e.toLowerCase())}},{key:"cascadeHasQuery",value:function(e){var t=this;if(0==this.raw_childrens_count)return this.hasQuery(e);if(this.hasQuery(e))return!0;var n=!1;return this.raw_childrens.forEach((function(r){var a=t.store.get(r);a.id!=t.id&&(n||(a.hasQuery(e)||a.cascadeHasQuery(e))&&(n=!0))})),n}},{key:"belongsToUser",value:function(e){if(0==e.length)return!0;if(!(e.indexOf(0)>=0||e.indexOf("0")>=0)||""!=this.get_user&&void 0!==this.get_user){if(-1!=e.indexOf("0")||""!=this.get_user&&void 0!==this.get_user){var t=this.get_user;return void 0!==t&&void 0!==t.id&&(e.indexOf(t.id)>=0||e.indexOf(String(t.id))>=0)}return!1}return!0}},{key:"cascadeBelongsToUser",value:function(e){var t=this;if(this.is_new_task_handler){var n=this.store.globalstore.projects.selected;if(this.priority_heading_id)return this.store.get(this.priority_heading_id).cascadeBelongsToUser(e);if("group"==n.type){var r=this.store.get(this.projects[0].id);return!!r&&r.cascadeBelongsToUser(e)}}if(0==this.raw_childrens_count)return this.belongsToUser(e);if(this.belongsToUser(e))return!0;var a=!1;return this.raw_childrens.forEach((function(n){var r=t.store.get(n);r.id!=t.id&&(a||(r.belongsToUser(e)||r.cascadeBelongsToUser(e))&&(a=!0))})),a}},{key:"metrics",value:function(e,t){e=e&&"object"!=(void 0===e?"undefined":_typeof(e))?Utils.getDateSafely(e):e,t=t&&"object"!=(void 0===t?"undefined":_typeof(t))?Utils.getDateSafely(t):t;var n=this.store.globalstore.uistate.column_width,r=this.store.globalstore.uistate.column_length;if(e=e||Utils.getDateSafely(this.start),t=t||Utils.getDateSafely(this.due),1==this.globalstore.uistate.column_length)var a=Math.ceil(Utils.daysDiff(e,this.globalstore.uistate.calendar.first_month_first_date)/r)*n,o=Math.ceil(Utils.daysBetweenTwoDates(t,e)/r)*n;else a=Math.floor(Utils.daysDiff(Utils.getMonday(e),Utils.getMonday(this.globalstore.uistate.calendar.first_month_first_date))/r)*n,o=Math.ceil(Utils.daysBetweenTwoDates(Utils.getMonday(t),Utils.getMonday(e))/r)*n;return{initial_margin:a,duration:o}}},{key:"setTitle",value:function(e){this.name=e}},{key:"toJS",value:function(){return Object.assign({},this)}},{key:"getParentBoundaries",value:function(e){e=e||{discard:!1};var t=this,n=this.predecessor_ids,r=[];return _.each(n,(function(n){var a="right";if(e.discard==n)return r.push({el:void 0,left_boundary:0,measure_from:a}),!1;var o=_.find(t.store.filtered,(function(e){return e.id==n}));if(void 0!==o){var i=App.Instances.GanttView.barsView.childViews[o.get("id")],s=i.metrics();if(new Date(t.model.get("start"))>=new Date(o.get("start"))&&new Date(t.model.get("start"))<=new Date(o.get("due"))){var l=s.initial_margin;a="left"}else new Date(t.model.get("start"))>new Date(o.get("due"))?(l=s.initial_margin+s.duration,l=s.initial_margin):l=0}else l=0;if(7==App.Variables.column_length&&0!=l){var c=new Date(t.model.get("start")).getDay();c=0==c?7:c;var u=new Date(o.get("start")).getDay();(u=0==u?7:u)>c&&(l+=App.Variables.column_width)}r.push({el:i,left_boundary:l,measure_from:a})})),_.max(r,(function(e){return e.left_boundary}))}},{key:"crawlParentPredecessors",value:function(){var e=[];if(this.parent&&this.parent.id){var t=this.collection.get(this.parent.id);if(t){var n=this.predecessor_ids;e.push.apply(e,_toConsumableArray(n)),t.parent&&t.parent_id&&e.push.apply(e,_toConsumableArray(t.crawlParentPredecessors()))}}return e}},{key:"crawlParentSuccessors",value:function(){var e=this,t=[];if(this.parent&&this.parent.id){var n=this.collection.get(this.parent.id);if(n){var r=n.direct_successors.filter((function(t){return t.id!=e.id}));t.push.apply(t,_toConsumableArray(r)),n.parent&&n.parent.id&&t.push.apply(t,_toConsumableArray(n.crawlParentSuccessors()))}}return t}},{key:"predecessorConstraintList",value:function(e){e=e||{discard:!1};var t=this,n=this.predecessor_ids,r=[],a=[];if(a.push.apply(a,_toConsumableArray(n.filter((function(e){return e})))),_.each(a,(function(n){var a="",o="",i="",s=void 0,l="right";if(e.discard==n)return r.push({el:void 0,left_boundary:0,measure_from:l}),!1;var c=t.collection.get(n),u=c.temporal_container?Object.assign({},c.temporal_container):c.temporal?Object.assign({},c.temporal):Object.assign({},c.equivalent_dates),d=Object.assign({},t.equivalent_dates),f=t.temporal_container?Object.assign({},t.temporal_container):t.temporal?Object.assign({},t.temporal):Object.assign({},t.equivalent_dates);if(void 0!==c&&c&&c.equivalent_dates.start){e.start&&e.due?(a=e.start,e.due):(a=f&&f.start?f.start:d.start,f&&f.due?f.due:d.due),o=u&&u.start?u.start:c.equivalent_dates.start,i=u&&u.due?u.due:c.equivalent_dates.due;var p=c.metrics(moment(o),moment(i)),h=t.equivalent_dates.start,m=(t.equivalent_dates.due,c.equivalent_dates.start),_=c.equivalent_dates.due;if(new Date(h)>=new Date(m)&&new Date(h)<new Date(_)){var g=p.initial_margin;s=moment(o).add("days",-1).format("YYYY-MM-DD"),l="left"}else if(new Date(h)>=new Date(_))g=p.initial_margin+p.duration-t.store.globalstore.uistate.column_width,s=moment(i).add("days",-1).format("YYYY-MM-DD");else if(t.start)g=0;else{g=p.initial_margin+p.duration-t.store.globalstore.uistate.column_width;s=moment(i).add("days",-1).format("YYYY-MM-DD")}}else g=0;if(7==t.store.globalstore.uistate.column_length&&0!=g){var b=new Date(a).getDay();b=0==b?7:b;var y=new Date(o).getDay();(y=0==y?7:y)>b&&(g+=t.store.globalstore.uistate.column_length)}r.push({left_boundary:g,measure_from:l,constraint_date:s})})),this.parent&&this.parent.id){var o=this.collection.get(this.parent.id);o&&r.push.apply(r,_toConsumableArray(o.predecessorConstraintList(e)))}return r}},{key:"predecessorConstraint",value:function(e){var t=this.predecessorConstraintList(e);return 0==t.length?{left_boundary:0,measure_form:0,constraint_date:"2000-01-01"}:_.max(t,(function(e){return e.left_boundary}))}},{key:"successorConstraint",value:function(e){e=e||{discard:!1};var t=this,n=[];return _.each(this.direct_successors,(function(e){if(e.locked){var r=void 0,a="due",o=t.calculated_temporal_container&&t.calculated_temporal_container.start?t.calculated_temporal_container.start:t.equivalent_dates.start,i=(t.calculated_temporal_container&&t.calculated_temporal_container.due?t.calculated_temporal_container.due:t.equivalent_dates.due,e.calculated_temporal_container&&e.calculated_temporal_container.start?e.calculated_temporal_container.start:e.equivalent_dates.start),s=e.calculated_temporal_container&&e.calculated_temporal_container.due?e.calculated_temporal_container.due:e.equivalent_dates.due,l=e.metrics(moment(i),moment(s)),c=t.equivalent_dates.start,u=t.equivalent_dates.due,d=e.equivalent_dates.start;if(e.equivalent_dates.due,new Date(u)<=new Date(d)){var f=l.initial_margin+t.store.globalstore.uistate.column_width;r=moment(i).add("days",1).format("YYYY-MM-DD"),a="due"}else new Date(u)>new Date(d)&&new Date(c)<=new Date(d)?(f=l.initial_margin+t.store.globalstore.uistate.column_width,r=moment(i).add("days",1).format("YYYY-MM-DD"),a="start"):f=0;if(7==t.store.globalstore.uistate.column_length&&0!=parent_left_boundary){var p=new Date(o).getDay();p=0==p?7:p;var h=new Date(i).getDay();(h=0==h?7:h)>p&&(f+=t.store.globalstore.uistate.column_length)}n.push({boundary:f,measure_from:a,constraint_date:r})}})),0==n.length?{boundary:1e16,measure_from:0,constraint_date:"2100-01-01"}:_.min(n,(function(e){return e.boundary}))}},{key:"balanceHours",value:function(e){var t=e.estimated_hours;if(0==t&&e.users&&e.users.forEach((function(e){e.hours=0})),t>0&&e.users&&e.users.length>0){var n=0,r=0,a=0,o=0;if(e.users.forEach((function(e){""!=e.hours&&(n+=parseFloat(e.hours),e.hours&&(r+=1))})),n==parseFloat(e.estimated_hours))return e;e.users.forEach((function(t){t.hours&&(t.hours=r-a==1?+parseFloat(parseFloat(e.estimated_hours)-o).toFixed(2):+parseFloat(parseFloat(t.hours)/n*parseFloat(e.estimated_hours)).toFixed(2),o+=parseFloat(t.hours),a+=1)}))}return this.set({users:e.users}),e}},{key:"preSave",value:function(e,t){if(this.collection&&this.collection.createRestoreModel&&this.collection.createRestoreModel(this),this.id){var n={start:e.start?e.start:this.start,due:e.due?e.due:this.due};e.previous_dates=n,this.previous_dates=n}if(this.collection&&this.collection.globalstore&&this.collection.globalstore.projects.selected&&"asana"==this.collection.globalstore.projects.selected.supplier&&(e.ig_project_id=this.collection.globalstore.projects.selected.id),e.due&&e.start&&""!=e.due&&""!=e.start&&e.due<e.start&&(e.due=e.start),"100%"==e.progress&&!0!==e.completed&&(e.completed=!0,e.completed_at=moment().format("YYYY-MM-DD"),this.set({completed:e.completed,completed_at:e.completed_at})),"100%"!=e.progress&&!0===e.completed&&(e.completed=Utils.getCompletedFalse()),e.estimated_hours!=this.estimated_hours&&(e=this.balanceHours(e)),void 0===e.completed&&void 0===e.progress||!0!==e.completed&&"true"!==e.completed&&e.progress,this.is_priority_heading&&(e.due="",e.start=""),this.log(e),"standalone"==this.globalstore.user.type){if(!this.project_id)try{var r=this.firebaseRef().path.split("/projects/")[1].split("/")[0];r&&(this.project_id=r,e.project_id=r)}catch(e){}if(!this.workbook_id)try{var a=this.firebaseRef().path.split("workbooks/")[1].split("/")[0];a&&(this.workbook_id=a,e.workbook_id=a)}catch(e){}e=this.getStatusLinkedLogic(e,t)}return e.last_read&&(this.previous_last_read=(0,_mobx.toJS)(this.last_read)),e}},{key:"getStatusLinkedLogic",value:function(e,t){return void 0!==t.progress&&100==parseInt(t.progress)&&void 0!==e.custom_fields&&e.custom_fields._status<3&&(e.custom_fields._status=3),void 0!==t.progress&&0==parseInt(t.progress)&&void 0!==e.custom_fields&&(e.custom_fields._status=1),void 0!==t.completed&&t.completed&&void 0!==e.custom_fields&&e.custom_fields._status<3&&(e.custom_fields._status=3),void 0===t.completed||t.completed||void 0!==e.custom_fields&&3==e.custom_fields._status&&(e.custom_fields._status=1),void 0!==t.custom_fields&&void 0!==t.custom_fields._status&&(3==t.custom_fields._status&&(e.completed=!0,e.progress="100%",e.completed_at=moment().format("YYYY-MM-DD")),1==t.custom_fields._status&&(e.completed=!1,e.progress="0%")),e}},{key:"log",value:function(e){"standalone"==this.globalstore.user.type&&this.globalstore.logs.createLog("changed",e,this.getAttributes())}},{key:"afterSave",value:function(e){this.collection&&this.collection.globalstore&&"asana"==this.collection.globalstore.projects.selected.supplier&&e.headers.get("Has-start-dates")&&this.collection.globalstore.uistate.current_modal}},{key:"pixelsToBars",value:function(e,t,n,r){var a=this.store.globalstore.uistate;n&&r||(n=this.start,r=this.due);var o=new Date(n.split("-")[0],n.split("-")[1]-1,n.split("-")[2]),i=new Date(r.split("-")[0],r.split("-")[1]-1,r.split("-")[2]);if(1==a.column_length)var s=Math.floor(Utils.daysDiff(o,a.calendar.first_month_first_date)/a.column_length),l=Math.ceil(Utils.daysBetweenTwoDates(i,o)/a.column_length);else s=Math.floor(Utils.daysDiff(o,Utils.getMonday(a.calendar.first_month_first_date))/a.column_length),l=Math.ceil(Utils.daysBetweenTwoDates(Utils.getMonday(i),Utils.getMonday(o))/a.column_length);var c=s+l,u=e/a.column_width,d=u+t/a.column_width;return{original:{left:s,right:c},current:{left:u,right:d},difference:{left:u-s,right:d-c}}}},{key:"calculateDates",value:function calculateDates(left,right,raw_start,raw_due){var uistate=this.store.globalstore.uistate;if(!raw_start||!raw_due)var raw_start=this.start,raw_due=this.due;var child_raw_start=raw_start,child_raw_due=raw_due,child_start=new Date(child_raw_start.split("-")[0],child_raw_start.split("-")[1]-1,child_raw_start.split("-")[2]),child_due=new Date(child_raw_due.split("-")[0],child_raw_due.split("-")[1]-1,child_raw_due.split("-")[2]),new_start_date=new Date(child_start.getTime());new_start_date.setDate(new_start_date.getDate()+left);var new_due_date=new Date(child_due.getTime());new_due_date.setDate(new_due_date.getDate()+right),7==uistate.column_length&&eval(this.is_milestone);var data={start:moment(new_start_date).format("YYYY-MM-DD"),due:moment(new_due_date).format("YYYY-MM-DD")};return data}},{key:"adjustDates",value:function(e,t,n,r){if(!this.store.globalstore.uistate.skip_weekends)return{start:moment(e.start).toDate(),due:moment(e.due).toDate()};n&&r||(n=this.start,r=this.due);for(var a=moment(e.start).toDate(),o=moment(e.due).toDate(),i=(t=void 0===t?moment(a).unix()>moment(n).unix()?1:-1:t,0);Utils.isWeekend(a,this.get_users_ids)&&(a=moment(a).add("days",1*t).toDate(),!(++i>40)););var s=this.workingDaysLength(n,r,this.get_users_ids),l=Utils.workingDaysDifference(new Date(a),new Date(o),this.get_users_ids),c=(t=moment(a).unix()>moment(n).unix()?1:-1,1);for(i=0;(l!=s||s==l&&Utils.isWeekend(o,this.get_users_ids))&&(t=(s-l)/Math.abs(s-l)||c,o=moment(o).add("days",1*t).toDate(),l=Utils.workingDaysDifference(new Date(a),new Date(o),this.get_users_ids),c=t,!(++i>40)););return{start:a,due:o}}},{key:"adjustContainerDates",value:function(e,t){if(!this.store.globalstore.uistate.skip_weekends)return{start:moment(e.start).toDate(),due:moment(e.due).toDate()};for(var n=moment(e.start).toDate(),r=moment(e.due).toDate(),a=(t=void 0===t?moment(n).unix()>moment(this.get("container").start).unix()?1:-1:t,0);Utils.isWeekend(n,this.get_users_ids)&&(n=moment(n).add("days",1*t).toDate(),!(++a>40)););var o=this.temporal_container?Object.assign({},this.temporal_container):this.temporal?Object.assign({},this.temporal):Object.assign({},this.equivalent_dates),i=this.workingDaysLength(o.start,o.due,this.get_users_ids),s=Utils.workingDaysDifference(new Date(n),new Date(r),this.get_users_ids),l=(t=moment(n).unix()>moment(o.start).unix()?1:-1,1);for(a=0;(s!=i||i==s&&Utils.isWeekend(r,this.get_users_ids))&&(t=(i-s)/Math.abs(i-s)||l,r=moment(r).add("days",1*t).toDate(),s=Utils.workingDaysDifference(new Date(n),new Date(r),this.get_users_ids),l=t,!(++a>40)););return{start:n,due:r}}},{key:"workingDaysLength",value:function(e,t){e&&t||(e=this.start,t=this.due);var n=Utils.workingDaysLength(moment(e).toDate(),moment(t).toDate(),this.get_users_ids);return n<0&&(n=0),n}},{key:"moveChildsOf",value:function(e){if(!(e=Object.assign({},e||{})).previous||!e.new||e.previous.start!=e.new.start||e.previous.due!=e.new.due){e=e||{};var t=this,n=(this.direct_successors.map((function(e){return e.id})),this.store.selected_uncollapsed);!0===e.ignore_siblings&&(n=[]);var r={triggered_by:this.id,siblings:!1};this.bubbleUuid(e.uuid),e.siblings_collection=n,this.moveDependentChilds(e),e.only_successors||_.each(n,(function(n,a){n.id!=t.id&&n&&(r.siblings=!0,r.move_direct_childs=!0,e.previous&&(r.previous=e.previous),e.new&&(r.new=e.new),e.siblings_collection&&(r.siblings_collection=e.siblings_collection),e.uuid&&(r.uuid=e.uuid),n.pushByParent(r))}))}}},{key:"moveDependentChilds",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(t=Object.assign({},t||{}),this.direct_successors.map((function(e){return e.id}))),r={triggered_by:this.id,move_direct_childs:!0};t.previous&&(r.previous=t.previous),t.new&&(r.new=t.new),t.siblings_collection&&(r.siblings_collection=t.siblings_collection),t.uuid&&(r.uuid=t.uuid),t.container_postreaction&&(r.container_postreaction=t.container_postreaction),t.only_successors&&(n=n.filter((function(t){var n=e.collection.get(t);return!n.parent||n.parent.id!=e.id}))),t.skip_successors?r.skip_successors=t.skip_successors:n.forEach((function(t,n){e.collection.get(t)&&e.collection.get(t).pushByParent(r)})),t.only_successors||this.cascade_raw_childrens.forEach((function(e){e.pushByParent(Object.assign({},r,{siblings:!0}))}))}},{key:"bubbleUuid",value:function(e){var t=this;this.parents.forEach((function(n){t.collection.get(n).bubbling_uuid=e}))}},{key:"cascadeForceParentMovement",value:function(){this.cascade_raw_childrens.forEach((function(e){e.forced_parent_movement=!0}))}},{key:"pushFixedDatesOnContainer",value:function(e,t,n,r){if(this.start){var a=this.temporal?{start:this.temporal.start,due:this.temporal.due}:{start:this.start,due:this.due};if(moment(this.calculated_temporal_container.start)<=moment(n))var o=Utils.workingDaysDifference(moment(this.calculated_temporal_container.start).toDate(),moment(n).toDate(),this.get_users_ids);else o=-1*Utils.workingDaysDifference(moment(n).toDate(),moment(this.calculated_temporal_container.start).toDate(),this.get_users_ids);e&&(o=e);var i=Utils.sumWorkingDays(moment(a.start).toDate(),o,this.get_users_ids),s=Utils.sumWorkingDays(moment(a.due).toDate(),o,this.get_users_ids),l=this.adjustDates({start:i,due:s},t);return i<n&&(i=n),i>r&&(i=r),s>r&&(s=r),s<n&&(s=n),{start:i=l.start,due:s=l.due}}return!1}},{key:"pushContainer",value:function(e){e=Object.assign({},e||{});var t=this.store.globalstore.uistate,n=1,r=this.store.get(e.triggered_by),a=!1;if(e.current_left,this.container&&this.container.start&&this.container.due){var o,i,s,l,c,u,d=r.temporal_container?Object.assign({},r.temporal_container):r.temporal?Object.assign({},r.temporal):Object.assign({},r.equivalent_dates),f=this.temporal_container?Object.assign({},this.temporal_container):this.temporal?Object.assign({},this.temporal):Object.assign({},this.equivalent_dates),p=this.collection.get(e.triggered_by)||{};if(!this.forced_parent_movement||-1!=this.parents.indexOf(e.triggered_by)||p.is_project){if(e.previous?(s=e.previous.start,o=e.previous.due):(s=r.equivalent_dates.start,o=r.equivalent_dates.due),e.new){if(i=e.new.due,l=e.new.start,n=e.new.start>=e.previous.start?1:-1,e.new.start==e.previous.start&&(n=e.new.due>=e.previous.due?1:-1),e.new.start==e.previous.start&&e.new.due==e.previous.due)return}else l=d?d.start:r.equivalent_dates.start,i=d?d.due:r.equivalent_dates.due;if(!this.temporal_container||e.uuid!=this.temporal_container.uuid){var h={start:f.start,due:f.due},m=r.equivalent_dates;if(e.container_postreaction&&(m=e.previous),this.parent&&this.parent.id&&this.collection.get(this.parent.id).temporal,e.siblings||!this.parents||-1==this.parents.indexOf(e.triggered_by)){if(-1!=this.store.selected_uncollapsed.indexOf(this)||e.siblings){if(t.skip_weekends)if(i<o){var _=-1*Utils.workingDaysDifference(moment(i).toDate(),moment(o).toDate(),r.get_users_ids),g=Utils.sumWorkingDays(moment(f.start).toDate(),_,this.get_users_ids);_=Utils.daysDiff(moment(g).toDate(),moment(f.start).toDate()),n=-1}else i>o?(_=Utils.workingDaysDifference(moment(o).toDate(),moment(i).toDate(),r.get_users_ids),g=Utils.sumWorkingDays(moment(f.start).toDate(),_,this.get_users_ids),_=Utils.daysDiff(moment(g).toDate(),moment(f.start).toDate())):l<s?(_=-1*Utils.workingDaysDifference(moment(l).toDate(),moment(s).toDate(),r.get_users_ids),g=Utils.sumWorkingDays(moment(f.start).toDate(),_,this.get_users_ids),_=Utils.daysDiff(moment(g).toDate(),moment(f.start).toDate()),n=-1):l>s&&(_=Utils.workingDaysDifference(moment(s).toDate(),moment(l).toDate(),r.get_users_ids),g=Utils.sumWorkingDays(moment(f.start).toDate(),_,this.get_users_ids),_=Utils.daysDiff(moment(g).toDate(),moment(f.start).toDate()));else _=Utils.daysDiff(moment(i).toDate(),moment(o).toDate());var b=0}else{var y=!1;if(this.container.start>=m.start&&this.container.start<m.due?(o=s,i=l,y="start_to_start"):this.container.start==m.start&&this.container.due==m.start||this.container.start==m.start?y="start_to_start":this.container.start>=m.due&&(y="finish_to_start"),""==i)return;var v=this.distanceType(r.id)?this.distanceType(r.id):this.getDefaultDistanceType(),A=this.get_users_ids.concat(r.get_users_ids);if("lag"==v){if("start_to_start"==y&&e.previous&&e.new&&e.previous.start==e.new.start)return;if(t.skip_weekends)if("start_to_start"==y){b=Utils.workingDaysDifference(moment(m.start).toDate(),moment(this.container.start).toDate(),A);var w=Utils.sumWorkingDays(moment(l).toDate(),b,A)}else b=Utils.workingDaysDifference(moment(m.due).toDate(),moment(this.container.start).toDate(),A),w=Utils.sumWorkingDays(moment(i).toDate(),b,A);else b=Utils.daysDiff(this.container.start,o),w=moment(i).add("days",b).toDate();_=Utils.daysDiff(moment(w).format("YYYY-MM-DD"),f.start)}else{if("start_to_start"==y&&e.previous&&e.new&&e.previous.start==e.new.start)return;if("start_to_start"==y)i==this.container.start||i>this.container.start?(b=0,_=Utils.daysDiff(i,f.start)+b):(b=0,_=0);else if(i<f.start){if(_=0,-1==n&&f.start>this.equivalent_dates.start){b=Utils.workingDaysDifference(moment(o).toDate(),moment(f.start).toDate(),A),w=Utils.sumWorkingDays(moment(i).toDate(),b,A),_=Utils.daysDiff(w,f.start);var k=Utils.daysDiff(this.equivalent_dates.start,f.start);_<k&&(_=k),u=this.equivalent_dates.start,c=this.equivalent_dates.due}}else m.due==this.container.start&&i>=this.calculated_temporal_container.start?(b=0,_=Utils.daysDiff(i,f.start)):m.due<this.container.start&&i>=f.start&&(b=1,_=Utils.daysDiff(i,f.start)+b)}}var E,x=moment(f.start).add("days",_),O=moment(f.due).add("days",_),C=(this.temporal_container,this.adjustContainerDates({start:x,due:O},n));if(x=C.start,O=C.due,c&&u&&(moment(x).format("YYYY-MM-DD")<u&&(x=moment(u),a=!0),moment(O).format("YYYY-MM-DD")<c&&(O=moment(c),a=!0),e.only_successors=a),(!this.temporal_container||this.temporal_container.start!=moment(x).format("YYYY-MM-DD")||this.temporal_container.due!=moment(O).format("YYYY-MM-DD"))&&(this.temporal_container||this.equivalent_dates.start!=moment(x).format("YYYY-MM-DD")||this.equivalent_dates.due!=moment(O).format("YYYY-MM-DD")))E=this.pushFixedDatesOnContainer(!1,n,x,O),this.bubbling||this.cascadeForceParentMovement(),E&&(this.temporal={start:moment(E.start).format("YYYY-MM-DD"),due:moment(E.due).format("YYYY-MM-DD"),uuid:e.uuid}),this.moveDependentChilds(Object.assign({},e,{previous:{start:h.start,due:h.due},new:{start:moment(x).format("YYYY-MM-DD"),due:moment(O).format("YYYY-MM-DD")},skip_successors:!0}))}}}}}},{key:"pushByParent",value:function(e){e=Object.assign({},e||{}),this.bubbleUuid(e.uuid);var t=this.store.globalstore.uistate,n=1,r=this.store.get(e.triggered_by),a=(e.current_left,r.equivalent_dates.due),o=r.calculated_temporal_container?r.calculated_temporal_container.due:r.equivalent_due,i=r.equivalent_dates.start,s=r.calculated_temporal_container?r.calculated_temporal_container.start:r.equivalent_start;if(e.previous&&(i=e.previous.start,a=e.previous.due),!e.new||(o=e.new.due,s=e.new.start,n=e.new.start>=e.previous.start?1:-1,e.new.start==e.previous.start&&(n=e.new.due>=e.previous.due?1:-1),e.new.start!=e.previous.start||e.new.due!=e.previous.due)){var l=r.equivalent_dates;e.container_postreaction&&(l=e.previous),r.temporal_container?Object.assign({},r.temporal_container):r.temporal?Object.assign({},r.temporal):Object.assign({},r.equivalent_dates),this.temporal_container?Object.assign({},this.temporal_container):this.temporal?Object.assign({},this.temporal):Object.assign({},this.equivalent_dates);var c=this.temporal||{start:this.start,due:this.due};if((!(l.start>this.equivalent_dates.start&&""!=this.equivalent_dates.start)||e.siblings)&&(""!=this.equivalent_dates.start||""!=this.equivalent_dates.due)&&!this.locked&&(r.calculated_temporal_container||e.previous||e.new)&&!(this.temporal&&e.uuid==this.temporal.uuid||this.last_push_uuid&&e.uuid==this.last_push_uuid))if(this.raw_childrens.length>0)this.pushContainer(e);else if(e.siblings||!this.parents||-1==this.parents.indexOf(e.triggered_by)){var u=this.collection.get(e.triggered_by)||{};if(!this.forced_parent_movement||-1!=this.parents.indexOf(e.triggered_by)||u.is_project){if(this.parent&&this.parent.id&&this.collection.get(this.parent.id).calculated_temporal_container&&!this.collection.get(this.parent.id).bubbling&&(e.triggered_by,this.parent.id),-1!=this.store.selected_uncollapsed.indexOf(this)||e.siblings){if(!this.start||!this.due)return;if(t.skip_weekends)if(o<a){var d=-1*Utils.workingDaysDifference(moment(o).toDate(),moment(a).toDate(),r.get_users_ids),f=Utils.sumWorkingDays(moment(c.start).toDate(),d,this.get_users_ids);d=Utils.daysDiff(moment(f).toDate(),moment(c.start).toDate()),n=-1}else{var p=Utils.workingDaysDifference(moment(a).toDate(),moment(o).toDate(),r.get_users_ids);f=Utils.sumWorkingDays(moment(c.start).toDate(),p,this.get_users_ids),d=Utils.daysDiff(moment(f).toDate(),moment(c.start).toDate())}else d=Utils.daysDiff(moment(o).toDate(),moment(a).toDate());var h=0}else{var m=!1;if(this.start>=l.start&&this.start<l.due?(a=i,o=s,m="start_to_start"):this.start==l.start&&this.due==l.start||this.start==l.start?m="start_to_start":this.start>=l.due&&(m="finish_to_start"),""==o)return;var _=this.distanceType(r.id)?this.distanceType(r.id):this.getDefaultDistanceType(),g=this.get_users_ids;if("lag"==_){if("start_to_start"==m&&e.previous&&e.new&&e.previous.start==e.new.start)return;if("start_to_start"==m){h=Utils.workingDaysDifference(moment(l.start).toDate(),moment(this.start).toDate(),g);var b=Utils.sumWorkingDays(moment(s).toDate(),h,g)}else h=Utils.workingDaysDifference(moment(l.due).toDate(),moment(this.start).toDate(),g),b=Utils.sumWorkingDays(moment(o).toDate(),h,g);d=Utils.daysDiff(moment(b).format("YYYY-MM-DD"),c.start)}else{if("start_to_start"==m&&e.previous&&e.new&&e.previous.start==e.new.start)return;if("start_to_start"==m)o==this.start||o>this.start?(h=0,d=Utils.daysDiff(o,c.start)+h):(h=0,d=0);else if(o<c.start){if(d=0,-1==n&&c.start>this.equivalent_dates.start){h=Utils.workingDaysDifference(moment(a).toDate(),moment(c.start).toDate(),g),b=Utils.sumWorkingDays(moment(o).toDate(),h,g),d=Utils.daysDiff(b,c.start);var y=Utils.daysDiff(this.equivalent_dates.start,c.start);d<y&&(d=y);var v=this.equivalent_dates.start,A=this.equivalent_dates.due}}else l.due==this.start&&o>=c.start?(h=0,d=Utils.daysDiff(o,c.start)):l.due<this.start&&o>=c.start&&(h=1,d=Utils.daysDiff(o,c.start)+h)}}var w=moment(c.start).add("days",d),k=moment(c.due).add("days",d);A&&v&&(moment(w).format("YYYY-MM-DD")<v&&(w=moment(v)),moment(k).format("YYYY-MM-DD")<A&&(k=moment(A)));var E=this.adjustDates({start:w,due:k},n);if(w=E.start,k=E.due,!e.siblings){var x=this.predecessorConstraint();void 0!==x&&void 0!==x.constraint_date&&w<moment(x.constraint_date).toDate()&&(w=this.temporal&&this.temporal.start?this.temporal.start:this.start,k=this.temporal&&this.temporal.due?this.temporal.due:this.due)}this.temporal&&this.temporal.start==moment(w).format("YYYY-MM-DD")&&this.temporal.due==moment(k).format("YYYY-MM-DD")||(this.temporal||this.start!=moment(w).format("YYYY-MM-DD")||this.due!=moment(k).format("YYYY-MM-DD"))&&(this.temporal={start:moment(w).format("YYYY-MM-DD"),due:moment(k).format("YYYY-MM-DD"),uuid:e.uuid},e.move_direct_childs&&this.moveDependentChilds(Object.assign({},e,{previous:{start:c.start,due:c.due},new:{start:moment(w).format("YYYY-MM-DD"),due:moment(k).format("YYYY-MM-DD")},skip_successors:!1})))}}}}},{key:"extendDueOnWeekend",value:function(e,t){if(!this.store.globalstore.uistate.skip_weekends)return e;t=t||this.due;for(var n=moment(e).unix()>moment(t).unix()?1:-1,r=0;Utils.isWeekend(e,this.get_users_ids)&&(e=(e=moment(e).add("days",1*n)).toDate(),!(++r>40)););return e}},{key:"adjustSelfStartOnWeekend",value:function(e){if(!this.store.globalstore.uistate.skip_weekends)return e;for(var t=moment(e).unix()>moment(this.start).unix()?1:-1,n=0;Utils.isWeekend(e,this.get_users_ids)&&(e=(e=moment(e).add("days",1*t)).toDate(),!(++n>40)););return e}},{key:"getProjects",value:function(){var e=this.projects;return Array.isArray(e)&&e.length>0?e:[{}]}},{key:"toggleLock",value:function(){this.save({locked:!this.locked})}},{key:"containerReactionWaiver",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.accept_container_reaction=e,this.parent&&this.parent.id&&this.collection.get(this.parent.id).containerReactionWaiver(e)}},{key:"changePosition",value:function(e){0!==e.new_parent?e.new_parent?this.changeParent({parent:e.new_parent,silent:!0,supplier_project_id:e.supplier_project_id,previous_task_id:e.previous_task_id}):e.priority_heading_id&&this.priority_heading_id!=e.priority_heading_id?this.changeParent({parent:e.priority_heading_id,silent:!0,supplier_project_id:e.supplier_project_id,previous_task_id:e.previous_task_id,next_task_id:e.next_task_id}):e.silent||this.save(e,{url:this.url+"/changePosition",patch:!0,silent:!0}):this.unParent(_extends({silent:!0},e))}},{key:"mockPreviousContainerDates",value:function(e){0==e.raw_childrens.length&&(e.start||e.due)&&(e.previous_container_dates.start=e.start,e.previous_container_dates.due=e.due)}},{key:"changeParent",value:function(e){if(0!=e.parent){var t=this.store.get(e.parent);this.stripDependenciesOnParentChange(t),this.mockPreviousContainerDates(t),t.containerReactionWaiver(!0),e.silent;var n=!1,r=this.store.get(e.parent);r.collapsed=!1;var a=this.parent,o=(this.projects&&this.projects.length>0&&this.projects[0].id,r.is_priority_heading),i=r.priority+1,s=o?r.id:r.priority_heading_id,l=o?r.priority:r.parent_priority_heading;e.silent||this.store.filtered.forEach((function(t){!n||t.is_project||t.is_priority_heading||(t.priority=Number(t.priority)+1),e.parent==t.id&&(n=!0)}));var c="";o||(c={id:e.parent},_.compact(_.union(r.parents,r.id)));var u=this.store.globalstore.projects.selected;if(e.parent&&"group"==u.type){var d=this.store.getRootParent(r);d.projects&&d.projects[0]&&(this.project_priority=d.project_priority,e.supplier_project_id=d.projects&&d.projects[0]?d.projects[0].id:void 0,this.projects&&this.projects[0]&&this.projects[0].id&&(e.previous_supplier_project_id=this.projects[0].id))}if(e={previous_task_id:e.previous_task_id?e.previous_task_id:e.parent,priority_heading_id:s,parent_priority_heading:l,priority:i,supplier_project_id:e.supplier_project_id,previous_supplier_project_id:e.previous_supplier_project_id},a&&o&&(e.unparent=!0),this.parent!=c&&(e.parent=c),!e.parent&&e.previous_task_id){var f=this.store.get(e.previous_task_id);e.projects=f.projects}this.save(e,{url:this.url+"/changePosition",patch:!0,silent:!0})}else this.unParent()}},{key:"stripDependenciesOnParentChange",value:function(e){var t=this;if(!e.is_priority_heading&&!e.is_project){var n=[e.id].concat(_toConsumableArray(e.parents));[this].concat(_toConsumableArray(this.cascade_raw_childrens)).forEach((function(e){e.possiblePushPath().forEach((function(e){var r=e.map((function(e){return e.id}));if(r.filter((function(e){return n.includes(e)})).length>0){var a=t.collection.get(r[0]),o=t.collection.get(r[1]);a&&o&&-1!=a.predecessor_ids.indexOf(o.id)&&a.deleteLeftDependency(o.id)}}))})),-1!=e.predecessor_ids.indexOf(this.id)&&e.deleteLeftDependency(this.id)}}},{key:"direct_or_indirect_connections_to_task",value:function(e){if(!this.collection.get(e))return[]}},{key:"possiblePushPath",value:function(){var e=this,t=[];return this.predecessor_ids.forEach((function(n){var r=e.collection.get(n);if(r){var a=r.possiblePushPath();r.possiblePushPath().forEach((function(n){var r=[e];r.push.apply(r,_toConsumableArray(n)),t.push(r)})),0==a.length&&t.push([e,r])}})),this.parent&&this.parent.id&&this.collection.get(this.parent.id).possiblePushPath().forEach((function(n){var r=[e];r.push.apply(r,_toConsumableArray(n)),t.push(r)})),0!=this.predecessor_ids.length||this.parent&&this.parent.id||t.push([this]),t}},{key:"unParent",value:function(e){e=e||{};var t=this.store.filtered[0],n={next_task_id:e.next_task_id?e.next_task_id:t.id,previous_task_id:e.previous_task_id?e.previous_task_id:0,priority_heading_id:0,parent_priority_heading:0,priority:0,parent:null,unparent:!0};this.parent,this.store.filtered.forEach((function(e){e.is_project||e.is_priority_heading||(e.priority=Number(e.priority)+1)})),this.save(n,{url:this.url+"/changePosition",patch:!0,silent:!0})}},{key:"changeAssignee",value:function(e,t){if(t=t||{},Array.isArray(e))return this.changeAssignees(e,t);var n;if(e&&0!=e.id)void 0!==e.type&&"tag"==e.type?(this.save({user:"",assignee:"null"},t),(n=this.get_user)&&"tag"==n.type&&this.removeTag(n.name),this.addTag(e)):((n=this.get_user)&&"tag"==n.type&&this.removeTag(n.name),this.save({user:e,assignee:e.id},t));else if(void 0!==(n=this.get_user).type&&"tag"==n.type){var r=this.tags.filter((function(e){return e.id!=n.id}));this.save({tags:r},{url:this.url+"/removeTag",patch:!0}),App.Variables.last_modified=!1,this.set({user:"",assignee:"null"},t)}else this.save({user:"",assignee:"null"},t)}},{key:"changeAssignees",value:function(e,t){var n=0;e.forEach((function(e){e.hours&&(n=parseFloat(e.hours)+n)}));var r={users:e,user:"",assignee:""};this.get_estimated_hours.editable&&n&&(r.estimated_hours=n),this.save(r)}},{key:"replaceAssignees",value:function(e,t){var n=[];if(t)this.users.forEach((function(n){n.id==e&&(n.id=t.id,n.name=t.name)})),this.save();else{this.users.forEach((function(t){t.id!=e&&n.push(t)}));var r={users:n,estimated_hours:this.estimated_hours};r=this.balanceHours(r),this.save(r)}}},{key:"addTag",value:function(e){var t=this;if(e&&void 0!==e)if(e.id){var n=this.tags;-1!=Object.keys(e).indexOf("workbook")&&void 0===e.workbook&&delete e.workbook,n.push(e),this.save({tags:n.toJS()},{url:this.url+"/addTag",patch:!0})}else{var r,a=this.collection.globalstore.projects.selected,o=a.workspace;if(o)r={name:e.name,workspace:o.id};else{var i=a.workbook;if(!i)return void alert("You can't create tags from this view. Try within a project");r={name:e.name,workbook:i.id}}n=this.tags,e=this.collection.globalstore.tags.create(r);var s=n.slice();n.push(r),e.then((function(e){r.id=e.id,s.push(r),t.save({tags:s},{url:t.url+"/addTag",patch:!0})}))}}},{key:"removeTag",value:function(e){var t=_.filter(this.tags.toJS(),(function(t){return t.name!=e}));t.length!=this.tags.length&&this.save({tags:t},{url:this.url+"/removeTag",patch:!0})}},{key:"removeDates",value:function(){var e=this.collection.globalstore,t=this.id,n=!(this.cascade_raw_childrens.filter((function(e){return e.start&&e.due})).length>0);if(n&&this.direct_successors.forEach((function(e){e.save({dependent_of:e.dependent_of.toJSON().filter((function(e){return e!=t}))})})),e.user&&"standalone"==e.user.type){var r={start:"",due:"",duration_cd_fixed:this.working_duration,duration_wd_fixed:this.working_duration};n&&(r.dependent_of=""),this.save(r)}else{var a={start:"",due:"null",duration_cd_fixed:this.working_duration,duration_wd_fixed:this.working_duration};n&&(a.dependent_of=""),this.save(a),this.due=""}}},{key:"applyDateBounds",value:function(e,t){var n=this.predecessorConstraint(),r=this.maxStartWithoutLag,a=!1;return moment(e)<=moment(n.constraint_date)&&(e=moment(n.constraint_date).add("days",1),t=moment(e).add("days",this.working_duration-1),a=!0),moment(t)>moment(r.max_due)&&(t=moment(r.max_due),e=moment(t).subtract("days",this.working_duration-1),a=!0),moment(e)<moment(n.constraint_date)&&moment(t)>moment(r.max_due)&&(e=moment(n.constraint_date).add("days",1),t=moment(r.max_due),a=!0),a&&this.collection.globalstore.uistate.chartWarning("There's a dependency constraint for the selected dates"),{start:e,due:t}}},{key:"saveChangeDates",value:function(e){var t=this;this.parents.forEach((function(e){t.collection.get(e).containerReactionWaiver(!0)})),(e=e||{}).uuid||(e.uuid=Utils.uuid());var n=this.editing.start||this.start,r=this.editing.due||this.due;if(""!=n&&""!=r){(n=moment(n,"YYYY-MM-DD").format("YYYY-MM-DD"))>(r=moment(r,"YYYY-MM-DD").format("YYYY-MM-DD"))&&(n=r),this.is_milestone&&(n=r);var a=this.applyDateBounds(n,r);n=moment(a.start).format("YYYY-MM-DD"),r=moment(a.due).format("YYYY-MM-DD"),this.set({temporal:{start:n,due:r,uuid:e.uuid},editing:{}},{silent:!0}),""==this.start&&""==this.due||this.moveChildsOf(Object.assign({},e,{previous:{start:this.start,due:this.due},new:{start:n,due:r}})),this.store.saveTemporals(),this.scheduleSuccessors(),""==this.start&&this.due}}},{key:"saveCustomField",value:function(e,t){var n=(0,_mobx.toJS)(this.custom_fields);n[e.id]=t,this.save({custom_fields:n})}},{key:"set",value:function(e){_.extend(this,e)}},{key:"override",value:function(e){e=e||{},-1!=this.url.indexOf("?")?e.url=this.url+"&override=true":e.url=this.url+"?override=true",this.save({},e)}},{key:"dependsOn",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(this.equivalent_dates.start&&e.equivalent_dates.start&&this.equivalent_dates.start<e.equivalent_dates.start))if(this.parents&&-1!=this.parents.indexOf(e.id))this.collection.globalstore.uistate.chartWarning("A task can't depend on its parent task");else{var r=_.clone((0,_mobx.toJS)(this.predecessor_ids));if("object"!=(void 0===r?"undefined":_typeof(r))&&(r=""!=r?[r]:[]),-1==r.indexOf(e.id)&&-1==r.indexOf(String(e.id))&&(e.is_priority_heading||e.is_new_task_handler||r.push(e.id)),this.set({dependent_of:r}),e.deleteLeftDependency(this.id).then((function(){t.save()})),""==this.equivalent_dates.start&&""==this.equivalent_dates.due&&""!=e.equivalent_dates.due&&setTimeout((function(){return e.scheduleSuccessors()}),0),n.updateStart){var a=moment(e.equivalent_dates.due).add("days",1),o=this.adjustDates({start:a.format("YYYY-MM-DD"),due:a.format("YYYY-MM-DD")});this.editing={start:moment(o.start).format("YYYY-MM-DD"),due:moment(o.due).format("YYYY-MM-DD")},this.saveChangeDates()}}}},{key:"deleteLeftDependency",value:function(e){var t=this.predecessor_ids;if("0"==e)return this.save({dependent_of:""});if(e){var n=t.indexOf(e);return-1!=n&&t.splice(n,1),this.save({dependent_of:t})}}},{key:"setCollapsed",value:function(e){var t=JSON.parse(localStorage.getItem("uncollapsed_tasks"))||{};t[this.id]=!e,localStorage.setItem("uncollapsed_tasks",JSON.stringify(t)),this.collapsed=e}},{key:"setDependent",value:function(){var e=this.collection,t=e.globalstore.uistate;if(t.drawing_dependency){var n=e.get(t.drawing_dependency.id),r=moment(n.equivalent_dates.start+" 00:00:00","YYYY-MM-DD HH:mm:ss"),a=moment(this.equivalent_dates.start+" 00:00:00","YYYY-MM-DD HH:mm:ss");if(n.id==this.id)return;r.toDate()<a.toDate()||r.unix()==a.unix()&&e.filtered.indexOf(n)<e.filtered.indexOf(this)?this.dependsOn(n):n.dependsOn(this),this.collection.unsetDrawingDependency()}}},{key:"duplicateTask",value:function(){var e=this;this.subtasks.length>0&&this.setCollapsed(!1);var t={},n=0,r=this.collection.globalstore.projects.selected,a=(r.workspace.id,!!r.team&&(r.team.id?r.team.id:r.team.gid),[this]),o=function e(t,n){return(t=t||[]).push(n),_.each(n.raw_childrens_models,(function(n){_.union(t,e(t,n))})),t}([],a),i=[];if("project"==r.type){var s=function(t){e.globalstore.uistate.notification={message:t,loading:!0}},l=function(t){e.globalstore.uistate.notification=!1,e.globalstore.tasks.fetch()},c=function(e,r){s("Updating dependencies..."),_.each(i,(function(a){if("object"==_typeof(a.dependent_of)){var o=[];_.each(a.dependent_of,(function(e){o.push(t[e])}))}else{if(!a.dependent_of)return void(++n==i.length&&l());o=t[a.dependent_of]}if(r.globalstore&&r.globalstore.user&&"standalone"==r.globalstore.user.type){o=o.filter((function(e){if(e)return e}));var s=r.collection.get(a.id);s.set({dependent_of:o}),s.save().then((function(){++n==i.length&&l()}))}else a.dependent_of=o,$.ajax({url:"/projects/"+e.id+"/tasks/"+a.id,type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(a),success:function(){++n==i.length&&l()}})}))},u=function e(n,a,l,u){var d=n.raw_childrens_models;o!=i.length?0==d.length&&u?u():(d.reverse(),function n(u,d){var f=_.clone(u),p=f.shift(),h={name:p.name,parent:{id:a.id},completed:"",start:p.start,due:p.due,estimated_hours:p.estimated_hours,actual_hours:p.actual_hours,priority:p.priority,risk:p.risk,estimated_cost:p.estimated_cost,actual_cost:p.actual_cost,color:p.color,is_milestone:p.is_milestone,progress:p.progress,dependent_of:[],notes:p.notes,ig_project_id:r.id};l.globalstore&&l.globalstore.user&&"standalone"==l.globalstore.user.type?l.collection.create(h).then((function(r){s("Created '"+h.name+"'"),t[p.id]=r.id,h.id=r.id,h.dependent_of=p.dependent_of,i.push(h),f.length>0?e(p,r,l,(function(){n(f,d)})):o==i.length?c(!1,l):e(p,r,l,d)})):$.ajax({url:"/tasks/"+a.id+"/subtasks",method:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(h)}).success((function(r){s("Created '"+h.name+"'"),t[p.id]=r.id,h.id=r.id,h.dependent_of=p.dependent_of,i.push(h),f.length>0?e(p,r,l,(function(){n(f,d)})):o==i.length?c(!1,l):e(p,r,l,d)}))}(d,u)):c(r,l)};s("Starting duplication"),function(e,n,a){var o,s=_.clone(n)[0],l=[],d=s.parent_priority_heading,f=s.priority_heading_id;f&&s.projects.length>0&&(l=[{project:Number(s.projects[0].id),section:Number(f)}]);var p=(_defineProperty(o={name:s.name+" Copy",due:s.due,start:s.start,tags:s.get_tags,projects:[{name:e.name,id:e.supplier_project_id}],assignee:s.assignee,user:s.user,estimated_hours:s.estimated_hours,actual_hours:s.actual_hours,priority:s.priority,risk:s.risk,estimated_cost:s.estimated_cost,actual_cost:s.actual_cost,parent_priority_heading:d,priority_heading_id:f,memberships:l},"priority",parseFloat(s.priority)+.01),_defineProperty(o,"local_priority",parseFloat(s.local_priority)+.01),_defineProperty(o,"is_milestone",s.is_milestone),_defineProperty(o,"color",s.color),_defineProperty(o,"progress",s.progress),_defineProperty(o,"dependent_of",[]),_defineProperty(o,"notes",s.notes),_defineProperty(o,"ig_project_id",r.id),o);!1===p.assignee&&(p.assignee=""),a.globalstore&&a.globalstore.user&&"standalone"==a.globalstore.user.type?a.collection.create(p).then((function(n){t[s.id]=n.id,p.id=n.id,i.push(p),u(s,n,a,(function(){c(e,a)}))})):$.ajax({url:"/projects/"+e.id+"/tasks",contentType:"application/json",dataType:"json",method:"POST",data:JSON.stringify(p)}).success((function(n){t[s.id]=n.id,p.id=n.id,i.push(p),u(s,n,a,(function(){c(e,a)}))}))}(r,a,this)}else alert("Task duplication can't be done on Groups or User Tasks. Please select a single project")}},{key:"inBetween",value:function(e){return!e||!(!e||e.end&&e.start)||!(!(this.start||this.due||this.container)||!(!this.container||this.container.start&&this.container.due))&&(!this.start||this.container&&this.container.start?this.container&&this.container.start?this.container.start<=e.end&&this.container.due>=e.start:void 0:this.start<=e.end&&this.due>=e.start)}},{key:"rectify",value:function(e){var t=this.previous_dates.start,n=this.previous_dates.due;if(t&&n){var r=this.start,a=this.due,o=this.temporal&&this.temporal.start?this.temporal.start:this.start,i=this.due;o&&i&&(o>i&&(o=i),this.set({start:t,due:n,temporal:{start:o,due:i},original:{start:r,due:a}}),this.moveChildsOf())}}},{key:"getDefaultDistanceType",value:function(){return this.store.globalstore.uistate.keep_gap_locked?"lag":"slack"}},{key:"distance_to_predecessor",value:function(e){var t=this.collection.get(e);if(!this.equivalent_dates.start)return 0;if(!t.equivalent_dates.due)return 0;var n=this.get_users_ids.concat(t.get_users_ids);if(new Date(this.equivalent_dates.start)>=new Date(t.equivalent_dates.due))var r=Utils.workingDaysDifference(moment(t.equivalent_dates.due).toDate(),moment(this.equivalent_dates.start).toDate(),n);else r=-1*Math.abs(Utils.workingDaysDifference(moment(this.equivalent_dates.start).toDate(),moment(t.equivalent_dates.due).toDate(),n));return r}},{key:"updatePredecessorDistance",value:function(e,t){var n=this.working_duration,r=void 0,a=this.collection.get(t);if(a){(r=e<0?this.calculateUpdateDurationWd(a.equivalent_dates.due,e-1):this.calculateUpdateDurationWd(a.equivalent_dates.due,e+1))<moment(a.equivalent_dates.start)&&(r=moment(a.equivalent_dates.start));var o=this.calculateUpdateDurationWd(r,n);return this.set({editing:{start:r.format("YYYY-MM-DD"),due:o.format("YYYY-MM-DD")}}),this.saveChangeDates()}}},{key:"updateDurationWd",value:function(){var e=this.store.globalstore;if(this.duration_wd_fixed&&this.duration_wd_fixed!=this.working_duration&&this.start&&this.due){if(!e.uistate.skip_weekends)return this.set({editing:{due:moment(this.start).add("days",this.duration_wd_fixed-1).format("YYYY-MM-DD")}},{silent:!0}),void this.saveChangeDates();var t=moment(this.start),n=moment(this.due);if(this.working_duration>this.duration_wd_fixed)for(;Utils.workingDaysLength(moment(t).toDate(),moment(n).toDate(),this.get_users_ids)+1!=this.duration_wd_fixed;)for(n=moment(n).add("days",-1);Utils.isWeekend(n,this.get_users_ids);)n=moment(n).add("days",-1);else for(;Utils.workingDaysLength(moment(t).toDate(),moment(n).toDate(),this.get_users_ids)+1!=this.duration_wd_fixed;)for(n=moment(n).add("days",1);Utils.isWeekend(n,this.get_users_ids);)n=moment(n).add("days",1);this.set({editing:{due:n.format("YYYY-MM-DD")}},{silent:!0}),this.saveChangeDates()}}},{key:"calculateUpdateDurationWd",value:function(e,t){var n;if(t=t||1,this.store.globalstore.uistate.skip_weekends){e=moment(e),n=moment(e);var r=t/Math.abs(t),a=1;if(t<0)for(;-1*Utils.workingDaysLength(moment(n).toDate(),moment(e).toDate(),this.get_users_ids)+r!=t;){if(a>100)return;n=moment(n).add("days",r);for(var o=1;Utils.isWeekend(n,this.get_users_ids);){if(o>100)return;n=moment(n).add("days",r),o++}a++}else for(;Utils.workingDaysLength(moment(e).toDate(),moment(n).toDate(),this.get_users_ids)+r!=t;){if(a>100)return;n=moment(n).add("days",r);for(var i=1;Utils.isWeekend(n,this.get_users_ids);){if(i>100)return;n=moment(n).add("days",r),i++}a++}}else n=moment(e).add("days",t-1);return n}},{key:"scheduleSuccessors",value:function(){var e=this,t=this.calculated_temporal_container&&this.calculated_temporal_container.due?this.calculated_temporal_container.due:this.equivalent_dates.due;this.direct_successors.forEach((function(n){if(!(n.start||n.due||n.container&&(n.container.start||n.container.due))){if(e.store.globalstore.uistate.skip_weekends){for(var r=moment(t).add("days",1),a=0;Utils.isWeekend(r,n.get_users_ids)&&(a++,r=moment(r).add("days",1),!(a>10)););for(var o=r,i=0;Utils.workingDaysLength(moment(r).toDate(),moment(o).toDate(),n.get_users_ids)+1!=(n.duration_wd_fixed||1);){o=moment(o).add("days",1);for(var s=0;Utils.isWeekend(o,n.get_users_ids)&&(s++,o=moment(o).add("days",1),!(s>10)););if(++i>100)break}n.set({editing:{due:o.format("YYYY-MM-DD"),start:r.format("YYYY-MM-DD")}})}else{var l=moment(t).add("days",1),c=l;n.set({start:l.format("YYYY-MM-DD"),due:c.format("YYYY-MM-DD")}),c=moment(l).add("days",(n.duration_wd_fixed||1)-1).format("YYYY-MM-DD"),n.set({due:c})}n.saveChangeDates()}})),this.direct_successors.forEach((function(e){e.scheduleSuccessors()}))}},{key:"calculateFixedDatesOnContainer",value:function(){var e={start:this.start,due:this.due};if(this.temporal.start==this.equivalent_dates.start&&this.temporal.due!=this.equivalent_dates.due)return e.due<this.due&&(e.due=this.due),e.start>e.due&&(e.start=e.due),e;if(this.temporal.start!=this.equivalent_dates.start&&this.temporal.due==this.equivalent_dates.due)return e.start>this.start&&(e.start=this.start),e.start>e.due&&(e.due=e.start),e;if(this.temporal.start!=this.equivalent_dates.start&&this.temporal.due!=this.equivalent_dates.due){var t=Utils.daysDiff(this.temporal.start,this.equivalent_dates.start)+0,n=moment(this.start).add("days",t),r=moment(this.due).add("days",t),a=t/Math.abs(t),o=this.adjustDates({start:n,due:r},a);return e.start=moment(o.start).format("YYYY-MM-DD"),e.due=moment(o.due).format("YYYY-MM-DD"),e}return this.temporal.start==this.equivalent_dates.start&&this.temporal.due==this.equivalent_dates.due?e:void 0}},{key:"crawlAccountableDue",value:function(){if(this.due)return this.due;if(this.container.due)return this.container.due;if(!this.due&&!this.container.due){if(this.parent&&this.parent.id)return this.collection.get(this.parent.id)?this.collection.get(this.parent.id).crawlAccountableDue():"";if((!this.parent||!this.parent.id)&&this.get_priority_heading_id&&this.collection.get(this.get_priority_heading_id))return this.collection.get(this.get_priority_heading_id).crawlAccountableDue()}return""}},{key:"container",get:function(){var e=this,t=null,n=null,r=this.raw_childrens.slice();return 0!=r.length&&(r.push(this.id),r.forEach((function(r){var a=e.store.get(r);if(r==e.id){if(!e.is_priority_heading)var o=a.start,i=a.due}else if(a.is_priority_heading?(o=a.container?a.container.start:"",i=a.container?a.container.due:""):(o=a.container?a.container.start:a.start,i=a.container?a.container.due:a.due),"hidden"==e.store.globalstore.uistate.completed_since&&(!0===a.completed||"true"===a.completed))return;o&&!t?t=o:o&&(t=moment(o,"YYYY-MM-DD").unix()<moment(t,"YYYY-MM-DD").unix()?o:t),i&&!n?n=i:i&&(n=moment(i,"YYYY-MM-DD").unix()>moment(n,"YYYY-MM-DD").unix()?i:n)})),!(!t||!n)&&{start:t,due:n})}},{key:"calculated_temporal_container",get:function(){var e=this,t=null,n=null,r=this.raw_childrens.slice();return 0==r.length?{start:this.temporal?this.temporal.start:this.start,due:this.temporal?this.temporal.due:this.due}:(r.push(this.id),r.forEach((function(r){var a=e.store.get(r);if(r==e.id){if(!e.is_priority_heading&&!e.is_project)if(a.temporal)var o=a.temporal.start,i=a.temporal.due;else o=a.start,i=a.due}else if(a.is_priority_heading||(o=a.calculated_temporal_container&&a.calculated_temporal_container.start?a.calculated_temporal_container.start:a.equivalent_dates.start,i=a.calculated_temporal_container&&a.calculated_temporal_container.due?a.calculated_temporal_container.due:a.equivalent_dates.due),"hidden"==e.store.globalstore.uistate.completed_since&&(!0===a.completed||"true"===a.completed))return;o&&!t?t=o:o&&(t=moment(o,"YYYY-MM-DD").unix()<moment(t,"YYYY-MM-DD").unix()?o:t),i&&!n?n=i:i&&(n=moment(i,"YYYY-MM-DD").unix()>moment(n,"YYYY-MM-DD").unix()?i:n)})),!(!t||!n)&&{start:t,due:n})}},{key:"get_users",get:function(){var e=this;return this.users&&this.users.length>0?this.users.length>0?this.users.map((function(t){var n=!1;if(t&&t.id&&(n=e.globalstore.users.get(t.id)),!n||!n.id){if("offline"!=e.globalstore.mode)return;if(!t)return;n=t}var r={};return["email","id","name","owner","photo","type","user_id"].forEach((function(e){void 0!==n&&null!=n&&(r[e]=n[e])})),t&&t.hours&&(r.hours=t.hours),r})):this.user.id?[{id:this.user.id,name:this.user.name,type:this.user.type,photo:this.user.photo}]:[]:[this.get_user]}},{key:"get_users_names",get:function(){return 0==this.get_users.length?"Unassigned":1!=this.get_users.length||this.get_users[0]?1==this.get_users.length&&this.get_users[0]?this.get_users[0].name:this.get_users.length>1?this.get_users.filter((function(e){return e})).map((function(e){return Utils.nameAbbreviation(e.name)})).join(", "):void 0:"Unassigned"}},{key:"get_users_ids",get:function(){return 0==this.get_users.length?[]:1!=this.get_users.length||this.get_users[0]?1==this.get_users.length&&this.get_users[0]&&!this.get_users[0].id?[]:1==this.get_users.length&&this.get_users[0]&&this.get_users[0].id?[this.get_users[0].id]:this.get_users.length>1?this.get_users.filter((function(e){return e&&e.id})).map((function(e){return e.id})):void 0:[]}},{key:"get_user",get:function(){var e=this.user;if(this.user){if("standalone"==this.globalstore.user.type){if(this.users&&this.users.length>0)e=this.users[0];else if(!this.user.id)return;var t=this.globalstore.users.get(e.id);t||(t=this.user);var n={};return["email","id","name","owner","photo","type","user_id"].forEach((function(e){n[e]=t[e]})),n}return this.user}if(this.users&&this.users.length>0&&this.users[0]){if("standalone"==this.globalstore.user.type){e=this.users[0];var r=this.globalstore.users.get(e.id);return r||(r=this.user),n={},["email","id","name","owner","photo","type","user_id"].forEach((function(e){n[e]=r[e]})),n}}else if(this.tags&&this.tags.length>0){var a=!1;return this.tags.forEach((function(e){"VU:"!=e.name.split(" ")[0]||a||(a={name:e.name,id:e.id,belongs_to_project:!0,type:"tag"})})),a||""}}},{key:"get_estimated_hours",get:function(){var e=!1;return 0==this.raw_childrens.length?(e=!0,{estimated_hours:this.estimated_hours,estimated_hours_per_user:this.getEstimatedHoursPerUser(this,this.estimated_hours),editable:e}):this.is_project||this.is_priority_heading?(e=!1,{estimated_hours:this.calculated_estimated_hours,estimated_hours_per_user:this.calculated_estimated_hours_per_user,editable:e}):this.start&&this.due?this.calculated_estimated_hours?{estimated_hours:this.calculated_estimated_hours,estimated_hours_per_user:this.calculated_estimated_hours_per_user,editable:!1}:{estimated_hours:this.estimated_hours,estimated_hours_per_user:this.getEstimatedHoursPerUser(this,this.estimated_hours),editable:!0}:{editable:!1,estimated_hours:this.calculated_estimated_hours,estimated_hours_per_user:this.calculated_estimated_hours_per_user}}},{key:"get_actual_hours",get:function(){var e=!1;return 0==this.raw_childrens.length?(e=!0,{actual_hours:this.actual_hours,editable:e}):this.is_project||this.is_priority_heading?(e=!1,{actual_hours:this.calculated_actual_hours,editable:e}):this.start&&this.due?this.calculated_actual_hours?{actual_hours:this.calculated_actual_hours,editable:!1}:{actual_hours:this.actual_hours,editable:!0}:{editable:!1,actual_hours:this.calculated_actual_hours}}},{key:"get_priority",get:function(){return{editable:columns_utils.is_editable(this),priority:this.calculated_priority}}},{key:"get_risk",get:function(){return{editable:columns_utils.is_editable(this),risk:this.calculated_risk}}},{key:"get_estimated_cost",get:function(){return{editable:columns_utils.is_editable(this),estimated_cost:this.calculated_estimated_cost}}},{key:"get_variable_estimated_cost",get:function(){return{editable:!1,estimated_cost:this.calculated_variable_estimated_cost}}},{key:"get_total_estimated_cost",get:function(){return{editable:!1,estimated_cost:this.calculated_total_estimated_cost&&"0"!=this.calculated_total_estimated_cost?this.calculated_total_estimated_cost:""}}},{key:"get_actual_cost",get:function(){return{editable:columns_utils.is_editable(this),actual_cost:this.calculated_actual_cost}}},{key:"get_total_actual_cost",get:function(){return{editable:!1,actual_cost:this.calculated_total_actual_cost}}},{key:"get_variable_actual_cost",get:function(){return{editable:!1,actual_cost:this.calculated_variable_actual_cost}}},{key:"unscheduled_estimated_hours_on_childs",get:function(){var e=this,t=this.raw_childrens_models;if(0==t.length)return 0;var n=0;return t.forEach((function(t){if(t.id!=e.id&&t.get_estimated_hours.estimated_hours&&!t.start&&(!t.container||!t.container.start)){var r=t.get_estimated_hours.estimated_hours?t.get_estimated_hours.estimated_hours:0;n+=Number(r)}})),n}},{key:"unscheduled_estimated_hours_on_childs_per_user",get:function(){var e=this,t=this.raw_childrens_models;if(0==t.length)return 0;var n={};return t.forEach((function(t){if(t.id!=e.id&&t.get_estimated_hours.estimated_hours&&!t.start&&(!t.container||!t.container.start)){var r=t.get_estimated_hours.estimated_hours?e.getEstimatedHoursPerUser(t,t.get_estimated_hours.estimated_hours):e.getEstimatedHoursPerUser(t,0);Object.keys(r).forEach((function(e){var t=r[e];t&&(n[t.id]?n[t.id].hours=n[t.id].hours+Number(t.hours):n[t.id]={hours:Number(t.hours)})})),void 0!==n[0]&&n[0].hours>0&&e.get_users.filter((function(e){return e})).length>0&&(e.get_users.filter((function(e){return e})).forEach((function(t){n[t.id]?n[t.id].hours=parseFloat(parseFloat(n[0].hours/e.get_users.filter((function(e){return e})).length).toFixed(2))+Number(n[t.id].hours):n[t.id]={hours:parseFloat(parseFloat(n[0].hours/e.get_users.filter((function(e){return e})).length).toFixed(2))}})),n[0].hours=0)}})),n}},{key:"calculated_estimated_hours_per_user",get:function(){var e=this,t=this.raw_childrens_models;if(this.is_project&&(t=this.project_direct_childrens),0==t.length)return 0;var n={};return t.forEach((function(t){if(t.id!=e.id){var r=t.get_estimated_hours.estimated_hours?e.getEstimatedHoursPerUser(t,t.get_estimated_hours.estimated_hours):e.getEstimatedHoursPerUser(t,0);Object.keys(r).forEach((function(e){var t=r[e];t&&(n[t.id]?n[t.id].hours=n[t.id].hours+Number(t.hours):n[t.id]={hours:Number(t.hours)})}))}})),n}},{key:"calculated_estimated_hours",get:function(){var e=this,t=this.raw_childrens_models;if(this.is_project&&(t=this.project_direct_childrens),0==t.length)return 0;var n=0;return t.forEach((function(t){if(t.id!=e.id){var r=t.get_estimated_hours.estimated_hours?t.get_estimated_hours.estimated_hours:0;n+=Number(r)}})),n}},{key:"calculated_actual_hours",get:function(){var e=this,t=this.raw_childrens_models;if(this.is_project&&(t=this.project_direct_childrens),0==t.length)return 0;var n=0;return t.forEach((function(t){if(t.id!=e.id){var r=t.get_actual_hours.actual_hours?t.get_actual_hours.actual_hours:0;n+=Number(r)}})),n}},{key:"calculate_weights",get:function(){return this.calculated_weight_items_recursive()}},{key:"calculated_progress",get:function(){var e=this,t=this.raw_childrens_models;if(this.is_project&&(t=this.project_direct_childrens),!0===this.completed)return"100%";if(0==t.length&&!this.completed&&!this.is_priority_heading)return this.progress;this.is_project&&(t=t.filter((function(e){return!(0==e.raw_childrens.length&&e.is_priority_heading)})));var n=0;return t.forEach((function(t){t.id!=e.id&&0!=t.get_estimated_hours.estimated_hours&&""!=t.get_estimated_hours.estimated_hours&&parseFloat(t.get_estimated_hours.estimated_hours)})),t.forEach((function(r){if(r.id!=e.id){var a=(r.calculated_mandays_on_container>0?r.calculated_mandays_on_container:r.calculated_mandays)/e.calculated_mandays;isNaN(a)&&(a=1/t.length),n+=parseInt(r.calculated_progress||0)*a}})),parseInt(Math.round(n))+"%"}},{key:"calculated_mandays",get:function(){var e=this,t=this.raw_childrens_models;if(this.is_project&&(t=this.project_direct_childrens),0==t.length)return this.working_duration;this.is_project&&(t=t.filter((function(e){return!(0==e.raw_childrens.length&&e.is_priority_heading)})));var n=0;return t.forEach((function(t){t.id!=e.id&&(n+=t.calculated_mandays_on_container?t.calculated_mandays_on_container:t.calculated_mandays)})),n}},{key:"calculated_mandays_on_container",get:function(){return this.is_project||this.is_priority_heading?0:this.container&&this.container.start&&this.container.due&&this.start&&this.due?this.due&&this.start&&""!=this.due&&""!=this.start?Utils.workingDaysLength(moment(this.start).toDate(),moment(this.due).toDate(),this.get_users_ids)+1:0:!(this.raw_childrens_count>0)||this.container&&this.container.start?0:this.working_duration}},{key:"calculated_priority",get:function(){var e=this.raw_childrens_models;return this.is_project&&(e=this.project_direct_childrens),0!=e.length||this.is_priority_heading?(this.is_project&&(e=e.filter((function(e){return!(0==e.raw_childrens.length&&e.is_priority_heading)}))),columns_utils.aggregations.average(e,(function(e){return e.calculated_priority}),this.id)):Number(this.priority_user)}},{key:"calculated_risk",get:function(){var e=this.raw_childrens_models;return this.is_project&&(e=this.project_direct_childrens),0!=e.length||this.is_priority_heading?(this.is_project&&(e=e.filter((function(e){return!(0==e.raw_childrens.length&&e.is_priority_heading)}))),columns_utils.aggregations.average(e,(function(e){return e.calculated_risk}),this.id)):Number(this.risk)}},{key:"calculated_estimated_cost",get:function(){var e=this.raw_childrens_models;return this.is_project&&(e=this.project_direct_childrens),0!=e.length||this.is_priority_heading?columns_utils.aggregations.sum(e,(function(e){return e.get_estimated_cost.estimated_cost}),this.id):this.estimated_cost||0}},{key:"calculated_variable_estimated_cost",get:function(){var e=this,t=this.raw_childrens_models;if(this.is_project&&(t=this.project_direct_childrens),0==t.length&&!this.is_priority_heading){if(0==this.get_users.length||1==this.get_users.length&&void 0===this.get_users[0])return 0;if(1==this.get_users.length&&void 0!==this.get_users[0])return this.store.globalstore.projectsettings.getRate(this.get_users[0].id,(this.projects[0]||{}).id)*this.estimated_hours;if(this.get_users.length>1){var n=0;return this.get_users.forEach((function(t){if(t){var r=e.store.globalstore.projectsettings.getRate(t.id,(e.projects[0]||{}).id);n+=r*t.hours}})),n}}return columns_utils.aggregations.sum(t,(function(e){return e.get_variable_estimated_cost.estimated_cost}),this.id)}},{key:"calculated_total_estimated_cost",get:function(){var e=this.raw_childrens_models;return this.is_project&&(e=this.project_direct_childrens),0!=e.length||this.is_priority_heading?columns_utils.aggregations.sum(e,(function(e){return e.get_total_estimated_cost.estimated_cost}),this.id):this.calculated_estimated_cost+this.calculated_variable_estimated_cost}},{key:"calculated_actual_cost",get:function(){var e=this.raw_childrens_models;return this.is_project&&(e=this.project_direct_childrens),0!=e.length||this.is_priority_heading?columns_utils.aggregations.sum(e,(function(e){return e.get_actual_cost.actual_cost}),this.id):this.actual_cost}},{key:"calculated_variable_actual_cost",get:function(){var e=this.raw_childrens_models;return this.is_project&&(e=this.project_direct_childrens),0!=e.length||this.is_priority_heading?columns_utils.aggregations.sum(e,(function(e){return e.get_variable_actual_cost.actual_cost}),this.id):this.actual_hours&&this.estimated_hours?Number(parseFloat(this.calculated_variable_estimated_cost*this.actual_hours/this.estimated_hours).toFixed(2)):0}},{key:"calculated_total_actual_cost",get:function(){var e=this.raw_childrens_models;return this.is_project&&(e=this.project_direct_childrens),0!=e.length||this.is_priority_heading?columns_utils.aggregations.sum(e,(function(e){return e.get_total_actual_cost.actual_cost}),this.id):Number(this.calculated_actual_cost)+Number(this.calculated_variable_actual_cost)}},{key:"get_priority_heading_id",get:function(){if(this.parent&&this.parent.id&&this.parent.id!=this.id&&this.store.get(this.parent.id)){var e=this.store.get(this.parent.id);return e.parent&&e.parent.id==this.id?this.priority_heading_id:e.get_priority_heading_id}return this.priority_heading_id}},{key:"get_parent_priority_heading",get:function(){if(this.globalstore.user&&this.globalstore.user.type&&"standalone"==this.globalstore.user.type){if(this.get_priority_heading_id){var e=this.collection.get(this.get_priority_heading_id);return e?e.priority:0}return 0}if(this.priority_heading_id){var t=this.collection.get(this.priority_heading_id);return t?t.priority:0}return 0}},{key:"comparator",get:function(){var e=this.start,t=this.due;this.container&&(e=this.container.start,t=this.container.due);var n=Utils.leadingZeros(this.priority,15),r=Utils.leadingZeros(this.local_priority,15),a=Utils.leadingZeros(0,15),o=Utils.leadingZeros(this.get_parent_priority_heading,15)||Utils.leadingZeros(0,15);this.globalstore.user&&this.globalstore.user.type&&"standalone"==this.globalstore.user.type&&(o=Utils.leadingZeros(this.get_parent_priority_heading,15)||Utils.leadingZeros(0,15)),!e&&this.completed;var i,s=e?0:1,l=0,c=this.collection.globalstore.projects.selected,u=this.store.sort_options.group_by_priority_heading,d=this.store.sort_options.group_by_project;if(c&&"project"==c.type&&this.store.sort_options.restore_group_by_priority_heading&&(u=!0),c&&"workspace"==c.type&&(u=!1,this.store.sort_options.group_by_project&&this.is_project&&(e?((i=new Date(e.split("-")[0],e.split("-")[1]-1,e.split("-")[2])).setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),a=Utils.leadingZeros(i.getTime(),15)):a=Utils.leadingZeros(0,15)),this.store.sort_options.group_by_project&&!this.is_project&&(h=this.projects||0).length>0&&(l=h[0].id,this.store.get(l)))){var f=this.store.get(l);if(f){var p=f.container.start;p&&((i=new Date(p.split("-")[0],p.split("-")[1]-1,p.split("-")[2])).setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),a=Utils.leadingZeros(i.getTime(),15))}}if(c&&"group"==c.type&&d&&(a=Utils.leadingZeros(this.project_priority,15),(h=this.projects||0).length>0&&(l=h[0].id),this.is_project))return[a,l,0,0,0,0,0];if(u){if(this.is_priority_heading)return[a,l,n,0,0,0,0]}else if(d){var h;if((h=this.projects||0).length>0&&(o=Utils.leadingZeros(h[0].id,15)),this.is_project)return[a,l=this.id,n=Utils.leadingZeros(this.id,15),0,0,0,0]}else o=Utils.leadingZeros(0,15);return this.store.sort_options.sort_by_date?e&&""!=e&&null!=e?(n=0!=r?r:n,(i=new Date(e.split("-")[0],e.split("-")[1]-1,e.split("-")[2])).setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),t&&""!=t&&null!=t||(t=e),moment(t).diff(moment(e),"days"),[a,l,o,0,s,i.getTime(),Utils.leadingZeros(parseInt(100*n),8)]):(n=r,[a,l,o,0,s,0,Utils.leadingZeros(parseInt(100*n),8)]):[a,l,o,0,0,0,Utils.leadingZeros(parseInt(1e3*r),8)]}},{key:"parents",get:function(){if(this.parent){if(this.parent.id&&this.parent.id!=this.id){var e=this.store.get(this.parent.id);return e.parent&&e.parent.id==this.id?[]:e?[this.parent.id].concat(e.parents||[]):[]}return[]}return[]}},{key:"cascaded_parent_models",get:function(){var e=this,t=(this.parents,this.parents.map((function(t){return e.store.get(t)})));t.reverse();var n=t.length>0?t[0]:this;return n.priority_heading_id&&(t=[this.store.get(n.priority_heading_id)].concat(t)),n.projects.length>0&&n.projects[0].id&&this.collection.get(n.projects[0].id)&&(t=[this.collection.get(n.projects[0].id)].concat(t)),this.store.globalstore.projects.selected&&"team"==this.store.globalstore.projects.selected.subtype&&n.projects[0]&&n.projects[0].name&&(t=[{name:n.projects[0].name,id:n.projects[0].id}].concat(t)),t}},{key:"parents_count",get:function(){return this.parents.length}},{key:"raw_childrens",get:function(){return this.is_project?this.collection.relations.projects[this.id]||[]:this.is_priority_heading?this.collection.relations.sections_first_level[this.id]||[]:this.collection.relations&&this.collection.relations.subtasks[this.id]||[]}},{key:"raw_childrens_models",get:function(){var e=this;return this.is_project?(this.collection.relations.projects[this.id]||[]).map((function(t){return e.store.get(t)})):this.is_priority_heading?(this.collection.relations.sections_first_level[this.id]||[]).map((function(t){return e.store.get(t)})):(this.collection.relations.subtasks[this.id]||[]).map((function(t){return e.store.get(t)}))}},{key:"project_direct_childrens",get:function(){var e=this;return this.is_project&&this.collection.relations.projects[this.id]&&this.collection.relations.projects[this.id].map((function(t){return e.store.get(t)})).filter((function(t){return t.is_priority_heading||!t.is_priority_heading&&0==t.priority_heading_id&&""==t.parent||!t.is_priority_heading&&t.priority_heading_id&&""==t.parent&&!e.store.get(t.priority_heading_id)}))||[]}},{key:"raw_childrens_face",get:function(){return this.raw_childrens}},{key:"raw_childrens_count",get:function(){return this.raw_childrens_face.length}},{key:"cascade_raw_childrens",get:function(){var e=this,t=[];return this.raw_childrens.forEach((function(n){var r=e.store.get(n);t.push(r),t=t.concat(r.cascade_raw_childrens)})),t.sort((function(t,n){return e.collection.collection_uncollapsed.indexOf(t)<e.collection.collection_uncollapsed.indexOf(n)?-1:1}))}},{key:"sorted_childrens",get:function(){var e=this;return this.raw_childrens_models.sort((function(t,n){return e.collection.sorted.indexOf(t)-e.collection.sorted.indexOf(n)}))}},{key:"sorted_childrens_count",get:function(){return this.sorted_childrens.length}},{key:"filtered_childrens",get:function(){return this.raw_childrens_models}},{key:"status_class",get:function(){Utils.getDateSafely(this.equivalent_dates.start);var e,t=Utils.getDateSafely(this.equivalent_dates.due),n=new Date;return n.setMinutes(0),n.setHours(0),n.setSeconds(0),n.setMilliseconds(0),e=t.getTime()<n.getTime()?"overdue":"color-ontime",this.color&&(e=this.color),e}},{key:"completion_status_class",get:function(){var e;return"true"!=this.completed&&1!=this.completed||(e="completed"),this.color&&(e=""),e}},{key:"get_tags",get:function(){var e=this,t=[];return(this.tags||[]).forEach((function(n){var r=(0,_mobx.toJS)(n),a=e.store.globalstore.tags.get(r.id);a&&(r.name=a.name),t.push(r)})),t}},{key:"filtered_childrens_count",get:function(){return this.filtered_childrens.length}},{key:"calendar_duration",get:function(){return this.raw_childrens.length>0?this.container.due&&this.container.start&&""!=this.container.due&&""!=this.container.start?Utils.daysDiff(moment(this.container.due),moment(this.container.start))+1:1:this.due&&this.start&&""!=this.due&&""!=this.start?Utils.daysDiff(moment(this.due),moment(this.start))+1:this.duration_cd_fixed?this.duration_cd_fixed:this.duration_wd_fixed?this.duration_wd_fixed:1}},{key:"working_duration",get:function(){return this.store.globalstore.uistate.skip_weekends?this.raw_childrens.length>0?this.container.due&&this.container.start&&""!=this.container.due&&""!=this.container.start?Utils.workingDaysLength(moment(this.container.start).toDate(),moment(this.container.due).toDate(),this.get_users_ids)+1:1:this.due&&this.start&&""!=this.due&&""!=this.start?Utils.workingDaysLength(moment(this.start).toDate(),moment(this.due).toDate(),this.get_users_ids)+1:this.duration_wd_fixed?this.duration_wd_fixed:this.duration_cd_fixed?this.duration_cd_fixed:1:this.calendar_duration}},{key:"working_duration_for_workload",get:function(){var e=this.store.globalstore;return e.uistate.skip_weekends?0==this.raw_childrens.length?this.due&&this.start&&""!=this.due&&""!=this.start?Utils.workingDaysLength(moment(this.start).toDate(),moment(this.due).toDate(),this.get_users_ids)+1:1:this.due&&this.start&&""!=this.due&&""!=this.start?Utils.workingDaysLength(moment(this.start).toDate(),moment(this.due).toDate(),this.get_users_ids)+1:e.uistate.show_parents_on_workload?this.container.due&&this.container.start&&""!=this.container.due&&""!=this.container.start?Utils.workingDaysLength(moment(this.container.start).toDate(),moment(this.container.due).toDate(),this.get_users_ids)+1:1:void 0:this.calendar_duration}},{key:"dependees",get:function(){}},{key:"direct_successors",get:function(){var e=this;return(this.collection.relations.successors[this.id]||[]).map((function(t){return e.store.get(t)})).filter((function(t){var n=t&&-1==t.parents.indexOf(e.id),r=t&&-1==e.parents.indexOf(t.id);return n&&r})).sort((function(e,t){return e.raw_childrens.length>0&&0==t.raw_childrens.length?-1:e.raw_childrens.length>0&&t.raw_childrens.length>0?0:0==e.raw_childrens.length&&t.raw_childrens.length>0?1:void 0}))}},{key:"predecessor_ids",get:function(){var e=this;return("object"!=_typeof(this.dependent_of)?[this.dependent_of]:this.dependent_of).filter((function(e){return e})).filter((function(t){var n=e.store.get(t),r=n&&-1==e.parents.indexOf(n.id),a=n&&-1==e.raw_childrens_models.indexOf(n);return r&&a}))}},{key:"is_completed",get:function get(){return!(!eval(this.completed)&&"100%"!=this.calculated_progress)}},{key:"maxStartWithoutLag",get:function(){var e=this,t=this.store.globalstore.uistate,n=[],r=[];r.push.apply(r,_toConsumableArray(this.direct_successors));var a=this.crawlParentSuccessors();return r.push.apply(r,_toConsumableArray(a.filter((function(t){return-1==r.indexOf(t)&&t.id!=e.id})))),""==this.equivalent_dates.start&&this.parent&&this.parent.id&&this.collection.get(this.parent.id)?this.collection.get(this.parent.id).maxStartWithoutLag:(r.forEach((function(r){if(r.equivalent_dates.start&&!(e.equivalent_dates.start&&r.equivalent_dates.start<e.equivalent_dates.start)){if(r.locked)var a=r.equivalent_dates.start;else a=r.maxStartWithoutLag.date;if(new Date(a).getTime()!=new Date("2100-01-01").getTime()){var o=r.distanceType(e.id)?r.distanceType(e.id):e.getDefaultDistanceType(),i=void 0,s=void 0;if(new Date(e.equivalent_dates.due)<=new Date(r.equivalent_dates.start)){if("slack"==o?i=e.equivalent_dates.due:(i=r.equivalent_dates.start,i=t.skip_weekends?Utils.sumWorkingDays(moment(i).toDate(),-1,r.get_users_ids):moment(i).add("days",-1).toDate()),t.skip_weekends)var l=Utils.workingDaysDifference(moment(i).toDate(),moment(a).toDate(),r.get_users_ids),c=Utils.sumWorkingDays(moment(e.equivalent_dates.start).toDate(),l-1,r.get_users_ids),u=Utils.sumWorkingDays(moment(e.equivalent_dates.due).toDate(),l-1,r.get_users_ids);else l=Math.abs(Utils.daysDiff(moment(i).toDate(),moment(a).toDate())),c=moment(e.equivalent_dates.start).add("days",l-1).toDate(),u=moment(e.equivalent_dates.due).add("days",l-1).toDate();var d=e.metrics(moment(c),moment(u));n.push({boundary:d.initial_margin,due_boundary:d.initial_margin+d.duration,date:c,max_due:u,measure_from:"due",distance_type:r.distanceType(e.id)?r.distanceType(e.id):e.getDefaultDistanceType(),valid:!0})}else new Date(e.equivalent_dates.due)>new Date(r.equivalent_dates.start)&&new Date(e.equivalent_dates.start)<=new Date(r.equivalent_dates.start)?("slack"==o?s=e.equivalent_dates.start:(s=r.equivalent_dates.start,s=t.skip_weekends?Utils.sumWorkingDays(moment(s).toDate(),-1,r.get_users_ids):moment(s).add("days",-1).toDate()),t.skip_weekends?(l=Math.abs(Utils.workingDaysDifference(moment(s).toDate(),moment(a).toDate(),r.get_users_ids)),c=Utils.sumWorkingDays(moment(e.equivalent_dates.start).toDate(),l,r.get_users_ids)):(l=Utils.daysDiff(moment(s).toDate(),moment(a).toDate()),c=moment(e.equivalent_dates.start).add("days",l).toDate()),d=e.metrics(moment(c),moment(c)),n.push({boundary:d.initial_margin,date:c,measure_from:"start",distance_type:r.distanceType(e.id)?r.distanceType(e.id):e.getDefaultDistanceType(),valid:!0,max_due:new Date("2100-01-01")})):e.equivalent_dates.start&&n.push({date:new Date("2100-01-01"),boundary:1e17,measure_from:"due",distance_type:"slack",valid:!1,max_due:new Date("2100-01-01")})}}})),0==n.length&&n.push({date:new Date("2100-01-01"),boundary:1e17,measure_from:"due",distance_type:"slack",valid:!1,max_due:new Date("2100-01-01")}),_.min(n,(function(e){return e.date})))}},{key:"successor_constraint",get:function(){var e=this,t=[];return this.direct_successors.forEach((function(n){if(n.locked){var r=void 0,a="due",o=e.calculated_temporal_container&&e.calculated_temporal_container.start?e.calculated_temporal_container.start:e.start,i=(e.calculated_temporal_container&&e.calculated_temporal_container.due?e.calculated_temporal_container.due:e.due,n.calculated_temporal_container&&n.calculated_temporal_container.start?n.calculated_temporal_container.start:n.start),s=n.calculated_temporal_container&&n.calculated_temporal_container.due?n.calculated_temporal_container.due:n.due,l=n.metrics(moment(i),moment(s)),c=e.start,u=e.due,d=n.start;if(n.due,new Date(u)<=new Date(d)){var f=l.initial_margin+e.store.globalstore.uistate.column_width;r=moment(i).add("days",1).format("YYYY-MM-DD"),a="due"}else new Date(u)>new Date(d)&&new Date(c)<=new Date(d)?(f=l.initial_margin+e.store.globalstore.uistate.column_width,r=moment(i).add("days",1).format("YYYY-MM-DD"),a="start"):f=0;if(7==e.store.globalstore.uistate.column_length&&0!=parent_left_boundary){var p=new Date(o).getDay();p=0==p?7:p;var h=new Date(i).getDay();(h=0==h?7:h)>p&&(f+=e.store.globalstore.uistate.column_length)}t.push({boundary:f,measure_from:a,constraint_date:r})}})),0==t.length?{boundary:1e16,measure_from:0,constraint_date:"2100-01-01"}:_.min(parents,(function(e){return e.boundary}))}},{key:"changed_history",get:function(){var e=this,t=this.collection.globalstore,n=(0,_mobxUtils.expr)((function(){return"standalone"==t.user.type&&t.uistate.logs_visible&&t.logs&&void 0!==t.logs.filtered_by_task[e.id]})),r=[];if(n){var a=t.logs.filtered_by_task[this.id],o=a.changes.map((function(e){return e.type})),i=-1!=o.indexOf("deleted")?"deleted":-1!=o.indexOf("created")?"created":"changed";return"changed"==i?(a.changes.forEach((function(e){Object.keys(e.changes).forEach((function(e){-1==r.indexOf(e)&&r.push(e)}))})),{type:"changed",changed_attributes:r}):{type:i}}return!1}},{key:"defaults",get:function(){return TaskModel.defaults()}},{key:"is_unread",get:function(){return this.last_change>(this.last_read[this.collection.globalstore.user.id]||0)&&-1!=this.followers.indexOf(this.globalstore.user.id)}},{key:"thumbnail",get:function(){var e=void 0;return(this.files||[]).forEach((function(t){var n=t.path.split(".")[t.path.split(".").length-1];-1!=["jpg","JPG","jpeg","JPEG","png","PNG"].indexOf(n)&&(e=t)})),!!e&&"/files/"+e.path+"?thumbnail=true"}},{key:"equivalent_dates",get:function(){return{start:this.container&&this.container.start?this.container.start:this.start?this.start:"",due:this.container&&this.container.due?this.container.due:this.due?this.due:""}}}],[{key:"duplicationAttributes",value:function(e){var t=e.user&&"tag"!=e.user.type?e.user.id:"null";return _defineProperty({name:e.name,due:e.due,start:e.start,tags:e.tags.slice(),projects:e.projects,assignee:t,user:e.user,users:e.users,is_milestone:e.is_milestone,color:e.color,progress:"",dependent_of:e.dependent_of,notes:e.notes,estimated_hours:e.estimated_hours,estimated_cost:e.estimated_cost,actual_hours:e.actual_hours,actual_cost:e.actual_cost,priority_user:e.priority_user,risk:e.risk},"progress",e.progress)}},{key:"fromJS",value:function(e){return delete e.childs,delete e.container,delete e.parents,e=_.extend(TaskModel.defaults(),e),new TaskModel(e)}},{key:"defaults",value:function(){return{id:"",name:"",completed:!1,start:"",due:"",subtasks:0,parent:"",color:"",progress:"0%",estimated_hours:"",actual_hours:"",priority_user:"",risk:"",estimated_cost:"",actual_cost:"",notes:"",tags:[],projects:[],files:[],followers:[],dependent_of:"",is_project:!1,is_priority_heading:!1,user:"",assignee:!1,priority:0,local_priority:0,parent_priority_heading:0,priority_heading_id:0,is_milestone:!1,previous_dates:!1,project_priority:0,locked:!1,users:[],last_change:!1,last_read:{},workbook_id:"",project_id:"",last_changed_by:!1,duration_wd_fixed:"",custom_fields:{},custom_priority:{},distance_type:{}}}}]),TaskModel}(_modelBase2.default),_descriptor=_applyDecoratedDescriptor(_class.prototype,"id",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"name",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"completed",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,"start",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor5=_applyDecoratedDescriptor(_class.prototype,"due",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor6=_applyDecoratedDescriptor(_class.prototype,"subtasks",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor7=_applyDecoratedDescriptor(_class.prototype,"parent",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor8=_applyDecoratedDescriptor(_class.prototype,"color",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor9=_applyDecoratedDescriptor(_class.prototype,"progress",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor10=_applyDecoratedDescriptor(_class.prototype,"estimated_hours",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor11=_applyDecoratedDescriptor(_class.prototype,"actual_hours",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor12=_applyDecoratedDescriptor(_class.prototype,"priority_user",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor13=_applyDecoratedDescriptor(_class.prototype,"risk",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor14=_applyDecoratedDescriptor(_class.prototype,"estimated_cost",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor15=_applyDecoratedDescriptor(_class.prototype,"actual_cost",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor16=_applyDecoratedDescriptor(_class.prototype,"notes",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor17=_applyDecoratedDescriptor(_class.prototype,"tags",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor18=_applyDecoratedDescriptor(_class.prototype,"followers",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor19=_applyDecoratedDescriptor(_class.prototype,"projects",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor20=_applyDecoratedDescriptor(_class.prototype,"is_project",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor21=_applyDecoratedDescriptor(_class.prototype,"is_priority_heading",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor22=_applyDecoratedDescriptor(_class.prototype,"dependent_of",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor23=_applyDecoratedDescriptor(_class.prototype,"user",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor24=_applyDecoratedDescriptor(_class.prototype,"duration_cd_fixed",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor25=_applyDecoratedDescriptor(_class.prototype,"duration_wd_fixed",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor26=_applyDecoratedDescriptor(_class.prototype,"assignee",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor27=_applyDecoratedDescriptor(_class.prototype,"priority",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor28=_applyDecoratedDescriptor(_class.prototype,"local_priority",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor29=_applyDecoratedDescriptor(_class.prototype,"parent_priority_heading",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor30=_applyDecoratedDescriptor(_class.prototype,"priority_heading_id",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor31=_applyDecoratedDescriptor(_class.prototype,"is_milestone",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor32=_applyDecoratedDescriptor(_class.prototype,"temporal",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor33=_applyDecoratedDescriptor(_class.prototype,"temporal_container",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor34=_applyDecoratedDescriptor(_class.prototype,"simulated",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor35=_applyDecoratedDescriptor(_class.prototype,"previous_dates",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor36=_applyDecoratedDescriptor(_class.prototype,"project_priority",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor37=_applyDecoratedDescriptor(_class.prototype,"drawing_dependency",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor38=_applyDecoratedDescriptor(_class.prototype,"locked",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor39=_applyDecoratedDescriptor(_class.prototype,"collapsed",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor40=_applyDecoratedDescriptor(_class.prototype,"selected",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor41=_applyDecoratedDescriptor(_class.prototype,"multiple_options",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor42=_applyDecoratedDescriptor(_class.prototype,"completed_at",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor43=_applyDecoratedDescriptor(_class.prototype,"last_change",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor44=_applyDecoratedDescriptor(_class.prototype,"last_changed_by",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor45=_applyDecoratedDescriptor(_class.prototype,"created_at",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor46=_applyDecoratedDescriptor(_class.prototype,"files",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor47=_applyDecoratedDescriptor(_class.prototype,"users",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor48=_applyDecoratedDescriptor(_class.prototype,"last_read",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor49=_applyDecoratedDescriptor(_class.prototype,"workbook_id",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor50=_applyDecoratedDescriptor(_class.prototype,"project_id",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor51=_applyDecoratedDescriptor(_class.prototype,"previous_last_read",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor52=_applyDecoratedDescriptor(_class.prototype,"custom_fields",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor53=_applyDecoratedDescriptor(_class.prototype,"custom_priority",[_dec],{enumerable:!0,initializer:null}),_descriptor54=_applyDecoratedDescriptor(_class.prototype,"distance_type",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor55=_applyDecoratedDescriptor(_class.prototype,"placeholder",[_mobx.observable],{enumerable:!0,initializer:null}),_descriptor56=_applyDecoratedDescriptor(_class.prototype,"previous_container_dates",[_mobx.observable],{enumerable:!0,initializer:function(){return{start:"",due:""}}}),_descriptor57=_applyDecoratedDescriptor(_class.prototype,"previous_temporal",[_mobx.observable],{enumerable:!0,initializer:function(){return{start:"",due:""}}}),_descriptor58=_applyDecoratedDescriptor(_class.prototype,"skip_reaction_to_push_childs",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_applyDecoratedDescriptor(_class.prototype,"container",[_dec2],Object.getOwnPropertyDescriptor(_class.prototype,"container"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_temporal_container",[_dec3],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_temporal_container"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_users",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_users"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_users_names",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_users_names"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_users_ids",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_users_ids"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_user",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_user"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_estimated_hours",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_estimated_hours"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_actual_hours",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_actual_hours"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_priority",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_priority"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_risk",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_risk"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_estimated_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_estimated_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_variable_estimated_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_variable_estimated_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_total_estimated_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_total_estimated_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_actual_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_actual_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_total_actual_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_total_actual_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_variable_actual_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_variable_actual_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unscheduled_estimated_hours_on_childs",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"unscheduled_estimated_hours_on_childs"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_estimated_hours_per_user",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_estimated_hours_per_user"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_estimated_hours",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_estimated_hours"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_actual_hours",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_actual_hours"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculate_weights",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculate_weights"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_progress",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_progress"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_mandays",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_mandays"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_mandays_on_container",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_mandays_on_container"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_priority",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_priority"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_risk",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_risk"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_estimated_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_estimated_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_variable_estimated_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_variable_estimated_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_total_estimated_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_total_estimated_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_actual_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_actual_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_variable_actual_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_variable_actual_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculated_total_actual_cost",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calculated_total_actual_cost"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_priority_heading_id",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_priority_heading_id"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_parent_priority_heading",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_parent_priority_heading"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"comparator",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"comparator"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"parents",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"parents"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"cascaded_parent_models",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"cascaded_parent_models"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"parents_count",[_dec4],Object.getOwnPropertyDescriptor(_class.prototype,"parents_count"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"raw_childrens",[_dec5],Object.getOwnPropertyDescriptor(_class.prototype,"raw_childrens"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"raw_childrens_models",[_dec6],Object.getOwnPropertyDescriptor(_class.prototype,"raw_childrens_models"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"project_direct_childrens",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"project_direct_childrens"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"raw_childrens_face",[_dec7],Object.getOwnPropertyDescriptor(_class.prototype,"raw_childrens_face"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"raw_childrens_count",[_dec8],Object.getOwnPropertyDescriptor(_class.prototype,"raw_childrens_count"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"cascade_raw_childrens",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"cascade_raw_childrens"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sorted_childrens",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"sorted_childrens"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sorted_childrens_count",[_dec9],Object.getOwnPropertyDescriptor(_class.prototype,"sorted_childrens_count"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"filtered_childrens",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"filtered_childrens"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"status_class",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"status_class"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"completion_status_class",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"completion_status_class"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"get_tags",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"get_tags"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"filtered_childrens_count",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"filtered_childrens_count"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calendar_duration",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"calendar_duration"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"working_duration",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"working_duration"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"working_duration_for_workload",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"working_duration_for_workload"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"dependees",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"dependees"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"direct_successors",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"direct_successors"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"predecessor_ids",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"predecessor_ids"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"is_completed",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"is_completed"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"maxStartWithoutLag",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"maxStartWithoutLag"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"successor_constraint",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"successor_constraint"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"moveChildsOf",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"moveChildsOf"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"moveDependentChilds",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"moveDependentChilds"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"mockPreviousContainerDates",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"mockPreviousContainerDates"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"removeDates",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"removeDates"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"saveChangeDates",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"saveChangeDates"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"changed_history",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"changed_history"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setDependent",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"setDependent"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updatePredecessorDistance",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"updatePredecessorDistance"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateDurationWd",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"updateDurationWd"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculateUpdateDurationWd",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"calculateUpdateDurationWd"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"scheduleSuccessors",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"scheduleSuccessors"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculateFixedDatesOnContainer",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"calculateFixedDatesOnContainer"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"is_unread",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"is_unread"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"thumbnail",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"thumbnail"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"equivalent_dates",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"equivalent_dates"),_class.prototype),_class);exports.default=TaskModel},,,function(e,t){var n,r,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e.users,n=e.size,s=e.non_photo_style,l=e.container_margin;return l=void 0!==l?l:"-10px",a.default.createElement("div",{style:{justifyContent:"center"}},t.map((function(e){return a.default.createElement("div",{className:i.default.avatar_container},e?void 0!==e.photo&&e.photo&&e.photo.image_60x60?a.default.createElement("a",r({href:"javascript:void(0)",className:"tooltip-handler"},{"data-toggle":"tooltip"},{"data-placement":"top"},{title:e.name}),a.default.createElement("img",{src:e.photo.image_60x60,className:n?"":"assigned-photo",style:{width:n||"",height:n||"",borderRadius:n||""}})):a.default.createElement("a",r({href:"javascript:void(0)",className:"tooltip-handler"},{"data-toggle":"tooltip"},{"data-placement":"top"},{title:e.name}),a.default.createElement("div",{className:"non-photo",style:r({},s,{width:n||"",height:n||"",borderRadius:n||""})}," ",o.nameAbbreviation(e.name)," ")):a.default.createElement("div",{className:"unassigned-photo"},a.default.createElement("i",{className:"fa fa-user"})))})))};var a=s(n(0)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),i=s(n(473));function s(e){return e&&e.__esModule?e:{default:e}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_class,_desc,_value,_class2,_descriptor,_descriptor2,_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_mobxReact=__webpack_require__(6),_mobx=__webpack_require__(3),_mobxUtils=__webpack_require__(55),_utils=__webpack_require__(9),Utils=_interopRequireWildcard(_utils),_cell=__webpack_require__(279),_cell2=_interopRequireDefault(_cell),_counter=__webpack_require__(510),_counter2=_interopRequireDefault(_counter),_priority_options=__webpack_require__(109),_priority_options2=_interopRequireDefault(_priority_options),_risk_options=__webpack_require__(110),_risk_options2=_interopRequireDefault(_risk_options),_progress=__webpack_require__(511),_progress2=_interopRequireDefault(_progress),_avatars=__webpack_require__(149),_avatars2=_interopRequireDefault(_avatars),_popup=__webpack_require__(95),_popup2=_interopRequireDefault(_popup),_listitem=__webpack_require__(512),_listitem2=_interopRequireDefault(_listitem),_reactTippy=__webpack_require__(63),_custom_fields_options=__webpack_require__(96),_custom_fields_options2=_interopRequireDefault(_custom_fields_options);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _applyDecoratedDescriptor(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}var ListItem=(0,_mobxReact.observer)((_class2=function(_Component){function ListItem(e){_classCallCheck(this,ListItem);var t=_possibleConstructorReturn(this,(ListItem.__proto__||Object.getPrototypeOf(ListItem)).call(this,e));return _initDefineProp(t,"add_task_handler_state",_descriptor,t),_initDefineProp(t,"rendered_full",_descriptor2,t),t.reactions=[],t.store=t.props.store,t.addTaskHandler=t.addTaskHandler.bind(t),t.addSectionHandler=t.addSectionHandler.bind(t),t.handleToggle=t.handleToggle.bind(t),t.open=t.open.bind(t),t.newSiblingTask=t.newSiblingTask.bind(t),t.createSibling=t.createSibling.bind(t),t.dismissSibling=t.dismissSibling.bind(t),t.handleSiblingKeyDown=t.handleSiblingKeyDown.bind(t),t.toggleCompleted=t.toggleCompleted.bind(t),t.onMouseOver=t.onMouseOver.bind(t),t.onMouseOut=t.onMouseOut.bind(t),t.sortSections=t.sortSections.bind(t),t.addTaskHandlerCreate=t.addTaskHandlerCreate.bind(t),t.addSectionHandlerCreate=t.addSectionHandlerCreate.bind(t),t.reactions.push((0,_mobx.reaction)((function(){return t.props.task.store.globalstore.uistate.scrolling}),(function(){t.props.task.store.globalstore.uistate.scrolling||t.rendered_full||(t.rendered_full=!0)}))),t.props.task.store.globalstore.uistate.scrolling||(t.rendered_full=!0),t}return _inherits(ListItem,_Component),_createClass(ListItem,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){this.props.task.store.globalstore.uistate.scrolling||(this.rendered_full=!0)}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"sortSections",value:function(){var e=this.props.task,t=this.props.task.store.globalstore;t.uistate.current_modal_options=e,t.uistate.current_modal="SORT_SECTIONS"}},{key:"toggleCompleted",value:function toggleCompleted(ev){ev.stopPropagation(),ev.preventDefault();var store=this.props.task.store.globalstore;if("offline"!=store.mode){var task=this.props.task;eval(task.completed)?task.save({completed:Utils.getCompletedFalse(),progress:"0%",completed_at:null}):task.save({completed:!0,progress:"100%",completed_at:moment().format("YYYY-MM-DD")})}}},{key:"newSiblingTask",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2];e&&(e.preventDefault(),e.stopPropagation());var r=this.props.task,a=this.props.task.store.globalstore;r.sorted_childrens,n||(n=r),a.tasks.newSiblingTask(t,n)}},{key:"open",value:function(e){var t=this.props.task,n=this.props.task.store.globalstore,r=n.uistate;if(!r.task_editing_cell&&!t.placeholder)if(r.toggleScreenResolution(),r.task_editing_cell=!1,r.task_details_open=!0,r.new_sibling_task=!1,n.tasks.selected_stack=[],t.selected)n.tasks.selected.forEach((function(e){return e.selected=!1})),t.selected=!1,r.task_details_open=!1;else if(e.shiftKey){var a=n.tasks.selected[n.tasks.selected.length-1],o=n.tasks.filtered.indexOf(a),i=n.tasks.filtered.indexOf(t);t.selected=!0;var s=o<=i?o:i,l=o<=i?i:o;console.log("selecting",s,l);for(var c=s;c<=l;c++){var u=n.tasks.filtered[c];u&&(u.is_priority_heading||u.is_new_task_handler||u.is_project)||(u.selected=!0)}document.getSelection().removeAllRanges()}else e.shiftKey||!e.ctrlKey&&!e.metaKey?(n.tasks.selected.forEach((function(e){return e.selected=!1})),t.selected=!0):t.selected=!0}},{key:"sortHandler",value:function(){var e=this.props.task,t=!(!e.collection.globalstore.projects.selected||"workspace"==e.collection.globalstore.projects.selected.type||"team"==e.collection.globalstore.projects.selected.subtype||"offline"==e.collection.globalstore.mode);if(e.collection.globalstore.projects.selected&&!e.is_priority_heading){if(0==e.parents_count){if(0!=e.sorted_childrens_count)return _react2.default.createElement("div",{className:"left-action left-action-show-always"},t&&_react2.default.createElement("a",{className:"sort-handler"},_react2.default.createElement("i",{className:"fa fa-bars"})),_react2.default.createElement("a",{className:"toggle-subtasks",onClick:this.handleToggle},_react2.default.createElement("i",{className:e.collapsed?"fas fa-plus-square":"fas fa-minus-square"})));if(0==e.parents_count&&t)return _react2.default.createElement("div",{className:"left-action"},_react2.default.createElement("a",{className:"sort-handler sort-handler-right"},_react2.default.createElement("i",{className:"fa fa-bars"})))}if(e.parents_count>0){if(e.sorted_childrens_count>0)return _react2.default.createElement("div",{className:"left-action left-action-show-always"},t&&_react2.default.createElement("a",{className:"sort-handler"},_react2.default.createElement("i",{className:"fa fa-bars"})),_react2.default.createElement("a",{className:"toggle-subtasks",onClick:this.handleToggle},_react2.default.createElement("i",{className:e.collapsed?"fas fa-plus-square":"fas fa-minus-square"})));if(t)return _react2.default.createElement("div",{className:"left-action"},_react2.default.createElement("a",{className:"sort-handler sort-handler-right"},_react2.default.createElement("i",{className:"fa fa-bars"})))}}}},{key:"renderSection",value:function(e){var t=this.props.task.store.globalstore,n=(!t.user||!t.user.type||t.user.type,t.uistate.visible_columns);return"table"==t.uistate.active_view&&(n=t.uistate.active_columns),_react2.default.createElement("div",{style:{display:"flex",flexGrow:1}},_react2.default.createElement("div",{className:"cell pull-right cell-osx-firefox-fix"}),_react2.default.createElement(_cell2.default,{style:{width:t.uistate.get_column_width(t.uistate.columns.name)+40+"px"},task:e,className:"cell cell-name cell-no-padding inspectlet-sensitive","data-attribute":"name","data-type":"text",onClick:this.open},_react2.default.createElement("div",{className:"left-action left-action-show-always"},_react2.default.createElement("a",{className:"section-sort-handler",onMouseDown:this.sortSections},_react2.default.createElement("i",{className:"fa fa-bars"})),_react2.default.createElement("a",{className:"toggle-subtasks",onClick:this.handleToggle},e.collapsed?_react2.default.createElement("i",{className:"fas fa-plus-square"}):_react2.default.createElement("i",{className:"fas fa-minus-square"}))),(!e.id||0==e.id)&&_react2.default.createElement("img",{className:"list-loader",src:"/img/loading-white.gif"}),e.store.is_group&&e.projects[0]&&e.projects[0].name&&" - ",_react2.default.createElement("div",{className:"inner-text"},e.name)),_react2.default.createElement("div",{style:{width:t.uistate.get_column_width(t.uistate.columns.name)+"px"},className:"cell","data-cell-name-structure":"true"}),_react2.default.createElement("div",{style:{display:"flex"},className:"task-list-other-columns"},e.collapsed&&e.raw_childrens_count>0&&_react2.default.createElement(_cell2.default,{task:e,className:"cell cell-subtasks",style:{width:t.uistate.get_column_width(t.uistate.columns.subtasks)+"px"}},_react2.default.createElement("i",{className:"fa fa-list-ul"})," ",e.raw_childrens_count),!(e.collapsed&&e.raw_childrens_count>0)&&_react2.default.createElement(_cell2.default,{task:e,className:"cell cell-subtasks",style:{width:t.uistate.get_column_width(t.uistate.columns.subtasks)+"px"}},_react2.default.createElement("i",{className:"fa fa-list-ul"})," ",e.raw_childrens_count),_react2.default.createElement(_cell2.default,{task:e,value:e.get_user&&e.get_user.name?e.get_user.name:"",className:"cell pull-right cell-assignee",style:{width:t.uistate.get_column_width(t.uistate.columns.assignee)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:null,className:"cell  cell-tags","data-attribute":"tags","data-type":"tags",style:{width:t.uistate.get_column_width(t.uistate.columns.tags)+"px"}},1==e.get_tags.length&&_react2.default.createElement("span",{className:["sglclick cell-editable label",_listitem2.default.tag_label].join(" ")},e.get_tags[0].name),e.get_tags.length>1&&e.get_tags.map((function(e){return _react2.default.createElement("span",{className:["sglclick cell-editable label",_listitem2.default.tag_label].join(" ")},"..",e.name.split(" ").length>1?e.name.split(" ").map((function(e){return e[0]})):e.name[0]+e.name[1],"..")}))),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_estimated_hours.estimated_hours?e.get_estimated_hours.estimated_hours+"h":"-",className:"cell pull-right cell-estimatedhours",style:{width:t.uistate.get_column_width(t.uistate.columns.estimatedhours)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_actual_hours.actual_hours?e.get_actual_hours.actual_hours+"h":"-",className:"cell pull-right cell-actualhours",style:{width:t.uistate.get_column_width(t.uistate.columns.actualhours)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_total_estimated_cost.estimated_cost?(t.projectsettings.getSetting("currency",(e.projects[0]||{}).id)||"$")+Number(e.get_total_estimated_cost.estimated_cost).money(2,3,".",","):"-",style:{width:t.uistate.get_column_width(t.uistate.columns.estimatedcost)+"px"},className:"cell pull-right cell-estimatedcost "}),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_total_actual_cost.actual_cost?(t.projectsettings.getSetting("currency",(e.projects[0]||{}).id)||"$")+Number(e.get_total_actual_cost.actual_cost).money(2,3,".",","):"-",className:"cell pull-right cell-actualcost",style:{width:t.uistate.get_column_width(t.uistate.columns.actualcost)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:e.container.due&&e.container.start?moment(e.container.start).format("DD/MMM"):"",className:"cell pull-right cell-start",style:{width:t.uistate.get_column_width(t.uistate.columns.start)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:e.working_duration+"d",className:"cell pull-right cell-workingdaysduration ",style:{width:t.uistate.get_column_width(t.uistate.columns.workingdaysduration)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:e.calendar_duration+"d",className:"cell pull-right cell-duration ",style:{width:t.uistate.get_column_width(t.uistate.columns.duration)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:e.container.due&&e.container.start?moment(e.container.due).format("DD/MMM"):"",className:"cell pull-right cell-due",style:{width:t.uistate.get_column_width(t.uistate.columns.due)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_priority.priority?e.get_priority.priority:"-",className:"cell pull-right cell-priority","data-type":"dropdown",options:_priority_options2.default,style:{width:t.uistate.get_column_width(t.uistate.columns.priority)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_risk.risk?e.get_risk.risk:"-",className:"cell pull-right cell-risk","data-type":"dropdown",options:_risk_options2.default,style:{width:t.uistate.get_column_width(t.uistate.columns.risk)+"px"}}),_react2.default.createElement("div",{className:"cell pull-right cell-dependencies",style:{width:t.uistate.get_column_width(t.uistate.columns.dependencies)+"px"}}),n.map((function(n){return _react2.default.createElement(_cell2.default,_extends({task:e,cf:n,value:e.decorateCustomField(n,e.calculatedCustomField(n.id)),className:"cell cell-cf","data-attribute":n.id,style:{width:t.uistate.get_column_width(n)+"px"}},"dropdown"!=n.type&&0!=e.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))})),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.calculated_progress?e.calculated_progress:"0%",className:"cell pull-right cell-percentage",template:_progress2.default,style:{width:t.uistate.get_column_width(t.uistate.columns.progress)+"px"}}),_react2.default.createElement("div",{className:"cell cell-photo pull-right",style:{width:"35px"}})))}},{key:"renderProjectHeader",value:function(e){var t=this.props.task.store.globalstore,n=t.uistate.visible_columns;return"table"==t.uistate.active_view&&(n=t.uistate.active_columns),_react2.default.createElement("div",{style:{display:"flex",flexGrow:1}},_react2.default.createElement("div",{className:"cell pull-right cell-osx-firefox-fix"}),_react2.default.createElement("div",{style:{width:t.uistate.get_column_width(t.uistate.columns.name)+40+"px"},className:"cell cell-name cell-no-padding inspectlet-sensitive"},_react2.default.createElement("div",{className:"left-action left-action-show-always"},_react2.default.createElement("div",{className:"collapser",onClick:this.handleToggle},e.collapsed?_react2.default.createElement("i",{className:"far fa-folder"}):_react2.default.createElement("i",{className:"far fa-folder-open"}))),_react2.default.createElement("div",{className:"inner-text"},e.name)),_react2.default.createElement("div",{style:{width:t.uistate.get_column_width(t.uistate.columns.name)+"px"},className:"cell","data-cell-name-structure":"true"}),_react2.default.createElement("div",{style:{display:"flex"},className:"task-list-other-columns"},_react2.default.createElement("div",{className:"cell pull-right cell-subtasks",style:{width:t.uistate.get_column_width(t.uistate.columns.subtasks)+"px"}}),_react2.default.createElement("div",{className:"cell pull-right cell-assignee",style:{width:t.uistate.get_column_width(t.uistate.columns.assignee)+"px"}}),_react2.default.createElement("div",{className:"cell pull-right cell-tags",style:{width:t.uistate.get_column_width(t.uistate.columns.tags)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_estimated_hours.estimated_hours?e.get_estimated_hours.estimated_hours+"h":"-",className:"cell pull-right cell-estimatedhours",style:{width:t.uistate.get_column_width(t.uistate.columns.estimatedhours)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_actual_hours.actual_hours?e.get_actual_hours.actual_hours+"h":"-",className:"cell pull-right cell-actualhours",style:{width:t.uistate.get_column_width(t.uistate.columns.actualhours)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_total_estimated_cost.estimated_cost?(t.projectsettings.getSetting("currency",(e.projects[0]||{}).id)||"$")+Number(e.get_total_estimated_cost.estimated_cost).money(2,3,".",","):"-",className:"cell pull-right cell-estimatedcost",style:{width:t.uistate.get_column_width(t.uistate.columns.estimatedcost)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_total_actual_cost.actual_cost?(t.projectsettings.getSetting("currency",(e.projects[0]||{}).id)||"$")+Number(e.get_total_actual_cost.actual_cost).money(2,3,".",","):"-",className:"cell pull-right cell-actualcost",style:{width:t.uistate.get_column_width(t.uistate.columns.actualcost)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:e.container.due&&""!=e.container.due&&e.container.start&&""!=e.container.start?moment(e.container.start).format("DD/MMM"):"",className:"cell pull-right cell-start",style:{width:t.uistate.get_column_width(t.uistate.columns.start)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:e.working_duration+"d",className:"cell pull-right cell-workingdaysduration ",style:{width:t.uistate.get_column_width(t.uistate.columns.workingdaysduration)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:e.calendar_duration+"d",className:"cell pull-right cell-duration ",style:{width:t.uistate.get_column_width(t.uistate.columns.duration)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:e.container.due&&""!=e.container.due&&e.container.start&&""!=e.container.start&&moment(e.container.due)?moment(e.container.due).format("DD/MMM"):"",className:"cell pull-right cell-due",style:{width:t.uistate.get_column_width(t.uistate.columns.due)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_priority.priority?e.get_priority.priority:"-",className:"cell pull-right cell-priority","data-type":"dropdown",options:_priority_options2.default,style:{width:t.uistate.get_column_width(t.uistate.columns.priority)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.get_risk.risk?e.get_risk.risk:"-",className:"cell pull-right cell-risk","data-type":"dropdown",options:_risk_options2.default,style:{width:t.uistate.get_column_width(t.uistate.columns.risk)+"px"}}),_react2.default.createElement("div",{className:"cell pull-right cell-dependencies",style:{width:t.uistate.get_column_width(t.uistate.columns.dependencies)+"px"}}),n.map((function(n){return _react2.default.createElement(_cell2.default,_extends({task:e,cf:n,value:e.decorateCustomField(n,e.calculatedCustomField(n.id)),className:"cell cell-cf",style:{width:t.uistate.get_column_width(n)+"px"}},"dropdown"!=n.type&&0!=e.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))})),_react2.default.createElement(_cell2.default,{task:e,value:""!=e.calculated_progress?e.calculated_progress:"0%",className:"cell pull-right cell-percentage",template:_progress2.default,style:{width:t.uistate.get_column_width(t.uistate.columns.progress)+"px"}}),_react2.default.createElement("div",{className:"cell cell-photo pull-right",style:{width:"35px"}})))}},{key:"renderAddHandler",value:function(e){var t=this,n=!1,r=this.props.task.store.globalstore;return!r.user||!r.user.type||r.user.type,r.tasks.filtered_ids.length<=2&&(n=!1),"offline"==r.mode?null:n&&!this.add_task_handler_state?_react2.default.createElement("div",null,_react2.default.createElement("div",{className:["cell",_listitem2.default.overflow_visible,e.priority_heading_id?"add-task-section-"+e.priority_heading_id:0].join(" "),style:{color:"#AAA",textAlign:"left"}},_react2.default.createElement("div",null,_react2.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return t.add_task_handler_state="task"},className:[_listitem2.default.add_handler_button,r.uistate.is_mobile?_listitem2.default.mobile:""].join(" "),style:{lineHeight:"20px",height:"auto",fontSize:"12px"}},_react2.default.createElement("i",{className:"fas fa-plus"}),"  New task"),0==r.tasks.filters.tags.length&&_react2.default.createElement("a",_defineProperty({href:"javascript:void(0);",style:{marginLeft:"-5px"},className:[_listitem2.default.add_section_handler_button,r.uistate.is_mobile?_listitem2.default.mobile:""].join(" "),onClick:function(){return t.add_task_handler_state="section"}},"style",{lineHeight:"20px",height:"auto",fontSize:"12px"}),_react2.default.createElement("i",{className:"fas fa-plus"}),"  New section")))):this.add_task_handler_state?"task"==this.add_task_handler_state?r.uistate.is_mobile?_react2.default.createElement(_popup2.default,{title:"New task",onClose:function(){return t.add_task_handler_state=!1}},_react2.default.createElement("div",{style:{display:"flex"}},_react2.default.createElement("div",{style:{flexGrow:1,marginRight:"10px"}},_react2.default.createElement("input",{ref:function(e){return t.new_input_ref=e},type:"text",style:{width:"100%",marginLeft:"0px",fontSize:"12px",height:r.uistate.is_mobile?"inherit":"",boxSizing:"border-box"},className:"",autoFocus:!0,placeholder:"Create a new task...",onKeyUp:this.addTaskHandler})),_react2.default.createElement("div",null,_react2.default.createElement("button",{className:"btn btn-success btn-flat",onClick:this.addTaskHandlerCreate},"Create")))):_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_cell2.default,{style:{width:"100%",marginLeft:"-5px",borderRight:0},task:e,className:"cell cell-name inspectlet-sensitive",title:e.name,"data-attribute":"name","data-type":"text"},_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:"inner-text",style:{flexGrow:1}},_react2.default.createElement("input",{ref:function(e){return t.new_input_ref=e},onBlur:function(){return t.addTaskHandlerCreate({keep_creating:!1})},type:"text",style:{position:"relative",width:"100%",marginLeft:"0px",fontSize:"11px",borderBottom:"1px solid #efefef",height:r.uistate.is_mobile?"inherit":""},className:"input-editable-cell",autoFocus:!0,placeholder:"Create a new task...",onKeyUp:this.addTaskHandler})))),_react2.default.createElement("div",{style:{width:r.uistate.get_column_width(r.uistate.columns.name)+"px"},className:"cell","data-cell-name-structure":"true"})):"section"==this.add_task_handler_state?r.uistate.is_mobile?_react2.default.createElement(_popup2.default,{title:"New section",onClose:function(){return t.add_task_handler_state=!1}},_react2.default.createElement("div",{style:{display:"flex"}},_react2.default.createElement("div",{style:{flexGrow:1,marginRight:"10px"}},_react2.default.createElement("input",{ref:function(e){return t.new_input_ref=e},type:"text",style:{width:"100%",marginLeft:"0px",fontSize:"12px",height:r.uistate.is_mobile?"inherit":"",boxSizing:"border-box"},className:"",autoFocus:!0,placeholder:"Create a new section...",onKeyUp:this.addSectionHandler})),_react2.default.createElement("div",null,_react2.default.createElement("button",{className:"btn btn-success btn-flat",onClick:this.addSectionHandlerCreate},"Create")))):_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_cell2.default,{style:{width:"100%",marginLeft:"-5px",borderRight:0},task:e,className:"cell cell-name inspectlet-sensitive",title:e.name,"data-attribute":"name","data-type":"text"},_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:"inner-text",style:{flexGrow:1}},_react2.default.createElement("input",{ref:function(e){return t.new_input_ref=e},onBlur:function(){return t.addSectionHandlerCreate({keep_creating:!1})},type:"text",style:{position:"relative",width:"100%",marginLeft:"5px",fontSize:"11px",borderBottom:"1px solid #efefef",height:r.uistate.is_mobile?"inherit":""},className:"input-editable-cell",autoFocus:!0,placeholder:"New section name...",onKeyUp:this.addSectionHandler})))),_react2.default.createElement("div",{style:{width:r.uistate.get_column_width(r.uistate.columns.name)+"px"},className:"cell","data-cell-name-structure":"true"})):void 0:_react2.default.createElement("div",null,_react2.default.createElement("div",{className:["cell cell-name add-task",e.priority_heading_id?"add-task-section-"+e.priority_heading_id:0].join(" "),style:{color:"#AAA"}},_react2.default.createElement("div",null,_react2.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return t.add_task_handler_state="task"},className:[_listitem2.default.add_handler_button,r.uistate.is_mobile?_listitem2.default.mobile:""].join(" ")},_react2.default.createElement("i",{className:"fas fa-plus"}),"   Add task"),0==r.tasks.filters.tags.length&&_react2.default.createElement("a",{href:"javascript:void(0);",style:{marginLeft:"-5px"},className:[_listitem2.default.add_section_handler_button,r.uistate.is_mobile?_listitem2.default.mobile:""].join(" "),onClick:function(){return t.add_task_handler_state="section"}},_react2.default.createElement("i",{className:"fas fa-plus"}),"   Add section"))))}},{key:"renderTaskPlaceholder",value:function(e){var t=void 0!==e.completed&&("true"==e.completed||!0===e.completed);return _react2.default.createElement(_cell2.default,{style:{width:store.uistate.get_column_width(store.uistate.columns.name)+40+"px"},task:e,className:"cell cell-name inspectlet-sensitive",title:e.name,"data-attribute":"name","data-type":"text"},_react2.default.createElement(_counter2.default,{task:e}),_react2.default.createElement("div",{className:"cell cell-action"},t?_react2.default.createElement("span",{onClick:this.toggleCompleted},_react2.default.createElement("i",{className:"toggle-completed fas fa-check-circle is-completed"})):_react2.default.createElement("a",{href:"javascript:void(0)",className:"discrete",onClick:this.toggleCompleted},_react2.default.createElement("i",{className:"toggle-completed far fa-check-circle"}))),_react2.default.createElement("div",{task:e,className:"inner-text",title:e.name,"data-attribute":"name","data-type":"text"},(!e.id||0==e.id)&&!this.props.task.placeholder&&_react2.default.createElement("img",{src:"/img/loading-white.gif"}),e.is_subsection&&_react2.default.createElement("b",null,e.name),!e.is_subsection&&_react2.default.createElement(_react2.default.Fragment,null,e.files&&e.files.length>0&&_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement("i",{className:"fa fa-paperclip"})),e.name)))}},{key:"renderTask",value:function(e){var t=this;if(!this.rendered_full)return this.renderTaskPlaceholder(e);var n=this.props.task.store.globalstore,r=void 0!==e.completed&&("true"==e.completed||!0===e.completed);if(n.uistate.isColumnActive("estimatedhours"))var a=(0,_mobxUtils.expr)((function(){return e.get_estimated_hours.estimated_hours})),o=(0,_mobxUtils.expr)((function(){return e.get_estimated_hours.editable}));if((0,_mobxUtils.expr)((function(){return n.tasks.filtered[n.tasks.filtered.indexOf(e)+1]&&n.tasks.filtered[n.tasks.filtered.indexOf(e)+1].is_new_task_handler})),e.is_priority_heading||0!=e.raw_childrens_count&&(!(e.raw_childrens_count>0&&e.container)||e.container.due&&"null"!=e.container.due))i=!1;else var i=!0;"object"!=_typeof(e.predecessor_ids)?e.predecessor_ids:e.predecessor_ids.filter((function(e){return""!=e}));var s=e.changed_history&&"created"==e.changed_history.type?"cell-highlight":"",l=(e.get_user,n.uistate.new_sibling_task),c=!(!e.selected||l!=this.props.task),u=!!(!e.completed&&100!=parseInt(e.calculated_progress)&&e.due&&e.due<moment().format("YYYY-MM-DD"));this.props.task.placeholder&&(c=!0);var d=n.uistate.visible_columns;return"table"==n.uistate.active_view&&(d=n.uistate.active_columns),_react2.default.createElement("div",{className:s,style:{display:"flex",flexGrow:1}},_react2.default.createElement("div",{className:"cell pull-right cell-osx-firefox-fix"}),_react2.default.createElement(_cell2.default,{style:{width:n.uistate.get_column_width(n.uistate.columns.name)+40+"px"},task:e,className:"cell cell-name inspectlet-sensitive",title:e.name,"data-attribute":"name","data-type":"text",onClick:this.open},_react2.default.createElement(_counter2.default,{task:e}),this.sortHandler(),e.is_unread&&_react2.default.createElement("div",{className:"cell cell-action"},_react2.default.createElement("i",{className:"fa-solid fa-message fa-beat-fade",style:{color:"#008ACA",fontSize:"12px"}})),!e.is_unread&&_react2.default.createElement("div",{className:"cell cell-action"},r?_react2.default.createElement("span",{onClick:this.toggleCompleted},_react2.default.createElement("i",{className:"toggle-completed fas fa-check-circle is-completed"})):_react2.default.createElement("a",{href:"javascript:void(0)",className:"discrete",onClick:this.toggleCompleted},_react2.default.createElement("i",{className:"toggle-completed far fa-check-circle"}))),c&&this.renderSiblingTaskForm(),!c&&_react2.default.createElement("div",{className:"task-inline-menu",title:"New subtask"},_react2.default.createElement("div",{className:"task-inline-menu-background"}),"offline"!=n.mode&&_react2.default.createElement("div",{className:"action new-sibling-task",onClick:this.newSiblingTask},_react2.default.createElement("i",{className:"fa-light fa-diagram-subtask"}))),(!e.id||0==e.id)&&!this.props.task.placeholder&&_react2.default.createElement("img",{className:"list-loader",src:"/img/loading-white.gif"}),e.is_subsection&&_react2.default.createElement("b",null,e.name),!e.is_subsection&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:"inner-text",style:{flexGrow:1}},e.name),_react2.default.createElement("div",null,e.files&&e.files.length>0&&_react2.default.createElement("div",{className:"",style:{marginRight:"5px"}},_react2.default.createElement("i",{className:"fa fa-paperclip"}))))),_react2.default.createElement("div",{style:{width:n.uistate.get_column_width(n.uistate.columns.name)+"px"},className:"cell","data-cell-name-structure":"true"}),_react2.default.createElement("div",{style:{display:"flex"},className:"task-list-other-columns"},e.collapsed&&e.raw_childrens_count>0&&_react2.default.createElement(_cell2.default,{task:e,className:"cell cell-subtasks",style:{width:n.uistate.get_column_width(n.uistate.columns.subtasks)+"px"}},_react2.default.createElement("i",{className:"fa fa-list-ul"})," ",e.raw_childrens_count),!(e.collapsed&&e.raw_childrens_count>0)&&_react2.default.createElement(_cell2.default,{task:e,className:"cell cell-subtasks",style:{width:n.uistate.get_column_width(n.uistate.columns.subtasks)+"px"}}),"offline"==n.mode&&_react2.default.createElement(_cell2.default,{afterClose:function(){return t.removeHighlightTask()},task:e,value:e.get_users_names,className:"cell  cell-assignee cell-editable sglclick","data-attribute":"users","data-type":"assignee",style:{width:n.uistate.get_column_width(n.uistate.columns.assignee)+"px"}}),"offline"!=n.mode&&"standalone"!=n.user.type&&_react2.default.createElement(_cell2.default,{task:e,value:e.get_user&&e.get_user.name?e.get_user.name:"Unassigned",className:"cell  cell-assignee cell-editable sglclick","data-attribute":"user","data-type":"assignee",style:{width:n.uistate.get_column_width(n.uistate.columns.assignee)+"px"}}),"offline"!=n.mode&&"standalone"==n.user.type&&_react2.default.createElement(_cell2.default,{afterClose:function(){return t.removeHighlightTask()},task:e,value:e.get_users_names,className:"cell  cell-assignee cell-editable sglclick","data-attribute":"users","data-type":"assignee",style:{width:n.uistate.get_column_width(n.uistate.columns.assignee)+"px"}}),_react2.default.createElement(_cell2.default,{task:e,value:null,className:"cell  cell-tags cell-editable sglclick","data-attribute":"tags","data-type":"tags",style:{width:n.uistate.get_column_width(n.uistate.columns.tags)+"px"}},1==e.get_tags.length&&_react2.default.createElement("span",{className:["sglclick cell-editable label",_listitem2.default.tag_label].join(" ")},e.get_tags[0].name),e.get_tags.length>1&&e.get_tags.map((function(e){return _react2.default.createElement("span",{className:["sglclick cell-editable label",_listitem2.default.tag_label].join(" ")},"..",e.name.split(" ").length>1?e.name.split(" ").map((function(e){return e[0]})):e.name[0]+e.name[1],"..")}))),n.uistate.isColumnActive("estimatedhours")&&_react2.default.createElement(_cell2.default,_extends({task:e,value:""!=a?a+"h":"-",className:"cell  cell-estimatedhours cell-editable sglclick",style:{width:n.uistate.get_column_width(n.uistate.columns.estimatedhours)+"px"},"data-attribute":"estimated_hours","data-type":"number"},o?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"})),n.uistate.isColumnActive("actualhours")&&_react2.default.createElement(_cell2.default,_extends({task:e,value:""!=e.get_actual_hours.actual_hours?e.get_actual_hours.actual_hours+"h":"-",className:"cell  cell-actualhours cell-editable sglclick",style:{width:n.uistate.get_column_width(n.uistate.columns.actualhours)+"px"},"data-attribute":"actual_hours","data-type":"number"},e.get_actual_hours.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"})),n.uistate.isColumnActive("estimatedcost")&&_react2.default.createElement(_cell2.default,_extends({task:e,value:""!=e.get_total_estimated_cost.estimated_cost?(n.projectsettings.getSetting("currency",(e.projects[0]||{}).id)||"$")+Number(e.get_total_estimated_cost.estimated_cost).money(2,3,".",","):"-",className:"cell  cell-estimatedcost cell-editable sglclick",style:{width:n.uistate.get_column_width(n.uistate.columns.estimatedcost)+"px"},"data-attribute":"estimated_cost","data-type":"compound_cost","data-variable-attribute":e.get_variable_estimated_cost.estimated_cost,"data-total-attribute":e.get_total_estimated_cost.estimated_cost},e.get_estimated_cost.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"})),n.uistate.isColumnActive("actualcost")&&_react2.default.createElement(_cell2.default,_extends({task:e,value:""!=e.get_total_actual_cost.actual_cost?(n.projectsettings.getSetting("currency",(e.projects[0]||{}).id)||"$")+Number(e.get_total_actual_cost.actual_cost).money(2,3,".",","):"-",className:"cell  cell-actualcost cell-editable sglclick",style:{width:n.uistate.get_column_width(n.uistate.columns.actualcost)+"px"},"data-attribute":"actual_cost","data-type":"compound_cost","data-variable-attribute":e.get_variable_actual_cost.actual_cost,"data-total-attribute":e.get_total_actual_cost.actual_cost},e.get_actual_cost.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"})),n.uistate.isColumnActive("due")&&_react2.default.createElement(_cell2.default,_extends({task:e,value:e.raw_childrens_count>0&&e.container.start?moment(e.container.start).format("DD/MMM"):0==e.raw_childrens_count&&e.start?moment(e.start).format("DD/MMM"):"",className:["cell cell-start cell-editable sglclick",u?"highlight-red":""].join(" "),style:{width:n.uistate.get_column_width(n.uistate.columns.start)+"px"},"data-attribute":"start","data-linked":"due","data-type":"daterange"},i?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"})),n.uistate.isColumnActive("workingdaysduration")&&_react2.default.createElement(_cell2.default,_extends({task:e,value:e.working_duration+"d",className:"cell  cell-workingdaysduration cell-editable sglclick",style:{width:n.uistate.get_column_width(n.uistate.columns.workingdaysduration)+"px"}},i?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"},{"data-attribute":"duration_wd_fixed","data-read-attribute":"working_duration","data-type":"integer"})),n.uistate.isColumnActive("duration")&&_react2.default.createElement(_cell2.default,_extends({task:e,value:e.calendar_duration+"d",className:"cell  cell-duration cell-editable sglclick",style:{width:n.uistate.get_column_width(n.uistate.columns.duration)+"px"}},{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"})),n.uistate.isColumnActive("due")&&_react2.default.createElement(_cell2.default,_extends({task:e,value:e.raw_childrens_count>0&&e.container.due?moment(e.container.due).format("DD/MMM"):0==e.raw_childrens_count&&e.due?moment(e.due).format("DD/MMM"):"",className:["cell cell-due cell-editable sglclick",u?"highlight-red":""].join(" "),style:{width:n.uistate.get_column_width(n.uistate.columns.due)+"px"},"data-attribute":"due","data-type":"daterange"},i?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"})),n.uistate.isColumnActive("priority")&&_react2.default.createElement(_cell2.default,_extends({task:e,value:""!=e.get_priority.priority?e.get_priority.priority:"-",className:"cell  cell-priority cell-editable sglclick",style:{width:n.uistate.get_column_width(n.uistate.columns.priority)+"px"},"data-attribute":"priority_user","data-type":"dropdown",options:_priority_options2.default},e.get_priority.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"})),n.uistate.isColumnActive("risk")&&_react2.default.createElement(_cell2.default,_extends({task:e,value:""!=e.get_risk.risk?e.get_risk.risk:"-",className:"cell  cell-risk cell-editable sglclick",style:{width:n.uistate.get_column_width(n.uistate.columns.risk)+"px"},"data-attribute":"risk","data-type":"dropdown",options:_risk_options2.default},e.get_risk.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"})),n.uistate.isColumnActive("dependencies")&&_react2.default.createElement(_cell2.default,{task:e,value:""!=e.predecessor_ids?e.predecessor_ids.map((function(e){return String(e)})).map((function(t){return e.collection.collection_uncollapsed_ids.indexOf(t)})).join(", "):"",edit_value:""!=e.predecessor_ids?e.predecessor_ids.map((function(e){return String(e)})).map((function(t){return e.collection.collection_uncollapsed_ids.indexOf(t)})).join(", "):"",className:"cell cell-dependencies cell-editable sglclick",style:{width:n.uistate.get_column_width(n.uistate.columns.dependencies)+"px"},"data-attribute":"dependent_of","data-type":"array_colon"}),d.map((function(t){return _react2.default.createElement(_cell2.default,_extends({task:e,cf:t,value:e.decorateCustomField(t,e.calculatedCustomField(t.id)),className:["cell cell-editable sglclick cell-cf","dropdown"==t.type?"cell-editable-dropdown":""].join(" "),"data-attribute":t.id,style:{width:n.uistate.get_column_width(t)+"px"}},"dropdown"!=t.type&&"text"!=t.type&&0!=e.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))})),n.uistate.isColumnActive("progress")&&_react2.default.createElement(_cell2.default,_extends({task:e,value:""!=e.calculated_progress?e.calculated_progress:"0%",className:"cell cell-percentage cell-editable sglclick",style:{width:n.uistate.get_column_width(n.uistate.columns.progress)+"px"},"data-attribute":"progress","data-type":"percentage"},0!=e.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{},{template:_progress2.default})),_react2.default.createElement("div",{className:"cell cell-photo",style:{width:"35px"}},_react2.default.createElement(_avatars2.default,{users:e.get_users}))))}},{key:"renderItem",value:function(e){return e.is_new_task_handler?this.renderAddHandler(e):e.is_priority_heading||e.is_project?e.is_project?this.renderProjectHeader(e):this.renderSection(e):this.renderTask(e)}},{key:"renderSiblingTaskForm",value:function(){var e=this;return this.props.task,_react2.default.createElement("div",{className:["new-inline-task-form"].join(" ")},_react2.default.createElement("input",{ref:function(t){return e.new_sibling_node=t},type:"text",autoFocus:"true",placeholder:"New task name...",onKeyDown:this.handleSiblingKeyDown,onBlur:function(){return e.handleNewSiblingBlur()}}),_react2.default.createElement("div",{className:"action-controls"},_react2.default.createElement("i",{className:"fa fa-check",onClick:this.createSibling}),_react2.default.createElement("i",{className:"fa fa-times",onClick:this.dismissSibling})))}},{key:"renderPlaceholder",value:function(){var e=this.props.task,t=this.props.task.store.globalstore.uistate,n=e.completed&&"false"!=e.completed?"completed":"";return t.new_sibling_task,_react2.default.createElement("li",{"data-id":e.id,className:["indent-"+e.parents_count,e.is_priority_heading||e.is_project?"priority_heading":"","draggable",e.is_new_task_handler?"new-task-handler":"",e.is_project?"project-header":"",n].join(" ")},this.renderTaskPlaceholder(e))}},{key:"render",value:function(){if(!this.rendered_full)return this.renderPlaceholder();var e=this.props.task,t=this.props.task.store.globalstore.uistate,n=e.completed&&"false"!=e.completed?"completed":"",r=e.selected?"selected":"",a=t.new_sibling_task,o=(0,_mobxUtils.expr)((function(){return e.store.selected.length>1&&-1!=e.store.selected.indexOf(e)?"multi-selected":""})),i=!(!e.selected||a!=this.props.task);return _react2.default.createElement("li",{"data-id":e.id,className:["indent-"+e.parents_count,e.is_priority_heading||e.is_project?"priority_heading":"","draggable",e.is_new_task_handler?"new-task-handler":"",r,o,i?"new-inline-task-form-enabled":"",e.is_project?"project-header":"",n].join(" "),onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut},this.renderItem(e))}},{key:"handleSiblingKeyDown",value:function(e){27==e.keyCode&&this.dismissSibling(e),13==e.keyCode&&this.createSibling(e)}},{key:"handleNewSiblingBlur",value:function(){""==this.new_sibling_node.value?this.props.task.destroy():this.props.task.placeholder&&this.createSibling(null,{keep_creating:!1})}},{key:"dismissSibling",value:function(e){this.props.task.destroy()}},{key:"createSibling",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.props.task,a=this.props.task.store.globalstore;a.uistate,e&&(e.preventDefault(),e.stopPropagation());var o=this.new_sibling_node.value;r.start,new Date,a.tasks.setLocalPositions({trigger_model:r,silent:!0}),r.save({name:o}).then((function(e){})),a.tasks.saveLocalPositions(null,{trigger_model:r}),r.placeholder=!1,setTimeout((function(){!1!==n.keep_creating&&t.newSiblingTask(!1,!1,r)}),0)}},{key:"handleToggle",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.task;t.store.globalstore.tasks.selected&&t.store.globalstore.tasks.selected.length>0&&t.store.globalstore.tasks.selected[0].parent&&t.store.globalstore.tasks.selected[0].parent.id==t.id&&t.store.globalstore.tasks.selected.forEach((function(e){return e.selected=!1})),t.setCollapsed(!t.collapsed)}},{key:"addTaskHandler",value:function(e){this.props.task.store,this.props.task.store.globalstore,13!=e.keyCode&&27!=e.keyCode||(27!=e.keyCode?this.addTaskHandlerCreate():this.add_task_handler_state=!1)}},{key:"addTaskHandlerCreate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.task,n=t.store,r=this.props.task.store.globalstore;this.add_task_handler_state="task";var a=t.priority_heading_id,o=this.new_input_ref.value;if(""!==o){var i=[],s="",l="";if(r.tasks.filters.tags.length>0&&"tag"==r.tasks.filters.tag_type){var c=r.tasks.tags.filter((function(e){return e.name==r.tasks.filters.tags[0]}));c&&(i=[c[0]])}if(r.tasks.filters.tags.length>0&&"user"==r.tasks.filters.tag_type){var u=r.users.get(r.tasks.filters.tags[0]);u&&(l=u.getAttributes(),s=r.tasks.filters.tags[0])}if(r.tasks.active_filters.assignee&&r.tasks.active_filters.assignee.selected[0]&&r.tasks.active_filters.assignee.selected[0].id){var d=r.users.get(r.tasks.active_filters.assignee.selected[0].id);d&&(l=d.getAttributes(),s=d.id)}if(r.tasks.active_filters.tags&&r.tasks.active_filters.tags.selected[0]&&r.tasks.active_filters.tags.selected[0].id){var f=r.tags.get(r.tasks.active_filters.tags.selected[0].id);f||(f=r.tasks.tags.filter((function(e){return e.id==r.tasks.active_filters.tags.selected[0].id}))[0]),f&&(i=[{id:f.id,name:f.name}])}n.current_project;var p=void 0!==t.projects[0]?[t.projects[0]]:[],h=[],m=t.get_parent_priority_heading;(a=t.priority_heading_id)&&(h=[{project:Number(t.projects[0].id),section:Number(a)}]),1==n.models.length&&"standalone"==r.user.type&&(r.uistate.is_mobile||r.uistate.showHint("draw_dates"),r.uistate.current_modal_options={ref:this});var _={name:o,due:"",start:"",tags:i,projects:p,project_id:p&&p[0]&&p[0].id?p[0].id:"",assignee:s,dependent_of:"",user:l,notes:"",parent_priority_heading:m,priority_heading_id:a,memberships:h,parent:t.parent,priority:n.models.length+1,local_priority:n.models.length+1,project_priority:t.project_priority};n.create(_),!1!==e.keep_creating?(this.new_input_ref.value="",this.new_input_ref.focus(),r.uistate.is_mobile&&r.uistate.mobileMessage("Task created"),setTimeout((function(){a?$(".add-task-section-"+a+" input").focus():$(".add-task-section-0 input").focus()}),0)):this.add_task_handler_state=!1}else this.add_task_handler_state=!1}},{key:"addSectionHandler",value:function(e){this.props.task.store.globalstore,13!=e.keyCode&&27!=e.keyCode||(27!=e.keyCode?this.addSectionHandlerCreate():this.add_task_handler_state=!1)}},{key:"addSectionHandlerCreate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=this.props.task,r=n.store,a=r.globalstore;this.add_task_handler_state="section";var o=0,i=this.new_input_ref.value+":";if(":"!==i){var s=[];if(r.current_tag.length>0&&"tag"==r.current_tag_type){var l=r.current_tags.filter((function(e){return e.name==r.current_tag[0]}));l&&(s=[l[0].toJSON()])}r.current_project;var c=void 0!==n.projects[0]?[n.projects[0]]:[],u=[];if(n.get_parent_priority_heading,(o=n.priority_heading_id)&&(u=[{project:Number(n.projects[0].id),section:Number(o)}]),c[0])var d=r.sections({project_id:c[0].id});else d=r.sections();if(o){var f=r.get(o),p=d.indexOf(f);_=f.priority+1;for(var h=!!f&&f.id,m=p+1;m<d.length;m++)"asana"!=a.projects.selected.supplier?d[m].save({priority:d[m].priority+1}):d[m].set({priority:d[m].priority+1})}else var _=1;var g={name:i,due:"",start:"",tags:s,projects:c,project_id:c&&c[0]&&c[0].id?c[0].id:"",assignee:"",dependent_of:"",user:"",notes:"",parent_priority_heading:r.models.length+1,priority_heading_id:"",is_priority_heading:!0,memberships:u,parent:"",priority:_,local_priority:_,project_priority:n.project_priority};"asana"==a.projects.selected.supplier&&void 0!==h&&h&&(g.insert_after=h);var b=!1;1!=r.models.length&&0!=d.length||(b=!0),r.create(g).then((function(e){var a=parseInt(1e14*Math.random());r.add([{id:a,name:"Create task...",is_project:!1,is_priority_heading:!1,is_for_section:!0,dependent_of:[],parent_priority_heading:_,priority_heading_id:e.id,priority:1e4,local_priority:1e4,projects:c,completed:!1,is_new_task_handler:!0,project_priority:g.project_priority,collection:t}]),b&&n.store.remove([n.id])})),!1!==e.keep_creating?(this.new_input_ref.value="",this.add_task_handler_state=!1,a.uistate.is_mobile&&a.uistate.mobileMessage("Section created"),setTimeout((function(){}),0)):this.add_task_handler_state=!1}else this.add_task_handler_state=!1}},{key:"onMouseOver",value:function(e){this.highlightTask(e)}},{key:"onMouseOut",value:function(e){this.removeHighlightTask(e)}},{key:"highlightTask",value:function(e){var t=this.props.task,n=t.store.globalstore;if(!n.uistate.is_mobile)return n.uistate.scrolling?null:void(t.id&&(this.props.task.store.globalstore.uistate.scrolling||$("li[data-id="+t.id+"]").addClass("hover")))}},{key:"removeHighlightTask",value:function(e){var t=this.props.task;t.id&&$("li[data-id="+t.id+"]").removeClass("hover")}}]),ListItem}(_react.Component),_descriptor=_applyDecoratedDescriptor(_class2.prototype,"add_task_handler_state",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"rendered_full",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_applyDecoratedDescriptor(_class2.prototype,"open",[_mobx.action],Object.getOwnPropertyDescriptor(_class2.prototype,"open"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"addSectionHandler",[_mobx.action],Object.getOwnPropertyDescriptor(_class2.prototype,"addSectionHandler"),_class2.prototype),_class=_class2))||_class;exports.default=ListItem},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=(0,n(6).observer)(r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){var e=.5*this.props.size,t=e-.5*this.props.strokewidth,n=2*Math.PI*t,r=this.props.value*n/100+" "+n,a={strokeWidth:this.props.strokewidth},o={strokeWidth:this.props.strokewidth,strokeDasharray:r},i="rotate(-90 "+e+","+e+")";return s.default.createElement("svg",{width:this.props.size,height:this.props.size,className:"donutchart"},s.default.createElement("circle",{r:t,cx:e,cy:e,transform:i,style:a,className:"donutchart-track"}),s.default.createElement("circle",{r:t,cx:e,cy:e,transform:i,style:o,className:"donutchart-indicator"}),s.default.createElement("text",{className:"donutchart-text",x:e,y:e+3,style:{textAnchor:"middle"}},s.default.createElement("tspan",{className:"donutchart-text-val",style:this.props.textStyle},this.props.value),s.default.createElement("tspan",{className:"donutchart-text-percent",style:this.props.textStyle},"%"),s.default.createElement("tspan",{className:"donutchart-text-label",x:e,y:e+10},this.props.valuelabel)))}}]),t}())||r;t.default=l},function(e,t,n){var r=n(525),a=n(38),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var r=n(45),a=n(528),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l}).call(this,n(220)(e))},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){(function(e){var r=n(302),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}).call(this,n(220)(e))},function(e,t,n){var r=n(157),a=n(539),o=n(540),i=n(541),s=n(542),l=n(543);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=l,e.exports=c},function(e,t,n){var r=n(534),a=n(535),o=n(536),i=n(537),s=n(538);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(117);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(79)(Object,"create");e.exports=r},function(e,t,n){var r=n(556);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(568),a=n(224),o=n(569),i=n(313),s=n(570),l=n(65),c=n(304),u=c(r),d=c(a),f=c(o),p=c(i),h=c(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=m(new a)||o&&"[object Promise]"!=m(o.resolve())||i&&"[object Set]"!=m(new i)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(65),a=n(38);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=t.keys=function(e){return e===Object(e)?Object.keys(e):[]};t.values=function(e){return e===Object(e)?Object.values(e):[]},t.merge=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return function e(t,n){var r=i({},t);return s(t)&&s(n)&&o(n).forEach((function(o){s(n[o])&&o in t?r[o]=e(t[o],n[o]):i(r,a({},o,n[o]))})),r}(e,t)}),e)};var i=t.assign=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign.apply(Object,[e].concat(n))};t.identity=function(e){return e},t.omit=function(e,t){var n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(r({},e),[]);if(t){var a=!0,o=!1,i=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0)delete n[s.value]}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}}return n};var s=t.isPlainObject=function(e){return!(e!==Object(e)||e instanceof Date||Array.isArray(e))};t.compact=function(e){return(e||[]).filter(Boolean)}},function(e,t,n){"use strict";t.__esModule=!0,t.inherits=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(e.prototype);for(var a in n)r[a]=n[a];return r.constructor=t,t.prototype=r,t}},function(e,t,n){"use strict";var r,a,o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(3);function s(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function l(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var c=(a=l((r=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"search_filter",a,this),s(this,"active_view",o,this),this.globalstore=t}).prototype,"search_filter",[i.observable],{enumerable:!0,initializer:function(){return"users"}}),o=l(r.prototype,"active_view",[i.observable],{enumerable:!0,initializer:function(){return"search"}}),r);t.default=c},function(e,t,n){"use strict";var r=n(360),a=n(361);e.exports=function(e,t){var n=t.getStartKey(),o=t.getStartOffset(),i=t.getEndKey(),s=t.getEndOffset(),l=a(e,t).getBlockMap(),c=l.keySeq(),u=c.indexOf(n),d=c.indexOf(i)+1;return r(l.slice(u,d).map((function(e,t){var r=e.getText(),a=e.getCharacterList();return n===i?e.merge({text:r.slice(o,s),characterList:a.slice(o,s)}):t===n?e.merge({text:r.slice(o),characterList:a.slice(o)}):t===i?e.merge({text:r.slice(0,s),characterList:a.slice(0,s)}):e})))}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(366),o=n(17),i=n(18),s=n(710),l=(0,o.Map)(),c=s();function u(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var d={getLastCreatedEntityKey:function(){return u("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),d.__getLastCreatedEntityKey()},create:function(e,t,n){return u("DraftEntity.create","contentState.createEntity"),d.__create(e,t,n)},add:function(e){return u("DraftEntity.add","contentState.addEntity"),d.__add(e)},get:function(e){return u("DraftEntity.get","contentState.getEntity"),d.__get(e)},__getAll:function(){return l},__loadWithEntities:function(e){l=e,c=s()},mergeData:function(e,t){return u("DraftEntity.mergeData","contentState.mergeEntityData"),d.__mergeData(e,t)},replaceData:function(e,t){return u("DraftEntity.replaceData","contentState.replaceEntityData"),d.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return c},__create:function(e,t,n){return d.__add(new a({type:e,mutability:t,data:n||{}}))},__add:function(e){return c=s(),l=l.set(c,e),c},__get:function(e){var t=l.get(e);return t||i(!1),t},__mergeData:function(e,t){var n=d.__get(e),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},n.getData(),t),o=n.set("data",a);return l=l.set(e,o),o},__replaceData:function(e,t){var n=d.__get(e).set("data",t);return l=l.set(e,n),n}};e.exports=d},function(e,t,n){"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},a.getAnchorKey=function(){return this.get("anchorKey")},a.getAnchorOffset=function(){return this.get("anchorOffset")},a.getFocusKey=function(){return this.get("focusKey")},a.getFocusOffset=function(){return this.get("focusOffset")},a.getIsBackward=function(){return this.get("isBackward")},a.getHasFocus=function(){return this.get("hasFocus")},a.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),a=this.getFocusKey();if(r===a&&r===e){var o=this.getStartOffset(),i=this.getEndOffset();return t<=o&&o<=n||t<=i&&i<=n}if(e!==r&&e!==a)return!1;var s=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=s&&n>=s},a.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},a.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},a.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},a.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},a.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(e){return new r({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,n(17).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},function(e,t,n){"use strict";var r=n(18),a="LTR",o=null;function i(e){return e===a||"RTL"===e}function s(e){return i(e)||r(!1),e===a?"ltr":"rtl"}function l(e){o=e}var c={NEUTRAL:"NEUTRAL",LTR:a,RTL:"RTL",isStrong:i,getHTMLDir:s,getHTMLDirIfDifferent:function(e,t){return i(e)||r(!1),i(t)||r(!1),e===t?null:s(e)},setGlobalDir:l,initGlobalDir:function(){l(a)},getGlobalDir:function(){return o||this.initGlobalDir(),o||r(!1),o}};e.exports=c},function(e,t,n){"use strict";var r=n(172),a=n(369);e.exports=function(e){for(var t=e;t&&t!==r(e).documentElement;){var n=a(t);if(null!=n)return n;t=t.parentNode}return null}},function(e,t,n){"use strict";e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},function(e,t,n){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";function r(e,t){var n=a.get(e,t);return"auto"===n||"scroll"===n}var a={get:n(733),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=a},function(e,t,n){"use strict";var r=n(737),a=n(738);e.exports=function(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=a(e),o=e===t?e.ownerDocument.documentElement:e,i=e.scrollWidth-o.clientWidth,s=e.scrollHeight-o.clientHeight;return n.x=Math.max(0,Math.min(n.x,i)),n.y=Math.max(0,Math.min(n.y,s)),n}},function(e,t,n){"use strict";e.exports=function(e){return"handled"===e||!0===e}},function(e,t,n){e.exports={mobile:"_7SPcqTA_09HdyN-Uv1Ee2",step:"_2U4nXO65Tn4hgkQl2vuJ0m",step1:"Ofd880XlnfJe8O71P7LTy",buy_one_option_empty:"_4sxqY-bZn_SwCpjegBcL9",buy_options:"_21S6o52x-Oo-x_g8DdKoh8",modal:"WBZSpz4tezwEhg4-GaYGj",title:"_2UdfT_KZR9ZYgao0Fdq2Qw",body:"_22j7w5IzKcndDu_D_RIKPD",input_editable_cell:"_178KjnDUoHhf7EUVQxgPsQ",options_container:"_1hHi3_IrEgRfocFLJjwHdY",workbook_select:"UwhsUiJCQQUf-ntzHNYtx",workbook_select_input:"_2j2m-vrD3gTiynxAUlEcuG",buy_one_option:"_1sV_Ir-l_xMdw_zR5GQKoA",licenses_control:"_2PDZm_rTIxsUmgmKCpuWv-",licenses_amount:"_3JczKjXx6iumpJMnU3mYqo",modal_inner:"_28ucXp8mzWOUgl_gZKMIgS",thankyou_header:"tXB5X2fAkj7EXyY_PKUDI"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(28),a=n(4),o=n(8),i=n(2);function s(e,t){var n,s;Object(i.a)(1,arguments);var l=Object(a.default)(e),c=l.getFullYear(),u=null==t||null===(n=t.locale)||void 0===n||null===(s=n.options)||void 0===s?void 0:s.firstWeekContainsDate,d=null==u?1:Object(o.a)(u),f=null==(null==t?void 0:t.firstWeekContainsDate)?d:Object(o.a)(t.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(c+1,0,f),p.setHours(0,0,0,0);var h=Object(r.default)(p,t),m=new Date(0);m.setFullYear(c,0,f),m.setHours(0,0,0,0);var _=Object(r.default)(m,t);return l.getTime()>=h.getTime()?c+1:l.getTime()>=_.getTime()?c:c-1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),a=n(2);function o(e){Object(a.a)(1,arguments);var t=Object(r.default)(e),n=t.getFullYear(),o=t.getMonth(),i=new Date(0);return i.setFullYear(n,o+1,0),i.setHours(0,0,0,0),i.getDate()}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";n.d(t,"config",(function(){return v})),n.d(t,"to",(function(){return De})),n.d(t,"useSpring",(function(){return Ae})),n.d(t,"useTransition",(function(){return ke}));var r=n(5);n.d(t,"Globals",(function(){return r.b}));var a=n(0),o=n(24);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,...t){return r.s.fun(e)?e(...t):e}n(342),n(343);const l=(e,t)=>!0===e||!!(t&&e&&(r.s.fun(e)?e(t):Object(r.y)(e).includes(t))),c=(e,t)=>r.s.obj(e)?t&&e[t]:e,u=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,d=(e,t=(e=>e))=>{let n=f;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const a={};for(const o of n){const n=t(e[o],o);r.s.und(n)||(a[o]=n)}return a},f=["config","onProps","onStart","onChange","onPause","onResume","onRest"],p={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function h(e){const t=function(e){const t={};let n=0;if(Object(r.l)(e,(e,r)=>{p[r]||(t[r]=e,n++)}),n)return t}(e);if(t){const n={to:t};return Object(r.l)(e,(e,r)=>r in t||(n[r]=e)),n}return i({},e)}function m(e){return e=Object(r.q)(e),r.s.arr(e)?e.map(m):Object(r.t)(e)?r.b.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function _(e){for(const t in e)return!0;return!1}function g(e){return r.s.fun(e)||r.s.arr(e)&&r.s.obj(e[0])}function b(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function y(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}const v={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},A=1.70158,w=1.525*A,k=2*Math.PI/3,E=2*Math.PI/4.5,x=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},O={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>2.70158*e*e*e-A*e*e,easeOutBack:e=>1+2.70158*Math.pow(e-1,3)+A*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-w)/2:(Math.pow(2*e-2,2)*((w+1)*(2*e-2)+w)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*k),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*k)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*E)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*E)/2+1,easeInBounce:e=>1-x(1-e),easeOutBounce:x,easeInOutBounce:e=>e<.5?(1-x(1-2*e))/2:(1+x(2*e-1))/2},C=i({},v.default,{mass:1,damping:1,easing:O.linear,clamp:!1});class j{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,C)}}function D(e,t){if(r.s.und(t.decay)){const n=!r.s.und(t.tension)||!r.s.und(t.friction);!n&&r.s.und(t.frequency)&&r.s.und(t.damping)&&r.s.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}const N=[];class S{constructor(){this.changed=!1,this.values=N,this.toValues=null,this.fromValues=N,this.to=void 0,this.from=void 0,this.config=new j,this.immediate=!1}}function T(e,{key:t,props:n,defaultProps:a,state:o,actions:c}){return new Promise((u,d)=>{var f;let p,h,m=l(null!=(f=n.cancel)?f:null==a?void 0:a.cancel,t);if(m)b();else{r.s.und(n.pause)||(o.paused=l(n.pause,t));let e=null==a?void 0:a.pause;!0!==e&&(e=o.paused||l(e,t)),p=s(n.delay||0,t),e?(o.resumeQueue.add(g),c.pause()):(c.resume(),g())}function _(){o.resumeQueue.add(g),o.timeouts.delete(h),h.cancel(),p=h.time-r.w.now()}function g(){p>0&&!r.b.skipAnimation?(o.delayed=!0,h=r.w.setTimeout(b,p),o.pauseQueue.add(_),o.timeouts.add(h)):b()}function b(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(_),o.timeouts.delete(h),e<=(o.cancelId||0)&&(m=!0);try{c.start(i({},n,{callId:e,cancel:m}),u)}catch(e){d(e)}}})}const M=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?I(e.get()):t.every(e=>e.noop)?P(e.get()):B(e.get(),t.every(e=>e.finished)),P=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),B=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),I=e=>({value:e,cancelled:!0,finished:!1});function L(e,t,n,a){const{callId:o,parentId:s,onRest:l}=t,{asyncTo:c,promise:u}=n;return s||e!==c||t.reset?n.promise=(async()=>{n.asyncId=o,n.asyncTo=e;const f=d(t,(e,t)=>"onRest"===t?void 0:e);let p,h;const m=new Promise((e,t)=>(p=e,h=t)),_=e=>{const t=o<=(n.cancelId||0)&&I(a)||o!==n.asyncId&&B(a,!1);if(t)throw e.result=t,h(e),e},g=(e,t)=>{const s=new R,l=new F;return(async()=>{if(r.b.skipAnimation)throw U(n),l.result=B(a,!1),h(l),l;_(s);const c=r.s.obj(e)?i({},e):i({},t,{to:e});c.parentId=o,Object(r.l)(f,(e,t)=>{r.s.und(c[t])&&(c[t]=e)});const u=await a.start(c);return _(s),n.paused&&await new Promise(e=>{n.resumeQueue.add(e)}),u})()};let b;if(r.b.skipAnimation)return U(n),B(a,!1);try{let t;t=r.s.arr(e)?(async e=>{for(const t of e)await g(t)})(e):Promise.resolve(e(g,a.stop.bind(a))),await Promise.all([t.then(p),m]),b=B(a.get(),!0,!1)}catch(e){if(e instanceof R)b=e.result;else{if(!(e instanceof F))throw e;b=e.result}}finally{o==n.asyncId&&(n.asyncId=s,n.asyncTo=s?c:void 0,n.promise=s?u:void 0)}return r.s.fun(l)&&r.w.batchedUpdates(()=>{l(b,a,a.item)}),b})():u}function U(e,t){Object(r.m)(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class R extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class F extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const z=e=>e instanceof H;let Q=1;class H extends r.a{constructor(...e){super(...e),this.id=Q++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Object(o.e)(this);return e&&e.getValue()}to(...e){return r.b.to(this,e)}interpolate(...e){return Object(r.j)(),r.b.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Object(r.d)(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||r.o.sort(this),Object(r.d)(this,{type:"priority",parent:this,priority:e})}}const Y=Symbol.for("SpringPhase"),K=e=>(1&e[Y])>0,W=e=>(2&e[Y])>0,q=e=>(4&e[Y])>0,G=(e,t)=>t?e[Y]|=3:e[Y]&=-3,V=(e,t)=>t?e[Y]|=4:e[Y]&=-5;class $ extends H{constructor(e,t){if(super(),this.key=void 0,this.animation=new S,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!r.s.und(e)||!r.s.und(t)){const n=r.s.obj(e)?i({},e):i({},t,{from:e});r.s.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(W(this)||this._state.asyncTo)||q(this)}get goal(){return Object(r.q)(this.animation.to)}get velocity(){const e=Object(o.e)(this);return e instanceof o.c?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return K(this)}get isAnimating(){return W(this)}get isPaused(){return q(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const a=this.animation;let{config:i,toValues:s}=a;const l=Object(o.g)(a.to);!l&&Object(r.r)(a.to)&&(s=Object(r.y)(Object(r.q)(a.to))),a.values.forEach((c,u)=>{if(c.done)return;const d=c.constructor==o.b?1:l?l[u].lastPosition:s[u];let f=a.immediate,p=d;if(!f){if(p=c.lastPosition,i.tension<=0)return void(c.done=!0);let t=c.elapsedTime+=e;const n=a.fromValues[u],o=null!=c.v0?c.v0:c.v0=r.s.arr(i.velocity)?i.velocity[u]:i.velocity;let s;if(r.s.und(i.duration))if(i.decay){const e=!0===i.decay?.998:i.decay,r=Math.exp(-(1-e)*t);p=n+o/(1-e)*(1-r),f=Math.abs(c.lastPosition-p)<.1,s=o*r}else{s=null==c.lastVelocity?o:c.lastVelocity;const t=i.precision||(n==d?.005:Math.min(1,.001*Math.abs(d-n))),a=i.restVelocity||t/10,l=i.clamp?0:i.bounce,u=!r.s.und(l),h=n==d?c.v0>0:n<d;let m,_=!1;const g=1,b=Math.ceil(e/g);for(let e=0;e<b&&((m=Math.abs(s)>a)||!(f=Math.abs(d-p)<=t));++e)u&&(_=p==d||p>d==h)&&(s=-s*l,p=d),p+=(s+=(1e-6*-i.tension*(p-d)+.001*-i.friction*s)/i.mass*g)*g}else{let r=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,c.durationProgress>0&&(c.elapsedTime=i.duration*c.durationProgress,t=c.elapsedTime+=e)),r=(r=(i.progress||0)+t/this._memoizedDuration)>1?1:r<0?0:r,c.durationProgress=r),s=((p=n+i.easing(r)*(d-n))-c.lastPosition)/e,f=1==r}c.lastVelocity=s,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),f=!0)}l&&!l[u].done&&(f=!1),f?c.done=!0:t=!1,c.setValue(p,i.round)&&(n=!0)});const c=Object(o.e)(this),u=c.getValue();if(t){const e=Object(r.q)(a.to);u===e&&!n||i.decay?n&&i.decay&&this._onChange(u):(c.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(u)}set(e){return r.w.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(W(this)){const{to:e,config:t}=this.animation;r.w.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return r.s.und(e)?(n=this.queue||[],this.queue=[]):n=[r.s.obj(e)?e:i({},t,{to:e})],Promise.all(n.map(e=>this._update(e))).then(e=>M(this,e))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),U(this._state,e&&this._lastCallId),r.w.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:a}=e;(null==(n=r.s.obj(n)?n[t]:n)||g(n))&&(n=void 0),null==(a=r.s.obj(a)?a[t]:a)&&(a=void 0);const i={to:n,from:a};return K(this)||(e.reverse&&([n,a]=[a,n]),a=Object(r.q)(a),r.s.und(a)?Object(o.e)(this)||this._set(n):this._set(a)),i}_update(e,t){let n=i({},e);const{key:a,defaultProps:o}=this;n.default&&Object.assign(o,d(n,(e,t)=>/^on/.test(t)?c(e,a):e)),re(this,n,"onProps"),ae(this,"onProps",n,this);const s=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const l=this._state;return T(++this._lastCallId,{key:a,props:n,defaultProps:o,state:l,actions:{pause:()=>{q(this)||(V(this,!0),Object(r.n)(l.pauseQueue),ae(this,"onPause",B(this,X(this,this.animation.to)),this))},resume:()=>{q(this)&&(V(this,!1),W(this)&&this._resume(),Object(r.n)(l.resumeQueue),ae(this,"onResume",B(this,X(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=J(n);if(e)return this._update(e,!0)}return e})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(I(this));const a=!r.s.und(e.to),c=!r.s.und(e.from);if(a||c){if(!(t.callId>this._lastToId))return n(I(this));this._lastToId=t.callId}const{key:u,defaultProps:d,animation:f}=this,{to:p,from:h}=f;let{to:_=p,from:b=h}=e;!c||a||t.default&&!r.s.und(_)||(_=b),t.reverse&&([_,b]=[b,_]);const y=!Object(r.u)(b,h);y&&(f.from=b),b=Object(r.q)(b);const v=!Object(r.u)(_,p);v&&this._focus(_);const A=g(t.to),{config:w}=f,{decay:k,velocity:E}=w;(a||c)&&(w.velocity=0),t.config&&!A&&function(e,t,n){n&&(D(n=i({},n),t),t=i({},n,t)),D(e,t),Object.assign(e,t);for(const t in C)null==e[t]&&(e[t]=C[t]);let{mass:a,frequency:o,damping:s}=e;r.s.und(o)||(o<.01&&(o=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/o,2)*a,e.friction=4*Math.PI*s*a/o)}(w,s(t.config,u),t.config!==d.config?s(d.config,u):void 0);let x=Object(o.e)(this);if(!x||r.s.und(_))return n(B(this,!0));const O=r.s.und(t.reset)?c&&!t.default:!r.s.und(b)&&l(t.reset,u),j=O?b:this.get(),N=m(_),S=r.s.num(N)||r.s.arr(N)||Object(r.t)(N),T=!A&&(!S||l(d.immediate||t.immediate,u));if(v){const e=Object(o.f)(_);if(e!==x.constructor){if(!T)throw Error(`Cannot animate between ${x.constructor.name} and ${e.name}, as the "to" prop suggests`);x=this._set(N)}}const M=x.constructor;let U=Object(r.r)(_),R=!1;if(!U){const e=O||!K(this)&&y;(v||e)&&(U=!(R=Object(r.u)(m(j),N))),(Object(r.u)(f.immediate,T)||T)&&Object(r.u)(w.decay,k)&&Object(r.u)(w.velocity,E)||(U=!0)}if(R&&W(this)&&(f.changed&&!O?U=!0:U||this._stop(p)),!A&&((U||Object(r.r)(p))&&(f.values=x.getPayload(),f.toValues=Object(r.r)(_)?null:M==o.b?[1]:Object(r.y)(N)),f.immediate!=T&&(f.immediate=T,T||O||this._set(p)),U)){const{onRest:e}=f;Object(r.k)(ne,e=>re(this,t,e));const a=B(this,X(this,p));Object(r.n)(this._pendingCalls,a),this._pendingCalls.add(n),f.changed&&r.w.batchedUpdates(()=>{f.changed=!O,null==e||e(a,this),O?s(d.onRest,a):null==f.onStart||f.onStart(a,this)})}O&&this._set(j),A?n(L(t.to,t,this._state,this)):U?this._start():W(this)&&!v?this._pendingCalls.add(n):n(P(j))}_focus(e){const t=this.animation;e!==t.to&&(Object(r.p)(this)&&this._detach(),t.to=e,Object(r.p)(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Object(r.r)(t)&&(Object(r.c)(t,this),z(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Object(r.r)(e)&&Object(r.x)(e,this)}_set(e,t=!0){const n=Object(r.q)(e);if(!r.s.und(n)){const e=Object(o.e)(this);if(!e||!Object(r.u)(n,e.getValue())){const a=Object(o.f)(n);e&&e.constructor==a?e.setValue(n):Object(o.h)(this,a.create(n)),e&&r.w.batchedUpdates(()=>{this._onChange(n,t)})}}return Object(o.e)(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,ae(this,"onStart",B(this,X(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),s(this.animation.onChange,e,this)),s(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Object(o.e)(this).reset(Object(r.q)(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),W(this)||(G(this,!0),q(this)||this._resume())}_resume(){r.b.skipAnimation?this.finish():r.o.start(this)}_stop(e,t){if(W(this)){G(this,!1);const n=this.animation;Object(r.k)(n.values,e=>{e.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Object(r.d)(this,{type:"idle",parent:this});const a=t?I(this.get()):B(this.get(),X(this,null!=e?e:n.to));Object(r.n)(this._pendingCalls,a),n.changed&&(n.changed=!1,ae(this,"onRest",a,this))}}}function X(e,t){const n=m(t),a=m(e.get());return Object(r.u)(a,n)}function J(e,t=e.loop,n=e.to){let r=s(t);if(r){const a=!0!==r&&h(r),o=(a||e).reverse,s=!a||a.reset;return Z(i({},e,{loop:t,default:!1,pause:void 0,to:!o||g(n)?n:void 0,from:s?e.from:void 0,reset:s},a))}}function Z(e){const{to:t,from:n}=e=h(e),a=new Set;return r.s.obj(t)&&te(t,a),r.s.obj(n)&&te(n,a),e.keys=a.size?Array.from(a):null,e}function ee(e){const t=Z(e);return r.s.und(t.default)&&(t.default=d(t)),t}function te(e,t){Object(r.l)(e,(e,n)=>null!=e&&t.add(n))}const ne=["onStart","onRest","onChange","onPause","onResume"];function re(e,t,n){e.animation[n]=t[n]!==u(t,n)?c(t[n],e.key):void 0}function ae(e,t,...n){var r,a,o,i;null==(r=(a=e.animation)[t])||r.call(a,...n),null==(o=(i=e.defaultProps)[t])||o.call(i,...n)}const oe=["onStart","onChange","onRest"];let ie=1;class se{constructor(e,t){this.id=ie++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(i({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];r.s.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Z(e)),this}start(e){let{queue:t}=this;return e?t=Object(r.y)(e).map(Z):this.queue=[],this._flush?this._flush(this,t):(pe(this,t),le(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Object(r.k)(Object(r.y)(t),t=>n[t].stop(!!e))}else U(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(r.s.und(e))this.start({pause:!0});else{const t=this.springs;Object(r.k)(Object(r.y)(e),e=>t[e].pause())}return this}resume(e){if(r.s.und(e))this.start({pause:!1});else{const t=this.springs;Object(r.k)(Object(r.y)(e),e=>t[e].resume())}return this}each(e){Object(r.l)(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,a=this._active.size>0,o=this._changed.size>0;(a&&!this._started||o&&!this._started)&&(this._started=!0,Object(r.m)(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));const i=!a&&this._started,s=o||i&&n.size?this.get():null;o&&t.size&&Object(r.m)(t,([e,t])=>{t.value=s,e(t,this,this._item)}),i&&(this._started=!1,Object(r.m)(n,([e,t])=>{t.value=s,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}r.w.onFrame(this._onFrame)}}function le(e,t){return Promise.all(t.map(t=>async function e(t,n,a){const{keys:o,to:i,from:s,loop:l,onRest:c,onResolve:d}=n,f=r.s.obj(n.default)&&n.default;l&&(n.loop=!1),!1===i&&(n.to=null),!1===s&&(n.from=null);const p=r.s.arr(i)||r.s.fun(i)?i:void 0;p?(n.to=void 0,n.onRest=void 0,f&&(f.onRest=void 0)):Object(r.k)(oe,e=>{const a=n[e];if(r.s.fun(a)){const r=t._events[e];n[e]=({finished:e,cancelled:t})=>{const n=r.get(a);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):r.set(a,{value:null,finished:e||!1,cancelled:t||!1})},f&&(f[e]=n[e])}});const h=t._state;n.pause===!h.paused?(h.paused=n.pause,Object(r.n)(n.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(n.pause=!0);const m=(o||Object.keys(t.springs)).map(e=>t.springs[e].start(n)),_=!0===n.cancel||!0===u(n,"cancel");(p||_&&h.asyncId)&&m.push(T(++t._lastAsyncId,{props:n,state:h,actions:{pause:r.v,resume:r.v,start(e,n){_?(U(h,t._lastAsyncId),n(I(t))):(e.onRest=c,n(L(p,e,h,t)))}}})),h.paused&&await new Promise(e=>{h.resumeQueue.add(e)});const g=M(t,await Promise.all(m));if(l&&g.finished&&(!a||!g.noop)){const r=J(n,l,i);if(r)return pe(t,[r]),e(t,r,!0)}return d&&r.w.batchedUpdates(()=>d(g,t,t.item)),g}(e,t))).then(t=>M(e,t))}function ce(e,t){const n=i({},e.springs);return t&&Object(r.k)(Object(r.y)(t),e=>{r.s.und(e.keys)&&(e=Z(e)),r.s.obj(e.to)||(e=i({},e,{to:void 0})),fe(n,e,e=>de(e))}),ue(e,n),n}function ue(e,t){Object(r.l)(t,(t,n)=>{e.springs[n]||(e.springs[n]=t,Object(r.c)(t,e))})}function de(e,t){const n=new $;return n.key=e,t&&Object(r.c)(n,t),n}function fe(e,t,n){t.keys&&Object(r.k)(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function pe(e,t){Object(r.k)(t,t=>{fe(e.springs,t,t=>de(t,e))})}const he=["children"],me=e=>{let{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,he);const o=Object(a.useContext)(_e),i=n.pause||!!o.pause,s=n.immediate||!!o.immediate;n=Object(r.B)(()=>({pause:i,immediate:s}),[i,s]);const{Provider:l}=_e;return a.createElement(l,{value:n},t)},_e=(ge=me,be={},Object.assign(ge,a.createContext(be)),ge.Provider._context=ge,ge.Consumer._context=ge,ge);var ge,be;me.Provider=_e.Provider,me.Consumer=_e.Consumer;const ye=()=>{const e=[],t=function(t){Object(r.i)();const a=[];return Object(r.k)(e,(e,o)=>{if(r.s.und(t))a.push(e.start());else{const r=n(t,e,o);r&&a.push(e.start(r))}}),a};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return Object(r.k)(e,e=>e.pause(...arguments)),this},t.resume=function(){return Object(r.k)(e,e=>e.resume(...arguments)),this},t.set=function(t){Object(r.k)(e,e=>e.set(t))},t.start=function(t){const n=[];return Object(r.k)(e,(e,a)=>{if(r.s.und(t))n.push(e.start());else{const r=this._getProps(t,e,a);r&&n.push(e.start(r))}}),n},t.stop=function(){return Object(r.k)(e,e=>e.stop(...arguments)),this},t.update=function(t){return Object(r.k)(e,(e,n)=>e.update(this._getProps(t,e,n))),this};const n=function(e,t,n){return r.s.fun(e)?e(n,t):e};return t._getProps=n,t};function ve(e,t,n){const o=r.s.fun(t)&&t;o&&!n&&(n=[]);const s=Object(a.useMemo)(()=>o||3==arguments.length?ye():void 0,[]),l=Object(a.useRef)(0),c=Object(r.z)(),u=Object(a.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){const n=ce(e,t);return l.current>0&&!u.queue.length&&!Object.keys(n).some(t=>!e.springs[t])?le(e,t):new Promise(r=>{ue(e,n),u.queue.push(()=>{r(le(e,t))}),c()})}}),[]),d=Object(a.useRef)([...u.ctrls]),f=[],p=Object(r.D)(e)||0;function h(e,n){for(let r=e;r<n;r++){const e=d.current[r]||(d.current[r]=new se(null,u.flush)),n=o?o(r,e):t[r];n&&(f[r]=ee(n))}}Object(a.useMemo)(()=>{Object(r.k)(d.current.slice(e,p),e=>{b(e,s),e.stop(!0)}),d.current.length=e,h(p,e)},[e]),Object(a.useMemo)(()=>{h(0,Math.min(p,e))},n);const m=d.current.map((e,t)=>ce(e,f[t])),g=Object(a.useContext)(me),v=Object(r.D)(g),A=g!==v&&_(g);Object(r.A)(()=>{l.current++,u.ctrls=d.current;const{queue:e}=u;e.length&&(u.queue=[],Object(r.k)(e,e=>e())),Object(r.k)(d.current,(e,t)=>{null==s||s.add(e),A&&e.start({default:g});const n=f[t];n&&(y(e,n.ref),e.ref?e.queue.push(n):e.start(n))})}),Object(r.C)(()=>()=>{Object(r.k)(u.ctrls,e=>e.stop(!0))});const w=m.map(e=>i({},e));return s?[w,s]:w}function Ae(e,t){const n=r.s.fun(e),[[a],o]=ve(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[a,o]:a}let we;function ke(e,t,n){const o=r.s.fun(t)&&t,{reset:l,sort:c,trail:u=0,expires:f=!0,exitBeforeEnter:p=!1,onDestroyed:m,ref:g,config:v}=o?o():t,A=Object(a.useMemo)(()=>o||3==arguments.length?ye():void 0,[]),w=Object(r.y)(e),k=[],E=Object(a.useRef)(null),x=l?null:E.current;Object(r.A)(()=>{E.current=k}),Object(r.C)(()=>(Object(r.k)(E.current,e=>{var t;null==(t=e.ctrl.ref)||t.add(e.ctrl);const n=T.get(e);n&&e.ctrl.start(n.payload)}),()=>{Object(r.k)(E.current,e=>{e.expired&&clearTimeout(e.expirationId),b(e.ctrl,A),e.ctrl.stop(!0)})}));const O=function(e,{key:t,keys:n=t},a){if(null===n){const t=new Set;return e.map(e=>{const n=a&&a.find(n=>n.item===e&&n.phase!==we.LEAVE&&!t.has(n));return n?(t.add(n),n.key):Ee++})}return r.s.und(n)?e:r.s.fun(n)?e.map(n):Object(r.y)(n)}(w,o?o():t,x),C=l&&E.current||[];Object(r.A)(()=>Object(r.k)(C,({ctrl:e,item:t,key:n})=>{b(e,A),s(m,t,n)}));const j=[];if(x&&Object(r.k)(x,(e,t)=>{e.expired?(clearTimeout(e.expirationId),C.push(e)):~(t=j[t]=O.indexOf(e.key))&&(k[t]=e)}),Object(r.k)(w,(e,t)=>{k[t]||(k[t]={key:O[t],item:e,phase:we.MOUNT,ctrl:new se},k[t].ctrl.item=e)}),j.length){let e=-1;const{leave:n}=o?o():t;Object(r.k)(j,(t,r)=>{const a=x[r];~t?(e=k.indexOf(a),k[e]=i({},a,{item:w[t]})):n&&k.splice(++e,0,a)})}r.s.fun(c)&&k.sort((e,t)=>c(e.item,t.item));let D=-u;const N=Object(r.z)(),S=d(t),T=new Map,M=Object(a.useRef)(new Map),P=Object(a.useRef)(!1);Object(r.k)(k,(e,n)=>{const a=e.key,l=e.phase,c=o?o():t;let d,m,_=s(c.delay||0,a);if(l==we.MOUNT)d=c.enter,m=we.ENTER;else{const e=O.indexOf(a)<0;if(l!=we.LEAVE)if(e)d=c.leave,m=we.LEAVE;else{if(!(d=c.update))return;m=we.UPDATE}else{if(e)return;d=c.enter,m=we.ENTER}}if(d=s(d,e.item,n),!(d=r.s.obj(d)?h(d):{to:d}).config){const t=v||S.config;d.config=s(t,e.item,n,m)}const b=i({},S,{delay:_+(D+=u),ref:g,immediate:c.immediate,reset:!1},d);if(m==we.ENTER&&r.s.und(b.from)){const a=o?o():t,i=r.s.und(a.initial)||x?a.from:a.initial;b.from=s(i,e.item,n)}const{onResolve:y}=b;b.onResolve=e=>{s(y,e);const t=E.current,n=t.find(e=>e.key===a);if(n&&(!e.cancelled||n.phase==we.UPDATE)&&n.ctrl.idle){const e=t.every(e=>e.ctrl.idle);if(n.phase==we.LEAVE){const t=s(f,n.item);if(!1!==t){const r=!0===t?0:t;if(n.expired=!0,!e&&r>0)return void(r<=2147483647&&(n.expirationId=setTimeout(N,r)))}}e&&t.some(e=>e.expired)&&(M.current.delete(n),p&&(P.current=!0),N())}};const A=ce(e.ctrl,b);m===we.LEAVE&&p?M.current.set(e,{phase:m,springs:A,payload:b}):T.set(e,{phase:m,springs:A,payload:b})});const B=Object(a.useContext)(me),I=Object(r.D)(B),L=B!==I&&_(B);Object(r.A)(()=>{L&&Object(r.k)(k,e=>{e.ctrl.start({default:B})})},[B]),Object(r.k)(T,(e,t)=>{if(M.current.size){const e=k.findIndex(e=>e.key===t.key);k.splice(e,1)}}),Object(r.A)(()=>{Object(r.k)(M.current.size?M.current:T,({phase:e,payload:t},n)=>{const{ctrl:r}=n;n.phase=e,null==A||A.add(r),L&&e==we.ENTER&&r.start({default:B}),t&&(y(r,t.ref),r.ref&&!P.current?r.update(t):(r.start(t),P.current&&(P.current=!1)))})},l?void 0:n);const U=e=>a.createElement(a.Fragment,null,k.map((t,n)=>{const{springs:o}=T.get(t)||t.ctrl,s=e(i({},o),t.item,t,n);return s&&s.type?a.createElement(s.type,i({},s.props,{key:r.s.str(t.key)||r.s.num(t.key)?t.key:t.ctrl.id,ref:s.ref})):s}));return A?[U,A]:U}!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(we||(we={}));let Ee=1;class xe extends H{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=Object(r.f)(...t);const n=this._get(),a=Object(o.f)(n);Object(o.h)(this,a.create(n))}advance(e){const t=this._get(),n=this.get();Object(r.u)(t,n)||(Object(o.e)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Ce(this._active)&&je(this)}_get(){const e=r.s.arr(this.source)?this.source.map(r.q):Object(r.y)(Object(r.q)(this.source));return this.calc(...e)}_start(){this.idle&&!Ce(this._active)&&(this.idle=!1,Object(r.k)(Object(o.g)(this),e=>{e.done=!1}),r.b.skipAnimation?(r.w.batchedUpdates(()=>this.advance()),je(this)):r.o.start(this))}_attach(){let e=1;Object(r.k)(Object(r.y)(this.source),t=>{Object(r.r)(t)&&Object(r.c)(t,this),z(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Object(r.k)(Object(r.y)(this.source),e=>{Object(r.r)(e)&&Object(r.x)(e,this)}),this._active.clear(),je(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Object(r.y)(this.source).reduce((e,t)=>Math.max(e,(z(t)?t.priority:0)+1),0))}}function Oe(e){return!1!==e.idle}function Ce(e){return!e.size||Array.from(e).every(Oe)}function je(e){e.idle||(e.idle=!0,Object(r.k)(Object(o.g)(e),e=>{e.done=!0}),Object(r.d)(e,{type:"idle",parent:e}))}const De=(e,...t)=>new xe(e,t);r.b.assign({createStringInterpolator:r.g,to:(e,t)=>new xe(e,t)}),r.o.advance},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=a),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return i})),r.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";n.r(t),function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),a=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function i(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=i(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(n+a+r)?e:l(s(e))}function c(e){return e&&e.referenceNode?e.referenceNode:e}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),d=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?u:10===e?d:u||d}function p(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===i(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,a=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(a,0);var i,s,l=o.commonAncestorContainer;if(e!==l&&t!==l||r.contains(a))return"BODY"===(s=(i=l).nodeName)||"HTML"!==s&&p(i.firstElementChild)!==i?p(l):l;var c=h(e);return c.host?m(c.host,t):m(e,h(t).host)}function _(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function g(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function b(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function y(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:b("Height",t,n,r),width:b("Width",t,n,r)}}var v=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function E(e){return k({},e,{right:e.left+e.width,bottom:e.top+e.height})}function x(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=_(e,"top"),r=_(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?y(e.ownerDocument):{},s=o.width||e.clientWidth||a.width,l=o.height||e.clientHeight||a.height,c=e.offsetWidth-s,u=e.offsetHeight-l;if(c||u){var d=i(e);c-=g(d,"x"),u-=g(d,"y"),a.width-=c,a.height-=u}return E(a)}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),a="HTML"===t.nodeName,o=x(e),s=x(t),c=l(e),u=i(t),d=parseFloat(u.borderTopWidth),p=parseFloat(u.borderLeftWidth);n&&a&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=E({top:o.top-s.top-d,left:o.left-s.left-p,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&a){var m=parseFloat(u.marginTop),g=parseFloat(u.marginLeft);h.top-=d-m,h.bottom-=d-m,h.left-=p-g,h.right-=p-g,h.marginTop=m,h.marginLeft=g}return(r&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_(t,"top"),a=_(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=a*o,e.right+=a*o,e}(h,t)),h}function C(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===i(t,"transform");)t=t.parentElement;return t||document.documentElement}function j(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},u=a?C(e):m(e,c(t));if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=O(e,n),a=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),i=t?0:_(n),s=t?0:_(n,"left");return E({top:i-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:a,height:o})}(u,a);else{var d=void 0;"scrollParent"===r?"BODY"===(d=l(s(t))).nodeName&&(d=e.ownerDocument.documentElement):d="window"===r?e.ownerDocument.documentElement:r;var f=O(d,u,a);if("HTML"!==d.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===i(t,"position"))return!0;var r=s(t);return!!r&&e(r)}(u))o=f;else{var p=y(e.ownerDocument),h=p.height,g=p.width;o.top+=f.top-f.marginTop,o.bottom=h+f.top,o.left+=f.left-f.marginLeft,o.right=g+f.left}}var b="number"==typeof(n=n||0);return o.left+=b?n:n.left||0,o.top+=b?n:n.top||0,o.right-=b?n:n.right||0,o.bottom-=b?n:n.bottom||0,o}function D(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var i=j(n,r,o,a),s={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},l=Object.keys(s).map((function(e){return k({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return O(n,r?C(t):m(t,c(n)),r)}function S(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function T(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function M(e,t,n){n=n.split("-")[0];var r=S(e),a={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),i=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return a[i]=t[i]+t[l]/2-r[l]/2,a[s]=n===s?t[s]-r[c]:t[T(s)],a}function P(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function B(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=P(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&o(n)&&(t.offsets.popper=E(t.offsets.popper),t.offsets.reference=E(t.offsets.reference),t=n(t,e))})),t}function I(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function L(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var a=t[r],o=a?""+a+n:e;if(void 0!==document.body.style[o])return o}return null}function U(e){var t=e.ownerDocument;return t?t.defaultView:window}function R(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function F(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function z(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&F(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Q=n&&/Firefox/i.test(navigator.userAgent);function H(e,t,n){var r=P(e,(function(e){return e.name===t})),a=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!a){var o="`"+t+"`",i="`"+n+"`";console.warn(i+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return a}var Y=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],K=Y.slice(3);function W(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=K.indexOf(e),r=K.slice(n+1).concat(K.slice(0,n));return t?r.reverse():r}var q="flip",G="clockwise",V="counterclockwise";var $={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var a=e.offsets,o=a.reference,i=a.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:w({},l,o[l]),end:w({},l,o[l]+o[c]-i[c])};e.offsets.popper=k({},i,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,r=t.offset,a=e.placement,o=e.offsets,i=o.popper,s=o.reference,l=a.split("-")[0];return n=F(+r)?[+r,0]:function(e,t,n,r){var a=[0,0],o=-1!==["right","left"].indexOf(r),i=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=i.indexOf(P(i,(function(e){return-1!==e.search(/,|\s/)})));i[s]&&-1===i[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[i.slice(0,s).concat([i[s].split(l)[0]]),[i[s].split(l)[1]].concat(i.slice(s+1))]:[i];return(c=c.map((function(e,r){var a=(1===r?!o:o)?"height":"width",i=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+a[1],i=a[2];if(!o)return e;if(0===i.indexOf("%")){var s=void 0;switch(i){case"%p":s=n;break;case"%":case"%r":default:s=r}return E(s)[t]/100*o}return"vh"===i||"vw"===i?("vh"===i?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(e,a,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){F(n)&&(a[t]+=n*("-"===e[r-1]?-1:1))}))})),a}(r,i,s,l),"left"===l?(i.top+=n[0],i.left-=n[1]):"right"===l?(i.top+=n[0],i.left+=n[1]):"top"===l?(i.left+=n[0],i.top-=n[1]):"bottom"===l&&(i.left+=n[0],i.top+=n[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=L("transform"),a=e.instance.popper.style,o=a.top,i=a.left,s=a[r];a.top="",a.left="",a[r]="";var l=j(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);a.top=o,a.left=i,a[r]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),w({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),w({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=k({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,a=e.placement.split("-")[0],o=Math.floor,i=-1!==["top","bottom"].indexOf(a),s=i?"right":"bottom",l=i?"left":"top",c=i?"width":"height";return n[s]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[c]),n[l]>o(r[s])&&(e.offsets.popper[l]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!H(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],o=e.offsets,s=o.popper,l=o.reference,c=-1!==["left","right"].indexOf(a),u=c?"height":"width",d=c?"Top":"Left",f=d.toLowerCase(),p=c?"left":"top",h=c?"bottom":"right",m=S(r)[u];l[h]-m<s[f]&&(e.offsets.popper[f]-=s[f]-(l[h]-m)),l[f]+m>s[h]&&(e.offsets.popper[f]+=l[f]+m-s[h]),e.offsets.popper=E(e.offsets.popper);var _=l[f]+l[u]/2-m/2,g=i(e.instance.popper),b=parseFloat(g["margin"+d]),y=parseFloat(g["border"+d+"Width"]),v=_-e.offsets.popper[f]-b-y;return v=Math.max(Math.min(s[u]-m,v),0),e.arrowElement=r,e.offsets.arrow=(w(n={},f,Math.round(v)),w(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(I(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=j(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],a=T(r),o=e.placement.split("-")[1]||"",i=[];switch(t.behavior){case q:i=[r,a];break;case G:i=W(r);break;case V:i=W(r,!0);break;default:i=t.behavior}return i.forEach((function(s,l){if(r!==s||i.length===l+1)return e;r=e.placement.split("-")[0],a=T(r);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,f="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),h=d(c.right)>d(n.right),m=d(c.top)<d(n.top),_=d(c.bottom)>d(n.bottom),g="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&_,b=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(b&&"start"===o&&p||b&&"end"===o&&h||!b&&"start"===o&&m||!b&&"end"===o&&_),v=!!t.flipVariationsByContent&&(b&&"start"===o&&h||b&&"end"===o&&p||!b&&"start"===o&&_||!b&&"end"===o&&m),A=y||v;(f||g||A)&&(e.flipped=!0,(f||g)&&(r=i[l+1]),A&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=k({},e.offsets.popper,M(e.instance.popper,e.offsets.reference,e.placement)),e=B(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,a=r.popper,o=r.reference,i=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return a[i?"left":"top"]=o[n]-(s?a[i?"width":"height"]:0),e.placement=T(t),e.offsets.popper=E(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(!H(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=P(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,a=e.offsets.popper,o=P(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var i,s,l=void 0!==o?o:t.gpuAcceleration,c=p(e.instance.popper),u=x(c),d={position:a.position},f=function(e,t){var n=e.offsets,r=n.popper,a=n.reference,o=Math.round,i=Math.floor,s=function(e){return e},l=o(a.width),c=o(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?u||d||l%2==c%2?o:i:s,p=t?o:s;return{left:f(l%2==1&&c%2==1&&!d&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!Q),h="bottom"===n?"top":"bottom",m="right"===r?"left":"right",_=L("transform");if(s="bottom"===h?"HTML"===c.nodeName?-c.clientHeight+f.bottom:-u.height+f.bottom:f.top,i="right"===m?"HTML"===c.nodeName?-c.clientWidth+f.right:-u.width+f.right:f.left,l&&_)d[_]="translate3d("+i+"px, "+s+"px, 0)",d[h]=0,d[m]=0,d.willChange="transform";else{var g="bottom"===h?-1:1,b="right"===m?-1:1;d[h]=s*g,d[m]=i*b,d.willChange=h+", "+m}var y={"x-placement":e.placement};return e.attributes=k({},y,e.attributes),e.styles=k({},d,e.styles),e.arrowStyles=k({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return z(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&z(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,a){var o=N(a,t,e,n.positionFixed),i=D(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",i),z(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},X=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=k({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(k({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=k({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return k({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&o(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return A(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=N(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=D(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=M(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=B(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,I(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[L("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=function(e,t,n,r){n.updateBound=r,U(e).addEventListener("resize",n.updateBound,{passive:!0});var a=l(e);return function e(t,n,r,a){var o="BODY"===t.nodeName,i=o?t.ownerDocument.defaultView:t;i.addEventListener(n,r,{passive:!0}),o||e(l(i.parentNode),n,r,a),a.push(i)}(a,"scroll",n.updateBound,n.scrollParents),n.scrollElement=a,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return R.call(this)}}]),e}();X.Utils=("undefined"!=typeof window?window:e).PopperUtils,X.placements=Y,X.Defaults=$,t.default=X}.call(this,n(54))},function(e,t,n){"use strict";function r(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function a(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var o={p:a,P:function(e,t){var n,o=e.match(/(P+)(p+)?/)||[],i=o[1],s=o[2];if(!s)return r(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",r(i,t)).replace("{{time}}",a(s,t))}};t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a=n(2),o=n(60);function i(e){Object(a.a)(1,arguments);var t=Object(r.default)(e),n=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var s=Object(o.a)(i),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=Object(o.a)(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(116),a=n(533),o=n(581),i=n(103),s=n(102),l=n(589),c=n(317),u=n(312),d=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=i(t,e),c||(c=t.length>1),t})),s(e,u(e),n),c&&(n=a(n,7,l));for(var d=t.length;d--;)o(n,t[d]);return n}));e.exports=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),a=n(51),o=n(106),i=n(2),s=n(8),l=6048e5;function c(e,t){Object(i.a)(1,arguments);var n=Object(r.default)(e),c=Object(a.a)(n,t).getTime()-function(e,t){Object(i.a)(1,arguments);var n=t||{},r=n.locale,l=r&&r.options&&r.options.firstWeekContainsDate,c=null==l?1:Object(s.a)(l),u=null==n.firstWeekContainsDate?c:Object(s.a)(n.firstWeekContainsDate),d=Object(o.a)(e,t),f=new Date(0);return f.setUTCFullYear(d,0,u),f.setUTCHours(0,0,0,0),Object(a.a)(f,t)}(n,t).getTime();return Math.round(c/l)+1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),a=n(60),o=n(185),i=n(2),s=6048e5;function l(e){Object(i.a)(1,arguments);var t=Object(r.default)(e),n=Object(a.a)(t).getTime()-function(e){Object(i.a)(1,arguments);var t=Object(o.a)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Object(a.a)(n)}(t).getTime();return Math.round(n/s)+1}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=function(){return"undefined"!=typeof window?window:e},a=function(){var e=r();return e&&e.tinymce?e.tinymce:null}}).call(this,n(54))},,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(84),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(a.default)(e,-n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(85),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(a.default)(e,-n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(69),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(a.default)(e,-n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(128),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(a.default)(e,-n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){return Object(a.a)(1,arguments),Object(r.default)(e).getSeconds()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){return Object(a.a)(1,arguments),Object(r.default)(e).getMinutes()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){return Object(a.a)(1,arguments),Object(r.default)(e).getHours()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){return Object(a.a)(1,arguments),Object(r.default)(e).getMonth()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e){return Object(a.a)(1,arguments),Object(r.default)(e).getFullYear()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(4),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(a.default)(e),i=Object(r.a)(t);return n.setSeconds(i),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(4),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(a.default)(e),i=Object(r.a)(t);return n.setMinutes(i),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(4),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(a.default)(e),i=Object(r.a)(t);return n.setHours(i),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n(8),a=n(4),o=n(86),i=n(2);function s(e,t){Object(i.a)(2,arguments);var n=Object(a.default)(e),s=Object(r.a)(t)-(Math.floor(n.getMonth()/3)+1);return Object(o.default)(n,n.getMonth()+3*s)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(8),a=n(4),o=n(2);function i(e,t){Object(o.a)(2,arguments);var n=Object(a.default)(e),i=Object(r.a)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(i),n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e,t){Object(a.a)(2,arguments);var n=Object(r.default)(e),o=Object(r.default)(t);return n.getTime()===o.getTime()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e,t){Object(a.a)(2,arguments);var n=Object(r.default)(e),o=Object(r.default)(t);return n.getTime()>o.getTime()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e,t){Object(a.a)(2,arguments);var n=Object(r.default)(e),o=Object(r.default)(t);return n.getTime()<o.getTime()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(4),a=n(2);function o(e,t){Object(a.a)(2,arguments);var n=Object(r.default)(e).getTime(),o=Object(r.default)(t.start).getTime(),i=Object(r.default)(t.end).getTime();if(!(o<=i))throw new RangeError("Invalid interval");return n>=o&&n<=i}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(14),a=n(2),o=n(8);function i(e,t){Object(a.a)(1,arguments);var n=t||{},i=null==n.additionalDigits?2:Object(o.a)(n.additionalDigits);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var m,_=function(e){var t,n={},r=e.split(s.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],s.timeZoneDelimiter.test(n.date)&&(n.date=e.split(s.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var a=s.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e);if(_.date){var g=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?a:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(_.date,i);m=function(e,t){if(null===t)return new Date(NaN);var n=e.match(l);if(!n)return new Date(NaN);var r=!!n[4],a=d(n[1]),o=d(n[2])-1,i=d(n[3]),s=d(n[4]),c=d(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,c)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}(t,s,c):new Date(NaN);var u=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(p[t]||(h(e)?29:28))}(t,o,i)&&function(e,t){return t>=1&&t<=(h(e)?366:365)}(t,a)?(u.setUTCFullYear(t,o,Math.max(a,i)),u):new Date(NaN)}(g.restDateString,g.year)}if(!m||isNaN(m.getTime()))return new Date(NaN);var b,y=m.getTime(),v=0;if(_.time&&(v=function(e){var t=e.match(c);if(!t)return NaN;var n=f(t[1]),a=f(t[2]),o=f(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,a,o)?n*r.c+a*r.d+1e3*o:NaN}(_.time),isNaN(v)))return new Date(NaN);if(!_.timezone){var A=new Date(y+v),w=new Date(0);return w.setFullYear(A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate()),w.setHours(A.getUTCHours(),A.getUTCMinutes(),A.getUTCSeconds(),A.getUTCMilliseconds()),w}return b=function(e){if("Z"===e)return 0;var t=e.match(u);if(!t)return 0;var n="+"===t[1]?-1:1,a=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,o)?n*(a*r.c+o*r.d):NaN}(_.timezone),isNaN(b)?new Date(NaN):new Date(y+v+b)}var s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function f(e){return e&&parseFloat(e.replace(",","."))||0}var p=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400==0||e%4==0&&e%100!=0}},function(e,t,n){"use strict";var r=n(282);e.exports=function(){return r()&&!!Symbol.toStringTag}},function(e,t,n){"use strict";var r=SyntaxError,a=Function,o=TypeError,i=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var l=function(){throw new o},c=s?function(){try{return l}catch(e){try{return s(arguments,"callee").get}catch(e){return l}}}():l,u=n(490)(),d=Object.getPrototypeOf||function(e){return e.__proto__},f={},p="undefined"==typeof Uint8Array?void 0:d(Uint8Array),h={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":u?d([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?d(d([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?d((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?d((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?d(""[Symbol.iterator]()):void 0,"%Symbol%":u?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=n(214),g=n(492),b=_.call(Function.call,Array.prototype.concat),y=_.call(Function.apply,Array.prototype.splice),v=_.call(Function.call,String.prototype.replace),A=_.call(Function.call,String.prototype.slice),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,E=function(e,t){var n,a=e;if(g(m,a)&&(a="%"+(n=m[a])[0]+"%"),g(h,a)){var s=h[a];if(s===f&&(s=function e(t){var n;if("%AsyncFunction%"===t)n=i("async function () {}");else if("%GeneratorFunction%"===t)n=i("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=i("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&(n=d(a.prototype))}return h[t]=n,n}(a)),void 0===s&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:a,value:s}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');var n=function(e){var t=A(e,0,1),n=A(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var a=[];return v(e,w,(function(e,t,n,r){a[a.length]=n?v(r,k,"$1"):t||e})),a}(e),a=n.length>0?n[0]:"",i=E("%"+a+"%",t),l=i.name,c=i.value,u=!1,d=i.alias;d&&(a=d[0],y(n,b([0,1],d)));for(var f=1,p=!0;f<n.length;f+=1){var m=n[f],_=A(m,0,1),x=A(m,-1);if(('"'===_||"'"===_||"`"===_||'"'===x||"'"===x||"`"===x)&&_!==x)throw new r("property names with quotes must have matching quotes");if("constructor"!==m&&p||(u=!0),g(h,l="%"+(a+="."+m)+"%"))c=h[l];else if(null!=c){if(!(m in c)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&f+1>=n.length){var O=s(c,m);c=(p=!!O)&&"get"in O&&!("originalValue"in O.get)?O.get:c[m]}else p=g(c,m),c=c[m];p&&!u&&(h[l]=c)}}return c}},function(e,t,n){"use strict";var r=n(491);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";var r=n(214),a=n(213),o=a("%Function.prototype.apply%"),i=a("%Function.prototype.call%"),s=a("%Reflect.apply%",!0)||r.call(i,o),l=a("%Object.getOwnPropertyDescriptor%",!0),c=a("%Object.defineProperty%",!0),u=a("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(r,i,arguments);return l&&c&&l(t,"length").configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))}),t};var d=function(){return s(r,o,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),h=y(p),m=n(6),_=n(15),g=n(3),b=y(n(504));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function A(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var w=function(e){var t=e.children;return(0,_.createPortal)(t,document.body)},k=(0,m.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(v(n,"options",o,n),v(n,"parent_coordinates",i,n),v(n,"new_user_input",s,n),v(n,"new_user_name",l,n),v(n,"new_user_loading",c,n),v(n,"dimensions",u,n),n.store=n.props.store,n.task=n.props.task,n.tasks=n.props.tasks,n.tasks&&1==n.tasks.selected.length&&(n.task=n.tasks.selected[0]),n.handleEscape=n.handleEscape.bind(n),n.handleHoursChange=n.handleHoursChange.bind(n),n.handleQuery=n.handleQuery.bind(n),n.save=n.save.bind(n),n.close=n.close.bind(n),n.handleKeyboard=n.handleKeyboard.bind(n),n.handleClickOutside=n.handleClickOutside.bind(n),n.users=n.store.users.filtered.filter((function(e){return e.id&&n.store.users.get(e.id)})).map((function(e){return{belongs_to_project:e.belongs_to_project,email:e.email,name:e.name,photo:e.photo,type:e.type,id:e.id}})),n.task){if(n.task.users&&n.task.users.length>0){var r=n.task.getEstimatedHoursPerUser(n.task,n.task.get_estimated_hours.estimated_hours);n.options.selected_users=Object.keys(r).map((function(e){return r[e]}))}n.task.user&&(!n.task.users||n.task.users&&0==n.task.users.length)&&n.task.user.id&&(n.options.selected_users=[{id:n.task.user.id,name:n.task.user.name,hours:n.task.get_estimated_hours.estimated_hours}])}return window.picker=n,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),f(t,[{key:"componentDidMount",value:function(){this.calculatePosition(),document.addEventListener("keydown",this.handleKeyboard),document.addEventListener("mousedown",this.handleClickOutside)}},{key:"calculatePosition",value:function(){var e=this.node.getBoundingClientRect().top,t=this.node.getBoundingClientRect().bottom,n=document.documentElement.clientHeight;this.dimensions.bottom=t,this.dimensions.original_top=e,e+400>t&&(t=e+400,this.dimensions.bottom=t),this.dimensions.top=t>n?n-t:-5;var r=(0,_.findDOMNode)(this).parentNode.getBoundingClientRect();this.parent_coordinates.x=r.x-20,this.parent_coordinates.y=r.y,this.parent_coordinates.y+$(".cell-dropdown-container",this.node).height()>=$(window).height()-50&&(this.parent_coordinates.y=$(window).height()-$(".cell-dropdown-container",this.node).height()-50),this.parent_coordinates.x<0&&(this.parent_coordinates.x=20)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyboard),document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"handleClickOutside",value:function(e){this.node&&!this.node.contains(e.target)&&this.close(e)}},{key:"applyToSelected",value:function(e,t){this.props.task?t(this.props.task):this.props.tasks&&this.props.tasks.applyToSelected({},t)}},{key:"handleKeyboard",value:function(e){27==e.keyCode&&this.close()}},{key:"isUserSelected",value:function(e){return this.options.selected_users.filter((function(t){return t.id==e.id})).length>0}},{key:"handleQuery",value:function(e){this.options.query=e.target.value}},{key:"handleEscape",value:function(e){console.log("handling escape"),27==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.close(e))}},{key:"handleHoursChange",value:function(e,t){var n=e.target.value;n.match(/^[0-9]{0,4}([.]{0,1})([0-9]{0,4})?$/)&&(t.hours=n)}},{key:"close",value:function(e){this.props.afterClose&&this.props.afterClose(e);var t=this.store.uistate;t.task_editing_cell=!1,t.active_field=!1}},{key:"balanceHours",value:function(){var e=this;if(this.task)if(this.task.get_estimated_hours.estimated_hours&&this.task.get_estimated_hours.editable){parseFloat(this.task.get_estimated_hours.estimated_hours);var t=parseFloat((this.task.get_estimated_hours.estimated_hours/this.options.selected_users.length).toFixed(2)),n=parseFloat((parseFloat(this.task.get_estimated_hours.estimated_hours)-t*this.options.selected_users.length).toPrecision(4));this.options.selected_users.forEach((function(r,a){a==e.options.selected_users.length-1&&n?r.hours=t+n:r.hours=t}))}else this.options.selected_users.forEach((function(e){e.hours=""}))}},{key:"toggleUser",value:function(e){return void 0===e.hours&&(e.hours=0),this.isUserSelected(e)?(this.options.selected_users=this.options.selected_users.filter((function(t){return t.id!=e.id})),this.calculatePosition(),void this.balanceHours()):0==this.options.selected_users.length?(this.options.selected_users=[d({},e)],this.balanceHours(),void this.calculatePosition()):(this.options.selected_users.length>0&&(this.options.selected_users=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.options.selected_users),[d({},e)])),void this.calculatePosition())}},{key:"save",value:function(e){var t=this;console.log(this.options.selected_users.map((function(e){return{id:e.id,name:e.name,hours:parseFloat(e.hours)}}))),this.applyToSelected({},(function(e){e.changeAssignee(t.options.selected_users.map((function(e){return{id:e.id,name:e.name,hours:parseFloat(e.hours)||""}})))})),this.close(e)}},{key:"renderUserRow",value:function(e){var t=this,n=void 0!==e.photo&&e.photo&&void 0!==e.photo.image_60x60&&""!=e.photo.image_60x60;return this.isUserSelected(e),h.default.createElement("tr",{className:[b.default.row_option].join(" ")},h.default.createElement("td",{className:b.default.row_action,onClick:function(n){return t.toggleUser(e)}},this.isUserSelected(e)&&h.default.createElement("i",{className:"fa fa-check-square"}),!this.isUserSelected(e)&&h.default.createElement("i",{className:"far fa-square"})),h.default.createElement("td",{className:b.default.row_photo,style:{paddingLeft:"10px",paddingRight:"10px"},onClick:function(n){return t.toggleUser(e)}},n&&h.default.createElement("a",{href:"#"},h.default.createElement("img",{src:e.photo.image_60x60,className:"assigned-photo",style:{maxWidth:"none",width:"16px",borderRadius:"16px"}})),!n&&e.name&&h.default.createElement("a",{href:"#"},h.default.createElement("i",{style:{fontSize:"16px",marginTop:"2px"},className:"fa fa-user-circle"})),!n&&!e.name&&e.id&&h.default.createElement("i",{style:{fontSize:"16px"},className:"fa fa-user-circle"}),!n&&!e.name&&!e.id&&h.default.createElement("i",{style:{fontSize:"16px"},className:"fa fa-user-circle"})),h.default.createElement("td",{className:b.default.row_name,style:{flex:"1"},onClick:function(n){return t.toggleUser(e)}},e.name?e.name:e.id?e.email||e.id:"Unassigned"),this.task&&this.task.get_estimated_hours.editable&&this.store.uistate.columns.estimatedhours.active&&h.default.createElement("td",{className:b.default.row_hours,style:{paddingLeft:"10px",paddingRight:"10px"}},this.task&&this.task.get_estimated_hours.editable&&this.isUserSelected(e)&&h.default.createElement("input",{autoFocus:!this.store.uistate.is_mobile,type:"text",value:e.hours||"",onChange:function(n){return t.handleHoursChange(n,e)},onKeyDown:function(n){return t.handleHoursChange(n,e)}}),this.task&&this.task.get_estimated_hours.editable&&!this.isUserSelected(e)&&h.default.createElement("input",{type:"text",value:e.hours||"",onChange:function(n){return t.handleHoursChange(n,e)},onKeyDown:function(n){return t.handleHoursChange(n,e)},disabled:!0})))}},{key:"newResource",value:function(){var e=this;""!=this.new_user_name?0==this.store.users.findByName(this.new_user_name).length?(this.new_user_loading=!0,this.store.users.create({name:this.new_user_name}).then((function(t){e.new_user_loading=!1;var n=store.users.get(t.id),r=n.getAttributes?n.getAttributes():n;e.toggleUser(r),document.removeEventListener("mousedown",e.handleClickOutside),e.store.users.offerConvertToMember(n),e.new_user_input=!1,e.new_user_name=""}))):alert("Resource already exists"):alert("Name can't be empty")}},{key:"handleNewResourceKeyDown",value:function(e){13==e.keyCode&&this.newResource()}},{key:"renderNewUserRow",value:function(){var e=this;return h.default.createElement("tr",{className:[b.default.row_option].join(" ")},this.new_user_input&&h.default.createElement("td",{colspan:4},h.default.createElement("div",null,h.default.createElement("input",{value:this.new_user_name,style:{width:"90px",marginRight:"10px"},type:"text",autoFocus:!0,onChange:function(t){e.new_user_name=t.target.value},onKeyDown:function(t){return e.handleNewResourceKeyDown(t)}}),h.default.createElement("button",{disabled:this.new_user_loading,className:"btn btn-mini btn-flat btn-success",onClick:function(){return e.newResource()}},this.new_user_loading?h.default.createElement("i",{className:"fa fa-spin fa-spinner"}):"Create"))),!this.new_user_input&&h.default.createElement(h.default.Fragment,null,h.default.createElement("td",{colspan:4,className:b.default.row_name,style:{flex:"1"}},h.default.createElement("button",{className:"btn btn-flat btn-info btn-mini",onClick:function(t){e.new_user_input=!0,""!=e.options.query&&(e.new_user_name=e.options.query)}},h.default.createElement("i",{className:"fa fa-plus-circle"})," New resource")," ",this.options.selected_users.length>1&&this.task&&this.task.get_estimated_hours.editable&&this.task.get_estimated_hours.estimated_hours&&this.task.get_estimated_hours.estimated_hours>0&&h.default.createElement("button",{className:"btn btn-flat btn-info btn-mini",onClick:function(){return e.balanceHours()}},h.default.createElement("i",{className:"fa fa-plus-circle"})," Balance hours evenly"))))}},{key:"render",value:function(){var e=this;return h.default.createElement("div",{className:[this.props.className].join(" "),style:this.props.style},h.default.createElement(w,null,h.default.createElement("div",{ref:function(t){return e.node=t},className:["cell","editing","forced_overflow"].join(" "),style:{left:this.parent_coordinates.x+"px",top:this.parent_coordinates.y+10+"px",position:"absolute",zIndex:1010,display:"block !important"},onClick:function(e){return e.stopPropagation()}},this.dimensions&&h.default.createElement("div",{className:"cell-dropdown-container",style:{position:"absolute",top:this.dimensions.top+"px",background:"#ffffff"}},h.default.createElement("div",{style:{display:"flex",padding:"5px 10px"}},h.default.createElement("div",null,h.default.createElement("i",{className:"fa fa-search",style:{fontSize:"12px",marginTop:"8px"}})),h.default.createElement("div",null,h.default.createElement("input",{type:"text",className:b.default.search_input,placeholder:"Search...",onChange:this.handleQuery,autoFocus:!this.store.uistate.is_mobile}))),h.default.createElement("table",{className:["table",b.default.table].join(" "),style:{marginBottom:0}},h.default.createElement("tr",{className:[b.default.row_option].join(" ")},h.default.createElement("td",{className:b.default.row_action},h.default.createElement("i",{style:{visibility:"hidden"},className:"far fa-square"})),h.default.createElement("td",{className:b.default.row_photo,style:{paddingLeft:"10px",paddingRight:"10px"}},h.default.createElement("a",{style:{visibility:"hidden"},href:"#"},h.default.createElement("i",{style:{fontSize:"16px",marginTop:"2px"},className:"fa fa-user-circle"}))),h.default.createElement("td",{className:b.default.row_name,style:{verticalAlign:"bottom"}},"Name"),this.task&&this.task.get_estimated_hours.editable&&this.store.uistate.columns.estimatedhours.active&&h.default.createElement("td",{className:b.default.row_hours,style:{paddingLeft:"10px",paddingRight:"10px",lineHeight:"16px",textAlign:"center"}},"Estim.",h.default.createElement("br",null),"Hrs (",this.task.get_estimated_hours.estimated_hours,")")),this.options.selected_users.length>0&&this.options.selected_users.map((function(t){return e.renderUserRow(t)}))),h.default.createElement("div",{style:{maxHeight:"200px",overflowY:"scroll"}},h.default.createElement("table",{className:["table",b.default.table].join(" ")},this.filtered_users_list.map((function(t){return e.renderUserRow(t)})),this.renderNewUserRow())),h.default.createElement("div",{style:{padding:"5px 10px",borderTop:"1px solid #ccc"}},h.default.createElement("div",{className:"pull-right",style:{marginLeft:"10px"}},h.default.createElement("button",{className:"btn btn-flat btn-success btn-mini",onClick:this.save},"Save")),h.default.createElement("div",{className:"pull-right"},h.default.createElement("button",{className:"btn btn-flat btn-mini",onClick:this.close},"Close")),h.default.createElement("div",{style:{clear:"both"}}))))))}},{key:"filtered_users_list",get:function(){var e=this;return this.users.filter((function(t){return!e.isUserSelected(t)&&0!==t.id&&t.name.toLowerCase().indexOf(e.options.query.toLowerCase())>-1}))}}]),t}(),o=A(a.prototype,"options",[g.observable],{enumerable:!0,initializer:function(){return{selected_users:[],query:""}}}),i=A(a.prototype,"parent_coordinates",[g.observable],{enumerable:!0,initializer:function(){return{x:0,y:0}}}),s=A(a.prototype,"new_user_input",[g.observable],{enumerable:!0,initializer:function(){return!1}}),l=A(a.prototype,"new_user_name",[g.observable],{enumerable:!0,initializer:function(){return""}}),c=A(a.prototype,"new_user_loading",[g.observable],{enumerable:!0,initializer:function(){return!1}}),u=A(a.prototype,"dimensions",[g.observable],{enumerable:!0,initializer:function(){return{top:-5,bottom:0,original_top:0}}}),A(a.prototype,"filtered_users_list",[g.computed],Object.getOwnPropertyDescriptor(a.prototype,"filtered_users_list"),a.prototype),r=a))||r;t.default=k},function(e,t,n){var r=n(508);"string"==typeof r&&(r=[[e.i,r,""]]);n(219)(r,{transform:void 0}),r.locals&&(e.exports=r.locals)},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",a=e[3];if(!a)return r;if(t&&"function"==typeof btoa){var o=(n=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),i=a.sources.map((function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"}));return[r].concat(i).concat([o]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(r[o]=!0)}for(a=0;a<e.length;a++){var i=e[a];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){var r,a,o={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=r.apply(this,arguments)),a}),s=function(e){var t={};return function(e){return void 0===t[e]&&(t[e]=function(e){return document.querySelector(e)}.call(this,e)),t[e]}}(),l=null,c=0,u=[],d=n(509);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=o[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(b(r.parts[i],t))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(b(r.parts[i],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},a=0;a<e.length;a++){var o=e[a],i=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function _(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),h(e,t),t}function g(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function b(e,t){var n,r,a,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var i=c++;n=l||(l=_(t)),r=A.bind(null,n,i,!1),a=A.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,a=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||o)&&(r=d(r)),a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),a=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=_(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),a=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var i=n[a];(s=o[i.id]).refs--,r.push(s)}for(e&&f(p(e,t),t),a=0;a<r.length;a++){var s;if(0===(s=r[a]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var y,v=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function A(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(529),a=n(100),o=n(155),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(79)(n(45),"Map");e.exports=r},function(e,t,n){var r=n(548),a=n(555),o=n(557),i=n(558),s=n(559);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(227),a=n(117),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(305);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(566),a=n(308),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t,n){var r=n(303)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(314);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(31),a=n(162),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||i.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(596),a=n(38);e.exports=function e(t,n,o,i,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:r(t,n,o,i,e,s))}},function(e,t,n){var r=n(225),a=n(597),o=n(598);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){e.exports={mentions:"_3Ty3285JdDtkcHLW59kX9i","mentions--singleLine":"_2TBbAflyolDIIj2RVymUlA",mentions__control:"_3puFG-V2AB-ZpcZvb9AU6E",mentions__higlighter:"_24_EZWWYwA8_BKZDvUkijW",mentions__input:"_3m4hg6jr_VsHP3a1NpZQ-g","mentions--multiLine":"_3YBG2XPj3HDuf4tt3xlJvp",mentions__highlighter:"_37YgxUIKv06CKeVYw7zPgU",mentions__suggestions__list:"DG0Lo5gDE4ct7ksG3h2Lo",mentions__suggestions__item:"_2bJ7lvbKdWEL0RK1xCuZCM","mentions__suggestions__item--focused":"_2YAfO_-aHYgPYtdtaaIeFM",mentions__mention:"_1XzTTGfvl-huv_nDAdSgix"}},function(e,t,n){"use strict";t.__esModule=!0,t.AMPERSAND=t.CLOSEPAREN=t.CLOSEANGLEBRACKET=t.CLOSEBRACKET=t.CLOSEBRACE=t.OPENPAREN=t.OPENANGLEBRACKET=t.OPENBRACKET=t.OPENBRACE=t.WS=t.TLD=t.SYM=t.UNDERSCORE=t.SLASH=t.MAILTO=t.PROTOCOL=t.QUERY=t.POUND=t.PLUS=t.NUM=t.NL=t.LOCALHOST=t.PUNCTUATION=t.DOT=t.COLON=t.AT=t.DOMAIN=t.Base=void 0;var r=n(333),a=n(165),o=(0,r.createTokenClass)();function i(e){var t=e?{v:e}:{};return(0,a.inherits)(o,(0,r.createTokenClass)(),t)}o.prototype={toString:function(){return this.v+""}};var s=i(),l=i("@"),c=i(":"),u=i("."),d=i(),f=i(),p=i("\n"),h=i(),m=i("+"),_=i("#"),g=i(),b=i("mailto:"),y=i("?"),v=i("/"),A=i("_"),w=i(),k=i(),E=i(),x=i("{"),O=i("["),C=i("<"),j=i("("),D=i("}"),N=i("]"),S=i(">"),T=i(")"),M=i("&");t.Base=o,t.DOMAIN=s,t.AT=l,t.COLON=c,t.DOT=u,t.PUNCTUATION=d,t.LOCALHOST=f,t.NL=p,t.NUM=h,t.PLUS=m,t.POUND=_,t.QUERY=y,t.PROTOCOL=g,t.MAILTO=b,t.SLASH=v,t.UNDERSCORE=A,t.SYM=w,t.TLD=k,t.WS=E,t.OPENBRACE=x,t.OPENBRACKET=O,t.OPENANGLEBRACKET=C,t.OPENPAREN=j,t.CLOSEBRACE=D,t.CLOSEBRACKET=N,t.CLOSEANGLEBRACKET=S,t.CLOSEPAREN=T,t.AMPERSAND=M},function(e,t,n){var r=n(335),a=n(620);for(var o in(t=e.exports=function(e,t){return new a(t).process(e)}).FilterCSS=a,r)t[o]=r[o];"undefined"!=typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,a;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(Object.assign,n(0)),s=d(i),l=n(6),c=n(3),u=(d(n(120)),n(68),d(n(633)));function d(e){return e&&e.__esModule?e:{default:e}}var f,p,h,m,_,g,b=(0,l.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reactions=[],n.store=n.props.store,n.task=n.props.task,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.store.uistate,s.default.createElement(u.default,{key:this.task.id,id:this.task.id,task:this.task,index:this.props.index,hierarchy_support:this.props.hierarchy_support,store:this.store})}},{key:"collapsed",get:function(){return!(!this.props.hierarchy_support||!this.task.collapsed)}}]),t}(),f=a.prototype,p="collapsed",h=[c.computed],m=Object.getOwnPropertyDescriptor(a.prototype,"collapsed"),_=a.prototype,g={},Object.keys(m).forEach((function(e){g[e]=m[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=h.slice().reverse().reduce((function(e,t){return t(f,p,e)||e}),g),_&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(_):void 0,g.initializer=void 0),void 0===g.initializer&&(Object.defineProperty(f,p,g),g=null),r=a))||r;t.default=b},function(e,t,n){e.exports={column:"SsGB03KZ0Al78kZ3LI1rM",inner_column:"_1D5I0Bfvkc5Q7ZCdDp2J2i",inner_column_content:"_3Zi79oLJHuHEIYwY6L6sOO",inner_column_content_scrollable:"_1vd46D-gZ3FRIanbQ4EsuJ",new_task:"_1bwWJzdBVQdp1x8ZOxJUjp",item:"_2b6t0XqEu8WXoKQpbhcFL",element:"bPbMREQMOrLW8V7M2IlwF"}},function(e,t,n){var r=n(163),a=n(319),o=n(320);e.exports=function(e,t){return o(a(e,t,r),e+"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(3),h=_(n(19)),m=_(n(245));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var f=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return f.storage_type="HTTPSaver",g(f,"id",a,f),g(f,"name",o,f),g(f,"access",i,f),g(f,"owner",s,f),g(f,"admin",l,f),g(f,"archived",c,f),g(f,"collection",u,f),g(f,"resourcesCollection",d,f),f.custom_globalstore=n,f.user=r,f.setCollections=f.setCollections.bind(f),f.setCollections(),f}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),f(t,[{key:"setCollections",value:function(){this.resources&&(this.resourcesCollection=new m.default(this.globalstore,this.resources,this.id,this.user))}},{key:"toJS",value:function(){return Object.assign({},this)}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"fromJS",value:function(e,n){return new t(e,n)}},{key:"defaults",value:function(){return{id:"",name:"",access:{},owner:"",admin:{},archived:!1}}}]),t}(),a=b(r.prototype,"id",[p.observable],{enumerable:!0,initializer:null}),o=b(r.prototype,"name",[p.observable],{enumerable:!0,initializer:null}),i=b(r.prototype,"access",[p.observable],{enumerable:!0,initializer:null}),s=b(r.prototype,"owner",[p.observable],{enumerable:!0,initializer:null}),l=b(r.prototype,"admin",[p.observable],{enumerable:!0,initializer:null}),c=b(r.prototype,"archived",[p.observable],{enumerable:!0,initializer:null}),u=b(r.prototype,"collection",[p.observable],{enumerable:!0,initializer:null}),d=b(r.prototype,"resourcesCollection",[p.observable],{enumerable:!0,initializer:null}),r);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),c=d(n(682)),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),d(n(20)));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h=(r=function(e){function t(e,n,r,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return l.storage_type="HTTPSaver",f(l,"non_project_members_expanded",a,l),f(l,"filtered_users",o,l),f(l,"search_query",i,l),l.globalstore=e,l.prefill=l.prefill.bind(l),l.workbook_id=r,l.user=s,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),s(t,[{key:"model",value:function(){return c.default}},{key:"prefill",value:function(e){return e}},{key:"url",value:function(){return"/management/workbooks/"+this.workbook_id+"/resources"}},{key:"prefill",value:function(e){return e}}]),t}(),a=p(r.prototype,"non_project_members_expanded",[l.observable],{enumerable:!0,initializer:function(){return!0}}),o=p(r.prototype,"filtered_users",[l.observable],{enumerable:!0,initializer:function(){return[]}}),i=p(r.prototype,"search_query",[l.observable],{enumerable:!0,initializer:function(){return""}}),r);t.default=h},function(e,t,n){"use strict";var r=n(698),a=n(123),o=n(39),i=n(714),s=n(80),l=n(247),c=n(249),u=n(368),d=n(715),f=n(384),p=n(168),h=n(34),m=n(366),_=n(21),g=n(255),b=n(781),y=n(395),v=n(169),A=n(782),w=n(785),k=n(58),E=n(396),x=n(791),O={Editor:d,EditorBlock:f,EditorState:_,CompositeDecorator:i,Entity:p,EntityInstance:m,BlockMapBuilder:a,CharacterMetadata:o,ContentBlock:s,ContentState:l,RawDraftContentState:b,SelectionState:v,AtomicBlockUtils:r,KeyBindingUtil:g,Modifier:h,RichUtils:y,DefaultDraftBlockRenderMap:c,DefaultDraftInlineStyle:u,convertFromHTML:n(393),convertFromRaw:w,convertToRaw:A,genKey:k,getDefaultKeyBinding:E,getVisibleSelectionRect:x};e.exports=O},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(123),i=n(39),s=n(80),l=n(40),c=n(168),u=n(169),d=n(58),f=n(365),p=n(75),h=n(17),m=n(367),_=h.List,g=h.Record,b=h.Repeat,y=h.Map,v=h.OrderedMap,A=g({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),w=p("draft_tree_data_support")?l:s,k=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.getEntityMap=function(){return c},s.getBlockMap=function(){return this.get("blockMap")},s.getSelectionBefore=function(){return this.get("selectionBefore")},s.getSelectionAfter=function(){return this.get("selectionAfter")},s.getBlockForKey=function(e){return this.getBlockMap().get(e)},s.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlocksAsArray=function(){return this.getBlockMap().toArray()},s.getFirstBlock=function(){return this.getBlockMap().first()},s.getLastBlock=function(){return this.getBlockMap().last()},s.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},s.getLastCreatedEntityKey=function(){return c.__getLastCreatedEntityKey()},s.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},s.createEntity=function(e,t,n){return c.__create(e,t,n),this},s.mergeEntityData=function(e,t){return c.__mergeData(e,t),this},s.replaceEntityData=function(e,t){return c.__replaceData(e,t),this},s.addEntity=function(e){return c.__add(e),this},s.getEntity=function(e){return c.__get(e)},s.getAllEntities=function(){return c.__getAll()},s.loadWithEntities=function(e){return c.__loadWithEntities(e)},a.createFromBlockArray=function(e,t){var n=Array.isArray(e)?e:e.contentBlocks,r=o.createFromArray(n),i=r.isEmpty()?new u:u.createEmpty(r.first().getKey());return new a({blockMap:r,entityMap:t||c,selectionBefore:i,selectionAfter:i})},a.createFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=e.split(t).map((function(e){return e=m(e),new w({key:d(),text:e,type:"unstyled",characterList:_(b(i.EMPTY,e.length))})}));return a.createFromBlockArray(n)},a.fromJS=function(e){return new a(r({},e,{blockMap:v(e.blockMap).map(a.createContentBlockFromJS),selectionBefore:new u(e.selectionBefore),selectionAfter:new u(e.selectionAfter)}))},a.createContentBlockFromJS=function(e){var t=e.characterList;return new w(r({},e,{data:y(e.data),characterList:null!=t?_((Array.isArray(t)?t:f(t)).map((function(e){return i.fromJS(e)}))):void 0}))},a}(A);e.exports=k},function(e,t,n){"use strict";var r=n(170),a=n(18),o="֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",i="؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾",s=new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+o+i+"]"),l=new RegExp("["+o+i+"]");function c(e){var t=s.exec(e);return null==t?null:t[0]}function u(e){var t=c(e);return null==t?r.NEUTRAL:l.exec(t)?r.RTL:r.LTR}function d(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=u(e);return n===r.NEUTRAL?t:n}function f(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||a(!1),d(e,t)}var p={firstStrongChar:c,firstStrongCharDir:u,resolveBlockDir:d,getDirection:f,isDirectionLTR:function(e,t){return f(e,t)===r.LTR},isDirectionRTL:function(e,t){return f(e,t)===r.RTL}};e.exports=p},function(e,t,n){"use strict";var r=n(0),a=n(81),o=(0,n(17).Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:r.createElement("ul",{className:a("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:r.createElement("ol",{className:a("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:r.createElement("pre",{className:a("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=o},function(e,t,n){"use strict";var r=n(377).notEmptyKey;function a(e,t){return r(t)&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),o=t.getAnchorOffset();return o>0?(n=e.getBlockForKey(r).getEntityAt(o-1))!==e.getBlockForKey(r).getEntityAt(o)?null:a(e.getEntityMap(),n):null}var i=t.getStartKey(),s=t.getStartOffset(),l=e.getBlockForKey(i);return n=s===l.getLength()?null:l.getEntityAt(s),a(e.getEntityMap(),n)}},function(e,t,n){"use strict";var r=n(731);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";function r(e,t){return!!t&&(e===t.documentElement||e===t.body)}var a={getTop:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=a},function(e,t,n){"use strict";n(254),e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),a=n.getStartKey(),o=n.getStartOffset(),i=a,s=0;if(t>o){var l=r.getKeyBefore(a);null==l?i=a:(i=l,s=r.getBlockForKey(l).getText().length)}else s=o-t;return n.merge({focusKey:i,focusOffset:s,isBackward:!0})}},function(e,t,n){"use strict";var r=n(386);e.exports=r},function(e,t,n){"use strict";var r=n(36),a=n(759),o=r.isPlatform("Mac OS X"),i={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return o&&e.altKey},usesMacOSHeuristics:function(){return o},hasCommandModifier:function(e){return o?!!e.metaKey&&!e.altKey:i.isCtrlKeyCommand(e)},isSoftNewlineEvent:a};e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6);n(3);var c=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.clickFunc=n.props.clickFunc,n.activationBoolean=n.props.activationBoolean,n.text=n.props.text,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return s.default.createElement("a",{onClick:this.clickFunc,className:"radio-btn"},s.default.createElement("i",{className:["fa-circle","fa-fw",this.activationBoolean()?"fas":"far"].join(" ")}),"  ",this.text)}}]),t}())||r;t.default=c},function(e,t,n){"use strict";var r=s(n(861)),a=s(n(866)),o=s(n(405)),i=s(n(403));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:o.default,ReplaceTransition:a.default,CSSTransition:r.default}},function(e,t,n){"use strict";n.r(t),n.d(t,"MentionsInput",(function(){return ce})),n.d(t,"Mention",(function(){return $}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(15),l=n.n(s),c=n(37),u=n.n(c),d=n(412),f=n.n(d),p=n(188),h=n.n(p),m=n(93),_=n.n(m),g=n(108),b=n.n(g),y=n(41),v=n.n(y),A=n(413),w=n.n(A),k="__id__",E="__display__",x="__type__",O=function(e,t){return(e=null===e?Number.MAX_VALUE:e)-(null===t?Number.MAX_VALUE:t)},C=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},j=function(e){var t=C(e);return t=(t=(t=t.replace(E,"(.+?)")).replace(k,"(.+?)")).replace(x,"(.+?)"),new RegExp(t,"g")},D=function(e,t,n,r){return e.substring(0,t)+r+e.substring(n)},N=function(e,t){var n=parseFloat(window.getComputedStyle(e,null).getPropertyValue(t));return w()(n)?n:0},S=function(e,t,n){if("id"!==t&&"display"!==t&&"type"!==t)throw new Error("parameterName must be 'id', 'display', or 'type'");var r=e.indexOf(E),a=e.indexOf(k),o=e.indexOf(x);if(r<0&&(r=null),a<0&&(a=null),o<0&&(o=null),null===r&&null===a)throw new Error("The markup `"+e+"` must contain at least one of the placeholders `__id__` or `__display__`");if(null===o&&"type"===t)return null;var i=[r,a,o].sort(O);return null===r&&(r=a),null===a&&(a=r),n&&0===function(e){return new RegExp(e.toString()+"|").exec("").length-1}(n)?"type"===t?null:0:"id"===t?i.indexOf(a):"display"===t?i.indexOf(r):"type"===t?null===o?null:i.indexOf(o):void 0},T=function(e,t,n,r,a,o){o=o||j(t);for(var i=S(t,"display",o),s=S(t,"id",o),l=S(t,"type",o),c=void 0,u=0,d=0;null!==(c=o.exec(e));){var f=c[s+1],p=c[i+1],h=null!==l?c[l+1]:null;a&&(p=a(f,p,h));var m=e.substring(u,c.index);n(m,u,d),d+=m.length,r(c[0],c.index,d,f,p,h,u),d+=p.length,u=o.lastIndex}u<e.length&&n(e.substring(u),u,d)},M=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"START",a=arguments[4],o=arguments[5];if(!b()(n))return n;var i=void 0;return T(e,t,(function(e,t,r){void 0===i&&r+e.length>=n&&(i=t+n-r)}),(function(e,t,a,o,s,l,c){void 0===i&&a+s.length>n&&(i="NULL"===r?null:t+("END"===r?e.length:0))}),a,o),void 0===i?e.length:i},P=function(e,t,n,r){r=r||j(t);var a=S(t,"id",r),o=S(t,"display",r),i=S(t,"type",r);return e.replace(r,(function(){var e=arguments[a+1],t=arguments[o+1],r=null!==i?arguments[i+1]:null;return n&&(t=n(e,t,r)),t}))},B=function(e,t,n,r){var a=[];return T(e,t,(function(){}),(function(e,t,n,r,o,i,s){a.push({id:r,display:o,type:i,index:t,plainTextIndex:n})}),n,r),a},I=function(e){return u()(e).reduce((function(t,n){return t+e[n].results.length}),0)},L=function(e){return u()(e).reduce((function(t,n){return[].concat(t,[{suggestions:e[n].results,descriptor:e[n]}])}),[])},U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=h()(this.props,"style",u()(t.propTypes));return a.a.createElement("li",U({},e,this.props.style),this.renderContent())},t.prototype.renderContent=function(){var e=this.props,t=e.query,n=e.descriptor,r=e.suggestion,a=e.index,o=e.focused,i=this.getDisplay(),s=this.renderHighlightedDisplay(i,t);return n.props.renderSuggestion?n.props.renderSuggestion(r,t,s,a,o):s},t.prototype.getDisplay=function(){var e=this.props.suggestion;if(e instanceof String)return e;var t=e.id,n=e.display;return t&&n?n:t},t.prototype.renderHighlightedDisplay=function(e){var t=this.props,n=t.query,r=t.style,o=e.toLowerCase().indexOf(n.toLowerCase());return-1===o?a.a.createElement("span",r("display"),e):a.a.createElement("span",r("display"),e.substring(0,o),a.a.createElement("b",r("highlight"),e.substring(o,o+n.length)),e.substring(o+n.length))},t}(r.Component);R.propTypes={};var F,z,Q=Object(y.defaultStyle)({cursor:"pointer"},(function(e){return{"&focused":e.focused}}))(R),H=v()((function(e){var t=e.style,n=t("spinner");return a.a.createElement("div",t,a.a.createElement("div",n,a.a.createElement("div",n(["element","element1"])),a.a.createElement("div",n(["element","element2"])),a.a.createElement("div",n(["element","element3"])),a.a.createElement("div",n(["element","element4"])),a.a.createElement("div",n(["element","element5"]))))})),Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K=(z=F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(){if(this.suggestionsRef&&!(this.suggestionsRef.offsetHeight>=this.suggestionsRef.scrollHeight)&&this.props.scrollFocusedIntoView){var e=this.suggestionsRef.scrollTop,t=this.suggestionsRef.children[this.props.focusIndex].getBoundingClientRect(),n=t.top,r=t.bottom,a=this.suggestionsRef.getBoundingClientRect().top;r=r-a+e,(n=n-a+e)<e?this.suggestionsRef.scrollTop=n:r>this.suggestionsRef.offsetHeight&&(this.suggestionsRef.scrollTop=r-this.suggestionsRef.offsetHeight)}},t.prototype.render=function(){var e=this,t=this.props,n=t.suggestions,r=t.isLoading,o=t.style,i=t.onMouseDown;return 0!==I(n)||r?a.a.createElement("div",Y({},o,{onMouseDown:i}),a.a.createElement("ul",Y({ref:function(t){e.suggestionsRef=t}},o("list")),this.renderSuggestions()),this.renderLoadingIndicator()):null},t.prototype.renderSuggestions=function(){var e=this;return L(this.props.suggestions).reduce((function(t,n){var r=n.suggestions,a=n.descriptor;return[].concat(t,r.map((function(n,r){return e.renderSuggestion(n,a,t.length+r)})))}),[])},t.prototype.renderSuggestion=function(e,t,n){var r=this,o=this.getID(e),i=n===this.props.focusIndex,s=t.mentionDescriptor,l=t.query,c=s.props.type;return a.a.createElement(Q,{style:this.props.style("item"),key:c+"-"+o,id:o,query:l,index:n,descriptor:s,suggestion:e,focused:i,onClick:function(){return r.select(e,t)},onMouseEnter:function(){return r.handleMouseEnter(n)}})},t.prototype.getID=function(e){return e instanceof String?e:e.id},t.prototype.renderLoadingIndicator=function(){if(this.props.isLoading)return a.a.createElement(H,this.props.style("loadingIndicator"))},t.prototype.handleMouseEnter=function(e,t){this.props.onMouseEnter&&this.props.onMouseEnter(e)},t.prototype.select=function(e,t){this.props.onSelect(e,t)},t}(r.Component),F.defaultProps={suggestions:{},onSelect:function(){return null}},z);K.propTypes={};var W=Object(y.defaultStyle)((function(e){var t=e.position;return Y({position:"absolute",zIndex:1,backgroundColor:"white",marginTop:14,minWidth:100},t,{list:{margin:0,padding:0,listStyleType:"none"}})}))(K),q=Object(y.defaultStyle)({fontWeight:"inherit"})((function(e){var t=e.display,n=e.style;return a.a.createElement("strong",n,t)}));q.propTypes={onAdd:i.a.func,onRemove:i.a.func,renderSuggestion:i.a.func,trigger:i.a.oneOfType([i.a.string,i.a.instanceOf(RegExp)]),isLoading:i.a.bool},q.defaultProps={trigger:"@",onAdd:function(){return null},onRemove:function(){return null},renderSuggestion:null,isLoading:!1,appendSpaceOnAdd:!1};var G,V,$=q,X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J=(V=G=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments));return n.state={lastPosition:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.notifyCaretPosition()},t.prototype.componentDidUpdate=function(){this.notifyCaretPosition()},t.prototype.notifyCaretPosition=function(){if(this.caretRef){var e={left:this.caretRef.offsetLeft,top:this.caretRef.offsetTop},t=this.state.lastPosition;_()(t,e)||(this.setState({lastPosition:e}),this.props.onCaretPositionChange(e))}},t.prototype.render=function(){var e=this,t=this.props,n=t.selection,r=t.value,o=t.markup,i=t.displayTransform,s=t.style,l=t.inputStyle,c=t.regex,u=void 0;n.start===n.end&&(u=M(r,o,n.start,"START",i,c));var d=[],f={},p=d,h=0;return T(r,o,(function(t,n,r){if(b()(u)&&u>=n&&u<=n+t.length){var a=u-n;p.push(e.renderSubstring(t.substring(0,a),h)),p=[e.renderSubstring(t.substring(a),h)]}else p.push(e.renderSubstring(t,h));h++}),(function(t,n,r,a,o,i,s){var l=function(e,t){return e.hasOwnProperty(t)?e[t]++:e[t]=0,t+"_"+e[t]}(f,a);p.push(e.getMentionComponentForMatch(a,o,i,l))}),i,c),p.push(" "),p!==d&&d.push(this.renderHighlighterCaret(p)),a.a.createElement("div",X({},s,{style:X({},l,s.style)}),d)},t.prototype.renderSubstring=function(e,t){return a.a.createElement("span",X({},this.props.style("substring"),{key:t}),e)},t.prototype.getMentionComponentForMatch=function(e,t,n,o){var i=r.Children.count(this.props.children),s={id:e,display:t,key:o};if(i>1){if(!n)throw new Error("Since multiple Mention components have been passed as children, the markup has to define the __type__ placeholder");var l=null;return r.Children.forEach(this.props.children,(function(e){e&&e.props.type===n&&(l=e)})),a.a.cloneElement(l,s)}if(1===i){var c=this.props.children.length?this.props.children[0]:r.Children.only(this.props.children);return a.a.cloneElement(c,s)}return $(s)},t.prototype.renderHighlighterCaret=function(e){var t=this;return a.a.createElement("span",X({},this.props.style("caret"),{ref:function(e){t.caretRef=e},key:"caret"}),e)},t}(r.Component),G.defaultProps={value:"",inputStyle:{}},V);J.propTypes={};var Z,ee,te,ne=Object(y.defaultStyle)({position:"relative",width:"inherit",color:"transparent",overflow:"hidden",whiteSpace:"pre-wrap",wordWrap:"break-word","&singleLine":{whiteSpace:"pre",wordWrap:null},substring:{visibility:"hidden"}},(function(e){return{"&singleLine":e.singleLine}}))(J),re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae={TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},oe=!1,ie={singleLine:i.a.bool,allowSpaceInQuery:i.a.bool,markup:i.a.string,value:i.a.string,displayTransform:i.a.func,onKeyDown:i.a.func,onSelect:i.a.func,onBlur:i.a.func,onChange:i.a.func,suggestionsPortalHost:"undefined"==typeof Element?i.a.any:i.a.PropTypes.instanceOf(Element),inputRef:i.a.oneOfType([i.a.func,i.a.shape({current:"undefined"==typeof Element?i.a.any:i.a.instanceOf(Element)})]),children:i.a.oneOfType([i.a.element,i.a.arrayOf(i.a.element)]).isRequired},se=(ee=Z=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return te.call(r),r.suggestions={},r.state={focusIndex:0,selectionStart:null,selectionEnd:null,suggestions:{},caretPosition:null,suggestionsPosition:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this;return a.a.createElement("div",re({ref:function(t){e.containerRef=t}},this.props.style),this.renderControl(),this.renderSuggestionsOverlay())},t.prototype.componentDidMount=function(){this.updateSuggestionsPosition()},t.prototype.componentDidUpdate=function(e,t){t.suggestionsPosition===this.state.suggestionsPosition&&this.updateSuggestionsPosition(),this.state.setSelectionAfterMentionChange&&(this.setState({setSelectionAfterMentionChange:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd))},t}(a.a.Component),Z.defaultProps={markup:"@[__display__](__id__)",singleLine:!1,displayTransform:function(e,t,n){return t},onKeyDown:function(){return null},onSelect:function(){return null},onBlur:function(){return null}},te=function(){var e=this;this.getInputProps=function(t){var n=e.props,r=n.readOnly,a=n.disabled,o=n.style,i=h()(e.props,"style",u()(ie));return re({},i,o("input"),{value:e.getPlainText()},!r&&!a&&{onChange:e.handleChange,onSelect:e.handleSelect,onKeyDown:e.handleKeyDown,onBlur:e.handleBlur,onCompositionStart:e.handleCompositionStart,onCompositionEnd:e.handleCompositionEnd,onScroll:e.updateHighlighterScroll})},this.renderControl=function(){var t=e.props,n=t.singleLine,r=t.style,o=e.getInputProps(!n);return a.a.createElement("div",r("control"),e.renderHighlighter(o.style),n?e.renderInput(o):e.renderTextarea(o))},this.renderInput=function(t){return a.a.createElement("input",re({type:"text",ref:e.setInputRef},t))},this.renderTextarea=function(t){return a.a.createElement("textarea",re({ref:e.setInputRef},t))},this.setInputRef=function(t){e.inputRef=t;var n=e.props.inputRef;"function"==typeof n?n(t):n&&(n.current=t)},this.renderSuggestionsOverlay=function(){if(!b()(e.state.selectionStart))return null;var t=a.a.createElement(W,{style:e.props.style("suggestions"),position:e.state.suggestionsPosition,focusIndex:e.state.focusIndex,scrollFocusedIntoView:e.state.scrollFocusedIntoView,ref:function(t){e.suggestionsRef=t},suggestions:e.state.suggestions,onSelect:e.addMention,onMouseDown:e.handleSuggestionsMouseDown,onMouseEnter:function(t){return e.setState({focusIndex:t,scrollFocusedIntoView:!1})},isLoading:e.isLoading()});return e.props.suggestionsPortalHost?l.a.createPortal(t,e.props.suggestionsPortalHost):t},this.renderHighlighter=function(t){var n=e.state,r=n.selectionStart,o=n.selectionEnd,i=e.props,s=i.markup,l=i.displayTransform,c=i.singleLine,u=i.children,d=i.value,f=i.style,p=i.regex;return a.a.createElement(ne,{ref:function(t){e.highlighterRef=t},style:f("highlighter"),inputStyle:t,value:d,markup:s,displayTransform:l,singleLine:c,selection:{start:r,end:o},onCaretPositionChange:function(t){return e.setState({caretPosition:t})},regex:p},u)},this.getPlainText=function(){return P(e.props.value||"",e.props.markup,e.props.displayTransform,e.props.regex)},this.executeOnChange=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var o,i;return e.props.onChange?(o=e.props).onChange.apply(o,[t].concat(r)):e.props.valueLink?(i=e.props.valueLink).requestChange.apply(i,[t.target.value].concat(r)):void 0},this.handleChange=function(t){if((document.activeElement&&document.activeElement.contentDocument||document).activeElement===t.target){var n=e.props.value||"",r=e.props,a=r.markup,o=r.displayTransform,i=r.regex,s=t.target.value,l=function(e,t,n,r,a,o,i,s){var l=P(e,t,i,s),c=l.length-n.length;"undefined"===r&&(r=o+c),"undefined"===a&&(a=r),r===a&&a===o&&l.length===n.length&&(r-=1);var u=n.slice(r,o),d=Math.min(r,o),f=a;r===o&&(f=Math.max(a,r+c));var p=M(e,t,d,"START",i,s),h=M(e,t,f,"END",i,s),m=M(e,t,d,"NULL",i,s),_=M(e,t,f,"NULL",i,s),g=null===m||null===_,b=D(e,p,h,u);if(!g){var y=P(b,t,i,s);if(y!==n){for(d=0;n[d]===y[d];)d++;u=n.slice(d,o),f=l.lastIndexOf(n.substring(o)),p=M(e,t,d,"START",i,s),h=M(e,t,f,"END",i,s),b=D(e,p,h,u)}}return b}(n,a,s,e.state.selectionStart,e.state.selectionEnd,t.target.selectionEnd,o,i);s=P(l,a,o,i);var c=t.target.selectionStart,u=t.target.selectionEnd,d=!1,f=function(e,t,n,r,a){var o=n,i=!1;if(T(e,t,(function(){}),(function(e,t,r,a,s,l,c){r<=n&&r+s.length>n&&(o=r,i=!0)}),r,a),i)return o}(n,a,c,o,i);void 0!==f&&e.state.selectionEnd>f&&(u=c=f,d=!0),e.setState({selectionStart:c,selectionEnd:u,setSelectionAfterMentionChange:d});var p=B(l,a,o,i),h={target:{value:l}};e.executeOnChange(h,l,s,p)}},this.handleSelect=function(t){if(e.setState({selectionStart:t.target.selectionStart,selectionEnd:t.target.selectionEnd}),!oe){var n=e.inputRef;t.target.selectionStart===t.target.selectionEnd?e.updateMentionsQueries(n.value,t.target.selectionStart):e.clearSuggestions(),e.updateHighlighterScroll(),e.props.onSelect(t)}},this.handleKeyDown=function(t){var n=I(e.state.suggestions),r=e.suggestionsRef;if(0!==n&&r)switch(f()(ae).indexOf(t.keyCode)>=0&&t.preventDefault(),t.keyCode){case ae.ESC:return void e.clearSuggestions();case ae.DOWN:return void e.shiftFocus(1);case ae.UP:return void e.shiftFocus(-1);case ae.RETURN:case ae.TAB:return void e.selectFocused();default:return}else e.props.onKeyDown(t)},this.shiftFocus=function(t){var n=I(e.state.suggestions);e.setState({focusIndex:(n+e.state.focusIndex+t)%n,scrollFocusedIntoView:!0})},this.selectFocused=function(){var t=e.state,n=function(e,t){return L(e).reduce((function(e,t){var n=t.suggestions,r=t.descriptor;return[].concat(e,n.map((function(e){return{suggestion:e,descriptor:r}})))}),[])[t]}(t.suggestions,t.focusIndex),r=n.suggestion,a=n.descriptor;e.addMention(r,a),e.setState({focusIndex:0})},this.handleBlur=function(t){var n=e._suggestionsMouseDown;e._suggestionsMouseDown=!1,n||e.setState({selectionStart:null,selectionEnd:null}),window.setTimeout((function(){e.updateHighlighterScroll()}),1),e.props.onBlur(t,n)},this.handleSuggestionsMouseDown=function(t){e._suggestionsMouseDown=!0},this.updateSuggestionsPosition=function(){var t=e.state.caretPosition;if(t&&e.suggestionsRef){var n=l.a.findDOMNode(e.suggestionsRef),r=l.a.findDOMNode(e.highlighterRef);if(n){var a={};if(e.props.suggestionsPortalHost){var o=r.getBoundingClientRect(),i=N(r,"font-size"),s={left:o.left+t.left,top:o.top+t.top+i};a.position="fixed";var c=s.left;a.top=s.top,c-=N(n,"margin-left"),a.top-=N(n,"margin-top"),c-=r.scrollLeft,a.top-=r.scrollTop;var u=Math.max(document.documentElement.clientWidth,window.innerWidth||0);c+n.offsetWidth>u?a.left=Math.max(0,u-n.offsetWidth):a.left=c}else{var d=t.left-r.scrollLeft;d+n.offsetWidth>e.containerRef.offsetWidth?a.right=0:a.left=d,a.top=t.top-r.scrollTop}_()(a,e.state.suggestionsPosition)||e.setState({suggestionsPosition:a})}}},this.updateHighlighterScroll=function(){if(e.inputRef&&e.highlighterRef){var t=e.inputRef,n=l.a.findDOMNode(e.highlighterRef);n.scrollLeft=t.scrollLeft,n.scrollTop=t.scrollTop,n.height=t.height}},this.handleCompositionStart=function(){oe=!0},this.handleCompositionEnd=function(){oe=!1},this.setSelection=function(t,n){if(null!==t&&null!==n){var r=e.inputRef;if(r.setSelectionRange)r.setSelectionRange(t,n);else if(r.createTextRange){var a=r.createTextRange();a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",t),a.select()}}},this.updateMentionsQueries=function(t,n){e._queryId++,e.suggestions={},e.setState({suggestions:{}});var r=e.props.value||"",o=e.props,i=o.markup,s=o.displayTransform,l=o.children,c=o.regex,u=M(r,i,n,"NULL",s,c);if(null!==u){var d=function(e,t,n,r){var a=B(e,t,n,r),o=a[a.length-1];return o?o.plainTextIndex+o.display.length:0}(r.substring(0,u),i,s,c),f=t.substring(d,n);a.a.Children.forEach(l,(function(n){if(n){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof RegExp)return e;var n=t.allowSpaceInQuery,r=C(e);return new RegExp("(?:^|\\s)("+r+"([^"+(n?"":"\\s")+r+"]*))$")}(n.props.trigger,e.props),a=f.match(r);if(a){var o=d+f.indexOf(a[1],a.index);e.queryData(a[2],n,o,o+a[1].length,t)}}}))}},this.clearSuggestions=function(){e._queryId++,e.suggestions={},e.setState({suggestions:{},focusIndex:0})},this.queryData=function(t,n,r,a,o){var i,s=((i=n.props.data)instanceof Array?function(e,t){for(var n=[],r=0,a=i.length;r<a;++r)(i[r].display||i[r].id).toLowerCase().indexOf(e.toLowerCase())>=0&&n.push(i[r]);return n}:i)(t,e.updateSuggestions.bind(null,e._queryId,n,t,r,a,o));s instanceof Array&&e.updateSuggestions(e._queryId,n,t,r,a,o,s)},this.updateSuggestions=function(t,n,r,a,o,i,s){var l;if(t===e._queryId){e.suggestions=re({},e.suggestions,((l={})[n.props.type]={query:r,mentionDescriptor:n,querySequenceStart:a,querySequenceEnd:o,results:s,plainTextValue:i},l));var c=e.state.focusIndex,u=I(e.suggestions);e.setState({suggestions:e.suggestions,focusIndex:c>=u?Math.max(u-1,0):c})}},this.addMention=function(t,n){var r=n.mentionDescriptor,a=n.querySequenceStart,o=n.querySequenceEnd,i=n.plainTextValue,s=e.props.value||"",l=e.props,c=l.markup,u=l.displayTransform,d=l.regex,f=M(s,c,a,"START",u,d),p=f+o-a,h=function(e,t,n,r){var a=e.replace(k,t);return(a=a.replace(E,n)).replace(x,r)}(c,t.id,t.display,r.props.type);r.props.appendSpaceOnAdd&&(h+=" ");var m=D(s,f,p,h);e.inputRef.focus();var _=u(t.id,t.display,r.props.type);r.props.appendSpaceOnAdd&&(_+=" ");var g=a+_.length;e.setState({selectionStart:g,selectionEnd:g,setSelectionAfterMentionChange:!0});var b={target:{value:m}},y=B(m,c,u,d),v=D(i,a,o,_);e.executeOnChange(b,m,v,y);var A=r.props.onAdd;A&&A(t.id,t.display),e.clearSuggestions()},this.isLoading=function(){var t=!1;return a.a.Children.forEach(e.props.children,(function(e){t=t||e&&e.props.isLoading})),t},this._queryId=0},ee);se.propTypes={};var le="undefined"!=typeof navigator&&/iPhone|iPad|iPod/i.test(navigator.userAgent),ce=Object(y.defaultStyle)({position:"relative",overflowY:"visible",input:{display:"block",position:"absolute",top:0,boxSizing:"border-box",backgroundColor:"transparent",width:"inherit",fontFamily:"inherit",fontSize:"inherit"},"&multiLine":{input:re({width:"100%",height:"100%",bottom:0,overflow:"hidden",resize:"none"},le?{marginTop:1,marginLeft:-3}:null)}},(function(e){var t=e.singleLine;return{"&singleLine":t,"&multiLine":!t}}))(se)},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";e.exports=n(516)},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(0)),a=o(n(501));function o(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||a.default,e.exports=t.default},function(e,t,n){var r=n(65),a=n(31),o=n(38);e.exports=function(e){return"string"==typeof e||!a(e)&&o(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(653),a=n(243),o=n(346),i=a((function(e,t){return o(e)?r(e,t):[]}));e.exports=i},function(e,t,n){var r=n(353);e.exports=function(e){return e&&e.length?r(e):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f,p,h,m,_,g=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n(0),v=O(y),A=n(6),w=n(3),k=O(n(78)),E=(n(68),O(n(111))),x=O(n(517));function O(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function S(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var T=(0,A.observer)((a=function(e){function t(e){j(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return C(n,"option",o,n),C(n,"editing",i,n),C(n,"name",s,n),C(n,"configure_custom_field",l,n),n.cf=n.props.cf,n.onKeyDown=n.onKeyDown.bind(n),n.name=n.cf.name,n.toggleEnabled=n.props.toggleEnabled,n}return N(t,y.Component),b(t,[{key:"getType",value:function(e){switch(e){case"dropdown":return"Dropdown list";case"integer":return"Integer Number";case"number":return"Decimal Number";case"percentage":return"Percentage";case"text":return"Text";case"compound_cost":return"Currency";case"checkbox":return"Checkbox"}}},{key:"setColor",value:function(e){this.option.color=e}},{key:"onKeyDown",value:function(e){"27"==e.keyCode&&(this.editing=!1,this.name=this.cf.name),"13"==e.keyCode&&(this.editing=!1,this.cf.name=this.name)}},{key:"isSystem",value:function(){return"_status"==this.cf.id}},{key:"disable",value:function(){var e=this;if(confirm("Once a custom field has been deleted, it can't be recovered.")){var t=this.props.store.uistate.columns.custom_fields.filter((function(t){return t.id==e.cf.id}));t&&(t[0].active=!1),this.props.store.workbooksettings.settings.custom_fields[this.cf.id].enabled=!1,this.props.store.workbooksettings._save(),this.props.store.workbooksettings.fillCustomColumns()}}},{key:"showCustomFieldSetup",value:function(e){this.configure_custom_field=e}},{key:"hideCustomFieldSetup",value:function(){this.configure_custom_field=!1}},{key:"toggleColumn",value:function(){var e=this,t=this.props.store.uistate.columns.custom_fields.filter((function(t){return t.id==e.cf.id}));t&&(t[0].active=!t[0].active)}},{key:"toggleColumnActive",value:function(){var e=this,t=this.props.store.uistate.columns.custom_fields.filter((function(t){return t.id==e.cf.id}));t&&(t[0].active=!t[0].active,t[0].active||(t[0].visible=!1))}},{key:"toggleColumnVisible",value:function(){var e=this,t=this.props.store.uistate.columns.custom_fields.filter((function(t){return t.id==e.cf.id}));t&&(t[0].visible=!t[0].visible),t[0].active||(t[0].active=!0)}},{key:"render",value:function(){var e=this;return v.default.createElement("div",{className:[x.default.field_row,"sortable-field"].join(" "),id:this.cf.id},v.default.createElement("div",{className:["field-drag-handler",x.default.grip].join(" "),style:{cursor:"pointer",fontSize:"20px",display:"flex"}},v.default.createElement("i",{className:"fa fa-fw fa-grip-lines"})),v.default.createElement("div",{style:{flexGrow:1,padding:"5px",textDecoration:this.cf.enabled?"none":"line-through"}},this.editing&&v.default.createElement("input",{onKeyDown:this.onKeyDown,autoFocus:!0,value:this.name,onChange:function(t){return e.name=t.target.value},type:"text",style:{width:"100%",boxSizing:"border-box",height:"27px",marginBottom:0}}),!this.editing&&this.cf.name,!this.editing&&!this.isSystem()&&v.default.createElement("div",{style:{fontSize:"10px"}},this.getType(this.cf.type)),!this.editing&&this.isSystem()&&v.default.createElement("div",{style:{fontSize:"10px"}},"System status. Can't be edited")),!this.isSystem()&&v.default.createElement(v.default.Fragment,null,this.toggleEnabled&&v.default.createElement("div",{className:x.default.active,style:{cursor:"pointer",fontSize:"20px",display:"flex"}},this.isCustomFieldActive&&v.default.createElement("i",{className:"fa fa-fw fa-toggle-on",style:{color:"#23a5e5"},onClick:function(t){return e.toggleColumnActive()}}),!this.isCustomFieldActive&&v.default.createElement("i",{className:"fa fa-fw fa-toggle-on fa-rotate-180",style:{marginTop:"-4px"},onClick:function(t){return e.toggleColumnActive()}})),this.toggleEnabled&&v.default.createElement("div",{className:x.default.visible,style:{cursor:"pointer",fontSize:"20px",display:"flex"}},this.isCustomFieldVisible&&v.default.createElement("i",{className:"fa fa-fw fa-toggle-on",style:{color:"#23a5e5"},onClick:function(t){return e.toggleColumnVisible()}}),!this.isCustomFieldVisible&&v.default.createElement("i",{className:"fa fa-fw fa-toggle-on fa-rotate-180",style:{marginTop:"-4px"},onClick:function(t){return e.toggleColumnVisible()}})),v.default.createElement("div",{className:x.default.options},v.default.createElement("div",{className:"btn btn-flat",style:{cursor:"pointer"}},v.default.createElement("i",{className:"fa fa-cog",onClick:function(t){return e.showCustomFieldSetup(e.cf.id)}})),v.default.createElement("div",{className:"btn btn-flat",style:{cursor:"pointer"},onClick:function(){return e.disable()}},v.default.createElement("i",{className:"fa fa-trash"})))),this.isSystem()&&v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:"btn btn-flat",style:{cursor:"pointer",opacity:"0.5"}},v.default.createElement("i",{className:"fa fa-cog"})),v.default.createElement("div",{className:"btn btn-flat",style:{cursor:"pointer",opacity:"0.5"}},v.default.createElement("i",{className:"fa fa-trash"}))),this.configure_custom_field&&v.default.createElement(E.default,{cf:this.props.store.workbooksettings.customField(this.configure_custom_field),store:this.props.store,close:function(){return e.hideCustomFieldSetup()}}))}},{key:"isCustomFieldActive",get:function(){var e=this;return this.props.store.uistate.columns.custom_fields.filter((function(t){return t.id==e.cf.id}))[0].active}},{key:"isCustomFieldVisible",get:function(){var e=this;return this.props.store.uistate.columns.custom_fields.filter((function(t){return t.id==e.cf.id}))[0].visible}}]),t}(),o=S(a.prototype,"option",[w.observable],{enumerable:!0,initializer:null}),i=S(a.prototype,"editing",[w.observable],{enumerable:!0,initializer:function(){return!1}}),s=S(a.prototype,"name",[w.observable],{enumerable:!0,initializer:function(){return""}}),l=S(a.prototype,"configure_custom_field",[w.observable],{enumerable:!0,initializer:function(){return!1}}),S(a.prototype,"isCustomFieldActive",[w.computed],Object.getOwnPropertyDescriptor(a.prototype,"isCustomFieldActive"),a.prototype),S(a.prototype,"isCustomFieldVisible",[w.computed],Object.getOwnPropertyDescriptor(a.prototype,"isCustomFieldVisible"),a.prototype),r=a))||r,M=(0,A.observer)((S((u=function(e){function t(e){j(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return window.fields=n,n.toggleEnabled=n.props.toggleEnabled,n}return N(t,y.Component),b(t,[{key:"render",value:function(){var e=this;return v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:[x.default.field_row,"sortable-field"].join(" ")},v.default.createElement("div",{className:x.default.grip}),v.default.createElement("div",{style:{flexGrow:1,padding:"5px"}},"Custom Fields"),v.default.createElement("div",{className:x.default.active},"Active on this project"),v.default.createElement("div",{className:x.default.visible},"Visible on Gantt"),v.default.createElement("div",{className:x.default.options},"Options")),Object.entries(this.customFields).filter((function(e){var t=g(e,2);return t[0],t[1].enabled})).map((function(t){var n=g(t,2),r=(n[0],n[1]);return v.default.createElement(T,{toggleEnabled:e.toggleEnabled,key:r.id,cf:r,store:e.props.store})})))}},{key:"customFields",get:function(){var e=this,t={};return this.props.store.uistate.columns.custom_fields.map((function(e){return e.id})).forEach((function(n){"_status"!=n&&(t[n]=e.props.store.workbooksettings.settings.custom_fields[n])})),t}}]),t}()).prototype,"customFields",[w.computed],Object.getOwnPropertyDescriptor(u.prototype,"customFields"),u.prototype),c=u))||c,P=(0,A.observer)((f=function(e){function t(e){j(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return C(n,"cf",p,n),C(n,"creating",h,n),C(n,"custom_fields",m,n),C(n,"options",_,n),n.types={dropdown:"Dropdown List",text:"Text",number:"Decimal Number",compound_cost:"Currency",integer:"Integer Number",percentage:"Percentage",checkbox:"Checkbox"},n.list_node=!1,n.store=n.props.store,n.save=n.save.bind(n),n.fillCustomFields=n.fillCustomFields.bind(n),n.cf=n.props.cf,n.toggleEnabled=void 0===n.props.toggleEnabled||n.props.toggleEnabled,n}return N(t,y.Component),b(t,[{key:"componentDidMount",value:function(){$(this.node).modal("show"),this.store.uistate.is_mobile||$(this.node).css("top","5%"),this.fillCustomFields()}},{key:"fillCustomFields",value:function(){var e=this;Object.entries(this.store.workbooksettings.getSetting("custom_fields")).forEach((function(t){var n=g(t,2),r=n[0];n[1],-1==e.custom_fields.indexOf(r)&&e.custom_fields.push(r)}))}},{key:"componentWillUnmount",value:function(){$(this.node).modal("hide")}},{key:"save",value:function(){this.store.workbooksettings.saveCustomField((0,w.toJS)(this.cf)),this.props.close()}},{key:"addOption",value:function(){this.creating=!0}},{key:"closeAddOption",value:function(){this.creating=!1,this.options.name="",this.options.type="dropdown"}},{key:"generateId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}},{key:"createCustomField",value:function(){var e=this;if(""!=this.options.name.trim()){var t,n,r,a=this.generateId(),o=(t={},n=a,r={id:a,type:this.options.type,enabled:"true",name:this.options.name,short_name:this.options.name,active:!0,visible:!0},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t);"dropdown"==this.options.type&&(o[a].options=[{id:1,value:"-",enabled:!0,color:1,blocked:!1}]),this.store.workbooksettings.getSetting("custom_fields")&&((0,w.extendObservable)(this.store.workbooksettings.settings.custom_fields,o),this.store.workbooksettings._save(),this.store.workbooksettings.fillCustomColumns(),setTimeout((function(){e.fillCustomFields(),setTimeout((function(){var t=e.store.uistate.columns.custom_fields.filter((function(e){return e.id==a}));t&&(t[0].active=!0,t[0].visible=!0)}),0)}),100),this.creating=!1)}else alert("Your custom field name can't be empty")}},{key:"renderForm",value:function(){var e=this;return v.default.createElement("div",{style:{display:"flex"}},v.default.createElement("div",{style:{flexGrow:1,padding:"10px"}},v.default.createElement("input",{autoFocus:!0,value:this.options.name,onChange:function(t){return e.options.name=t.target.value},type:"text",style:{width:"100%",boxSizing:"border-box",height:"27px",marginBottom:0}})),v.default.createElement("div",{style:{padding:"10px"}},v.default.createElement("select",{value:this.options.type,onChange:function(t){return e.options.type=t.target.value}},Object.entries(this.types).map((function(e){var t=g(e,2),n=t[0],r=t[1];return v.default.createElement("option",{value:n},r)})))),v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{style:{padding:"10px 10px 10px 0",cursor:"pointer"}},v.default.createElement("button",{className:"btn btn-flat",onClick:function(){return e.closeAddOption()}},"Cancel")),v.default.createElement("div",{style:{padding:"10px 0",cursor:"pointer"}},v.default.createElement("button",{className:"btn btn-flat btn-success",onClick:function(){return e.createCustomField()}},"Create"))))}},{key:"componentDidMount",value:function(){this.sortable()}},{key:"componentDidUpdate",value:function(){this.sortable()}},{key:"sortable",value:function(){var e=this;$(this.list_node).sortable({handle:".field-drag-handler",items:".sortable-field",axis:"y",start:function(e,t){},stop:function(e,t){},change:function(e,t){},update:(0,w.action)((function(t,n){var r=$(e.list_node).sortable("toArray");e.store.workbooksettings.saveCustomFieldsPositions(r)})),sort:function(e,t){}})}},{key:"render",value:function(){var e=this;return v.default.createElement(k.default,{title:"Custom Fields on the "+this.props.workbook.name+" workbook",successButton:!1,closeButton:!0,closeButtonCallback:this.props.close,store:this.props.store,bodyStyle:{height:"500px"}},v.default.createElement(v.default.Fragment,null,v.default.createElement("div",null,v.default.createElement("div",{className:x.default.field_row,style:{fontWeight:"bold",borderBottom:0,marginBottom:"10px"}},v.default.createElement("div",{style:{flexGrow:1,padding:"5px",fontSize:"14px"}}),v.default.createElement("div",{style:{padding:"5px"}},!this.creating&&v.default.createElement("button",{className:"btn btn-flat btn-small btn-info",onClick:function(){return e.addOption()}},v.default.createElement("i",{className:"fa fa-plus"})," New Custom Field"))),v.default.createElement("div",{class:"fields-container",ref:function(t){return e.list_node=t}},v.default.createElement(M,{toggleEnabled:this.toggleEnabled,workbook:this.props.workbook,store:this.store,custom_fields:this.custom_fields}))),this.creating&&this.renderForm()))}}]),t}(),p=S(f.prototype,"cf",[w.observable],{enumerable:!0,initializer:null}),h=S(f.prototype,"creating",[w.observable],{enumerable:!0,initializer:function(){return!1}}),m=S(f.prototype,"custom_fields",[w.observable],{enumerable:!0,initializer:function(){return[]}}),_=S(f.prototype,"options",[w.observable],{enumerable:!0,initializer:function(){return{name:"",type:"dropdown"}}}),d=f))||d;t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),p=v(f),h=n(15),m=n(6),_=n(3),g=v(n(515)),b=v(n(44)),y=v(n(30));function v(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(217);var k=function(e){var t=e.children;return document.getElementById("header-filter-container"),(0,h.createPortal)(t,document.body)},E=(0,m.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return A(n,"visible",o,n),A(n,"editor_value",i,n),A(n,"editor_value_to",s,n),A(n,"parent_coordinates",l,n),A(n,"filter_query",c,n),n.setPositions=function(){var e=(0,h.findDOMNode)(n).parentNode.getBoundingClientRect();n.parent_coordinates.x=e.x-120,n.parent_coordinates.y=e.y,n.parent_coordinates.x<0&&(n.parent_coordinates.x=20)},n.show=function(){n.setPositions(),n.visible=!0},n.store=n.props.store,n.handleClickOutside=n.handleClickOutside.bind(n),n.handleEsc=n.handleEsc.bind(n),n.handleRangeFrom=n.handleRangeFrom.bind(n),n.handleRangeTo=n.handleRangeTo.bind(n),n.handleChangeDueDate=n.handleChangeDueDate.bind(n),n.handleChangeStartDate=n.handleChangeStartDate.bind(n),n.handleChange=n.handleChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),d(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),document.addEventListener("keydown",this.handleEsc),this.props.visible&&this.show(),this.setPositions()}},{key:"handleChange",value:function(e){this.filter_query=e.target.value}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside),document.removeEventListener("keydown",this.handleEsc)}},{key:"handleClickOutside",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&(this.visible=!1,this.props.clearOnCloseIfEmpty&&this.clearOnCloseIfEmptyCheck())}},{key:"clearOnCloseIfEmptyCheck",value:function(){this.props.filter&&this.props.filter.selected&&this.props.filter.selected.length>0||(!this.props.filter.range||""==this.props.filter.range.from&&""==this.props.filter.range.to)&&""==this.filter_query&&this.clearFilters()}},{key:"close",value:function(){this.visible=!1,this.props.clearOnCloseIfEmpty&&this.clearOnCloseIfEmptyCheck()}},{key:"handleEsc",value:function(e){27==e.keyCode&&(this.visible=!1)}},{key:"handleRangeFrom",value:function(e){var t=e.target.value;this.props.filter?this.props.filter.range.from=t:this.createFilter({from:t,to:""})}},{key:"handleRangeTo",value:function(e){var t=e.target.value;this.props.filter?this.props.filter.range.to=t:this.createFilter({to:t,from:""})}},{key:"handleChangeDueDate",value:function(e){this.editor_value_to=moment(e).format("YYYY-MM-DD"),this.props.filter?this.props.filter.range.to=this.editor_value_to:this.createFilter({to:this.editor_value_to,from:""})}},{key:"handleChangeStartDate",value:function(e){this.editor_value=moment(e).format("YYYY-MM-DD"),this.props.filter?this.props.filter.range.from=this.editor_value:this.createFilter({from:this.editor_value,to:""})}},{key:"is_selected",value:function(e){var t=!1;return!(!this.props.filter||!this.props.filter.selected||0==this.props.filter.selected.length)&&(this.props.filter.selected.forEach((function(n){n.id==e.id&&(t=!0)})),t)}},{key:"createFilter",value:function(e){"list"==this.props.type&&this.props.createFilter({column:this.props.column,column_type:this.props.column_type,type:"list",selected:[e],attribute:this.props.attribute,attributeType:this.props.attributeType,subattribute:this.props.subattribute,isBoolean:this.props.isBoolean}),"range"==this.props.type&&this.props.createFilter({column:this.props.column,type:"range",column_type:this.props.column_type,range:e,attribute:this.props.attribute,attributeType:this.props.attributeType,subattribute:this.props.subattribute,subtype:this.props.subtype,isBoolean:this.props.isBoolean})}},{key:"toggleItem",value:function(e){if(!this.props.filter)return this.createFilter(e);var t=!1;this.props.filter.selected.forEach((function(n,r){n.id==e.id&&(t=r)})),!1!==t?this.props.filter.selected.splice(t,1):this.props.filter.selected.push(e),0==this.props.filter.selected.length&&this.props.removeFilter()}},{key:"renderItem",value:function(e){var t=this,n=this.is_selected(e);return p.default.createElement("li",{className:[g.default.row_option].join(" "),onClick:function(n){return t.toggleItem(e)}},p.default.createElement("div",{className:g.default.list_item_container},p.default.createElement("div",{className:g.default.list_item_action},n&&p.default.createElement("i",{className:"fa fa-check-square"}),!n&&p.default.createElement("i",{className:"far fa-square"})),p.default.createElement("div",{className:g.default.list_item_name},this.props.templates&&this.props.templates[e.id],!this.props.templates&&e.name)))}},{key:"clearFilters",value:function(){this.props.removeFilter(),this.editor_value="",this.editor_value_to="",this.props.afterClear&&this.props.afterClear(),this.props.closeAfterClear&&(this.visible=!1)}},{key:"render",value:function(){var e,t=this,n=this.props.style||null;"list"==this.props.type&&(e=this.props.filter&&this.props.filter.selected&&this.props.filter.selected.length>0?this.props.filter.selected.length:0),"range"==this.props.type&&(e=this.props.filter&&this.props.filter.range&&(this.props.filter.range.from||this.props.filter.range.to)?1:0);var r=this.props.selected_style&&e>0?this.props.selected_style:null,a=!this.props.selected_style&&e>0?g.default.active_filter_action:"";return!r&&e>0&&(r={background:"#facb1e",borderRadius:"3px"},a=""),this.visible?p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{style:u({display:"flex",alignItems:"center",justifyContent:"center"},n,r)},this.props.children&&this.props.children.length<=3&&p.default.createElement("div",{style:{cursor:"pointer"},className:a},this.props.children),this.props.children&&this.props.children.length>3&&p.default.createElement("div",{style:{cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis"},className:a},this.props.children),p.default.createElement("i",{className:["fa fa-filter",a,g.default.filter_action].join(" ")})),p.default.createElement(k,null,p.default.createElement("div",{className:[g.default.wrapper,g.default.cell].join(" "),ref:function(e){return t.wrapper=e},style:{left:this.parent_coordinates.x+"px",top:this.parent_coordinates.y+42+"px",position:"absolute",zIndex:1010}},p.default.createElement("h3",{className:g.default.header},this.props.name),"list"==this.props.type&&p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:g.default.search_field},p.default.createElement("i",{className:"fa-regular fa-fw fa-search"}),p.default.createElement("input",{className:g.default.input,type:"text",onChange:this.handleChange,value:this.filter_query}))),p.default.createElement("div",{className:g.default.wrapper_content},p.default.createElement("div",null,"list"==this.props.type&&p.default.createElement(p.default.Fragment,null,p.default.createElement("ul",{className:"inline-menu unstyled"},this.filtered_items.map((function(e){return t.renderItem(e)})))),"range"==this.props.type&&p.default.createElement("table",{className:["table",g.default.borderless].join(" ")},p.default.createElement("tr",null,p.default.createElement("td",null,"Between"),p.default.createElement("td",null,!this.props.subtype&&p.default.createElement("input",{type:"text",value:this.props.filter?this.props.filter.range.from:"",onChange:this.handleRangeFrom}),"date"==this.props.subtype&&p.default.createElement(b.default,{dateFormat:"dd MMM yyyy",selected:this.editor_value?(0,y.default)(this.editor_value).toDate():"",className:["input_editable_cell date start-date",g.default.input_editable_cell].join(" "),onSelect:this.handleChangeStartDate,style:{width:"50px"},ref:function(e){return t.start_node=e}}))),p.default.createElement("tr",null,p.default.createElement("td",null,"And"),p.default.createElement("td",null,!this.props.subtype&&p.default.createElement("input",{type:"text",value:this.props.filter?this.props.filter.range.to:"",onChange:this.handleRangeTo}),"date"==this.props.subtype&&p.default.createElement(b.default,{dateFormat:"dd MMM yyyy",selected:this.editor_value_to?(0,y.default)(this.editor_value_to).toDate():"",className:["input_editable_cell date start-date",g.default.input_editable_cell].join(" "),onSelect:this.handleChangeDueDate,style:{width:"50px"},ref:function(e){return t.due_node=e}})))))),p.default.createElement("div",{className:g.default.wrapper_footer},p.default.createElement("div",{className:"pull-right"},p.default.createElement("button",{className:"btn btn-small btn-flat",onClick:function(){return t.close()}},"Close")),p.default.createElement("div",{className:"pull-left"},p.default.createElement("button",{className:"btn btn-small btn-flat btn-danger",onClick:function(){return t.clearFilters()}},p.default.createElement("i",{className:"fa fa-trash"})," Clear")),p.default.createElement("div",{className:"clearfix"}))))):p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{onClick:function(){return t.show()}},p.default.createElement("div",{style:u({display:"flex",alignItems:"center",justifyContent:"center"},n,r)},this.props.children&&this.props.children.length<=3&&p.default.createElement("div",{style:{cursor:"pointer"},className:a},this.props.children),this.props.children&&this.props.children.length>3&&p.default.createElement("div",{style:{cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis"},className:a},this.props.children),p.default.createElement("i",{className:["fa fa-filter",a,g.default.filter_action].join(" ")}))))}},{key:"filtered_items",get:function(){var e=this;return this.props.items.filter((function(t){var n=t.name?t.name:t.value?t.value:t.id;return String(n).toLowerCase().indexOf(e.filter_query.toLowerCase())>-1}))}}]),t}(),o=w(a.prototype,"visible",[_.observable],{enumerable:!0,initializer:function(){return!1}}),i=w(a.prototype,"editor_value",[_.observable],{enumerable:!0,initializer:function(){return""}}),s=w(a.prototype,"editor_value_to",[_.observable],{enumerable:!0,initializer:function(){return""}}),l=w(a.prototype,"parent_coordinates",[_.observable],{enumerable:!0,initializer:function(){return{x:0,y:0}}}),c=w(a.prototype,"filter_query",[_.observable],{enumerable:!0,initializer:function(){return""}}),w(a.prototype,"filtered_items",[_.computed],Object.getOwnPropertyDescriptor(a.prototype,"filtered_items"),a.prototype),r=a))||r;t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DayWeekScale=function(){var e=this,t=this.store.uistate;return a.default.createElement("div",null,a.default.createElement("div",null,a.default.createElement("div",{className:"dropdown-toggle","data-toggle":"dropdown",style:{display:"flex",alignItems:"center"}},a.default.createElement("i",{class:"fa-light fa-calendar-range",style:{fontSize:"14px",paddingRight:"5px"}}),1==this.store.uistate.column_length&&a.default.createElement("div",{style:{fontSize:"11px",paddingRight:"5px"}},"Scale: Days"),7==this.store.uistate.column_length&&a.default.createElement("div",{style:{fontSize:"11px",paddingRight:"5px"}},"Scale: Weeks"),a.default.createElement("i",{style:{fontSize:"9px"},className:"fa fa-caret-down"})),a.default.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dLabel",style:{textAlign:"left",marginLeft:"-64px",fontSize:"11px",minWidth:"auto"}},a.default.createElement("li",{className:"subtitle muted"},"Time Scale"),a.default.createElement("li",null,a.default.createElement("a",{tabIndex:"-1",href:"javascript:void(0);",onClick:function(){return e.store.uistate.scaleIn()}},a.default.createElement("i",{className:["fa-circle fa-fw",1==t.column_length?"fas":"far"].join(" ")})," Days")),a.default.createElement("li",null,a.default.createElement("a",{tabIndex:"-1",href:"javascript:void(0);",onClick:function(){return e.store.uistate.scaleOut()}},a.default.createElement("i",{className:["fa-circle fa-fw",7==t.column_length?"fas":"far"].join(" ")})," Weeks")),a.default.createElement("li",{className:"divider"}),a.default.createElement("li",{className:"subtitle muted"},"On week view"),a.default.createElement("li",null,a.default.createElement("a",{tabIndex:"-1",href:"javascript:void(0);",onClick:this.toggleWeekNumber},a.default.createElement("i",{className:["fa-circle fa-fw",t.show_week_number?"far":"fas"].join(" ")})," Calendar days")),a.default.createElement("li",null,a.default.createElement("a",{tabIndex:"-1",href:"javascript:void(0);",onClick:this.toggleWeekNumber},a.default.createElement("i",{className:["fa-circle fa-fw",t.show_week_number?"fas":"far"].join(" ")})," Week Numbers")),a.default.createElement("li",{className:"subtitle muted"},"Today Indicator"),a.default.createElement("li",null,a.default.createElement("a",{tabIndex:"-1",href:"javascript:void(0);",onClick:this.toggleTodayIndicator},a.default.createElement("i",{className:["fa-circle fa-fw",t.today_indicator?"fas":"far"].join(" ")})," Enabled")),a.default.createElement("li",null,a.default.createElement("a",{tabIndex:"-1",href:"javascript:void(0);",onClick:this.toggleTodayIndicator},a.default.createElement("i",{className:["fa-circle fa-fw",t.today_indicator?"far":"fas"].join(" ")})," Disabled")))))};var r,a=(r=n(0))&&r.__esModule?r:{default:r};n(3)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_desc,_value,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_descriptor10,_descriptor11,_descriptor12,_descriptor13,_descriptor14,_descriptor15,_descriptor16,_descriptor17,_descriptor18,_mobx=__webpack_require__(3),_task=__webpack_require__(145),_task2=_interopRequireDefault(_task),_utils=__webpack_require__(9),Utils=_interopRequireWildcard(_utils),_collection=__webpack_require__(20),_collection2=_interopRequireDefault(_collection),_mobxUtils=__webpack_require__(55),_writable_filters=__webpack_require__(431),_writable_filters2=_interopRequireDefault(_writable_filters);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _applyDecoratedDescriptor(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}var TasksCollection=(_dec=_mobx.computed.struct,_dec2=_mobx.computed.struct,_dec3=_mobx.computed.struct,_dec4=_mobx.computed.struct,_dec5=_mobx.computed.struct,_dec6=_mobx.computed.struct,_dec7=_mobx.computed.struct,_dec8=_mobx.computed.struct,_class=function(_BaseCollection){function TasksCollection(e,t){var n=this;_classCallCheck(this,TasksCollection);var r=_possibleConstructorReturn(this,(TasksCollection.__proto__||Object.getPrototypeOf(TasksCollection)).call(this,t||[]));return _initDefineProp(r,"scroll_to",_descriptor,r),_initDefineProp(r,"current_tag",_descriptor2,r),_initDefineProp(r,"active_filters_arr",_descriptor3,r),_initDefineProp(r,"current_tag_type",_descriptor4,r),_initDefineProp(r,"current_project",_descriptor5,r),_initDefineProp(r,"selected_siblings_ids",_descriptor6,r),_initDefineProp(r,"selected_siblings",_descriptor7,r),_initDefineProp(r,"baseline",_descriptor8,r),_initDefineProp(r,"selected_stack",_descriptor9,r),r.restore_points=[],r.restore_points_timestamp=[],_initDefineProp(r,"restore_position",_descriptor10,r),r.restore_newest={},_initDefineProp(r,"project",_descriptor11,r),_initDefineProp(r,"sort_options",_descriptor12,r),_initDefineProp(r,"viewport",_descriptor13,r),_initDefineProp(r,"filters",_descriptor14,r),_initDefineProp(r,"global_workload",_descriptor15,r),_initDefineProp(r,"global_workload_fetch_queue",_descriptor16,r),_initDefineProp(r,"connections_queue_active",_descriptor17,r),_initDefineProp(r,"global_workload_loading",_descriptor18,r),r.firebase_realtime=!0,r.sorted_custom=(0,_mobxUtils.createTransformer)((function(e){return r.models.sort((function(t,n){return t.custom_comparator(e)>n.custom_comparator(e)?1:n.custom_comparator(e)>t.custom_comparator(e)?-1:void 0}))})),r.collection_uncollapsed_custom=(0,_mobxUtils.createTransformer)((function(e){return r.sorted_custom(e)})),r.filtered_uncollapsed_custom=(0,_mobxUtils.createTransformer)((function(e){return 0!=r.filters.tags.length||""!=r.filters.query||r.filters.range.start||0!=r.active_filters_arr.length?r.collection_uncollapsed_custom(e).filter((function(e){if(!e.is_priority_heading||"(no section)"!=e.name&&"Untitled section"!=e.name||0!=e.raw_childrens.length)return e.cascadeFilters(r.active_filters_arr)&&e.cascadeHasQuery(r.filters.query)&&e.inBetween(r.filters.range)})):r.collection_uncollapsed_custom(e).filter((function(e){if(!e.is_priority_heading||"(no section)"!=e.name&&"Untitled section"!=e.name||0!=e.raw_childrens.length)return r.excludeSubSection(e)&&!r.hide_completed(e)}))})),r.newSectionEmptyProject=function(){var e={name:"Section 1",due:"",start:"",tags:[],projects:[{id:r.globalstore.projects.selected.id}],assignee:"",dependent_of:"",user:"",notes:"",parent_priority_heading:1,priority_heading_id:"",is_priority_heading:!0,memberships:[],parent:"",priority:1,local_priority:1,project_priority:1},t=r.models[0].id;r.create(e).then((function(e){var n=parseInt(1e14*Math.random());r.add([{id:n,name:"Create task...",is_project:!1,is_priority_heading:!1,is_for_section:!0,dependent_of:[],parent_priority_heading:1,priority_heading_id:e.id,priority:1e4,local_priority:1e4,projects:[{id:r.globalstore.projects.selected.id}],completed:!1,is_new_task_handler:!0,project_priority:1,collection:self}]),r.remove([t])}))},r.getNextTaskWithDate=function(e){var t={date_index:null,date_value:null};return store.tasks.selected.every((function(n,r){return!(r>e&&n.start&&(t={date_index:r,date_value:n.start},1))})),t},r.createTemplate=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,a){var o,i,s,l,c,u,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.create({name:"This is a regular task. Click on my name on the task list, or click on the task bar",notes:"By clicking on the task name you'll open this Task Details pane. Here you can add description, upload files, and modify attributes",start:moment().format("YYYY-MM-DD"),due:moment().add("days",5).format("YYYY-MM-DD")}),r.create({name:"This is another regular task",start:moment().add("days",2).format("YYYY-MM-DD"),due:moment().add("days",3).format("YYYY-MM-DD")}),e.next=4,r.create({name:"This task has subtasks",collapsed:!1});case 4:return o=e.sent,e.next=7,r.create({name:"This task is a predecessor, linked to the next task",notes:"By moving this task, the successor task will also be moved",start:moment().add("days",12).format("YYYY-MM-DD"),due:moment().add("days",17).format("YYYY-MM-DD")});case 7:return i=e.sent,e.next=10,r.create({priority:1,is_priority_heading:!0,name:"This is a section",notes:"Sections and parent tasks can be collapsed by clicking on the '-' icon on the left of the task name on the task list"});case 10:return s=e.sent,l=parseInt(1e14*Math.random()),r.add([{id:l,name:"Create task...",is_project:!1,is_priority_heading:!1,is_for_section:!0,dependent_of:[],parent_priority_heading:s.priority,priority_heading_id:s.id,priority:1e4,projects:[r.globalstore.projects.selected.id],local_priority:1e4,completed:!1,is_new_task_handler:!0,project_priority:s.project_priority,collection:r}]),e.next=15,r.create({priority:2,is_priority_heading:!0,name:"Tips"});case 15:return c=e.sent,u=parseInt(1e14*Math.random()),r.add([{id:u,name:"Create task...",is_project:!1,is_priority_heading:!1,is_for_section:!0,dependent_of:[],parent_priority_heading:c.priority,priority_heading_id:c.id,priority:1e4,projects:[r.globalstore.projects.selected.id],local_priority:1e4,completed:!1,is_new_task_handler:!0,project_priority:c.project_priority,collection:r}]),e.next=20,r.create({priority:3,is_priority_heading:!0,name:"Draw dates on the chart"});case 20:d=e.sent,f=parseInt(1e14*Math.random()),r.add([{id:f,name:"Create task...",is_project:!1,is_priority_heading:!1,is_for_section:!0,dependent_of:[],parent_priority_heading:d.priority,priority_heading_id:d.id,priority:1e4,projects:[r.globalstore.projects.selected.id],local_priority:1e4,completed:!1,is_new_task_handler:!0,project_priority:d.project_priority,collection:r}]),r.create({name:"This is a subtask",parent:{id:o.id},start:moment().add("days",5).format("YYYY-MM-DD"),due:moment().add("days",6).format("YYYY-MM-DD")}),r.create({name:"This is a subtask",parent:{id:o.id},start:moment().add("days",7).format("YYYY-MM-DD"),due:moment().add("days",7).format("YYYY-MM-DD")}),r.create({name:"This is a subtask",parent:{id:o.id},start:moment().add("days",8).format("YYYY-MM-DD"),due:moment().add("days",8).format("YYYY-MM-DD")}),r.create({name:"This task is a successor of the previous task",dependent_of:[i.id],start:moment().add("days",19).format("YYYY-MM-DD"),due:moment().add("days",22).format("YYYY-MM-DD")}),r.create({name:"This is a task inside a section",priority_heading_id:s.id,start:moment().add("days",17).format("YYYY-MM-DD"),due:moment().add("days",21).format("YYYY-MM-DD")}),r.create({name:"This is a another task inside a section",priority_heading_id:s.id,start:moment().add("days",21).format("YYYY-MM-DD"),due:moment().add("days",25).format("YYYY-MM-DD")}),r.create({name:"This task does not have dates. Draw them on the chart",priority_heading_id:s.id}),r.create({name:"This task does not have dates. Draw them on the chart",priority_heading_id:s.id}),r.create({name:"How to set dependencies",notes:"Hover your mouse on a task bar on the Chart and drag the small circle that appears on the left onto another task bar",priority_heading_id:c.id,start:moment().add("days",25).format("YYYY-MM-DD"),due:moment().add("days",25).format("YYYY-MM-DD")}),r.create({name:"How to create subtasks",notes:"Click on a task name to open the Task Details pane and you'll find a section for adding subtasks",priority_heading_id:c.id,start:moment().add("days",26).format("YYYY-MM-DD"),due:moment().add("days",26).format("YYYY-MM-DD")}),r.create({name:"How to export",notes:"The export menu will provide you help to export as Image or PDF, Spreadsheet, or Public Snapshots (read-only links to an online Gantt Chart)",priority_heading_id:c.id,start:moment().add("days",27).format("YYYY-MM-DD"),due:moment().add("days",27).format("YYYY-MM-DD")}),r.create({name:"What are Baselines (change tracking)?",notes:"Baselines are a capture of your current plan that can be created at any time. If the plan changes in the future, you can load a Baseline to compare how it changed",priority_heading_id:c.id,start:moment().add("days",28).format("YYYY-MM-DD"),due:moment().add("days",28).format("YYYY-MM-DD")}),r.create({name:"Invite your team",notes:"On the Members settings of your workbook you can invite your team to collaborate in Realtime on your projects!",priority_heading_id:c.id,start:moment().add("days",29).format("YYYY-MM-DD"),due:moment().add("days",29).format("YYYY-MM-DD")}),r.create({name:"Draw my dates on the chart",priority_heading_id:d.id,tip:"gs-drawdates.gif",tip_title:"How to set dates on empty tasks?"}),r.create({name:"Draw my dates on the chart",priority_heading_id:d.id,tip:"gs-drawdates.gif",tip_title:"How to set dates on empty tasks?"}),r.create({name:"Draw my dates on the chart",priority_heading_id:d.id,tip:"gs-drawdates.gif",tip_title:"How to set dates on empty tasks?"}),r.create({name:"Draw my dates on the chart",priority_heading_id:d.id,tip:"gs-drawdates.gif",tip_title:"How to set dates on empty tasks?"}),r.globalstore.tasks.sort_options.sort_by_local=!1,r.globalstore.tasks.sort_options.sort_by_date=!0,r.globalstore.tasks.sort_options.keep_tasks_sorted=!0,r.globalstore.uistate.scrollToday(),t();case 45:case"end":return e.stop()}}),e,n)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,n)}))),r.globalstore=e,r.pre_save_lastcall=0,r.pre_save_timer_sleeptime=500,(0,_mobx.reaction)((function(){return[r.sort_options.group_by_priority_heading,r.sort_options.group_by_project,r.sort_options.sort_by_date,r.sort_options.sort_by_local,r.sort_options.keep_tasks_sorted]}),(function(e){r.globalstore.projectsettings._save()})),(0,_mobx.reaction)((function(){return[r.filters.tags,r.filters.query,r.active_filters_arr]}),(function(e){r.scroll_to=r.locateScroll()})),(0,_mobx.reaction)((function(){return r.hoursByUsers}),(function(){"global"==r.globalstore.uistate.workload_type&&r.globalstore.uistate.workload_hours_height>0&&r.fetchGlobalWorkload()})),(0,_mobx.reaction)((function(){return r.connections_queue_active}),(function(){!r.connections_queue_active&&r.global_workload_fetch_queue>0&&setTimeout((function(){r.fetchGlobalWorkload()}),500)})),r}return _inherits(TasksCollection,_BaseCollection),_createClass(TasksCollection,[{key:"cloneFilterField",value:function(e){var t={},n={};return this.active_filters_arr.length>0&&this.active_filters_arr.forEach((function(r){_writable_filters2.default[r.column]?Object.assign(t,_writable_filters2.default[r.column](e)):Object.assign(n,_writable_filters2.default.custom_field(e,r.column))})),(t.due&&!t.start||t.start&&!t.due)&&(Object.assign(t,_writable_filters2.default.start(e)),Object.assign(t,_writable_filters2.default.due(e))),t.custom_fields=n,t}},{key:"createRestoreModel",value:function(e){this.restore_points[this.restore_points.length-1][e.id]=e.getAttributes()}},{key:"preSave",value:function(e){(new Date).getTime()-this.pre_save_lastcall>this.pre_save_timer_sleeptime&&(this.restore_points.push({}),this.restore_points_timestamp.push(new Date)),this.pre_save_lastcall=(new Date).getTime()}},{key:"setFilter",value:function(e){if(this.active_filters[e.column]){var t=this.active_filters[e.column];this.active_filters_arr[t.index].selected=e.selected}else this.active_filters_arr.push(e)}},{key:"removeFilter",value:function(e){if(e){var t=this.active_filters_arr.findIndex((function(t){return t.column==e.column}));this.active_filters_arr.splice(t,1)}}},{key:"removeAllFilters",value:function(){for(var e=this.active_filters_arr.length,t=0;t<e;t++)this.removeFilter({index:0})}},{key:"serializeFilters",value:function(){var e=this.active_filters_arr.toJS();return e.forEach((function(e){Object.keys(e).forEach((function(t){void 0===e[t]&&(e[t]="")}))})),e}},{key:"setFilters",value:function(e){var t=this;this.active_filters_arr=[],e.forEach((function(e){t.setFilter(e)}))}},{key:"model",value:function(){return _task2.default}},{key:"url",value:function(){var e=this.globalstore.projects.selected,t="?",n="";return e?(this.globalstore.uistate.completed_since&&(t="?completed_since="+this.globalstore.uistate.completed_since_options[this.globalstore.uistate.completed_since].time.getTime()),e.subtype&&"team"==e.subtype&&-1==["hidden","1week","2weeks"].indexOf(this.globalstore.uistate.completed_since)&&(t="?completed_since="+this.globalstore.uistate.completed_since_options["2weeks"].time.getTime()),this.globalstore.uistate.show_subtasks||(n="&show_subtasks=false"),"/projects/"+e.id+"/tasks"+t+n):"/?"}},{key:"firebaseRef",value:function(){var e=this,t=this.globalstore.projects.selected;if(t){if("all"==t.subtype){var n=[];return this.globalstore.projects.filtered.filter((function(e){return e.workbook&&e.workbook.id==t.workbook.id&&"all"!=e.subtype&&"workspace-title"!=e.type})).forEach((function(t){n.push({model:t,ref:e.globalstore.db.collection("workbooks").doc(t.workbook.id).collection("projects").doc(t.id).collection("tasks")})})),n}if("folder"==t.subtype){n=[];var r=t.projects_in_folder.map((function(e){return e})),a=this.globalstore.projects.filteredWorkbook.map((function(e){return e.id}));return r.sort((function(e,t){return a.indexOf(e)<a.indexOf(t)?-1:a.indexOf(e)>a.indexOf(t)?1:0})),r.forEach((function(t){var r=e.globalstore.projects.get(t);r.archived||n.push({model:r,ref:e.globalstore.db.collection("workbooks").doc(r.workbook.id).collection("projects").doc(r.id).collection("tasks")})})),n}return this.globalstore.db.collection("workbooks").doc(t.workbook.id).collection("projects").doc(t.id).collection("tasks")}}},{key:"firebaseRefMultiSelector",value:function(e){var t=e.projects[0].id;return this.firebaseRef().filter((function(e){return e.model.id==t}))[0].ref}},{key:"firebaseJoins",value:function(){}},{key:"firebaseGlobalWorkloadRef",value:function(){return firebase.functions().httpsCallable("globalWorkload")}},{key:"fetchGlobalWorkload",value:function(){var e=this;if(!(this.globalstore.uistate.connections.length>0)){this.global_workload_fetch_queue=0,this.global_workload_loading=!0;var t=this.globalstore.uistate.export();return t.working_days=store.projectsettings.get_working_days(),this.firebaseGlobalWorkloadRef()({workbook_id:this.globalstore.workbooks.selected.id,settings:t,projects:this.globalstore.workbooks.selected.projects.map((function(e){return e.getAttributes()})),workbooks:[this.globalstore.workbooks.selected.getAttributes()],dates:this.globalstore.dates.models.map((function(e){return e.getAttributes()})),users:this.globalstore.users.models.map((function(e){return e.getAttributes()}))}).then((function(t){e.global_workload_loading=!1;var n=(new Date).getTimezoneOffset();return Object.keys(t.data).forEach((function(r){var a={};Object.keys(t.data[r]).forEach((function(e){var o=1e3*parseInt(moment(parseInt(e)).add("minutes",n).toDate().getTime()/1e3);a[o]=t.data[r][e]})),e.global_workload.set(r,a)})),!0})).catch((function(t){e.global_workload_loading=!1}))}this.global_workload_fetch_queue++}},{key:"prefill",value:function(e){e=e.filter((function(e){return""!=e.name}));var t=this.globalstore.projects.selected||{};if("group"==t.type&&t.projects.forEach((function(t,n){if(t){var r=n+1,a=t.id?t.id:t.supplier_project_id;e.push({id:a,name:t.name,project_priority:r,is_project:!0,projects:[{id:a}],color:t.color})}})),"workspace"==t.type){var n=_.compact(_.uniq(_.pluck(e.map((function(e){return!!(e.projects&&e.projects.length>0)&&e.projects[0]})),"id"))),r=_.compact(_.uniq(_.pluck(e.map((function(e){return!!(e.projects&&e.projects.length>0)&&e.projects[0]})),"name")));_.each(n,(function(t,n){var a=n;t&&e.push({id:t,name:r[n],project_priority:a,is_project:!0,projects:[{id:t}]})}))}return e=this.firebaseAllProjects(e),e=this.fillLocalCollapseStatus(e),e=this.prefillPositions(e),e=this.addTaskHandlers(e)}},{key:"firebaseAllProjects",value:function(e){var t=this.globalstore.projects.selected||{};if("Firebase"==this.storageMode()&&("all"==t.subtype&&this.globalstore.projects.filtered.filter((function(e){return e.workbook&&e.workbook.id==t.workbook.id&&"all"!=e.subtype&&"workspace-title"!=e.type&&"workbook"!=e.type})).forEach((function(t,n){var r=n+1,a=t.id?t.id:t.supplier_project_id;e.push({id:a,name:t.name,project_priority:r,is_project:!0,projects:[{id:a}],color:t.color})})),"folder"==t.subtype)){var n=t.projects_in_folder.map((function(e){return e})),r=this.globalstore.projects.filteredWorkbook.map((function(e){return e.id}));n.sort((function(e,t){return r.indexOf(e)<r.indexOf(t)?-1:r.indexOf(e)>r.indexOf(t)?1:0})),n.map((function(e){return t.collection.get(e)})).forEach((function(t,n){if(!t.archived){var r=n+1,a=t.id?t.id:t.supplier_project_id;e.push({id:a,name:t.name,project_priority:r,is_project:!0,projects:[{id:a}],color:t.color})}}))}return e}},{key:"fillLocalCollapseStatus",value:function(e){var t=JSON.parse(localStorage.getItem("uncollapsed_tasks"))||{};return e.forEach((function(e){e.is_priority_heading||e.is_project?e.collapsed=!1:e.collapsed=!0,e.id&&void 0!==t[e.id]&&(e.collapsed=!t[e.id]),e.id&&e.parent&&e.parent.id&&e.parent.id==e.id&&(e.parent="")})),e}},{key:"prefillOnChange",value:function(e){var t=this;return"Firebase"==this.storageMode()&&e.forEach((function(e){delete e.local_priority,e=t.prefillProject(e)})),e}},{key:"prefillProject",value:function(e,t){return t=t||this.globalstore.projects.selected,"Firebase"==this.storageMode()&&(e.projects&&0!=e.projects.length&&e.projects[0]&&e.projects[0].id||(e.projects=[{id:t.id}])),e}},{key:"prefillPositions",value:function(e){var t=this,n=this.globalstore.projects.selected||{};if("Firebase"==this.storageMode()){var r={};if("all"==n.subtype&&this.globalstore.projects.filtered.filter((function(e){return e.workbook&&e.workbook.id==n.workbook.id&&"all"!=e.subtype&&"workspace-title"!=e.type&&"workbook"!=e.type})).forEach((function(e,t){r[e.id]=t})),"folder"==n.subtype){var a=n.projects_in_folder.map((function(e){return e})),o=this.globalstore.projects.filteredWorkbook.map((function(e){return e.id}));a.sort((function(e,t){return o.indexOf(e)<o.indexOf(t)?-1:o.indexOf(e)>o.indexOf(t)?1:0})),a.map((function(e){return n.collection.get(e)})).forEach((function(e,t){r[e.id]=t}))}e.forEach((function(e){var a=t.globalstore.projectsettings.settings.positions.indexOf(e.id);-1==a||e.is_new_task_handler||(e.local_priority=a),"all"!=n.subtype&&"folder"!=n.subtype||(e.project_priority=r[e.projects[0].id]),"all"!=n.subtype&&"folder"!=n.subtype&&(e.projects=[{id:n.id}]),"null"!=e.due&&"0000-01-01"!=e.due||(e.due=""),"null"!=e.start&&"0000-01-01"!=e.start||(e.start="")})),this.globalstore.projectsettings.updateCustomPositions(this.globalstore.projectsettings.settings.custom_positions)}return e}},{key:"prefillPartial",value:function(e,t,n){var r=this;return t=t||this.globalstore.projects.selected,"Firebase"==this.storageMode()&&e.forEach((function(e){e=r.prefillProject(e,t)})),e}},{key:"excludeSubSection",value:function(e){return!this.sort_options.sort_by_date||!e.is_subsection}},{key:"resetViewport",value:function(){this.viewport.position_start=0,this.viewport.position_end=100,this.viewport.block_length=10,this.viewport.overscan=30,this.viewport.buffered_position_start=0,this.viewport.buffered_position_end=100}},{key:"resetFilters",value:function(){this.filters.query="",this.filters.tags=[],this.filters.range={},this.active_filters_arr=[]}},{key:"validateParent",value:function(e){return!(e.parent&&e.parent.id&&!e.collection.get(e.parent.id))}},{key:"structure",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ignore_collapsed:!1,ignore_collapsed_sections:!1};t=t||{ignore_collapsed:!1,ignore_collapsed_sections:!1};var n=[],r=this,a={},o=this.sorted.filter((function(t){return 0==t.parents.length||0!=t.parents.length&&!e.validateParent(t)})),i=(a={},function(e){return!(!e.completed||"hidden"!=r.globalstore.uistate.completed_since)||!!(e.completed&&e.completed_at&&moment(e.completed_at)<r.globalstore.uistate.completed_since_options[r.globalstore.uistate.completed_since].time)});return o.forEach((function(o){if((e.sort_options.group_by_priority_heading||!o.is_priority_heading)&&(e.sort_options.group_by_priority_heading||!o.is_new_task_handler||!o.is_for_section)&&(e.sort_options.group_by_project||!o.is_project)){if((o.is_project||o.is_priority_heading)&&o.collapsed&&!t.ignore_collapsed&&(a[o.id]=!0),(o.is_project||o.is_priority_heading)&&o.collapsed&&t.ignore_collapsed_sections&&(a[o.id]=!1),!o.is_project&&!o.is_priority_heading){if(o.priority_heading_id&&a[o.priority_heading_id])return!1;if(o.projects.length>0&&o.projects[0]&&o.projects[0].id&&a[o.projects[0].id])return!1}if(o.is_priority_heading&&o.projects&&o.projects.length>0&&a[o.projects[0].id])return!1;if(i(o))return!1;if(n.push(o),!o.is_project&&!o.is_priority_heading&&r.globalstore.uistate.show_subtasks){var s=function e(n){var r=[];return n.sorted_childrens.forEach((function(t){var a;if(t.id!=n.id){if(i(t))return!1;r.push(t);var o=e(t);(a=r).push.apply(a,_toConsumableArray(o))}})),n.collapsed&&!t.ignore_collapsed&&(r=[]),r}(o);n.push.apply(n,_toConsumableArray(s))}}})),n}},{key:"hide_completed",value:function(e){return!(!e.completed||"hidden"!=this.globalstore.uistate.completed_since)||!!(e.completed&&"false"!=e.completed&&e.completed_at&&moment(e.completed_at)<this.globalstore.uistate.completed_since_options[this.globalstore.uistate.completed_since].time)}},{key:"sections",value:function(e){return e.project_id?this.collection.filter((function(t){return t.is_priority_heading&&t.projects&&t.projects[0].id==e.project_id})):this.collection.filter((function(e){return e.is_priority_heading}))}},{key:"addTaskHandlers",value:function addTaskHandlers(tasks){if("offline"==this.globalstore.mode)return tasks;var self=this,start=(new Date).getTime(),sections,is_project,is_priority_heading,current_project,uistate=this.globalstore.uistate;if(uistate.is_printable_version)return tasks;var current_project=this.globalstore.projects.selected;if(current_project&&"workspace"==current_project.type)return tasks;switch(eval(this.sort_options.group_by_priority_heading)){case!1:sections=[],is_project=!0,is_priority_heading=!1;break;case!0:sections=tasks.filter((function(e){return e.is_priority_heading&&!self.hide_completed(e)})),is_project=!1,is_priority_heading=!0}var to_add=[];if(sections.forEach((function(e,t){if("(no section)"!=e.name&&"Untitled section"!=e.name||!(sections.length>1)){var n=e.projects.length>0?e.projects[0].id:0;tasks.push({id:parseInt(1e14*Math.random()),name:"Create task...",is_project:!1,is_priority_heading:!1,is_for_section:!0,dependent_of:[],parent_priority_heading:e.priority,priority_heading_id:e.id,priority:1e4,local_priority:1e4,projects:[{id:n}],completed:!1,is_new_task_handler:!0,project_priority:e.project_priority,collection:self})}})),0==sections.length&&current_project&&"group"!=current_project.type){var projects=[{id:current_project.supplier_project_id}];"workspace"==current_project.type&&(projects=[]);var current_handlers=tasks.filter((function(e){return e.is_new_task_handler}));0==current_handlers.length&&tasks.push({id:parseInt(1e14*Math.random()),name:"Create task...",is_project:!1,is_priority_heading:!1,parent_priority_heading:0,priority_heading_id:0,priority:1e4,local_priority:1e4,projects:projects,completed:!1,is_new_task_handler:!0})}if(current_project&&"group"==current_project.type&&(to_add=[],current_project.projects.forEach((function(e){if(e&&0==tasks.filter((function(t){return 1==t.is_new_task_handler&&t.projects[0].id==e.supplier_project_id})).length){var t=tasks.filter((function(t){return t.id==e.supplier_project_id}))[0];t&&tasks.push({id:parseInt(1e14*Math.random()),name:"Create task...",is_project:!1,is_priority_heading:!1,parent_priority_heading:0,priority_heading_id:0,priority:1e4,local_priority:1e4,projects:[{id:e.supplier_project_id}],completed:!1,is_new_task_handler:!0,project_priority:t.project_priority})}}))),current_project&&"group"==current_project.type&&"all"==current_project.subtype){to_add=[];var workbook=this.globalstore.workbooks.get(current_project.workbook.id);workbook.projects.forEach((function(e){if(0==tasks.filter((function(t){return 1==t.is_new_task_handler&&(t.projects[0].id==e.supplier_project_id||t.projects[0].id==e.id)})).length){var t=tasks.filter((function(t){return t.id==e.id}))[0];t&&tasks.push({id:parseInt(1e14*Math.random()),name:"Create task...",is_project:!1,is_priority_heading:!1,parent_priority_heading:0,priority_heading_id:0,priority:1e4,local_priority:1e4,projects:[{id:e.id}],completed:!1,is_new_task_handler:!0,project_priority:t.project_priority})}}))}return tasks}},{key:"addTodo",value:function(e){this.models.push(new _task2.default(this,Utils.uuid(),e,!1))}},{key:"toggleAll",value:function(e){this.models.forEach((function(t){return t.completed=e}))}},{key:"clearCompleted",value:function(){this.models=this.todos.filter((function(e){return!e.completed}))}},{key:"toJS",value:function(){return this.models.map((function(e){return e.toJS()}))}},{key:"reset",value:function(e){var t=this;this.mapId={},this.models.replace(e.map((function(e){return new _task2.default(e)}))),this.models.forEach((function(e){e.id&&(t.mapId[e.id]=e)})),this.afterReset&&this.afterReset()}},{key:"afterReset",value:function(){this.globalstore.uistate.calendarFromTasks(),this.globalstore.uistate.project_id!=this.globalstore.uistate.last_project_id&&(this.scroll_to=this.locateScroll()),"standalone"==this.globalstore.user.type&&1==store.tasks.models.length&&store.tasks.models[0].is_new_task_handler&&this.newSectionEmptyProject(),"standalone"==this.globalstore.user.type&&this.globalstore.projectsettings.updateCustomPositions(this.globalstore.projectsettings.settings.custom_positions)}},{key:"locateScroll",value:function(){this.viewport.block_length;var e=(this.filters.query,!1);e||(e=new Date),e.setDate(1);var t=Math.ceil(Utils.daysDiff(e,this.globalstore.uistate.calendar.first_month_first_date)/this.globalstore.uistate.column_length-1)*this.globalstore.uistate.column_width,n=_.filter(this.filtered,(function(t){if(t.raw_childrens.length>0&&t.collapsed&&t.container&&t.container.start){var n=Utils.getDateSafely(t.container.start);return!t.is_project&&!t.is_priority_heading&&t.container&&t.container.start&&n.getTime()>=e.getTime()&&!t.is_new_task_handler}if(0==t.raw_childrens.length)return n=Utils.getDateSafely(t.start),!t.is_project&&!t.is_priority_heading&&""!=t.start&&n.getTime()>=e.getTime()&&!t.is_new_task_handler}));if(this.filtered.length<15)return{left:t,top:0};if(n.length>0){var r=n[0].id,a=_.map(this.filtered,(function(e){return e.id})),o=a.indexOf(r);a.length-o>=20?o=o-15>0?o-15:0:o-=20-(a.length-o),(o+100>this.filtered.length?this.filtered.length:o+100)-this.viewport.block_length>0&&this.viewport.block_length;var i=this.get(r);return i?((e=moment(i.start||e).toDate()).setDate(1),{left:t=Math.ceil(Utils.daysDiff(e,this.globalstore.uistate.calendar.first_month_first_date)/this.globalstore.uistate.column_length-1)*this.globalstore.uistate.column_width,top:25*o}):{left:t,top:25*o}}var s=_.filter(this.filtered,(function(e){return e.raw_childrens.length>0&&e.collapsed&&e.container&&e.container.due?(Utils.getDateSafely(e.container.due),!e.is_project&&!e.is_priority_heading&&e.container&&e.container.due&&!e.is_new_task_handler):0==e.raw_childrens.length?(Utils.getDateSafely(e.due),!e.is_project&&!e.is_priority_heading&&""!=e.due&&!e.is_new_task_handler):void 0}));if(0==s.length)return{left:t,top:0};var l=s[s.length-1],c=l.raw_childrens.length>0&&l.raw_childrens?l.container.due:l.due;if(!c||""==c)return{left:t,top:0};var u=this.globalstore.uistate.calendar_from_tasks;return u.end&&(c=u.end,l=u.last_task),(e=moment(c).toDate()).setDate(1),t=Math.ceil(Utils.daysDiff(e,this.globalstore.uistate.calendar.first_month_first_date)/this.globalstore.uistate.column_length-1)*this.globalstore.uistate.column_width,o=this.filtered.indexOf(l),this.filtered.length-o>=20?o=o-15>0?o-15:0:o-=20-(this.filtered.length-o),(o+50>this.filtered.length?this.filtered.length:o+50)-this.viewport.block_length>0&&this.viewport.block_length,{left:t,top:25*(o-1)}}},{key:"createRestorePoint",value:function(){this.restore_position=null,this.restore_points.push({})}},{key:"restoreFromTasks",value:function(e){var t=this;return Object.keys(e).forEach((function(n){t.get(n).set(e[n])})),!0}},{key:"restoreGetAllChangedIds",value:function(){return[].concat.apply([],this.restore_points.map((function(e){return Object.keys(e)}))).filter((function(e,t,n){return n.indexOf(e)===t}))}},{key:"restoreConfirm",value:function(){var e=this;this.restoreGetAllChangedIds().forEach((function(t){e.get(t).save()})),null!=this.restore_position&&this.restore_position<=this.restore_points.length-1&&(this.restore_points=this.restore_points.slice(0,this.restore_position),this.restore_points_timestamp=this.restore_points_timestamp.slice(0,this.restore_position)),this.restore_position=null,this.restore_newest={}}},{key:"restoreCancel",value:function(){this.restoreFromPoint("latest"),this.restore_newest={}}},{key:"restoreFromPoint",value:function(e){var t=this,n="undo"===e,r="redo"===e,a="latest"===e,o=this.restore_position===this.restore_points.length-1;if(a)return this.restore_position=null,this.restoreFromTasks(this.restore_newest);if(r&&null===this.restore_position)return!1;if(r&&o)return this.restoreFromPoint("latest");if(n&&0===this.restore_position)return!1;if(n&&null===this.restore_position&&0==this.restore_points.length)return!1;if(null===this.restore_position&&n&&(this.restore_position=this.restore_points.length,this.restoreGetAllChangedIds().forEach((function(e){t.restore_newest[e]=t.get(e).getAttributes()}))),r&&-1===this.restore_position&&(this.restore_position=0),r){var i=++this.restore_position;this.restoreFromTasks(this.restore_newest);for(var s=this.restore_points.length-1;s>=i;s--)this.restoreFromTasks(this.restore_points[s])}return n?this.restoreFromTasks(this.restore_points[--this.restore_position]):void 0}},{key:"resetSelectedSiblings",value:function(){this.filtered_uncollapsed.forEach((function(e){e.selected&&(e.selected=!1),e.multiple_options&&(e.multiple_options=!1)})),this.selected_siblings=[],this.selected_siblings_ids=[]}},{key:"saveTemporals",value:function(e){var t=[];this.models.forEach((function(e){if(e.forced_parent_movement=!1,e.last_push_uuid=e.temporal&&e.temporal.uuid?e.temporal.uuid:e.temporal_container&&e.temporal_container.uuid?e.temporal_container.uuid:null,e.temporal&&e.temporal.start&&e.raw_childrens_count>0&&""==e.start&&""==e.due)return e.temporal=null,void(e.temporal_container=null);if(e.temporal&&e.temporal.start&&e.temporal.due)if(e.temporal.start!=e.start||e.temporal.due!=e.due){if(e.last_modified=(new Date).getTime(),e.is_project)return;t.push(e)}else e.temporal=null,e.temporal_container=null;e.temporal_container&&(e.temporal_container=null)})),t.forEach((function(e){if(e.is_priority_heading)return e.start="",void(e.due="");e.save({start:e.temporal.start,due:e.temporal.due,temporal:null,temporal_container:null})})),e&&e()}},{key:"setLocalPositions",value:function(e){e=e||{};var t=[],n=this.globalstore.projects.selected;if((n=this.globalstore.projects.selected)&&"group"==n.type){if(e.trigger_model){var r=e.trigger_model;if(r.projects&&r.projects[0].id){var a=r.projects[0].id;this.collection_uncollapsed.filter((function(e){return(e.projects[0]||{}).id==a})).forEach((function(e,n){t.push(e.id),e.is_new_task_handler||(e.local_priority=n+1)}))}}}else this.collection_uncollapsed.forEach((function(e,n){t.push(e.id),e.is_new_task_handler||(e.local_priority=n+1)}));return this.setCustomLocalPositions(e),e.silent||this.saveLocalPositions(t,e),t}},{key:"setCustomLocalPositions",value:function(e){var t=this;if(e.key){e=e||{},this.globalstore.projects.selected;var n=this.globalstore.workbooksettings.customField(e.key),r=1;n.options.forEach((function(a){t.filtered_uncollapsed_custom("_status").filter((function(e){if(!e.is_priority_heading||"(no section)"!=e.name&&"Untitled section"!=e.name||0!=e.raw_childrens.length)return e.cascadeFilters([{type:"list",column_type:"custom",attribute:n.id,selected:[{id:a.id}],subattribute:!1,attributeType:"Object",strict_mode:!0}])})).forEach((function(t){var n=(0,_mobx.toJS)(t.custom_priority);n[e.key]=r,t.custom_priority=n,r+=1}))}))}}},{key:"saveLocalPositions",value:function(e,t){var n=this;t=t||{};var r=this.globalstore.projects.selected;if(t.trigger_model&&(t.trigger_model=this.getRootParent(t.trigger_model)),(t.project_id||t.trigger_model&&t.trigger_model.projects&&t.trigger_model.projects.length>0&&t.trigger_model.projects[0].id&&"group"==r.type)&&(t.project_id=t.trigger_model.projects[0].id),!e)if(t.project_id){this.get(t.project_id);var a=!1;e=this.collection_uncollapsed.filter((function(e){if(a&&e.is_project&&(a=!1),a||e.id!=t.project_id||(a=!0),a&&!e.is_project&&!e.is_new_task_handler)return!0})).map((function(e){return e.id}))}else e=this.collection_uncollapsed.map((function(e){return e.id}));if(r&&"group"!=r.type){if(e=this.collection_uncollapsed.map((function(e){return e.id})),this.globalstore.projectsettings._set_setting("positions",e),t.key){var o=this.collection_uncollapsed_custom(t.key).map((function(e){return e.id})),i=this.globalstore.projectsettings.getSetting("custom_positions")||{};i[t.key]=o,this.globalstore.projectsettings._set_setting("custom_positions",i)}this.globalstore.projectsettings._save()}if(r&&"group"==r.type)if(t.trigger_model&&t.project_id){var s;if(this.get(t.project_id),s=this.collection_uncollapsed.filter((function(e){return(e.projects[0]||{}).id==t.project_id})).map((function(e){return e.id})),this.globalstore.projectsettings._set_setting("positions",s),t.key){var l=this.collection_uncollapsed_custom(t.key).filter((function(e){return(e.projects[0]||{}).id==t.project_id})).map((function(e){return e.id})),c=this.globalstore.projectsettings.getSetting("custom_positions")||{};c[t.key]=l,this.globalstore.projectsettings._set_setting("custom_positions",c)}this.globalstore.projectsettings._save({supplier_project_id:t.project_id})}else this.collection_uncollapsed.filter((function(e){return e.is_project})).forEach((function(e){var t=[];e.cascade_raw_childrens.forEach((function(e){t[n.collection_uncollapsed.indexOf(e)]=e.id})),t=t.filter((function(e){return e})),n.globalstore.projectsettings._set_setting("positions",t),n.globalstore.projectsettings._save({supplier_project_id:e.id})}))}},{key:"unselectAll",value:function(){this.selected.forEach((function(e){return e.selected=!1})),this.globalstore.uistate.task_details_open=!1}},{key:"deleteSelected",value:function(){if("standalone"==this.globalstore.user.type)var e=store.tasks.selected.slice(0).filter((function(e){return!e.is_new_task_handler}));else e=store.tasks.selected.slice(0).filter((function(e){return!e.is_priority_heading&&!e.is_new_task_handler}));e.forEach((function(e){return e.delete_active()}))}},{key:"getRootParent",value:function(e){return e.parent&&e.parent.id?this.getRootParent(this.get(e.parent.id)):e}},{key:"compressedTimeline",value:function(e){var t,n,r,a=this,o=this.globalstore.uistate;return t=[[]],r=[0],n=this.filtered_uncollapsed.filter((function(t){if(t.is_priority_heading)return!1;if(t.is_project)return!1;if(o.show_parents_on_workload){if(!(t.container||""!=t.start&&"null"!=t.start&&t.start&&void 0!==t.start))return!1;if(!(t.container||""!=t.due&&"null"!=t.due&&t.due&&void 0!==t.due))return!1;if(t.container&&!t.container.start)return!1}else{if(""==t.start||"null"==t.start||!t.start||void 0===t.start)return!1;if(""==t.due||"null"==t.due||!t.due||void 0===t.due)return!1}return e?t.get_user?t.get_user.id==e:void 0:""==t.get_user||void 0===t.get_user})),_.sortBy(n,(function(e){var t=e.start?e.start:e.container.start;return new Date(t.split("-")[0],t.split("-")[1]-1,t.split("-")[2]).getTime()})).forEach((function(e){var n=e.start,o=(n=e.start?e.start:e.container.start,e.due);if(o=e.due?e.due:e.container.due,n&&o){7==a.globalstore.uistate.column_length&&(n=moment(Utils.getMonday(moment(n))).format("YYYY-MM-DD"),o=moment(Utils.getMonday(moment(o))).format("YYYY-MM-DD"));for(var i=new Date(n.split("-")[0],n.split("-")[1]-1,n.split("-")[2]),s=new Date(o.split("-")[0],o.split("-")[1]-1,o.split("-")[2]),l=i.getTime(),c=s.getTime(),u=!1,d=0;d<t.length;d++)t[d]&&r[d]<l&&(t[d].push(e),r[d]=c,d=t.length,u=!0);u||(t.push([e]),r[t.length-1]=c)}})),t}},{key:"calcTotalHours",value:function(e,t){var n=this.hoursByUsers[t]?this.hoursByUsers[t]:{},r=0;return Object.keys(n).forEach((function(e){r+=n[e]})),r}},{key:"hoursByUser",value:function(e,t){var n=this.globalstore.uistate,r={};return e.forEach((function(e){e.forEach((function(e){var a=e.working_duration_for_workload;if(0==e.raw_childrens_count)var o=Utils.getDateSafely(e.start),i=Utils.getDateSafely(e.due),s=t&&0!=t.id?e.get_estimated_hours.estimated_hours_per_user[t.id].hours:e.get_estimated_hours.estimated_hours;else e.start?(o=Utils.getDateSafely(e.start),i=Utils.getDateSafely(e.due),s=e.get_estimated_hours.editable?t&&0!=t.id?e.get_estimated_hours.estimated_hours_per_user[t.id].hours:e.get_estimated_hours.estimated_hours:t&&0!=t.id?e.unscheduled_estimated_hours_on_childs_per_user[t.id]?e.unscheduled_estimated_hours_on_childs_per_user[t.id].hours:0:e.unscheduled_estimated_hours_on_childs):n.show_parents_on_workload&&(o=Utils.getDateSafely(e.container.start),i=Utils.getDateSafely(e.container.due),s=t&&0!=t.id?e.unscheduled_estimated_hours_on_childs_per_user[t.id]?e.unscheduled_estimated_hours_on_childs_per_user[t.id].hours:0:e.unscheduled_estimated_hours_on_childs),s||e.get_estimated_hours.estimated_hours==e.calculated_estimated_hours||(s=t&&0!=t.id?e.get_estimated_hours.estimated_hours_per_user[t.id]:e.get_estimated_hours.estimated_hours);if(s)for(var l=new Date(o),c=0;l<=i;){var u=0;if(n.skip_weekends&&""!=e.start&&""!=e.due?u=(Number(s)/Number(a)).toPrecision(3):n.skip_weekends||""==o||""==i||(u=(Number(s)/Number(a)).toPrecision(3)),n.skip_weekends&&!Utils.isWeekend(l,e.get_users_ids)||!n.skip_weekends){l.setHours(0);var d=1e3*parseInt(l.getTime()/1e3);7==n.column_length&&(d=1e3*parseInt(Utils.getMonday(l).getTime()/1e3)),r[d]=r[d]?Number(r[d])+Number(u):Number(u)}if(l.setDate(l.getDate()+1),++c>1e3)break}}))})),r}},{key:"where",value:function(e){return this.models.filter((function(t){var n=!0;return Object.keys(e).forEach((function(r){e[r]!=t[r]&&(n=!1)})),n}))}},{key:"applyToSelected",value:function(e,t){if(this.selected.length>1){var n=0;return this.selected.forEach((function(r){r.is_priority_heading||r.is_project||r.is_new_task_handler||(e.no_childs&&0==r.raw_childrens_count?(t(r),n++):e.no_childs||(t(r),n++))})),n}if(1==this.selected.length)return t(this.selected[0]),1}},{key:"freeEditMode",value:function(){var e=!1;this.sort_options.sort_by_local||(e=!0),console.log("Try to save for all",e),this.sort_options.sort_by_date=!1,this.sort_options.sort_by_local=!0,this.sort_options.keep_tasks_sorted=!1,"group"==this.globalstore.projects.selected.type&&e&&setTimeout((function(){}),0)}},{key:"unsetDrawingDependency",value:function(){var e=this.get(this.globalstore.uistate.drawing_dependency.id);e&&(e.drawing_dependency=!1),this.globalstore.uistate.drawing_dependency=!1}},{key:"getTasksProjects",value:function(){var e=[];return this.collection.forEach((function(t){0!=t.projects.length&&t.projects.forEach((function(t){e.push(t.id)}))})),_.unique(e)}},{key:"waterfallSelected",value:function(){var e=this;if(this.selected&&0!=this.selected.length){var t=this.getNextTaskWithDate(0),n=t.date_index,r=t.date_value,a=this.selected[0].due;a||(a=r?moment(r).subtract("days",n).format("YYYY-MM-DD"):moment().format("YYYY-MM-DD")),this.selected.forEach((function(t,r){if(n==r){var a=e.getNextTaskWithDate(r);a.date_index,a.date_value}r>0&&t.dependsOn(e.selected[r-1])}))}}},{key:"unlinkSelected",value:function(){this.selected&&0!=this.selected.length&&confirm("We will remove all predecessors from this tasks. Are you sure you want to proceed?")&&(this.selected.forEach((function(e,t){e.deleteLeftDependency("0")})),store.uistate.help_message="Tasks successfully unlinked")}},{key:"createGroup",value:function(e){var t=this,n=this.selected[0],r=(this.selected,{});this.setLocalPositions({trigger_model:n}),n.priority_heading_id&&(r.section=Number(n.priority_heading_id)),n.projects&&n.projects[0]&&n.projects[0].id&&(r.project=Number(n.projects[0].id));var a={name:e,projects:n.projects,parent_priority_heading:n.priority_heading||0,priority_heading_id:n.priority_heading_id||0,memberships:[r],parent:n.parent,previous_task_id:n.id,project_priority:n.project_priority,priority:parseFloat(n.priority)+.01,local_priority:parseFloat(n.local_priority)+.01};return n.parent&&(delete a.memberships,delete a.projects),"standalone"==this.globalstore.user.type&&(a.projects=[{id:n.projects[0].id}]),this.create(a).then((function(e){t.saveLocalPositions(null,{trigger_model:n});var r=t.get(e.id);r&&r.setCollapsed(!1),t.applyToSelected({},(function(t){t.changeParent({parent:e.id})}))}))}},{key:"syncAsanaStartDates",value:function(){var e=0;this.collection.forEach((function(t){t.start_unsyncd&&e++})),e>0&&(this.globalstore.uistate.current_modal="SYNC_START_DATES")}},{key:"syncAll",value:function(){var e=[];this.collection.forEach((function(t){t.start_unsyncd&&(e.push(t),delete t.start_unsyncd)})),e.forEach((function(e){e.save()}))}},{key:"createTask",value:function(e){var t=this.globalstore,n=e.priority_heading_id,r=e.name;if(""!==r){var a=[],o="",i="";if(t.tasks.active_filters.assignee&&t.tasks.active_filters.assignee.selected[0]&&t.tasks.active_filters.assignee.selected[0].id){var s=t.users.get(t.tasks.active_filters.assignee.selected[0].id);s&&(i=s.getAttributes(),o=s.id)}if(e.assignee_id){var l=t.users.get(assignee_id);l&&(i=l.getAttributes(),o=l.id)}if(t.tasks.active_filters.tags&&t.tasks.active_filters.tags.selected[0]&&t.tasks.active_filters.tags.selected[0].id){var c=t.tags.get(t.tasks.active_filters.tags.selected[0].id);c||(c=t.tasks.tags.filter((function(e){return e.id==t.tasks.active_filters.tags.selected[0].id}))[0]),c&&(a=[{id:c.id,name:c.name}])}this.current_project;var u=e.projects?e.projects:t.projects.selected.id,d=[],f=this.get(n).priority;(n=n)&&(d=[{project:u,section:n}]);var p={name:r,due:"",start:"",tags:a,projects:u,project_id:u,assignee:o,dependent_of:"",user:i,notes:"",parent_priority_heading:f,priority_heading_id:n,memberships:d,parent:e.parent||"",priority:e.priority,local_priority:e.local_priority};return e.custom_fields&&(p.custom_fields=e.custom_fields),e.custom_priority&&(p.custom_priority=e.custom_priority),e.project_id&&(p.project_id=e.project_id),void 0!==e.project_priority&&(p.project_priority=e.project_priority),t.uistate.is_mobile&&t.uistate.mobileMessage("Task created"),this.create(p)}}},{key:"_prepareChartData",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n?moment(n).format("YYYY-MM-DD"):n;var a=_defineProperty({},t=t?moment(t).format("YYYY-MM-DD"):t,0),o=Object.keys(e);o.sort();var i=0;return o.filter((function(e){return e})).forEach((function(t){if(t){var n=0;e[t].forEach((function(e){var t=_slicedToArray(e,2),a=t[0],o=t[1],i=Number(a.calculated_progress.replace(/[^0-9]/g,""));n+=o*(r?1:i/100)})),a[moment(t).format("YYYY-MM-DD")]||(a[moment(t).format("YYYY-MM-DD")]=0),a[moment(t).format("YYYY-MM-DD")]=i+n,i=a[moment(t).format("YYYY-MM-DD")]}})),n&&o.filter((function(e){return!e})).forEach((function(t){e[t].forEach((function(e){var t=_slicedToArray(e,2),o=t[0],s=t[1];a[n]||(a[n]=i);var l=Number(o.calculated_progress.replace(/[^0-9]/g,""));a[n]+=s*(r?1:l/100)}))})),a}},{key:"groupByProject",value:function(){var e=this,t={};return"project"==this.globalstore.projects.selected.type&&"standalone"!=this.globalstore.user.type&&(t={id:this.globalstore.projects.selected.supplier_project_id}),Object.entries(_.groupBy(this.collection_uncollapsed,(function(e){return(t.id?t:e.projects[0]).id}))).map((function(t){var n=_slicedToArray(t,2),r=n[0],a=n[1],o=a.filter((function(e){return e.is_project}))[0];if(r)return void 0===o&&(e.globalstore.projects.selected&&e.globalstore.projects.selected.id===r&&(o=new _task2.default({id:r,name:e.globalstore.projects.selected.name,project_priority:1,is_project:!0,projects:[{id:r}],color:e.globalstore.projects.selected.color,collection:e})),e.globalstore.projects.selected&&e.globalstore.projects.selected.supplier_project_id===r&&(o=new _task2.default({id:r,name:e.globalstore.projects.selected.name,project_priority:1,is_project:!0,projects:[{id:r}],color:e.globalstore.projects.selected.color,collection:e})),o||(o=new _task2.default({id:r,name:r,project_priority:1,is_project:!0,projects:[{id:r}],collection:e}))),[o,a]})).filter((function(e){return e}))}},{key:"beforeCreate",value:function(e){return"standalone"==this.globalstore.user.type&&(e.created_at=moment().utc().unix(),this.globalstore.logs.createLog("created",e,e)),e}},{key:"getPreviousSibling",value:function(e,t){var n=this.filtered[this.filtered.indexOf(e)-1];return!n.is_priority_heading&&!n.is_project&&!n.is_new_task_handler&&(n.parents.length==t?n:!(n.parents.length<t)&&this.getPreviousSibling(n,t))}},{key:"outdent",value:function(e){var t=e||this.selected[0];if(0==this.filtered.indexOf(t))return!1;if(0==t.parents.length)return!1;var n=this.get(t.parent.id),r=n.parents.length>0?this.get(n.parent.id):this.get(n.get_priority_heading_id);r&&(e?e.changeParent({parent:r.id}):this.applyToSelected({},(function(e){e.changeParent({parent:r.id})})))}},{key:"indent",value:function(e){var t=e||this.selected[0];if(0==this.filtered.indexOf(t))return!1;var n=this.getPreviousSibling(t,t.parents.length);n&&(n.setCollapsed(!1),e?e.changeParent({parent:n.id}):this.applyToSelected({},(function(e){e.changeParent({parent:n.id})})))}},{key:"markAllAsRead",value:function(){var e=this;this.models.filter((function(e){return e.is_unread})).forEach((function(t){var n=""==t.last_read?{}:(0,_mobx.toJS)(t.last_read);n[e.globalstore.user.id]=moment().utc().unix(),t.save({last_read:n})}))}},{key:"containersWithFixedDatesAndDependencies",value:function(){return this.collection_uncollapsed.filter((function(e){return!e.is_project&&!e.is_priority_heading&&e.raw_childrens_models.length>0&&""!=e.start&&""!=e.due&&(e.predecessor_ids.length>0||e.direct_successors.length>0)}))}},{key:"newSiblingTask",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1],n={},r=void 0,a=t,o=a.store.globalstore,i=a.sorted_childrens;a.setCollapsed(!1),e?(0==i.length||(t=i[i.length-1]),r={id:a.id}):t?r=t.parent:(t=a,r="");var s="standalone"==this.globalstore.user.type?o.tasks.getRef().doc().id:"";Object.assign(n,{id:s,collection:a.collection,created_at:moment().utc().unix(),color:a.color,project_id:a.project_id,parent_priority_heading:a.parent_priority_heading,priority_heading_id:a.priority_heading_id,memberships:a.memberships,parent:r,project_priority:a.project_priority,priority:parseFloat(t.priority)+.01,local_priority:parseFloat(t.local_priority)+.01,placeholder:!0});var l=o.tasks.cloneFilterField(a);console.log({current_filters_fields:l}),Object.assign(n,l),o.tasks.add([n])}},{key:"active_filters",get:function(){var e={};return this.active_filters_arr.forEach((function(t,n){e[t.column]=Object.assign({},t)})),e}},{key:"globalWorkload",get:function(){return(0,_mobx.toJS)(this.global_workload)}},{key:"sorted",get:function(){return this.models.sort((function(e,t){return e.comparator>t.comparator?1:t.comparator>e.comparator?-1:void 0}))}},{key:"collection",get:function(){return this.structure()}},{key:"collection_uncollapsed",get:function(){return this.structure({ignore_collapsed:!0})}},{key:"collection_uncollapsed_sections",get:function(){return this.structure({ignore_collapsed_sections:!0})}},{key:"collection_uncollapsed_ids",get:function(){return this.collection_uncollapsed.map((function(e){return String(e.id)}))}},{key:"filtered_ids",get:function(){return this.filtered.map((function(e){return String(e.id)}))}},{key:"filtered_length",get:function(){return this.filtered.length}},{key:"filtered",get:function(){var e=this;return 0!=this.filters.tags.length||""!=this.filters.query||this.filters.range.start||0!=this.active_filters_arr.length?this.collection.filter((function(t){if(!t.is_priority_heading||"(no section)"!=t.name&&"Untitled section"!=t.name||0!=t.raw_childrens.length)return t.cascadeFilters(e.active_filters_arr)&&t.cascadeHasQuery(e.filters.query)&&t.inBetween(e.filters.range)})):this.collection.filter((function(t){if(!t.is_priority_heading||"(no section)"!=t.name&&"Untitled section"!=t.name||0!=t.raw_childrens.length)return e.excludeSubSection(t)&&!e.hide_completed(t)}))}},{key:"timeline",get:function(){var e=this,t=[];if("group"==this.globalstore.projects.selected.type)t="folder"==this.globalstore.projects.selected.subtype?this.collection.filter((function(t){return t.is_project&&(t.start||(t.container||{}).start)&&-1!=e.globalstore.projects.selected.projects_in_folder.indexOf(t.id)})):this.collection.filter((function(e){return e.is_project&&(e.start||(e.container||{}).start)}));else{var n=this.collection.filter((function(e){return e.is_priority_heading&&(e.start||(e.container||{}).start)}));t=n.length>0?n:this.collection.filter((function(e){return 0==e.parents.length&&(e.start||(e.container||{}).start)}))}return t.sort((function(e,t){return(e.container&&e.container.start?e.container.start:e.start)>(t.container&&t.container.start?t.container.start:t.start)?1:-1})),t}},{key:"timeline_extended",get:function(){var e=this,t=[];return"group"==this.globalstore.projects.selected.type?this.timeline.forEach((function(n,r){var a=e.collection.filter((function(e){return e.is_priority_heading&&e.projects[0]&&e.projects[0].id==n.id&&(e.start||(e.container||{}).start)}));t[r]=a})):this.timeline.forEach((function(n,r){var a=e.collection.filter((function(e){return 0==e.parents.length&&e.get_priority_heading_id==n.id&&(e.start||(e.container||{}).start)}));t[r]=a})),t.forEach((function(e){e.sort((function(e,t){return(e.container&&e.container.start?e.container.start:e.start)>(t.container&&t.container.start?t.container.start:t.start)?1:-1}))})),{tasks:this.timeline,lanes:t}}},{key:"filtered_uncollapsed",get:function(){var e=this;return 0!=this.filters.tags.length||""!=this.filters.query||this.filters.range.start||0!=this.active_filters_arr.length?this.collection_uncollapsed.filter((function(t){if(!t.is_priority_heading||"(no section)"!=t.name&&"Untitled section"!=t.name||0!=t.raw_childrens.length)return t.cascadeFilters(e.active_filters_arr)&&t.cascadeHasQuery(e.filters.query)&&t.inBetween(e.filters.range)})):this.collection_uncollapsed.filter((function(t){if(!t.is_priority_heading||"(no section)"!=t.name&&"Untitled section"!=t.name||0!=t.raw_childrens.length)return e.excludeSubSection(t)&&!e.hide_completed(t)}))}},{key:"filtered_uncollapsed_sections",get:function(){var e=this;return 0!=this.filters.tags.length||""!=this.filters.query||this.filters.range.start||0!=this.active_filters_arr.length?this.collection_uncollapsed_sections.filter((function(t){if(!t.is_priority_heading||"(no section)"!=t.name&&"Untitled section"!=t.name||0!=t.raw_childrens.length)return t.cascadeFilters(e.active_filters_arr)&&t.cascadeHasQuery(e.filters.query)&&t.inBetween(e.filters.range)})):this.collection_uncollapsed_sections.filter((function(t){if(!t.is_priority_heading||"(no section)"!=t.name&&"Untitled section"!=t.name||0!=t.raw_childrens.length)return e.excludeSubSection(t)&&!e.hide_completed(t)}))}},{key:"board",get:function(){var e=this,t={},n={order:[]};if("section"==this.globalstore.uistate.board_settings.group_by)this.filtered_uncollapsed_sections.forEach((function(r){"group"==e.globalstore.projects.selected.type&&e.globalstore.uistate.board_settings.project_id_on_folder&&(r.projects[0]||{}).id!=e.globalstore.uistate.board_settings.project_id_on_folder||r.is_new_task_handler||!e.globalstore.uistate.board_settings.show_subtasks&&r.parent&&r.parent.id||(r.get_priority_heading_id&&(t[r.get_priority_heading_id]?t[r.get_priority_heading_id].tasks.push(r):t[r.get_priority_heading_id]={tasks:[r]}),!r.get_priority_heading_id&&r.is_priority_heading&&(n.order.push(r.id),t[r.id]?(t[r.id].model=r,t[r.id].name=r.name,t[r.id].id=r.id,t[r.id].hierarchy_support=!0):t[r.id]={model:r,name:r.name,tasks:[],id:r.id,hierarchy_support:!0}))}));else if("status"==this.globalstore.uistate.board_settings.group_by){var r=this.globalstore.workbooksettings.customField("_status");r&&r.options.forEach((function(a){var o;a.enabled&&(n.order.push(a.id),t[a.id]={model:a,name:a.value,id:a.id,hierarchy_support:!0,sortable_vertically:!1,tasks:[]},(o=t[a.id].tasks).push.apply(o,_toConsumableArray(e.filtered_uncollapsed_custom("_status").filter((function(t){return("group"!=e.globalstore.projects.selected.type||!e.globalstore.uistate.board_settings.project_id_on_folder||(t.projects[0]||{}).id==e.globalstore.uistate.board_settings.project_id_on_folder)&&!(!e.globalstore.uistate.board_settings.show_subtasks&&t.parent&&t.parent.id)&&(!t.is_priority_heading||"(no section)"!=t.name&&"Untitled section"!=t.name||0!=t.raw_childrens.length?t.cascadeFilters([{type:"list",column_type:"custom",attribute:r.id,selected:[{id:a.id}],subattribute:!1,attributeType:"Object",strict_mode:!0}]):void 0)})))))}))}return n.sections=t,n}},{key:"filtered_viewport",get:function(){return this.filtered.slice(this.viewport.buffered_position_start,this.viewport.buffered_position_end)}},{key:"filtered_viewport_style",get:function(){var e=this.viewport.row_height*this.viewport.buffered_position_start,t=this.viewport.row_height*(this.filtered.length-this.viewport.buffered_position_end-1);return t<0&&(t=0),this.globalstore.uistate.is_mobile?e+=1:e=e+this.globalstore.uistate.header_height+1,{paddingBottom:t+"px",paddingTop:e+"px",height:this.viewport.row_height*this.filtered.length+300,maxHeight:this.viewport.row_height*this.filtered.length+300,boxSizing:"border-box"}}},{key:"selected",get:function(){return"workload"==this.globalstore.uistate.active_view||"board"==this.globalstore.uistate.active_view?this.models.filter((function(e){return e.selected})):this.filtered_uncollapsed.filter((function(e){return e.selected}))}},{key:"selected_uncollapsed",get:function(){return"workload"==this.globalstore.uistate.active_view?this.models.filter((function(e){return e.selected})):this.filtered_uncollapsed.filter((function(e){return e.selected}))}},{key:"tags",get:function(){var e=[],t=[];return this.collection.forEach((function(n){n.get_tags&&n.get_tags!=[]&&void 0!==n.get_tags&&n.get_tags.forEach((function(n){void 0===n.id&&(n.id=n.name),-1==t.indexOf(n.id)&&(t.push(n.id),e.push(n))}))})),e.sort((function(e,t){return e.name.localeCompare(t.name)}))}},{key:"latest_task",get:function(){var e=!1;return this.collection.filter((function(t){e&&!t.is_priority_heading&&!t.is_project&&!t.is_new_task_handler&&t.due&&"Invalid date"!=t.due&&t.due>=e.due&&(e=t),e||!t.due||"Invalid date"==t.due||t.is_project||t.is_priority_heading||(e=t)})),e}},{key:"relations",get:function(){var e=this,t={},n={},r={},a={},o={};return this.models.forEach((function(i){var s=i.id||i.optimisticId();if(!i.is_new_task_handler){if(i.parent){var l=e.get(i.parent.id);l.parent&&l.parent.id==s||(t[String(l.id)]?t[String(l.id)].push(s):t[String(l.id)]=[s])}i.projects.length>0&&i.projects[0].id&&(n[i.projects[0].id]&&!i.is_project?n[i.projects[0].id].push(s):i.is_project||(n[i.projects[0].id]=[s])),i.priority_heading_id&&(r[i.priority_heading_id]?r[i.priority_heading_id].push(s):r[i.priority_heading_id]=[s]),i.priority_heading_id&&0==i.parents.length&&(o[i.priority_heading_id]?o[i.priority_heading_id].push(s):o[i.priority_heading_id]=[s]),i.dependent_of&&(Array.isArray(i.dependent_of.slice())?i.dependent_of.forEach((function(e){a[e]?a[e].push(s):a[e]=[s]})):a[i.dependent_of]?a[i.dependent_of].push(s):a[i.dependent_of]=[s])}})),{subtasks:t,projects:n,sections:r,successors:a,sections_first_level:o}}},{key:"critical_path",get:function(){var e=this,t=this.latest_task,n=[],r=[],a=0,o=0;return function t(r){var a=[],o=r[0];if(o.predecessor_ids&&o.predecessor_ids.length>0)if("object"==_typeof(o.predecessor_ids)&&o.predecessor_ids.length>0){o.predecessor_ids.length;var i=0;o.predecessor_ids.forEach((function(s){if(""!=s||1!=o.predecessor_ids.length){var l=e.get(s);l&&-1==r.indexOf(l)&&""!=l.equivalent_dates.due&&null!=l.equivalent_dates.due&&(i++,a.concat(t([l].concat(r))))}else n.push(r)})),0==i&&(a=[r],n.push(r))}else if("object"==_typeof(o.predecessor_ids)&&0==o.predecessor_ids.length)a=[r],n.push(r);else{var s=e.get(o.predecessor_ids);if(!s)return;a.concat(t([s].concat(r)))}else a=[r],n.push(r);return a}([t]),n.forEach((function(t){var n=0,i=!1,s=!1;t.forEach((function(t){if(e.globalstore.uistate.skip_weekends){if(n+=t.working_duration,s&&s.equivalent_dates.due){var r=t.get_users_ids.concat(s.get_users_ids);i+=Math.abs(Utils.workingDaysDifference(moment(s.equivalent_dates.due).toDate(),moment(t.equivalent_dates.start).toDate(),r)),t.equivalent_dates.start>s.equivalent_dates.due&&(i-=1)}}else n+=t.calendar_duration,s&&(i+=Math.abs(Utils.daysDiff(moment(t.equivalent_dates.start).toDate(),moment(s.equivalent_dates.due).toDate())),t.equivalent_dates.start>s.equivalent_dates.due&&(i-=1));s=t})),n>a?(r=t,a=n,o=i):n==a&&(o||0!=i?(i<o&&(r=t,a=n,o=i),i==o&&(r=t,a=n,o=i)):(r=t,a=n,o=i))})),r}},{key:"compressedTimelines",get:function(){var e,t,n=this,r=this.globalstore.uistate;return e={0:[]},t={},this.filtered_uncollapsed.forEach((function(t){if(t.is_priority_heading)return!1;if(t.is_project)return!1;if(r.show_parents_on_workload){if(!(t.container||""!=t.start&&"null"!=t.start&&t.start&&void 0!==t.start))return!1;if(!(t.container||""!=t.due&&"null"!=t.due&&t.due&&void 0!==t.due))return!1;if(t.container&&!t.container.start)return!1}else{if(""==t.start||"null"==t.start||!t.start||void 0===t.start)return!1;if(""==t.due||"null"==t.due||!t.due||void 0===t.due)return!1}t.get_users.forEach((function(n){n&&(e[n.id]&&e[n.id].push(t),e[n.id]||(e[n.id]=[t]))})),1!=t.get_users.length||""!=t.get_users[0]&&void 0!==t.get_users[0]||e[0].push(t),0==t.get_users.length&&e[0].push(t)})),Object.keys(e).forEach((function(r){var a=e[r],o=_.sortBy(a,(function(e){var t=e.start?e.start:e.container.start;return new Date(t.split("-")[0],t.split("-")[1]-1,t.split("-")[2]).getTime()})),i=[[]],s=[0];o.forEach((function(e){var t=e.equivalent_dates.start,r=e.equivalent_dates.due;if(t&&r){7==n.globalstore.uistate.column_length&&(t=moment(Utils.getMonday(moment(t))).format("YYYY-MM-DD"),r=moment(Utils.getMonday(moment(r))).format("YYYY-MM-DD"));for(var a=new Date(t.split("-")[0],t.split("-")[1]-1,t.split("-")[2]),o=new Date(r.split("-")[0],r.split("-")[1]-1,r.split("-")[2]),l=a.getTime(),c=o.getTime(),u=!1,d=0;d<i.length;d++)i[d]&&s[d]<l&&(i[d].push(e),s[d]=c,d=i.length,u=!0);u||(i.push([e]),s[i.length-1]=c)}})),t[r]=i})),t}},{key:"hoursByProject",get:function(){var e=this,t=[];this.globalstore.users.filtered_project_members.forEach((function(n){e.compressedTimeline(n.id).forEach((function(e){return t.push(e)}))})),this.globalstore.users.filtered_non_project_members.forEach((function(n){e.compressedTimeline(n.id).forEach((function(e){return t.push(e)}))}));var n=this.hoursByUser(t),r=0;return Object.keys(n).forEach((function(e){r+=n[e]})),{hours:n,total_hours:r}}},{key:"hoursByUsers",get:function(){var e=this,t=this.users,n={};return t.forEach((function(t){var r=e.compressedTimelines[t.id]||[[]];n[t.id]=e.hoursByUser(r,{id:t.id})})),n[0]=this.hoursByUser(this.compressedTimelines[0],{id:0}),n}},{key:"users",get:function(){var e={},t=[];return this.models.forEach((function(n){n.get_users.forEach((function(n){void 0===n||""==n||e[n.id]||(n.belongs_to_project=!0,e[n.id]=n,t.push(n))}))})),t=_.sortBy(t,(function(e){return 0==e.id?"":e.name}))}},{key:"to_rectify",get:function(){var e=this.globalstore.uistate;if("standalone"==this.globalstore.user.type)return[];var t=[];return this.models.forEach((function(n){var r=n.direct_successors;if(n.previous_dates&&r&&r.length>0&&""!=n.due&&n.due!=n.previous_dates.due&&"null"!=n.previous_dates.due&&""!=n.previous_dates.due)if(e.keep_gap_locked)t.push(n);else{var a=!1;r.forEach((function(e){n.due>e.start&&(a=!0)})),a&&t.push(n)}})),t}},{key:"currentTags",get:function(){var e=[];return this.collection.forEach((function(t){e.concat(t.get_tags)}))}},{key:"chartByProject",get:function(){var e=this,t={};return this.groupByProject().forEach((function(n){var r=_slicedToArray(n,2),a=r[0],o=(r[1],a.calculate_weights.filter((function(e){var t=_slicedToArray(e,2),n=t[0];return t[1],0===n.raw_childrens.length}))),i=_.groupBy(o,(function(e){var t=_slicedToArray(e,2),n=t[0];return t[1],n.crawlAccountableDue()})),s=moment().format("YYYY-MM-DD"),l=_.groupBy(o.filter((function(e){var t=_slicedToArray(e,2),n=t[0];return t[1],parseInt(n.calculated_progress)>0&&(n.completed_at||n.due)})),(function(e){var t=_slicedToArray(e,2),n=t[0];return t[1],n.completed_at?n.completed_at:n.due>s&&n.start&&n.start<s?s:n.due})),c=a.container.start,u=a.container.due;t[a.id]={project_id:a.id,baseline_progress_chart:e._prepareChartData(i,c,u,!0),real_progress_chart:e._prepareChartData(l,c)}})),t}},{key:"infoByProject",get:function(){var e;e||(e=["calculated_estimated_hours_per_user","calculated_estimated_hours","calculated_actual_hours","calculated_progress","calculated_priority","calculated_risk","calculated_estimated_cost","calculated_variable_estimated_cost","calculated_total_estimated_cost","calculated_actual_cost","calculated_variable_actual_cost","calculated_total_actual_cost"]);var t={};return this.groupByProject().forEach((function(n){var r=_slicedToArray(n,2),a=r[0],o=r[1].filter((function(e){return!e.is_priority_heading&&!e.is_new_task_handler&&!e.is_project})),i={project_id:a.id,all_tasks:o.length};e.forEach((function(e){i[e.replace("calculated_","")]=a[e]})),t[a.id]=i})),t}},{key:"infoByUser",get:function(){var e={},t=[];return this.users.forEach((function(t){return e[t.id]={user:t.name,id:t.id,total_tasks:0,total_hours:0,expected_total:0,current_total:0}})),this.collection_uncollapsed.forEach((function(t){t.get_users.length>0&&t.get_users[0]&&(1==t.get_users.length?(0==t.raw_childrens.length&&(e[t.get_users[0].id].total_hours+=t.estimated_hours?Number(t.estimated_hours):0),e[t.get_users[0].id].total_tasks+=1,(t.due&&t.due<=moment().format("YYYY-MM-DD")||t.container&&t.container.due&&t.container.due<=moment().format("YYYY-MM-DD"))&&(e[t.get_users[0].id].expected_total+=1,(t.completed||100==Number(t.calculated_progress))&&(e[t.get_users[0].id].current_total+=1))):t.get_users.forEach((function(n){n&&(0==t.raw_childrens.length&&(e[n.id].total_hours+=n.hours?Number(n.hours):0),e[n.id].total_tasks+=1,(t.due&&t.due<=moment().format("YYYY-MM-DD")||t.container&&t.container.due&&t.container.due<=moment().format("YYYY-MM-DD"))&&(e[n.id].expected_total+=1,(t.completed||100==Number(t.calculated_progress))&&(e[n.id].current_total+=1)))})))})),Object.keys(e).forEach((function(n){var r=e[n];r.status=r.current_total-r.expected_total,t.push(r)})),t.sort((function(e,t){return e.total_tasks>t.total_tasks?-1:t.total_tasks>e.total_tasks?1:void 0})),t}},{key:"unread_counter",get:function(){return this.collection_uncollapsed.filter((function(e){return e.is_unread})).length}}]),TasksCollection}(_collection2.default),_descriptor=_applyDecoratedDescriptor(_class.prototype,"scroll_to",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"current_tag",[_mobx.observable],{enumerable:!0,initializer:function(){return[]}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"active_filters_arr",[_mobx.observable],{enumerable:!0,initializer:function(){return[]}}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,"current_tag_type",[_mobx.observable],{enumerable:!0,initializer:function(){return"tag"}}),_descriptor5=_applyDecoratedDescriptor(_class.prototype,"current_project",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor6=_applyDecoratedDescriptor(_class.prototype,"selected_siblings_ids",[_mobx.observable],{enumerable:!0,initializer:function(){return[]}}),_descriptor7=_applyDecoratedDescriptor(_class.prototype,"selected_siblings",[_mobx.observable],{enumerable:!0,initializer:function(){return[]}}),_descriptor8=_applyDecoratedDescriptor(_class.prototype,"baseline",[_mobx.observable],{enumerable:!0,initializer:function(){return{}}}),_descriptor9=_applyDecoratedDescriptor(_class.prototype,"selected_stack",[_mobx.observable],{enumerable:!0,initializer:function(){return[]}}),_descriptor10=_applyDecoratedDescriptor(_class.prototype,"restore_position",[_mobx.observable],{enumerable:!0,initializer:function(){return null}}),_descriptor11=_applyDecoratedDescriptor(_class.prototype,"project",[_mobx.observable],{enumerable:!0,initializer:function(){return{is_group:!1,id:!1}}}),_descriptor12=_applyDecoratedDescriptor(_class.prototype,"sort_options",[_mobx.observable],{enumerable:!0,initializer:function(){return{group_by_priority_heading:!0,group_by_project:!0,sort_by_date:!0,sort_by_local:!1,keep_tasks_sorted:!0}}}),_descriptor13=_applyDecoratedDescriptor(_class.prototype,"viewport",[_mobx.observable],{enumerable:!0,initializer:function(){return{row_height:25,position_start:0,position_end:100,block_length:10,overscan:30,buffered_position_start:0,buffered_position_end:100}}}),_descriptor14=_applyDecoratedDescriptor(_class.prototype,"filters",[_mobx.observable],{enumerable:!0,initializer:function(){return{query:"",tag_type:"tag",tags:[],range:{}}}}),_descriptor15=_applyDecoratedDescriptor(_class.prototype,"global_workload",[_mobx.observable],{enumerable:!0,initializer:function(){return new Map}}),_descriptor16=_applyDecoratedDescriptor(_class.prototype,"global_workload_fetch_queue",[_mobx.observable],{enumerable:!0,initializer:function(){return 0}}),_descriptor17=_applyDecoratedDescriptor(_class.prototype,"connections_queue_active",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor18=_applyDecoratedDescriptor(_class.prototype,"global_workload_loading",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_applyDecoratedDescriptor(_class.prototype,"active_filters",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"active_filters"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"globalWorkload",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"globalWorkload"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sorted",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"sorted"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"collection",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"collection"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"collection_uncollapsed",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"collection_uncollapsed"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"collection_uncollapsed_sections",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"collection_uncollapsed_sections"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"collection_uncollapsed_ids",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"collection_uncollapsed_ids"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"filtered_ids",[_dec2],Object.getOwnPropertyDescriptor(_class.prototype,"filtered_ids"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"filtered_length",[_dec3],Object.getOwnPropertyDescriptor(_class.prototype,"filtered_length"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"filtered",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"filtered"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"timeline",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"timeline"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"timeline_extended",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"timeline_extended"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"filtered_uncollapsed",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"filtered_uncollapsed"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"filtered_uncollapsed_sections",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"filtered_uncollapsed_sections"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"board",[_dec4],Object.getOwnPropertyDescriptor(_class.prototype,"board"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"resetViewport",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"resetViewport"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"resetFilters",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"resetFilters"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"filtered_viewport",[_dec5],Object.getOwnPropertyDescriptor(_class.prototype,"filtered_viewport"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"filtered_viewport_style",[_dec6],Object.getOwnPropertyDescriptor(_class.prototype,"filtered_viewport_style"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selected",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"selected"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selected_uncollapsed",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"selected_uncollapsed"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"tags",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"tags"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"latest_task",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"latest_task"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"relations",[_dec7],Object.getOwnPropertyDescriptor(_class.prototype,"relations"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"critical_path",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"critical_path"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"restoreFromPoint",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"restoreFromPoint"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"saveTemporals",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"saveTemporals"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setLocalPositions",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"setLocalPositions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setCustomLocalPositions",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"setCustomLocalPositions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"saveLocalPositions",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"saveLocalPositions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unselectAll",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"unselectAll"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"deleteSelected",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"deleteSelected"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"compressedTimelines",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"compressedTimelines"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hoursByProject",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"hoursByProject"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hoursByUsers",[_dec8],Object.getOwnPropertyDescriptor(_class.prototype,"hoursByUsers"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"applyToSelected",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"applyToSelected"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"freeEditMode",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"freeEditMode"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unsetDrawingDependency",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"unsetDrawingDependency"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"users",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"users"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"to_rectify",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"to_rectify"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"currentTags",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"currentTags"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unlinkSelected",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"unlinkSelected"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createGroup",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"createGroup"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"chartByProject",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"chartByProject"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"infoByProject",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"infoByProject"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"infoByUser",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"infoByUser"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unread_counter",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"unread_counter"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"markAllAsRead",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"markAllAsRead"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"containersWithFixedDatesAndDependencies",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"containersWithFixedDatesAndDependencies"),_class.prototype),_class);exports.default=TasksCollection},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(56);var a=function(e){if(503==e)throw new Error("Server issues");if(401==e)throw new Error("Credentials issues");if(e>=400)throw new Error("HTTP status "+e.toString());return!1},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"create",value:function(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){if(!a(e.status))return e.json()}))}},{key:"save",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return fetch(e,{method:n?"PATCH":"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)})}},{key:"get",value:function(e){return fetch(e,{method:"GET",credentials:"include"}).then((function(e){if(!a(e.status))return e.json()}))}},{key:"delete",value:function(e,t){return fetch(e,{method:"DELETE",credentials:"include",body:{id:t}}).then((function(e){if(!a(e.status))return e.json()}))}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(56);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"create",value:function(e,t){return Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]})),new Promise((function(n,r){t.id?e.doc(t.id).set(t).then((function(e){return n({id:t.id})})):e.add(t).then((function(e){t.id=e.id,n({id:t.id})}))}))}},{key:"createBatch",value:function(e,t,n){return new Promise((function(r,a){var o=t.batch();n.forEach((function(t){Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]})),o.set(e.doc(t.id),t)})),o.commit().then((function(){r()})).catch((function(e){a(e)}))}))}},{key:"save",value:function(e,t){return new Promise((function(n,r){Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]})),e.set(t,{merge:!0}).then((function(e){n({})})).catch((function(e){console.log(e),r(e)}))}))}},{key:"get",value:function(e,t){return t&&"model"==t.type?new Promise((function(t,n){e.get().then((function(e){if(e.exists){var n=e.data();n&&e.ref&&(n.__ref=e.ref),n.id=e.id,t(n)}else t({})}))})):new Promise((function(t,n){var r=[];e.get().then((function(e){e.forEach((function(e){var t=e.data();t&&e.ref&&(t.__ref=e.ref),t.id=e.id,r.push(t)})),t(r)}))}))}},{key:"delete",value:function(e,t){return new Promise((function(t,n){e.delete().then((function(){t({})}))}))}},{key:"listenCollection",value:function(e,t,n){return e.onSnapshot((function(e){if(n&&"model"==n.type){var r=e.data();return r&&e.ref&&(r.__ref=e.ref),void t(r)}var a=[];e.docChanges().forEach((function(e){var t=e.doc.data();t&&e.doc.ref&&(t.__ref=e.doc.ref),a.push({type:e.type,data:Object.assign(t,{id:e.doc.id})})})),t(a)}))}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=u(n(436)),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),u(n(20))),c=n(55);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var f=(r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i,s,l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n||[]));return o=l,"today",s=l,(i=a)&&Object.defineProperty(o,"today",{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(s):void 0}),l.firebase_realtime=!0,l.userGlobalHolidays=(0,c.createTransformer)((function(e){if(!e)return l.holidays();var t=[],n=store.projectsettings.get_working_days();return l.filtered.forEach((function(r){if(!r.user_id||-1!=e.indexOf(r.user_id))for(var a=moment(r.start);a.unix()<=moment(r.end).unix();){if("0"!==r.is_holiday&&r.is_holiday){var o=moment(a);n[o.format("d")]&&t.push(a.format("YYYY-MM-DD"))}a.add("days",1)}})),t})),l.userHolidays=(0,c.createTransformer)((function(e){if(!e)return[];var t=[],n=store.projectsettings.get_working_days();return l.filtered.forEach((function(r){if(-1!=e.indexOf(r.user_id))for(var a=moment(r.start);a.unix()<=moment(r.end).unix();){if("0"!==r.is_holiday&&r.is_holiday){var o=moment(a);n[o.format("d")]&&t.push(a.format("YYYY-MM-DD"))}a.add("days",1)}})),t})),l.filtered_assigned=(0,c.createTransformer)((function(e){return l.filtered.filter((function(t){return-1!=e.indexOf(t.user_id)}))})),l.globalstore=e,l.today=moment(),l.options=r,setTimeout((function(){l.today=moment()}),27e3),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),o(t,[{key:"model",value:function(){return s.default}},{key:"url",value:function(){var e=this.globalstore.projects.selected;if(e)return"/projects/"+e.id+"/dates"}},{key:"firebaseRef",value:function(){if(this.options&&this.options.workbook_id)return this.globalstore.db.collection("workbooks").doc(this.options.workbook_id).collection("dates");var e=this.globalstore.projects.selected;return this.globalstore.db.collection("workbooks").doc(e.workbook.id).collection("dates")}},{key:"update",value:function(e){this.models=[],this.reset(e)}},{key:"prefill",value:function(e){var t=this;return"standalone"==this.globalstore.user.type?(e.forEach((function(e){e._id&&""!=e._id&&t.globalstore.projects.selected&&e.supplier_project_id==t.globalstore.projects.selected.id&&(e.id=e._id)})),e):e}},{key:"beforeCreate",value:function(e){return"standalone"==this.globalstore.user.type?(0==e.on_workspace&&(e.supplier_project_id=this.globalstore.projects.selected.id),e):e}},{key:"exportFiltered",value:function(){return this.filtered.map((function(e){var t=e.getJSON();return t&&t.collection&&delete t.collection,t}))}},{key:"holidays",get:function(){var e=[],t=store.projectsettings.get_working_days();return this.filtered_unassigned.forEach((function(n){for(var r=moment(n.start);r.unix()<=moment(n.end).unix();){if("0"!==n.is_holiday&&n.is_holiday){var a=moment(r);t[a.format("d")]&&e.push(r.format("YYYY-MM-DD"))}r.add("days",1)}})),e}},{key:"filtered",get:function(){var e=this;return"standalone"==this.globalstore.user.type?this.options&&this.options.workbook_id?this.models.filter((function(e){return 1!=e.disabled||!e.disabled})):this.models.filter((function(t){return(1!=t.disabled||!t.disabled)&&e.globalstore.projects.selected&&("group"!=e.globalstore.projects.selected.type&&(t.supplier_project_id==e.globalstore.projects.selected.id||1==t.on_workspace)||"group"==e.globalstore.projects.selected.type)})):this.models.filter((function(e){return 1!=e.disabled||!e.disabled}))}},{key:"filtered_unassigned",get:function(){return this.filtered.filter((function(e){return!e.user_id}))}},{key:"filtered_assigned_total",get:function(){return this.filtered.filter((function(e){return e.user_id}))}},{key:"filtered_assigned_total_upcoming",get:function(){var e=moment().hours(0).minutes(0).seconds(0).format("YYYY-MM-DD");return this.filtered.filter((function(t){return t.user_id&&t.start>=e}))}},{key:"filtered_assigned_total_past",get:function(){var e=moment().hours(0).minutes(0).seconds(0).format("YYYY-MM-DD");return this.filtered.filter((function(t){return t.user_id&&t.start<e}))}}]),t}(),a=d(r.prototype,"today",[i.observable],{enumerable:!0,initializer:null}),d(r.prototype,"holidays",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"holidays"),r.prototype),d(r.prototype,"filtered",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),d(r.prototype,"filtered_unassigned",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered_unassigned"),r.prototype),d(r.prototype,"filtered_assigned_total",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered_assigned_total"),r.prototype),d(r.prototype,"filtered_assigned_total_upcoming",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered_assigned_total_upcoming"),r.prototype),d(r.prototype,"filtered_assigned_total_past",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered_assigned_total_past"),r.prototype),r);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=l(n(437)),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),l(n(20)));function l(e){return e&&e.__esModule?e:{default:e}}var c,u,d,f,p,h,m=(r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n||[]));return a.globalstore=e,a.options=r,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"model",value:function(){return i.default}},{key:"firebaseRef",value:function(){if(this.options&&this.options.workbook_id)return this.globalstore.db.collection("workbooks").doc(this.options.workbook_id).collection("tags");var e=void 0,t=this.globalstore.projects.selected;return t&&(e=t.workbook.id),!t&&this.globalstore.workbooks.selected&&(e=this.globalstore.workbooks.selected.id),e?this.globalstore.db.collection("workbooks").doc(e).collection("tags"):void 0}},{key:"url",value:function(){if(this.globalstore.projects.selected)return"/tags/"}},{key:"update",value:function(e){this.reset(e)}},{key:"filtered",get:function(){return this.models.sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}))}}]),t}(),c=r.prototype,u="filtered",d=[o.computed],f=Object.getOwnPropertyDescriptor(r.prototype,"filtered"),p=r.prototype,h={},Object.keys(f).forEach((function(e){h[e]=f[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=d.slice().reverse().reduce((function(e,t){return t(c,u,e)||e}),h),p&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(p):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(c,u,h),h=null),r);t.default=m},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_desc,_value,_class,_mobx=__webpack_require__(3),_utils=__webpack_require__(9),Utils=_interopRequireWildcard(_utils),_collection=__webpack_require__(20),_collection2=_interopRequireDefault(_collection),_snapshot=__webpack_require__(438),_snapshot2=_interopRequireDefault(_snapshot);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _applyDecoratedDescriptor(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var SnapshotsCollection=(_class=function(_BaseCollection){function SnapshotsCollection(e,t){_classCallCheck(this,SnapshotsCollection);var n=_possibleConstructorReturn(this,(SnapshotsCollection.__proto__||Object.getPrototypeOf(SnapshotsCollection)).call(this,t));return n.storage_type="HTTPSaver",n.project_id=!1,n.supplier_project_id=!1,n.globalstore=e,n}return _inherits(SnapshotsCollection,_BaseCollection),_createClass(SnapshotsCollection,[{key:"model",value:function(){return _snapshot2.default}},{key:"sorter",value:function(){return function(e,t){return e&&t&&e.date<t.date?1:e&&t&&e.date>t.date?-1:0}}},{key:"setProject",value:function(e,t){this.project_id=e,this.supplier_project_id=t}},{key:"firebaseRef",value:function(){var e=this.globalstore.projects.selected;if(e)return this.globalstore.db.collection("workbooks").doc(e.workbook.id).collection("projects").doc(e.id).collection("snapshots")}},{key:"url",value:function(){var e=this.globalstore.projects.selected;if(e)return"/projects/"+(this.project_id?this.project_id:e.id)+"/snapshots?supplier_project_id="+(this.supplier_project_id?this.supplier_project_id:e.supplier_project_id||e.id)}},{key:"firebaseRef",value:function(){var e=this.globalstore.projects.selected;return this.globalstore.db.collection("workbooks").doc(e.workbook.id).collection("projects").doc(e.id).collection("snapshots")}},{key:"createBaseline",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=moment().format("YYYY-MM-DDTHH:mm:ssZ"),n={tasks:JSON.parse(this.globalstore.tasks.getJSON())},r=this.globalstore.projects.selected,a=r.supplier_project_id;"standalone"==this.globalstore.user.type&&(a=r.id),this.create({date:t,name:e,data:n,baseline:!0,supplier_project_id:a,created_by:this.globalstore.user.id})}},{key:"sorted",get:function(){return this.models.sort(this.sorter())}},{key:"snapshots",get:function get(){return this.sorted.filter((function(model){return!model.baseline||!eval(model.baseline)}))}},{key:"baselines",get:function(){return this.sorted.filter((function(e){return e.baseline}))}}]),SnapshotsCollection}(_collection2.default),_applyDecoratedDescriptor(_class.prototype,"sorted",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"sorted"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"snapshots",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"snapshots"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"baselines",[_mobx.computed],Object.getOwnPropertyDescriptor(_class.prototype,"baselines"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createBaseline",[_mobx.action],Object.getOwnPropertyDescriptor(_class.prototype,"createBaseline"),_class.prototype),_class);exports.default=SnapshotsCollection},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=(s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&s.__esModule?s:{default:s};function d(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h=(r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),d(r,"user_id",a,r),d(r,"project_id",o,r),d(r,"last_seen",i,r),f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),l(t,null,[{key:"defaults",value:function(){return{user_id:"",project_id:"",last_seen:""}}}]),t}(),a=p(r.prototype,"user_id",[c.observable],{enumerable:!0,initializer:null}),o=p(r.prototype,"project_id",[c.observable],{enumerable:!0,initializer:null}),i=p(r.prototype,"last_seen",[c.observable],{enumerable:!0,initializer:null}),r);t.default=h},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var i=o>=0?arguments[o]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,a="/"===i.charAt(0))}return(a?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!a).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===a(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=r(e.split("/")),o=r(n.split("/")),i=Math.min(a.length,o.length),s=i,l=0;l<i;l++)if(a[l]!==o[l]){s=l;break}var c=[];for(l=s;l<a.length;l++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!a){r=o;break}}else a=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,a=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!a){n=t+1;break}}else-1===r&&(a=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,a=!0,o=0,i=e.length-1;i>=0;--i){var s=e.charCodeAt(i);if(47!==s)-1===r&&(a=!1,r=i+1),46===s?-1===t?t=i:1!==o&&(o=1):-1!==t&&(o=-1);else if(!a){n=i+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(148))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e;return(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")};t.default={diff:function(e,t){e=e.replace(/\s+$/,""),t=t.replace(/\s+$/,"");var n=function(e,t){for(var n=new Object,r=new Object,a=0;a<t.length;a++)null==n[t[a]]&&(n[t[a]]={rows:new Array,o:null}),n[t[a]].rows.push(a);for(a=0;a<e.length;a++)null==r[e[a]]&&(r[e[a]]={rows:new Array,n:null}),r[e[a]].rows.push(a);for(var a in n)1==n[a].rows.length&&void 0!==r[a]&&1==r[a].rows.length&&(t[n[a].rows[0]]={text:t[n[a].rows[0]],row:r[a].rows[0]},e[r[a].rows[0]]={text:e[r[a].rows[0]],row:n[a].rows[0]});for(a=0;a<t.length-1;a++)null!=t[a].text&&null==t[a+1].text&&t[a].row+1<e.length&&null==e[t[a].row+1].text&&t[a+1]==e[t[a].row+1]&&(t[a+1]={text:t[a+1],row:t[a].row+1},e[t[a].row+1]={text:e[t[a].row+1],row:a+1});for(a=t.length-1;a>0;a--)null!=t[a].text&&null==t[a-1].text&&t[a].row>0&&null==e[t[a].row-1].text&&t[a-1]==e[t[a].row-1]&&(t[a-1]={text:t[a-1],row:t[a].row-1},e[t[a].row-1]={text:e[t[a].row-1],row:a-1});return{o:e,n:t}}(""==e?[]:e.split(/\s+/),""==t?[]:t.split(/\s+/)),a="",o=e.match(/\s+/g);null==o?o=["\n"]:o.push("\n");var i=t.match(/\s+/g);if(null==i?i=["\n"]:i.push("\n"),0==n.n.length)for(var s=0;s<n.o.length;s++)a+="<del>"+r(n.o[s])+o[s]+"</del>";else{if(null==n.n[0].text)for(t=0;t<n.o.length&&null==n.o[t].text;t++)a+="<del>"+r(n.o[t])+o[t]+"</del>";for(s=0;s<n.n.length;s++)if(null==n.n[s].text)a+="<ins>"+r(n.n[s])+i[s]+"</ins>";else{var l="";for(t=n.n[s].row+1;t<n.o.length&&null==n.o[t].text;t++)l+="<del>"+r(n.o[t])+o[t]+"</del>";a+=" "+n.n[s].text+i[s]+l}}return a}}},function(e,t,n){e.exports={comments:"_1qxrPgZKg5SZpV7Tv93EmF",comments_inner_wrapper:"n1WQ58TDEkBv6Kl3EWC8S",comment:"_1MqKD0f426NW3huLE6y-nR",read:"_3kfiPUI4_xBsJtIv3KCHHz",avatar:"_2CHUaOAo1yyOHB44NMvQmh",content:"_13Y1ts6oIHbi69RbM9kspl",user_name:"fMU_myow5nrjNin4TNW9_",task_name:"_2A69BvMoq9joHuBdR4J96P",header:"H4mWML8j-PKCdNzdyroTi",title:"_2hweZ_vAjjCusEFI6zQ9XJ",actions:"_20UjVjmVa-f-fA3MB63Rok"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(c(n(150)),c(n(292)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.insertBelow=n.insertBelow.bind(n),n.open=n.open.bind(n),n.handleCopy=n.handleCopy.bind(n),n.handlePaste=n.handlePaste.bind(n),n.onScrollHelper=n.onScrollHelper.bind(n),n.onScrollWrapper=n.onScrollWrapper.bind(n),n.onScrollHelperEnd=n.onScrollHelperEnd.bind(n),n.onScrollWrapperEnd=n.onScrollWrapperEnd.bind(n),n.scroll_helper_node=!1,n.scroll_wrapper_node=!1,n.throttle=function(e){var t=!1;return function(){for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];t||(t=!0,window.requestAnimationFrame((function(){e.apply(n,a),t=!1})))}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.store.uistate.registerComponent({name:"tasklist",node:this.component}),this.store.uistate.is_mobile&&(this.component.scrollTop=1),this.store.tasks.viewport.block_length=Math.ceil(this.component.offsetHeight/this.store.tasks.viewport.row_height),this.component.onscroll=this.props.onScroll,this.store.uistate.is_mobile||(this.scroll_helper_node.onscroll=this.onScrollHelper,this.scroll_wrapper_node.onscroll=this.onScrollWrapper),$(".tasks-container").on("contextmenu",(function(t){t.preventDefault();var n=t.offsetX,r=t.target==t.currentTarget?t.offsetX:t.clientY+t.currentTarget.scrollTop-100;e.onContextMenu({left:n,top:r})})),$(".tasks-container").on("mouseleave",".contextmenu",(function(t){e.closeContext()})),$(".tasks-container").on("click",".contextmenu",(function(t){e.closeContext()})),$(".tasks-container").on("click",(function(t){e.closeContext()})),document.addEventListener("copy",this.handleCopy),document.addEventListener("paste",this.handlePaste)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("copy",this.handleCopy),document.removeEventListener("paste",this.handlePaste)}},{key:"handleCopy",value:function(e){var t=document.getSelection().toString();console.log(t),""==t&&(this.store.uistate.copyTasks(),e.preventDefault())}},{key:"handlePaste",value:function(e){var t=document.activeElement.tagName;console.log(t),"INPUT"==t||"TEXTAREA"==t?console.log("Skipping"):(console.log("Pasting task"),e.preventDefault(),this.store.uistate.pasteTasks())}},{key:"onContextMenu",value:function(e){var t=e.left,n=e.top,r=(e.right,$(".bars-list li:eq(0)").height()),a=Math.floor((n-(this.store.uistate.header_height+1))/r),o=this.store.tasks.filtered[a];void 0!==o&&(o.is_priority_heading||o.is_project||o.is_new_task_handler||(this.store.uistate.list_context_menu={left:t+10+"px",top:n+10+"px",display:"block",active:!0,ref:o}))}},{key:"closeContext",value:function(){this.store.uistate.list_context_menu.display="none"}},{key:"componentDidUpdate",value:function(){}},{key:"open",value:function(){var e=this.store.uistate,t=this.store,n=e.list_context_menu.ref;n&&(e.task_editing_cell=!1,e.task_details_open=!0,e.new_sibling_task=!1,t.tasks.selected.forEach((function(e){return e.selected=!1})),n.selected=!0)}},{key:"insertBelow",value:function(){var e=this.store.uistate,t=this.store,n=e.list_context_menu.ref;n&&t.tasks.newSiblingTask(!1,n)}},{key:"onScrollWrapper",value:function(){var e=this;this.scroll_helper_node&&(this.scroll_helper_node.onscroll=null),$("#gantt-toolbar .horizontalScroll-wrapper").scrollLeft(this.scroll_wrapper_node.scrollLeft),this.scroll_helper_node.scrollLeft=this.scroll_wrapper_node.scrollLeft,clearTimeout(this.scrolling_timeout),this.scrolling||(this.scrolling=!0),this.scrolling_timeout=setTimeout((function(){console.log("Scrolling has stopped."),e.scrolling=!1,e.onScrollWrapperEnd()}),200)}},{key:"onScrollWrapperEnd",value:function(){this.scroll_helper_node.onscroll=this.onScrollHelper}},{key:"onScrollHelper",value:function(){var e=this;this.scroll_wrapper_node&&(this.scroll_wrapper_node.onscroll=null),$("#gantt-toolbar .horizontalScroll-wrapper").scrollLeft(this.scroll_helper_node.scrollLeft),this.scroll_wrapper_node.scrollLeft=this.scroll_helper_node.scrollLeft,clearTimeout(this.scrolling_timeout),this.scrolling||(this.scrolling=!0),this.scrolling_timeout=setTimeout((function(){console.log("Scrolling has stopped."),e.scrolling=!1,e.onScrollHelperEnd()}),200)}},{key:"onScrollHelperEnd",value:function(){this.scroll_wrapper_node.onscroll=this.onScrollWrapper}},{key:"indent",value:function(){var e=this.store.uistate,t=this.store,n=e.list_context_menu.ref;n&&(t.tasks.selected.length>0&&-1!=t.tasks.selected.indexOf(n)?t.tasks.indent():t.tasks.indent(n))}},{key:"outdent",value:function(){var e=this.store.uistate,t=this.store,n=e.list_context_menu.ref;n&&(t.tasks.selected.length>0&&-1!=t.tasks.selected.indexOf(n)?t.tasks.outdent():t.tasks.outdent(n))}},{key:"render",value:function(){var e=this,t=this.store.uistate;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:["tasks-container",this.store.uistate.is_mobile?"mobile":""].join(" "),ref:function(t){e.component=t}},this.store.uistate.is_mobile&&i.default.createElement(l.default,{store:this.store}),!this.store.uistate.is_mobile&&i.default.createElement("div",{className:["horizontalScroll-wrapper",this.store.tasks.filtered.length>2?"desktop":""].join(" "),ref:function(t){return e.scroll_wrapper_node=t},style:{minHeight:"100%"}},i.default.createElement(l.default,{store:this.store})),i.default.createElement("div",{className:"contextmenu",style:{left:t.list_context_menu.left,top:t.list_context_menu.top,display:t.list_context_menu.display,zIndex:1e3}},i.default.createElement("ul",{className:"unstyled"},i.default.createElement("li",null,i.default.createElement("a",{onClick:this.insertBelow,href:"javascript:void(0);"},i.default.createElement("i",{class:"fa-sharp fa-fw fa-light fa-grip-lines"})," Create sibling task")),i.default.createElement("li",null,i.default.createElement("a",{onClick:this.open,href:"javascript:void(0);"},i.default.createElement("i",{className:"fa fa-fw fa-file-alt"})," Open task details")),i.default.createElement("li",null,i.default.createElement("a",{onClick:function(){return e.store.uistate.pasteTasks("context")},href:"javascript:void(0);"},i.default.createElement("i",{className:"fas fa-fw fa-paste"})," Paste selected tasks below (Ctrl+v)")),i.default.createElement("li",null,i.default.createElement("a",{onClick:function(){return e.indent()},href:"javascript:void(0);"},i.default.createElement("i",{className:"fas fa-fw fa-indent"})," Indent")),i.default.createElement("li",null,i.default.createElement("a",{onClick:function(){return e.outdent()},href:"javascript:void(0);"},i.default.createElement("i",{className:"fas fa-fw fa-outdent"})," Outdent"))))),i.default.createElement("div",{style:{position:"absolute",bottom:0,height:"26px",background:"#ffffff",left:0,right:0,overflowX:"auto",zIndex:10},ref:function(t){return e.scroll_helper_node=t}},i.default.createElement("div",{style:{position:"absolute",bottom:"0",top:0,background:"#ffffff",left:0,right:0,width:t.full_sidebar_width+"px"}})))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=x(c),d=n(15),f=n(6),p=n(3),h=n(55),m=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),x(n(44))),_=x(n(30)),g=x(n(503)),b=x(n(288)),y=x(n(289)),v=x(n(216)),A=x(n(290)),w=(x(n(115)),x(n(95))),k=x(n(96)),E=x(n(291));function x(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(217);var C=function(e){var t=e.children,n=document.getElementById("react-datepicker-container");return(0,d.createPortal)(t,n)},j=(r=p.action.bound,(0,f.observer)((O((o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reactions=[],n.handleCalendarClose=function(){n.closeCurrentEditables()},n.handleClick=n.handleClick.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleChangeDate=n.handleChangeDate.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleClickOutside=n.handleClickOutside.bind(n),n.handleEsc=n.handleEsc.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleEsc)}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()})),document.removeEventListener("mousedown",this.handleClickOutside),document.removeEventListener("keydown",this.handleEsc)}},{key:"handleClickOutside",value:function(e){if(this.wrapper&&!this.wrapper.contains(e.target)){if(document.removeEventListener("mousedown",this.handleClickOutside),-1==["integer","number","percentage","array_colon"].indexOf(this.props["data-type"]))return void this.closeCurrentEditables(e);this.closeCurrentEditables(e,{save:!0})}}},{key:"handleEsc",value:function(e){27==e.keyCode&&this.closeCurrentEditables()}},{key:"addListeners",value:function(){document.addEventListener("keydown",this.handleEscape)}},{key:"removeListeners",value:function(){document.removeEventListener("keydown",this.handleEscape)}},{key:"display",value:function(){var e=this,t=this.props.task,n=t.store.globalstore,r=t.changed_history&&"changed"==t.changed_history.type&&-1!=t.changed_history.changed_attributes.indexOf(this.props["data-attribute"])?"cell-highlight":"",a=!1;this.removeListeners();var o=this.props.className;"offline"==n.mode&&(o=o.replace("cell-editable","").replace("sglclick",""));var i=!!this.props.template&&this.props.template(this.props.value,n.mode);if("dropdown"==this.props["data-type"]){var l=this.props.options.filter((function(t){return t.value==e.props.value}));l.length>0&&(a=l[0].display)}return this.props.cf?u.default.createElement("div",{style:s({},this.props.style),ref:function(t){return e.node=t},onClick:this.handleClick,className:[o,r].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"],"data-blocked":this.props["data-blocked"],title:this.props.title,"data-toggle":this.props["data-toggle"],"data-title":this.props["data-title"],"data-trigger":this.props["data-trigger"]},("dropdown"==this.props.cf.type||"checkbox"==this.props.cf.type)&&!t.is_project&&u.default.createElement(k.default,s({style:{borderRadius:"4px",padding:"2px 5px",fontSize:"10px",lineHeight:"14px",margin:"3px 0"},cf:this.props.cf},n.workbooksettings.customField(this.props.cf.id).optionsObject&&n.workbooksettings.customField(this.props.cf.id).optionsObject[this.props.value],{onClick:this.handleClick,rawValue:this.props.value,className:"sglclick cell-editable",isPriorityHeading:t.is_priority_heading})),("dropdown"==this.props.cf.type||"checkbox"==this.props.cf.type)&&t.is_project&&u.default.createElement("span",null,"-"),"dropdown"!=this.props.cf.type&&"checkbox"!=this.props.cf.type&&this.props.value):u.default.createElement("div",{style:s({},this.props.style),ref:function(t){return e.node=t},onClick:this.handleClick,className:[o,r].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"],"data-blocked":this.props["data-blocked"],title:this.props.title,"data-toggle":this.props["data-toggle"],"data-title":this.props["data-title"],"data-trigger":this.props["data-trigger"]},i||a||this.props.value||this.props.children)}},{key:"saveCustomField",value:function(e,t,n){e.stopPropagation(),"object"==(void 0===n?"undefined":i(n))?this.props.task.saveCustomField(t,n.id):this.props.task.saveCustomField(t,n),this.closeCurrentEditables()}},{key:"editor",value:function(){var e=this,t=this.props.task,n=t.store.globalstore.uistate,r=t.store.globalstore;this.addListeners();var a=s({},this.props.style);return a.width&&"table"!=n.active_view&&(a.width=parseInt(a.width)-5+"px",a.marginLeft="5px"),this.props.cf?"dropdown"==this.props.cf.type?u.default.createElement("div",{style:s({},a),className:[this.props.className,"editing","forced_overflow"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},u.default.createElement(E.default,null,u.default.createElement("div",{ref:function(t){return e.wrapper=t},style:s({},this.props.style),className:[this.props.className,"editing","forced_overflow"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},u.default.createElement("div",{className:"cell-dropdown-container",onKeyDown:this.handleEscape,style:{maxWidth:"150px",marginLeft:"-50px"}},u.default.createElement("ul",{className:"unstyled",style:{padding:"5px 0"}},this.props.cf.options.filter((function(e){return e.enabled})).map((function(t){return u.default.createElement("li",null,u.default.createElement(k.default,s({style:{fontSize:"10px"},cf:e.props.cf},t,{onClick:function(n){return e.saveCustomField(n,e.props.cf,t)}})))}))))))):u.default.createElement("div",{style:s({},this.props.style),className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},u.default.createElement("input",{onFocus:function(e){e.target.value="",e.target.value=n.task_editing_cell.val},onChange:this.handleKeyDown,onKeyDown:this.handleKeyDown,type:"text",className:"input-editable-cell",value:n.task_editing_cell.val,autoFocus:"true"})):-1!=["integer","number","percentage","array_colon"].indexOf(this.props["data-type"])||"compound_cost"==this.props["data-type"]&&(0==t.get_users.length||1==t.get_users.length&&void 0===t.get_users[0])?u.default.createElement("div",{ref:function(t){return e.wrapper=t},style:s({},a),className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},u.default.createElement("input",{onFocus:function(e){e.target.value="",e.target.value=n.task_editing_cell.val},onChange:this.handleKeyDown,onKeyDown:this.handleKeyDown,type:"text",className:"input-editable-cell",value:n.task_editing_cell.val,autoFocus:"true"})):"date"==this.props["data-type"]?u.default.createElement("div",{style:s({},a),className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},u.default.createElement(m.default,{popperContainer:C,dateFormat:"dd/MM/yyyy",selected:n.task_editing_cell.val?(0,_.default)(n.task_editing_cell.val).toDate():null,onSelect:this.handleChangeDate,className:"input-editable-cell",autoFocus:!0,customInput:u.default.createElement(g.default,null),popoverTargetOffset:"30px 0px",style:{width:"30px"},onCalendarClose:this.handleCalendarClose})):"daterange"==this.props["data-type"]?u.default.createElement("div",{style:s({},a),className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},u.default.createElement(m.default,{popperContainer:C,dateFormat:"dd/MM/yyyy",selected:n.task_editing_cell.val?(0,_.default)(n.task_editing_cell.val).toDate():t.editing&&t.editing.start?(0,_.default)(t.editing.start).toDate():null,onSelect:this.handleChangeDate,className:"input-editable-cell",autoFocus:!0,customInput:u.default.createElement(g.default,null),popoverTargetOffset:"30px -30px",style:{width:"30px"},onCalendarClose:this.handleCalendarClose})):"assignee"!=this.props["data-type"]||"standalone"!=r.user.type&&"offline"!=r.mode?"assignee"==this.props["data-type"]&&"standalone"!=r.user.type&&"offline"!=r.mode?u.default.createElement("div",{ref:function(t){return e.wrapper=t},style:s({},a),className:[this.props.className,"editing"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},u.default.createElement(y.default,{task:t})):"dropdown"==this.props["data-type"]?u.default.createElement("div",{ref:function(t){return e.wrapper=t},style:s({},a),className:[this.props.className,"editing","forced_overflow"].join(" "),"data-attribute":this.props["data-attribute"],"data-type":this.props["data-type"]},u.default.createElement("div",{className:"cell-dropdown-container",onKeyDown:this.handleEscape},u.default.createElement("ul",{className:"unstyled"},this.props.options.map((function(t){return u.default.createElement("li",{onClick:function(){return e.saveDropdownValue(t.value)}},t.dropdown_display)}))))):"tags"==this.props["data-type"]?u.default.createElement(A.default,{store:t.store.globalstore,style:s({},a),className:this.props.className,height:"250px",width:"200px"},u.default.createElement("div",{style:{padding:"15px"}},u.default.createElement("table",{style:{width:"100%"}},u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement(b.default,{task:this.props.task,tasks:this.props.task.store}))),t.get_tags.map((function(n){return u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement("span",{className:"tag label"},n.name," ",u.default.createElement("span",{onClick:e.removeTag,style:{cursor:"pointer"},className:"delete-tag","data-tag":n.name},u.default.createElement("i",{"data-tag":n.name,onClick:function(){return t.removeTag(n.name)},className:"fa fa-times"})))))}))))):"compound_cost"==this.props["data-type"]?u.default.createElement(u.default.Fragment,null,u.default.createElement(A.default,{store:t.store.globalstore,className:this.props.className,style:s({},a),height:"170px",width:"200px"},u.default.createElement("div",{style:{padding:"0px"}},u.default.createElement("table",{style:{width:"100%",margin:0},className:"table"},u.default.createElement("tr",null,u.default.createElement("td",{style:{lineHeight:"14px"}},"Variable ",u.default.createElement("br",null),"(Hours x Rate)"),u.default.createElement("td",null,u.default.createElement("input",{type:"text",disabled:!0,value:""!=this.props["data-variable-attribute"]?(r.projectsettings.getSetting("currency")||"$")+Number(this.props["data-variable-attribute"]).money(2,3,".",","):(r.projectsettings.getSetting("currency")||"$")+"0",style:{width:"60px",margin:0,fontSize:"11px"}}))),u.default.createElement("tr",null,u.default.createElement("td",null,"Fixed"),u.default.createElement("td",null,u.default.createElement("input",{onFocus:function(e){e.target.value="",e.target.value=n.task_editing_cell.val},onChange:this.handleKeyDown,onKeyDown:this.handleKeyDown,type:"text",className:"",value:n.task_editing_cell.val,autoFocus:"true",style:{width:"60px",margin:0,fontSize:"11px"}}))),u.default.createElement("tr",null,u.default.createElement("td",{style:{fontSize:"14px",borderTop:"1px solid #ccc",fontweight:"bold"}},"Total"),u.default.createElement("td",{style:{fontSize:"14px",borderTop:"1px solid #ccc",fontweight:"bold"}},r.projectsettings.getSetting("currency")||"$",""!==this.props["data-total-attribute"]?Number(this.props["data-total-attribute"]).money(2,3,".",","):"0")),u.default.createElement("tr",null,u.default.createElement("td",{colspan:2},u.default.createElement("a",{href:"javascript:void(0)",style:{fontSize:"10px"},onClick:function(){return t.store.globalstore.uistate.current_modal="WORKING_DAYS"}},"Set up hourly rates per user"))))))):void 0:u.default.createElement(v.default,{style:a,afterClose:this.props.afterClose,store:r,task:t,className:this.props.className})}},{key:"render",value:function(){var e=this,t=this.props.task,n=this.props.task.store.globalstore.uistate;return(0,h.expr)((function(){return n.task_editing_cell&&n.task_editing_cell.id==t.id&&n.task_editing_cell.attribute==e.props["data-attribute"]}))?(this.editing=!0,n.is_mobile&&u.default.createElement(w.default,{onClose:function(){return e.closeCurrentEditables()}},this.editor()),this.editor()):(this.editing=!1,this.display())}},{key:"handleClick",value:function(e){var t=this,n=this.props.task.store.globalstore.uistate;return this.props["data-blocked"]?($(this.node).tooltip("show"),void setTimeout((function(){$(t.node).tooltip("hide")}),2e3)):$(e.target).hasClass("sglclick")&&$(e.target).hasClass("cell-editable")?(n.task_editing_cell=!1,void this.toggleEditableCell(e)):void(this.props.onClick?this.props.onClick(e):this.props.cf&&"checkbox"==this.props.cf.type&&this.toggleEditableCell(e))}},{key:"toggleEditableCell",value:function(e){document.addEventListener("mousedown",this.handleClickOutside);var t=this.props.task,n=this.props.task.store.globalstore.uistate;if("offline"!=this.props.task.store.globalstore.mode){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var r=$(e.target);if("INPUT"!=e.target.tagName){e.target.dataset.attribute,e.target.dataset.type,e.target.setAttribute("data-display",e.target.textContent);var a,o=e.target.dataset.blocked;if(e.target.dataset.linked,o)return r.tooltip("show"),void setTimeout((function(){r.tooltip("hide")}),2e3);if(!t.is_priority_heading&&!t.is_project){if(a=this.props["data-read-attribute"]?t[this.props["data-read-attribute"]]:t[this.props["data-attribute"]],this.props.cf){if("checkbox"==this.props.cf.type){var i=t.getCustomField(this.props.cf.id);return void(!0===i||"true"===i?t.saveCustomField(this.props.cf,!1):t.saveCustomField(this.props.cf,!0))}a=t.getCustomField(this.props.cf.id)}("percentage"==this.props["data-type"]||"number"==this.props["data-type"])&&(a=parseInt(a||0)||""),void 0!==this.props.edit_value&&(a=this.props.edit_value),n.task_editing_cell={id:t.id,attribute:this.props["data-attribute"],val:a}}}}}},{key:"closeCurrentEditables",value:function(){var e=this;(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).save?(this.saveInputValue(),setTimeout((function(){console.log("Delaying closing");var t=e.props.task.store.globalstore.uistate;t.task_editing_cell.id==e.props.task.id&&t.task_editing_cell.attribute==e.props["data-attribute"]&&(t.task_editing_cell=!1)}),200)):this.props.task.store.globalstore.uistate.task_editing_cell=!1}},{key:"handleEscape",value:function(e){console.log("handling escape"),27==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.closeCurrentEditables())}},{key:"handleKeyDown",value:function(e){var t=this.props.task.store.globalstore.uistate;if("percentage"==this.props["data-type"]&&e.target.value?t.task_editing_cell.val=parseInt(e.target.value):t.task_editing_cell.val=e.target.value,13==e.keyCode)e.preventDefault(),e.stopPropagation(),this.saveInputValue(e),this.closeCurrentEditables();else if(27==e.keyCode)e.preventDefault(),e.stopPropagation(),this.closeCurrentEditables();else if(38==e.keyCode);else if(40==e.keyCode);else{if(this.props["data-blocked"])return e.preventDefault(),e.stopPropagation(),!1;if("date"==this.props["data-type"])return $(e.target).datepicker("hide"),e.preventDefault(),e.stopPropagation(),!1;if("daterange"==this.props["data-type"])return $(e.target).datepicker("hide"),e.preventDefault(),e.stopPropagation(),!1}}},{key:"handleChangeDate",value:function(e){var t=this.props.task,n=this.props.task.store.globalstore.uistate;if(this.props["data-linked"]){console.log("data-linked");var r={start:moment(e).format("YYYY-MM-DD")};if(t.set({editing:r}),""==t.due)return r.due=t.calculateUpdateDurationWd(moment(e).format("YYYY-MM-DD"),t.duration_wd_fixed).format("YYYY-MM-DD"),t.set({editing:r}),t.saveChangeDates(),void this.closeCurrentEditables();var a=t[this.props["data-linked"]];moment(e).format("YYYY-MM-DD")>a&&(a=moment(e).format("YYYY-MM-DD")),n.task_editing_cell={id:t.id,attribute:this.props["data-linked"],val:a}}else console.log("data-nonlinked"),(r=t.editing||{}).due=moment(e).format("YYYY-MM-DD"),!r.start&&t.start&&(r.start=t.start),r.start||t.start||(r.start=r.due),t.set({duration_wd_fixed:!1,editing:r}),t.saveChangeDates(),this.closeCurrentEditables()}},{key:"saveDropdownValue",value:function(e){var t=this.props.task,n=t.store.globalstore.uistate,r=this.props["data-attribute"],a=(this.props["data-type"],{});a[r]=e,t[r]!=a[r]&&t.save(a),this.hints(r),n.task_editing_cell=!1}},{key:"saveInputValue",value:function(e){var t=this.props.task,n=t.store.globalstore.uistate,r=n.task_editing_cell.val,a=this.props["data-attribute"],o=this.props["data-type"];this.props.cf&&this.props.cf.type&&(o=this.props.cf.type),"duration_cd_fixed"!=a&&"duration_wd_fixed"!=a||(r=r<=0?1:r);var i={};if(i[a]=r,"integer"==o){if(isNaN(parseInt(i[a]))&&""!==i[a])return;i[a]=parseInt(r),r=i[a]}if("number"==o||"compound_cost"==o){if(""!=i[a]&&isNaN(parseFloat(i[a])))return;i[a]=isNaN(parseFloat(i[a]))?i[a]:parseFloat(i[a])}if("percentage"==o){if(isNaN(parseInt(i[a])))return;parseInt(i[a])>100&&(i[a]=100),i[a]=parseInt(i[a])+"%"}if("assignee"!=o){if("duration_cd_fixed"!=a||t.due||(i.duration_wd_fixed=r),"duration_wd_fixed"!=a||t.due||(i.duration_cd_fixed=r),"dependent_of"==a){var s=r.split(",").map((function(e){return parseInt(e)})).filter((function(e){return e>=0})),l=t.collection.collection_uncollapsed;t.set({dependent_of:[]});var c=0;return s.forEach((function(e){""!=l[e].due&&c++})),c>0&&(s=s.filter((function(e){return""!=l[e].due}))).sort((function(e,t){return l[e].due>l[t].due?-1:l[e].due>l[t].due?1:void 0})),s.length>0&&s.forEach((function(e){if(l[e]&&l[e]&&!l[e].is_priority_heading&&!l[e].is_new_task_handler){var r=l[e];t.equivalent_dates.start&&""!=t.equivalent_dates.start&&r.equivalent_dates.due&&""!=r.equivalent_dates.due?t.equivalent_dates.start>=r.equivalent_dates.due?t.dependsOn(l[e]):t.dependsOn(l[e],{updateStart:!0}):""!=t.equivalent_dates.start&&""==r.equivalent_dates.due&&n.globalMessage("Unsupported action","You can't specify a predecessor that is unscheduled when the current task already have a start date"),""==t.equivalent_dates.start&&""==r.equivalent_dates.due&&t.dependsOn(l[e]),""==t.equivalent_dates.start&&""!=r.equivalent_dates.due&&t.dependsOn(l[e])}})),0==s.length&&t.save(),void(n.task_editing_cell=!1)}if(this.props.cf){console.log("CF",this.props.cf),console.log("Update attribute",i[a]),console.log("Value",r);var u=i[a];return void 0===u&&(u=r),void this.saveCustomField(e,this.props.cf,u)}t[a]!=i[a]?"duration_cd_fixed"!=a&&"duration_wd_fixed"!=a||!t.due||""==t.due?t.save(i):t.set(i):"duration_cd_fixed"!=a&&"duration_wd_fixed"!=a||t.due&&""!=t.due&&t.updateDurationWd(),this.hints(a)}}},{key:"hints",value:function(e){var t=this.props.task.store.globalstore.user.type||"";"estimated_hours"!=e||t||this.props.task.collection.globalstore.uistate.showHint("estimated_hours")}}]),t}()).prototype,"toggleEditableCell",[r],Object.getOwnPropertyDescriptor(o.prototype,"toggleEditableCell"),o.prototype),O(o.prototype,"handleChangeDate",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"handleChangeDate"),o.prototype),O(o.prototype,"saveInputValue",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"saveInputValue"),o.prototype),a=o))||a);t.default=j},function(e,t,n){"use strict";var r=Array.prototype.slice,a=n(281),o=Object.keys,i=o?function(e){return o(e)}:n(488),s=Object.keys;i.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return a(e)?s(r.call(e)):s(e)}):Object.keys=i,Object.keys||i},e.exports=i},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r=n(213),a=n(215),o=a(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?a(n):n}},function(e,t,n){"use strict";var r=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!r(e)||!r(t))}},function(e,t,n){"use strict";var r=n(284);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},function(e,t,n){"use strict";var r=n(498).functionsHaveConfigurableNames(),a=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==a(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},r&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},function(e,t,n){"use strict";var r=n(286),a=n(114).supportsDescriptors,o=Object.getOwnPropertyDescriptor;e.exports=function(){if(a&&"gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var c=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyDown=n.handleKeyDown.bind(n),n.tasks=n.props.tasks?n.props.tasks:n.props.task.collection,n.task=!!n.props.task&&n.props.task,n.globalstore=n.tasks.globalstore,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillUnmount",value:function(){$(this.node).typeahead("destroy")}},{key:"componentDidMount",value:function(){var e,t=this,n=this.tasks,r=this,a=n.globalstore,o=a.projects.selected,i=!1,s=!1;"asana"==o.supplier&&o.workspace&&o.workspace.id?e=!!(s=o.workspace.id):"standalone"==o.supplier&&(i=o.workbook.id,e=!1);var l=n.tags;a.tags.models.length>0&&(l=a.tags.models.map((function(e){return{id:e.id,name:e.name,workbook:e.workbook}}))),App.Utils.Typeaheads.Tags({object:$(this.node),local:function(){return l},workspace_id:s,workbook_id:i,remote:e,allowCreate:!0,selectCallback:function(e){console.log("Selecting");var n=e;t.applyToSelected({},(function(e){e.addTag(n)})),t.closeCurrentEditables()},createCallback:function(e,n){t.createTag({name:n},(function(e){t.applyToSelected({},(function(t){t.addTag(e)}))})),r.closeCurrentEditables()},closeCallback:function(e){}}),$("span.twitter-typeahead .tt-menu").css({left:"-100px !important"}),this.node.focus()}},{key:"createTag",value:function(e,t){var n=this;if(this.props.task)t(e);else if(this.props.tasks){this.globalstore.uistate.notification={message:"Creating tag",loading:!0,type:"popover"};var r=this.globalstore.projects.selected,a={name:e.name},o=r.workspace;if(o)a.workspace=o.id;else{if(!r.workbook)return void alert("You can't create tags from this view. Try within a project");a.workbook=r.workbook.id}this.globalstore.tags.create(a).then((function(r){n.globalstore.uistate.notification=!1,t({name:e.name,id:r.id})}))}}},{key:"applyToSelected",value:function(e,t){this.props.task?t(this.props.task):this.props.tasks&&this.props.tasks.applyToSelected({},t)}},{key:"closeCurrentEditables",value:function(){var e=this.globalstore.uistate;$(this.node).typeahead("destroy"),e.task_editing_cell=!1,this.props.onClose&&this.props.onClose()}},{key:"handleKeyDown",value:function(e){console.log("keydown"),27==e.keyCode&&(console.log("pressing esc"),this.closeCurrentEditables())}},{key:"render",value:function(){var e=this;return s.default.createElement("input",{ref:function(t){return e.node=t},type:"text",onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyDown,className:"input-editable-cell tags",autoFocus:"true",placeholder:"Search tags..."})}}]),t}())||r;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var u=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyDown=n.handleKeyDown.bind(n),n.tasks=n.props.tasks?n.props.tasks:n.props.task.collection,n.task=!!n.props.task&&n.props.task,n.globalstore=n.tasks.globalstore,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillUnmount",value:function(){$(this.node).typeahead("destroy")}},{key:"componentDidMount",value:function(){var e,t,n,r=this,a=this.tasks.globalstore,o=this,i=a.projects.selected,s="New Virtual User";a.user&&a.user.type&&"standalone"==a.user.type&&(s="New resource"),"asana"==i.supplier&&(i.workspace&&i.workspace.id||"group"==i.type)||"standalone"==i.supplier&&i.workbook&&i.workbook.id?("asana"==i.supplier?(t="workspace_id",n=i.workspace.id):"standalone"==i.supplier&&(t="workbook_id",n=i.workbook.id),console.log("Mounting typeahead for users"),App.Utils.Typeaheads.Users((c(e={object:$(this.node),local:function(){return a.users.filtered}},t,n),c(e,"remote",!0),c(e,"allowCreate",!0),c(e,"createKeyword",s),c(e,"selectCallback",(function(e){var t=a.users.getWithVirtuals(e.id);t=t?t.getAttributes?t.getAttributes():t:e,r.applyToSelected({},(function(e){e.changeAssignee(t)})),r.closeCurrentEditables()})),c(e,"createCallback",(function(e,t){if(a.user&&a.user.type&&"standalone"==a.user.type)a.users.create({name:t}).then((function(e){var t=a.users.get(e.id),n=t.getAttributes?t.getAttributes():t;r.applyToSelected({},(function(e){e.changeAssignee(n),a.users.offerConvertToMember(t)})),r.closeCurrentEditables()}));else{var n={type:"tag",name:"VU: "+t};r.createTag(n,(function(e){r.applyToSelected({},(function(t){t.changeAssignee(e)}))})),r.closeCurrentEditables()}})),c(e,"closeCallback",(function(e){})),e)),$("span.twitter-typeahead .tt-menu").css({left:"-100px !important"})):(alert("Please notify support about error 02-001"),App.Utils.Typeaheads.Users({object:$(this.node),workspace_id:n,remote:!1,allowCreate:!1,selectCallback:function(e){var t=a.users.getWithVirtuals(e.id);task.changeAssignee(t),o.closeCurrentEditables()},createCallback:!1,closeCallback:function(e){}}),$("span.twitter-typeahead .tt-menu").css({left:"-100px !important"})),this.node.focus()}},{key:"createTag",value:function(e,t){var n=this;if(this.props.task)t(e);else if(this.props.tasks){this.globalstore.uistate.notification={message:"Creating Virtual User",loading:!0,type:"popover"};var r=this.globalstore.projects.selected.workspace;if(!r)return void alert("You can't create tags from this view. Try within a project");e.name,r.id,this.globalstore.tags.create({name:e.name,workspace:r.id}).then((function(r){n.globalstore.uistate.notification=!1,t({name:e.name,id:r.id,type:"tag"})}))}}},{key:"applyToSelected",value:function(e,t){this.props.task?t(this.props.task):this.props.tasks&&this.props.tasks.applyToSelected({},t)}},{key:"closeCurrentEditables",value:function(){var e=this.tasks.globalstore.uistate;$(this.node).typeahead("destroy"),e.task_editing_cell=!1,this.props.onClose&&this.props.onClose()}},{key:"handleKeyDown",value:function(e){console.log("keydown"),27==e.keyCode&&(console.log("pressing esc"),this.closeCurrentEditables())}},{key:"render",value:function(){var e=this;return s.default.createElement("input",{ref:function(t){return e.node=t},type:"text",onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyDown,className:"input-editable-cell",autoFocus:"true"})}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=d(s),c=n(6),u=n(3);function d(e){return e&&e.__esModule?e:{default:e}}d(n(505));var f,p,h,m,_,g=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"dimensions",a=i,(r=o)&&Object.defineProperty(n,"dimensions",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),window.dimensiones=i.dimensions,i.store=i.props.store,i.close=i.close.bind(i),i.handleKeyboard=i.handleKeyboard.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){var e=this.node.getBoundingClientRect().top,t=this.node.getBoundingClientRect().bottom,n=document.documentElement.clientHeight;this.dimensions.bottom=t,this.dimensions.original_top=e,e+300>t&&(t=e+300,this.dimensions.bottom=t),this.dimensions.top=t>n?n-t:-5,document.addEventListener("keydown",this.handleKeyboard)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyboard)}},{key:"handleKeyboard",value:function(e){27==e.keyCode&&this.close()}},{key:"close",value:function(e){var t=this.store.uistate;t.task_editing_cell=!1,t.active_field=!1}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{ref:function(t){return e.node=t},style:this.props.style,className:[this.props.className,"editing","forced_overflow"].join(" ")},this.dimensions&&l.default.createElement("div",{className:"cell-dropdown-container",style:{position:"absolute",top:this.dimensions.top+"px",background:"#ffffff"}},l.default.createElement("div",{style:{height:this.props.height||"200px",overflowY:"scroll",width:this.props.width||""}},this.props.children),l.default.createElement("div",{style:{padding:"5px 10px",borderTop:"1px solid #ccc"}},l.default.createElement("div",{className:"pull-right"},l.default.createElement("button",{className:"btn btn-flat btn-mini",onClick:this.close},"Close")),l.default.createElement("div",{style:{clear:"both"}}))))}}]),t}(),f=a.prototype,p="dimensions",h=[u.observable],m={enumerable:!0,initializer:function(){return{top:-5,bottom:0,original_top:0}}},_={},Object.keys(m).forEach((function(e){_[e]=m[e]})),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),void 0===(_=h.slice().reverse().reduce((function(e,t){return t(f,p,e)||e}),_)).initializer&&(Object.defineProperty(f,p,_),_=null),o=_,r=a))||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),d=(l=u)&&l.__esModule?l:{default:l},f=n(6),p=n(15),h=n(3);function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=function(e){var t=e.children;return(0,p.createPortal)(t,document.body)},b=(0,f.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"options",o,n),m(n,"parent_coordinates",i,n),m(n,"dimensions",s,n),n.store=n.props.store,n.handleEscape=n.handleEscape.bind(n),n.close=n.close.bind(n),n.handleClickOutside=n.handleClickOutside.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"componentDidMount",value:function(){var e=(0,p.findDOMNode)(this).parentNode.getBoundingClientRect();this.parent_coordinates.x=e.x,this.parent_coordinates.y=e.y,document.addEventListener("keydown",this.handleKeyboard),document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyboard),document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"handleClickOutside",value:function(e){this.node&&!this.node.contains(e.target)&&this.close(e)}},{key:"handleKeyboard",value:function(e){27==e.keyCode&&this.close()}},{key:"handleEscape",value:function(e){console.log("handling escape"),27==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.close(e))}},{key:"close",value:function(e){this.props.afterClose&&this.props.afterClose(e);var t=this.store.uistate;t.task_editing_cell=!1,t.active_field=!1}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:[this.props.className].join(" "),style:this.props.style},d.default.createElement(g,null,d.default.createElement("div",{ref:function(t){return e.node=t},style:{left:this.parent_coordinates.x+"px",top:this.parent_coordinates.y+10+"px",position:"absolute",zIndex:1010,display:"block !important"},onClick:function(e){return e.stopPropagation()}},this.props.children)))}}]),t}(),o=_(a.prototype,"options",[h.observable],{enumerable:!0,initializer:function(){return{}}}),i=_(a.prototype,"parent_coordinates",[h.observable],{enumerable:!0,initializer:function(){return{x:0,y:0}}}),s=_(a.prototype,"dimensions",[h.observable],{enumerable:!0,initializer:function(){return{top:-5,bottom:0,original_top:0}}}),r=a))||r;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=f(n(150));function f(e){return e&&e.__esModule?e:{default:e}}f(n(513));var p,h,m,_,g,b,y=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.cantChangeProject=n.cantChangeProject.bind(n),n.handleScrollingEdges=n.handleScrollingEdges.bind(n),(0,u.reaction)((function(){return n.store.uistate.scrolling}),(function(e){e||n.toggleScrolling(e)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"toggleScrolling",value:function(){this.sortable()}},{key:"componentDidMount",value:function(){this.sortable(),this.scrollable()}},{key:"componentWillUnmount",value:function(){}},{key:"handleScrollingEdges",value:function(e){this.dragging&&(e.clientY-70<$(".tasks-container").offset().top&&$(".tasks-container").scrollTop($(".tasks-container").scrollTop()-10),e.clientY+50>$(".tasks-container").offset().top+$(".tasks-container").height()&&$(".tasks-container").scrollTop($(".tasks-container").scrollTop()+10))}},{key:"componentDidUpdate",value:function(){}},{key:"cantChangeProject",value:function(){this.store.uistate.help_message="Tasks can't be moved across projects."}},{key:"renderItems",value:function(){var e=this.store.tasks;return e.filtered_viewport.map((function(t,n){return l.default.createElement(d.default,{itx:n+e.viewport.position_start,task:t})}))}},{key:"columns",value:function(){var e=this.store.uistate.columns,t=Object.keys(e).filter((function(t){return e[t].active})).map((function(e){return e+"-visible"}));return"table"==this.store.uistate.active_view&&(t=Object.keys(e).map((function(e){return e+"-visible"}))),t.join(" ")}},{key:"render",value:function(){var e=this,t=this.store.tasks,n=this.store.projects&&this.store.projects.selected&&"group"==this.store.projects.selected.type?"group":"";return"list"!=this.store.uistate.active_view&&"table"!=this.store.uistate.active_view&&this.store.uistate.task_list_hidden?null:l.default.createElement("ul",{className:["unstyled tasks-list ",n,this.columns(),this.store.uistate.is_mobile?"mobile":this.store.tasks.filtered.length>2?"desktop":""].join(" "),style:o({width:this.store.uistate.full_sidebar_width+"px"},t.filtered_viewport_style),ref:function(t){e.component=t}},t.filtered_viewport.map((function(e,t){return l.default.createElement(d.default,{key:e.id?e.id:e.optimisticId(),task:e})})))}},{key:"sortable",value:function(){var e=this.store.tasks;if(this.store.uistate,e.sort_options.group_by_priority_heading)if(this.store.projects.selected&&"workspace"==this.store.projects.selected.type)console.log("Project type: WORKSPACE. Disabling");else{var t,n=this,r=!1;"offline"!=this.store.mode&&$(this.component).sortable({handle:".sort-handler",axis:"y",containment:".tasks-container",start:function(a,o){o.item.show(),r=e.get($(o.item).attr("data-id")),o.item.index(),$(".tooltip-inner.ghost .task-name").html(r.name),window.addEventListener("mousemove",n.handleScrollingEdges),n.dragging=!0,t=void 0,$(".tasks-list").css({pointerEvents:"none"})},stop:function(e,t){window.removeEventListener("mousemove",n.handleScrollingEdges),$(".tasks-list").css({pointerEvents:"auto"}),n.dragging=!1},helper:function(t,n){var r=e.get($(n).attr("data-id")),a=(r&&r.name,23*r.parents.length+42),o=$("<div class='tooltip-inner ghost'><div class='task-name' style='padding-left:30px!important'></div></div>");return o.css({left:a+"px",borderRadius:"3px",border:"1px solid #ccc"}),$(".task-name",o).css({paddingLeft:"30px !important"}),o},change:function(n,r){r.placeholder.index();var a=r.placeholder.index()-1,o=r.placeholder.index(),i=e.filtered[a],s=e.filtered[o];t=o,s&&s.parent&&s.parent.id==i.id?$(".tooltip-inner.ghost").css({left:23*s.parents.length+42+"px"}):i?$(".tooltip-inner.ghost").css({left:23*i.parents.length+42+"px"}):s&&$(".tooltip-inner.ghost").css({left:23*s.parents.length+42+"px"})},update:(0,u.action)((function(a,o){if(r=e.get($(o.item).attr("data-id")),void 0!==t){var i,s,l=e.filtered_viewport,c=t,u=l[c-1];u=u||{id:0};var d=l[c];d=d||{id:0};var f=u.priority&&Number(u.priority),p=(u.local_priority&&Number(u.local_priority),u.priority?u.id:0),h=d.priority?d.id:0;r.priority_heading_id,r.parent,u.store&&u.is_priority_heading?(i=u.priority,s=u.id):u.store&&""!=u.get_parent_priority_heading?(e.where({priority:u.get_parent_priority_heading})[0],i=u.get_parent_priority_heading,s=u.priority_heading_id):(i=0,s=0);var m=!1;u&&u.store&&u.raw_childrens.length>0&&!u.collapsed&&!u.is_priority_heading&&!u.is_project?r.parent&&r.parent.id==u.id?m=!1:r.parent&&r.parent.id&&r.parent.id==u.id||(m=u.id):u&&u.store&&u.parent?r.parent&&r.parent.id==u.id?m=!1:r.parent&&r.parent.id==u.parent.id||(m=u.parent.id):u&&u.store&&!u.parent&&(m=s);var _=r.raw_childrens_models;if(!u||!u.store||-1==_.indexOf(u)){if("group"==n.store.projects.selected.type){if(!u||!u.get)return;if(u){var g=e.getRootParent(u),b=e.getRootParent(r);if(!g.projects||0==g.projects.length)return;if(!b.projects||0==b.projects.length)return;var y=g.projects[0].id;if(g.projects[0].id!=b.projects[0].id)return n.cantChangeProject(),void $(n.component).sortable("cancel")}}e.setLocalPositions({trigger_model:r,silent:!0}),f=u&&u.store?Number(u.local_priority)+.01:0;var v=u&&u.store?Number(u.priority)+(d&&d.store?Number(d.priority)-Number(u.priority):1)/2:0,A={parent_priority_heading:i,priority_heading_id:s,previous_task_id:p,next_task_id:h,new_parent:m,silent:e.sort_options.sort_by_date||!e.sort_options.sort_by_date&&!e.sort_options.sort_by_local&&u&&u.store&&(""!=u.parent||""==u.parent&&r.parent&&r.parent.id==u.id)};if(y&&(A.supplier_project_id=y),r.changePosition(A),r.set({local_priority:f,priority:v}),e.sort_options.sort_by_date){if(r.container&&r.container.start)var w=r.container.start,k=r.container.due;else w=r.start,k=r.due;if(!k&&u&&u.store&&(""!=u.due||u.container&&u.container.due))return n.freeEditMode(),void setTimeout((function(){e.saveLocalPositions(null,{trigger_model:r})}),0);w&&u&&u.store&&u.start!=w&&d&&d.store&&d.start!=w&&(e.sort_options.keep_tasks_sorted=!1),e.sort_options.keep_tasks_sorted||n.freeEditMode()}else e.sort_options.sort_by_local&&n.freeEditMode();setTimeout((function(){e.saveLocalPositions(null,{trigger_model:r})}),0),$("li",this.el).removeClass("highlight-background"),$(".bars-list li").removeClass("highlight-background"),$(this).sortable("cancel")}}})),sort:function(e,t){},placeholder:"droppable-position"})}}},{key:"scrollable",value:function(){}},{key:"freeEditMode",value:function(){this.store.tasks.sort_options.sort_by_local,this.store.uistate.showHint("sort_order")||this.props.store.tasks.freeEditMode()}}]),t}(),p=a.prototype,h="freeEditMode",m=[u.action],_=Object.getOwnPropertyDescriptor(a.prototype,"freeEditMode"),g=a.prototype,b={},Object.keys(_).forEach((function(e){b[e]=_[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),b),g&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(g):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(p,h,b),b=null),r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0),c=y(l),u=n(6),d=n(3),f=y(n(266)),p=y(n(109)),h=y(n(110)),m=y(n(96)),_=y(n(265)),g=n(63),b=y(n(518));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var A=function(e){var t={};return e.options?(e.options.forEach((function(n){t[n.id]=c.default.createElement(m.default,s({cf:e},n,{text:!0}))})),t):[]},w=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"custom_fields_manager_open",a=i,(r=o)&&Object.defineProperty(n,"custom_fields_manager_open",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.onChange=i.onChange.bind(i),i.collapse=i.collapse.bind(i),i.expand=i.expand.bind(i),i.toggleTaskList=i.toggleTaskList.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentDidMount",value:function(){this.resizable()}},{key:"componentDidUpdate",value:function(){this.resizable()}},{key:"resizable",value:function(){var e=this;$(".tt").tooltip(),$(".tt.cell").resizable({handles:"e",ghost:!0,helper:"resizing-helper",classes:{"ui-resizable-ghost":"ghost-helper"},stop:function(t,n){if($(n.element).height("auto"),$(n.element).width(n.originalSize.width-11),$(n.element).attr("data-cf")){if(n.size.width<50)return;var r=e.store.uistate.columns.custom_fields.filter((function(e){return e.id==$(n.element).attr("data-column")}))[0];e.store.uistate.set_column_width(r,n.size.width)}else{if(n.size.width<e.store.uistate.columns[$(n.element).attr("data-column")].min_width)return;e.store.uistate.set_column_width(e.store.uistate.columns[$(n.element).attr("data-column")],n.size.width)}}})}},{key:"onChange",value:function(e){this.store.tasks.filters.query=e.target.value}},{key:"expand",value:function(){this.store.tasks.filtered.forEach((function(e){e.setCollapsed(!1)}))}},{key:"collapse",value:function(){this.store.tasks.filtered.forEach((function(e){e.setCollapsed(!0)}))}},{key:"toggleTaskList",value:function(){this.store.uistate.task_list_hidden=!this.store.uistate.task_list_hidden}},{key:"renderHiddenHeader",value:function(){return c.default.createElement("div",{className:["gantt-toolbar-inner"].join(" ")},c.default.createElement("div",{className:"btn-group pull-left",style:{margin:"8px 8px 8px 3px",padding:2,color:"#4F677F"}},c.default.createElement(g.Tooltip,{arrow:!0,title:"Expand task list",position:"right",size:"small"},c.default.createElement("i",{onClick:this.toggleTaskList,className:"fa fa-arrow-right",style:{cursor:"pointer",fontSize:12}}))))}},{key:"render",value:function(){var e=this,t=this.store.tasks.filters.query,n="gantt"==this.store.uistate.active_view?this.store.uistate.columns:this.store.uistate.table_columns,r=Object.keys(n).filter((function(e){return n[e].active})).map((function(e){return e+"-visible"}));"table"==this.store.uistate.active_view&&(r=Object.keys(n).map((function(e){return e+"-visible"})));var a=this.store.uistate.visible_columns;"table"==store.uistate.active_view&&(a=this.store.uistate.active_columns);var o=(this.store.uistate.active_view,"short_name");return this.store.uistate.task_list_hidden&&"table"!=this.store.uistate.active_view?this.renderHiddenHeader():c.default.createElement("div",{className:"horizontalScroll-wrapper",style:{overflowX:"hidden"}},c.default.createElement("div",{className:["gantt-toolbar-inner",r.join(" ")].join(" "),style:{width:this.store.uistate.full_sidebar_width+5+"px",display:"flex"}},c.default.createElement("div",{className:"btn-group",style:{margin:"0px",padding:"15px 7px",color:"#4F677F",height:"12px",position:"absolute",left:0,background:"#fff",zIndex:2}},c.default.createElement("i",{onClick:this.expand,className:"tt collapser-expander fa fa-plus-square",style:{fontSize:12},"data-toggle":"tooltip","data-placement":"right",title:"Expand tasks","data-html":"true","data-title":"Expand tasks"}),c.default.createElement("i",{onClick:this.collapse,className:"tt collapser-expander fa fa-minus-square",style:{fontSize:12,marginLeft:4},"data-toggle":"tooltip","data-placement":"right",title:"Collapse tasks","data-html":"true","data-title":"Collapse tasks"})),c.default.createElement("div",{className:"tt cell gantt-search btn-group","data-column":"name",style:{position:"absolute",left:"41px",width:this.store.uistate.get_column_width(this.store.uistate.columns.name)-1+"px",textAlign:"left",paddingTop:"7px",background:"#fff",zIndex:"1",borderRight:" 1px solid #ddd"}},c.default.createElement("div",{className:b.default.search_field},c.default.createElement("i",{className:"fa-regular fa-fw fa-search"}),c.default.createElement("input",{className:b.default.input_search,type:"text",onChange:this.onChange,value:t,id:"filter-tasks",placeholder:"Search tasks..."}))),c.default.createElement("div",{className:"","data-column":"name",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.name)+40+"px"}}),c.default.createElement("div",{className:"header-columns"},c.default.createElement("div",{className:"tt cell pull-right cell-subtasks","data-column":"subtasks",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.subtasks)+"px"}},this.store.uistate.columns.subtasks[o]),c.default.createElement("div",{className:"tt cell pull-right cell-assignee","data-column":"assignee",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.assignee)+"px"}},c.default.createElement(f.default,{type:"list",filter:this.store.tasks.active_filters.assignee,column:"assignee",name:"Assignee",attribute:"get_users",attributeType:"Array",items:this.store.tasks.users.map((function(e){return e.id?{id:e.id,name:e.name}:{id:0,name:"Unassigned"}})).concat({id:0,name:"Unassigned"}),removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.assignee)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},this.store.uistate.columns.assignee[o])),c.default.createElement("div",{className:"tt cell pull-right cell-tags","data-column":"tags",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.tags)+"px"}},c.default.createElement(f.default,{type:"list",filter:this.store.tasks.active_filters.tags,column:"tags",name:"Tags",attribute:"tags",attributeType:"Array",items:this.store.tasks.tags,removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.tags)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},this.store.uistate.columns.tags[o])),c.default.createElement("div",{className:"tt cell pull-right cell-estimatedhours","data-column":"estimatedhours",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.estimatedhours)+"px"}},c.default.createElement(f.default,{type:"range",filter:this.store.tasks.active_filters.estimated_hours,column:"estimated_hours",name:"Estimated Hours",attribute:"get_estimated_hours",subattribute:"estimated_hours",attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.estimated_hours)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},this.store.uistate.columns.estimatedhours[o])),c.default.createElement("div",{className:"tt cell pull-right cell-actualhours","data-column":"actualhours",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.actualhours)+"px"}},c.default.createElement(f.default,{type:"range",filter:this.store.tasks.active_filters.actual_hours,column:"actual_hours",name:"Actual Hours",attribute:"get_actual_hours",subattribute:"actual_hours",attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.actual_hours)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},this.store.uistate.columns.actualhours[o])),c.default.createElement("div",{style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.estimatedcost)+"px"},"data-column":"estimatedcost",className:"tt cell pull-right cell-estimatedcost","data-toggle":"tooltip","data-placement":"bottom","data-container":"body",title:"Estimated cost","data-title":"Estimated cost"},c.default.createElement(f.default,{type:"range",filter:this.store.tasks.active_filters.estimated_cost,column:"estimated_cost",name:"Estimated Cost",attribute:"get_estimated_cost",subattribute:"estimated_cost",attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.estimated_cost)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},this.store.uistate.columns.estimatedcost[o])),c.default.createElement("div",{className:"tt cell pull-right cell-actualcost","data-column":"actualcost",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.actualcost)+"px"}},c.default.createElement(f.default,{type:"range",filter:this.store.tasks.active_filters.actual_cost,column:"actual_cost",name:"Actual Cost",attribute:"get_actual_cost",subattribute:"actual_cost",attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.actual_cost)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},this.store.uistate.columns.actualcost[o])),c.default.createElement("div",{className:"tt cell pull-right cell-start","data-column":"start",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.start)+"px"}},c.default.createElement(f.default,{type:"range",subtype:"date",filter:this.store.tasks.active_filters.start,column:"start",name:"Start",attribute:"start",subattribute:!1,attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.start)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},"START")),c.default.createElement("div",{className:"tt cell pull-right cell-workingdaysduration","data-column":"workingdaysduration",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.workingdaysduration)+"px"}},c.default.createElement(f.default,{type:"range",filter:this.store.tasks.active_filters.working_days,column:"working_days",name:"Working days",attribute:"working_duration",subattribute:!1,attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.working_days)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},this.store.uistate.columns.workingdaysduration[o])),c.default.createElement("div",{className:"tt cell pull-right cell-duration","data-column":"duration",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.duration)+"px"}},this.store.uistate.columns.duration[o]),c.default.createElement("div",{className:"tt cell pull-right cell-due","data-column":"due",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.due)+"px"}},c.default.createElement(f.default,{type:"range",subtype:"date",filter:this.store.tasks.active_filters.due,column:"due",name:"Due",attribute:"due",subattribute:!1,attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.due)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},this.store.uistate.columns.due[o])),c.default.createElement("div",{className:"tt cell pull-right cell-priority","data-column":"priority",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.priority)+"px"}},c.default.createElement(f.default,{type:"list",filter:this.store.tasks.active_filters.priority,column:"priority",name:"Priority",attribute:"get_priority",subattribute:"priority",templates:{"":p.default[0].dropdown_display,1:p.default[1].dropdown_display,2:p.default[2].dropdown_display,3:p.default[3].dropdown_display,4:p.default[4].dropdown_display,5:p.default[5].dropdown_display},attributeType:"Object",items:[{id:""},{id:1},{id:2},{id:3},{id:4},{id:5}],removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.priority)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},this.store.uistate.columns.priority[o])),c.default.createElement("div",{className:"tt cell pull-right cell-risk","data-column":"risk",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.risk)+"px"}},c.default.createElement(f.default,{type:"list",filter:this.store.tasks.active_filters.risk,column:"risk",name:"Risk",attribute:"get_risk",subattribute:"risk",templates:{"":h.default[0].dropdown_display,1:h.default[1].dropdown_display,2:h.default[2].dropdown_display,3:h.default[3].dropdown_display,4:h.default[4].dropdown_display,5:h.default[5].dropdown_display},attributeType:"Object",items:[{id:""},{id:1},{id:2},{id:3},{id:4},{id:5}],removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.risk)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},this.store.uistate.columns.risk[o])),c.default.createElement("div",{className:"tt cell pull-right cell-dependencies","data-column":"dependencies",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.dependencies)+"px"}},this.store.uistate.columns.dependencies[o]),a.map((function(t){var n=[];switch(t.type){case"dropdown":n=t.options.filter((function(e){return e.enabled}));break;case"checkbox":n=[{id:!0,value:"Checked"},{id:!1,value:"Unchecked"}]}return c.default.createElement("div",{className:"tt cell pull-right",style:{width:e.store.uistate.get_column_width(t)+"px"},"data-cf":!0,"data-column":t.id},c.default.createElement(f.default,{type:"dropdown"==t.type||"checkbox"==t.type?"list":"range",filter:e.store.tasks.active_filters[t.id],column_type:"custom",column:t.id,name:t.name,attribute:t.id,subattribute:!1,attributeType:"Object",items:n,templates:A(Object.assign({options:n},t)),removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters[t.id])},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0,isBoolean:"checkbox"==t.type},t.short_name))})),c.default.createElement("div",{className:"tt cell pull-right cell-percentage","data-column":"progress",style:{width:this.store.uistate.get_column_width(this.store.uistate.columns.progress)+"px"}},c.default.createElement(f.default,{type:"range",filter:this.store.tasks.active_filters.progress,column:"progress",name:"Progress",attribute:"calculated_progress",subattribute:!1,attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.progress)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},closeAfterClear:!0},this.store.uistate.columns.progress[o])),c.default.createElement("div",{className:"tt cell pull-right cell-photo","data-column":"photo",style:{cursor:"pointer",width:this.store.uistate.get_column_width(this.store.uistate.columns.photo)+"px"}},"table"==this.store.uistate.active_view&&c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{onClick:function(){return e.custom_fields_manager_open=!0},style:{cursor:"pointer"}},c.default.createElement("i",{className:"fas fa-plus"})," ",c.default.createElement("i",{className:"fas fa-caret-down"}))),"gantt"==this.store.uistate.active_view&&c.default.createElement(g.Tooltip,{arrow:!0,title:"Collapse task list",position:"right",size:"small"},c.default.createElement("i",{onClick:this.toggleTaskList,className:"fa fa-arrow-left",style:{cursor:"pointer",fontSize:12}}))))),this.custom_fields_manager_open&&c.default.createElement(_.default,{store:this.store,close:function(){return e.custom_fields_manager_open=!1},workbook:this.store.workbooks.selected}))}}]),t}(),o=v(a.prototype,"custom_fields_manager_open",[d.observable],{enumerable:!0,initializer:function(){return!1}}),v(a.prototype,"expand",[d.action],Object.getOwnPropertyDescriptor(a.prototype,"expand"),a.prototype),v(a.prototype,"collapse",[d.action],Object.getOwnPropertyDescriptor(a.prototype,"collapse"),a.prototype),r=a))||r;t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),h=w(p),m=n(3),g=n(55),b=n(6),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),v=w(n(521)),A=(w(n(295)),w(n(113)));function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function x(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var O=(0,b.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.delegated=!1,E(n,"active_pivot",o,n),E(n,"context_menu",i,n),E(n,"make_group",s,n),E(n,"empty_bar_setter",l,n),E(n,"inline_new_bar",c,n),n.delegateEvents=function(){var e;if("offline"!=n.props.store.mode){var t=n.component,r=n;n.drawEmptyDatesSetter();var a=n.props.store.uistate.column_width,o=(n.props.store.uistate.column_width,n.props.task),i=n.props.store.uistate,s=n.props.store.tasks;i.is_mobile||($(".bar.bar-draggable",n.component).resizable({handles:"e,w",grid:[a,0],resize:function(e,t){var n=this;(0,m.runInAction)((function(){var e=o.predecessorConstraint(),a=o.maxStartWithoutLag,s=e.left_boundary;if(o.locked)return $(n).css("width",n.last_width),void r.lockedNotification();if(t.position.left<s)return $(n).css("left",s),void $(n).css("width",n.last_width);if("due"==a.measure_from&&a.max_due&&a.valid&&t.position.left>a.due_boundary-$(t.element).width())return $(n).css("width",n.last_width),void r.lockedNotification();var l=o.pixelsToBars(t.position.left,t.size.width),c=o.calculateDates(l.difference.left*i.column_length,l.difference.right*i.column_length),u=c.start,d=c.due,f=(u=o.adjustSelfStartOnWeekend(moment(u).toDate()),d=o.extendDueOnWeekend(moment(d).toDate()),{start:o.temporal?o.temporal.start:o.equivalent_dates.start,due:o.temporal?o.temporal.due:o.equivalent_dates.due}),p={start:moment(u).format("YYYY-MM-DD"),due:moment(d).format("YYYY-MM-DD")},h=!1;o.temporal&&o.temporal.start==p.start&&o.temporal.due==p.due&&(h=!0),o.temporal&&o.temporal.start==p.start&&o.temporal.due==p.due?h=!0:o.temporal={start:moment(p.start).format("YYYY-MM-DD"),due:moment(p.due).format("YYYY-MM-DD")};var m=o.metrics(u,d);t.position.left=m.initial_margin,t.size.width=m.duration,n.last_width=m.duration,h||o.moveChildsOf({previous:f,new:p,uuid:y.uuid()})}))},start:function(e,t){o.resizing=!0,!o.selected&&o.store&&o.store.selected.length>0&&o.store.unselectAll(),this.last_width=$(t.element).width(),this.last_right=$(t.element).width()+$(t.element).position().left},stop:function(e,t){this.last_temporal_values=!1,setTimeout((function(){return o.resizing=!1}),0),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),s.saveTemporals(),s.resetSelectedSiblings(),r.store.uistate.trackAnalytics("Task:Bar:Resize",{view:r.store.uistate.active_view})}}),$(".bar",n.component).draggable({grid:[a,0],drag:function(e,t){var n=this;(0,m.runInAction)((function(){var e=o.predecessorConstraint(),a=o.maxStartWithoutLag,l=e.left_boundary;if(o.locked)return t.position.left=n.last_left,void r.lockedNotification();if(t.position.left<l&&-1==s.selected.indexOf(o.predecessor_ids))t.position.left=l;else{if(a.measure_from&&(a.valid&&i.keep_gap_locked,t.position.left>a.boundary))return t.position.left=a.boundary,void r.lockedNotification();var c=n,u=o.pixelsToBars(t.position.left,$(c).width()),d=o.calculateDates(u.difference.left*i.column_length,u.difference.right*i.column_length),f=o.adjustDates(d),p={start:o.temporal?o.temporal.start:o.equivalent_dates.start,due:o.temporal?o.temporal.due:o.equivalent_dates.due},h={start:moment(f.start).format("YYYY-MM-DD"),due:moment(f.due).format("YYYY-MM-DD")},m=!1;o.temporal&&o.temporal.start==h.start&&o.temporal.due==h.due&&(m=!0),o.temporal&&o.temporal.start==h.start&&o.temporal.due==h.due?m=!0:o.temporal={start:moment(f.start).format("YYYY-MM-DD"),due:moment(f.due).format("YYYY-MM-DD")};var _=o.metrics(f.start,f.due);if(t.position.left=_.initial_margin,$(c).css("width",_.duration),!m){var g=y.uuid();o.moveChildsOf({previous:p,new:h,uuid:g})}}}))},start:function(e,t){i.dragging_bar=!0,this.last_left=$(this).position().left,this.initial_scroll_position=$(".bars-container").scrollLeft(),!o.selected&&o.store&&o.store.selected.length>0&&o.store.unselectAll()},stop:function(e,t){window.requestAnimationFrame((function(){i.dragging_bar=!1})),this.last_temporal_values=!1,s.saveTemporals(),s.resetSelectedSiblings(),r.store.uistate.trackAnalytics("Task:Bar:Drag",{view:r.store.uistate.active_view})},scroll:!0}),$(".bar-container-draggable",t).draggable((k(e={grid:[a,0],start:function(e,t){!o.selected&&o.store&&o.store.selected.length>0&&o.store.unselectAll()},drag:function(e,t){var n=o.metrics(o.calculated_temporal_container.start,o.calculated_temporal_container.due).initial_margin;if(t.position.left!=this.last_left)if(t.position.left>this.last_left&&t.position.left<n)t.position.left=n;else if(t.position.left<this.last_left&&t.position.left>n)t.position.left=n;else{o.is_priority_heading||o.is_project?o.cascade_raw_childrens:(o.cascade_raw_childrens,o.simulated||(o.real_start=o.start,o.real_due=o.due,o.simulated=!0)),s.selected_siblings_ids&&s.selected_siblings_ids.length>0&&-1==s.selected_siblings_ids.indexOf(o.id)&&s.resetSelectedSiblings(),t.position.left;var a=o.predecessorConstraint(),l=o.maxStartWithoutLag,c=a.left_boundary;if(o.locked)return t.position.left=this.last_left,void r.lockedNotification();if(t.position.left<c&&-1==s.selected.indexOf(o.predecessor_ids))t.position.left=c;else{if(l.measure_from&&(l.valid&&i.keep_gap_locked,t.position.left>l.boundary))return t.position.left=l.boundary,void r.lockedNotification();var u,d=y.uuid(),f=o.pixelsToBars(t.position.left,$(this).width(),o.container.start,o.container.due),p=o.calculateDates(f.difference.left*i.column_length,f.difference.right*i.column_length,o.container.start,o.container.due),h=o.adjustDates(p,void 0,o.calculated_temporal_container.start,o.calculated_temporal_container.due),m={start:o.temporal_container?o.temporal_container.start:o.equivalent_dates.start,due:o.temporal_container?o.temporal_container.due:o.equivalent_dates.due},_={start:moment(h.start).format("YYYY-MM-DD"),due:moment(h.due).format("YYYY-MM-DD"),uuid:d},g=y.workingDaysDifference(moment(m.start).toDate(),moment(_.start).toDate(),o.get_users_ids);u=g>0?{start:moment(y.sumWorkingDays(moment(_.start).toDate(),-1,o.get_users_ids)).format("YYYY-MM-DD"),due:moment(y.sumWorkingDays(moment(_.due).toDate(),-1,o.get_users_ids)).format("YYYY-MM-DD")}:{start:moment(y.sumWorkingDays(moment(_.start).toDate(),1,o.get_users_ids)).format("YYYY-MM-DD"),due:moment(y.sumWorkingDays(moment(_.due).toDate(),1,o.get_users_ids)).format("YYYY-MM-DD")};var b=!1;if(o.temporal_container&&o.temporal_container.start==_.start&&o.temporal_container.due==_.due)b=!0;else{var v=o.pushFixedDatesOnContainer(g>0?1:-1,void 0,_.start,_.due);v&&(o.temporal={start:moment(v.start).format("YYYY-MM-DD"),due:moment(v.due).format("YYYY-MM-DD"),uuid:d})}b||o.moveChildsOf({previous:u,new:_,uuid:d,skip_successors:!0,siblings:!0}),this.last_left=t.position.left;var A=o.metrics(o.calculated_temporal_container.start,o.calculated_temporal_container.due).initial_margin;t.position.left!=A&&(t.position.left=A)}}else t.position.left=n}},"start",(function(e,t){i.dragging_bar=!0,i.skip_dependencies=!0,this.last_left=$(this).position().left,this.initial_scroll_position=$(".bars-container").scrollLeft()})),k(e,"stop",(function(e,t){o.simulated&&o.set({real_start:"",real_due:"",simulated:!1}),this.last_temporal_values=!1,s.saveTemporals(),(o.is_priority_heading||o.is_project)&&(o.start="",o.due=""),i.skip_dependencies=!1,i.dragging_bar=!1,s.resetSelectedSiblings(),setTimeout((function(){o.cascade_raw_childrens.forEach((function(e){e.temporal_container&&(e.temporal_container=void 0)}))}),0),r.store.uistate.trackAnalytics("Task:Container:Drag",{view:r.store.uistate.active_view})})),k(e,"scroll",!0),e)),n.delegated=!0)}},n.store=n.props.task.store.globalstore,n.onMouseOver=n.onMouseOver.bind(n),n.onMouseEnter=n.onMouseEnter.bind(n),n.onMouseLeave=n.onMouseLeave.bind(n),n.moveEmptyDatesSetter=n.moveEmptyDatesSetter.bind(n),n.onMouseDown=n.onMouseDown.bind(n),n.scheduleForToday=n.scheduleForToday.bind(n),n.setDrawingDependency=n.setDrawingDependency.bind(n),n.setDependent=n.setDependent.bind(n),n.onMouseOver=n.onMouseOver.bind(n),n.onMouseOut=n.onMouseOut.bind(n),n.notice=n.notice.bind(n),n.handleToggle=n.handleToggle.bind(n),n.lockedNotification=n.lockedNotification.bind(n),n.handleKeyMakeGroup=n.handleKeyMakeGroup.bind(n),n.open=n.open.bind(n),n.contextMenu=n.contextMenu.bind(n),n.dblClick=n.dblClick.bind(n),n.handleKeyNewBar=n.handleKeyNewBar.bind(n),n.closeInlineNewBar=n.closeInlineNewBar.bind(n),n.handleNewBarAction=n.handleNewBarAction.bind(n),n.highlightCalendar=n.highlightCalendar.bind(n),n.unHighlightCalendar=n.unHighlightCalendar.bind(n),(0,m.reaction)((function(){return n.props.task.last_modified}),(function(e){return n.notice(e)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),f(t,[{key:"handleKeyMakeGroup",value:function(e){var t=this;this.make_group.title=e.target.value,13==e.keyCode?(e.preventDefault(),e.stopPropagation(),this.make_group.creating=!0,this.props.task.collection.createGroup(this.make_group.title).then((function(){t.props.task.multiple_options=!1,t.make_group.visible=!1,t.make_group.creating=!1,t.make_group.title=""}))):27==e.keyCode&&(this.make_group.visible=!1,this.make_group.title="")}},{key:"isContextMenuOpen",value:function(){return this.store.uistate.bar_context_menu_id==this.props.task.id}},{key:"contextMenu",value:function(e){e.stopPropagation(),e.preventDefault(),e.nativeEvent.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.context_menu.status=!0,this.store.uistate.bar_context_menu_id=this.props.task.id}},{key:"handleKeyNewBar",value:function(e){this.inline_new_bar.name=e.target.value}},{key:"handleNewBarAction",value:function(e){27==e.keyCode&&this.closeInlineNewBar(),13==e.keyCode&&this.createSibling(e)}},{key:"closeInlineNewBar",value:function(){this.inline_new_bar.display=!1,this.inline_new_bar.name=""}},{key:"dblClick",value:function(e){if(e.target==this.component){this.props.task;var t=this.props.task.store.globalstore.uistate;if(!t.is_mobile){var n=t.buildDates(e.nativeEvent.offsetX,7*t.column_width);this.inline_new_bar.start=n.start,this.inline_new_bar.due=n.end,this.inline_new_bar.left=Math.floor(e.nativeEvent.offsetX/t.column_width)*t.column_width,this.inline_new_bar.width=7*t.column_width,this.inline_new_bar.display=!0}}else console.log("Event is not target")}},{key:"handleToggle",value:function(){var e=this.props.task;e.store.globalstore.tasks.selected&&e.store.globalstore.tasks.selected.length>0&&e.store.globalstore.tasks.selected[0].parent&&e.store.globalstore.tasks.selected[0].parent.id==e.id&&e.store.globalstore.tasks.selected.forEach((function(e){return e.selected=!1})),e.setCollapsed(!e.collapsed)}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.delegated&&this.delegateEvents()}},{key:"notice",value:function(e){var t=this;$(this.component).addClass("notice"),setTimeout((function(){$(t.component).addClass("bg-transition")}),1),setTimeout((function(){$(t.component).removeClass("notice")}),500),setTimeout((function(){$(t.component).removeClass("bg-transition")}),1500)}},{key:"open",value:function(e){console.log("Opening");var t=this.props.task,n=this.props.task.store.globalstore,r=n.uistate;t.resizing||r.dragging_bar||(n.tasks.selected_stack=[],r.task_editing_cell=!1,r.task_details_open=!0,r.new_sibling_task=!1,t.selected?(n.tasks.selected.forEach((function(e){return e.selected=!1})),t.selected=!1,r.task_details_open=!1):(n.tasks.selected.forEach((function(e){return e.selected=!1})),t.selected=!0))}},{key:"renderLeftArrow",value:function(){return h.default.createElement("div",{key:6,className:"left-arrow"})}},{key:"renderRightArrow",value:function(){return h.default.createElement("div",{key:7,className:"right-arrow"})}},{key:"renderArrows",value:function(){return h.default.createElement("div",{key:8},h.default.createElement("div",{className:["left-arrow border-colored",this.props.task.status_class,this.props.task.completion_status_class].join(" ")}),h.default.createElement("div",{className:["right-arrow border-colored",this.props.task.status_class,this.props.task.completion_status_class].join(" ")}))}},{key:"renderContainer",value:function(e){e=e||{};var t=this.props.task;if(t.temporal_container&&t.temporal_container.start)var n=y.getDateSafely(t.temporal_container.start),r=y.getDateSafely(t.temporal_container.due);else n=y.getDateSafely(t.container.start),r=y.getDateSafely(t.container.due);if(t.container&&(!t.container||t.container.start)){var a=this.metrics(n,r),o=t.calculated_progress?t.calculated_progress:"0%";return h.default.createElement("div",{key:2},t.collapsed&&h.default.createElement("div",{key:1,onClick:this.handleToggle,className:[t.selected?"selected":"","bar-container-draggable bar container-black"].join(" "),style:{left:a.initial_margin+"px",width:a.duration+"px"}},h.default.createElement("div",{className:"bar-progress"},h.default.createElement("div",{className:["bar-progress-inner container-black"].join(" "),style:{width:o}}),h.default.createElement("div",{style:{position:"absolute",right:"4px",top:"2px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px"}},h.default.createElement("i",{class:"fa-regular fa-folder-tree",style:{color:"rgb(231 231 231 / 70%)"}}))),h.default.createElement("a",{href:"javascript:void(0);","data-target":"","data-toggle":"dropdown",className:"spawn"}),t.drawing_dependency&&this.renderDrawingDependency()),!t.collapsed&&h.default.createElement("div",{onClick:this.handleToggle,className:"bar-container bar-container-draggable",style:{left:a.initial_margin+"px",width:a.duration+"px"}},!t.collapsed&&this.renderLeftArrow(),!t.collapsed&&this.renderRightArrow()),!e.hide_name&&h.default.createElement("div",{className:"task-name inspectlet-sensitive",style:{left:a.initial_margin+a.duration+10+"px"}},t.name))}}},{key:"renderContainerSmall",value:function(e){var t=this;e=e||{};var n=this.props.task;if(n.temporal_container&&n.temporal_container.start)var r=y.getDateSafely(n.temporal_container.start),a=y.getDateSafely(n.temporal_container.due);else r=y.getDateSafely(n.container.start),a=y.getDateSafely(n.container.due);var o=this.metrics(r,a),i=n.calculated_progress?n.calculated_progress:"0%",s=n.locked?30:6;return h.default.createElement("div",{key:3},n.collapsed&&h.default.createElement("div",{onClick:this.open,key:1,onContextMenu:this.contextMenu,onMouseUp:this.setDependent,className:[n.selected?"selected":"","bar-container-draggable bar bar-element",n.status_class,n.completion_status_class].join(" "),style:{left:o.initial_margin+"px",width:o.duration+"px"}},h.default.createElement("div",{className:"bar-progress"},h.default.createElement("div",{className:["bar-progress-inner",n.status_class,n.completion_status_class].join(" "),style:{width:i}}),h.default.createElement("div",{style:{position:"absolute",right:"4px",top:"2px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px"}},h.default.createElement("i",{class:"fa fa-diagram-subtask",style:{color:"rgba(0,0,0,0.7)"}}))),h.default.createElement("a",{href:"javascript:void(0);","data-target":"","data-toggle":"dropdown",className:"spawn"}),n.drawing_dependency&&this.renderDrawingDependency()),!n.collapsed&&h.default.createElement("div",{onClick:this.open,key:2,className:["bar-container-small bar-container-draggable bar-element",n.status_class,n.completion_status_class].join(" "),style:{left:o.initial_margin+"px",width:o.duration+"px"},onMouseUp:this.setDependent},n.drawing_dependency&&this.renderDrawingDependency(),this.renderArrows()),"offline"!=n.store.globalstore.mode&&h.default.createElement("div",{key:3,onMouseUp:this.setDependent,onMouseDown:this.setDrawingDependency,className:["connection-dot dot-left",n.drawing_dependency?"connection-dot-hidden":""].join(" "),style:{left:o.initial_margin-22+"px",top:"5px"}}),n.locked&&h.default.createElement("div",{className:"locked-icon",style:{left:o.initial_margin+o.duration+10+"px",top:"3px"}},h.default.createElement("i",{className:"fa fa-lock"})),"offline"!=n.store.globalstore.mode&&!n.store.globalstore.uistate.is_mobile&&h.default.createElement("div",{key:4,onClick:function(e){e.stopPropagation(),t.contextMenu(e)},className:"task-configuration-icon",style:{left:o.initial_margin+o.duration+s+"px",top:"4px"}},h.default.createElement("i",{className:"fa fa-wrench"})),"offline"!=n.store.globalstore.mode&&!n.store.globalstore.uistate.is_mobile&&h.default.createElement("div",{key:5,onClick:function(e){e.stopPropagation(),t.handleToggle(e)},className:"task-configuration-icon",style:{left:o.initial_margin+o.duration+s+24+"px",top:"4px"}},n.collapsed&&h.default.createElement("i",{className:"fa fa-caret-down"}),!n.collapsed&&h.default.createElement("i",{className:"fa fa-caret-up"})),this.isContextMenuOpen()&&!n.store.globalstore.uistate.is_mobile&&h.default.createElement("div",{key:6,onClick:function(e){e.stopPropagation(),t.context_menu.status=!1},style:{fontSize:"10px",lineHeight:"16px",position:"absolute",left:o.initial_margin+o.duration+s+"px",top:"4px"}},this.renderBarContentDropdown()),!e.hide_name&&h.default.createElement("div",{className:"task-name",style:{left:o.initial_margin+o.duration+s+10+"px"}},n.name))}},{key:"renderContainerSmallMicrobar",value:function(e){e=e||{};var t=this.props.task;if(t.temporal&&t.temporal.start)var n=y.getDateSafely(t.temporal.start),r=y.getDateSafely(t.temporal.due);else n=y.getDateSafely(t.start),r=y.getDateSafely(t.due);var a=this.metrics(n,r),o=(t.calculated_progress&&t.calculated_progress,t.locked,a.initial_margin+5),i=a.duration-10;return h.default.createElement("div",{key:4},!t.collapsed&&h.default.createElement("div",{className:["bar-container-small-microbar"].join(" "),style:{left:o+"px",width:i+"px"},onMouseUp:this.setDependent}))}},{key:"renderInlineNewBar",value:function(){return this.inline_new_bar.display?h.default.createElement("div",{key:5,className:"inline_new_bar",style:{left:this.inline_new_bar.left+"px",width:this.inline_new_bar.width+"px"}},h.default.createElement("input",{placeholder:"New task name...",type:"text",autoFocus:!0,onKeyUp:this.handleNewBarAction,onChange:this.handleKeyNewBar,value:this.inline_new_bar.name}),h.default.createElement("div",{className:"close_icon",onClick:this.closeInlineNewBar},h.default.createElement("i",{className:"fa fa-times-circle"}))):null}},{key:"renderBar",value:function(e){var t=this;e=e||{};var n=this.props.task;if(n.temporal&&n.temporal.start)var r=y.getDateSafely(n.temporal.start),a=y.getDateSafely(n.temporal.due);else r=y.getDateSafely(n.start),a=y.getDateSafely(n.due);var o=this.metrics(r,a),i=n.locked?30:10;return h.default.createElement("div",{key:1,onClick:this.open},h.default.createElement("div",{onContextMenu:this.contextMenu,onMouseUp:this.setDependent,className:[n.selected?"selected":"","bar-draggable bar bar-element",n.status_class,n.completion_status_class].join(" "),style:{left:o.initial_margin+"px",width:o.duration+"px"}},n.calculated_progress&&h.default.createElement("div",{className:"bar-progress"},h.default.createElement("div",{className:["bar-progress-inner",n.status_class,n.completion_status_class].join(" "),style:{width:n.calculated_progress}})),!n.calculated_progress&&h.default.createElement("div",{className:"bar-progress"},h.default.createElement("div",{className:["bar-progress-inner",n.status_class,n.completion_status_class].join(" "),style:{width:"0%"}})),h.default.createElement("a",{href:"javascript:void(0);","data-target":"","data-toggle":"dropdown",className:"spawn"}),n.drawing_dependency&&this.renderDrawingDependency()),"offline"!=n.store.globalstore.mode&&h.default.createElement("div",{onMouseUp:this.setDependent,onMouseDown:this.setDrawingDependency,className:["connection-dot dot-left",n.drawing_dependency?"connection-dot-hidden":""].join(" "),style:{left:o.initial_margin-22+"px",top:"5px"}}),n.locked&&h.default.createElement("div",{className:"locked-icon",style:{left:o.initial_margin+o.duration+10+"px",top:"3px"}},h.default.createElement("i",{className:"fa fa-lock"})),"offline"!=n.store.globalstore.mode&&!n.store.globalstore.uistate.is_mobile&&h.default.createElement("div",{onClick:function(e){e.stopPropagation(),t.contextMenu(e)},className:"task-configuration-icon",style:{left:o.initial_margin+o.duration+i+"px",top:"4px"}},h.default.createElement("i",{className:"fa fa-wrench"})),this.isContextMenuOpen()&&!n.store.globalstore.uistate.is_mobile&&h.default.createElement("div",{onClick:function(e){e.stopPropagation(),t.context_menu.status=!1},style:{fontSize:"10px",lineHeight:"16px",position:"absolute",left:o.initial_margin+o.duration+i+"px",top:"4px"}},this.renderBarContentDropdown()),!e.hide_name&&h.default.createElement("div",{className:"task-name inspectlet-sensitive",style:{left:o.initial_margin+o.duration+i+"px"}},n.name))}},{key:"renderNewTaskHandler",value:function(){return null}},{key:"renderMilestone",value:function(e){var t=this;e=e||{};var n=this.props.task,r=this.props.task.store.globalstore.uistate;if(n.temporal&&n.temporal.start)var a=y.getDateSafely(n.temporal.start),o=y.getDateSafely(n.temporal.due);else a=y.getDateSafely(n.start),o=y.getDateSafely(n.due);var i=this.metrics(a,o),s=n.locked?30:10;return h.default.createElement("div",{key:9},h.default.createElement("div",{onClick:this.open,onMouseUp:this.setDependent,className:["bar"].join(" "),style:{left:i.initial_margin+"px",width:"20px",background:"transparent"}},h.default.createElement("div",{className:["bar-milestone bar-element","bar-milestone-"+r.column_width,n.status_class,n.completion_status_class,n.selected?"selected":""].join(" ")}),n.drawing_dependency&&this.renderDrawingDependency()),"offline"!=n.store.globalstore.mode&&h.default.createElement("div",{onMouseUp:this.setDependent,onMouseDown:this.setDrawingDependency,className:["connection-dot dot-left",n.drawing_dependency?"connection-dot-hidden":""].join(" "),style:{left:i.initial_margin-22+"px",top:"5px"}}),n.locked&&h.default.createElement("div",{className:"locked-icon",style:{left:i.initial_margin+i.duration+10+"px",top:"3px"}},h.default.createElement("i",{className:"fa fa-lock"})),"offline"!=n.store.globalstore.mode&&h.default.createElement("div",{className:"task-configuration-icon",onClick:function(e){e.stopPropagation(),t.contextMenu(e)},style:{left:i.initial_margin+i.duration+s+"px",top:"4px"}},h.default.createElement("i",{className:"fa fa-wrench"})),this.isContextMenuOpen()&&h.default.createElement("div",{onClick:function(){return t.context_menu.status=!1},style:{fontSize:"10px",lineHeight:"16px",position:"absolute",left:i.initial_margin+i.duration+s+"px",top:"4px"}},this.renderBarContentDropdown()),!e.hide_name&&n.name&&h.default.createElement("div",{className:"task-name",style:{left:i.initial_margin+i.duration+s+"px"}},n.name))}},{key:"renderBaseline",value:function(){var e=this.props.task,t=e.collection,n=(0,g.expr)((function(){return t.baseline[e.id]}));if(n&&!e.is_priority_heading&&!n.is_priority_heading&&!n.is_project&&(""!=n.start&&""!=n.due||n.is_priority_heading)){var r=new Date;r.setMinutes(0),r.setHours(0),r.setSeconds(0),r.setMilliseconds(0);var a=y.getDateSafely(n.start),o=y.getDateSafely(n.due),i=this.metrics(a,o);return h.default.createElement("div",{key:7,className:"baseline-bar",style:{left:i.initial_margin+"px",width:i.duration-2+"px"}})}}},{key:"renderTask",value:function(){var e=this.props.task,t=e.store.globalstore.uistate,n=[];return""!=e.start&&""!=e.due||e.is_priority_heading||0!=e.raw_childrens_count&&(!(e.raw_childrens_count>0&&e.container)||e.container.due&&"null"!=e.container.due)?""!=e.start&&""!=e.due||e.is_priority_heading||0!=e.raw_childrens_count?(e.is_priority_heading||e.is_project?n.push(this.renderContainer({hide_name:!t.append_task_names})):e.raw_childrens_count>0?(e.container&&e.container.start&&e.container.due&&n.push(this.renderContainerSmall({hide_name:!t.append_task_names})),""==e.start||""==e.due||e.simulated||n.push(this.renderContainerSmallMicrobar())):e.is_new_task_handler?n.push(this.renderNewTaskHandler()):e.is_milestone?n.push(this.renderMilestone({hide_name:!t.append_task_names})):n.push(this.renderBar({hide_name:!t.append_task_names})),n.push(this.renderBaseline()),n.push(this.renderCompletionDate(e)),n.push(this.renderInlineNewBar()),n):n:("offline"==e.store.globalstore.mode||n.push(this.drawEmptyDatesSetter()),n)}},{key:"renderCompletionDate",value:function(e){if(this.props.store.uistate.show_completion_date&&e&&e.completed&&"false"!=e.completed&&e.completed_at&&!(moment(e.completed_at).format("YYYY-MM-DD")<=e.due)){var t=this.metrics(e.due,moment(e.completed_at).format("YYYY-MM-DD"));return t&&t.initial_margin&&t.duration?h.default.createElement("div",{key:10,className:"bar-real-completion",style:{left:t.initial_margin,width:t.duration}},h.default.createElement("div",{className:"pull-right",style:{marginTop:"-10px",marginRight:3,color:"#56cc27"}},h.default.createElement("i",{className:"fas fa-check-square"}))):void 0}}},{key:"metrics",value:function(e,t){var n=this.props.task;e=e||y.getDateSafely(n.start),t=t||y.getDateSafely(n.due);var r=this.props.store,a=r.uistate,o=(r.tasks,a.calendar.first_month_first_date);if(1==a.column_length)var i=Math.ceil(y.daysDiff(e,o)/a.column_length)*a.column_width,s=Math.ceil(y.daysBetweenTwoDates(t,e)/a.column_length)*a.column_width;else i=Math.floor(y.daysDiff(y.getMonday(e),y.getMonday(o))/a.column_length)*a.column_width,s=Math.ceil(y.daysBetweenTwoDates(y.getMonday(t),y.getMonday(e))/a.column_length)*a.column_width;return{initial_margin:i,duration:s}}},{key:"renderDependency",value:function(e){var t=this.props.task,n=t.store.globalstore.uistate,r=t.store.globalstore.uistate.column_width;if(t.store.globalstore.uistate.column_length,t.predecessor_ids){var a="object"!=d(t.predecessor_ids)?[t.predecessor_ids]:_.uniq(t.predecessor_ids),o=[],i=(0,g.expr)((function(){return!(!n.critical_path||-1==t.collection.critical_path.indexOf(t))}));return a.forEach((function(e){var a,s,l=!1,c="inherit",u="inherit",d="dependency-line";if(e!=t.id&&"undefined"!=e){var f=(0,g.expr)((function(){return t.store.filtered.indexOf(t.store.get(e))})),p=t.store.get(e),m=(0,g.expr)((function(){return!(!n.critical_path||-1==t.collection.critical_path.indexOf(p))}));if(p&&p.equivalent_dates.start>t.equivalent_dates.due)console.log("Returning on drawing dependency for ",t.name);else if(!(p&&""==p.equivalent_dates.start&&""==p.equivalent_dates.due||f<0)){if(p.calculated_temporal_container)var _=p.metrics(p.calculated_temporal_container.start,p.calculated_temporal_container.due),b=p.calculated_temporal_container.start,y=p.calculated_temporal_container.due;else _=p.metrics(p.equivalent_dates.start,p.equivalent_dates.due),b=p.equivalent_dates.start,y=p.equivalent_dates.due;if(t.calculated_temporal_container)var v=t.calculated_temporal_container.start,A=t.calculated_temporal_container.due;else v=t.equivalent_dates.start,A=t.equivalent_dates.due;var w=t.metrics(v,A),E=_.initial_margin,x=_.duration,O=(0,g.expr)((function(){return t.store.filtered.indexOf(t)})),C=w.initial_margin;(O<f||C<E)&&(l=!0),C>=E+x&&(E+=x);var j=t.store.viewport.row_height;if(c=-(N=(O-f+1)*j)-1,l&&(c="inherit",u=N+15,N=-1*N-1,d="dependency-line-inverse"),v>=y)var D=t.metrics(moment(y),moment(v));else v>=b&&(D=t.metrics(moment(b),moment(v)));var N=(O-f+1)*j;if(D){var S,T,M,P,B=D.duration,I=D.initial_margin;if(c=-1*(O-f)*j,O>f)a=21,(M=.5*r)==(P=D.duration-.5*r)?(T=["M "+P+" "+(s=N-21),"L "+(P+3)+" "+(s-4),"L "+(P-3)+" "+(s-4),"L "+P+" "+s],S=(S=["M "+M/2+" "+a,"L "+(M/2+.5*r)+" "+a,"M "+M+" "+a,"L "+P+" "+s]).join(" "),T=T.join(" ")):(T=["M "+(P=D.duration-r-1)+" "+(s=N-12.5),"L "+(P-4)+" "+(s-3),"L "+(P-4)+" "+(s+3),"L "+P+" "+s],S=(S=["M "+M/2+" "+a,"L "+(M/2+.5*r)+" "+a,"M "+M+" "+a,"L "+M+" "+(s-3),"A5,5 0 0 0 "+(M+3)+","+s,"L "+P+" "+s]).join(" "),T=T.join(" "));else u=-1*(f-O)*j,c="inherit",d="dependency-line-inverse",a=(N=(f-O+1)*j)-22,(M=.5*r)==(P=D.duration-.5*r)?(T=["M "+P+" "+(s=21),"L "+(P+3)+" "+(s+4),"L "+(P-3)+" "+(s+4),"L "+P+" "+s],S=(S=["M "+M/2+" "+a,"L "+(M/2+.5*r)+" "+a,"M "+M+" "+a,"L "+P+" "+s]).join(" "),T=T.join(" ")):(T=["M "+(P=D.duration-r-1)+" "+(s=12.5),"L "+(P-4)+" "+(s-3),"L "+(P-4)+" "+(s+3),"L "+P+" "+s],S=(S=["M "+M/2+" "+a,"L "+(M/2+.5*r)+" "+a,"M "+M+" "+a,"L "+M+" "+(s+3),"A5,5 0 0 1 "+(M+3)+","+s,"L "+P+" "+s]).join(" "),T=T.join(" "));"dependency-line"==d?o.push(h.default.createElement("svg",{key:e,pointerEvents:"none",className:["dependency-line",i&&m?"critical":""].join(" "),"data-parent":e,style:k({zIndex:1,position:"absolute",top:"0px",left:I+"px",width:B+"px",height:N+"px"},"top",c+"px")},h.default.createElement("path",{className:"connection-line",d:S,stroke:"#777777",strokeWidth:"1",fill:"none"}),h.default.createElement("path",{className:"connection-arrow",d:T,stroke:"#777777",strokeWidth:"1",fill:"#777777"}))):o.push(h.default.createElement("svg",{key:e,pointerEvents:"none",className:["dependency-line-inverse",i&&m?"critical":""].join(" "),"data-parent":e,style:{zIndex:1,position:"absolute",left:I+"px",width:B+"px",height:N+"px",bottom:u+"px"}},h.default.createElement("path",{className:"connection-line",d:S,stroke:"#777777",strokeWidth:"1",fill:"none"}),h.default.createElement("path",{className:"connection-arrow",d:T,stroke:"#777777",strokeWidth:"1",fill:"#777777"})))}}}})),o}}},{key:"renderDrawingDependency",value:function(){var e=this.props.store.uistate;return h.default.createElement("div",{key:11,className:["dependency-setter",e.drawing_dependency.classNames].join(" "),style:u({},e.drawing_dependency.css)},h.default.createElement("div",{className:"minidot-left"}),h.default.createElement("div",{className:"minidot-right"}))}},{key:"renderBarContentDropdown",value:function(){return h.default.createElement(v.default,{store:this.props.store,key:this.props.task.id,task:this.props.task,context_menu:this.context_menu})}},{key:"render",value:function(){var e=this,t=this.props.task,n=t.store.globalstore.uistate,r=(0,g.expr)((function(){return!(!n.critical_path||-1==t.collection.critical_path.indexOf(t))}));return h.default.createElement("li",{key:t.id,onDoubleClick:this.dblClick,"data-id":t.id,onMouseLeave:this.onMouseLeave,onMouseMove:this.moveEmptyDatesSetter,onMouseOut:this.onMouseOut,className:["lassable bar-item-container",t.collapsed?"collapsed":"",r?"critical-path":""].join(" "),onMouseOver:this.onMouseOver,ref:function(t){e.component=t},onMouseEnter:this.onMouseEnter},t.get_users.filter((function(e){return e&&e.id})).length>0&&h.default.createElement(A.default,{store:this.store,user_ids:t.get_users.filter((function(e){return e&&e.id})).map((function(e){return e.id}))}),t.multiple_options&&this.renderMultipleOptions(),this.renderTask(),!n.skip_dependencies&&this.renderDependency())}},{key:"renderMultipleOptions",value:function(){var e=this,t=this.props.task;if(t.store.globalstore.uistate,t.calculated_temporal_container&&t.calculated_temporal_container.start)var n=y.getDateSafely(t.calculated_temporal_container.start),r=y.getDateSafely(t.calculated_temporal_container.due);else n=y.getDateSafely(t.start),r=y.getDateSafely(t.due);var a=this.metrics(n,r),o=$(".bars-container").scrollTop(),i=25*t.collection.filtered.indexOf(t),s=-40,l=a.initial_margin;return i-o<40&&(s=0,l+=80),h.default.createElement("div",{className:"floating-options",style:{position:"absolute",top:s+"px",left:l+"px",boxShadow:"2px 3px 8px rgba(0,0,0,0.2)",background:"#ffffff",borderRadius:"5px"}},this.make_group.visible&&!this.make_group.creating&&h.default.createElement("div",{className:"cell cell-editable editing"},h.default.createElement("input",{className:"input-editable-cell",type:"text",onChange:this.handleKeyMakeGroup,onKeyDown:this.handleKeyMakeGroup,autoFocus:!0})),this.make_group.creating&&this.make_group.visible&&h.default.createElement("div",null,"Creating group... ",h.default.createElement("i",{className:"fa fa-spin fa-spinner"})),!this.make_group.visible&&h.default.createElement("div",null,h.default.createElement("a",{className:"cell cell-editable",href:"javascript:void(0)",onClick:function(){t.store.globalstore.uistate.task_details_open=!0}},h.default.createElement("i",{className:"fa fa-cog"})," Options "),"  ",h.default.createElement("a",{className:"cell cell-editable",href:"javascript:void(0)",onClick:function(){e.make_group.visible=!0}},h.default.createElement("i",{className:"fa fa-folder"})," Make a group "),"  ",h.default.createElement("a",{className:"cell cell-editable",href:"javascript:void(0)",onClick:function(){t.collection.resetSelectedSiblings()}},h.default.createElement("i",{className:"fa fa-times"})," ")))}},{key:"onMouseOver",value:function(e){this.highlightTaskName(e),this.delegated||this.delegateEvents()}},{key:"onMouseEnter",value:function(e){this.highlightCalendar(e)}},{key:"highlightCalendar",value:function(e){var t=this.props.task;if(t.store.globalstore.uistate.scrolling)return null;if(t.start&&t.due)var n=moment(t.start),r=moment(t.due);else{if(!(t.container&&t.container.start&&t.container.due))return;n=moment(t.container.start),r=moment(t.container.due)}for($(".day-header-hover").removeClass("day-header-hover");n<=r;)$(".day-"+n.format("YYYYMMDD")).addClass("day-header-hover"),n.add("days",1)}},{key:"unHighlightCalendar",value:function(e){$(".day-header-hover").removeClass("day-header-hover")}},{key:"lockedNotification",value:function(){this.props.store.uistate.chart_notification={message:h.default.createElement("span",null,h.default.createElement("i",{className:"fa fa-lock"})," There is a locked task blocking your move")}}},{key:"drawEmptyDatesSetter",value:function(){var e=this.props.task;if(!this.props.task.is_new_task_handler&&!this.props.store.uistate.is_mobile&&!(""!=e.start&&""!=e.due||e.is_priority_heading||0!=e.raw_childrens_count&&(!(e.raw_childrens_count>0&&e.container)||e.container.due&&"null"!=e.container.due))){var t=this.props.store;return t.uistate,t.tasks,this.empty_bar_setter_present=!0,h.default.createElement("div",{key:10,"data-start":this.empty_bar_setter.start,"data-due":this.empty_bar_setter.due,className:"empty-dates-setter","data-toggle":"dropdown",style:{cursor:"pointer",position:"absolute",left:this.empty_bar_setter.left+"px",width:this.empty_bar_setter.width+"px",top:"2px",bottom:"2px",background:"#008ACA",display:this.empty_bar_setter.display}},h.default.createElement("a",{href:"javascript:void(0);",onMouseUp:this.scheduleForToday,onMouseDown:this.onMouseDown,"data-target":"",className:"spawn-empty todate",title:"Click to schedule"}))}}},{key:"moveEmptyDatesSetter",value:function(e){var t=this.props.task,n=this.props.store,r=n.uistate;if(n.tasks,!this.props.store.uistate.is_mobile&&this.empty_bar_setter_present&&(e.target==this.component||"spawn-empty todate"==e.target.className)){var a=this.active_pivot;t.duration_wd_fixed>1&&(a=!1);var o=e.nativeEvent.offsetX?e.nativeEvent.offsetX:e.nativeEvent.layerX;e.target!=this.component&&(o+=this.empty_bar_setter.left);var i=Math.floor(o/r.column_width)*r.column_width,s=a?a>i?i:a:i,l=(a&&a>=i?a+r.column_width:i+r.column_width)-s,c=s/r.column_width,u=c+l/r.column_width-1;if(1==r.column_length){var d=moment(moment(r.calendar.first_month_first_date)).add("days",c).format("DD/MM/YYYY"),f=moment(moment(r.calendar.first_month_first_date)).add("days",u).format("DD/MM/YYYY"),p=moment(moment(r.calendar.first_month_first_date)).add("days",c),h=moment(moment(r.calendar.first_month_first_date)).add("days",u);if(!a){for(;y.isWeekend(p,t.get_users_ids);)p=moment(p).add("days",1);for(;y.workingDaysLength(moment(p).toDate(),moment(h).toDate(),t.get_users_ids)+1<t.working_duration;)for(h=moment(h).add("days",1);y.isWeekend(h,t.get_users_ids);)h=moment(h).add("days",1);var m=t.metrics(p,h);s=m.initial_margin,l=m.duration,d=p.format("DD/MM/YYYY"),f=h.format("DD/MM/YYYY")}}else{var _=y.getMonday(r.calendar.first_month_first_date),g=(d=moment(moment(_)).add("days",7*c).format("DD/MM/YYYY"),f=moment(moment(_)).add("days",7*u+4).format("DD/MM/YYYY"),moment(moment(_)).add("days",7*c)),b=moment(moment(_)).add("days",7*u+4);if(!a){for(;y.workingDaysLength(moment(g).toDate(),moment(b).toDate(),t.get_users_ids)+1<t.working_duration;)for(b=moment(b).add("days",1);y.isWeekend(b,t.get_users_ids);)b=moment(b).add("days",1);var v=t.metrics(g,b);s=v.initial_margin,l=v.duration,d=g.format("DD/MM/YYYY"),f=b.format("DD/MM/YYYY")}}this.empty_bar_setter={display:"block",left:s,width:l,start:d,due:f}}}},{key:"onMouseLeave",value:function(e){this.empty_bar_setter={display:"none",left:0,width:0,start:"",due:""},this.unHighlightCalendar()}},{key:"onMouseDown",value:function(e){3!=e.nativeEvent.which&&(e.stopPropagation(),e.preventDefault(),e.nativeEvent.stopImmediatePropagation(),this.active_pivot=this.empty_bar_setter.left)}},{key:"scheduleForToday",value:function(e){if(3!==e.nativeEvent.which){var t=this.props.task,n=this.props.store,r=(n.uistate,n.tasks),a=this.empty_bar_setter.start,o=this.empty_bar_setter.due;t.priority_heading_id,void 0!==a&&void 0!==o||(a=new Date,today.setHours(0),today.setMinutes(0),today.setSeconds(0),today.setMilliseconds(0),o=new Date,today.setHours(0),today.setMinutes(0),today.setSeconds(0),today.setMilliseconds(0));var i=moment(a,"DD/MM/YYYY"),s=moment(o,"DD/MM/YYYY");if((l=r.filtered[r.filtered.indexOf(t)-1])&&l.raw_childrens.length>0&&!l.collapsed&&(!l.container||l.container&&!l.container.start))var l=r.filtered[r.filtered.indexOf(l)-1];r.setLocalPositions({trigger_model:t,silent:!0});var c=t.applyDateBounds(i,s);i=c.start,s=c.due,t.set({editing:{start:moment(i).format("YYYY-MM-DD"),due:moment(s).format("YYYY-MM-DD")},duration_wd_fixed:!1}),t.saveChangeDates(),this.active_pivot=!1,this.empty_bar_setter_present=!1,this.empty_bar_setter={start:"",due:"",display:"none",left:0,width:0},this.delegated=!1,!r.sort_options.sort_by_date||!l||l.is_new_task_handler||l.is_project||l.is_priority_heading||l.raw_childrens.length>0&&!l.collapsed&&!l.container||l.container&&!l.container.start||!(!l.start||l.start&&i.format("YYYY-MM-DD")<l.start||l.container&&i.format("YYYY-MM-DD")<l.container.start)||(this.freeEditMode(),setTimeout((function(){r.saveLocalPositions(null,{trigger_model:t})}),0)),this.store.uistate.trackAnalytics("Task:Bar:PaintDate",{view:this.store.uistate.active_view})}}},{key:"freeEditMode",value:function(){console.log("freeEditMode not migrated"),this.props.store.tasks.freeEditMode()}},{key:"setDrawingDependency",value:function(e){var t=this.props.task,n=this.props.store.uistate;e.stopPropagation(),e.preventDefault(),e.nativeEvent.stopImmediatePropagation(),t.drawing_dependency=!0,n.drawing_dependency={id:t.id,left:$(".bar-element",this.component).offset().left,top:$(".bar-element",this.component).offset().top,css:{left:0,top:0,height:0,width:0},classNames:""}}},{key:"setDependent",value:function(e){this.props.task.setDependent()}},{key:"onMouseOut",value:function(e){this.removeHighlightTaskName(e)}},{key:"highlightTaskName",value:function(e){var t=this.props.task;if(t.store.globalstore.uistate.scrolling)return null;t.id&&(this.props.task.store.globalstore.uistate.scrolling||$("li[data-id="+t.id+"]").addClass("hover"))}},{key:"removeHighlightTaskName",value:function(e){var t=this.props.task;t.id&&$("li[data-id="+t.id+"]").removeClass("hover")}},{key:"removeDropdownMenu",value:function(){this.context_menu.status=!1}},{key:"createSibling",value:function(e){var t=this.props.task,n=this.props.task.store.globalstore;n.uistate,e&&(e.preventDefault(),e.stopPropagation());var r=this.inline_new_bar.name,a=[],o="",i="",s=(this.inline_new_bar.due,new Date,this.inline_new_bar.start),l=this.inline_new_bar.due;if(n.tasks.filters.tags.length>0&&"tag"==n.tasks.filters.tag_type){var c=n.tasks.tags.filter((function(e){return e.name==n.tasks.filters.tags[0]}));c&&(a=[c[0]])}if(n.tasks.filters.tags.length>0&&"user"==n.tasks.filters.tag_type){var u=n.tasks.filtered[0].user;u&&(o=(i=u).id)}if(n.projects.selected,t.projects&&t.projects.length>0)var d=[t.projects[0]];else d=[];var f=[],p=t.parent_priority_heading,h=t.priority_heading_id;h&&t.projects.length>0&&(f=[{project:Number(t.projects[0].id),section:Number(h)}]);var m={name:r,due:l,start:s,tags:a,projects:d,assignee:o,user:i,parent_priority_heading:p,priority_heading_id:h,memberships:f,parent:t.parent,previous_task_id:t.id,project_priority:t.project_priority,priority:parseFloat(t.priority)+.01,local_priority:parseFloat(t.local_priority)+.01};t.parent&&(delete m.memberships,delete m.projects),n.tasks.create(m),this.closeInlineNewBar()}}]),t}(),o=x(a.prototype,"active_pivot",[m.observable],{enumerable:!0,initializer:function(){return!1}}),i=x(a.prototype,"context_menu",[m.observable],{enumerable:!0,initializer:function(){return{status:!1}}}),s=x(a.prototype,"make_group",[m.observable],{enumerable:!0,initializer:function(){return{visible:!1,title:"",creating:!1}}}),l=x(a.prototype,"empty_bar_setter",[m.observable],{enumerable:!0,initializer:function(){return{start:"",due:"",left:0,width:0,display:"none"}}}),c=x(a.prototype,"inline_new_bar",[m.observable],{enumerable:!0,initializer:function(){return{start:"",due:"",left:0,width:0,display:!1,name:""}}}),x(a.prototype,"open",[m.action],Object.getOwnPropertyDescriptor(a.prototype,"open"),a.prototype),x(a.prototype,"scheduleForToday",[m.action],Object.getOwnPropertyDescriptor(a.prototype,"scheduleForToday"),a.prototype),x(a.prototype,"freeEditMode",[m.action],Object.getOwnPropertyDescriptor(a.prototype,"freeEditMode"),a.prototype),x(a.prototype,"setDependent",[m.action],Object.getOwnPropertyDescriptor(a.prototype,"setDependent"),a.prototype),r=a))||r;t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=(n(3),n(6)),l=c(n(294));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props.task,t=e.store.globalstore.uistate,n=(e.collection.viewport.buffered_position_start+this.props.index)*e.collection.viewport.row_height+t.header_height+1+"px";return i.default.createElement("div",{style:{position:"absolute",left:0,right:0,top:n,height:e.collection.viewport.row_height+"px"}},i.default.createElement(l.default,{store:this.props.store,key:e.id?e.id:e.optimisticId(),task:e}))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=(i=c)&&i.__esModule?i:{default:i},d=n(6),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),p=n(3);function h(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"query",a=i,(r=o)&&Object.defineProperty(n,"query",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.toggleNonMembers=i.toggleNonMembers.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){this.store.uistate.registerComponent({name:"workloadusers",node:this.component}),this.store.tasks.viewport.block_length=Math.ceil(this.component.offsetHeight/this.store.tasks.viewport.row_height),this.handleChange=this.handleChange.bind(this),this.query=this.props.query}},{key:"componentDidUpdate",value:function(){this.query=this.props.query}},{key:"handleChange",value:function(e){this.query=e.target.value}},{key:"toggleNonMembers",value:function(){var e=this.store.users;e.non_project_members_expanded?e.non_project_members_expanded=!1:e.non_project_members_expanded=!0}},{key:"renderUser",value:function(e){var t=e,n=this.store.tasks,r=n.compressedTimelines[e.id]||[[]],a=n.calcTotalHours(r,e.id),o=r.map((function(e){return 1}));o.shift();var i=void 0!==e.photo&&e.photo&&void 0!==e.photo.image_60x60&&""!=e.photo.image_60x60;return"mini"==this.props.display?[u.default.createElement("li",null,u.default.createElement("div",{className:"cell mini-workload",style:{paddingLeft:0,float:"right!important",marginLeft:"10px"}},t?void 0!==t.photo&&t.photo&&t.photo.image_60x60?u.default.createElement("a",s({href:"javascript:void(0)",className:"tooltip-handler"},{"data-toggle":"tooltip"},{"data-placement":"top"},{title:t.name}),u.default.createElement("img",{src:t.photo.image_60x60,className:"assigned-photo"})):u.default.createElement("a",s({href:"javascript:void(0)",className:"tooltip-handler"},{"data-toggle":"tooltip"},{"data-placement":"top"},{title:t.name}),u.default.createElement("li",{className:"non-photo non-photo-mini"}," ",f.nameAbbreviation(t.name)," ")):u.default.createElement("div",{className:"unassigned-photo"},u.default.createElement("i",{className:"fa fa-user"}))),u.default.createElement("div",{className:"cell cell-name mini-workload",style:{paddingTop:0,paddingLeft:"10px",float:"right!important",position:"relative"}},e.name?e.name:e.id?e.email||e.id:"Unassigned")),u.default.createElement("li",{className:"divider"})]:[u.default.createElement("li",null,!this.store.uistate.is_mobile&&u.default.createElement("div",{className:"cell cell-photo"},i&&u.default.createElement("a",{href:"#"},u.default.createElement("img",{src:e.photo.image_60x60,className:"assigned-photo"})),e.name&&(void 0===e.photo||!e.photo||!e.photo.image_60x60)&&u.default.createElement("a",{href:"#"},u.default.createElement("div",{className:"non-photo"}," ",f.nameAbbreviation(e.name)," ")),!e.name&&e.id&&u.default.createElement("div",{className:"non-photo"}," ",f.nameAbbreviation(e.name||e.id)," "),!e.name&&!e.id&&u.default.createElement("div",{className:"unassigned-photo"},u.default.createElement("i",{className:"fa fa-user"}))),u.default.createElement("div",{className:["cell cell-name",this.store.uistate.is_mobile?"mobile":""].join(" ")},e.name?e.name:e.id?e.email||e.id:"Unassigned")),o.map((function(e){return u.default.createElement("li",null)})),u.default.createElement("li",null,u.default.createElement("span",{className:["estimated_hours_legend",this.store.uistate.is_mobile?"mobile":""].join(" ")},this.store.uistate.is_mobile&&u.default.createElement("span",null,Math.ceil(a)," hrs"),!this.store.uistate.is_mobile&&u.default.createElement("span",null,"Estimated hours (hrs): ",Math.ceil(a),"  "))),u.default.createElement("li",{className:"divider"})]}},{key:"render",value:function(){var e=this,t=this.filtered_project_users,n=this.store.users,r=this.filtered_non_project_users,a=this.store.tasks.hoursByProject.total_hours;if(this.store.user&&"standalone"==this.store.user.type)var o="-Other Members- means people that are part of your team, but doesn't have tasks assigned on this project. You can still assign tasks to them, and they will become automatically Project Members.";else o="-Other Members- means people that are part of your team, but are not members of this project in Asana. You can still assign tasks to them, or you can make them part of your project on the Project Members section in Asana.";var i=(this.props.display,{}),l="mini"==this.props.display?{top:0}:{};return"mini"==this.props.display?(""!=this.props.query&&(t=t.filter((function(t){if(-1!=t.name.toLowerCase().indexOf(e.props.query.toLowerCase()))return!0}))),u.default.createElement("div",{className:"tasks-container",ref:function(t){e.component=t},style:s({},l,{overflowY:"hidden",right:0})},u.default.createElement("ul",{className:"unstyled tasks-list",ref:function(t){e.component=t},style:i},t.map((function(t){return e.renderUser(t)}))))):u.default.createElement("div",{className:"tasks-container",ref:function(t){e.component=t},style:s({},l,{overflowY:"hidden",right:0})},u.default.createElement("ul",{className:"unstyled tasks-list",ref:function(t){e.component=t},style:i},u.default.createElement("li",{className:"header"},"Project Members"),u.default.createElement("li",{className:"divider"}),t.map((function(t){return e.renderUser(t)})),r.length>0&&[u.default.createElement("li",{className:"header"},"Other Members  ",u.default.createElement("a",{className:"muted inline-help",onClick:function(){return e.store.uistate.help_message=o},href:"javascript:void(0);"},"(help)"),u.default.createElement("span",{className:"workload-collapser",onClick:this.toggleNonMembers},u.default.createElement("i",{className:[n.non_project_members_expanded?"fa fa-chevron-up":"fa fa-chevron-down"]}))),u.default.createElement("li",{className:"divider"})],n.non_project_members_expanded&&r.map((function(t){return e.renderUser(t)})),this.store.uistate.is_mobile&&u.default.createElement("li",{className:"",style:{}},Math.ceil(a)," Hours"),!this.store.uistate.is_mobile&&u.default.createElement("li",{className:"",style:{paddingLeft:"45px"}},"Total scheduled estimated hours: ",Math.ceil(a)),u.default.createElement("li",{className:"divider"})))}},{key:"filtered_project_users",get:function(){var e=this;return this.store.users.filtered_project_members.filter((function(t){var n=t.name||"",r=e.query||"";return n.toLowerCase().indexOf(r.toLowerCase())>-1}))}},{key:"filtered_non_project_users",get:function(){var e=this;return this.store.users.filtered_non_project_members.filter((function(t){var n=t.name||"",r=e.query||"";return n.toLowerCase().indexOf(r.toLowerCase())>-1}))}}]),t}(),o=h(a.prototype,"query",[p.observable],{enumerable:!0,initializer:function(){return""}}),h(a.prototype,"filtered_project_users",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"filtered_project_users"),a.prototype),h(a.prototype,"filtered_non_project_users",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"filtered_non_project_users"),a.prototype),r=a))||r;t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=m(l),u=n(6),d=n(3),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),p=m(n(522)),h=m(n(113));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.reactions=[],n=i,"query",a=i,(r=o)&&Object.defineProperty(n,"query",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.onContextMenu=i.onContextMenu.bind(i),i.closeContext=i.closeContext.bind(i),i.mouseMove=i.mouseMove.bind(i),i.reactions.push((0,d.reaction)((function(){return i.store.tasks.scroll_to}),(function(e){i.scrollTo(e)}))),i.specialDatesTooltip=i.specialDatesTooltip.bind(i),i.query=i.props.query,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"mouseMove",value:function(e){this.specialDatesTooltip(e)}},{key:"mouseLeave",value:function(e){var t=this.store.dates;t.filtered_unassigned.length>0&&t.filtered_unassigned.forEach((function(e){e.tooltip_status="closed"}))}},{key:"specialDatesTooltip",value:function(e){var t=this;this.store.dates.filtered_unassigned.forEach((function(n){var r=f.metrics(n.start,n.end,{column_width:t.store.uistate.column_width,column_length:t.store.uistate.column_length,first_month_first_date:t.store.uistate.calendar.first_month_first_date}),a=e.currentTarget==e.target?e.nativeEvent.offsetX:e.nativeEvent.clientX-$(e.currentTarget).offset().left+e.currentTarget.scrollLeft;a>=r.initial_margin&&a<=Number(r.initial_margin)+Number(r.duration)?n.tooltip_status="open":n.tooltip_status="closed"}))}},{key:"onContextMenu",value:function(e){var t=e.left,n=e.top,r=(e.right,$(".bars-list li:eq(0)").position().top),a=$(".bars-list li:eq(0)").height(),o=Math.floor((n-r)/a);if(void 0===(i=this.store.tasks.filtered[o]))var i=this.store.tasks.filtered[this.store.tasks.filtered.length-1];this.store.uistate.context_menu={left:t+10+"px",top:n+10+"px",display:"block",active:!0,ref:i}}},{key:"componentDidMount",value:function(){var e=this;this.store.uistate.registerComponent({name:"workloadbars",node:this.component});var t=this.store.uistate.getScrollPositions("gantt");$("li.bar-item-container").droppable({over:function(e,t){$(t.draggable).attr("data-user-id",$(this).attr("data-user-id"))}}),window.requestAnimationFrame((function(){e.component.onscroll=e.props.onScroll,e.component.scrollLeft=t.left})),$(".card").tooltip({trigger:"hover",container:".bars-list",html:!0,placement:"bottom"}),$(".bars-container").on("contextmenu",(function(t){t.preventDefault();var n=t.offsetX,r=t.target==t.currentTarget?t.offsetX:t.clientY+t.currentTarget.scrollTop-61;e.onContextMenu({left:n,top:r})})),$(".bars-container").on("mouseleave",".contextmenu",(function(t){e.closeContext()}))}},{key:"closeContext",value:function(){this.store.uistate.context_menu.display="none"}},{key:"componentDidUpdate",value:function(){$("li.bar-item-container").droppable({over:function(e,t){$(t.draggable).attr("data-user-id",$(this).attr("data-user-id"))}}),$(".card").tooltip({trigger:"hover",container:".bars-list",html:!0,placement:"bottom"}),this.query=this.props.query}},{key:"componentWillUpdate",value:function(){$(".card").tooltip("destroy")}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"scrollTo",value:function(e){this.component.scrollLeft=e.left}},{key:"renderLane",value:function(e){return e.map((function(e){return c.default.createElement(Bar,{task:e})}))}},{key:"renderUser",value:function(e){var t=this,n=this.store.tasks.compressedTimelines[e.id]||[[]];return"mini"==this.props.display?[this.renderHours(e),c.default.createElement("li",{className:"divider"})]:[n.map((function(n,r){return c.default.createElement(p.default,{store:t.store,key:e.id+"-"+r,lane:n,user:e})})),this.renderHours(e),c.default.createElement("li",{className:"divider"})]}},{key:"renderHours",value:function(e){var t,n=this,r=this.store.tasks,a=this.store.uistate,o=a.column_width;t="global"==this.store.uistate.workload_type&&"mini"==this.props.display?r.globalWorkload[e.id]?r.globalWorkload[e.id]:{}:r.hoursByUsers[e.id]?r.hoursByUsers[e.id]:{};var i=10,s=0;switch(7==a.column_length&&(s=0),a.column_width){case 15:i=7;break;case 10:i=5;break;case 20:i=9}var l=[];return Object.keys(t).forEach((function(r){var o=t[r],c=f.metrics(moment(Number(r)).toDate(),moment(r).toDate(),{column_width:n.store.uistate.column_width,column_length:n.store.uistate.column_length,first_month_first_date:n.store.uistate.calendar.first_month_first_date});if(o>0)var u=o.toFixed(s);else u="-";var d="#666666";o>n.store.projectsettings.getCapacity(e.id,(n.store.projects.selected||{}).id)&&1==a.column_length&&(d="red"),o>5*n.store.projectsettings.getCapacity(e.id,(n.store.projects.selected||{}).id)&&7==a.column_length&&(d="red"),l.push({font_size:i,left:c.initial_margin,color:d,output:u})})),c.default.createElement("li",{key:"hours"+e.id,className:"bar-item-container hours_per_day","data-user-id":e.id},void 0!==e.id&&c.default.createElement(h.default,{store:this.store,user_ids:[e.id]}),a.column_width>=15&&l.map((function(e){return c.default.createElement("div",{style:{fontSize:e.font_size,textAlign:"center",width:o+"px",left:e.left+"px",position:"absolute",color:e.color}},e.output)})))}},{key:"renderProjectHours",value:function(){var e=this.store.tasks,t=this.store.uistate,n=t.column_width,r=e.hoursByProject.hours,a=10,o=0;switch(7==t.column_length&&(o=0),t.column_width){case 15:a=7;break;case 10:a=5;break;case 20:a=9}var i=[];return Object.keys(r).forEach((function(t){var n=r[t],s=e.filtered[0].metrics(moment(Number(t)).toDate(),moment(t).toDate());if(n>0)var l=n.toFixed(o);else l="-";i.push({font_size:a,left:s.initial_margin,color:"#666666",output:l})})),c.default.createElement("li",{key:"hours-global",className:"hours_per_day","data-user-id":"false"},t.column_width>=15&&i.map((function(e){return c.default.createElement("div",{style:{fontSize:e.font_size,textAlign:"center",width:n+"px",left:e.left+"px",position:"absolute",color:e.color,paddingTop:"3px"}},e.output)})))}},{key:"specialDatesTooltip",value:function(e){var t=this;this.store.dates.filtered_unassigned.forEach((function(n){var r=f.metrics(n.start,n.end,{column_width:t.store.uistate.column_width,column_length:t.store.uistate.column_length,first_month_first_date:t.store.uistate.calendar.first_month_first_date}),a=e.currentTarget==e.target?e.nativeEvent.offsetX:e.nativeEvent.clientX-$(e.currentTarget).offset().left+e.currentTarget.scrollLeft;a>=r.initial_margin&&a<=Number(r.initial_margin)+Number(r.duration)?n.tooltip_status="open":n.tooltip_status="closed"}))}},{key:"render",value:function(){var e=this,t=this.filtered_project_users,n=this.filtered_non_project_users,r=this.store.users,a=this.store.uistate,o=this.store.uistate.calendar.data,s=0,l=(this.props.display,{paddingTop:"41px"}),u="mini"==this.props.display?{paddingTop:0}:{paddingTop:"8px"};return"mini"==this.props.display?(""!=this.props.query&&(t=t.filter((function(t){if(-1!=t.name.toLowerCase().indexOf(e.props.query.toLowerCase()))return!0}))),c.default.createElement("div",{onMouseMove:this.mouseMove,className:"main bars-container",ref:function(t){e.component=t},style:i({background:"#fff"},u)},c.default.createElement("ul",{ref:function(t){e.component=t},className:"unstyled bars-list",style:i({width:this.store.uistate.calendar.total_width+"px"},l)},c.default.createElement("div",{className:"columns"},o.map((function(t,n){return s+=t[0].width,c.default.createElement("div",{key:n,className:"month-column-bg lassable",style:{width:t[0].width+"px",left:s-t[0].width+"px",background:"url(/img/grid-bg-"+e.store.uistate.column_width+".png"}})}))),t.map((function(t){return e.renderUser(t)}))))):c.default.createElement("div",{onMouseMove:this.mouseMove,className:"main bars-container",ref:function(t){e.component=t},style:i({background:"#fff"},u)},c.default.createElement("ul",{ref:function(t){e.component=t},className:"unstyled bars-list",style:i({width:this.store.uistate.calendar.total_width+"px"},l)},c.default.createElement("div",{className:"columns"},o.map((function(t,n){return s+=t[0].width,1==e.store.uistate.column_length?c.default.createElement("div",{key:n,className:"month-column-bg lassable",style:{width:t[0].width+"px",left:s-t[0].width+"px",backgroundPosition:-t[0].dayOfWeek*e.store.uistate.column_width+"px 0",background:"url(data:image/svg+xml;base64,"+e.store.uistate.get_background_image+") "+-t[0].dayOfWeek*e.store.uistate.column_width+"px 0"}}):c.default.createElement("div",{key:n,className:"month-column-bg lassable",style:{width:t[0].width+"px",left:s-t[0].width+"px",background:"url(/img/grid-bg-"+e.store.uistate.column_width+".png"}})}))),c.default.createElement(h.default,{store:this.store}),c.default.createElement("li",null),c.default.createElement("li",{className:"divider"}),t.map((function(t){return e.renderUser(t)})),n.length>0&&[c.default.createElement("li",null),c.default.createElement("li",{className:"divider"})],r.non_project_members_expanded&&n.map((function(t){return e.renderUser(t)})),this.renderProjectHours(),c.default.createElement("li",{className:"divider"})),c.default.createElement("div",{className:"contextmenu",style:{left:a.context_menu.left,top:a.context_menu.top,display:a.context_menu.display}},c.default.createElement("ul",{className:"unstyled"},c.default.createElement("li",null,c.default.createElement("a",{onClick:function(){return a.current_modal="HIGHLIGHT_DATES"},href:"javascript:void(0);",className:"highlight-dates"},c.default.createElement("i",{className:"fa fa-fw fa-calendar-check"})," Highlight day")),c.default.createElement("li",null,c.default.createElement("a",i({onClick:function(){return a.current_modal="HIGHLIGHT_HOLIDAYS"},href:"javascript:void(0);",className:"highlight-dates"},{"data-holiday":1}),c.default.createElement("i",{className:"fa fa-fw fa-calendar-times"})," Highlight day as holiday")),"standalone"==this.store.user.type&&c.default.createElement("li",null,c.default.createElement("a",i({onClick:function(){return a.current_modal="TIME_OFF"},href:"javascript:void(0);",className:"highlight-dates"},{"data-holiday":1}),c.default.createElement("i",{className:"fa fa-fw fa-calendar-times"})," User time off")),c.default.createElement("li",null,c.default.createElement("a",{onClick:function(){return a.buildRangeFilter()},href:"javascript:void(0);",className:""},c.default.createElement("i",{className:"fa fa-fw fa-filter"})," Create a range filter")))))}},{key:"filtered_project_users",get:function(){var e=this;return this.store.users.filtered_project_members.filter((function(t){var n=t.name||"",r=e.query||"";return n.toLowerCase().indexOf(r.toLowerCase())>-1}))}},{key:"filtered_non_project_users",get:function(){var e=this;return this.store.users.filtered_non_project_members.filter((function(t){var n=t.name||"",r=e.query||"";return n.toLowerCase().indexOf(r.toLowerCase())>-1}))}}]),t}(),o=_(a.prototype,"query",[d.observable],{enumerable:!0,initializer:function(){return""}}),_(a.prototype,"filtered_project_users",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"filtered_project_users"),a.prototype),_(a.prototype,"filtered_non_project_users",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"filtered_non_project_users"),a.prototype),r=a))||r;t.default=g},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_class,_desc,_value,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_descriptor9,_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(15),_mobxReact=__webpack_require__(6),_mobx=__webpack_require__(3),_utils=__webpack_require__(9),Utils=_interopRequireWildcard(_utils),_templateenhanced=__webpack_require__(299),Templates=_interopRequireWildcard(_templateenhanced),_templateoffline=__webpack_require__(624),OfflineTemplates=_interopRequireWildcard(_templateoffline),_field=__webpack_require__(115),_field2=_interopRequireDefault(_field);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _applyDecoratedDescriptor(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}var MobileContainer=function(e){var t=e.children,n=document.getElementById("mobile-task-details-view");return console.log(n),(0,_reactDom.createPortal)(t,n)},TaskDetails=(0,_mobxReact.observer)((_class2=function(_Component){function TaskDetails(e){_classCallCheck(this,TaskDetails);var t=_possibleConstructorReturn(this,(TaskDetails.__proto__||Object.getPrototypeOf(TaskDetails)).call(this,e));return _initDefineProp(t,"tags_visible",_descriptor,t),_initDefineProp(t,"show_task_options",_descriptor2,t),_initDefineProp(t,"autolink_expanded",_descriptor3,t),_initDefineProp(t,"make_group",_descriptor4,t),_initDefineProp(t,"editing_notes",_descriptor5,t),_initDefineProp(t,"loading_files",_descriptor6,t),_initDefineProp(t,"file_upload_visible",_descriptor7,t),_initDefineProp(t,"new_comment",_descriptor8,t),_initDefineProp(t,"new_subtask_focus",_descriptor9,t),t.reactions=[],t.store=t.props.store,t.handleCreateSubtask=t.handleCreateSubtask.bind(t),t.handleCreateSubtaskAction=t.handleCreateSubtaskAction.bind(t),t.unassign=t.unassign.bind(t),t.setColor=t.setColor.bind(t),t.removeDates=t.removeDates.bind(t),t.setProgress=t.setProgress.bind(t),t.toggleAddTagVisibility=t.toggleAddTagVisibility.bind(t),t.removeTag=t.removeTag.bind(t),t.convertType=t.convertType.bind(t),t.toggleCompleted=t.toggleCompleted.bind(t),t.closeWindow=t.closeWindow.bind(t),t.fillParents=t.fillParents.bind(t),"offline"!=t.store.mode?(t.template=Templates.base.bind(t),t.templatePriority=Templates.priority.bind(t),t.templateProject=Templates.project.bind(t),t.multipleTemplate=Templates.multiple.bind(t),t.optionsTemplate=Templates.options.bind(t)):(t.template=OfflineTemplates.base.bind(t),t.templatePriority=OfflineTemplates.priority.bind(t),t.templateProject=OfflineTemplates.project.bind(t),t.multipleTemplate=OfflineTemplates.multiple.bind(t)),t.saveNotes=t.saveNotes.bind(t),t.unlinkSelected=t.unlinkSelected.bind(t),t.lockDates=t.lockDates.bind(t),t.handleKeyMakeGroup=t.handleKeyMakeGroup.bind(t),t.saveFile=t.saveFile.bind(t),t.deleteFile=t.deleteFile.bind(t),t.createGroup=t.createGroup.bind(t),t.addComment=t.addComment.bind(t),t.deleteComment=t.deleteComment.bind(t),t.followTask=t.followTask.bind(t),t.handleNewCommentChange=t.handleNewCommentChange.bind(t),t.handleCommentKeyDown=t.handleCommentKeyDown.bind(t),t.reactions.push((0,_mobx.reaction)((function(){return t.store.tasks.selected}),(function(e){return t.closeTaskDetails(e)}))),t.users=[],t.reactions.push((0,_mobx.reaction)((function(){return t.store.tasks.selected}),(function(e){t.editing_notes=!1,t.users=t.store.users.filtered.map((function(e){return{id:e.user_id,display:e.name}})).filter((function(e){return e.id}))}))),t.reactions.push((0,_mobx.reaction)((function(){return t.store.comments.filtered}),(function(){"inbox"==t.store.uistate.active_view&&setTimeout((function(){try{$(".task-details .inner-content").scrollTop($(".task-details .inner-content").height())}catch(e){}}),0)}))),t.handleClickOutside=t.handleClickOutside.bind(t),t}return _inherits(TaskDetails,_Component),_createClass(TaskDetails,[{key:"dependenciesModal",value:function(){var e=this.store.tasks.selected[0];this.store.uistate.current_modal="DEPENDENCIES_MANAGER",this.store.uistate.current_modal_options={task_id:e.id}}},{key:"saveFile",value:function(e){var t=this.store.tasks.selected[0];t.files.push({name:e.name,path:e.path}),t.save()}},{key:"deleteFile",value:function(e){var t=this;if(window.confirm("Removing files is permanent. Are you sure you want to delete this file?")){this.loading_files=!0;var n="/files/"+e.path;return fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(n){var r=t.store.tasks.selected[0],a=r.files.map((function(e){return e.path})).indexOf(e.path);r.files.splice(a,1),r.save(),t.loading_files=!1}))}}},{key:"handleKeyMakeGroup",value:function(e){this.make_group.title=e.target.value,13==e.keyCode?(e.preventDefault(),e.stopPropagation(),this.createGroup(e)):27==e.keyCode&&(this.make_group.visibility=!1)}},{key:"createGroup",value:function(e){var t=this;this.make_group.loading=!0,this.store.tasks.createGroup(this.make_group.title).then((function(){t.make_group.visibility=!t.make_group.visibility,t.make_group.title="",t.make_group.loading=!1}))}},{key:"lockDates",value:function(){this.store.tasks.selected[0].toggleLock()}},{key:"closeTaskDetails",value:function(e){0==e.length?this.store.uistate.task_details_open=!1:this.store.uistate.trackAnalytics("Task:Open",{view:this.store.uistate.active_view}),this.store.uistate.is_mobile&&(this.store.uistate.current_modal="")}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()})),this.store.uistate.is_mobile&&$("#mobile-task-details-view").hide(),"board"==this.store.uistate.active_view&&document.removeEventListener("mouseup",this.handleClickOutside)}},{key:"componentDidMount",value:function(){$(".task-details .has-tooltip").tooltip(),this.store.uistate.is_mobile&&this.store.uistate.task_details_open&&$("#mobile-task-details-view").show(),"board"==this.store.uistate.active_view&&document.addEventListener("mouseup",this.handleClickOutside)}},{key:"handleClickOutside",value:function(e){if(this.node&&!this.node.contains(e.target)){if($(e.target).parents(".react-datepicker").length>0)return;if($(e.target).parents(".cell").length>0)return;document.getElementById("gantt-pane").contains(e.target)&&this.closeWindow(e)}}},{key:"componentDidUpdate",value:function(){this.store.uistate.is_mobile&&this.store.uistate.task_details_open&&$("#mobile-task-details-view").show(),this.store.uistate.is_mobile&&!this.store.uistate.task_details_open&&$("#mobile-task-details-view").hide(),-1!=["board","table"].indexOf(this.store.uistate.active_view)&&this.store.uistate.task_details_open&&Intercom("update",{hide_default_launcher:!0}),-1==["board","table"].indexOf(this.store.uistate.active_view)||this.store.uistate.task_details_open||Intercom("update",{hide_default_launcher:!1}),-1==["board","table"].indexOf(this.store.uistate.active_view)&&Intercom("update",{hide_default_launcher:!1}),$(".task-details .has-tooltip").tooltip()}},{key:"saveNotes",value:function(){var e=this.textarea.value;this.store.tasks.selected[0]&&(this.store.tasks.selected[0].notes=e,this.store.tasks.selected[0].override(),this.editing_notes=!1,this.store.uistate.trackAnalytics("Task:Notes:Save",{view:this.store.uistate.active_view}))}},{key:"waterfallSelected",value:function(){this.store.tasks.sort_options.sort_by_date?this.store.tasks.waterfallSelected():this.store.uistate.help_message="Can't make waterfall when tasks are not sorted by date"}},{key:"unlinkSelected",value:function(){this.store.tasks.unlinkSelected()}},{key:"outdent",value:function(){this.store.tasks.outdent()}},{key:"indent",value:function(){this.store.tasks.indent()}},{key:"fillParents",value:function(){var e,t=!1,n=!1,r=[],a=this.store.tasks,o=this.store.tasks.selected[0];if(this.store.tasks.selected[0],e=this.store.tasks.collection,1==a.selected.length){if(o.parent){var i=a.get(o.parent.id);t=i}else if(o.priority_heading_id){var s=a.get(o.priority_heading_id);n=s}}else r.push({id:"",name:"Select parent"});return"standalone"==this.store.user.type&&r.push({id:0,name:"No Parent"}),e.forEach((function(e){if(-1==a.selected.indexOf(e)){if(e.parents&&e.parents.length>0&&!e.parents.reduce((function(e,t,n,r){return e&&-1==a.selected.map((function(e){return e.id})).indexOf(t)}),!0))return;var o="";if(!e.is_project&&!e.is_new_task_handler)if(e.is_priority_heading)n&&n.id==e.id&&(o="selected"),r.push({id:e.id,name:e.name,selected:o});else{t&&t.id==e.id&&(o="selected");var i=" - ";if(e.parents)for(var s=0;s<e.parents.length;s++)i+="- ";r.push({id:e.id,name:i+e.name,selected:o})}}})),r}},{key:"closeWindow",value:function(e){var t=this.store.tasks,n=this.store.uistate;if(1==t.selected.length){var r=t.selected[0];if(this.store.tasks.selected_stack.length>0)return this.store.tasks.selected_stack[this.store.tasks.selected_stack.length-1].selected=!0,r.selected=!1,void this.store.tasks.selected_stack.pop();store.tasks.selected.forEach((function(e){return e.selected=!1}))}n.task_details_open=!1,this.autolink_expanded=!1}},{key:"toggleCompleted",value:function(e){this.store.tasks.selected[0].toggleCompleted()}},{key:"convertType",value:function(e){var t=this.store.tasks;if(t.selected[0].is_milestone)t.selected[0].save({is_milestone:!1,start:t.selected[0].due});else{if(t.selected[0].sorted_childrens.length>0)return;t.selected[0].save({is_milestone:!0,start:t.selected[0].due})}}},{key:"removeTag",value:function(e){var t=this.store.tasks,n=e.target.dataset.tag;t.applyToSelected({},(function(e){e.removeTag(n)}))}},{key:"toggleAddTagVisibility",value:function(){this.tags_visible=!0}},{key:"setColor",value:function(e){var t=this.store.tasks,n=e.target.dataset.color;""!=n&&void 0!==n||(n=!1),t.applyToSelected({},(function(e){e.save({color:n})})),this.store.uistate.trackAnalytics("Task:Color:Save",{view:this.store.uistate.active_view})}},{key:"removeDates",value:function(e){var t=this.store.tasks;confirm("Are you sure you want to delete dates?")&&t.applyToSelected({},(function(e){e.removeDates()}))}},{key:"setProgress",value:function(e){var t=this.store.tasks,n=e.target.dataset.progress,r={progress:n};"100%"==n?(r.completed=!0,r.completed_at=moment().format("YYYY-MM-DD")):(r.completed=Utils.getCompletedFalse(),r.completed_at=null),t.applyToSelected({no_childs:!0},(function(e){e.save(r),r.completed_at||(e.completed=!1)}))}},{key:"unassign",value:function(e){var t=this;this.store.uistate,this.store.tasks.applyToSelected({},(function(e){"standalone"==t.store.user.type?e.changeAssignee([]):e.changeAssignee(null)}))}},{key:"renderSubtask",value:function(e){return _react2.default.createElement("tr",{className:"subtask"},_react2.default.createElement("td",{className:"interior completion-toggle"},_react2.default.createElement("i",{onClick:function(){return e.toggleCompleted()},className:["fa-fw ",e.completed?"fas fa-check":"far fa-square"].join(" ")})),_react2.default.createElement("td",{className:"interior task-content"},_react2.default.createElement("span",null,e.name)))}},{key:"renderSubtasks",value:function renderSubtasks(){var _this5=this,tasks=this.store.tasks,is_active=tasks.selected.length>0,multi_select=tasks.selected.length>1,active_task=!multi_select&&tasks.selected[0];return active_task.raw_childrens_models.filter((function(e){return e.id!=active_task.id})).map((function(s){return _react2.default.createElement("tr",{className:"subtask"},_react2.default.createElement("td",{className:"interior completion-toggle"},_react2.default.createElement("i",{onClick:function(){return s.toggleCompleted()},className:["fa-fw ",eval(s.completed)?"fal fa-check":"fal fa-square"].join(" ")})),_react2.default.createElement("td",{className:"interior task-content"},_react2.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return _this5.openSubtask(s)}},s.name)))}))}},{key:"openSubtask",value:function(e){var t=this.store.tasks.selected[0].id,n=this.store.tasks.get(t);e.selected=!0,n.selected=!1,this.store.tasks.selected_stack.push(n),this.store.uistate.trackAnalytics("Task:Subtask:Open",{view:this.store.uistate.active_view})}},{key:"renderDetails",value:function(){this.store.uistate;var e=this.store.tasks,t=!(e.selected.length>1)&&e.selected[0];return this.store.tasks.selected.filter((function(e){return!e.id})).length>0?_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"title"},_react2.default.createElement("div",{className:"pull-left title-inner"})),_react2.default.createElement("div",{className:"inner-content"},_react2.default.createElement("p",{style:{textAlign:"center"}},_react2.default.createElement("img",{src:"/img/gears.gif"})))):t?t.is_priority_heading?this.templatePriority():t.is_project?this.templateProject():this.template():void 0}},{key:"renderMultipleDetails",value:function(){return this.multipleTemplate()}},{key:"deleteAllSelected",value:function(){this.store.uistate.current_modal="DELETE_ALL_SELECTED"}},{key:"render",value:function(){var e=this,t=this.store.uistate,n=this.store.tasks,r=n.selected.length>1,a=!r&&n.selected[0],o=t.task_details_open,i=this.store.uistate.get_sidebar_width-475+"px",s="auto";return"table"==t.active_view&&(i="auto",s="-516px"),t.is_mobile?_react2.default.createElement(MobileContainer,null,_react2.default.createElement("div",{className:this.props.className?this.props.className:["sidebar-3 task-details",o?"active":"","table"==t.active_view?"tableview":"",t.is_mobile?"mobile":""].join(" "),style:{left:i,right:s}},o&&r&&this.renderMultipleDetails(),o&&!r&&a&&this.renderDetails())):_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{ref:function(t){return e.node=t},className:this.props.className?this.props.className:["sidebar-3 task-details",o?"active":"","table"==t.active_view?"tableview":"",t.is_mobile?"mobile":""].join(" "),style:{left:i,right:s}},o&&r&&this.renderMultipleDetails(),o&&!r&&a&&this.renderDetails()),this.store.tasks.selected_stack.map((function(n,r){return"table"==t.active_view?_react2.default.createElement("div",{className:e.props.className?e.props.className:["sidebar-3 task-details",o?"active":"","table"==t.active_view?"tableview":"",t.is_mobile?"mobile":""].join(" "),style:{left:i,right:Number(s.replace("px",""))+10*(r+1)+"px",zIndex:Number(1002-r)}}):_react2.default.createElement("div",{className:e.props.className?e.props.className:["sidebar-3 task-details",o?"active":"","table"==t.active_view?"tableview":"",t.is_mobile?"mobile":""].join(" "),style:{left:Number(i.replace("px",""))+10*(r+1)+"px",zIndex:Number(1005-r)}})})))}},{key:"followTask",value:function(e){if("standalone"!=this.store.user.type)return new Promise((function(e,t){e()}));var t=this.store.tasks.selected[0];t.get_users&&t.get_users.length>0&&t.get_users.forEach((function(t){t&&t.user_id&&e.push(t.user_id)})),e.push(this.store.user.id),t.followers=t.followers||[];for(var n=0;n<e.length;n++)t.followers.indexOf(e[n])<0&&t.followers.push(e[n]);return t.save()}},{key:"addComment",value:function(e,t){var n=this;if(""!=e.trim()){for(var r=[],a=e.split(/@\[.+\]\((user:)([^\)]+)\)/g),o=0;o<a.length-1;o++)"user:"===a[o]&&r.push(a[o+1]);this.followTask(r).then((function(){n.store.comments.create({message:e,user_id:"standalone"==n.store.user.type?n.store.user.id:n.store.user.asana_account.id,datetime:new Date}).then((function(){t.scroll(0,1e6)}))})),this.store.uistate.trackAnalytics("Task:Comment:Add",{view:this.store.uistate.active_view})}}},{key:"deleteComment",value:function(e){confirm("Are you sure? This can't be undone")&&("standalone"==this.store.user.type?e.save({deleted:!0}).then((function(){e.destroy()})):e.destroy(),this.store.uistate.trackAnalytics("Task:Comment:Delete",{view:this.store.uistate.active_view}))}},{key:"handleNewCommentChange",value:function(e){e.target.value[e.target.value.length-1],this.new_comment=e.target.value}},{key:"handleCommentKeyDown",value:function(e){(e.ctrlKey||e.metaKey)&&"Enter"==e.key&&(this.addComment(this.new_comment,this.inner_content),this.new_comment="")}},{key:"handleCreateSubtask",value:function(e){this.store.uistate;var t=this.store.tasks;t.selected.length,!(t.selected.length>1)&&t.selected[0],13==e.keyCode&&this.handleCreateSubtaskAction()}},{key:"handleCreateSubtaskAction",value:function(e){this.store.uistate;var t=this.store.tasks,n=(t.selected.length,!(t.selected.length>1)&&t.selected[0]),r=this.new_subtask_ref.value;if(""==r)return!1;var a=0;n.sorted_childrens.length>0&&(a=n.sorted_childrens[n.sorted_childrens.length-1].local_priority+.01),n.setCollapsed(!1);var o={name:r,parent:{id:n.id},completed:"",start:"",due:"",parent_priority_heading:n.get_parent_priority_heading,priority_heading_id:n.priority_heading_id,local_priority:a,tags:[],assignee:"",user:"",project_priority:n.project_priority,projects:n.projects};if(n.raw_childrens_models&&n.raw_childrens_models[n.raw_childrens_models.length-1]&&(o.insert_after=n.raw_childrens_models[n.raw_childrens_models.length-1].id),o.insert_after||(o.insert_after="null"),store.tasks.filters.tags.length>0&&"tag"==store.tasks.filters.tag_type){var i=store.tasks.tags.filter((function(e){return e.name==store.tasks.filters.tags[0]}));i&&(o.tags=[i[0]])}if(n.custom_priority&&n.custom_priority._status&&(o.custom_priority={_status:Number(n.custom_priority._status)+.01}),store.tasks.filters.tags.length>0&&"user"==store.tasks.filters.tag_type){var s=store.users.get(store.tasks.filters.tags[0]);s&&(o.user=s.getAttributes(),o.assignee=store.tasks.filters.tags[0])}if(store.tasks.active_filters.assignee&&store.tasks.active_filters.assignee.selected[0]&&store.tasks.active_filters.assignee.selected[0].id){var l=store.users.get(store.tasks.active_filters.assignee.selected[0].id);l&&(o.user=l.getAttributes(),o.assignee=l.id)}if(store.tasks.active_filters.tags&&store.tasks.active_filters.tags.selected[0]&&store.tasks.active_filters.tags.selected[0].id){var c=store.tags.get(store.tasks.active_filters.tags.selected[0].id);c||(c=store.tasks.tags.filter((function(e){return e.id==store.tasks.active_filters.tags.selected[0].id}))[0]),c&&(o.tags=[{id:c.id,name:c.name}])}if(this.store.user.type&&"standalone"==this.store.user.type&&(o.projects=[{id:n.projects[0].id}]),o.projects&&o.projects[0]&&o.projects[0].id&&(o.project_id=o.projects[0].id),n.custom_fields._status&&"status"==this.store.uistate.board_settings.group_by)if(o.custom_fields={_status:n.custom_fields._status},0==n.raw_childrens_count)o.custom_priority={_status:Number(n.custom_priority._status)+.01};else{var u=n.raw_childrens_models[n.raw_childrens_models.length-1];o.custom_priority={_status:Number(u.custom_priority._status)+.01}}n.store.create(o).then((function(e){if(n.store.saveLocalPositions(null,{trigger_model:n}),"group"==store.projects.selected.type){var t=store.tasks.get(e.id);t&&(console.log("found model, setting project priority"),t.project_priority=n.project_priority)}})),this.new_subtask_ref.value="",this.new_subtask_ref.focus(),this.store.uistate.is_mobile&&this.store.uistate.mobileMessage("Subtask created")}},{key:"isUnreadBackground",value:function(e){var t=this.store.tasks.selected[0],n=this.store.user,r=t.previous_last_read?t.previous_last_read:t.last_read;return"standalone"==this.store.user.type&&t?r&&r[n.id]?moment(1e3*r[n.id])<moment(e.datetime.seconds?1e3*e.datetime.seconds:e.datetime)?"yellow":void 0:r[n.id]?"transparent":"yellow":"transparent"}}]),TaskDetails}(_react.Component),_descriptor=_applyDecoratedDescriptor(_class2.prototype,"tags_visible",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"show_task_options",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor3=_applyDecoratedDescriptor(_class2.prototype,"autolink_expanded",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor4=_applyDecoratedDescriptor(_class2.prototype,"make_group",[_mobx.observable],{enumerable:!0,initializer:function(){return{visibility:!1,title:"",loading:!1}}}),_descriptor5=_applyDecoratedDescriptor(_class2.prototype,"editing_notes",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor6=_applyDecoratedDescriptor(_class2.prototype,"loading_files",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor7=_applyDecoratedDescriptor(_class2.prototype,"file_upload_visible",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_descriptor8=_applyDecoratedDescriptor(_class2.prototype,"new_comment",[_mobx.observable],{enumerable:!0,initializer:function(){return""}}),_descriptor9=_applyDecoratedDescriptor(_class2.prototype,"new_subtask_focus",[_mobx.observable],{enumerable:!0,initializer:function(){return!1}}),_applyDecoratedDescriptor(_class2.prototype,"closeWindow",[_mobx.action],Object.getOwnPropertyDescriptor(_class2.prototype,"closeWindow"),_class2.prototype),_class=_class2))||_class;exports.default=TaskDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.options=options,exports.base=base,exports.priority=priority,exports.project=project,exports.multiple=multiple;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_mobx=__webpack_require__(3),_utils=__webpack_require__(9),Utils=_interopRequireWildcard(_utils),_field=__webpack_require__(115),_field2=_interopRequireDefault(_field),_upload=__webpack_require__(300),_upload2=_interopRequireDefault(_upload),_reactTippy=__webpack_require__(63),_donut=__webpack_require__(151),_donut2=_interopRequireDefault(_donut),_priority_options=__webpack_require__(109),_priority_options2=_interopRequireDefault(_priority_options),_risk_options=__webpack_require__(110),_risk_options2=_interopRequireDefault(_risk_options),_popup=__webpack_require__(95),_popup2=_interopRequireDefault(_popup),_reactTextareaAutosize=__webpack_require__(410),_reactTextareaAutosize2=_interopRequireDefault(_reactTextareaAutosize),_reactMentions=__webpack_require__(258),_mentions=__webpack_require__(237),_mentions2=_interopRequireDefault(_mentions),_dates=__webpack_require__(607),_dates2=_interopRequireDefault(_dates),_html=__webpack_require__(609),_html2=_interopRequireDefault(_html),_xss=__webpack_require__(619),_xss2=_interopRequireDefault(_xss),_styles=__webpack_require__(623),_styles2=_interopRequireDefault(_styles);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var filetypes={xls:"file-excel",xlsx:"file-excel",calc:"file-excel",doc:"file-word",docx:"file-word",pdf:"file-pdf",png:"file-image",svg:"file-image",jpeg:"file-image",jpg:"file-image",gif:"file-image",ppt:"file-powerpoint",pptx:"file-powerpoint"},getExtension=function(e){var t=e.split("."),n=t[t.length-1];return filetypes[n]?filetypes[n]:"file"};function options(){var e=this.store.uistate,t=this.store.tasks,n=!(t.selected.length>1)&&t.selected[0];return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("li",null,_react2.default.createElement("a",{href:"javascript:void(0)",className:"dropdown-toggle","data-toggle":"dropdown",onClick:function(){return n.duplicateTask()}},_react2.default.createElement("i",{className:"fa fa-fw fa-clone"})," Duplicate task")),n.predecessor_ids&&"object"==_typeof(n.predecessor_ids)&&n.predecessor_ids.length>0&&!e.is_mobile&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("li",{className:"divider"}),_react2.default.createElement("li",{className:"dropdown-submenu"},_react2.default.createElement("a",{href:"javascript:void(0)",tabIndex:-1},"Unlink from"),_react2.default.createElement("ul",{className:"dropdown-menu"},n.predecessor_ids.map((function(e){return _react2.default.createElement("li",null,_react2.default.createElement("a",{href:"javascript:void(0);",className:"unlink-parent","data-parent":e,onClick:function(){return n.deleteLeftDependency(e)}},"Unlink from ",n.store.get(e).name))})),_react2.default.createElement("li",null,_react2.default.createElement("a",{onClick:function(){return n.deleteLeftDependency("0")},className:"unlink-parent","data-parent":"0"},"Unlink from all"))))))}function base(){var _this=this,uistate=this.store.uistate,tasks=this.store.tasks,is_active=tasks.selected.length>0,comments=this.store.comments.filtered,multi_select=tasks.selected.length>1,active_task=!multi_select&&tasks.selected[0],users_info={};this.store.users.filtered.forEach((function(e){users_info[e.id]=e,e.user_id&&(users_info[e.user_id]=e)}));var cant_change_parent=-1==["group","project"].indexOf(this.store.projects.selected.type)||"team"==this.store.projects.selected.subtype||"inbox"==this.store.uistate.active_view,button_completion_class=eval(active_task.completed)?"btn-primary":"btn-success",button_completion_title=eval(active_task.completed)?"Mark as pending":"Mark as done";return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"title",style:{display:"flex"}},_react2.default.createElement("div",{className:"title-inner",style:{flexGrow:1}},_react2.default.createElement("button",{onClick:this.toggleCompleted,className:["btn-small btn btn-flat",button_completion_class].join(" ")},button_completion_title)),_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Outdent",position:"bottom",size:"small"},_react2.default.createElement("div",{className:["dropdown",_styles2.default.toolbar_action].join(" "),onClick:function(){return _this.outdent()}},_react2.default.createElement("i",{className:["fal fa-outdent fa-fw"].join(" ")}))),_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Indent",position:"bottom",size:"small"},_react2.default.createElement("div",{className:["dropdown",_styles2.default.toolbar_action].join(" "),onClick:function(){return _this.indent()}},_react2.default.createElement("i",{className:["fal fa-indent fa-fw"].join(" ")}))),_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Color",position:"bottom",size:"small"},_react2.default.createElement("div",{className:["dropdown",_styles2.default.toolbar_action].join(" ")},_react2.default.createElement("div",{href:"javascript:void(0)",className:"dropdown-toggle","data-toggle":"dropdown"},_react2.default.createElement("i",{className:["fa-colored fa-palette fa-fw",active_task.color?active_task.color+" fas":"fal"].join(" ")})),_react2.default.createElement("ul",{className:"dropdown-menu",style:{fontSize:"12px"}},_react2.default.createElement("li",null,_react2.default.createElement("a",{href:"javascript:void(0);","data-color":"",className:"set-color",onClick:this.setColor},"Default",_react2.default.createElement("div",{className:"muted"},_react2.default.createElement("div",{onClick:this.setColor,className:"color-box-mini color-ontime pull-left"})," On time ",_react2.default.createElement("div",{className:"clearfix"}),_react2.default.createElement("div",{onClick:this.setColor,className:"color-box-mini color-overdue pull-left"})," Overdue ",_react2.default.createElement("div",{className:"clearfix"}),_react2.default.createElement("div",{onClick:this.setColor,className:"color-box-mini color-completed pull-left"})," Completed ",_react2.default.createElement("div",{className:"clearfix"})))),_react2.default.createElement("li",{className:"divider"}),_react2.default.createElement("li",{style:{paddingLeft:"10px"}},uistate.available_colors.map((function(e){return _react2.default.createElement("div",{onClick:_this.setColor,className:["pull-left color-box set-color",e].join(" "),"data-color":e})})))))),_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:active_task.is_milestone?"Convert to Task":"Convert to Milestone",position:"bottom",size:"small"},_react2.default.createElement("div",{className:["dropdown",_styles2.default.toolbar_action].join(" "),onClick:this.convertType},_react2.default.createElement("i",{className:["fa-diamond fa-fw",active_task.is_milestone?"fas":"fal"].join(" "),style:{color:active_task.is_milestone?"#008ACA":active_task.sorted_childrens.length>0?"#cccccc":"inherit"}}))),_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Tags",position:"bottom",size:"small"},_react2.default.createElement("div",{className:_styles2.default.toolbar_action,onClick:this.toggleAddTagVisibility},_react2.default.createElement("i",{className:"fal fa-tags fa-fw"}))),"standalone"!=this.store.projects.selected.supplier&&_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Open in Asana",position:"bottom",size:"small"},_react2.default.createElement("div",{className:_styles2.default.toolbar_action},_react2.default.createElement("a",{href:["https://app.asana.com/0/",active_task.id,"/",active_task.id].join(""),target:"_blank"},_react2.default.createElement("img",{src:"/img/asana-new-icon.png",style:{marginTop:"-2px",width:"12px"}})))),_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Delete",position:"bottom",size:"small"},_react2.default.createElement("div",{className:_styles2.default.toolbar_action,onClick:function(){confirm('Are you sure you want to delete "'+active_task.name+'"?')&&active_task.delete_active()}},_react2.default.createElement("i",{className:"fal fa-trash fa-fw"}))),_react2.default.createElement("div",{className:["dropdown",_styles2.default.toolbar_action].join(" ")},_react2.default.createElement("a",{href:"javascript:void(0)",className:"dropdown-toggle","data-toggle":"dropdown",style:{fontSize:"18px",color:"#333",cursor:"pointer"},onClick:function(){uistate.is_mobile&&(_this.show_task_options=!0)}},_react2.default.createElement("i",{className:"fal fa-ellipsis-h fa-fw"})),!uistate.is_mobile&&_react2.default.createElement("ul",{className:"dropdown-menu",style:{fontSize:"12px",marginLeft:"-100px",position:"absolute",background:"#fff",boxShadow:"0 0 5px rgba(0,0,0,0.2)",borderRadius:"5px"},role:"menu"},this.optionsTemplate()),uistate.is_mobile&&this.show_task_options&&_react2.default.createElement(_popup2.default,{title:"Task options",onClose:function(){return _this.show_task_options=!1}},_react2.default.createElement("ul",{class:"unstyled mobile-menu",onClick:function(){return _this.show_task_options=!1}},this.optionsTemplate()))),_react2.default.createElement("div",{className:_styles2.default.toolbar_action},_react2.default.createElement("i",{onClick:this.closeWindow,className:"fas fa-times"})),_react2.default.createElement("div",{style:{clear:"both"}})),_react2.default.createElement("div",{className:"inner-content",ref:function(e){return _this.inner_content=e}},_react2.default.createElement("div",{className:"parent-info",style:{fontSize:"10px",padding:"10px 0 0 20px"}},active_task.projects&&active_task.projects.length>0&&"standalone"!=this.store.projects.selected.supplier&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:"muted project-name pull-left"},"On ",active_task.projects.map((function(e){return e.name})).join(", "),"  "),_react2.default.createElement("div",{className:"muted project-name pull-left"},_react2.default.createElement("i",{className:"fa fa-caret-right"}),"  ")),!cant_change_parent&&active_task.parent&&""!=active_task.parent&&_react2.default.createElement(_field2.default,{tasks:tasks,editorClassName:"parent-editor",className:"parent-name cell cell-editable sglclick","data-type":"parent","data-attribute":"parent",parents:this.fillParents()},active_task.store.get(active_task.parent.id).name),!cant_change_parent&&!active_task.parent&&0!=active_task.priority_heading_id&&_react2.default.createElement(_field2.default,{tasks:tasks,editorClassName:"parent-editor",className:"parent-name cell cell-editable sglclick","data-type":"parent","data-attribute":"parent",parents:this.fillParents()},active_task.store.get(active_task.priority_heading_id).name),!cant_change_parent&&!active_task.parent&&(!active_task.priority_heading_id||"0"==active_task.priority_heading_id)&&_react2.default.createElement(_field2.default,{tasks:tasks,editorClassName:"parent-editor",className:"parent-name cell cell-editable sglclick","data-type":"parent","data-attribute":"parent",parents:this.fillParents()},"(No parent task)"),cant_change_parent&&_react2.default.createElement("span",null)),_react2.default.createElement("div",{className:"clearfix"}),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"task-name-info",style:{marginTop:0}},_react2.default.createElement("h4",null,_react2.default.createElement(_field2.default,{tasks:tasks,className:"cell cell-editable sglclick","data-attribute":"name","data-type":"text"},tasks.selected[0].name," ",_react2.default.createElement("i",{className:"fa fa-pen fa-fw",style:{fontSize:"12px",verticalAlign:"middle",marginTop:"-5px"}})),_react2.default.createElement("div",{className:"clearfix"})))),_react2.default.createElement("div",{style:{display:"flex",fontSize:"12px"}},_react2.default.createElement("div",{className:"donut-container dropdown"},_react2.default.createElement("span",{style:{cursor:"pointer"},className:"dropdown-toggle","data-toggle":"dropdown"},_react2.default.createElement(_donut2.default,{value:parseInt(active_task.calculated_progress||0),strokewidth:6,size:35,valuelabel:""})),0==active_task.raw_childrens_count&&_react2.default.createElement("ul",{className:"dropdown-menu"},uistate.available_progress.map((function(e){return _react2.default.createElement("li",null,_react2.default.createElement("a",{onClick:_this.setProgress,href:"javascript:void(0);",className:"set-progress","data-progress":e},e))}))),active_task.raw_childrens_count>0&&_react2.default.createElement("ul",{className:"dropdown-menu"},_react2.default.createElement("li",null,_react2.default.createElement("a",{href:"javascript:void(0);"},_react2.default.createElement("b",null,"This task has subtasks"),_react2.default.createElement("br",null),"Progress is automatically calculated ",_react2.default.createElement("br",null),"based on its subtasks")))),_react2.default.createElement("div",{className:"main-field-container"},_react2.default.createElement("div",{className:"field-title"},_react2.default.createElement("div",{className:"pull-left",style:{marginRight:"10px"}},_react2.default.createElement("i",{className:"fa fa-user fa-fw"})," Assignee"),_react2.default.createElement("div",{className:"pull-left dropdown"},_react2.default.createElement("span",{style:{cursor:"pointer"},className:"dropdown-toggle","data-toggle":"dropdown"},_react2.default.createElement("i",{className:"fas fa-ellipsis-h"})),_react2.default.createElement("ul",{className:"dropdown-menu",style:{fontSize:"11px"}},_react2.default.createElement("li",null,_react2.default.createElement("a",{href:"javascript:void(0)",onClick:this.unassign},"Unassign")))),_react2.default.createElement("div",{className:"clearfix"})),_react2.default.createElement(_field2.default,{tasks:tasks,className:"cell field-assignee cell-editable sglclick","data-type":"assignee"},"standalone"==this.store.user.type&&_react2.default.createElement("span",null,active_task.get_users_names||"Unassigned"),"standalone"!=this.store.user.type&&_react2.default.createElement("span",null,active_task.get_user&&active_task.get_user.name?active_task.get_user.name:"Unassigned"),_react2.default.createElement("div",{className:"clearfix"}))),_react2.default.createElement("div",_defineProperty({style:{flexGrow:1},className:"main-field-container"},"style",{width:"210px"}),_react2.default.createElement("div",{className:"field-title"},_react2.default.createElement("div",{className:"pull-left",style:{marginRight:"10px"}},_react2.default.createElement("i",{className:"fa fa-calendar fa-fw"})," Dates"),_react2.default.createElement("div",{className:"pull-left dropdown"},_react2.default.createElement("span",{style:{cursor:"pointer"},className:"dropdown-toggle","data-toggle":"dropdown"},_react2.default.createElement("i",{className:"fas fa-ellipsis-h"})),_react2.default.createElement("ul",{className:"dropdown-menu",style:{fontSize:"11px"}},_react2.default.createElement("li",null,_react2.default.createElement("a",{href:"#",onClick:this.lockDates},_react2.default.createElement("i",{className:["fa fa-fw",active_task.locked?"fa-lock":"fa-unlock-alt"].join(" ")})," ",active_task.locked?"Unlock":"Lock"),_react2.default.createElement("a",{href:"#",onClick:this.removeDates},_react2.default.createElement("i",{className:"fa-fw far fa-trash-alt"})," Remove dates")))),_react2.default.createElement("div",{className:"clearfix"})),active_task.locked&&_react2.default.createElement("i",{className:"pull-left fa fa-fw fa-lock",style:{color:"#ef410b",paddingTop:"3px",marginRight:"3px"}}),this.store.uistate.is_mobile&&_react2.default.createElement(_react2.default.Fragment,null,(""==active_task.start||""==active_task.due)&&!(active_task.container&&active_task.container.start)&&_react2.default.createElement(_dates2.default,_extends({task:active_task,className:"cell cell-editable sglclick"},0!=active_task.filtered_childrens_count?{editable:!1}:{}),"Not scheduled"),""!=active_task.start&&""!=active_task.due&&!active_task.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_dates2.default,_extends({task:active_task,className:"cell cell-editable sglclick"},0!=active_task.filtered_childrens_count?{editable:!1}:{}),active_task.start==active_task.due?moment(active_task.due).format("DD MMM YYYY"):moment(active_task.start).format("DD MMM YYYY")+" to "+moment(active_task.due).format("DD MMM YYYY"))),""!=active_task.start&&""!=active_task.due&&active_task.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_dates2.default,_extends({task:active_task,className:"cell cell-editable sglclick"},0!=active_task.filtered_childrens_count?{editable:!1}:{}),moment(active_task.due).format("DD MMM YYYY"))),""==active_task.start&&""==active_task.due&&active_task.container&&active_task.container.start&&_react2.default.createElement(_dates2.default,_extends({task:active_task,className:"cell cell-editable sglclick"},0!=active_task.filtered_childrens_count?{editable:!1}:{}),active_task.container.start==active_task.container.due?moment(active_task.container.due).format("DD MMM YYYY"):moment(active_task.container.start).format("DD MMM YYYY")+" to "+moment(active_task.container.due).format("DD MMM YYYY"))),!this.store.uistate.is_mobile&&_react2.default.createElement(_react2.default.Fragment,null,(""==active_task.start||""==active_task.due)&&!(active_task.container&&active_task.container.start)&&_react2.default.createElement(_field2.default,_extends({tasks:tasks,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},0!=active_task.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),"Not scheduled"),""!=active_task.start&&""!=active_task.due&&!active_task.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,_extends({tasks:tasks,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},0!=active_task.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),active_task.start==active_task.due?moment(active_task.due).format("DD MMM YYYY"):moment(active_task.start).format("DD MMM YYYY")+" to "+moment(active_task.due).format("DD MMM YYYY"))),""!=active_task.start&&""!=active_task.due&&active_task.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,{tasks:tasks,className:"cell cell-editable sglclick","data-attribute":"start","data-type":"date"},moment(active_task.due).format("DD MMM YYYY"))),""==active_task.start&&""==active_task.due&&active_task.container&&active_task.container.start&&_react2.default.createElement(_field2.default,_extends({tasks:tasks,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},0!=active_task.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),active_task.container.start==active_task.container.due?moment(active_task.container.due).format("DD MMM YYYY"):moment(active_task.container.start).format("DD MMM YYYY")+" to "+moment(active_task.container.due).format("DD MMM YYYY"))))),_react2.default.createElement("div",{className:"mini-fields-container"},_react2.default.createElement("div",{style:{display:"flex",textAlign:"center"}},_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Estimated Hours",position:"top",size:"small"},"EH")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=active_task.get_estimated_hours.estimated_hours?active_task.get_estimated_hours.estimated_hours+"h":"-",className:"cell cell-editable sglclick field-mini","data-attribute":"estimated_hours","data-type":"number"},active_task.get_estimated_hours.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip","data-placement":"right",title:"This is a summary cell","data-trigger":"click"})),_react2.default.createElement("div",null)),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Actual Hours",position:"top",size:"small"},"AH")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=active_task.get_actual_hours.actual_hours?active_task.get_actual_hours.actual_hours+"h":"-",className:"cell cell-editable sglclick field-mini","data-attribute":"actual_hours","data-type":"number"},active_task.get_actual_hours.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Estimated Cost",position:"top",size:"small"},"EC")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=tasks.selected[0].get_total_estimated_cost.estimated_cost?(store.projectsettings.getSetting("currency")||"$")+Number(tasks.selected[0].get_total_estimated_cost.estimated_cost).money(2,3,".",","):"-",className:"cell cell-editable sglclick field-mini","data-attribute":"estimated_cost","data-type":"compound_cost","data-variable-attribute":tasks.selected[0].get_variable_estimated_cost.estimated_cost,"data-total-attribute":tasks.selected[0].get_total_estimated_cost.estimated_cost},tasks.selected[0].get_estimated_cost.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Actual Cost",position:"top",size:"small"},"AC")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=tasks.selected[0].get_total_actual_cost.actual_cost?(store.projectsettings.getSetting("currency")||"$")+Number(tasks.selected[0].get_total_actual_cost.actual_cost).money(2,3,".",","):"-",className:"cell cell-editable sglclick field-mini","data-attribute":"actual_cost","data-type":"compound_cost","data-variable-attribute":tasks.selected[0].get_variable_actual_cost.actual_cost,"data-total-attribute":tasks.selected[0].get_total_actual_cost.actual_cost},tasks.selected[0].get_actual_cost.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Priority",position:"top",size:"small"},"PR")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=active_task.get_priority.priority?active_task.get_priority.priority:"-",className:"cell sglclick field-mini","data-attribute":"priority_user","data-type":"dropdown",options:_priority_options2.default},active_task.get_priority.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Risk",position:"top",size:"small"},"RI")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=active_task.get_risk.risk?active_task.get_risk.risk:"-",className:"cell sglclick field-mini","data-attribute":"risk","data-type":"dropdown",options:_risk_options2.default},active_task.get_risk.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))))),""!=active_task.get_estimated_hours.estimated_hours&&0!==active_task.get_estimated_hours.estimated_hours&&_react2.default.createElement("div",{style:{padding:"0 30px",fontSize:"10px",color:"#4F677F",marginTop:"-5px",marginBottom:"5px"}},"Estimated hours:  ",_react2.default.createElement("span",null,uistate.skip_weekends&&""!=active_task.start&&""!=active_task.due&&_react2.default.createElement("span",null,_react2.default.createElement("b",null,(Number(active_task.get_estimated_hours.estimated_hours)/Number(Utils.workingDaysLength(moment(active_task.start).toDate(),moment(active_task.due).toDate(),active_task.get_users_ids)+1)).toPrecision(3))," hours per day"),!uistate.skip_weekends&&""!=active_task.start&&""!=active_task.due&&_react2.default.createElement("span",null,_react2.default.createElement("b",null,(Number(active_task.get_estimated_hours.estimated_hours)/Number(Utils.daysDiff(moment(active_task.due),moment(active_task.start))+1)).toPrecision(3))," hours per day"))),_react2.default.createElement("table",{className:"table task-name"},_react2.default.createElement("tbody",null,"standalone"!=store.user.type&&active_task.predecessor_ids&&active_task.predecessor_ids.length>0&&_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-random fa-fw"})),_react2.default.createElement("td",{style:{position:"relative"}},_react2.default.createElement("a",{href:"javascript:void(0);","data-target":"","data-toggle":"dropdown"},"Unlink from predecessor ",_react2.default.createElement("span",{className:"caret"})),_react2.default.createElement("ul",{className:"dropdown-menu"},active_task.predecessor_ids.map((function(e){return _react2.default.createElement("li",null,_react2.default.createElement("a",{href:"javascript:void(0);",className:"unlink-parent","data-parent":e,onClick:function(){return active_task.deleteLeftDependency(e)}},"Unlink from ",active_task.store.get(e).name))})),_react2.default.createElement("li",null,_react2.default.createElement("a",{onClick:function(){return active_task.deleteLeftDependency("0")},className:"unlink-parent","data-parent":"0"},"Unlink from all"))))),"standalone"==store.user.type&&active_task.predecessor_ids&&active_task.predecessor_ids.length>0&&_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-random fa-fw"})),_react2.default.createElement("td",{style:{position:"relative",display:"flex"}},_react2.default.createElement("div",{style:{flexGrow:1}},"Depends on ",_react2.default.createElement("b",null,active_task.predecessor_ids.length)," task",active_task.predecessor_ids.length>1?"s":""),_react2.default.createElement("div",null,_react2.default.createElement("button",{className:"btn btn-small btn-info btn-flat",onClick:function(){return _this.dependenciesModal()}},"Manage")))),_react2.default.createElement("tr",{className:"add-subtask-container"},_react2.default.createElement("td",{style:{width:"44px",textAlign:"center"}},_react2.default.createElement("i",{className:"fal fa-tasks"})),_react2.default.createElement("td",null,store.uistate.is_mobile&&_react2.default.createElement("span",{style:{color:"#999"},onClick:function(){return _this.new_subtask_focus=!0}},"New subtask..."),!store.uistate.is_mobile&&_react2.default.createElement("input",{style:this.new_subtask_focus?{border:"1px solid #ccc",padding:"3px",margin:"-3px"}:{},onFocus:function(){return _this.new_subtask_focus=!0},onBlur:function(){return _this.new_subtask_focus=!1},type:"text",placeholder:this.new_subtask_focus?"":"New subtask...",onKeyDown:this.handleCreateSubtask,ref:function(e){return _this.new_subtask_ref=e}}),store.uistate.is_mobile&&this.new_subtask_focus&&_react2.default.createElement(_popup2.default,{title:"New subtask",onClose:function(){return _this.new_subtask_focus=!1}},_react2.default.createElement("div",{style:{display:"flex"}},_react2.default.createElement("div",{style:{flexGrow:1,marginRight:"10px"}},_react2.default.createElement("input",{autoFocus:!0,style:this.new_subtask_focus?{border:"1px solid #ccc",padding:"3px",width:"100%",boxSizing:"border-box",height:"30px"}:{},type:"text",placeholder:"New subtask...",onKeyDown:this.handleCreateSubtask,ref:function(e){return _this.new_subtask_ref=e}})),_react2.default.createElement("div",null,_react2.default.createElement("button",{onClick:this.handleCreateSubtaskAction,className:"btn btn-success btn-flat"},"Create")))))),active_task.raw_childrens_count>0&&this.renderSubtasks(),_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-align-left"})),_react2.default.createElement("td",null,!1===this.editing_notes&&""==active_task.notes.trim()&&_react2.default.createElement("span",{className:"placeholder",onClick:function(){return _this.editing_notes=active_task.notes}},"Description"),!1===this.editing_notes&&""!=active_task.notes.trim()&&_react2.default.createElement("p",{className:"notes-content",onClick:function(){return _this.editing_notes=active_task.notes}},active_task.notes.split("\n").map((function(e,t){return _react2.default.createElement("span",{key:t,dangerouslySetInnerHTML:{__html:"<span>"+(0,_xss2.default)((0,_html2.default)(e))+"<br /></span>"}})}))),!1!==this.editing_notes&&_react2.default.createElement("div",{className:"notes-editor"},this.store.uistate.is_mobile&&_react2.default.createElement(_popup2.default,{title:"Notes",onClose:function(){return _this.editing_notes=!1}},_react2.default.createElement("textarea",{autoFocus:!0,ref:function(e){return _this.textarea=e},style:{width:"100%",boxSizing:"border-box",height:"200px",flexGrow:1},value:this.editing_notes,onChange:function(e){return _this.editing_notes=e.target.value}}),_react2.default.createElement("div",{style:{float:"right"}},_react2.default.createElement("button",{className:"btn btn-flat btn-success",onClick:function(e){return _this.saveNotes()}},"Save "))),!this.store.uistate.is_mobile&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("textarea",{autoFocus:!0,ref:function(e){return _this.textarea=e},style:{height:"200px",flexGrow:1},value:this.editing_notes,onChange:function(e){return _this.editing_notes=e.target.value}}),_react2.default.createElement("div",null,_react2.default.createElement("button",{className:"btn btn-flat btn-small btn-success",onClick:function(e){return _this.saveNotes()}},"Save "),"  ",_react2.default.createElement("button",{className:"btn btn-small btn-flat btn-cancel",onClick:function(){return _this.editing_notes=!1}},"Dismiss ")))))),"standalone"==this.store.projects.selected.supplier&&_react2.default.createElement(_react2.default.Fragment,null,this.store.uistate.active_columns.map((function(e){return _react2.default.createElement("tr",{className:""},_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-fw fa-ruler-triangle"})),_react2.default.createElement("td",null,_react2.default.createElement("div",{style:{display:"flex"}},_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("span",{className:"placeholder"},e.name,":")),_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,_extends({tasks:tasks,cf:e,className:["cell cell-editable sglclick","dropdown"==e.type?"cell-editable-dropdown":""].join(" "),value:active_task.decorateCustomField(e,active_task.calculatedCustomField(e.id)),"data-attribute":e.id,"data-type":"text",style:{minWidth:"50px",maxWidth:"100px"}},"dropdown"!=e.type&&"text"!=e.type&&0!=active_task.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))))))}))),"standalone"==this.store.projects.selected.supplier&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("tr",{className:""},_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-fw fa-paperclip"})),_react2.default.createElement("td",null,0==active_task.files.length&&_react2.default.createElement(_upload2.default,{className:"placeholder",save:this.saveFile,task:active_task,store:this.store},"Add files"),active_task.files.length>0&&_react2.default.createElement("div",{className:"cell",style:{paddingLeft:0}},this.loading_files&&_react2.default.createElement("i",{style:{marginLeft:"5px"},className:"fa fa-spin fa-spinner"})),active_task.files.length>0&&_react2.default.createElement("ul",{className:"unstyled",style:{clear:"both",marginTop:""}},active_task.files.map((function(e){return _react2.default.createElement("li",null,_react2.default.createElement("i",{className:"file-item-icon fa fa-fw fa-"+getExtension(e.name)})," ",_react2.default.createElement("a",{className:"file-item-text",href:"/files/"+e.path,target:"_blank"},e.name),_react2.default.createElement("i",{style:{marginRight:"5px",marginTop:"5px",cursor:"pointer",verticalAlign:"middle",float:"right",color:"#a8a8a8"},onClick:function(){return _this.deleteFile(e)},className:"far fa-trash-alt pull-right"}),_react2.default.createElement("div",{className:"clearfix"}))}))),active_task.files.length>0&&_react2.default.createElement(_upload2.default,{className:"placeholder",save:this.saveFile,task:active_task,store:this.store},_react2.default.createElement("div",{className:"pull-left"},_react2.default.createElement("a",{href:"javascript:void(0)",style:{fontSize:"10px"}},"Add files"))),_react2.default.createElement("div",{className:"clearfix"})))),active_task&&this.store.uistate.comments_loading&&_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-comments fa-fw"})),_react2.default.createElement("td",null,_react2.default.createElement("span",{className:"placeholder"},_react2.default.createElement("i",{className:"fa fa-spin fa-spinner"})," Loading comments "))),(active_task.get_tags.length>0||this.tags_visible)&&_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-tags fa-fw"})),_react2.default.createElement("td",{className:"interior"},active_task.get_tags.length>0&&_react2.default.createElement("div",{style:{marginBottom:"5px"}},_react2.default.createElement("button",{style:{marginRight:"5px"},className:"btn btn-flat btn-mini btn-info",onClick:function(){return _this.tags_visible=!_this.tags_visible}},_react2.default.createElement("i",{className:"fa fa-plus"})),active_task.get_tags.map((function(e){return _react2.default.createElement("span",null,_react2.default.createElement("span",{className:"tag label"},e.name," ",_react2.default.createElement("span",{onClick:_this.removeTag,style:{cursor:"pointer",fontSize:"8px",paddingLeft:"5px"},className:"delete-tag","data-tag":e.name},_react2.default.createElement("i",{"data-tag":e.name,onClick:_this.removeTag,className:"fa fa-trash-alt"})))," ")}))),this.tags_visible&&_react2.default.createElement(_field2.default,{onClose:function(){return _this.tags_visible=!1},tasks:tasks,className:"cell cell-editable field-tag sglclick","data-attribute":"tags","data-type":"tags","data-state":"edit"}))),!this.store.uistate.comments_loading&&active_task&&comments.length>0&&comments.map((function(e){return _react2.default.createElement("tr",{className:"comment"},_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("div",{className:"comment-photo"},e.user&&e.user.photo&&e.user.photo.image_60x60&&_react2.default.createElement("a",{href:"#"},_react2.default.createElement("img",{src:e.user.photo.image_60x60,className:"assigned-photo"})),e.user&&(!e.user.photo||!e.user.photo.image_60x60)&&_react2.default.createElement("a",{href:"#"},_react2.default.createElement("i",{style:{fontSize:"16px"},className:"fa fa-user-circle"})),!e.user&&users_info[e.user_id]&&users_info[e.user_id].photo&&_react2.default.createElement("a",{href:"#"},_react2.default.createElement("img",{src:users_info[e.user_id].photo.image_60x60,className:"assigned-photo"})),!e.user&&!users_info[e.user_id]&&_react2.default.createElement("a",{href:"#"},_react2.default.createElement("i",{style:{fontSize:"16px"},className:"fa fa-user-circle"})))),_react2.default.createElement("td",{className:"interior comment-content"},_react2.default.createElement("div",null,e.user&&_react2.default.createElement("span",{style:{fontWeight:"bold",fontSize:"10px"}},e.user.name,":"),!e.user&&users_info[e.user_id]&&_react2.default.createElement("span",{style:{fontWeight:"bold",fontSize:"10px"}},users_info[e.user_id].name,":"),!e.user&&!users_info[e.user_id]&&_react2.default.createElement("span",{style:{fontWeight:"bold",fontSize:"10px"}},"User:"),_react2.default.createElement("div",{style:{float:"right",fontSize:"10px",color:"#AAA",position:"relative",marginLeft:"10px",width:"25px",minHeight:"10px"}},(e.user_id==_this.store.user.id||_this.store.user.asana_account&&e.user&&_this.store.user.asana_account.id==e.user.id)&&_react2.default.createElement("div",null,_react2.default.createElement("a",{href:"javascript:void(0)",className:"dropdown-toggle","data-toggle":"dropdown",style:{fontSize:"16px",color:"#888",cursor:"pointer"}},_react2.default.createElement("i",{className:"fal fa-ellipsis-h"})),_react2.default.createElement("ul",{className:"dropdown-menu",style:{marginLeft:"-85px",position:"absolute",background:"#fff",boxShadow:"0 0 5px rgba(0,0,0,0.2)",borderRadius:"5px",minWidth:"100px"},role:"menu"},_react2.default.createElement("li",null,_react2.default.createElement("a",{href:"#","data-color":"",className:"set-color",onClick:function(){return _this.deleteComment(e)}},"Delete"))))),_react2.default.createElement("div",{style:{float:"right",fontSize:"10px",color:"#AAA",background:_this.isUnreadBackground(e)}},moment(e.datetime.seconds?1e3*e.datetime.seconds:e.datetime).fromNow()," ")),e.html_message&&_react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:(0,_html2.default)(e.html_message)}}),!e.html_message&&_react2.default.createElement("div",null,Utils.replaceUsers(e.message).map((function(e){return _react2.default.createElement("span",null,"user"===e.type&&_react2.default.createElement("strong",null,e.value),"user"!==e.type&&_react2.default.createElement("span",{dangerouslySetInnerHTML:{__html:(0,_xss2.default)((0,_html2.default)(e.value))}}))})))))})),this.store.projects.selected&&_react2.default.createElement("div",{className:"fixed-new-comment"},_react2.default.createElement("div",null,"standalone"==this.store.user.type&&_react2.default.createElement(_reactMentions.MentionsInput,{value:this.new_comment,onChange:this.handleNewCommentChange,onKeyDown:this.handleCommentKeyDown,markup:"@[__display__](__type__:__id__)",placeholder:"Mention people using '@'",classNames:_mentions2.default,style:{suggestions:{top:"auto",bottom:"20px"}}},_react2.default.createElement(_reactMentions.Mention,{trigger:"@",type:"user",classNames:_mentions2.default.metions__mention,data:this.users})),"standalone"!=this.store.user.type&&_react2.default.createElement(_reactMentions.MentionsInput,{value:this.new_comment,onChange:this.handleNewCommentChange,onKeyDown:this.handleCommentKeyDown,markup:"#!$%[__display__]",placeholder:"Add comment...",classNames:_mentions2.default,style:{suggestions:{top:"auto",bottom:"20px"}}},_react2.default.createElement(_reactMentions.Mention,{trigger:"",type:"user",classNames:_mentions2.default.metions__mention,data:[]})),_react2.default.createElement("button",{className:"btn btn-flat btn-info btn-small",style:{float:"right"},onClick:function(e){_this.addComment(_this.new_comment,_this.inner_content),_this.new_comment=""}},"Comment"))))),active_task.tip&&_react2.default.createElement("div",{className:"notes-title",style:{fontSize:"12px",paddingRight:"20px"}},_react2.default.createElement("h4",{className:"cell",style:{padding:0}},"Tip"),_react2.default.createElement("h3",{className:"cell",style:{padding:0,marginBottom:"10px",clear:"both",fontSize:"14px",fontWeight:"600"}},active_task.tip_title),_react2.default.createElement("br",null),_react2.default.createElement("img",{src:"/img/"+active_task.tip,style:{cursor:"pointer",border:"2px solid #008ACA",borderRadius:"3px"},onClick:function(){return _this.store.uistate.current_modal="DRAW_DATES"}}))))}function priority(){var e=this,t=this.store.uistate,n=this.store.tasks,r=(n.selected.length,!(n.selected.length>1)&&n.selected[0]);return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"title",style:{display:"flex"}},_react2.default.createElement("div",{style:{flexGrow:1}}),_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Delete",position:"bottom",size:"small"},_react2.default.createElement("div",{className:_styles2.default.toolbar_action,onClick:function(){confirm("This action will delete all tasks inside. Proceed?")&&r.delete_active()}},_react2.default.createElement("i",{className:"fal fa-trash fa-fw"}))),t.tasks_to_copy.length>0&&_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Paste tasks below (ctrl+v)",position:"bottom",size:"small"},_react2.default.createElement("div",{className:_styles2.default.toolbar_action,onClick:function(){return t.pasteTasks()}},_react2.default.createElement("i",{className:"fal fa-paste fa-fw"}))),_react2.default.createElement("div",{className:_styles2.default.toolbar_action},_react2.default.createElement("i",{onClick:this.closeWindow,className:"fa fa-times"}))),_react2.default.createElement("div",{className:"inner-content"},_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"task-name-info",style:{marginTop:0}},_react2.default.createElement("h4",null,_react2.default.createElement(_field2.default,{tasks:n,className:"cell cell-editable sglclick","data-attribute":"name","data-type":"text"},n.selected[0].name," ",_react2.default.createElement("i",{className:"fa fa-pen fa-fw",style:{fontSize:"12px",verticalAlign:"middle",marginTop:"-5px"}})),_react2.default.createElement("div",{className:"clearfix"})))),_react2.default.createElement("div",{style:{display:"flex",fontSize:"12px"}},_react2.default.createElement("div",{className:"donut-container dropdown"},_react2.default.createElement("span",{style:{cursor:"pointer"},className:"dropdown-toggle","data-toggle":"dropdown"},_react2.default.createElement(_donut2.default,{value:parseInt(r.calculated_progress||0),strokewidth:6,size:35,valuelabel:""})),_react2.default.createElement("ul",{className:"dropdown-menu"},_react2.default.createElement("li",null,_react2.default.createElement("a",{href:"javascript:void(0);"},_react2.default.createElement("b",null,"This is a section"),_react2.default.createElement("br",null),"Sections inherit their progress ",_react2.default.createElement("br",null)," from it's inner tasks.")))),_react2.default.createElement("div",_defineProperty({style:{flexGrow:1},className:"main-field-container"},"style",{width:"210px"}),_react2.default.createElement("div",{className:"field-title"},_react2.default.createElement("div",{className:"pull-left",style:{marginRight:"10px"}},_react2.default.createElement("i",{className:"fa fa-calendar fa-fw"})," Dates"),_react2.default.createElement("div",{className:"pull-left dropdown"},_react2.default.createElement("span",{style:{cursor:"pointer"},className:"dropdown-toggle","data-toggle":"dropdown"},_react2.default.createElement("i",{className:"fas fa-ellipsis-h"})),_react2.default.createElement("ul",{className:"dropdown-menu",style:{fontSize:"11px"}},_react2.default.createElement("li",null,_react2.default.createElement("a",{href:"#",onClick:this.lockDates},_react2.default.createElement("i",{className:["fa fa-fw",r.locked?"fa-lock":"fa-unlock-alt"].join(" ")})," ",r.locked?"Unlock":"Lock"),_react2.default.createElement("a",{href:"#",onClick:this.removeDates},_react2.default.createElement("i",{className:"fa-fw far fa-trash-alt"})," Remove dates")))),_react2.default.createElement("div",{className:"clearfix"})),(""==r.start||""==r.due)&&!(r.container&&r.container.start)&&_react2.default.createElement(_field2.default,_extends({tasks:n,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},r.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),"Not scheduled"),""!=r.start&&""!=r.due&&!r.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,_extends({tasks:n,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},r.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),r.start==r.due?moment(r.due).format("DD MMM YYYY"):moment(r.start).format("DD MMM YYYY")+" to "+moment(r.due).format("DD MMM YYYY"))),""!=r.start&&""!=r.due&&r.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,_extends({tasks:n,className:"cell cell-editable sglclick","data-attribute":"start","data-type":"date"},r.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),moment(r.due).format("DD MMM YYYY"))),""==r.start&&""==r.due&&r.container&&r.container.start&&_react2.default.createElement(_field2.default,_extends({tasks:n,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},r.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),r.container.start==r.container.due?moment(r.container.due).format("DD MMM YYYY"):moment(r.container.start).format("DD MMM YYYY")+" to "+moment(r.container.due).format("DD MMM YYYY")))),_react2.default.createElement("div",{className:"mini-fields-container"},_react2.default.createElement("div",{style:{display:"flex",textAlign:"center"}},_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Estimated Hours",position:"top",size:"small"},"EH")),_react2.default.createElement(_field2.default,_extends({tasks:n,value:""!=r.get_estimated_hours.estimated_hours?r.get_estimated_hours.estimated_hours:"-",className:"cell cell-editable sglclick field-mini","data-attribute":"estimated_hours","data-type":"number"},r.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip","data-placement":"right",title:"This is a summary cell","data-trigger":"click"}:{})),_react2.default.createElement("div",null)),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Actual Hours",position:"top",size:"small"},"AH")),_react2.default.createElement(_field2.default,_extends({tasks:n,value:""!=r.get_actual_hours.actual_hours?r.get_actual_hours.actual_hours+"h":"-",className:"cell cell-editable sglclick field-mini","data-attribute":"actual_hours","data-type":"number"},r.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Estimated Cost",position:"top",size:"small"},"EC")),_react2.default.createElement(_field2.default,_extends({tasks:n,value:""!=r.get_estimated_cost.estimated_cost?"$"+Number(r.get_estimated_cost.estimated_cost).money(2,3,".",","):"-",className:"cell cell-editable sglclick field-mini","data-attribute":"estimated_cost","data-type":"number"},r.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Actual Cost",position:"top",size:"small"},"AC")),_react2.default.createElement(_field2.default,_extends({tasks:n,value:""!=r.get_actual_cost.actual_cost?"$"+Number(r.get_actual_cost.actual_cost).money(2,3,".",","):"-",className:"cell cell-editable sglclick field-mini","data-attribute":"actual_cost","data-type":"number"},r.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Priority",position:"top",size:"small"},"PR")),_react2.default.createElement(_field2.default,_extends({tasks:n,value:""!=r.get_priority.priority?r.get_priority.priority:"-",className:"cell sglclick field-mini","data-attribute":"priority_user","data-type":"dropdown",options:_priority_options2.default},r.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Risk",position:"top",size:"small"},"RI")),_react2.default.createElement(_field2.default,_extends({tasks:n,value:""!=r.get_risk.risk?r.get_risk.risk:"-",className:"cell sglclick field-mini","data-attribute":"risk","data-type":"dropdown",options:_risk_options2.default},r.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))))),_react2.default.createElement("table",{className:"table task-name"},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fas fa-align-left"})),_react2.default.createElement("td",null,!1===this.editing_notes&&""==r.notes.trim()&&_react2.default.createElement("span",{className:"placeholder",onClick:function(){return e.editing_notes=r.notes}},"Description"),!1===this.editing_notes&&""!=r.notes.trim()&&_react2.default.createElement("p",{className:"notes-content",onClick:function(){return e.editing_notes=r.notes}},r.notes.split("\n").map((function(e,t){return _react2.default.createElement("span",{key:t},e,_react2.default.createElement("br",null))}))),!1!==this.editing_notes&&_react2.default.createElement("div",{className:"notes-editor"},this.store.uistate.is_mobile&&_react2.default.createElement(_popup2.default,{title:"notes",onClose:function(){return e.editing_notes=!1}},_react2.default.createElement("textarea",{autoFocus:!0,ref:function(t){return e.textarea=t},style:{width:"100%",boxSizing:"border-box",height:"200px",flexGrow:1},value:this.editing_notes,onChange:function(t){return e.editing_notes=t.target.value}}),_react2.default.createElement("div",{style:{float:"right"}},_react2.default.createElement("button",{className:"btn btn-flat btn-success",onClick:function(t){return e.saveNotes()}},"Save "))),!this.store.uistate.is_mobile&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("textarea",{autoFocus:!0,ref:function(t){return e.textarea=t},style:{height:"200px",flexGrow:1},value:this.editing_notes,onChange:function(t){return e.editing_notes=t.target.value}}),_react2.default.createElement("div",null,_react2.default.createElement("button",{className:"btn btn-flat btn-small btn-success",onClick:function(t){return e.saveNotes()}},"Save "),"  ",_react2.default.createElement("button",{className:"btn btn-small btn-flat btn-cancel",onClick:function(){return e.editing_notes=!1}},"Dismiss ")))))))),r.tip&&_react2.default.createElement("div",{className:"notes-title",style:{fontSize:"12px",paddingRight:"20px"}},_react2.default.createElement("h4",{className:"cell",style:{padding:0}},"Tip"),_react2.default.createElement("h3",{className:"cell",style:{padding:0,marginBottom:"10px",clear:"both",fontSize:"14px",fontWeight:"600"}},r.tip_title),_react2.default.createElement("br",null),_react2.default.createElement("img",{src:"/img/"+r.tip,style:{cursor:"pointer",border:"2px solid #008ACA",borderRadius:"3px"},onClick:function(){return e.store.uistate.current_modal="DRAW_DATES"}}))))}function project(){var e=this.store.uistate,t=this.store.tasks,n=(t.selected.length,!(t.selected.length>1)&&t.selected[0]);return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"title"},_react2.default.createElement("div",{className:"pull-left title-inner"}),_react2.default.createElement("div",{style:{fontSize:"11px",color:"#888",cursor:"pointer",padding:"10px",margin:"-10px"},className:"pull-right"},_react2.default.createElement("i",{onClick:this.closeWindow,className:"fa fa-times"})),_react2.default.createElement("div",{style:{clear:"both"}})),_react2.default.createElement("div",{className:"inner-content"},n.calculated_progress&&"0%"!=n.calculated_progress&&_react2.default.createElement("div",{className:"progress progress-success progress-striped",style:{borderRadius:0,height:"15px",marginBottom:0}},_react2.default.createElement("div",{className:"bar",style:{fontSize:"11px",lineHeight:"13px",fontWeight:"bold",width:n.calculated_progress}},n.calculated_progress)),_react2.default.createElement("table",{className:"table task-name"},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",null,_react2.default.createElement("div",{className:"task-name-info"},_react2.default.createElement("h4",null,t.selected[0].name)))))),_react2.default.createElement("table",{className:"table task-values"},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fa fa-calendar fa-fw"})),_react2.default.createElement("td",{className:"interior"},(""==n.start||""==n.due)&&!(n.container&&n.container.start)&&_react2.default.createElement(_field2.default,_extends({tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},0!=n.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),"Not scheduled"),""!=n.start&&""!=n.due&&!n.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,{tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},n.start==n.due?moment(n.due).format("DD MMM YYYY"):moment(n.start).format("DD MMM YYYY")+" to "+moment(n.due).format("DD MMM YYYY")),_react2.default.createElement("div",{className:"pull-right cell cell-editable",style:{float:"right"}},_react2.default.createElement("a",{href:"javascript:void(0)"},_react2.default.createElement("i",{className:"far fa-trash-alt",onClick:this.removeDates})))),""!=n.start&&""!=n.due&&n.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,{tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-type":"date"},moment(n.due).format("DD MMM YYYY")),_react2.default.createElement("div",{className:"pull-right cell cell-editable",style:{float:"right"}},_react2.default.createElement("i",{className:"fa fa-trash",onClick:this.removeDates}))),""==n.start&&""==n.due&&n.container&&n.container.start&&_react2.default.createElement(_field2.default,_extends({tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},0!=n.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),n.container.start==n.container.due?moment(n.container.due).format("DD MMM YYYY"):moment(n.container.start).format("DD MMM YYYY")+" to "+moment(n.container.due).format("DD MMM YYYY")))),_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fa fa-clock fa-fw"})),_react2.default.createElement("td",{className:"interior"},(""==n.get_estimated_hours.estimated_hours||0==n.get_estimated_hours.estimated_hours)&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,_extends({tasks:t,value:""!=n.get_estimated_hours.estimated_hours?n.get_estimated_hours.estimated_hours:"Estimated hours",className:"cell cell-editable sglclick","data-attribute":"estimated_hours","data-type":"number"},n.get_estimated_hours.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))),""!=n.get_estimated_hours.estimated_hours&&0!=n.get_estimated_hours.estimated_hours&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,_extends({tasks:t,className:"cell cell-editable sglclick","data-attribute":"estimated_hours","data-type":"number"},0!=!n.get_estimated_hours.editable?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),n.get_estimated_hours.estimated_hours&&_react2.default.createElement("div",null,n.get_estimated_hours.estimated_hours," hours  ",e.skip_weekends&&""!=n.start&&""!=n.due&&_react2.default.createElement("span",null,"(",(Number(n.get_estimated_hours.estimated_hours)/Number(Utils.workingDaysLength(moment(n.start).toDate(),moment(n.due).toDate(),n.get_users_ids)+1)).toPrecision(3)," hours per day)"),!e.skip_weekends&&""!=n.start&&""!=n.due&&_react2.default.createElement("span",null,"(",(Number(n.get_estimated_hours.estimated_hours)/Number(Utils.daysDiff(moment(n.due),moment(n.start))+1)).toPrecision(3)," hours per day)")),!n.get_estimated_hours.estimated_hours&&_react2.default.createElement("span",{className:""},"Estimated Hours")),n.raw_childrens_count>0&&n.get_estimated_hours.estimated_hours!=n.calculated_estimated_hours&&_react2.default.createElement("div",{style:{clear:"both"}},_react2.default.createElement("span",{className:"muted"},"Using ",_react2.default.createElement("b",null,"custom value"),". Delete it to use ",_react2.default.createElement("b",null,"sum of childs"),"."))))),_react2.default.createElement("tr",{className:"change-estimated-hours hide"},_react2.default.createElement("td",{className:"interior"}),_react2.default.createElement("td",null,n.get_estimated_hours.editable&&_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"pull-left",id:""},_react2.default.createElement("input",{type:"text",className:"input-estimated-hours",value:n.get_estimated_hours.estimated_hours,style:{width:"25px",padding:"1px 2px",verticalAlign:"baseline"}})," Hours"),_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement("button",{className:"btn btn-small btn-cancel-change-estimated-hours"},"Cancel"),_react2.default.createElement("button",{className:"btn btn-small btn-success btn-save-change-estimated-hours"},"Save")),_react2.default.createElement("div",{className:"clearfix"})),!n.get_estimated_hours.editable&&_react2.default.createElement("span",null,"This is a summary field. Changing it on the subtasks will modify this value")))))))}function multiple(){var e=this,t=this.store.uistate,n=this.store.tasks,r=(n.selected.length,n.selected.length,n.selected[0]),a=[];n.selected.forEach((function(e){var t=e.tags.toJS();a=_.union(a,t)})),a=_.unique(a,!1,(function(e,t,n){return e.id})),n.selected[0].color;var o=1==(o=_.unique(n.selected.map((function(e){return e.get_estimated_hours.estimated_hours})))).length&&""!=o[0]&&o,i=1==(i=_.unique(n.selected.map((function(e){return e.calculated_progress})))).length&&""!=i[0]&&i;return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"title"},_react2.default.createElement("div",{className:"pull-left title-inner"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Outdent",position:"bottom",size:"small"},_react2.default.createElement("div",{className:["dropdown","title-menu"].join(" "),onClick:function(){return e.outdent()}},_react2.default.createElement("i",{className:["fal fa-outdent fa-fw"].join(" ")}))),_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Indent",position:"bottom",size:"small"},_react2.default.createElement("div",{className:["dropdown","title-menu"].join(" "),onClick:function(){return e.indent()}},_react2.default.createElement("i",{className:["fal fa-indent fa-fw"].join(" ")}))),_react2.default.createElement("div",{className:"title-menu dropdown",style:{display:"inline-block"},"data-toggle":"tooltip","data-placement":"bottom",title:"Progress"},_react2.default.createElement("a",{href:"javascript:void(0);",className:"dropdown-toggle","data-toggle":"dropdown"},_react2.default.createElement("i",{className:"fal fa-percent fa-fw"})),_react2.default.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dLabel"},t.available_progress.map((function(t){return _react2.default.createElement("li",null,_react2.default.createElement("a",{onClick:e.setProgress,href:"javascript:void(0);",className:"set-progress","data-progress":t},t))})))),_react2.default.createElement("div",{className:"title-menu image-export",onClick:function(){return t.current_modal="IMAGE_EXPORT"},style:{display:"inline-block"}},_react2.default.createElement("a",{href:"javascript:void(0);",onClick:this.toggleAddTagVisibility},_react2.default.createElement("i",{className:"fal fa-camera fa-fw"}))),_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Delete selected tasks",position:"left",size:"small"},_react2.default.createElement("div",{className:"title-menu dropdown",style:{display:"inline-block"}},_react2.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.deleteAllSelected()}},_react2.default.createElement("i",{className:"fal fa-trash fa-fw"})))),_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Copy selected tasks (ctrl+c)",position:"left",size:"small"},_react2.default.createElement("div",{className:"title-menu dropdown",style:{display:"inline-block"}},_react2.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return t.copyTasks()}},_react2.default.createElement("i",{className:"fal fa-copy fa-fw"}))))),_react2.default.createElement("div",{style:{fontSize:"14px",color:"#333",cursor:"pointer"},className:"pull-right"},_react2.default.createElement("i",{onClick:this.closeWindow,className:"fa fa-times"})),_react2.default.createElement("div",{style:{clear:"both"}})),_react2.default.createElement("div",{className:"inner-content"},i&&"0%"!=i&&_react2.default.createElement("div",{className:"progress progress-success progress-striped",style:{borderRadius:0,height:"15px",marginBottom:0}},_react2.default.createElement("div",{className:"bar",style:{fontSize:"11px",lineHeight:"13px",fontWeight:"bold",width:i}},i)),_react2.default.createElement("h4",{className:"cell multi-select-header"},n.selected.length," tasks selected"),_react2.default.createElement("table",{className:"table task-values task-name"},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-user fa-fw"})),_react2.default.createElement("td",null,_react2.default.createElement("div",{className:"current-user"},_react2.default.createElement(_field2.default,{tasks:n,className:"cell field-assignee cell-editable sglclick","data-type":"assignee"},"Assignee")))),_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-palette fa-fw"})),_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,{tasks:n,className:"cell cell-editable","data-attribute":"color","data-type":"color-picker"})))),_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-home-lg-alt fa-fw"})),_react2.default.createElement("td",null,_react2.default.createElement("div",{className:"parent-info"},-1!=["group","project"].indexOf(this.store.projects.selected.type)&&_react2.default.createElement(_field2.default,{project:this.store.projects.selected,tasks:n,className:"cell cell-editable sglclick","data-type":"parent","data-attribute":"parent",parents:this.fillParents()},"Parent"),-1==["group","project"].indexOf(this.store.projects.selected.type)&&_react2.default.createElement("span",null,"Parent: Can't be changed from a \"User Task's\" view")))),_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-clock fa-fw"})),_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,{tasks:n,className:"cell cell-editable sglclick","data-attribute":"estimated_hours","data-type":"number"},o&&_react2.default.createElement("div",{className:"sglclick"},o," hours"),!o&&_react2.default.createElement("div",{className:"sglclick"},"Estimated hours"))))),"standalone"==this.store.projects.selected.supplier&&_react2.default.createElement(_react2.default.Fragment,null,this.store.uistate.active_columns.map((function(e){return _react2.default.createElement("tr",{className:""},_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-fw fa-ruler-triangle"})),_react2.default.createElement("td",null,_react2.default.createElement("div",{style:{display:"flex"}},_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("span",{className:"placeholder"},e.name,":")),_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,_extends({tasks:n,cf:e,className:["cell cell-editable sglclick","dropdown"==e.type?"cell-editable-dropdown":""].join(" "),value:r.decorateCustomField(e,r.calculatedCustomField(e.id)),"data-attribute":e.id,"data-type":"text",style:{minWidth:"50px"}},"dropdown"!=e.type&&"text"!=e.type&&0!=r.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))))))}))),a.length>0&&_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-tags fa-fw"})),_react2.default.createElement("td",{className:"interior"},a.map((function(t){return _react2.default.createElement("span",null,_react2.default.createElement("span",{className:"tag label"},t.name," ",_react2.default.createElement("span",{onClick:e.removeTag,style:{cursor:"pointer"},className:"delete-tag","data-tag":t.name},_react2.default.createElement("i",{"data-tag":t.name,onClick:e.removeTag,className:"fa fa-times"})))," ")})),_react2.default.createElement(_field2.default,{tasks:n,onClose:function(){return e.tags_visible=!1},className:"cell cell-editable field-tag sglclick","data-attribute":"tags","data-type":"tags"},_react2.default.createElement("i",{className:"fa fa-fw fa-plus"}),"  "))),0==a.length&&_react2.default.createElement("tr",{className:"add-tag-input"},_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-tags fa-fw"})),_react2.default.createElement("td",{className:"interior"},_react2.default.createElement(_field2.default,{tasks:n,onClose:function(){return e.tags_visible=!1},className:"cell cell-editable field-tag sglclick","data-attribute":"tags","data-type":"tags"},"Add tags"))),_react2.default.createElement("tr",{className:""},_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-calendar fa-fw",title:""})),_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("div",null,_react2.default.createElement("button",{className:"btn btn-flat btn-danger btn-mini",onClick:function(){return e.removeDates()}},"Remove dates")))),_react2.default.createElement("tr",{className:"waterfall"+(n.sort_options.sort_by_date?"title-menu":"")},_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-bezier-curve fa-fw",title:""})),_react2.default.createElement("td",{className:"interior"},!this.autolink_expanded&&_react2.default.createElement("div",null,_react2.default.createElement("button",{className:"btn btn-flat btn-info btn-mini",onClick:function(){return e.autolink_expanded=!e.autolink_expanded}},"Autolink selected tasks (Waterfall)"),"  ",_react2.default.createElement("button",{className:"btn btn-flat btn-danger btn-mini",onClick:function(){return e.unlinkSelected()}},"Unlink")),this.autolink_expanded&&_react2.default.createElement("div",{className:"alert alert-info",style:{padding:"5px"}},"Selected tasks will be linked in waterfall order with dependencies",_react2.default.createElement("div",{style:{marginTop:"5px"}},_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement("button",{href:"javascript:void(0);",className:"btn btn-mini btn-flat",onClick:function(){return e.autolink_expanded=!1}},"Cancel")," ",_react2.default.createElement("button",{href:"javascript:void(0);",className:"btn btn-success btn-mini btn-flat",onClick:function(){e.waterfallSelected(),e.autolink_expanded=!1}},"Proceed")),_react2.default.createElement("div",{className:"clearfix"}))))),_react2.default.createElement("tr",{className:"make-group title-menu"},_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fal fa-folder fa-fw",title:""})),_react2.default.createElement("td",{className:"interior"},!this.make_group.visibility&&_react2.default.createElement("div",null,_react2.default.createElement("button",{className:"btn btn-flat btn-info btn-mini",onClick:function(){return e.make_group.visibility=!e.make_group.visibility}},"Group these tasks")),this.make_group.visibility&&!this.make_group.loading&&_react2.default.createElement("div",{className:""},_react2.default.createElement("div",{className:"cell cell-editable editing"},_react2.default.createElement("input",{type:"text",autoFocus:!0,placeholder:"Group name...",className:"input-editable-cell",value:this.make_group.title,onChange:this.handleKeyMakeGroup,onKeyDown:this.handleKeyMakeGroup}))),this.make_group.visibility&&this.make_group.loading&&_react2.default.createElement("div",{className:""},_react2.default.createElement("div",{className:"cell cell-editable editing"},_react2.default.createElement("i",{className:"fa fa-spin fa-spinner"})))))))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),d=(l=u)&&l.__esModule?l:{default:l},f=n(6),p=n(3);function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(56);var g={progressWrapper:{height:"10px",marginTop:"10px",width:"100%",overflow:"hidden",backgroundColor:"#f5f5f5",borderRadius:"2px",WebkitBoxShadow:"inset 0 1px 2px rgba(0,0,0,.1)",boxShadow:"inset 0 1px 2px rgba(0,0,0,.1)",position:"relative"},progressBar:{float:"left",width:"0",height:"100%",fontSize:"12px",lineHeight:"20px",color:"#fff",textAlign:"center",backgroundColor:"rgb(70, 179, 2)",WebkitBoxShadow:"inset 0 -1px 0 rgba(0,0,0,.15)",boxShadow:"inset 0 -1px 0 rgba(0,0,0,.15)",WebkitTransition:"width .6s ease",Otransition:"width .6s ease",transition:"width .6s ease"},cancelButton:{marginTop:"5px",WebkitAppearance:"none",padding:0,cursor:"pointer",background:"0 0",border:0,float:"left",fontSize:"21px",fontWeight:700,lineHeight:1,color:"#000",textShadow:"0 1px 0 #fff",filter:"alpha(opacity=20)",opacity:".2"},bslabel:{display:"inline-block",maxWidth:"100%",marginBottom:"5px",fontWeight:700},bsHelp:{display:"block",marginTop:"5px",marginBottom:"10px",color:"#737373"},bsButton:(r={padding:"1px 5px",fontSize:"12px",lineHeight:"1.5",borderRadius:"3px",color:"#fff",backgroundColor:"#337ab7",borderColor:"#2e6da4",display:"inline-block"},_(r,"padding","6px 12px"),_(r,"marginBottom",0),_(r,"fontWeight",400),_(r,"textAlign","center"),_(r,"whiteSpace","nowrap"),_(r,"verticalAlign","middle"),_(r,"touchAction","manipulation"),_(r,"cursor","pointer"),_(r,"WebkitUserSelect","none"),_(r,"MozUserSelect","none"),_(r,"msUserSelect","none"),_(r,"userSelect","none"),_(r,"backgroundImage","none"),_(r,"border","1px solid transparent"),r)},b=(0,f.observer)((o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h(n,"file_upload_visible",i,n),h(n,"requests",s,n),n.reactions=[],n.store=n.props.store,n.onSubmit=n.onSubmit.bind(n),n.getSignedUrl=n.getSignedUrl.bind(n),window.uploader=n,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"getSignedUrl",value:function(e){var t="/files/workbooks/"+this.props.store.workbooks.selected.id+"/projects/"+this.props.store.projects.selected.id+"/"+e+"?write=1";return fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()}))}},{key:"onSubmit",value:function(){var e,t,n=this;Object.keys(this.files_form.files).forEach((e=regeneratorRuntime.mark((function e(t,r){var a,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=n.files_form.files[t]).size/1024/1024>15)){e.next=5;break}return alert("Files can't be higher than 15MB"),e.abrupt("return");case 5:return n.requests[r]={progress:0,error:!1,file:a},e.next=8,n.getSignedUrl((new Date).getTime()+"_"+a.name);case 8:o=e.sent,(i=new FormData).append("key",o.fields.key),i.append("Content-Type",o.fields["Content-Type"]),i.append("X-Amz-Algorithm",o.fields["X-Amz-Algorithm"]),i.append("X-Amz-Credential",o.fields["X-Amz-Credential"]),i.append("X-Amz-Date",o.fields["X-Amz-Date"]),i.append("X-Amz-Signature",o.fields["X-Amz-Signature"]),i.append("Policy",o.fields.Policy),i.append("file",a),(s=new XMLHttpRequest).open("POST","https://"+o.fields.bucket+".s3.amazonaws.com/",!0),n.requests[r].xhr=s,s.addEventListener("load",(function(e){n.requests[r].progress=100,s.status>=200&&s.status<=299?(n.requests[r].progress=100,a.path=o.fields.key,n.props.save(a)):n.requests[r].error=!0}),!1),s.addEventListener("error",(function(e){n.requests[r].error=!0}),!1),s.upload.addEventListener("progress",(function(e){var t=0;0!==e.total&&(t=parseInt(e.loaded/e.total*100,10)),n.requests[r].progress=t}),!1),s.addEventListener("abort",(function(e){n.requests[r].progress=-1}),!1),s.send(i);case 26:case"end":return e.stop()}}),e,n)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))},function(e,n){return t.apply(this,arguments)}))}},{key:"render",value:function(){var e=this;return d.default.createElement("div",null,d.default.createElement("form",{id:"customForm",style:{marginBottom:"0"}},d.default.createElement("div",{className:["btn-file",this.props.className].join(" "),style:{color:"#008ACA",cursor:"pointer"}},this.props.children||"Add files"," ",d.default.createElement("input",{onChange:this.onSubmit,style:{display:"block"},ref:function(t){return e.files_form=t},placeholder:"",type:"file",name:"file",id:"exampleInputFile",multiple:!0}))),this.requests.filter((function(e){return e.progress<100})).map((function(e){return d.default.createElement("div",{style:g.progressWrapper},d.default.createElement("div",{style:{width:e.progress+"%",backgroundColor:e.error?"red":"rgb(70, 179, 2)",position:"absolute",left:0,top:0,bottom:0}}))})))}}]),t}(),i=m(o.prototype,"file_upload_visible",[p.observable],{enumerable:!0,initializer:function(){return!1}}),s=m(o.prototype,"requests",[p.observable],{enumerable:!0,initializer:function(){return[]}}),a=o))||a;t.default=b},function(e,t,n){var r=n(524),a=n(152),o=n(31),i=n(153),s=n(154),l=n(221),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&a(e),d=!n&&!u&&i(e),f=!n&&!u&&!d&&l(e),p=n||u||d||f,h=p?r(e.length,String):[],m=h.length;for(var _ in e)!t&&!c.call(e,_)||p&&("length"==_||d&&("offset"==_||"parent"==_)||f&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||s(_,m))||h.push(_);return h}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(54))},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(79),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},function(e,t,n){(function(e){var r=n(45),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(220)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(229),a=n(230),o=n(228),i=n(308),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=s},function(e,t,n){var r=n(311),a=n(228),o=n(37);e.exports=function(e){return r(e,o,a)}},function(e,t,n){var r=n(229),a=n(31);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},function(e,t,n){var r=n(311),a=n(309),o=n(118);e.exports=function(e){return r(e,o,a)}},function(e,t,n){var r=n(79)(n(45),"Set");e.exports=r},function(e,t,n){var r=n(45).Uint8Array;e.exports=r},function(e,t,n){var r=n(231);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(576),a=n(230),o=n(223);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},function(e,t,n){var r=n(590),a=n(319),o=n(320);e.exports=function(e){return o(a(e,void 0,r),e+"")}},function(e,t,n){var r=n(229),a=n(591);e.exports=function e(t,n,o,i,s){var l=-1,c=t.length;for(o||(o=a),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,i,s):r(s,u):i||(s[s.length]=u)}return s}},function(e,t,n){var r=n(592),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),l=Array(s);++i<s;)l[i]=o[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=o[i];return c[t]=n(l),r(e,this,c)}}},function(e,t,n){var r=n(593),a=n(595)(r);e.exports=a},function(e,t,n){var r=n(234),a=n(599),o=n(235);e.exports=function(e,t,n,i,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var f=l.get(e),p=l.get(t);if(f&&p)return f==t&&p==e;var h=-1,m=!0,_=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<u;){var g=e[h],b=t[h];if(i)var y=c?i(b,g,h,t,e,l):i(g,b,h,e,t,l);if(void 0!==y){if(y)continue;m=!1;break}if(_){if(!a(t,(function(e,t){if(!o(_,t)&&(g===e||s(g,e,n,i,l)))return _.push(t)}))){m=!1;break}}else if(g!==b&&!s(g,b,n,i,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=d(n(603)),o=n(164),i=d(n(323)),s=n(324),l=n(325),c=d(n(326)),u=d(n(604));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=function(e){var t=e&&(0,o.keys)(e)[0];return t&&t.split("__")[0].split("--")[0]},h=function(e,t,n){if(e){var r=e.split(" ")[0],a=[].concat(f(0===t.length?n.map((function(e){return r+"--"+e.substring(1)})):[]),f(t.map((function(e){return r+"__"+e}))));return 0===t.length?[e].concat(f(a)):a}};t.default=function e(t){var n=t.style,d=t.className,m=t.classNames,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default,g=d||p(m),b="function"==typeof n?n:(0,u.default)((function(t,i){var u=(0,c.default)(t);(0,a.default)(Array.isArray(u),"First parameter must be a string, an array of strings, a plain object with boolean values, or a falsy value."),(0,a.default)(!i||(0,o.isPlainObject)(i),"Optional second parameter must be a plain object.");var d=u.filter(l.isModifier),p=u.filter(l.isElement),b=p.length>0?function(e){return(0,o.values)((0,s.pickNestedStyles)(e,p))}:function(e){return[e]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b((0,s.hoistModifierStylesRecursive)(e,d))},v=h(g,p,d);return e(r({},(n||i)&&{style:o.merge.apply(void 0,[{}].concat(f(y(i)),f(y(n))))},v&&{className:v.join(" ")},m&&{classNames:m}),_)})),y=r({},"function"==typeof n?n:{style:n}),v=[].concat(f(y.className?y.className.split(" "):[]),f(g?g.split(" "):[])),A=m?(0,o.compact)(v.map((function(e){return m[e]}))):v,w=_(r({},y,A.length>0?{className:A.join(" ")}:{}));return(0,o.assign)(b,w),b},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(324),o=["animationName"];t.default=function(e){var t=e.style,n=e.className;return r({},t?{style:(0,a.pickDirectStyles)(t,o)}:{},n?{className:n}:{})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hoistModifierStylesRecursive=t.pickNestedStyles=t.pickDirectStyles=void 0;var r=n(164),a=n(325),o=function(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))},i=(t.pickDirectStyles=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.keys)(e),a={},o=0,i=n.length;o<i;o+=1){var s=n[o];("[object Object]"!==Object.prototype.toString.call(e[s])||":"===s[0]||"@"===s[0]||t.indexOf(s)>=0)&&(a[s]=e[s])}return a},t.pickNestedStyles=function(e,t){for(var n=t.map(o),a=(0,r.keys)(e),i={},s=0,l=a.length;s<l;s+=1){var c=a[s];(t.indexOf(c)>=0||n.indexOf(o(c))>=0)&&(i[c]=e[c])}return i});t.hoistModifierStylesRecursive=function e(t,n){for(var o=r.merge.apply(void 0,[{},(0,r.omit)(t,n)].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}((0,r.values)(i(t,n))))),s=(0,r.keys)(o).filter(a.isModifier),l=0,c=s.length;l<c;l+=1){var u=s[l],d=e(o[u],n);n.indexOf(u)>=0?(delete o[u],o=(0,r.merge)({},o,d)):o[u]=d}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.isModifier=function(e){return"&"===e[0]};t.isElement=function(e){return!r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(164);t.default=function(e){if(!e)return[];if("string"==typeof e)return[e];if(!Array.isArray(e)){var t=e;return(0,r.keys)(e).reduce((function(e,n){return e.concat(t[n]?[n]:[])}),[])}return e},e.exports=t.default},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ContextTypes=t.PropTypes=t.PROPS_DECORATOR_CONTEXT_NAME=t.ENHANCER_CONTEXT_NAME=void 0;var a,o=(a=n(1))&&a.__esModule?a:{default:a};function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(0));var s=t.ENHANCER_CONTEXT_NAME="__substyle__enhancer",l=t.PROPS_DECORATOR_CONTEXT_NAME="__substyle__propsDecorator",c=o.default.oneOfType([o.default.func,o.default.object]),u=o.default.objectOf(o.default.string);t.PropTypes={style:c,className:o.default.string,classNames:u,innerRef:o.default.oneOfType([o.default.func,o.default.shape({current:"undefined"==typeof Element?o.default.any:o.default.instanceOf(Element)})])},t.ContextTypes=(i(r={},s,o.default.func),i(r,l,o.default.func),r)},function(e,t,n){"use strict";t.__esModule=!0,t.default={nbsp:" "}},function(e,t,n){"use strict";function r(e){this.named=e}t.__esModule=!0;var a=/^#[xX]([A-Fa-f0-9]+)$/,o=/^#([0-9]+)$/,i=/^([A-Za-z0-9]+)$/;r.prototype.parse=function(e){if(e){var t=e.match(a);return t?"&#x"+t[1]+";":(t=e.match(o))?"&#"+t[1]+";":(t=e.match(i))?this.named[t[1]]||"&"+t[1]+";":void 0}},t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r=n(612);function a(e,t){this.delegate=e,this.entityParser=t,this.state=null,this.input=null,this.index=-1,this.line=-1,this.column=-1,this.tagLine=-1,this.tagColumn=-1,this.reset()}a.prototype={reset:function(){this.state="beforeData",this.input="",this.index=0,this.line=1,this.column=0,this.tagLine=-1,this.tagColumn=-1,this.delegate.reset()},tokenize:function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},tokenizePart:function(e){for(this.input+=(0,r.preprocessInput)(e);this.index<this.input.length;)this.states[this.state].call(this)},tokenizeEOF:function(){this.flushData()},flushData:function(){"data"===this.state&&(this.delegate.finishData(),this.state="beforeData")},peek:function(){return this.input.charAt(this.index)},consume:function(){var e=this.peek();return this.index++,"\n"===e?(this.line++,this.column=0):this.column++,e},consumeCharRef:function(){var e=this.input.indexOf(";",this.index);if(-1!==e){var t=this.input.slice(this.index,e),n=this.entityParser.parse(t);if(n){for(var r=t.length;r;)this.consume(),r--;return this.consume(),n}}},markTagStart:function(){this.tagLine=this.line,this.tagColumn=this.column,this.delegate.tagOpen&&this.delegate.tagOpen()},states:{beforeData:function(){"<"===this.peek()?(this.state="tagOpen",this.markTagStart(),this.consume()):(this.state="data",this.delegate.beginData())},data:function(){var e=this.peek();"<"===e?(this.delegate.finishData(),this.state="tagOpen",this.markTagStart(),this.consume()):"&"===e?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(e))},tagOpen:function(){var e=this.consume();"!"===e?this.state="markupDeclaration":"/"===e?this.state="endTagOpen":(0,r.isAlpha)(e)&&(this.state="tagName",this.delegate.beginStartTag(),this.delegate.appendToTagName(e.toLowerCase()))},markupDeclaration:function(){"-"===this.consume()&&"-"===this.input.charAt(this.index)&&(this.consume(),this.state="commentStart",this.delegate.beginComment())},commentStart:function(){var e=this.consume();"-"===e?this.state="commentStartDash":">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData(e),this.state="comment")},commentStartDash:function(){var e=this.consume();"-"===e?this.state="commentEnd":">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("-"),this.state="comment")},comment:function(){var e=this.consume();"-"===e?this.state="commentEndDash":this.delegate.appendToCommentData(e)},commentEndDash:function(){var e=this.consume();"-"===e?this.state="commentEnd":(this.delegate.appendToCommentData("-"+e),this.state="comment")},commentEnd:function(){var e=this.consume();">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("--"+e),this.state="comment")},tagName:function(){var e=this.consume();(0,r.isSpace)(e)?this.state="beforeAttributeName":"/"===e?this.state="selfClosingStartTag":">"===e?(this.delegate.finishTag(),this.state="beforeData"):this.delegate.appendToTagName(e)},beforeAttributeName:function(){var e=this.peek();(0,r.isSpace)(e)?this.consume():"/"===e?(this.state="selfClosingStartTag",this.consume()):">"===e?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeName",this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e))},attributeName:function(){var e=this.peek();(0,r.isSpace)(e)?(this.state="afterAttributeName",this.consume()):"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===e?(this.state="beforeAttributeValue",this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeName(e))},afterAttributeName:function(){var e=this.peek();(0,r.isSpace)(e)?this.consume():"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===e?(this.consume(),this.state="beforeAttributeValue"):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="attributeName",this.delegate.beginAttribute(),this.delegate.appendToAttributeName(e))},beforeAttributeValue:function(){var e=this.peek();(0,r.isSpace)(e)?this.consume():'"'===e?(this.state="attributeValueDoubleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):"'"===e?(this.state="attributeValueSingleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeValueUnquoted",this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(e))},attributeValueDoubleQuoted:function(){var e=this.consume();'"'===e?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef('"')||"&"):this.delegate.appendToAttributeValue(e)},attributeValueSingleQuoted:function(){var e=this.consume();"'"===e?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef("'")||"&"):this.delegate.appendToAttributeValue(e)},attributeValueUnquoted:function(){var e=this.peek();(0,r.isSpace)(e)?(this.delegate.finishAttributeValue(),this.consume(),this.state="beforeAttributeName"):"&"===e?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef(">")||"&")):">"===e?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeValue(e))},afterAttributeValueQuoted:function(){var e=this.peek();(0,r.isSpace)(e)?(this.consume(),this.state="beforeAttributeName"):"/"===e?(this.consume(),this.state="selfClosingStartTag"):">"===e?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},selfClosingStartTag:function(){">"===this.peek()?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},endTagOpen:function(){var e=this.consume();(0,r.isAlpha)(e)&&(this.state="tagName",this.delegate.beginEndTag(),this.delegate.appendToTagName(e.toLowerCase()))}}},t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r=n(330))&&r.__esModule?r:{default:r};function o(e,t){this.token=null,this.startLine=1,this.startColumn=0,this.options=t||{},this.tokenizer=new a.default(this,e)}o.prototype={tokenize:function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},tokenizePart:function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},tokenizeEOF:function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},reset:function(){this.token=null,this.startLine=1,this.startColumn=0},addLocInfo:function(){this.options.loc&&(this.token.loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},beginData:function(){this.token={type:"Chars",chars:""},this.tokens.push(this.token)},appendToData:function(e){this.token.chars+=e},finishData:function(){this.addLocInfo()},beginComment:function(){this.token={type:"Comment",chars:""},this.tokens.push(this.token)},appendToCommentData:function(e){this.token.chars+=e},finishComment:function(){this.addLocInfo()},beginStartTag:function(){this.token={type:"StartTag",tagName:"",attributes:[],selfClosing:!1},this.tokens.push(this.token)},beginEndTag:function(){this.token={type:"EndTag",tagName:""},this.tokens.push(this.token)},finishTag:function(){this.addLocInfo()},markTagAsSelfClosing:function(){this.token.selfClosing=!0},appendToTagName:function(e){this.token.tagName+=e},beginAttribute:function(){this._currentAttribute=["","",null],this.token.attributes.push(this._currentAttribute)},appendToAttributeName:function(e){this._currentAttribute[0]+=e},beginAttributeValue:function(e){this._currentAttribute[2]=e},appendToAttributeValue:function(e){this._currentAttribute[1]=this._currentAttribute[1]||"",this._currentAttribute[1]+=e},finishAttributeValue:function(){}},t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.stateify=t.TokenState=t.CharacterState=void 0;var r=n(165),a=function(e){this.j=[],this.T=e||null};a.prototype={defaultTransition:!1,on:function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)this.j.push([e[n],t]);return this}return this.j.push([e,t]),this},next:function(e){for(var t=0;t<this.j.length;t++){var n=this.j[t],r=n[0],a=n[1];if(this.test(e,r))return a}return this.defaultTransition},accepts:function(){return!!this.T},test:function(e,t){return e===t},emit:function(){return this.T}};var o=(0,r.inherits)(a,(function(e){this.j=[],this.T=e||null}),{test:function(e,t){return e===t||t instanceof RegExp&&t.test(e)}}),i=(0,r.inherits)(a,(function(e){this.j=[],this.T=e||null}),{jump:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.next(new e(""));return n===this.defaultTransition?(n=new this.constructor(t),this.on(e,n)):t&&(n.T=t),n},test:function(e,t){return e instanceof t}});t.CharacterState=o,t.TokenState=i,t.stateify=function(e,t,n,r){for(var a=0,i=e.length,s=t,l=[],c=void 0;a<i&&(c=s.next(e[a]));)s=c,a++;if(a>=i)return[];for(;a<i-1;)c=new o(r),l.push(c),s.on(e[a],c),s=c,a++;return c=new o(n),l.push(c),s.on(e[i-1],c),l}},function(e,t,n){"use strict";t.__esModule=!0,t.createTokenClass=function(){return function(e){e&&(this.v=e)}}},function(e,t,n){var r=n(239).FilterCSS,a=n(239).getDefaultWhiteList,o=n(240);var i=new r;function s(e){return e.replace(l,"&lt;").replace(c,"&gt;")}var l=/</g,c=/>/g,u=/"/g,d=/&quot;/g,f=/&#([a-zA-Z0-9]*);?/gim,p=/&colon;?/gim,h=/&newline;?/gim,m=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,_=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,g=/u\s*r\s*l\s*\(.*/gi;function b(e){return e.replace(u,"&quot;")}function y(e){return e.replace(d,'"')}function v(e){return e.replace(f,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function A(e){return e.replace(p,":").replace(h," ")}function w(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return o.trim(t)}function k(e){return w(e=A(e=v(e=y(e))))}function E(e){return s(e=b(e))}t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=k(n),"href"===t||"src"===t){if("#"===(n=o.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(m.lastIndex=0,m.test(n))return""}else if("style"===t){if(_.lastIndex=0,_.test(n))return"";if(g.lastIndex=0,g.test(n)&&(m.lastIndex=0,m.test(n)))return"";!1!==r&&(n=(r=r||i).process(n))}return E(n)},t.escapeHtml=s,t.escapeQuote=b,t.unescapeQuote=y,t.escapeHtmlEntities=v,t.escapeDangerHtml5Entities=A,t.clearNonPrintableCharacter=w,t.friendlyAttrValue=k,t.escapeAttrValue=E,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],a=!1;return{onIgnoreTag:function(i,s,l){if(function(t){return!!n||-1!==o.indexOf(e,t)}(i)){if(l.isClosing){var c="[/removed]",u=l.position+c.length;return r.push([!1!==a?a:l.position,u]),a=!1,c}return a||(a=l.position),"[removed]"}return t(i,s,l)},remove:function(e){var t="",n=0;return o.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},t.stripCommentTag=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var a=e.indexOf("--\x3e",r);if(-1===a)break;n=a+3}return t},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")},t.cssFilter=i,t.getDefaultCSSWhiteList=a},function(e,t){function n(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var r=/javascript\s*\:/gim;t.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,a;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,n){var r=n(240);function a(e){var t=r.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=r.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function o(e){return"</"===e.slice(0,2)}var i=/[^a-zA-Z0-9_:\.\-]/gim;function s(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function l(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"use strict";var r="",i=0,s=!1,l=!1,c=0,u=e.length,d="",f="";e:for(c=0;c<u;c++){var p=e.charAt(c);if(!1===s){if("<"===p){s=c;continue}}else if(!1===l){if("<"===p){r+=n(e.slice(i,c)),s=c,i=c;continue}if(">"===p){r+=n(e.slice(i,s)),d=a(f=e.slice(s,c+1)),r+=t(s,r.length,d,f,o(f)),i=c+1,s=!1;continue}if('"'===p||"'"===p)for(var h=1,m=e.charAt(c-h);""===m.trim()||"="===m;){if("="===m){l=p;continue e}m=e.charAt(c-++h)}}else if(p===l){l=!1;continue}}return i<e.length&&(r+=n(e.substr(i))),r},t.parseAttr=function(e,t){"use strict";var n=0,a=[],o=!1,u=e.length;function d(e,n){if(!((e=(e=r.trim(e)).replace(i,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&a.push(o)}}for(var f=0;f<u;f++){var p,h=e.charAt(f);if(!1!==o||"="!==h)if(!1===o||f!==n||'"'!==h&&"'"!==h||"="!==e.charAt(f-1)){if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(p=s(e,f))){d(r.trim(e.slice(n,f))),o=!1,n=f+1;continue}f=p-1;continue}if(-1===(p=l(e,f-1))){d(o,c(r.trim(e.slice(n,f)))),o=!1,n=f+1;continue}}}else{if(-1===(p=e.indexOf(h,f+1)))break;d(o,r.trim(e.slice(n+1,p))),o=!1,n=(f=p)+1}else o=e.slice(n,f),n=f+1}return n<e.length&&(!1===o?d(e.slice(n)):d(o,c(r.trim(e.slice(n))))),r.trim(a.join(" "))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!1;return{request:function(){var n=this,r=arguments;t||(requestAnimationFrame((function(){(function(){e(),t=!1}).apply(n,r)})),t=!0)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=n(0),m=A(h),_=n(6),g=n(3),b=(A(n(241)),A(n(120))),y=A(n(242)),v=(n(68),A(n(637)));function A(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function E(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var x=(0,_.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return k(n,"create_task_visible",o,n),k(n,"create_top_task_visible",i,n),k(n,"edit_section_name",s,n),k(n,"form",l,n),k(n,"top_form",c,n),k(n,"render_properties",u,n),k(n,"sections",d,n),n.reactions=[],n.store=n.props.store,n.showCreateTask=n.showCreateTask.bind(n),n.showTopCreateTask=n.showTopCreateTask.bind(n),n.showEditSection=n.showEditSection.bind(n),n.handleNewTaskInputChange=n.handleNewTaskInputChange.bind(n),n.handleTopNewTaskInputChange=n.handleTopNewTaskInputChange.bind(n),n.handleSectionNameInputChange=n.handleSectionNameInputChange.bind(n),n.createTask=n.createTask.bind(n),n.saveSectionName=n.saveSectionName.bind(n),n.handleClickOutside=n.handleClickOutside.bind(n),n.open=n.open.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.Component),f(t,[{key:"open",value:function(){}},{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"handleClickOutside",value:function(e){this.node&&!this.node.contains(e.target)&&(this.closeNewTask(e),this.edit_section_name=!1)}},{key:"closeNewTask",value:function(e){this.create_task_visible=!1}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"showCreateTask",value:function(e){var t=this;e.stopPropagation(),this.create_task_visible=!this.create_task_visible,"section"!=this.store.uistate.board_settings.group_by&&("group"==this.store.projects.selected.type&&this.store.uistate.board_settings.project_id_on_folder?this.sections=this.store.tasks.filtered_uncollapsed.filter((function(e){return e.is_priority_heading&&(e.projects[0]||{}).id==t.store.uistate.board_settings.project_id_on_folder})).map((function(e){return e})):this.sections=this.store.tasks.filtered_uncollapsed.filter((function(e){return e.is_priority_heading})).map((function(e){return e})),this.form.section_id=this.sections.length>0?this.sections[0].id:"")}},{key:"showTopCreateTask",value:function(e){var t=this;e.stopPropagation(),this.create_top_task_visible=!this.create_top_task_visible,"section"!=this.store.uistate.board_settings.group_by&&("group"==this.store.projects.selected.type&&this.store.uistate.board_settings.project_id_on_folder?this.sections=this.store.tasks.filtered_uncollapsed.filter((function(e){return e.is_priority_heading&&(e.projects[0]||{}).id==t.store.uistate.board_settings.project_id_on_folder})).map((function(e){return e})):this.sections=this.store.tasks.filtered_uncollapsed.filter((function(e){return e.is_priority_heading})).map((function(e){return e})),this.top_form.section_id=this.sections.length>0?this.sections[0].id:"")}},{key:"showEditSection",value:function(e){e.stopPropagation(),this.edit_section_name||(this.form.new_section_name=this.store.tasks.get(this.props.id).name),this.edit_section_name=!this.edit_section_name}},{key:"handleNewTaskInputChange",value:function(e){27==e.keyCode&&(this.form.new_task_name="",this.showCreateTask(e)),13==e.keyCode&&this.createTask(e)}},{key:"handleTopNewTaskInputChange",value:function(e){27==e.keyCode&&(this.top_form.new_task_name="",this.showTopCreateTask(e)),13==e.keyCode&&this.createTask(e,"top")}},{key:"handleSectionNameInputChange",value:function(e){27==e.keyCode&&(this.form.new_section_name="",this.showEditSection(e)),13==e.keyCode&&this.saveSectionName()}},{key:"createTask",value:function(e,t){var n=this;e.preventDefault();var r,a=this.form;t&&"top"==t&&(a=this.top_form);var o="section"==this.store.uistate.board_settings.group_by?this.store.tasks.get(this.props.id):this.store.tasks.get(a.section_id);if(!o&&(this.store.uistate.board_settings.group_by,"section"!=this.store.uistate.board_settings.group_by&&this.sections.length>0))alert("Problem ocurred");else{if(o)if(0==o.raw_childrens_count)r=Number(o.local_priority)+.01;else if("section"==this.store.uistate.board_settings.group_by){var i=this.tasks;r="bottom"==a.position?Number(i[i.length-1].local_priority)+.01:Number(i[0].local_priority||1)-.01}else{var s=this.store.tasks.get(o.id).sorted_childrens;console.log("Getting priority based on",s[s.length-1].name),r=Number(s[s.length-1].local_priority)+.01}else r=this.store.tasks.filtered.length>0?Number(this.store.tasks.filtered[this.store.tasks.filtered.length-1].local_priority)+.01:1;var l,c,u,d;"section"==this.store.uistate.board_settings.group_by?l=this.tasks.length>0?Number(this.tasks[this.tasks.length-1].priority)+1:this.store.tasks.get(this.props.id).priority+1:(c="_status",u=w({},"_status",this.props.id));var f={priority_heading_id:o?o.id:"",name:a.new_task_name,local_priority:r,priority:l,custom_fields:u};if("group"==this.store.projects.selected.type&&this.store.uistate.board_settings.project_id_on_folder&&(f.projects=[{id:this.store.uistate.board_settings.project_id_on_folder}],f.project_id=this.store.uistate.board_settings.project_id_on_folder,f.project_priority=this.store.tasks.get(f.project_id).project_priority),"top"==a.position&&c&&this.tasks.length>0){var p=this.tasks[0].custom_priority;console.log("Previous custom priority",p),d=w({},c,Number(p[c]||0)-.01),f.custom_priority=d,console.log("Creating custom priority",f.custom_priority)}this.store.tasks.createTask(f).then((function(e){setTimeout((function(){console.log("Response",e);var t=n.store.tasks.get(e.id);n.store.tasks.setLocalPositions({key:c}),n.store.tasks.saveLocalPositions(null,{trigger_model:t,key:c})}),0)})),this.form.new_task_name="",this.top_form.new_task_name="","bottom"==a.position&&(this.render_properties.current_render_index=this.tasks.length+1),window.requestAnimationFrame((function(){"bottom"==a.position?$("#column-"+n.props.id).scrollTop($("#column-"+n.props.id+" .column-content-wrapper").height()+50):$("#column-"+n.props.id).scrollTop(0)}))}}},{key:"saveSectionName",value:function(e){this.store.tasks.get(this.props.id).save({name:this.form.new_section_name}),this.form.new_section_name="",this.edit_section_name=!1}},{key:"renderTopForm",value:function(){var e=this;return this.store.uistate,m.default.createElement("div",null,this.create_top_task_visible&&m.default.createElement("div",{className:y.default.new_task,style:{width:"initial",marginTop:"2px",marginBottom:"7px"}},"section"!=this.store.uistate.board_settings.group_by&&this.sections.length>0&&m.default.createElement("div",{style:{textAlign:"left",marginBottom:"5px"}},m.default.createElement("div",{className:y.default.element},m.default.createElement("select",{onChange:function(t){return e.top_form.section_id=t.target.value},style:{fontSize:"11px",width:"100%",maxWidth:"100%"},value:this.top_form.section_id},this.sections.map((function(e){return m.default.createElement("option",{value:e.id},e.name)}))))),m.default.createElement("textarea",{autoFocus:!0,type:"text",value:this.top_form.new_task_name,onKeyDown:this.handleTopNewTaskInputChange,onChange:function(t){return e.top_form.new_task_name=t.target.value},placeholder:"New task name...",style:{height:"50px"}})))}},{key:"render",value:function(){var e,t=this;return this.store.uistate,m.default.createElement("div",p({className:y.default.column,ref:this.props.provided.innerRef},this.props.provided.draggableProps,{style:(this.props.snapshot.isDragging,e=this.props.provided.draggableProps.style,p({},e))}),m.default.createElement("div",{className:y.default.inner_column,ref:function(e){return t.node=e}},m.default.createElement("div",p({className:y.default.inner_column_content},this.props.provided.dragHandleProps,{onClick:this.open}),m.default.createElement("div",{className:b.default.title},"status"==this.store.uistate.board_settings.group_by&&m.default.createElement("div",{className:b.default.item,onClick:function(e){return t.showEditSection(e)}},m.default.createElement("div",{style:{height:"17px",width:"17px",borderRadius:"3px"},className:"palette palette-"+this.props.model.color})),m.default.createElement("div",{className:b.default.title_inner},m.default.createElement("div",{className:b.default.title_inner_text},!this.edit_section_name&&this.props.title,this.edit_section_name&&m.default.createElement("input",{autoFocus:!0,type:"text",value:this.form.new_section_name,onKeyDown:this.handleSectionNameInputChange,onChange:function(e){return t.form.new_section_name=e.target.value}}))),"section"==this.store.uistate.board_settings.group_by&&m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:b.default.title_edit,onClick:function(e){return t.showEditSection(e)}},m.default.createElement("i",{className:"fa fa-fw fa-pen"}))),m.default.createElement("div",{className:b.default.title_inner_action,onClick:this.showTopCreateTask},m.default.createElement("i",{className:"fa fa-fw fa-plus"})))),this.renderTopForm(),m.default.createElement(v.default,{model:this.props.model,render_properties:this.render_properties,store:this.store,id:this.props.id}),!this.create_task_visible&&this.viewport_tasks.length>0&&m.default.createElement("div",{className:y.default.new_task,onClick:this.showCreateTask},m.default.createElement("i",{className:"fa fa-fw fa-plus"})," Create new task"),this.create_task_visible&&m.default.createElement("div",{className:y.default.new_task,style:{width:"initial"}},m.default.createElement("div",{className:y.default.item},m.default.createElement("div",{className:y.default.element},"Insert at"),m.default.createElement("div",{className:y.default.element,onClick:function(){return t.form.position="bottom"},style:{marginRight:"5px",cursor:"pointer"}},"bottom"==this.form.position&&m.default.createElement("i",{className:"fas fa-check-circle"}),"bottom"!=this.form.position&&m.default.createElement("i",{className:"far fa-circle"}),"  Bottom"),m.default.createElement("div",{className:y.default.element,onClick:function(){return t.form.position="top"},style:{cursor:"pointer"}},"top"==this.form.position&&m.default.createElement("i",{className:"fas fa-check-circle"}),"top"!=this.form.position&&m.default.createElement("i",{className:"far fa-circle"}),"  Top")),"section"!=this.store.uistate.board_settings.group_by&&this.sections.length>0&&m.default.createElement("div",{className:y.default.item,style:{textAlign:"left"}},m.default.createElement("div",{className:y.default.element,style:{paddingTop:"3px"}},"Section"),m.default.createElement("div",{className:y.default.element},m.default.createElement("select",{onChange:function(e){return t.form.section_id=e.target.value},style:{fontSize:"11px",width:"100%"},value:this.form.section_id},this.sections.map((function(e){return m.default.createElement("option",{value:e.id},e.name)}))))),m.default.createElement("textarea",{autoFocus:!0,type:"text",value:this.form.new_task_name,onKeyDown:this.handleNewTaskInputChange,onChange:function(e){return t.form.new_task_name=e.target.value},placeholder:"New task name...",style:{height:"50px"}}))))}},{key:"tasks",get:function(){return this.store.tasks.board.sections[this.props.id].tasks}},{key:"viewport_tasks",get:function(){return this.tasks.slice(0,this.render_properties.current_render_index)}}]),t}(),o=E(a.prototype,"create_task_visible",[g.observable],{enumerable:!0,initializer:function(){return!1}}),i=E(a.prototype,"create_top_task_visible",[g.observable],{enumerable:!0,initializer:function(){return!1}}),s=E(a.prototype,"edit_section_name",[g.observable],{enumerable:!0,initializer:function(){return!1}}),l=E(a.prototype,"form",[g.observable],{enumerable:!0,initializer:function(){return{new_task_name:"",new_section_name:"",section_id:"",position:"bottom"}}}),c=E(a.prototype,"top_form",[g.observable],{enumerable:!0,initializer:function(){return{new_task_name:"",new_section_name:"",section_id:"",position:"top"}}}),u=E(a.prototype,"render_properties",[g.observable],{enumerable:!0,initializer:function(){return{current_render_index:20}}}),d=E(a.prototype,"sections",[g.observable],{enumerable:!0,initializer:function(){return[]}}),E(a.prototype,"open",[g.action],Object.getOwnPropertyDescriptor(a.prototype,"open"),a.prototype),E(a.prototype,"tasks",[g.computed],Object.getOwnPropertyDescriptor(a.prototype,"tasks"),a.prototype),E(a.prototype,"viewport_tasks",[g.computed],Object.getOwnPropertyDescriptor(a.prototype,"viewport_tasks"),a.prototype),E(a.prototype,"createTask",[g.action],Object.getOwnPropertyDescriptor(a.prototype,"createTask"),a.prototype),r=a))||r;t.default=x},function(e,t,n){e.exports={header_button:"_33OM0HiTs_9-ST4gvCuGd2",header_button_active:"_17NsjNkmgZWLxeSjUP6YJJ",board:"_2MLIw_bDwFeDDrSaYPH6VX",filter_item:"_1CyPMPF_Aph6Pgoh6eBjVq",header_dropdown_item:"_9IJzuNgRT-JrfKz6InDtq",toggle:"YEislayZx0f9ElI2iISvV",active:"_1g-bAc9HpSEgOuFmA6uY_r",project_title:"bXtk9NoBYVauddWi6RD2J"}},function(e,t,n){e.exports={timeline_container:"_2IRVNKJJQ9stqCIVQwQ-AM",timeline_bottom:"_1m3F3csbxeVwf-ci38XiZO",stick:"_3GhRvKGa5da7NHUgkM_uuz",stick_label:"_3drCyFoOYZjaz-7UZtPuPg",timeline_month:"_1uCpLLDA547Fb359rXuOX6",timeline_top:"_3x9-MlH5W5T5NSDy8cLiOj",timeline_vertical:"X5CFo2rVaNqILdJBrJTLU",label:"_3wfUiqqc7hG9_NllqlVXTr",timeline_bar:"_2g1O5W5_cSknR17Gw2FmCM",bars_container:"_1Kn6C7OncbEZUvleSOTBk6",round_ball:"_3SNrii207RedULj55TfhJ9",lane:"_3vKM1HL9s5C0s6q1rAamYR",project_name:"_291VoFOcDwKjYmUO9tfmwQ",item:"_7sJU8UKUSVzrOdazfR71w"}},function(e,t){},function(e,t){},function(e,t,n){var r=n(227),a=n(117);e.exports=function(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(649)();e.exports=r},function(e,t,n){var r=n(101),a=n(38);e.exports=function(e){return a(e)&&r(e)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(117),a=n(101),o=n(154),i=n(57);e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){var r=n(226),a=n(103),o=n(154),i=n(57),s=n(104);e.exports=function(e,t,n,l){if(!i(e))return e;for(var c=-1,u=(t=a(t,e)).length,d=u-1,f=e;null!=f&&++c<u;){var p=s(t[c]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=d){var m=f[p];void 0===(h=l?l(m,p,f):void 0)&&(h=i(m)?m:o(t[c+1])?[]:{})}r(f,p,h),f=f[p]}return e}},function(e,t,n){var r=n(654);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(660),a=n(661);e.exports=function(e,t){return null!=e&&a(e,t,r)}},function(e,t,n){var r=n(234),a=n(350),o=n(351),i=n(235),s=n(662),l=n(236);e.exports=function(e,t,n){var c=-1,u=a,d=e.length,f=!0,p=[],h=p;if(n)f=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return l(m);f=!1,u=i,h=new r}else h=t?[]:p;e:for(;++c<d;){var _=e[c],g=t?t(_):_;if(_=n||0!==_?_:0,f&&g==g){for(var b=h.length;b--;)if(h[b]===g)continue e;t&&h.push(g),p.push(_)}else u(h,g,n)||(h!==p&&h.push(g),p.push(_))}return p}},function(e,t,n){var r=n(664),a=n(667),o=n(163),i=n(31),s=n(668);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(57);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(n(3),s(n(244))),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),s(n(20))),i=s(n(245));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.storage_type="HTTPSaver",r.globalstore=e,r.prefill=r.prefill.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"model",value:function(){return a.default}},{key:"prefill",value:function(e){e.resources&&(this.resourcesCollection=new i.default(this.globalstore,e.resources,e.id))}},{key:"url",value:function(){return"/management/workbooks"}},{key:"prefill",value:function(e){return e}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),p=m(n(19)),h=m(n(684));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function g(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var b=(r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return d.storage_type="HTTPSaver",_(d,"id",a,d),_(d,"name",o,d),_(d,"access",i,d),_(d,"admin",s,d),_(d,"owner",l,d),_(d,"archived",c,d),_(d,"collection",u,d),d.user=r,d.custom_globalstore=n,d.setCollections=d.setCollections.bind(d),d.setCollections(),d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),d(t,[{key:"setCollections",value:function(){this.members&&(this.membersCollection=new h.default(this.globalstore,this.members,this.id,this.user))}},{key:"urlRoot",value:function(){return"/management/subscriptions"}},{key:"toJS",value:function(){return Object.assign({},this)}},{key:"changeOwner",value:function(e){var t={name:e.name};return e.email?t.email=e.email:e.id&&(t.id=e.id),this.save({new_owner:t},{url:this.url+"/owner",patch:!0})}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"fromJS",value:function(e,n){return new t(e,n)}},{key:"defaults",value:function(){return{id:"",name:"",access:{},admin:{},owner:"",archived:!1}}}]),t}(),a=g(r.prototype,"id",[f.observable],{enumerable:!0,initializer:null}),o=g(r.prototype,"name",[f.observable],{enumerable:!0,initializer:null}),i=g(r.prototype,"access",[f.observable],{enumerable:!0,initializer:null}),s=g(r.prototype,"admin",[f.observable],{enumerable:!0,initializer:null}),l=g(r.prototype,"owner",[f.observable],{enumerable:!0,initializer:null}),c=g(r.prototype,"archived",[f.observable],{enumerable:!0,initializer:null}),u=g(r.prototype,"collection",[f.observable],{enumerable:!0,initializer:null}),r);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),h=k(p),m=n(6),_=n(3),g=k(n(74)),b=k(n(30)),y=(k(n(166)),k(n(122)),k(n(244))),v=k(n(690)),A=k(n(358)),w=k(n(691));function k(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function x(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var O=(0,m.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return E(n,"loading",o,n),E(n,"workbook_id",i,n),E(n,"subscription_id",s,n),E(n,"loading",l,n),E(n,"active_tab",c,n),E(n,"selected_item",u,n),E(n,"editing_free_trial_days",d,n),n.reactions=[],n.rebuild=function(){if("workbook"==n.selected_item.type){var e=n.user.workbooks.filter((function(e){return e.id==n.selected_item.data.id}))[0];n.selectWorkbook(e)}else if("subscription"==n.selected_item.type){var t=n.user.subscriptions.filter((function(e){return e.id==n.selected_item.data.id}))[0];n.selectSubscription(t)}},n.selectWorkbook=function(e){n.selected_item.type="workbook",n.selected_item.data=e,n.selected_item.model=new y.default(e,n.store,n.user)},n.selectSubscription=function(e){n.selected_item.type="subscription",n.selected_item.model=new A.default(e,n.store,n.user),n.selected_item.data=e,console.log("Rebuilding subscription",n.selected_item,n.selected_item.model.owner.name)},n.close=function(){n.store.management.selectedUsers.remove([n.user.id])},n.editFreeTrialDays=function(){n.editing_free_trial_days.value=n.user.free_trial_days||7,n.editing_free_trial_days.status=!0},n.save=function(e){n.editing_free_trial_days.loading=!0,n.user.save(e).then((function(){n.user.fetch().then((function(){n.editing_free_trial_days.loading=!1,n.editing_free_trial_days.status=!1}))}))},n.reload=function(){n.loading=!0,n.user.fetch().then((function(){n.loading=!1}))},n.store=n.props.store,n.user=n.props.user,n.reactions.push((0,_.reaction)((function(){return n.selected_item.data}),(function(){console.log("Data has been updated"),n.rebuild()}))),n.reactions.push((0,_.reaction)((function(){return[n.user.getAttributes(),n.user.subscriptions,n.user.workbooks]}),(function(){console.log("User has been updated"),n.rebuild()}))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),f(t,[{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.user.asana_account&&this.user.asana_account.id;return h.default.createElement("div",{className:g.default.card_container},h.default.createElement("div",{className:g.default.card},h.default.createElement("div",{className:[g.default.card_header,t?g.default.asana_bg:g.default.standalone_bg].join(" ")},h.default.createElement("div",{className:g.default.title},this.user.name),h.default.createElement("div",{className:g.default.subtitle},this.user.email||(this.user.asana_account||{}).email),h.default.createElement("div",{className:g.default.tabs_container},h.default.createElement("div",{className:[g.default.tab,"user"==this.active_tab?g.default.selected:""].join(" "),onClick:function(){return e.active_tab="user"}},"User details"),h.default.createElement("div",{className:[g.default.tab,"subscriptions"==this.active_tab?g.default.selected:""].join(" "),onClick:function(){return e.active_tab="subscriptions"}},"Subscriptions (",this.user.subscriptions.length,")"),h.default.createElement("div",{className:[g.default.tab,"workbooks"==this.active_tab?g.default.selected:""].join(" "),onClick:function(){return e.active_tab="workbooks"}},"Workbooks (",this.user.workbooks.length,")")),h.default.createElement("div",{className:g.default.close_button,style:{display:"flex"}},h.default.createElement("div",{onClick:function(){return e.reload()},style:{padding:"0 10px"}},this.loading&&h.default.createElement("i",{className:"fa fa-spin fa-spinner"}),!this.loading&&h.default.createElement("i",{className:"far fa-sync-alt"})),h.default.createElement("div",{onClick:this.close,style:{padding:"0 10px"}},h.default.createElement("i",{className:"fa fa-times"})))),h.default.createElement("div",{className:g.default.card_body},"user"==this.active_tab&&h.default.createElement(h.default.Fragment,null,h.default.createElement("div",{className:g.default.row_title},"Attributes"),h.default.createElement("div",{className:g.default.row},h.default.createElement("div",{className:g.default.item},"Account type"),h.default.createElement("div",{className:g.default.item},!t&&h.default.createElement("div",{className:g.default.standalone},"Standalone"),t&&h.default.createElement("div",{className:g.default.asana},"Asana"))),h.default.createElement("div",{className:g.default.row},h.default.createElement("div",{className:g.default.item},"Supplier ID"),h.default.createElement("div",{className:g.default.item},this.user.auth0.length>0&&this.user.auth0[0].sub,this.user.firebase_user.length>0&&this.user.firebase_user[0].uid,this.user.asana_account&&this.user.asana_account.id&&this.user.asana_account.id)),h.default.createElement("div",{className:g.default.row},h.default.createElement("div",{className:g.default.item},"Since"),h.default.createElement("div",{className:g.default.item},(0,b.default)(this.user.since).format("DD MMM YYYY"))),h.default.createElement("div",{className:g.default.row},h.default.createElement("div",{className:g.default.item},"Free trial days"),h.default.createElement("div",{className:g.default.item},!this.editing_free_trial_days.status&&h.default.createElement(h.default.Fragment,null,this.user.free_trial_days||7," ",h.default.createElement("button",{className:"btn btn-flat btn-small",onClick:function(){return e.editFreeTrialDays()}},h.default.createElement("i",{className:"fa fa-pencil"}))),this.editing_free_trial_days.status&&h.default.createElement("div",{style:{display:"flex"}},h.default.createElement("div",{style:{flexGrow:1}},h.default.createElement("input",{autoFocus:!0,type:"text",value:this.editing_free_trial_days.value,style:{margin:0,marginRight:"10px",width:40},onChange:function(t){e.editing_free_trial_days.value=t.target.value}}),h.default.createElement("button",{disabled:this.editing_free_trial_days.loading,className:"btn btn-success btn-small btn-flat",onClick:function(){return e.save({free_trial_days:e.editing_free_trial_days.value})}},this.editing_free_trial_days.loading&&h.default.createElement("i",{className:"fa fa-spin fa-spinner"}),"Save"),h.default.createElement("button",{disabled:this.editing_free_trial_days.loading,className:"btn btn-small btn-flat",onClick:function(){return e.editing_free_trial_days.status=!1}},"Cancel"))))),h.default.createElement("div",{className:g.default.row},h.default.createElement("div",{className:g.default.item},"Instagantt ID"),h.default.createElement("div",{className:g.default.item},this.user.id))),"subscriptions"==this.active_tab&&h.default.createElement(h.default.Fragment,null,h.default.createElement("div",{className:g.default.row_title},"Subscriptions"),this.user.subscriptions.map((function(t){return h.default.createElement("div",{className:g.default.row,onClick:function(){return e.selectSubscription(t)}},h.default.createElement("div",{className:g.default.item},t.subscription_reference),h.default.createElement("div",{className:g.default.item},t.status&&"Active",!t.status&&"Inactive"),h.default.createElement("div",{className:g.default.item},t.suspended&&"suspended"),h.default.createElement("div",{className:g.default.item},(0,b.default)(1e3*t.begin_date).format("DD MMM YYYY")))}))),"workbooks"==this.active_tab&&h.default.createElement(h.default.Fragment,null,h.default.createElement("div",{className:g.default.row_title},"Workbooks Standalone"),this.user.workbooks.map((function(t){return h.default.createElement("div",{className:g.default.row,onClick:function(){return e.selectWorkbook(t)}},h.default.createElement("div",{className:g.default.item},t.name),h.default.createElement("div",{className:g.default.item},t.owner==e.user.id&&"Owner",t.owner!=e.user.id&&"Member"))}))))),"workbook"==this.selected_item.type&&h.default.createElement(v.default,{store:this.store,selected_item:this.selected_item}),"subscription"==this.selected_item.type&&h.default.createElement(w.default,{store:this.store,selected_item:this.selected_item}))}}]),t}(),o=x(a.prototype,"loading",[_.observable],{enumerable:!0,initializer:function(){return!1}}),i=x(a.prototype,"workbook_id",[_.observable],{enumerable:!0,initializer:function(){return!1}}),s=x(a.prototype,"subscription_id",[_.observable],{enumerable:!0,initializer:function(){return!1}}),l=x(a.prototype,"loading",[_.observable],{enumerable:!0,initializer:function(){return!1}}),c=x(a.prototype,"active_tab",[_.observable],{enumerable:!0,initializer:function(){return"user"}}),u=x(a.prototype,"selected_item",[_.observable],{enumerable:!0,initializer:function(){return{type:!1,model:!1,data:!1}}}),d=x(a.prototype,"editing_free_trial_days",[_.observable],{enumerable:!0,initializer:function(){return{status:!1,value:!1,loading:!1}}}),r=a))||r;t.default=O},function(e,t,n){"use strict";var r=n(40),a=n(58),o=n(17).OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t,n={};return o(e.withMutations((function(e){e.forEach((function(r,o){var i=r.getKey(),s=r.getNextSiblingKey(),l=r.getPrevSiblingKey(),c=r.getChildKeys(),u=r.getParentKey(),d=a();if(n[i]=d,s&&(e.get(s)?e.setIn([s,"prevSibling"],d):e.setIn([i,"nextSibling"],null)),l&&(e.get(l)?e.setIn([l,"nextSibling"],d):e.setIn([i,"prevSibling"],null)),u&&e.get(u)){var f=e.get(u).getChildKeys();e.setIn([u,"children"],f.set(f.indexOf(r.getKey()),d))}else e.setIn([i,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],d),e.setIn([i,"prevSibling"],n[t.getKey()])),t=e.get(i);c.forEach((function(t){e.get(t)?e.setIn([t,"parent"],d):e.setIn([i,"children"],r.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]})))}(e):function(e){return o(e.toArray().map((function(e){var t=a();return[t,e.set("key",t)]})))}(e)}},function(e,t,n){"use strict";var r=n(39),a=n(124),o=n(18);function i(e,t,n){var i=t.getCharacterList(),s=n>0?i.get(n-1):void 0,l=n<i.count()?i.get(n):void 0,c=s?s.getEntity():void 0,u=l?l.getEntity():void 0;if(u&&u===c&&"MUTABLE"!==e.__get(u).getMutability()){for(var d,f=function(e,t,n){var r;return a(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=n&&t>=n&&(r={start:e,end:t})})),"object"!=typeof r&&o(!1),r}(i,u,n),p=f.start,h=f.end;p<h;)d=i.get(p),i=i.set(p,r.applyEntity(d,null)),p++;return t.set("characterList",i)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),a={},o=t.getStartKey(),s=t.getStartOffset(),l=n.get(o),c=i(r,l,s);c!==l&&(a[o]=c);var u=t.getEndKey(),d=t.getEndOffset(),f=n.get(u);o===u&&(f=c);var p=i(r,f,d);return p!==f&&(a[u]=p),Object.keys(a).length?e.merge({blockMap:n.merge(a),selectionAfter:t}):e.set("selectionAfter",t)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=e;if(n===r.count())t.forEach((function(e){r=r.push(e)}));else if(0===n)t.reverse().forEach((function(e){r=r.unshift(e)}));else{var a=r.slice(0,n),o=r.slice(n);r=a.concat(t,o).toList()}return r}},function(e,t,n){"use strict";var r=n(17).Map;e.exports=function(e,t,n){var a=t.getStartKey(),o=t.getEndKey(),i=e.getBlockMap(),s=i.toSeq().skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===o})).concat(r([[o,i.get(o)]])).map(n);return e.merge({blockMap:i.merge(s),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(40);e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var a=e.getParentKey();if(!a)return null;for(var o=t.get(a);o&&!o.getNextSiblingKey();){var i=o.getParentKey();o=i?t.get(i):null}return o?o.getNextSiblingKey():null}},function(e,t,n){"use strict";e.exports=function(e){return Object.keys(e).map((function(t){return e[t]}))}},function(e,t,n){"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getType=function(){return this.get("type")},a.getMutability=function(){return this.get("mutability")},a.getData=function(){return this.get("data")},r}((0,n(17).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},function(e,t,n){"use strict";var r=new RegExp("\r","g");e.exports=function(e){return e.replace(r,"")}},function(e,t,n){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(e,t,n){"use strict";var r=n(82);e.exports=function e(t){if(r(t)){var n=t,a=n.getAttribute("data-offset-key");if(a)return a;for(var o=0;o<n.childNodes.length;o++){var i=e(n.childNodes[o]);if(i)return i}}return null}},function(e,t,n){"use strict";e.exports=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},function(e,t,n){"use strict";var r=n(372),a=n(21),o=n(373),i=n(374);e.exports=function(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(t.toJS())})}}else{var n=e.props.editorState,s=i(n,o(e)),l=s.selectionState;l!==n.getSelection()&&(n=s.needsRecovery?a.forceSelection(n,l):a.acceptSelection(n,l),e.update(n))}}},function(e,t,n){"use strict";e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},function(e,t,n){"use strict";var r=n(18),a=n(125);e.exports=function(e){var t=e.editorContainer;return t||r(!1),a(t.firstChild)||r(!1),t.firstChild}},function(e,t,n){"use strict";var r=n(375);e.exports=function(e,t){var n=t.ownerDocument.defaultView.getSelection(),a=n.anchorNode,o=n.anchorOffset,i=n.focusNode,s=n.focusOffset;return 0===n.rangeCount||null==a||null==i?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,t,a,o,i,s)}},function(e,t,n){"use strict";var r=n(171),a=n(369),o=n(376),i=n(18),s=n(82),l=n(35);function c(e,t,n){var o=t,c=r(o);if(null!=c||e&&(e===o||e.firstChild===o)||i(!1),e===o&&(o=o.firstChild,s(o)||i(!1),"true"!==(o=o).getAttribute("data-contents")&&i(!1),n>0&&(n=o.childNodes.length)),0===n){var d=null;if(null!=c)d=c;else{var f=function(e){for(;e.firstChild&&(s(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||a(e.firstChild));)e=e.firstChild;return e}(o);d=l(a(f))}return{key:d,offset:0}}var p=o.childNodes[n-1],h=null,m=null;if(a(p)){var _=function(e){for(;e.lastChild&&(s(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||a(e.lastChild));)e=e.lastChild;return e}(p);h=l(a(_)),m=u(_)}else h=l(c),m=u(p);return{key:h,offset:m}}function u(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,a,i,s){var u=n.nodeType===Node.TEXT_NODE,d=i.nodeType===Node.TEXT_NODE;if(u&&d)return{selectionState:o(e,l(r(n)),a,l(r(i)),s),needsRecovery:!1};var f=null,p=null,h=!0;return u?(f={key:l(r(n)),offset:a},p=c(t,i,s)):d?(p={key:l(r(i)),offset:s},f=c(t,n,a)):(f=c(t,n,a),p=c(t,i,s),n===i&&a===s&&(h=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:o(e,f.key,f.offset,p.key,p.offset),needsRecovery:h}}},function(e,t,n){"use strict";var r=n(66),a=n(35);e.exports=function(e,t,n,o,i){var s=a(e.getSelection());if(!t||!o)return s;var l=r.decode(t),c=l.blockKey,u=e.getBlockTree(c),d=u&&u.getIn([l.decoratorKey,"leaves",l.leafKey]),f=r.decode(o),p=f.blockKey,h=e.getBlockTree(p),m=h&&h.getIn([f.decoratorKey,"leaves",f.leafKey]);if(!d||!m)return s;var _=d.get("start"),g=m.get("start"),b=d?_+n:null,y=m?g+i:null;if(s.getAnchorKey()===c&&s.getAnchorOffset()===b&&s.getFocusKey()===p&&s.getFocusOffset()===y)return s;var v=!1;if(c===p){var A=d.get("end"),w=m.get("end");v=g===_&&w===A?i<n:g<_}else v=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===c||e===p})).first()===p;return s.merge({anchorKey:c,anchorOffset:b,focusKey:p,focusOffset:y,isBackward:v})}},function(e,t,n){"use strict";e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},function(e,t,n){"use strict";var r=n(64),a=n(729),o=n(0),i=n(18),s=n(379),l=n(730).setDraftEditorSelection,c=function(e){var t,n;function c(){for(var t,n,r,a,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=void 0,(r="leaf")in(n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call.apply(e,[this].concat(i))||this))?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t}n=e,(t=c).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=c.prototype;return u._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,a=t.text,o=n.getKey(),c=r+a.length;if(e.hasEdgeWithin(o,r,c)){var u=this.leaf;u||i(!1);var d,f=u.firstChild;f||i(!1),f.nodeType===Node.TEXT_NODE?d=f:s(f)?d=u:(d=f.firstChild)||i(!1),l(e,d,o,r,c)}}},u.shouldComponentUpdate=function(e){var t=this.leaf;return t||i(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},u.componentDidUpdate=function(){this._setSelection()},u.componentDidMount=function(){this._setSelection()},u.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var i=this.props,s=i.customStyleMap,l=i.customStyleFn,c=i.offsetKey,u=i.styleSet,d=u.reduce((function(e,t){var n={},a=s[t];return void 0!==a&&e.textDecoration!==a.textDecoration&&(n.textDecoration=[e.textDecoration,a.textDecoration].join(" ").trim()),r(e,a,n)}),{});if(l){var f=l(u,t);d=r(d,f)}return o.createElement("span",{"data-offset-key":c,ref:function(t){return e.leaf=t},style:d},o.createElement(a,null,n))},c}(o.Component);e.exports=c},function(e,t,n){"use strict";var r=n(82);e.exports=function(e){return!(!e||!e.ownerDocument)&&r(e)&&"BR"===e.nodeName}},function(e,t,n){"use strict";e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},function(e,t,n){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=n(736);e.exports=function(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},function(e,t,n){"use strict";function r(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function a(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function o(){return{width:window.innerWidth||r(),height:window.innerHeight||a()}}o.withoutScrollbars=function(){return{width:r(),height:a()}},e.exports=o},function(e,t,n){"use strict";var r=n(64);function a(){return(a=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(378),i=n(66),s=n(0),l=n(252),c=n(174),u=n(248),d=n(170),f=n(81),p=n(382),h=n(175),m=n(383),_=n(18),g=n(125),b=n(35),y=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},v=function(e){var t,n;function r(){for(var t,n,r,a,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=void 0,(r="_node")in(n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call.apply(e,[this].concat(i))||this))?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=r.prototype;return v.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||y(e.selection,e.block.getKey())&&e.forceSelection},v.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this._node;if(null!=n){var r,a=c.getScrollParent(n),o=h(a);if(a===window){var i=p(n);(r=i.y+i.height-m().height)>0&&window.scrollTo(o.x,o.y+r+10)}else g(n)||_(!1),(r=n.offsetHeight+n.offsetTop-(a.offsetTop+a.offsetHeight+o.y))>0&&l.setTop(a,l.getTop(a)+r+10)}}}},v._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),l=this.props.tree.size-1,c=y(this.props.selection,n);return this.props.tree.map((function(f,p){var h=f.get("leaves");if(0===h.size)return null;var m=h.size-1,_=h.map((function(a,u){var d=i.encode(n,p,u),f=a.get("start"),h=a.get("end");return s.createElement(o,{key:d,offsetKey:d,block:t,start:f,selection:c?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(f,h),styleSet:t.getInlineStyleAt(f),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:p===l&&u===m})})).toArray(),g=f.get("decoratorKey");if(null==g)return _;if(!e.props.decorator)return _;var y=b(e.props.decorator),v=y.getComponentForKey(g);if(!v)return _;var A=y.getPropsForKey(g),w=i.encode(n,p,0),k=h.first().get("start"),E=h.last().get("end"),x=r.slice(k,E),O=t.getEntityAt(f.get("start")),C=d.getHTMLDirIfDifferent(u.getDirection(x),e.props.direction),j={contentState:e.props.contentState,decoratedText:x,dir:C,start:k,end:E,blockKey:n,entityKey:O,offsetKey:w};return s.createElement(v,a({},A,j,{key:w}),_)})).toArray()},v.render=function(){var e=this,t=this.props,n=t.direction,r=t.offsetKey,a=f({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return s.createElement("div",{"data-offset-key":r,className:a,ref:function(t){return e._node=t}},this._renderChildren())},r}(s.Component);e.exports=v},function(e,t,n){"use strict";var r=n(742),a=n(743),o=n(386),i=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function l(e){if("file"==e.kind)return e.getAsFile()}var c=function(){function e(e){this.data=e,this.types=e.types?a(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return s[e]}))},t.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(i,"\n"):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},t.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.isImage=function(){if(this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")})))return!0;for(var e=this.getFiles(),t=0;t<e.length;t++){var n=e[t].type;if(!r.isImage(n))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(l).filter(o.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=c},function(e,t,n){"use strict";function r(e){return function(){return e}}var a=function(){};a.thatReturns=r,a.thatReturnsFalse=r(!1),a.thatReturnsTrue=r(!0),a.thatReturnsNull=r(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){"use strict";(function(t){var r=n(18),a=/\.textClipping$/,o={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,n){var i=0,s=[];e.forEach((function(l){!function(e,n){if(!t.FileReader||e.type&&!(e.type in o))n("");else{if(""===e.type){var i="";return a.test(e.name)&&(i=e.name.replace(a,"")),void n(i)}var s=new FileReader;s.onload=function(){var e=s.result;"string"!=typeof e&&r(!1),n(e)},s.onerror=function(){n("")},s.readAsText(e)}}(l,(function(t){i++,t&&s.push(t.slice(0,5e3)),i==e.length&&n(s.join("\r"))}))}))}}).call(this,n(54))},function(e,t,n){"use strict";var r=n(167);e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},function(e,t,n){"use strict";var r=n(21),a=n(83),o=n(253),i=n(126);e.exports=function(e){var t=i(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),i=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[i-1];return o(e,s?a.getUTF16Length(s,0):1)}),"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},function(e,t,n){"use strict";var r=n(36),a=n(18),o=r.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var i,s=Array.from(t.getClientRects());if(n.push(s),o)return n.reverse(),(i=[]).concat.apply(i,n);t.setEndBefore(r)}a(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=o},function(e,t,n){"use strict";var r="\\s|(?![_])"+n(764).getPunctuation(),a=new RegExp("^(?:"+r+")*(?:['‘’]|(?!"+r+").)*(?:(?!"+r+").)"),o=new RegExp("(?:(?!"+r+").)(?:['‘’]|(?!"+r+").)*(?:"+r+")*$");function i(e,t){var n=t?o.exec(e):a.exec(e);return n?n[0]:e}var s={getBackward:function(e){return i(e,!0)},getForward:function(e){return i(e,!1)}};e.exports=s},function(e,t,n){"use strict";n(254),e.exports=function(e,t){var n,r=e.getSelection(),a=r.getStartKey(),o=r.getStartOffset(),i=e.getCurrentContent(),s=a;return t>i.getBlockForKey(a).getText().length-o?(s=i.getKeyAfter(a),n=0):n=o+t,r.merge({focusKey:s,focusOffset:n})}},function(e,t,n){"use strict";var r;function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(39),s=n(80),l=n(40),c=n(249),u=n(168),d=n(774),f=n(81),p=n(58),h=n(394),m=n(75),_=n(17),g=_.List,b=_.Map,y=_.OrderedSet,v=n(775),A=n(379),w=n(125),k=n(776),E=m("draft_tree_data_support"),x=new RegExp("\r","g"),O=new RegExp("\n","g"),C=new RegExp("^\n","g"),j=new RegExp("&nbsp;","g"),D=new RegExp("&#13;?","g"),N=new RegExp("&#8203;?","g"),S=["bold","bolder","500","600","700","800","900"],T=["light","lighter","normal","100","200","300","400"],M=["className","href","rel","target","title"],P=["alt","className","height","src","width"],B=(o(r={},f("public/DraftStyleDefault/depth0"),0),o(r,f("public/DraftStyleDefault/depth1"),1),o(r,f("public/DraftStyleDefault/depth2"),2),o(r,f("public/DraftStyleDefault/depth3"),3),o(r,f("public/DraftStyleDefault/depth4"),4),r),I=b({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),L=function(e){return w(e)&&e.style.fontFamily.includes("monospace")?"CODE":null},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(B).some((function(n){e.classList.contains(n)&&(t=B[n])})),t},R=function(e){if(!v(e))return!1;var t=e;if(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)return!1;try{return new d(t.href),!0}catch(e){return!1}},F=function(e){if(!k(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},z=function(e,t){if(!w(e))return t;var n=e,r=n.style.fontWeight,a=n.style.fontStyle,o=n.style.textDecoration;return t.withMutations((function(e){S.indexOf(r)>=0?e.add("BOLD"):T.indexOf(r)>=0&&e.remove("BOLD"),"italic"===a?e.add("ITALIC"):"normal"===a&&e.remove("ITALIC"),"underline"===o&&e.add("UNDERLINE"),"line-through"===o&&e.add("STRIKETHROUGH"),"none"===o&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}))},Q=function(e){return"ul"===e||"ol"===e},H=function(){function e(e,t){o(this,"characterList",g()),o(this,"currentBlockType","unstyled"),o(this,"currentDepth",0),o(this,"currentEntity",null),o(this,"currentText",""),o(this,"wrapper",null),o(this,"blockConfigs",[]),o(this,"contentBlocks",[]),o(this,"entityMap",u),o(this,"blockTypeMap",void 0),o(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=g(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=u,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],y())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(E?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a({key:e.key||p(),type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:g(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=g(),this.currentBlockType="unstyled",this.currentText="",t},t._toBlockConfigs=function(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r],o=a.nodeName.toLowerCase();if("body"===o||Q(o)){this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var i=this.currentDepth,s=this.wrapper;Q(o)&&(this.wrapper=o,Q(s)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(a.childNodes),t)),this.currentDepth=i,this.wrapper=s}else{var l=this.blockTypeMap.get(o);if(void 0===l)if("#text"!==o)if("br"!==o)if(F(a))this._addImgNode(a,t);else if(R(a))this._addAnchorNode(a,n,t);else{var c=t;I.has(o)&&(c=c.add(I.get(o))),c=z(a,c);var u=L(a);null!=u&&(c=c.add(u)),n.push.apply(n,this._toBlockConfigs(Array.from(a.childNodes),c))}else this._addBreakNode(a,t);else this._addTextNode(a,t);else{this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var d=this.currentDepth,f=this.wrapper;if(this.wrapper="pre"===o?"pre":this.wrapper,"string"!=typeof l&&(l=this.disambiguate(o,this.wrapper)||l[0]||"unstyled"),!E&&w(a)&&("unordered-list-item"===l||"ordered-list-item"===l)){var h=a;this.currentDepth=U(h,this.currentDepth)}var m=p(),_=this._toBlockConfigs(Array.from(a.childNodes),t);this._trimCurrentText(),n.push(this._makeBlockConfig({key:m,childConfigs:_,type:l})),this.currentDepth=d,this.wrapper=f}}}return n},t._appendText=function(e,t){var n;this.currentText+=e;var r=i.create({style:t,entity:this.currentEntity});this.characterList=(n=this.characterList).push.apply(n,Array(e.length).fill(r))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry((function(e){return null!==e.getEntity()}));(t=void 0!==r?Math.min(t,r[0]):t)>(n=void 0!==(r=this.characterList.reverse().findEntry((function(e){return null!==e.getEntity()})))?Math.max(n,e-r[0]):n)?(this.currentText="",this.characterList=g()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e,t){var n=e.textContent;""===n.trim()&&"pre"!==this.wrapper&&(n=" "),"pre"!==this.wrapper&&(n=(n=n.replace(C,"")).replace(O," ")),this._appendText(n,t)},t._addBreakNode=function(e,t){A(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(k(e)){var n=e,r={};P.forEach((function(e){var t=n.getAttribute(e);t&&(r[e]=t)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),m("draftjs_fix_paste_for_img")?"presentation"!==n.getAttribute("role")&&this._appendText("📷",t):this._appendText("📷",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,n){if(v(e)){var r=e,a={};M.forEach((function(e){var t=r.getAttribute(e);t&&(a[e]=t)})),a.url=new d(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",a||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),n)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,r=0;r<=n;r++){var o=e[r];o.parent=t,o.prevSibling=r>0?e[r-1].key:null,o.nextSibling=r<n?e[r+1].key:null,o.children=g(o.childConfigs.map((function(e){return e.key}))),this.contentBlocks.push(new l(a({},o))),this._toContentBlocks(o.childConfigs,o.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return g(e).flatMap((function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)}))},t._toFlatContentBlocks=function(e){var t=this;this._hoistContainersInBlockConfigs(e).forEach((function(e){var n=t._extractTextFromBlockConfigs(e.childConfigs),r=n.text,o=n.characterList;t.contentBlocks.push(new s(a({},e,{text:e.text+r,characterList:e.characterList.concat(o)})))}))},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=g(),a=0;a<=t;a++){var o=e[a];n+=o.text,r=r.concat(o.characterList),""!==n&&"unstyled"!==o.type&&(n+="\n",r=r.push(r.last()));var i=this._extractTextFromBlockConfigs(o.childConfigs);n+=i.text,r=r.concat(i.characterList)}return{text:n,characterList:r}},e}();e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=t(e=e.trim().replace(x,"").replace(j," ").replace(D,"").replace(N,""));if(!r)return null;var a=function(e){var t={};return e.mapKeys((function(e,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach((function(n){void 0===t[n]?t[n]=e:"string"==typeof t[n]?t[n]=[t[n],e]:t[n].push(e)}))})),b(t)}(n);return new H(a,(function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null})).addDOMNode(r).getContentBlocks()}},function(e,t,n){"use strict";var r=n(36),a=n(18),o=r.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!o&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||a(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},function(e,t,n){"use strict";var r=n(34),a=n(21),o=n(777),i=n(35),s={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some((function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()}))},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=a.push(e,t,"insert-characters");return a.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),o=n.getBlockBefore(r);if(o&&"atomic"===o.getType()){var i=n.getBlockMap().delete(o.getKey()),l=n.merge({blockMap:i,selectionAfter:t});if(l!==n)return a.push(e,l,"remove-range")}var c=s.tryToRemoveBlockStyle(e);return c?a.push(e,c,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),o=t.getStartKey(),i=n.getBlockForKey(o).getLength();if(t.getStartOffset()<i)return null;var s=n.getBlockAfter(o);if(!s||"atomic"!==s.getType())return null;var l=t.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),c=r.removeRange(n,l,"forward");return c!==n?a.push(e,c,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),i=r.getAnchorKey();if(i!==r.getFocusKey())return t;var s=t.getCurrentContent(),l=s.getBlockForKey(i),c=l.getType();if("unordered-list-item"!==c&&"ordered-list-item"!==c)return t;e.preventDefault();var u=l.getDepth();if(!e.shiftKey&&u===n)return t;var d=o(s,r,e.shiftKey?-1:1,n);return a.push(t,d,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),o=n.getStartKey(),s=n.getEndKey(),l=e.getCurrentContent(),c=n;if(o!==s&&0===n.getEndOffset()){var u=i(l.getBlockBefore(s));s=u.getKey(),c=c.merge({anchorKey:o,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:u.getLength(),isBackward:!1})}if(l.getBlockMap().skipWhile((function(e,t){return t!==o})).reverse().skipWhile((function(e,t){return t!==s})).some((function(e){return"atomic"===e.getType()})))return e;var d=l.getBlockForKey(o).getType()===t?"unstyled":t;return a.push(e,r.setBlockType(l,c,d),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),o=e.getCurrentInlineStyle();if(n.isCollapsed())return a.setInlineStyleOverride(e,o.has(t)?o.remove(t):o.add(t));var i,s=e.getCurrentContent();return i=o.has(t)?r.removeInlineStyle(s,n,t):r.applyInlineStyle(s,n,t),a.push(e,i,"change-inline-style")},toggleLink:function(e,t,n){var o=r.applyEntity(e.getCurrentContent(),t,n);return a.push(e,o,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var a=t.getAnchorKey(),o=e.getCurrentContent(),i=o.getBlockForKey(a).getType(),s=o.getBlockBefore(a);if("code-block"===i&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==i)return r.setBlockType(o,t,"unstyled")}return null}};e.exports=s},function(e,t,n){"use strict";var r=n(255),a=n(173),o=n(36),i=o.isPlatform("Mac OS X"),s=i&&o.isBrowser("Firefox < 29"),l=r.hasCommandModifier,c=r.isCtrlKeyCommand;function u(e){return i&&e.altKey||c(e)}e.exports=function(e){switch(e.keyCode){case 66:return l(e)?"bold":null;case 68:return c(e)?"delete":null;case 72:return c(e)?"backspace":null;case 73:return l(e)?"italic":null;case 74:return l(e)?"code":null;case 75:return i&&c(e)?"secondary-cut":null;case 77:case 79:return c(e)?"split-block":null;case 84:return i&&c(e)?"transpose-characters":null;case 85:return l(e)?"underline":null;case 87:return i&&c(e)?"backspace-word":null;case 89:return c(e)?i?"secondary-paste":"redo":null;case 90:return function(e){return l(e)?e.shiftKey?"redo":"undo":null}(e)||null;case a.RETURN:return"split-block";case a.DELETE:return function(e){return!i&&e.shiftKey?null:u(e)?"delete-word":"delete"}(e);case a.BACKSPACE:return function(e){return l(e)&&i?"backspace-to-start-of-line":u(e)?"backspace-word":"backspace"}(e);case a.LEFT:return s&&l(e)?"move-selection-to-start-of-block":null;case a.RIGHT:return s&&l(e)?"move-selection-to-end-of-block":null;default:return null}}},function(e,t,n){"use strict";var r={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=_(l),u=n(6),d=n(3),f=_(n(13)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),h=_(n(923)),m=_(n(78));function _(e){return e&&e.__esModule?e:{default:e}}var g,b,y,v,A,w=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n=i,a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.colors=["highlight-1","highlight-2","highlight-3","highlight-4","highlight-5","highlight-6","highlight-7","highlight-8","highlight-9"],i.store=i.props.store,i.handleChange=i.handleChange.bind(i),i.save=i.save.bind(i),i.props.is_holiday&&(i.options.is_holiday=i.props.is_holiday),i.dates_collection=i.props.dates_collection?i.props.dates_collection:i.store.dates,i.users_collection=i.props.users_collection?i.props.users_collection:i.store.users;var s=i.store.projects.selected;if((s&&"project"!=s.type||!s)&&(i.options.workspace_level=!0),i.users=i.users_collection.filtered.map((function(e){if(e.id&&0!=e.id)return{value:e.id,label:e.name}})),i.users=i.users.filter((function(e){return e})),i.store.uistate.context_menu&&i.store.uistate.context_menu.left){var l=parseInt(i.store.uistate.context_menu.left);l=Math.floor(l/i.store.uistate.column_width)*i.store.uistate.column_width;var c=parseInt(i.store.uistate.context_menu.right);if(c)var u=(c=Math.ceil(c/i.store.uistate.column_width)*i.store.uistate.column_width)-l>i.store.uistate.column_width?c-l:i.store.uistate.column_width;else u=i.store.uistate.column_width;i.dates=i.buildDates(l,u)}else i.dates={start:moment().format("YYYY-MM-DD"),end:moment().format("YYYY-MM-DD")};return i.options.start=i.dates.start,i.options.end=i.dates.end,i.props.user_picker&&(i.options.workspace_level=!0),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"save",value:function(){if(this.props.dates_collection||this.store.projects.selected)if(this.options.name)if(!this.props.user_picker||this.options.user_id)if(this.options.start&&this.options.end)if(this.options.start>this.options.end)alert("Start date can't be greater than end date");else{var e=this.options.start,t=this.options.end,n=this.store.projects.selected,r={start:e,end:t,is_holiday:"1"==this.options.is_holiday,name:this.options.name,color:this.options.color,on_workspace:this.options.workspace_level,created_by:this.store.user.id};if(0==r.on_workspace){var a=!!(n=this.store.projects.selected).supplier_project_id&&n.supplier_project_id;a&&(r.supplier_project_id=a)}this.props.user_picker&&(r.user_id=this.options.user_id),this.dates_collection.create(r),this.props.embedded&&this.props.onClose?this.props.onClose():this.store.uistate.current_modal=""}else alert("Please select the dates");else alert("Please select a user");else alert("Please type a name");else alert("You must select a project to highlight dates")}},{key:"buildDates",value:function(e,t){var n=Math.floor(e/this.store.uistate.column_width),r=Math.floor(n+t/this.store.uistate.column_width)-1;if(1==this.store.uistate.column_length)var a=moment(moment(this.store.uistate.calendar.first_month_first_date)).add("days",n).format("YYYY-MM-DD"),o=moment(moment(this.store.uistate.calendar.first_month_first_date)).add("days",r).format("YYYY-MM-DD");else{var i=p.getMonday(this.store.uistate.calendar.first_month_first_date);a=moment(moment(i)).add("days",7*n).format("YYYY-MM-DD"),o=moment(moment(i)).add("days",7*r+4).format("YYYY-MM-DD")}return{start:a,end:o}}},{key:"renderInner",value:function(){var e=this,t={control:function(e){return i({},e,{height:30,minHeight:30,boxShadow:"0 !important"})},indicatorContainer:function(e){return i({},e,{padding:"4px"})},clearIndicator:function(e){return i({},e,{padding:"4px"})},dropdownIndicator:function(e){return i({},e,{padding:"4px"})},valueContainer:function(e){return i({},e,{padding:"0px 8px"})},menuPortal:function(e){return i({},e,{zIndex:9999})}};return c.default.createElement("div",{className:"",style:{minHeight:"300px"}},c.default.createElement("p",{style:{display:"flex"}},c.default.createElement("input",{type:"text",className:"date-name",name:"name",value:this.options.name,onChange:this.handleChange,placeholder:"Description...",style:{flexGrow:1}})),this.props.user_picker&&c.default.createElement("p",null,c.default.createElement(h.default,{onChange:function(t){return e.options.user_id=t.value},options:this.users,styles:t,placeholder:"User...",menuPortalTarget:document.body})),this.props.user_picker&&c.default.createElement("div",{style:{display:"flex"}},c.default.createElement("div",{style:{flexGrow:1}},c.default.createElement("div",null,"Start"),c.default.createElement("div",{style:{display:"flex",padding:"5px 5px 5px 0"}},c.default.createElement("input",{type:"date",style:{flexGrow:1},value:this.options.start,onChange:function(t){return e.options.start=t.target.value}}))),c.default.createElement("div",{style:{flexGrow:1}},c.default.createElement("div",null,"Finish"),c.default.createElement("div",{style:{display:"flex",padding:"5px 0 5px 0"}},c.default.createElement("input",{type:"date",style:{flexGrow:1},value:this.options.end,onChange:function(t){return e.options.end=t.target.value}})))),!this.props.user_picker&&c.default.createElement("p",{style:{marginTop:"3px"}},c.default.createElement("label",{className:"checkbox"},c.default.createElement("input",{type:"checkbox",onChange:this.handleChange,name:"workspace_level",className:"on-workspace",disabled:this.options.workspace_level&&"project"!=this.store.projects.selected.type,checked:this.options.workspace_level}),"Workspace level (all projects)")),c.default.createElement("p",{className:"selectable-color"}),!this.props.user_picker&&this.colors.map((function(t){return c.default.createElement("div",{className:["pull-left color-box set-color",t,e.options.color==t?"selected":""].join(" "),onClick:function(n){return e.options.color=t}})})),c.default.createElement("div",{className:"clearfix"}),c.default.createElement("p",null),this.props.user_picker&&c.default.createElement("div",null,c.default.createElement("div",null,c.default.createElement("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",alignItems:"center"}},c.default.createElement("div",null,c.default.createElement("i",{style:{color:"orange",fontSize:"24px"},className:"fa-solid fa-hexagon-exclamation"})),c.default.createElement("div",null,"Vacation periods and/or time off of a user will be applied to all the projects of this workbook.")),c.default.createElement("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",alignItems:"center"}},c.default.createElement("div",null,c.default.createElement("i",{style:{color:"orange",fontSize:"24px"},className:"fa-solid fa-hexagon-exclamation"})),c.default.createElement("div",null,"If the schedule of a task assigned to more than one user matches or overlaps with the time off of one of the assignees, then the time off will apply for all the assignees of that task.")),c.default.createElement("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",alignItems:"center"}},c.default.createElement("div",null,c.default.createElement("i",{style:{color:"orange",fontSize:"24px"},className:"fa-solid fa-hexagon-exclamation"})),c.default.createElement("div",null,"Tasks that match a vacation period (in full or partially) will have an adjusted duration equal to the number of days the assignee will be available.")))))}},{key:"render",value:function(){return this.props.embedded?c.default.createElement(m.default,{width:"400",height:"600",title:this.props.user_picker?"Set time off for a user":this.options.is_holiday?"Highlight Date as non-working":"Highlight day",id:"highlight-date",closeButton:"true",successButton:"true",successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.save,closeButtonCallback:this.props.onClose,store:this.store},this.renderInner()):c.default.createElement(f.default,{width:"400",height:"600",title:this.props.user_picker?"Set time off for a user":this.options.is_holiday?"Highlight Date as non-working":"Highlight day",id:"highlight-date",closeButton:"true",successButton:"true",successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.save,store:this.store},this.renderInner())}}]),t}(),g=a.prototype,b="options",y=[d.observable],v={enumerable:!0,initializer:function(){return{color:"highlight-1",is_holiday:!1,workspace_level:!1,name:"",user_id:!1,start:!1,end:!1}}},A={},Object.keys(v).forEach((function(e){A[e]=v[e]})),A.enumerable=!!A.enumerable,A.configurable=!!A.configurable,("value"in A||A.initializer)&&(A.writable=!0),void 0===(A=y.slice().reverse().reduce((function(e,t){return t(g,b,e)||e}),A)).initializer&&(Object.defineProperty(g,b,A),A=null),o=A,r=a))||r;t.default=w},function(e,t,n){var r=n(400);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),l(n(20))),s=l(n(834));function l(e){return e&&e.__esModule?e:{default:e}}var c,u,d,f,p,h,m=(r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return a.globalstore=e,a.options=r,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"model",value:function(){return s.default}},{key:"url",value:function(){return"/suppliers/"+this.options.supplier+"/workspaces"}},{key:"prefill",value:function(e){return e.forEach((function(e){e.id||(e.id=e._id?e._id:e.supplier_project_id)})),e}},{key:"filtered",get:function(){return this.models}}]),t}(),c=r.prototype,u="filtered",d=[o.computed],f=Object.getOwnPropertyDescriptor(r.prototype,"filtered"),p=r.prototype,h={},Object.keys(f).forEach((function(e){h[e]=f[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=d.slice().reverse().reduce((function(e,t){return t(c,u,e)||e}),h),p&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(p):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(c,u,h),h=null),r);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(3),h=(d=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&d.__esModule?d:{default:d};function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"name",a,n),m(n,"id",o,n),m(n,"token",i,n),m(n,"email",s,n),m(n,"user_id",l,n),m(n,"owner",c,n),m(n,"admin",u,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),f(t,[{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{name:"",token:"",email:"",user_id:"",id:"",owner:"",admin:!1}}}]),t}(),a=_(r.prototype,"name",[p.observable],{enumerable:!0,initializer:null}),o=_(r.prototype,"id",[p.observable],{enumerable:!0,initializer:null}),i=_(r.prototype,"token",[p.observable],{enumerable:!0,initializer:null}),s=_(r.prototype,"email",[p.observable],{enumerable:!0,initializer:null}),l=_(r.prototype,"user_id",[p.observable],{enumerable:!0,initializer:null}),c=_(r.prototype,"owner",[p.observable],{enumerable:!0,initializer:null}),u=_(r.prototype,"admin",[p.observable],{enumerable:!0,initializer:null}),r);t.default=g},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),a=s(n(0)),o=s(n(15)),i=n(182);function s(e){return e&&e.__esModule?e:{default:e}}n(404);var l="unmounted";t.UNMOUNTED=l;var c="exited";t.EXITED=c;var u="entering";t.ENTERING=u;var d="entered";t.ENTERED=d,t.EXITING="exiting";var f=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var a,o=n.transitionGroup,i=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(a=c,r.appearStatus=u):a=d:a=t.unmountOnExit||t.mountOnEnter?l:c,r.state={status:a},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null},i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==d&&(t=u):n!==u&&n!==d||(t="exiting")}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},i.performEnter=function(e,t){var n=this,r=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),i=a?o.appear:o.enter;t||r?(this.props.onEnter(e,a),this.safeSetState({status:u},(function(){n.props.onEntering(e,a),n.onTransitionEnd(e,i,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,a)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},i.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var o=a.default.Children.only(n);return a.default.cloneElement(o,r)},r}(a.default.Component);function p(){}f.contextTypes={transitionGroup:r.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var h=(0,i.polyfill)(f);t.default=h},function(e,t,n){"use strict";var r;t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,(r=n(1))&&r.__esModule,t.timeoutsShape=null,t.classNamesShape=null},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(1)),a=s(n(0)),o=n(182),i=n(867);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,n;function r(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:a,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,r):(0,i.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,i.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["component","childFactory"]),o=u(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:a.default.createElement(t,r,o)},r}(a.default.Component);d.childContextTypes={transitionGroup:r.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var f=(0,o.polyfill)(d);t.default=f,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6);n(3);var c=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.clickFunc=n.props.clickFunc,n.activationBoolean=n.props.activationBoolean,n.text=n.props.text,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return s.default.createElement("a",{onClick:this.clickFunc,className:"radio-btn"},s.default.createElement("i",{className:["fa-fw",this.activationBoolean()?"far fa-check-circle":"far fa-circle"].join(" ")}))}}]),t}())||r;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=p(l),u=n(6),d=n(3),f=p(n(885));function p(e){return e&&e.__esModule?e:{default:e}}var h,m,_,g,b,y=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"active_tab_index",a=i,(r=o)&&Object.defineProperty(n,"active_tab_index",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.close=i.close.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){$(e.wrapper).addClass(f.default.visible)}),100),this.props.inheritClose&&this.props.inheritClose(this.close),this.props.activeTab&&(this.active_tab_index=this.props.activeTab)}},{key:"componentWillUnmount",value:function(){}},{key:"close",value:function(){var e=this;$(this.wrapper).removeClass(f.default.visible),setTimeout((function(){e.store.uistate.current_modal=!1,e.store.uistate.current_modal_options=!1}),500)}},{key:"render",value:function(){var e=this;return this.store.uistate.is_mobile||i({top:"5% !important",width:this.props.width+"px",marginLeft:-1*this.props.width/2+"px"},this.props.style),c.default.createElement("div",{ref:function(t){return e.wrapper=t},className:f.default.container},c.default.createElement("div",{className:f.default.container_inner},c.default.createElement("div",{className:f.default.content},c.default.createElement("div",{className:f.default.header},c.default.createElement("div",{className:f.default.close,onClick:function(){return e.close()}},c.default.createElement("i",{className:"fal fa-arrow-left"})),this.props.title),c.default.createElement("div",{className:f.default.tabs},this.props.tabNames.map((function(t,n){return c.default.createElement("div",{className:[f.default.tab,n==e.active_tab_index?f.default.active:""].join(" "),onClick:function(){return e.active_tab_index=n}},t)}))),c.default.createElement("div",{className:f.default.body},this.props.tabContent[this.active_tab_index]),(this.props.closeButton||this.props.successButton||this.props.dangerButton)&&c.default.createElement("div",{className:f.default.footer,style:this.props.footerStyle},this.props.footerHTML,this.props.dangerButton&&c.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-danger btn-flat pull-left",disabled:!this.props.dangerButtonEnabled||!1,onClick:this.props.dangerButtonCallback},this.props.dangerButtonName),this.props.closeButton&&c.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-close btn-flat",onClick:this.props.closeButtonCallback||this.close}," ",this.props.closeButtonName||"Close"," ")," ",this.props.successButton&&c.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-success btn-flat",disabled:!this.props.successButtonEnabled||!1,onClick:function(){return e.props.successButtonCallback({active_tab_index:e.active_tab_index})}}," ",this.props.successButtonLoading&&c.default.createElement("i",{className:"fa fa-spin fa-spinner"})," ",this.props.successButtonName||"Continue")))),c.default.createElement("div",{className:f.default.header_background}))}}]),t}(),h=a.prototype,m="active_tab_index",_=[d.observable],g={enumerable:!0,initializer:function(){return 0}},b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),void 0===(b=_.slice().reverse().reduce((function(e,t){return t(h,m,e)||e}),b)).initializer&&(Object.defineProperty(h,m,b),b=null),o=b,r=a))||r;t.default=y},function(e,t,n){var r=n(921);"string"==typeof r&&(r=[[e.i,r,""]]);n(219)(r,{transform:void 0}),r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";n.r(t),n.d(t,"add",(function(){return l})),n.d(t,"addBusinessDays",(function(){return f})),n.d(t,"addDays",(function(){return r.default})),n.d(t,"addHours",(function(){return p.default})),n.d(t,"addISOWeekYears",(function(){return v})),n.d(t,"addMilliseconds",(function(){return A.a})),n.d(t,"addMinutes",(function(){return w.default})),n.d(t,"addMonths",(function(){return a.default})),n.d(t,"addQuarters",(function(){return k})),n.d(t,"addSeconds",(function(){return E})),n.d(t,"addWeeks",(function(){return x.default})),n.d(t,"addYears",(function(){return O.default})),n.d(t,"areIntervalsOverlapping",(function(){return C})),n.d(t,"clamp",(function(){return N})),n.d(t,"closestIndexTo",(function(){return S})),n.d(t,"closestTo",(function(){return T})),n.d(t,"compareAsc",(function(){return M})),n.d(t,"compareDesc",(function(){return P})),n.d(t,"daysToWeeks",(function(){return I})),n.d(t,"differenceInBusinessDays",(function(){return R})),n.d(t,"differenceInCalendarDays",(function(){return b.default})),n.d(t,"differenceInCalendarISOWeekYears",(function(){return F})),n.d(t,"differenceInCalendarISOWeeks",(function(){return H})),n.d(t,"differenceInCalendarMonths",(function(){return Y.default})),n.d(t,"differenceInCalendarQuarters",(function(){return W})),n.d(t,"differenceInCalendarWeeks",(function(){return q.default})),n.d(t,"differenceInCalendarYears",(function(){return G.default})),n.d(t,"differenceInDays",(function(){return $})),n.d(t,"differenceInHours",(function(){return ee})),n.d(t,"differenceInISOWeekYears",(function(){return ne})),n.d(t,"differenceInMilliseconds",(function(){return X})),n.d(t,"differenceInMinutes",(function(){return re})),n.d(t,"differenceInMonths",(function(){return se})),n.d(t,"differenceInQuarters",(function(){return le})),n.d(t,"differenceInSeconds",(function(){return ce})),n.d(t,"differenceInWeeks",(function(){return ue})),n.d(t,"differenceInYears",(function(){return de})),n.d(t,"eachDayOfInterval",(function(){return fe})),n.d(t,"eachHourOfInterval",(function(){return pe})),n.d(t,"eachMinuteOfInterval",(function(){return me})),n.d(t,"eachMonthOfInterval",(function(){return _e})),n.d(t,"eachQuarterOfInterval",(function(){return be})),n.d(t,"eachWeekOfInterval",(function(){return ye})),n.d(t,"eachWeekendOfInterval",(function(){return ve})),n.d(t,"eachWeekendOfMonth",(function(){return we})),n.d(t,"eachWeekendOfYear",(function(){return xe})),n.d(t,"eachYearOfInterval",(function(){return Oe})),n.d(t,"endOfDay",(function(){return ae.default})),n.d(t,"endOfDecade",(function(){return Ce})),n.d(t,"endOfHour",(function(){return je})),n.d(t,"endOfISOWeek",(function(){return Ne})),n.d(t,"endOfISOWeekYear",(function(){return Se})),n.d(t,"endOfMinute",(function(){return Te})),n.d(t,"endOfMonth",(function(){return oe.default})),n.d(t,"endOfQuarter",(function(){return Me})),n.d(t,"endOfSecond",(function(){return Pe})),n.d(t,"endOfToday",(function(){return Be})),n.d(t,"endOfTomorrow",(function(){return Ie})),n.d(t,"endOfWeek",(function(){return De.default})),n.d(t,"endOfYear",(function(){return Ee})),n.d(t,"endOfYesterday",(function(){return Le})),n.d(t,"format",(function(){return Ue.default})),n.d(t,"formatDistance",(function(){return He})),n.d(t,"formatDistanceStrict",(function(){return Ge})),n.d(t,"formatDistanceToNow",(function(){return Ve})),n.d(t,"formatDistanceToNowStrict",(function(){return $e})),n.d(t,"formatDuration",(function(){return Je})),n.d(t,"formatISO",(function(){return et})),n.d(t,"formatISO9075",(function(){return tt})),n.d(t,"formatISODuration",(function(){return nt})),n.d(t,"formatRFC3339",(function(){return rt})),n.d(t,"formatRFC7231",(function(){return it})),n.d(t,"formatRelative",(function(){return lt})),n.d(t,"fromUnixTime",(function(){return ct})),n.d(t,"getDate",(function(){return ut.default})),n.d(t,"getDay",(function(){return dt.default})),n.d(t,"getDayOfYear",(function(){return ft})),n.d(t,"getDaysInMonth",(function(){return pt.a})),n.d(t,"getDaysInYear",(function(){return mt})),n.d(t,"getDecade",(function(){return _t})),n.d(t,"getHours",(function(){return gt.default})),n.d(t,"getISODay",(function(){return bt})),n.d(t,"getISOWeek",(function(){return vt})),n.d(t,"getISOWeekYear",(function(){return _})),n.d(t,"getISOWeeksInYear",(function(){return wt})),n.d(t,"getMilliseconds",(function(){return kt})),n.d(t,"getMinutes",(function(){return Et.default})),n.d(t,"getMonth",(function(){return xt.default})),n.d(t,"getOverlappingDaysInIntervals",(function(){return Ot})),n.d(t,"getQuarter",(function(){return K.default})),n.d(t,"getSeconds",(function(){return Ct.default})),n.d(t,"getTime",(function(){return jt.default})),n.d(t,"getUnixTime",(function(){return Dt})),n.d(t,"getWeek",(function(){return Nt.default})),n.d(t,"getWeekOfMonth",(function(){return St})),n.d(t,"getWeekYear",(function(){return Tt.a})),n.d(t,"getWeeksInMonth",(function(){return Pt})),n.d(t,"getYear",(function(){return Bt.default})),n.d(t,"hoursToMilliseconds",(function(){return It})),n.d(t,"hoursToMinutes",(function(){return Lt})),n.d(t,"hoursToSeconds",(function(){return Ut})),n.d(t,"intervalToDuration",(function(){return Qt})),n.d(t,"intlFormat",(function(){return Ht})),n.d(t,"isAfter",(function(){return Yt.default})),n.d(t,"isBefore",(function(){return Kt.default})),n.d(t,"isDate",(function(){return Wt.default})),n.d(t,"isEqual",(function(){return qt.default})),n.d(t,"isExists",(function(){return Gt})),n.d(t,"isFirstDayOfMonth",(function(){return Vt})),n.d(t,"isFriday",(function(){return $t})),n.d(t,"isFuture",(function(){return Xt})),n.d(t,"isLastDayOfMonth",(function(){return ie})),n.d(t,"isLeapYear",(function(){return ht})),n.d(t,"isMatch",(function(){return Zt})),n.d(t,"isMonday",(function(){return en})),n.d(t,"isPast",(function(){return tn})),n.d(t,"isSameDay",(function(){return L.default})),n.d(t,"isSameHour",(function(){return rn})),n.d(t,"isSameISOWeek",(function(){return on})),n.d(t,"isSameISOWeekYear",(function(){return sn})),n.d(t,"isSameMinute",(function(){return ln})),n.d(t,"isSameMonth",(function(){return cn.default})),n.d(t,"isSameQuarter",(function(){return un.default})),n.d(t,"isSameSecond",(function(){return fn})),n.d(t,"isSameWeek",(function(){return an})),n.d(t,"isSameYear",(function(){return pn.default})),n.d(t,"isSaturday",(function(){return d})),n.d(t,"isSunday",(function(){return u})),n.d(t,"isThisHour",(function(){return hn})),n.d(t,"isThisISOWeek",(function(){return mn})),n.d(t,"isThisMinute",(function(){return _n})),n.d(t,"isThisMonth",(function(){return gn})),n.d(t,"isThisQuarter",(function(){return bn})),n.d(t,"isThisSecond",(function(){return yn})),n.d(t,"isThisWeek",(function(){return vn})),n.d(t,"isThisYear",(function(){return An})),n.d(t,"isThursday",(function(){return wn})),n.d(t,"isToday",(function(){return kn})),n.d(t,"isTomorrow",(function(){return En})),n.d(t,"isTuesday",(function(){return xn})),n.d(t,"isValid",(function(){return U.default})),n.d(t,"isWednesday",(function(){return On})),n.d(t,"isWeekend",(function(){return c})),n.d(t,"isWithinInterval",(function(){return Cn.default})),n.d(t,"isYesterday",(function(){return jn})),n.d(t,"lastDayOfDecade",(function(){return Dn})),n.d(t,"lastDayOfISOWeek",(function(){return Sn})),n.d(t,"lastDayOfISOWeekYear",(function(){return Tn})),n.d(t,"lastDayOfMonth",(function(){return Mt})),n.d(t,"lastDayOfQuarter",(function(){return Mn})),n.d(t,"lastDayOfWeek",(function(){return Nn})),n.d(t,"lastDayOfYear",(function(){return Pn})),n.d(t,"lightFormat",(function(){return Fn})),n.d(t,"max",(function(){return j.default})),n.d(t,"milliseconds",(function(){return Qn})),n.d(t,"millisecondsToHours",(function(){return Hn})),n.d(t,"millisecondsToMinutes",(function(){return Yn})),n.d(t,"millisecondsToSeconds",(function(){return Kn})),n.d(t,"min",(function(){return D.default})),n.d(t,"minutesToHours",(function(){return Wn})),n.d(t,"minutesToMilliseconds",(function(){return qn})),n.d(t,"minutesToSeconds",(function(){return Gn})),n.d(t,"monthsToQuarters",(function(){return Vn})),n.d(t,"monthsToYears",(function(){return $n})),n.d(t,"nextDay",(function(){return Xn})),n.d(t,"nextFriday",(function(){return Jn})),n.d(t,"nextMonday",(function(){return Zn})),n.d(t,"nextSaturday",(function(){return er})),n.d(t,"nextSunday",(function(){return tr})),n.d(t,"nextThursday",(function(){return nr})),n.d(t,"nextTuesday",(function(){return rr})),n.d(t,"nextWednesday",(function(){return ar})),n.d(t,"parse",(function(){return Jt.default})),n.d(t,"parseISO",(function(){return or.default})),n.d(t,"parseJSON",(function(){return ir})),n.d(t,"previousDay",(function(){return sr})),n.d(t,"previousFriday",(function(){return lr})),n.d(t,"previousMonday",(function(){return cr})),n.d(t,"previousSaturday",(function(){return ur})),n.d(t,"previousSunday",(function(){return dr})),n.d(t,"previousThursday",(function(){return fr})),n.d(t,"previousTuesday",(function(){return pr})),n.d(t,"previousWednesday",(function(){return hr})),n.d(t,"quartersToMonths",(function(){return mr})),n.d(t,"quartersToYears",(function(){return _r})),n.d(t,"roundToNearestMinutes",(function(){return gr})),n.d(t,"secondsToHours",(function(){return br})),n.d(t,"secondsToMilliseconds",(function(){return yr})),n.d(t,"secondsToMinutes",(function(){return vr})),n.d(t,"set",(function(){return wr})),n.d(t,"setDate",(function(){return kr})),n.d(t,"setDay",(function(){return Er})),n.d(t,"setDayOfYear",(function(){return xr})),n.d(t,"setHours",(function(){return Or.default})),n.d(t,"setISODay",(function(){return Cr})),n.d(t,"setISOWeek",(function(){return jr})),n.d(t,"setISOWeekYear",(function(){return y})),n.d(t,"setMilliseconds",(function(){return Dr})),n.d(t,"setMinutes",(function(){return Nr.default})),n.d(t,"setMonth",(function(){return Ar.default})),n.d(t,"setQuarter",(function(){return Sr.default})),n.d(t,"setSeconds",(function(){return Tr.default})),n.d(t,"setWeek",(function(){return Mr})),n.d(t,"setWeekYear",(function(){return Br})),n.d(t,"setYear",(function(){return Ir.default})),n.d(t,"startOfDay",(function(){return Lr.default})),n.d(t,"startOfDecade",(function(){return Ur})),n.d(t,"startOfHour",(function(){return nn})),n.d(t,"startOfISOWeek",(function(){return m})),n.d(t,"startOfISOWeekYear",(function(){return g})),n.d(t,"startOfMinute",(function(){return he})),n.d(t,"startOfMonth",(function(){return Ae.default})),n.d(t,"startOfQuarter",(function(){return ge.default})),n.d(t,"startOfSecond",(function(){return dn})),n.d(t,"startOfToday",(function(){return Rr})),n.d(t,"startOfTomorrow",(function(){return Fr})),n.d(t,"startOfWeek",(function(){return h.default})),n.d(t,"startOfWeekYear",(function(){return Pr.a})),n.d(t,"startOfYear",(function(){return ke.default})),n.d(t,"startOfYesterday",(function(){return zr})),n.d(t,"sub",(function(){return zt})),n.d(t,"subBusinessDays",(function(){return Qr})),n.d(t,"subDays",(function(){return Rt.default})),n.d(t,"subHours",(function(){return Hr.default})),n.d(t,"subISOWeekYears",(function(){return te})),n.d(t,"subMilliseconds",(function(){return st.a})),n.d(t,"subMinutes",(function(){return Yr.default})),n.d(t,"subMonths",(function(){return Ft.default})),n.d(t,"subQuarters",(function(){return Kr})),n.d(t,"subSeconds",(function(){return Wr})),n.d(t,"subWeeks",(function(){return qr.default})),n.d(t,"subYears",(function(){return Gr.default})),n.d(t,"toDate",(function(){return o.default})),n.d(t,"weeksToDays",(function(){return Vr})),n.d(t,"yearsToMonths",(function(){return $r})),n.d(t,"yearsToQuarters",(function(){return Xr})),n.d(t,"daysInWeek",(function(){return B.a})),n.d(t,"maxTime",(function(){return B.b})),n.d(t,"millisecondsInMinute",(function(){return B.d})),n.d(t,"millisecondsInHour",(function(){return B.c})),n.d(t,"millisecondsInSecond",(function(){return B.e})),n.d(t,"minTime",(function(){return B.f})),n.d(t,"minutesInHour",(function(){return B.g})),n.d(t,"monthsInQuarter",(function(){return B.h})),n.d(t,"monthsInYear",(function(){return B.i})),n.d(t,"quartersInYear",(function(){return B.j})),n.d(t,"secondsInHour",(function(){return B.k})),n.d(t,"secondsInMinute",(function(){return B.l}));var r=n(29),a=n(46),o=n(4),i=n(2),s=n(8);function l(e,t){if(Object(i.a)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var n=t.years?Object(s.a)(t.years):0,l=t.months?Object(s.a)(t.months):0,c=t.weeks?Object(s.a)(t.weeks):0,u=t.days?Object(s.a)(t.days):0,d=t.hours?Object(s.a)(t.hours):0,f=t.minutes?Object(s.a)(t.minutes):0,p=t.seconds?Object(s.a)(t.seconds):0,h=Object(o.default)(e),m=l||n?Object(a.default)(h,l+12*n):h,_=u||c?Object(r.default)(m,u+7*c):m,g=1e3*(p+60*(f+60*d));return new Date(_.getTime()+g)}function c(e){Object(i.a)(1,arguments);var t=Object(o.default)(e).getDay();return 0===t||6===t}function u(e){return Object(i.a)(1,arguments),0===Object(o.default)(e).getDay()}function d(e){return Object(i.a)(1,arguments),6===Object(o.default)(e).getDay()}function f(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=c(n),a=Object(s.a)(t);if(isNaN(a))return new Date(NaN);var l=n.getHours(),f=a<0?-1:1,p=Object(s.a)(a/5);n.setDate(n.getDate()+7*p);for(var h=Math.abs(a%5);h>0;)n.setDate(n.getDate()+f),c(n)||(h-=1);return r&&c(n)&&0!==a&&(d(n)&&n.setDate(n.getDate()+(f<0?2:-1)),u(n)&&n.setDate(n.getDate()+(f<0?1:-2))),n.setHours(l),n}var p=n(85),h=n(28);function m(e){return Object(i.a)(1,arguments),Object(h.default)(e,{weekStartsOn:1})}function _(e){Object(i.a)(1,arguments);var t=Object(o.default)(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=m(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var l=m(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function g(e){Object(i.a)(1,arguments);var t=_(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),m(n)}var b=n(32);function y(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=Object(s.a)(t),a=Object(b.default)(n,g(n)),l=new Date(0);return l.setFullYear(r,0,4),l.setHours(0,0,0,0),(n=g(l)).setDate(n.getDate()+a),n}function v(e,t){Object(i.a)(2,arguments);var n=Object(s.a)(t);return y(e,_(e)+n)}var A=n(59),w=n(84);function k(e,t){Object(i.a)(2,arguments);var n=3*Object(s.a)(t);return Object(a.default)(e,n)}function E(e,t){Object(i.a)(2,arguments);var n=Object(s.a)(t);return Object(A.a)(e,1e3*n)}var x=n(69),O=n(128);function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{inclusive:!1};Object(i.a)(2,arguments);var r=e||{},a=t||{},s=Object(o.default)(r.start).getTime(),l=Object(o.default)(r.end).getTime(),c=Object(o.default)(a.start).getTime(),u=Object(o.default)(a.end).getTime();if(!(s<=l&&c<=u))throw new RangeError("Invalid interval");return n.inclusive?s<=u&&c<=l:s<u&&c<l}var j=n(134),D=n(133);function N(e,t){var n=t.start,r=t.end;return Object(i.a)(2,arguments),Object(D.default)([Object(j.default)([e,n]),r])}function S(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e);if(isNaN(Number(n)))return NaN;var r,a,s=n.getTime();return(null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t)).forEach((function(e,t){var n=Object(o.default)(e);if(isNaN(Number(n)))return r=NaN,void(a=NaN);var i=Math.abs(s-n.getTime());(null==r||i<Number(a))&&(r=t,a=i)})),r}function T(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e);if(isNaN(Number(n)))return new Date(NaN);var r,a,s=n.getTime();return(null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t)).forEach((function(e){var t=Object(o.default)(e);if(isNaN(Number(t)))return r=new Date(NaN),void(a=NaN);var n=Math.abs(s-t.getTime());(null==r||n<Number(a))&&(r=t,a=n)})),r}function M(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=Object(o.default)(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function P(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=Object(o.default)(t),a=n.getTime()-r.getTime();return a>0?-1:a<0?1:a}var B=n(14);function I(e){Object(i.a)(1,arguments);var t=e/B.a;return Math.floor(t)}var L=n(47),U=n(27);function R(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),a=Object(o.default)(t);if(!Object(U.default)(n)||!Object(U.default)(a))return NaN;var l=Object(b.default)(n,a),u=l<0?-1:1,d=Object(s.a)(l/7),f=5*d;for(a=Object(r.default)(a,7*d);!Object(L.default)(n,a);)f+=c(a)?0:u,a=Object(r.default)(a,u);return 0===f?0:f}function F(e,t){return Object(i.a)(2,arguments),_(e)-_(t)}var z=n(23),Q=6048e5;function H(e,t){Object(i.a)(2,arguments);var n=m(e),r=m(t),a=n.getTime()-Object(z.a)(n),o=r.getTime()-Object(z.a)(r);return Math.round((a-o)/Q)}var Y=n(135),K=n(105);function W(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=Object(o.default)(t);return 4*(n.getFullYear()-r.getFullYear())+(Object(K.default)(n)-Object(K.default)(r))}var q=n(136),G=n(137);function V(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function $(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=Object(o.default)(t),a=V(n,r),s=Math.abs(Object(b.default)(n,r));n.setDate(n.getDate()-a*s);var l=a*(s-Number(V(n,r)===-a));return 0===l?0:l}function X(e,t){return Object(i.a)(2,arguments),Object(o.default)(e).getTime()-Object(o.default)(t).getTime()}var J={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function Z(e){return e?J[e]:J.trunc}function ee(e,t,n){Object(i.a)(2,arguments);var r=X(e,t)/B.c;return Z(null==n?void 0:n.roundingMethod)(r)}function te(e,t){return Object(i.a)(2,arguments),v(e,-Object(s.a)(t))}function ne(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=Object(o.default)(t),a=M(n,r),s=Math.abs(F(n,r));n=te(n,a*s);var l=a*(s-Number(M(n,r)===-a));return 0===l?0:l}function re(e,t,n){Object(i.a)(2,arguments);var r=X(e,t)/B.d;return Z(null==n?void 0:n.roundingMethod)(r)}var ae=n(88),oe=n(89);function ie(e){Object(i.a)(1,arguments);var t=Object(o.default)(e);return Object(ae.default)(t).getTime()===Object(oe.default)(t).getTime()}function se(e,t){Object(i.a)(2,arguments);var n,r=Object(o.default)(e),a=Object(o.default)(t),s=M(r,a),l=Math.abs(Object(Y.default)(r,a));if(l<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*l);var c=M(r,a)===-s;ie(Object(o.default)(e))&&1===l&&1===M(e,a)&&(c=!1),n=s*(l-Number(c))}return 0===n?0:n}function le(e,t,n){Object(i.a)(2,arguments);var r=se(e,t)/3;return Z(null==n?void 0:n.roundingMethod)(r)}function ce(e,t,n){Object(i.a)(2,arguments);var r=X(e,t)/1e3;return Z(null==n?void 0:n.roundingMethod)(r)}function ue(e,t,n){Object(i.a)(2,arguments);var r=$(e,t)/7;return Z(null==n?void 0:n.roundingMethod)(r)}function de(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=Object(o.default)(t),a=M(n,r),s=Math.abs(Object(G.default)(n,r));n.setFullYear(1584),r.setFullYear(1584);var l=M(n,r)===-a,c=a*(s-Number(l));return 0===c?0:c}function fe(e,t){Object(i.a)(1,arguments);var n=e||{},r=Object(o.default)(n.start),a=Object(o.default)(n.end).getTime();if(!(r.getTime()<=a))throw new RangeError("Invalid interval");var s=[],l=r;l.setHours(0,0,0,0);var c=t&&"step"in t?Number(t.step):1;if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=a;)s.push(Object(o.default)(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return s}function pe(e,t){Object(i.a)(1,arguments);var n=e||{},r=Object(o.default)(n.start),a=Object(o.default)(n.end),s=r.getTime(),l=a.getTime();if(!(s<=l))throw new RangeError("Invalid interval");var c=[],u=r;u.setMinutes(0,0,0);var d=t&&"step"in t?Number(t.step):1;if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=l;)c.push(Object(o.default)(u)),u=Object(p.default)(u,d);return c}function he(e){Object(i.a)(1,arguments);var t=Object(o.default)(e);return t.setSeconds(0,0),t}function me(e,t){Object(i.a)(1,arguments);var n=he(Object(o.default)(e.start)),r=Object(o.default)(e.end),a=n.getTime(),s=r.getTime();if(a>=s)throw new RangeError("Invalid interval");var l=[],c=n,u=t&&"step"in t?Number(t.step):1;if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number equal or greater than 1");for(;c.getTime()<=s;)l.push(Object(o.default)(c)),c=Object(w.default)(c,u);return l}function _e(e){Object(i.a)(1,arguments);var t=e||{},n=Object(o.default)(t.start),r=Object(o.default)(t.end).getTime(),a=[];if(!(n.getTime()<=r))throw new RangeError("Invalid interval");var s=n;for(s.setHours(0,0,0,0),s.setDate(1);s.getTime()<=r;)a.push(Object(o.default)(s)),s.setMonth(s.getMonth()+1);return a}var ge=n(73);function be(e){Object(i.a)(1,arguments);var t=e||{},n=Object(o.default)(t.start),r=Object(o.default)(t.end),a=r.getTime();if(!(n.getTime()<=a))throw new RangeError("Invalid interval");var s=Object(ge.default)(n);a=Object(ge.default)(r).getTime();for(var l=[],c=s;c.getTime()<=a;)l.push(Object(o.default)(c)),c=k(c,1);return l}function ye(e,t){Object(i.a)(1,arguments);var n=e||{},r=Object(o.default)(n.start),a=Object(o.default)(n.end),s=a.getTime();if(!(r.getTime()<=s))throw new RangeError("Invalid interval");var l=Object(h.default)(r,t),c=Object(h.default)(a,t);l.setHours(15),c.setHours(15),s=c.getTime();for(var u=[],d=l;d.getTime()<=s;)d.setHours(0),u.push(Object(o.default)(d)),(d=Object(x.default)(d,1)).setHours(15);return u}function ve(e){Object(i.a)(1,arguments);for(var t=fe(e),n=[],r=0;r<t.length;){var a=t[r++];c(a)&&(n.push(a),u(a)&&(r+=5))}return n}var Ae=n(72);function we(e){Object(i.a)(1,arguments);var t=Object(Ae.default)(e);if(isNaN(t.getTime()))throw new RangeError("The passed date is invalid");return ve({start:t,end:Object(oe.default)(e)})}var ke=n(87);function Ee(e){Object(i.a)(1,arguments);var t=Object(o.default)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function xe(e){Object(i.a)(1,arguments);var t=Object(ke.default)(e);if(isNaN(t))throw new RangeError("The passed date is invalid");return ve({start:t,end:Ee(e)})}function Oe(e){Object(i.a)(1,arguments);var t=e||{},n=Object(o.default)(t.start),r=Object(o.default)(t.end).getTime();if(!(n.getTime()<=r))throw new RangeError("Invalid interval");var a=[],s=n;for(s.setHours(0,0,0,0),s.setMonth(0,1);s.getTime()<=r;)a.push(Object(o.default)(s)),s.setFullYear(s.getFullYear()+1);return a}function Ce(e){Object(i.a)(1,arguments);var t=Object(o.default)(e),n=t.getFullYear(),r=9+10*Math.floor(n/10);return t.setFullYear(r,11,31),t.setHours(23,59,59,999),t}function je(e){Object(i.a)(1,arguments);var t=Object(o.default)(e);return t.setMinutes(59,59,999),t}var De=n(138);function Ne(e){return Object(i.a)(1,arguments),Object(De.default)(e,{weekStartsOn:1})}function Se(e){Object(i.a)(1,arguments);var t=_(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var r=m(n);return r.setMilliseconds(r.getMilliseconds()-1),r}function Te(e){Object(i.a)(1,arguments);var t=Object(o.default)(e);return t.setSeconds(59,999),t}function Me(e){Object(i.a)(1,arguments);var t=Object(o.default)(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(23,59,59,999),t}function Pe(e){Object(i.a)(1,arguments);var t=Object(o.default)(e);return t.setMilliseconds(999),t}function Be(){return Object(ae.default)(Date.now())}function Ie(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=new Date(0);return a.setFullYear(t,n,r+1),a.setHours(23,59,59,999),a}function Le(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=new Date(0);return a.setFullYear(t,n,r-1),a.setHours(23,59,59,999),a}var Ue=n(143),Re=n(42),Fe=n(186);function ze(e){return Object(Fe.a)({},e)}var Qe=43200;function He(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(2,arguments);var r=n.locale||Re.a;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=M(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var s,l,c=ze(n);c.addSuffix=Boolean(n.addSuffix),c.comparison=a,a>0?(s=Object(o.default)(t),l=Object(o.default)(e)):(s=Object(o.default)(e),l=Object(o.default)(t));var u,d=ce(l,s),f=(Object(z.a)(l)-Object(z.a)(s))/1e3,p=Math.round((d-f)/60);if(p<2)return n.includeSeconds?d<5?r.formatDistance("lessThanXSeconds",5,c):d<10?r.formatDistance("lessThanXSeconds",10,c):d<20?r.formatDistance("lessThanXSeconds",20,c):d<40?r.formatDistance("halfAMinute",null,c):d<60?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",1,c):0===p?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",p,c);if(p<45)return r.formatDistance("xMinutes",p,c);if(p<90)return r.formatDistance("aboutXHours",1,c);if(p<1440){var h=Math.round(p/60);return r.formatDistance("aboutXHours",h,c)}if(p<2520)return r.formatDistance("xDays",1,c);if(p<Qe){var m=Math.round(p/1440);return r.formatDistance("xDays",m,c)}if(p<86400)return u=Math.round(p/Qe),r.formatDistance("aboutXMonths",u,c);if((u=se(l,s))<12){var _=Math.round(p/Qe);return r.formatDistance("xMonths",_,c)}var g=u%12,b=Math.floor(u/12);return g<3?r.formatDistance("aboutXYears",b,c):g<9?r.formatDistance("overXYears",b,c):r.formatDistance("almostXYears",b+1,c)}var Ye=6e4,Ke=1440,We=43200,qe=525600;function Ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(2,arguments);var r=n.locale||Re.a;if(!r.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var a=M(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var s,l,c=ze(n);c.addSuffix=Boolean(n.addSuffix),c.comparison=a,a>0?(s=Object(o.default)(t),l=Object(o.default)(e)):(s=Object(o.default)(e),l=Object(o.default)(t));var u,d=null==n.roundingMethod?"round":String(n.roundingMethod);if("floor"===d)u=Math.floor;else if("ceil"===d)u=Math.ceil;else{if("round"!==d)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");u=Math.round}var f,p=l.getTime()-s.getTime(),h=p/Ye,m=(p-(Object(z.a)(l)-Object(z.a)(s)))/Ye;if("second"===(f=null==n.unit?h<1?"second":h<60?"minute":h<Ke?"hour":m<We?"day":m<qe?"month":"year":String(n.unit))){var _=u(p/1e3);return r.formatDistance("xSeconds",_,c)}if("minute"===f){var g=u(h);return r.formatDistance("xMinutes",g,c)}if("hour"===f){var b=u(h/60);return r.formatDistance("xHours",b,c)}if("day"===f){var y=u(m/Ke);return r.formatDistance("xDays",y,c)}if("month"===f){var v=u(m/We);return 12===v&&"month"!==n.unit?r.formatDistance("xYears",1,c):r.formatDistance("xMonths",v,c)}if("year"===f){var A=u(m/qe);return r.formatDistance("xYears",A,c)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function Ve(e,t){return Object(i.a)(1,arguments),He(e,Date.now(),t)}function $e(e,t){return Object(i.a)(1,arguments),Ge(e,Date.now(),t)}var Xe=["years","months","weeks","days","hours","minutes","seconds"];function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=(null==t?void 0:t.format)||Xe,r=(null==t?void 0:t.locale)||Re.a,a=(null==t?void 0:t.zero)||!1,o=(null==t?void 0:t.delimiter)||" ";return n.reduce((function(t,n){var o="x".concat(n.replace(/(^.)/,(function(e){return e.toUpperCase()})));return"number"==typeof e[n]&&(a||e[n])&&r.formatDistance?t.concat(r.formatDistance(o,e[n])):t}),[]).join(o)}var Ze=n(11);function et(e,t){Object(i.a)(1,arguments);var n=Object(o.default)(e);if(isNaN(n.getTime()))throw new RangeError("Invalid time value");var r=null!=t&&t.format?String(t.format):"extended",a=null!=t&&t.representation?String(t.representation):"complete";if("extended"!==r&&"basic"!==r)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==a&&"time"!==a&&"complete"!==a)throw new RangeError("representation must be 'date', 'time', or 'complete'");var s="",l="",c="extended"===r?"-":"",u="extended"===r?":":"";if("time"!==a){var d=Object(Ze.a)(n.getDate(),2),f=Object(Ze.a)(n.getMonth()+1,2),p=Object(Ze.a)(n.getFullYear(),4);s="".concat(p).concat(c).concat(f).concat(c).concat(d)}if("date"!==a){var h=n.getTimezoneOffset();if(0!==h){var m=Math.abs(h),_=Object(Ze.a)(Math.floor(m/60),2),g=Object(Ze.a)(m%60,2);l="".concat(h<0?"+":"-").concat(_,":").concat(g)}else l="Z";var b=""===s?"":"T",y=[Object(Ze.a)(n.getHours(),2),Object(Ze.a)(n.getMinutes(),2),Object(Ze.a)(n.getSeconds(),2)].join(u);s="".concat(s).concat(b).concat(y).concat(l)}return s}function tt(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=Object(o.default)(e);if(!Object(U.default)(n))throw new RangeError("Invalid time value");var r=t||{},a=null==r.format?"extended":String(r.format),i=null==r.representation?"complete":String(r.representation);if("extended"!==a&&"basic"!==a)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==i&&"time"!==i&&"complete"!==i)throw new RangeError("representation must be 'date', 'time', or 'complete'");var s="",l="extended"===a?"-":"",c="extended"===a?":":"";if("time"!==i){var u=Object(Ze.a)(n.getDate(),2),d=Object(Ze.a)(n.getMonth()+1,2),f=Object(Ze.a)(n.getFullYear(),4);s="".concat(f).concat(l).concat(d).concat(l).concat(u)}if("date"!==i){var p=Object(Ze.a)(n.getHours(),2),h=Object(Ze.a)(n.getMinutes(),2),m=Object(Ze.a)(n.getSeconds(),2),_=""===s?"":" ";s="".concat(s).concat(_).concat(p).concat(c).concat(h).concat(c).concat(m)}return s}function nt(e){if(Object(i.a)(1,arguments),"object"!=typeof e)throw new Error("Duration must be an object");var t=e.years,n=void 0===t?0:t,r=e.months,a=void 0===r?0:r,o=e.days,s=void 0===o?0:o,l=e.hours,c=void 0===l?0:l,u=e.minutes,d=void 0===u?0:u,f=e.seconds,p=void 0===f?0:f;return"P".concat(n,"Y").concat(a,"M").concat(s,"DT").concat(c,"H").concat(d,"M").concat(p,"S")}function rt(e,t){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var n=Object(o.default)(e);if(!Object(U.default)(n))throw new RangeError("Invalid time value");var r=(t||{}).fractionDigits,a=void 0===r?0:r;if(!(a>=0&&a<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var i=Object(Ze.a)(n.getDate(),2),l=Object(Ze.a)(n.getMonth()+1,2),c=n.getFullYear(),u=Object(Ze.a)(n.getHours(),2),d=Object(Ze.a)(n.getMinutes(),2),f=Object(Ze.a)(n.getSeconds(),2),p="";if(a>0){var h=n.getMilliseconds(),m=Math.floor(h*Math.pow(10,a-3));p="."+Object(Ze.a)(m,a)}var _="",g=n.getTimezoneOffset();if(0!==g){var b=Math.abs(g),y=Object(Ze.a)(Object(s.a)(b/60),2),v=Object(Ze.a)(b%60,2);_="".concat(g<0?"+":"-").concat(y,":").concat(v)}else _="Z";return"".concat(c,"-").concat(l,"-").concat(i,"T").concat(u,":").concat(d,":").concat(f).concat(p).concat(_)}var at=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ot=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function it(e){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var t=Object(o.default)(e);if(!Object(U.default)(t))throw new RangeError("Invalid time value");var n=at[t.getUTCDay()],r=Object(Ze.a)(t.getUTCDate(),2),a=ot[t.getUTCMonth()],i=t.getUTCFullYear(),s=Object(Ze.a)(t.getUTCHours(),2),l=Object(Ze.a)(t.getUTCMinutes(),2),c=Object(Ze.a)(t.getUTCSeconds(),2);return"".concat(n,", ").concat(r," ").concat(a," ").concat(i," ").concat(s,":").concat(l,":").concat(c," GMT")}var st=n(48);function lt(e,t,n){Object(i.a)(2,arguments);var r=Object(o.default)(e),a=Object(o.default)(t),s=n||{},l=s.locale,c=void 0===l?Re.a:l,u=s.weekStartsOn,d=void 0===u?0:u;if(!c.localize)throw new RangeError("locale must contain localize property");if(!c.formatLong)throw new RangeError("locale must contain formatLong property");if(!c.formatRelative)throw new RangeError("locale must contain formatRelative property");var f,p=Object(b.default)(r,a);if(isNaN(p))throw new RangeError("Invalid time value");f=p<-6?"other":p<-1?"lastWeek":p<0?"yesterday":p<1?"today":p<2?"tomorrow":p<7?"nextWeek":"other";var h=Object(st.a)(r,Object(z.a)(r)),m=Object(st.a)(a,Object(z.a)(a)),_=c.formatRelative(f,h,m,{locale:c,weekStartsOn:d});return Object(Ue.default)(r,_,{locale:c,weekStartsOn:d})}function ct(e){Object(i.a)(1,arguments);var t=Object(s.a)(e);return Object(o.default)(1e3*t)}var ut=n(130),dt=n(71);function ft(e){Object(i.a)(1,arguments);var t=Object(o.default)(e);return Object(b.default)(t,Object(ke.default)(t))+1}var pt=n(179);function ht(e){Object(i.a)(1,arguments);var t=Object(o.default)(e).getFullYear();return t%400==0||t%4==0&&t%100!=0}function mt(e){Object(i.a)(1,arguments);var t=Object(o.default)(e);return"Invalid Date"===String(new Date(t))?NaN:ht(t)?366:365}function _t(e){Object(i.a)(1,arguments);var t=Object(o.default)(e).getFullYear();return 10*Math.floor(t/10)}var gt=n(199);function bt(e){Object(i.a)(1,arguments);var t=Object(o.default)(e).getDay();return 0===t&&(t=7),t}var yt=6048e5;function vt(e){Object(i.a)(1,arguments);var t=Object(o.default)(e),n=m(t).getTime()-g(t).getTime();return Math.round(n/yt)+1}var At=6048e5;function wt(e){Object(i.a)(1,arguments);var t=g(e),n=g(Object(x.default)(t,60)).valueOf()-t.valueOf();return Math.round(n/At)}function kt(e){return Object(i.a)(1,arguments),Object(o.default)(e).getMilliseconds()}var Et=n(198),xt=n(200);function Ot(e,t){Object(i.a)(2,arguments);var n=e||{},r=t||{},a=Object(o.default)(n.start).getTime(),s=Object(o.default)(n.end).getTime(),l=Object(o.default)(r.start).getTime(),c=Object(o.default)(r.end).getTime();if(!(a<=s&&l<=c))throw new RangeError("Invalid interval");if(!(a<c&&l<s))return 0;var u=(c>s?s:c)-(l<a?a:l);return Math.ceil(u/864e5)}var Ct=n(197),jt=n(132);function Dt(e){return Object(i.a)(1,arguments),Math.floor(Object(jt.default)(e)/1e3)}var Nt=n(131);function St(e,t){var n,r;Object(i.a)(1,arguments);var a=(null==t||null===(n=t.locale)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.weekStartsOn)||0,o=null==(null==t?void 0:t.weekStartsOn)?Object(s.a)(a):Object(s.a)(t.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Object(ut.default)(e);if(isNaN(l))return NaN;var c=o-Object(dt.default)(Object(Ae.default)(e));c<=0&&(c+=7);var u=l-c;return Math.ceil(u/7)+1}var Tt=n(178);function Mt(e){Object(i.a)(1,arguments);var t=Object(o.default)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Pt(e,t){return Object(i.a)(1,arguments),Object(q.default)(Mt(e),Object(Ae.default)(e),t)+1}var Bt=n(201);function It(e){return Object(i.a)(1,arguments),Math.floor(e*B.c)}function Lt(e){return Object(i.a)(1,arguments),Math.floor(e*B.g)}function Ut(e){return Object(i.a)(1,arguments),Math.floor(e*B.k)}var Rt=n(70),Ft=n(129);function zt(e,t){if(Object(i.a)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var n=t.years?Object(s.a)(t.years):0,r=t.months?Object(s.a)(t.months):0,a=t.weeks?Object(s.a)(t.weeks):0,o=t.days?Object(s.a)(t.days):0,l=t.hours?Object(s.a)(t.hours):0,c=t.minutes?Object(s.a)(t.minutes):0,u=t.seconds?Object(s.a)(t.seconds):0,d=Object(Ft.default)(e,r+12*n),f=Object(Rt.default)(d,o+7*a),p=1e3*(u+60*(c+60*l));return new Date(f.getTime()-p)}function Qt(e){var t=e.start,n=e.end;Object(i.a)(1,arguments);var r=Object(o.default)(t),a=Object(o.default)(n);if(!Object(U.default)(r))throw new RangeError("Start Date is invalid");if(!Object(U.default)(a))throw new RangeError("End Date is invalid");var s={years:0,months:0,days:0,hours:0,minutes:0,seconds:0},l=M(r,a);s.years=Math.abs(de(r,a));var c=zt(r,{years:l*s.years});s.months=Math.abs(se(c,a));var u=zt(c,{months:l*s.months});s.days=Math.abs($(u,a));var d=zt(u,{days:l*s.days});s.hours=Math.abs(ee(d,a));var f=zt(d,{hours:l*s.hours});s.minutes=Math.abs(re(f,a));var p=zt(f,{minutes:l*s.minutes});return s.seconds=Math.abs(ce(p,a)),s}function Ht(e,t,n){var r,a,o;return Object(i.a)(1,arguments),void 0===(o=t)||"locale"in o?n=t:a=t,new Intl.DateTimeFormat(null===(r=n)||void 0===r?void 0:r.locale,a).format(e)}var Yt=n(208),Kt=n(209),Wt=n(127),qt=n(207);function Gt(e,t,n){if(arguments.length<3)throw new TypeError("3 argument required, but only "+arguments.length+" present");var r=new Date(e,t,n);return r.getFullYear()===e&&r.getMonth()===t&&r.getDate()===n}function Vt(e){return Object(i.a)(1,arguments),1===Object(o.default)(e).getDate()}function $t(e){return Object(i.a)(1,arguments),5===Object(o.default)(e).getDay()}function Xt(e){return Object(i.a)(1,arguments),Object(o.default)(e).getTime()>Date.now()}var Jt=n(142);function Zt(e,t,n){return Object(i.a)(2,arguments),Object(U.default)(Object(Jt.default)(e,t,new Date,n))}function en(e){return Object(i.a)(1,arguments),1===Object(o.default)(e).getDay()}function tn(e){return Object(i.a)(1,arguments),Object(o.default)(e).getTime()<Date.now()}function nn(e){Object(i.a)(1,arguments);var t=Object(o.default)(e);return t.setMinutes(0,0,0),t}function rn(e,t){Object(i.a)(2,arguments);var n=nn(e),r=nn(t);return n.getTime()===r.getTime()}function an(e,t,n){Object(i.a)(2,arguments);var r=Object(h.default)(e,n),a=Object(h.default)(t,n);return r.getTime()===a.getTime()}function on(e,t){return Object(i.a)(2,arguments),an(e,t,{weekStartsOn:1})}function sn(e,t){Object(i.a)(2,arguments);var n=g(e),r=g(t);return n.getTime()===r.getTime()}function ln(e,t){Object(i.a)(2,arguments);var n=he(e),r=he(t);return n.getTime()===r.getTime()}var cn=n(139),un=n(141);function dn(e){Object(i.a)(1,arguments);var t=Object(o.default)(e);return t.setMilliseconds(0),t}function fn(e,t){Object(i.a)(2,arguments);var n=dn(e),r=dn(t);return n.getTime()===r.getTime()}var pn=n(140);function hn(e){return Object(i.a)(1,arguments),rn(Date.now(),e)}function mn(e){return Object(i.a)(1,arguments),on(e,Date.now())}function _n(e){return Object(i.a)(1,arguments),ln(Date.now(),e)}function gn(e){return Object(i.a)(1,arguments),Object(cn.default)(Date.now(),e)}function bn(e){return Object(i.a)(1,arguments),Object(un.default)(Date.now(),e)}function yn(e){return Object(i.a)(1,arguments),fn(Date.now(),e)}function vn(e,t){return Object(i.a)(1,arguments),an(e,Date.now(),t)}function An(e){return Object(i.a)(1,arguments),Object(pn.default)(e,Date.now())}function wn(e){return Object(i.a)(1,arguments),4===Object(o.default)(e).getDay()}function kn(e){return Object(i.a)(1,arguments),Object(L.default)(e,Date.now())}function En(e){return Object(i.a)(1,arguments),Object(L.default)(e,Object(r.default)(Date.now(),1))}function xn(e){return Object(i.a)(1,arguments),2===Object(o.default)(e).getDay()}function On(e){return Object(i.a)(1,arguments),3===Object(o.default)(e).getDay()}var Cn=n(210);function jn(e){return Object(i.a)(1,arguments),Object(L.default)(e,Object(Rt.default)(Date.now(),1))}function Dn(e){Object(i.a)(1,arguments);var t=Object(o.default)(e),n=t.getFullYear(),r=9+10*Math.floor(n/10);return t.setFullYear(r+1,0,0),t.setHours(0,0,0,0),t}function Nn(e,t){Object(i.a)(1,arguments);var n=t||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,l=null==a?0:Object(s.a)(a),c=null==n.weekStartsOn?l:Object(s.a)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var u=Object(o.default)(e),d=u.getDay(),f=6+(d<c?-7:0)-(d-c);return u.setHours(0,0,0,0),u.setDate(u.getDate()+f),u}function Sn(e){return Object(i.a)(1,arguments),Nn(e,{weekStartsOn:1})}function Tn(e){Object(i.a)(1,arguments);var t=_(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var r=m(n);return r.setDate(r.getDate()-1),r}function Mn(e){Object(i.a)(1,arguments);var t=Object(o.default)(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(0,0,0,0),t}function Pn(e){Object(i.a)(1,arguments);var t=Object(o.default)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t}var Bn=n(52),In=/(\w)\1*|''|'(''|[^'])+('|$)|./g,Ln=/^'([^]*?)'?$/,Un=/''/g,Rn=/[a-zA-Z]/;function Fn(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e);if(!Object(U.default)(n))throw new RangeError("Invalid time value");var r=Object(z.a)(n),a=Object(st.a)(n,r),s=t.match(In);return s?s.map((function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return function(e){var t=e.match(Ln);return t?t[1].replace(Un,"'"):e}(e);var n=Bn.a[t];if(n)return n(a,e);if(t.match(Rn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e})).join(""):""}var zn=365.2425;function Qn(e){var t=e.years,n=e.months,r=e.weeks,a=e.days,o=e.hours,s=e.minutes,l=e.seconds;Object(i.a)(1,arguments);var c=0;t&&(c+=t*zn),n&&(c+=n*(zn/12)),r&&(c+=7*r),a&&(c+=a);var u=24*c*60*60;return o&&(u+=60*o*60),s&&(u+=60*s),l&&(u+=l),Math.round(1e3*u)}function Hn(e){Object(i.a)(1,arguments);var t=e/B.c;return Math.floor(t)}function Yn(e){Object(i.a)(1,arguments);var t=e/B.d;return Math.floor(t)}function Kn(e){Object(i.a)(1,arguments);var t=e/B.e;return Math.floor(t)}function Wn(e){Object(i.a)(1,arguments);var t=e/B.g;return Math.floor(t)}function qn(e){return Object(i.a)(1,arguments),Math.floor(e*B.d)}function Gn(e){return Object(i.a)(1,arguments),Math.floor(e*B.l)}function Vn(e){Object(i.a)(1,arguments);var t=e/B.h;return Math.floor(t)}function $n(e){Object(i.a)(1,arguments);var t=e/B.i;return Math.floor(t)}function Xn(e,t){Object(i.a)(2,arguments);var n=t-Object(dt.default)(e);return n<=0&&(n+=7),Object(r.default)(e,n)}function Jn(e){return Object(i.a)(1,arguments),Xn(e,5)}function Zn(e){return Object(i.a)(1,arguments),Xn(e,1)}function er(e){return Object(i.a)(1,arguments),Xn(e,6)}function tr(e){return Object(i.a)(1,arguments),Xn(e,0)}function nr(e){return Object(i.a)(1,arguments),Xn(e,4)}function rr(e){return Object(i.a)(1,arguments),Xn(e,2)}function ar(e){return Object(i.a)(1,arguments),Xn(e,3)}var or=n(211);function ir(e){if(Object(i.a)(1,arguments),"string"==typeof e){var t=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return t?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4]-(+t[9]||0)*("-"==t[8]?-1:1),+t[5]-(+t[10]||0)*("-"==t[8]?-1:1),+t[6],+((t[7]||"0")+"00").substring(0,3))):new Date(NaN)}return Object(o.default)(e)}function sr(e,t){Object(i.a)(2,arguments);var n=Object(dt.default)(e)-t;return n<=0&&(n+=7),Object(Rt.default)(e,n)}function lr(e){return Object(i.a)(1,arguments),sr(e,5)}function cr(e){return Object(i.a)(1,arguments),sr(e,1)}function ur(e){return Object(i.a)(1,arguments),sr(e,6)}function dr(e){return Object(i.a)(1,arguments),sr(e,0)}function fr(e){return Object(i.a)(1,arguments),sr(e,4)}function pr(e){return Object(i.a)(1,arguments),sr(e,2)}function hr(e){return Object(i.a)(1,arguments),sr(e,3)}function mr(e){return Object(i.a)(1,arguments),Math.floor(e*B.h)}function _r(e){Object(i.a)(1,arguments);var t=e/B.j;return Math.floor(t)}function gr(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var n=t&&"nearestTo"in t?Object(s.a)(t.nearestTo):1;if(n<1||n>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var r=Object(o.default)(e),a=r.getSeconds(),i=r.getMinutes()+a/60,l=Math.floor(i/n)*n,c=i%n,u=Math.round(c/n)*n;return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),l+u)}function br(e){Object(i.a)(1,arguments);var t=e/B.k;return Math.floor(t)}function yr(e){return Object(i.a)(1,arguments),e*B.e}function vr(e){Object(i.a)(1,arguments);var t=e/B.l;return Math.floor(t)}var Ar=n(86);function wr(e,t){if(Object(i.a)(2,arguments),"object"!=typeof t||null===t)throw new RangeError("values parameter must be an object");var n=Object(o.default)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=Object(Ar.default)(n,t.month)),null!=t.date&&n.setDate(Object(s.a)(t.date)),null!=t.hours&&n.setHours(Object(s.a)(t.hours)),null!=t.minutes&&n.setMinutes(Object(s.a)(t.minutes)),null!=t.seconds&&n.setSeconds(Object(s.a)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds(Object(s.a)(t.milliseconds)),n)}function kr(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=Object(s.a)(t);return n.setDate(r),n}function Er(e,t,n){Object(i.a)(2,arguments);var a=n||{},l=a.locale,c=l&&l.options&&l.options.weekStartsOn,u=null==c?0:Object(s.a)(c),d=null==a.weekStartsOn?u:Object(s.a)(a.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Object(o.default)(e),p=Object(s.a)(t),h=f.getDay(),m=7-d,_=p<0||p>6?p-(h+m)%7:((p%7+7)%7+m)%7-(h+m)%7;return Object(r.default)(f,_)}function xr(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=Object(s.a)(t);return n.setMonth(0),n.setDate(r),n}var Or=n(204);function Cr(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),a=Object(s.a)(t)-bt(n);return Object(r.default)(n,a)}function jr(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=Object(s.a)(t),a=vt(n)-r;return n.setDate(n.getDate()-7*a),n}function Dr(e,t){Object(i.a)(2,arguments);var n=Object(o.default)(e),r=Object(s.a)(t);return n.setMilliseconds(r),n}var Nr=n(203),Sr=n(205),Tr=n(202);function Mr(e,t,n){Object(i.a)(2,arguments);var r=Object(o.default)(e),a=Object(s.a)(t),l=Object(Nt.default)(r,n)-a;return r.setDate(r.getDate()-7*l),r}var Pr=n(90);function Br(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(2,arguments);var r=n.locale,a=r&&r.options&&r.options.firstWeekContainsDate,l=null==a?1:Object(s.a)(a),c=null==n.firstWeekContainsDate?l:Object(s.a)(n.firstWeekContainsDate),u=Object(o.default)(e),d=Object(s.a)(t),f=Object(b.default)(u,Object(Pr.a)(u,n)),p=new Date(0);return p.setFullYear(d,0,c),p.setHours(0,0,0,0),(u=Object(Pr.a)(p,n)).setDate(u.getDate()+f),u}var Ir=n(206),Lr=n(49);function Ur(e){Object(i.a)(1,arguments);var t=Object(o.default)(e),n=t.getFullYear(),r=10*Math.floor(n/10);return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}function Rr(){return Object(Lr.default)(Date.now())}function Fr(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=new Date(0);return a.setFullYear(t,n,r+1),a.setHours(0,0,0,0),a}function zr(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=new Date(0);return a.setFullYear(t,n,r-1),a.setHours(0,0,0,0),a}function Qr(e,t){return Object(i.a)(2,arguments),f(e,-Object(s.a)(t))}var Hr=n(194),Yr=n(193);function Kr(e,t){return Object(i.a)(2,arguments),k(e,-Object(s.a)(t))}function Wr(e,t){return Object(i.a)(2,arguments),E(e,-Object(s.a)(t))}var qr=n(195),Gr=n(196);function Vr(e){return Object(i.a)(1,arguments),Math.floor(e*B.a)}function $r(e){return Object(i.a)(1,arguments),Math.floor(e*B.i)}function Xr(e){return Object(i.a)(1,arguments),Math.floor(e*B.j)}},function(e,t,n){"use strict";n.r(t);var r=n(10),a=n(50),o=n(144),i=n(0),s=!!document.documentElement.currentStyle,l={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},c=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],u={},d=document.createElement("textarea"),f=function(e){Object.keys(l).forEach((function(t){e.style.setProperty(t,l[t],"important")}))};function p(e,t,n,r,a){void 0===n&&(n=!1),void 0===r&&(r=null),void 0===a&&(a=null),null===d.parentNode&&document.body.appendChild(d);var o=function(e,t,n){if(void 0===n&&(n=!1),n&&u[t])return u[t];var r=window.getComputedStyle(e);if(null===r)return null;var a=c.reduce((function(e,t){return e[t]=r.getPropertyValue(t),e}),{}),o=a["box-sizing"];if(""===o)return null;s&&"border-box"===o&&(a.width=parseFloat(a.width)+parseFloat(r["border-right-width"])+parseFloat(r["border-left-width"])+parseFloat(r["padding-right"])+parseFloat(r["padding-left"])+"px");var i={sizingStyle:a,paddingSize:parseFloat(a["padding-bottom"])+parseFloat(a["padding-top"]),borderSize:parseFloat(a["border-bottom-width"])+parseFloat(a["border-top-width"]),boxSizing:o};return n&&(u[t]=i),i}(e,t,n);if(null===o)return null;var i=o.paddingSize,l=o.borderSize,p=o.boxSizing,h=o.sizingStyle;Object.keys(h).forEach((function(e){d.style[e]=h[e]})),f(d),d.value=e.value||e.placeholder||"x";var m=-1/0,_=1/0,g=d.scrollHeight;"border-box"===p?g+=l:"content-box"===p&&(g-=i),d.value="x";var b=d.scrollHeight-i,y=Math.floor(g/b);return null!==r&&(m=b*r,"border-box"===p&&(m=m+i+l),g=Math.max(m,g)),null!==a&&(_=b*a,"border-box"===p&&(_=_+i+l),g=Math.min(_,g)),{height:g,minHeight:m,maxHeight:_,rowCount:Math.floor(g/b),valueRowCount:y}}d.setAttribute("tab-index","-1"),d.setAttribute("aria-hidden","true"),f(d);var h=function(){},m=0,_=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onRef=function(e){n._ref=e;var t=n.props.inputRef;"function"!=typeof t?t.current=e:t(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n))},n._resizeComponent=function(e){void 0===e&&(e=h);var t=p(n._ref,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null!==t){var r=t.height,a=t.minHeight,o=t.maxHeight,i=t.rowCount,s=t.valueRowCount;n.rowCount=i,n.valueRowCount=s,n.state.height===r&&n.state.minHeight===a&&n.state.maxHeight===o?e():n.setState({height:r,minHeight:a,maxHeight:o},e)}else e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=m++,n._controlled=void 0!==t.value,n._resizeLock=!1,n}Object(o.a)(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,Object(a.a)(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=Object(r.a)({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),Object(i.createElement)("textarea",Object(r.a)({},t,{onChange:this._onChange,ref:this._onRef}))},n.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent((function(){e._resizeLock=!1})))},window.addEventListener("resize",this._resizeListener)},n.componentDidUpdate=function(e,t){e!==this.props&&this._resizeComponent(),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},n.componentWillUnmount=function(){var e;window.removeEventListener("resize",this._resizeListener),e=this._uid,delete u[e]},t}(i.Component);_.defaultProps={inputRef:h,onChange:h,onHeightChange:h,useCacheForDOMMeasurements:!1},t.default=_},function(e,t,n){var r=n(280),a=n(489),o=n(493),i=n(496),s=n(497),l=n(500),c=Date.prototype.getTime;function u(e){return null==e}function d(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}e.exports=function e(t,n,f){var p=f||{};return!(p.strict?!o(t,n):t!==n)||(!t||!n||"object"!=typeof t&&"object"!=typeof n?p.strict?o(t,n):t==n:function(t,n,o){var f,p;if(typeof t!=typeof n)return!1;if(u(t)||u(n))return!1;if(t.prototype!==n.prototype)return!1;if(a(t)!==a(n))return!1;var h=i(t),m=i(n);if(h!==m)return!1;if(h||m)return t.source===n.source&&s(t)===s(n);if(l(t)&&l(n))return c.call(t)===c.call(n);var _=d(t),g=d(n);if(_!==g)return!1;if(_||g){if(t.length!==n.length)return!1;for(f=0;f<t.length;f++)if(t[f]!==n[f])return!1;return!0}if(typeof t!=typeof n)return!1;try{var b=r(t),y=r(n)}catch(t){return!1}if(b.length!==y.length)return!1;for(b.sort(),y.sort(),f=b.length-1;f>=0;f--)if(b[f]!=y[f])return!1;for(f=b.length-1;f>=0;f--)if(!e(t[p=b[f]],n[p],o))return!1;return!0}(t,n,p))}},function(e,t,n){var r=n(532),a=n(37);e.exports=function(e){return null==e?[]:r(e,a(e))}},function(e,t,n){var r=n(45).isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},function(e,t,n){var r=n(648),a=n(652)((function(e,t,n){r(e,t,n)}));e.exports=a},function(e,t,n){var r=n(658),a=n(317)((function(e,t){return null==e?{}:r(e,t)}));e.exports=a},function(e,t,n){var r=n(354),a=n(353);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},function(e,t,n){var r=n(318),a=n(671),o=n(243),i=n(348),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])}));e.exports=s},function(e,t,n){var r=n(679),a=n(100),o=n(155),i=o&&o.isDate,s=i?a(i):r;e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=v(s),c=n(6),u=n(3),d=v(n(74)),f=(n(30),v(n(166))),p=v(n(122)),h=v(n(686)),m=v(n(688)),_=v(n(359)),g=v(n(694)),b=v(n(696)),y=n(63);function v(e){return e&&e.__esModule?e:{default:e}}var A,w,k,E,x,O=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"loading",a=i,(r=o)&&Object.defineProperty(n,"loading",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.reactions=[],i.searchHandler=function(e){13==e.keyCode&&(i.loading=!0,i.store.management.users.fetch().then((function(){i.loading=!1})))},i.select=function(e){i.store.management.selectedUsers.get(e.id)||i.store.management.selectedUsers.add([e.getAttributes()])},i.bySubscription=function(){i.store.management.ui.active_view="search",i.store.management.ui.search_filter="subscriptions"},i.byUser=function(){i.store.management.ui.active_view="search",i.store.management.ui.search_filter="users"},i.templates=function(){i.store.management.ui.active_view="templates"},i.campaigns=function(){i.store.management.ui.active_view="campaigns"},i.store=i.props.store,i.store.management||(i.store.management={ui:new f.default(i.store),users:new p.default(i.store,[]),selectedUsers:new p.default(i.store,[]),templates:new h.default(i.store,[]),campaigns:new m.default(i.store,[])}),i.tasks=[],i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){this.store.uistate.is_mobile&&router.toggleSidebar()}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return this.store.uistate,l.default.createElement("div",{className:d.default.container},l.default.createElement("div",{className:d.default.sidebar},l.default.createElement("div",{className:[d.default.item,d.default.logo].join(" "),onClick:function(){return e.byUser()}},l.default.createElement("img",{src:"/img/iso.png"})),l.default.createElement(y.Tooltip,{arrow:!0,position:"right",title:"Search users",size:"small"},l.default.createElement("div",{className:[d.default.item,"search"==this.store.management.ui.active_view&&"users"==this.store.management.ui.search_filter?d.default.selected:""].join(" "),onClick:function(){return e.byUser()}},l.default.createElement("i",{className:"fal fa-user"}))),l.default.createElement(y.Tooltip,{arrow:!0,position:"right",title:"Search subscriptions",size:"small"},l.default.createElement("div",{className:[d.default.item,"search"==this.store.management.ui.active_view&&"subscriptions"==this.store.management.ui.search_filter?d.default.selected:""].join(" "),onClick:function(){return e.bySubscription()}},l.default.createElement("i",{className:"fal fa-file-invoice-dollar"}))),l.default.createElement(y.Tooltip,{arrow:!0,position:"right",title:"Templates",size:"small"},l.default.createElement("div",{className:[d.default.item,"templates"==this.store.management.ui.active_view?d.default.selected:""].join(" "),onClick:function(){return e.templates()}},l.default.createElement("i",{className:"fal fa-paste"}))),l.default.createElement(y.Tooltip,{arrow:!0,position:"right",title:"Campaigns",size:"small"},l.default.createElement("div",{className:[d.default.item,"campaigns"==this.store.management.ui.active_view?d.default.selected:""].join(" "),onClick:function(){return e.campaigns()}},l.default.createElement("i",{className:"fal fa-bullhorn"}))),l.default.createElement(y.Tooltip,{arrow:!0,position:"right",title:"Exit management",size:"small"},l.default.createElement("div",{className:[d.default.item].join(" "),onClick:function(){return e.store.uistate.management_app=!1}},l.default.createElement("i",{className:"fal fa-sign-out"})))),"search"==this.store.management.ui.active_view&&l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:d.default.search_sidebar},l.default.createElement("div",{className:d.default.search_header},l.default.createElement("i",{className:"fal fa-search"}),l.default.createElement("input",{type:"text",autocorrect:"off",autocapitalize:"none",value:this.store.management.users.search_query,onChange:function(t){return e.store.management.users.search_query=t.target.value},onKeyUp:function(t){e.searchHandler(t)},placeholder:"subscriptions"==this.store.management.ui.search_filter?"Search subscription_id's...":"Search email address..."}),this.loading&&l.default.createElement("div",{style:{}},l.default.createElement("i",{className:"fa fa-spin fa-spinner"}))),l.default.createElement("div",{className:d.default.results_scroll_container},l.default.createElement("div",{className:d.default.result_container},this.loading,this.store.management.users.models.map((function(t){return l.default.createElement("div",{className:[d.default.result].join(" "),onClick:function(){return e.select(t)}},l.default.createElement("div",{className:d.default.title},t.name),l.default.createElement("div",{className:d.default.subtitle},t.email),l.default.createElement("div",{className:d.default.subtitle},"Since ",moment(t.since).format("DD MMM YYYY")),l.default.createElement("div",{className:d.default.in_row},l.default.createElement("div",{className:d.default.subtitle},!(t.asana_account&&t.asana_account.id)&&l.default.createElement("div",{className:d.default.standalone},"Standalone"),t.asana_account&&0==t.asana_account.id&&l.default.createElement("div",{className:d.default.asana},"Asana")),l.default.createElement("div",{className:d.default.subtitle},t.subscriptions.filter((function(e){return e.status&&!e.suspended})).length>0&&"Paid",0==t.subscriptions.filter((function(e){return e.status&&!e.suspended})).length&&"Free")))}))))),l.default.createElement("div",{className:d.default.main},l.default.createElement("div",{className:d.default.main_inner},this.store.management.selectedUsers.models.map((function(t){return l.default.createElement(_.default,{key:t.id,store:e.store,user:t})}))))),"templates"==this.store.management.ui.active_view&&l.default.createElement(g.default,{store:this.store}),"campaigns"==this.store.management.ui.active_view&&l.default.createElement(b.default,{store:this.store}))}}]),t}(),A=a.prototype,w="loading",k=[u.observable],E={enumerable:!0,initializer:function(){return!1}},x={},Object.keys(E).forEach((function(e){x[e]=E[e]})),x.enumerable=!!x.enumerable,x.configurable=!!x.configurable,("value"in x||x.initializer)&&(x.writable=!0),void 0===(x=k.slice().reverse().reduce((function(e,t){return t(A,w,e)||e}),x)).initializer&&(Object.defineProperty(A,w,x),x=null),o=x,r=a))||r;t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=(n(3),n(6)),l=c(n(799));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.component=null,n.is_standalone=n.props.is_standalone||!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidUpdate",value:function(){}},{key:"renderStandalone",value:function(){var e=this.store.projects;return 0==e.filteredWorkbook.length?null:i.default.createElement(i.default.Fragment,null,e.filteredWorkbook.map((function(e){return i.default.createElement(l.default,{standalone:!0,key:e.id,project:e})})))}},{key:"render",value:function(){if(this.is_standalone)return this.renderStandalone();var e=this.store.projects;return 0==e.filtered.length?null:i.default.createElement(i.default.Fragment,null,e.filtered.map((function(e){return i.default.createElement(l.default,{key:e.id,project:e})})))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=f(n(802));function f(e){return e&&e.__esModule?e:{default:e}}var p,h,m,_,g,b=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.guide=function(){window.open("https://instagantt.com/help-guide/tasks-and-subtasks")},i.video=function(e){i.store.uistate.current_modal_options={url:e},i.store.uistate.current_modal="WELCOME_VIDEO"},i.store=i.props.store,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"close",value:function(){this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}},{key:"render",value:function(){var e=this;return this.store.projects.selected,l.default.createElement("div",null,l.default.createElement("div",{className:d.default.grid_row},l.default.createElement("div",{className:d.default.grid_item,onClick:function(){return e.video("https://www.youtube.com/embed/tgfjd0hmXDM")}},l.default.createElement("div",{className:d.default.grid_item_inner},l.default.createElement("img",{style:{borderRadius:"5px",cursor:"pointer"},src:"https://d141q1cxhiwx8o.cloudfront.net/marketing/how_to_make_a_gantt_chart.jpeg"}),l.default.createElement("div",{className:d.default.grid_item_title},"Quick Start"))),l.default.createElement("div",{className:d.default.grid_item,onClick:function(){return e.video("https://www.youtube.com/embed/vLXVZDLsYJU")}},l.default.createElement("div",{className:d.default.grid_item_inner},l.default.createElement("img",{style:{borderRadius:"5px",cursor:"pointer"},src:"https://d141q1cxhiwx8o.cloudfront.net/marketing/dependencies_and_critical_path.jpeg"}),l.default.createElement("div",{className:d.default.grid_item_title},"Dependencies and Critical Path"))),l.default.createElement("div",{className:d.default.grid_item,onClick:function(){return e.video("https://www.youtube.com/embed/5Gzk2rNmZew")}},l.default.createElement("div",{className:d.default.grid_item_inner},l.default.createElement("img",{style:{borderRadius:"5px",cursor:"pointer"},src:"https://d141q1cxhiwx8o.cloudfront.net/marketing/how_to_make_a_gantt_chart.jpeg"}),l.default.createElement("div",{className:d.default.grid_item_title},"How to invite team members"))),l.default.createElement("div",{className:d.default.grid_item,onClick:function(){return e.video("https://www.youtube.com/embed/6tk-sDaJHhk")}},l.default.createElement("div",{className:d.default.grid_item_inner},l.default.createElement("img",{style:{borderRadius:"5px",cursor:"pointer"},src:"https://d141q1cxhiwx8o.cloudfront.net/marketing/public_snapshots.jpeg"}),l.default.createElement("div",{className:d.default.grid_item_title},"Public Snapshots"))),l.default.createElement("div",{className:d.default.grid_item,onClick:function(){return e.video("https://www.youtube.com/embed/dKjYREv_z8M")}},l.default.createElement("div",{className:d.default.grid_item_inner},l.default.createElement("img",{style:{borderRadius:"5px",cursor:"pointer"},src:"https://d141q1cxhiwx8o.cloudfront.net/marketing/dashboard_and_overview.jpeg"}),l.default.createElement("div",{className:d.default.grid_item_title},"Overview & Reporting"))),l.default.createElement("div",{className:d.default.grid_item,onClick:function(){return e.video("https://www.youtube.com/embed/nX4UI38yr0I")}},l.default.createElement("div",{className:d.default.grid_item_inner},l.default.createElement("img",{style:{borderRadius:"5px",cursor:"pointer"},src:"https://d141q1cxhiwx8o.cloudfront.net/marketing/kanban_board_view.jpeg"}),l.default.createElement("div",{className:d.default.grid_item_title},"Kanban Board View")))))}}]),t}(),p=a.prototype,h="options",m=[u.observable],_={enumerable:!0,initializer:function(){return{cancelling:!1}}},g={},Object.keys(_).forEach((function(e){g[e]=_[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),void 0===(g=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),g)).initializer&&(Object.defineProperty(p,h,g),g=null),o=g,r=a))||r;t.default=b},,,,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof _?t:_,o=Object.create(a.prototype),i=new j(r||[]);return o._invoke=function(e,t,n){var r=d;return function(a,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return N()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=x(i,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?h:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=h,n.method="throw",n.arg=l.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function _(){}function g(){}function b(){}var y={};l(y,o,(function(){return this}));var v=Object.getPrototypeOf,A=v&&v(v(D([])));A&&A!==n&&r.call(A,o)&&(y=A);var w=b.prototype=_.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=u(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=b,l(w,"constructor",b),l(b,"constructor",g),g.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(w),l(w,s,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=D,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(64),a="function"==typeof Symbol&&Symbol.for,o=a?Symbol.for("react.element"):60103,i=a?Symbol.for("react.portal"):60106,s=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,c=a?Symbol.for("react.profiler"):60114,u=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,f=a?Symbol.for("react.forward_ref"):60112,p=a?Symbol.for("react.suspense"):60113,h=a?Symbol.for("react.memo"):60115,m=a?Symbol.for("react.lazy"):60116,_="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}function A(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},A.prototype=v.prototype;var k=w.prototype=new A;k.constructor=w,r(k,v.prototype),k.isPureReactComponent=!0;var E={current:null},x=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,a={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)x.call(t,r)&&!O.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:o,type:e,key:i,ref:s,props:a,_owner:E.current}}function j(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var D=/\/+/g,N=[];function S(e,t,n,r){if(N.length){var a=N.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function T(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case i:l=!0}}if(l)return r(a,t,""===n?"."+P(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+P(s=t[c],c);l+=e(s,u,r,a)}else if("function"==typeof(u=null===t||"object"!=typeof t?null:"function"==typeof(u=_&&t[_]||t["@@iterator"])?u:null))for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+P(s,c++),r,a);else if("object"===s)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function B(e,t){e.func.call(e.context,t,e.count++)}function I(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,(function(e){return e})):null!=e&&(j(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+n)),r.push(e))}function L(e,t,n,r,a){var o="";null!=n&&(o=(""+n).replace(D,"$&/")+"/"),M(e,I,t=S(t,o,r,a)),T(t)}var U={current:null};function R(){var e=U.current;if(null===e)throw Error(g(321));return e}var F={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,B,t=S(null,null,t,n)),T(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!j(e))throw Error(g(143));return e}},t.Component=v,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null==e)throw Error(g(267,e));var a=r({},e.props),i=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!O.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:o,type:e.type,key:i,ref:s,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),a=n(64),o=n(428);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var s=!1,l=null,c=!1,u=null,d={onError:function(e){s=!0,l=e}};function f(e,t,n,r,a,o,i,c,u){s=!1,l=null,function(e,t,n,r,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(d,arguments)}var p=null,h=null,m=null;function _(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,a,o,d,p,h){if(f.apply(this,arguments),s){if(!s)throw Error(i(198));var m=l;s=!1,l=null,c||(c=!0,u=m)}}(r,t,void 0,e),e.currentTarget=null}var g=null,b={};function y(){if(g)for(var e in b){var t=b[e],n=g.indexOf(e);if(!(-1<n))throw Error(i(96,e));if(!A[n]){if(!t.extractEvents)throw Error(i(97,e));for(var r in A[n]=t,n=t.eventTypes){var a=void 0,o=n[r],s=t,l=r;if(w.hasOwnProperty(l))throw Error(i(99,l));w[l]=o;var c=o.phasedRegistrationNames;if(c){for(a in c)c.hasOwnProperty(a)&&v(c[a],s,l);a=!0}else o.registrationName?(v(o.registrationName,s,l),a=!0):a=!1;if(!a)throw Error(i(98,r,e))}}}}function v(e,t,n){if(k[e])throw Error(i(100,e));k[e]=t,E[e]=t.eventTypes[n].dependencies}var A=[],w={},k={},E={};function x(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(i(102,t));b[t]=r,n=!0}}n&&y()}var O=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),C=null,j=null,D=null;function N(e){if(e=h(e)){if("function"!=typeof C)throw Error(i(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function S(e){j?D?D.push(e):D=[e]:j=e}function T(){if(j){var e=j,t=D;if(D=j=null,N(e),t)for(e=0;e<t.length;e++)N(t[e])}}function M(e,t){return e(t)}function P(e,t,n,r,a){return e(t,n,r,a)}function B(){}var I=M,L=!1,U=!1;function R(){null===j&&null===D||(B(),T())}function F(e,t,n){if(U)return e(t,n);U=!0;try{return I(e,t,n)}finally{U=!1,R()}}var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q=Object.prototype.hasOwnProperty,H={},Y={};function K(e,t,n,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){W[e]=new K(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];W[t]=new K(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){W[e]=new K(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){W[e]=new K(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){W[e]=new K(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){W[e]=new K(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){W[e]=new K(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){W[e]=new K(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){W[e]=new K(e,5,!1,e.toLowerCase(),null,!1)}));var q=/[\-:]([a-z])/g;function G(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(q,G);W[t]=new K(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(q,G);W[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(q,G);W[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){W[e]=new K(e,1,!1,e.toLowerCase(),null,!1)})),W.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){W[e]=new K(e,1,!1,e.toLowerCase(),null,!0)}));var V=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var a=W.hasOwnProperty(t)?W[t]:null;(null!==a?0===a.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!Q.call(Y,e)||!Q.call(H,e)&&(z.test(e)?Y[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}V.hasOwnProperty("ReactCurrentDispatcher")||(V.ReactCurrentDispatcher={current:null}),V.hasOwnProperty("ReactCurrentBatchConfig")||(V.ReactCurrentBatchConfig={suspense:null});var X=/^(.*)[\\\/]/,J="function"==typeof Symbol&&Symbol.for,Z=J?Symbol.for("react.element"):60103,ee=J?Symbol.for("react.portal"):60106,te=J?Symbol.for("react.fragment"):60107,ne=J?Symbol.for("react.strict_mode"):60108,re=J?Symbol.for("react.profiler"):60114,ae=J?Symbol.for("react.provider"):60109,oe=J?Symbol.for("react.context"):60110,ie=J?Symbol.for("react.concurrent_mode"):60111,se=J?Symbol.for("react.forward_ref"):60112,le=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,ue=J?Symbol.for("react.memo"):60115,de=J?Symbol.for("react.lazy"):60116,fe=J?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function he(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case te:return"Fragment";case ee:return"Portal";case re:return"Profiler";case ne:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ue:return me(e.type);case fe:return me(e.render);case de:if(e=1===e._status?e._result:null)return me(e)}return null}function _e(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,a=e._debugSource,o=me(e.type);n=null,r&&(n=me(r.type)),r=o,o="",a?o=" (at "+a.fileName.replace(X,"")+":"+a.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ye(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ae(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function we(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Ee(e,t){ke(e,t);var n=ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function xe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Oe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function je(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ge(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function De(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ge(n)}}function Se(e,t){var n=ge(t.value),r=ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Te(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,Ie,Le=(Ie=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ie(e,t)}))}:Ie);function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Re(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fe={animationend:Re("Animation","AnimationEnd"),animationiteration:Re("Animation","AnimationIteration"),animationstart:Re("Animation","AnimationStart"),transitionend:Re("Transition","TransitionEnd")},ze={},Qe={};function He(e){if(ze[e])return ze[e];if(!Fe[e])return e;var t,n=Fe[e];for(t in n)if(n.hasOwnProperty(t)&&t in Qe)return ze[e]=n[t];return e}O&&(Qe=document.createElement("div").style,"AnimationEvent"in window||(delete Fe.animationend.animation,delete Fe.animationiteration.animation,delete Fe.animationstart.animation),"TransitionEvent"in window||delete Fe.transitionend.transition);var Ye=He("animationend"),Ke=He("animationiteration"),We=He("animationstart"),qe=He("transitionend"),Ge="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ve=new("function"==typeof WeakMap?WeakMap:Map);function $e(e){var t=Ve.get(e);return void 0===t&&(t=new Map,Ve.set(e,t)),t}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ze(e){if(Xe(e)!==e)throw Error(i(188))}function et(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ze(a),e;if(o===r)return Ze(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function tt(e,t){if(null==t)throw Error(i(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function nt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var rt=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)_(e,t[r],n[r]);else t&&_(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ot(e){if(null!==e&&(rt=tt(rt,e)),e=rt,rt=null,e){if(nt(e,at),rt)throw Error(i(95));if(c)throw e=u,c=!1,u=null,e}}function it(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function st(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var lt=[];function ct(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function ut(e,t,n,r){if(lt.length){var a=lt.pop();return a.topLevelType=e,a.eventSystemFlags=r,a.nativeEvent=t,a.targetInst=n,a}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function dt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=kn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var a=it(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,i=e.eventSystemFlags;0===n&&(i|=64);for(var s=null,l=0;l<A.length;l++){var c=A[l];c&&(c=c.extractEvents(r,t,o,a,i))&&(s=tt(s,c))}ot(s)}}function ft(e,t,n){if(!n.has(e)){switch(e){case"scroll":Wt(t,"scroll",!0);break;case"focus":case"blur":Wt(t,"focus",!0),Wt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":st(e)&&Wt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ge.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var pt,ht,mt,_t=!1,gt=[],bt=null,yt=null,vt=null,At=new Map,wt=new Map,kt=[],Et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),xt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ot(e,t,n,r,a){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:a,container:r}}function Ct(e,t){switch(e){case"focus":case"blur":bt=null;break;case"dragenter":case"dragleave":yt=null;break;case"mouseover":case"mouseout":vt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wt.delete(t.pointerId)}}function jt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e=Ot(t,n,r,a,o),null!==t&&null!==(t=En(t))&&ht(t),e):(e.eventSystemFlags|=r,e)}function Dt(e){var t=kn(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){mt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;var t=Gt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=En(t);return null!==n&&ht(n),e.blockedOn=t,!1}return!0}function St(e,t,n){Nt(e)&&n.delete(t)}function Tt(){for(_t=!1;0<gt.length;){var e=gt[0];if(null!==e.blockedOn){null!==(e=En(e.blockedOn))&&pt(e);break}var t=Gt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:gt.shift()}null!==bt&&Nt(bt)&&(bt=null),null!==yt&&Nt(yt)&&(yt=null),null!==vt&&Nt(vt)&&(vt=null),At.forEach(St),wt.forEach(St)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Tt)))}function Pt(e){function t(t){return Mt(t,e)}if(0<gt.length){Mt(gt[0],e);for(var n=1;n<gt.length;n++){var r=gt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==bt&&Mt(bt,e),null!==yt&&Mt(yt,e),null!==vt&&Mt(vt,e),At.forEach(t),wt.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Dt(n),null===n.blockedOn&&kt.shift()}var Bt={},It=new Map,Lt=new Map,Ut=["abort","abort",Ye,"animationEnd",Ke,"animationIteration",We,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qe,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1],o="on"+(a[0].toUpperCase()+a.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Lt.set(r,t),It.set(r,o),Bt[a]=o}}Rt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Ut,2);for(var Ft="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<Ft.length;zt++)Lt.set(Ft[zt],0);var Qt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,Yt=!0;function Kt(e,t){Wt(t,e,!1)}function Wt(e,t,n){var r=Lt.get(t);switch(void 0===r?2:r){case 0:r=function(e,t,n,r){L||B();var a=qt,o=L;L=!0;try{P(a,e,t,n,r)}finally{(L=o)||R()}}.bind(null,t,1,e);break;case 1:r=function(e,t,n,r){Ht(Qt,qt.bind(null,e,t,n,r))}.bind(null,t,1,e);break;default:r=qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function qt(e,t,n,r){if(Yt)if(0<gt.length&&-1<Et.indexOf(e))e=Ot(null,e,t,n,r),gt.push(e);else{var a=Gt(e,t,n,r);if(null===a)Ct(e,r);else if(-1<Et.indexOf(e))e=Ot(a,e,t,n,r),gt.push(e);else if(!function(e,t,n,r,a){switch(t){case"focus":return bt=jt(bt,e,t,n,r,a),!0;case"dragenter":return yt=jt(yt,e,t,n,r,a),!0;case"mouseover":return vt=jt(vt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return At.set(o,jt(At.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,wt.set(o,jt(wt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r)){Ct(e,r),e=ut(e,r,null,t);try{F(dt,e)}finally{ct(e)}}}}function Gt(e,t,n,r){if(null!==(n=kn(n=it(r)))){var a=Xe(n);if(null===a)n=null;else{var o=a.tag;if(13===o){if(null!==(n=Je(a)))return n;n=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}e=ut(e,r,n,t);try{F(dt,e)}finally{ct(e)}return null}var Vt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$t=["Webkit","ms","Moz","O"];function Xt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Vt.hasOwnProperty(e)&&Vt[e]?(""+t).trim():t+"px"}function Jt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=Xt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(Vt).forEach((function(e){$t.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vt[t]=Vt[e]}))}));var Zt=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function en(e,t){if(t){if(Zt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62,""))}}function tn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nn="http://www.w3.org/1999/xhtml";function rn(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var r=0;r<t.length;r++)ft(t[r],e,n)}function an(){}function on(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function sn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ln(e,t){var n,r=sn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sn(r)}}function cn(){for(var e=window,t=on();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=on((e=t.contentWindow).document)}return t}function un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var dn=null,fn=null;function pn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function hn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var mn="function"==typeof setTimeout?setTimeout:void 0,_n="function"==typeof clearTimeout?clearTimeout:void 0;function gn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function bn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var yn=Math.random().toString(36).slice(2),vn="__reactInternalInstance$"+yn,An="__reactEventHandlers$"+yn,wn="__reactContainere$"+yn;function kn(e){var t=e[vn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wn]||n[vn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bn(e);null!==e;){if(n=e[vn])return n;e=bn(e)}return t}n=(e=n).parentNode}return null}function En(e){return!(e=e[vn]||e[wn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function On(e){return e[An]||null}function Cn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function jn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}function Dn(e,t,n){(t=jn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=tt(n._dispatchListeners,t),n._dispatchInstances=tt(n._dispatchInstances,e))}function Nn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Cn(t);for(t=n.length;0<t--;)Dn(n[t],"captured",e);for(t=0;t<n.length;t++)Dn(n[t],"bubbled",e)}}function Sn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=jn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=tt(n._dispatchListeners,t),n._dispatchInstances=tt(n._dispatchInstances,e))}function Tn(e){e&&e.dispatchConfig.registrationName&&Sn(e._targetInst,null,e)}function Mn(e){nt(e,Nn)}var Pn=null,Bn=null,In=null;function Ln(){if(In)return In;var e,t,n=Bn,r=n.length,a="value"in Pn?Pn.value:Pn.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return In=a.slice(e,1<t?1-t:void 0)}function Un(){return!0}function Rn(){return!1}function Fn(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Un:Rn,this.isPropagationStopped=Rn,this}function zn(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function Qn(e){if(!(e instanceof this))throw Error(i(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Hn(e){e.eventPool=[],e.getPooled=zn,e.release=Qn}a(Fn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){this.isPersistent=Un},isPersistent:Rn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Rn,this._dispatchInstances=this._dispatchListeners=null}}),Fn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Fn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return a(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,Hn(n),n},Hn(Fn);var Yn=Fn.extend({data:null}),Kn=Fn.extend({data:null}),Wn=[9,13,27,32],qn=O&&"CompositionEvent"in window,Gn=null;O&&"documentMode"in document&&(Gn=document.documentMode);var Vn=O&&"TextEvent"in window&&!Gn,$n=O&&(!qn||Gn&&8<Gn&&11>=Gn),Xn=String.fromCharCode(32),Jn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Zn=!1;function er(e,t){switch(e){case"keyup":return-1!==Wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function tr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nr=!1,rr={eventTypes:Jn,extractEvents:function(e,t,n,r){var a;if(qn)e:{switch(e){case"compositionstart":var o=Jn.compositionStart;break e;case"compositionend":o=Jn.compositionEnd;break e;case"compositionupdate":o=Jn.compositionUpdate;break e}o=void 0}else nr?er(e,n)&&(o=Jn.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Jn.compositionStart);return o?($n&&"ko"!==n.locale&&(nr||o!==Jn.compositionStart?o===Jn.compositionEnd&&nr&&(a=Ln()):(Bn="value"in(Pn=r)?Pn.value:Pn.textContent,nr=!0)),o=Yn.getPooled(o,t,n,r),(a||null!==(a=tr(n)))&&(o.data=a),Mn(o),a=o):a=null,(e=Vn?function(e,t){switch(e){case"compositionend":return tr(t);case"keypress":return 32!==t.which?null:(Zn=!0,Xn);case"textInput":return(e=t.data)===Xn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(nr)return"compositionend"===e||!qn&&er(e,t)?(e=Ln(),In=Bn=Pn=null,nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Kn.getPooled(Jn.beforeInput,t,n,r)).data=e,Mn(t)):t=null,null===a?t:null===t?a:[a,t]}},ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ar[e.type]:"textarea"===t}var ir={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function sr(e,t,n){return(e=Fn.getPooled(ir.change,e,t,n)).type="change",S(n),Mn(e),e}var lr=null,cr=null;function ur(e){ot(e)}function dr(e){if(ve(xn(e)))return e}function fr(e,t){if("change"===e)return t}var pr=!1;function hr(){lr&&(lr.detachEvent("onpropertychange",mr),cr=lr=null)}function mr(e){if("value"===e.propertyName&&dr(cr))if(e=sr(cr,e,it(e)),L)ot(e);else{L=!0;try{M(ur,e)}finally{L=!1,R()}}}function _r(e,t,n){"focus"===e?(hr(),cr=n,(lr=t).attachEvent("onpropertychange",mr)):"blur"===e&&hr()}function gr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return dr(cr)}function br(e,t){if("click"===e)return dr(t)}function yr(e,t){if("input"===e||"change"===e)return dr(t)}O&&(pr=st("input")&&(!document.documentMode||9<document.documentMode));var vr={eventTypes:ir,_isInputEventSupported:pr,extractEvents:function(e,t,n,r){var a=t?xn(t):window,o=a.nodeName&&a.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===a.type)var i=fr;else if(or(a))if(pr)i=yr;else{i=gr;var s=_r}else(o=a.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(i=br);if(i&&(i=i(e,t)))return sr(i,n,r);s&&s(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&Oe(a,"number",a.value)}},Ar=Fn.extend({view:null,detail:null}),wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Er(){return kr}var xr=0,Or=0,Cr=!1,jr=!1,Dr=Ar.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Er,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=xr;return xr=e.screenX,Cr?"mousemove"===e.type?e.screenX-t:0:(Cr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Or;return Or=e.screenY,jr?"mousemove"===e.type?e.screenY-t:0:(jr=!0,0)}}),Nr=Dr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Sr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Tr={eventTypes:Sr,extractEvents:function(e,t,n,r,a){var o="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(o&&0==(32&a)&&(n.relatedTarget||n.fromElement)||!i&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=t,null!==(t=(t=n.relatedTarget||n.toElement)?kn(t):null)&&(t!==Xe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):i=null,i===t)return null;if("mouseout"===e||"mouseover"===e)var s=Dr,l=Sr.mouseLeave,c=Sr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Nr,l=Sr.pointerLeave,c=Sr.pointerEnter,u="pointer");if(e=null==i?o:xn(i),o=null==t?o:xn(t),(l=s.getPooled(l,i,n,r)).type=u+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(r=i)&&u)e:{for(c=u,i=0,e=s=r;e;e=Cn(e))i++;for(e=0,t=c;t;t=Cn(t))e++;for(;0<i-e;)s=Cn(s),i--;for(;0<e-i;)c=Cn(c),e--;for(;i--;){if(s===c||s===c.alternate)break e;s=Cn(s),c=Cn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(i=r.alternate)||i!==c);)s.push(r),r=Cn(r);for(r=[];u&&u!==c&&(null===(i=u.alternate)||i!==c);)r.push(u),u=Cn(u);for(u=0;u<s.length;u++)Sn(s[u],"bubbled",l);for(u=r.length;0<u--;)Sn(r[u],"captured",n);return 0==(64&a)?[l]:[l,n]}},Mr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Pr=Object.prototype.hasOwnProperty;function Br(e,t){if(Mr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Pr.call(t,n[r])||!Mr(e[n[r]],t[n[r]]))return!1;return!0}var Ir=O&&"documentMode"in document&&11>=document.documentMode,Lr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ur=null,Rr=null,Fr=null,zr=!1;function Qr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return zr||null==Ur||Ur!==on(n)?null:(n="selectionStart"in(n=Ur)&&un(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Fr&&Br(Fr,n)?null:(Fr=n,(e=Fn.getPooled(Lr.select,Rr,e,t)).type="select",e.target=Ur,Mn(e),e))}var Hr={eventTypes:Lr,extractEvents:function(e,t,n,r,a,o){if(!(o=!(a=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{a=$e(a),o=E.onSelect;for(var i=0;i<o.length;i++)if(!a.has(o[i])){a=!1;break e}a=!0}o=!a}if(o)return null;switch(a=t?xn(t):window,e){case"focus":(or(a)||"true"===a.contentEditable)&&(Ur=a,Rr=t,Fr=null);break;case"blur":Fr=Rr=Ur=null;break;case"mousedown":zr=!0;break;case"contextmenu":case"mouseup":case"dragend":return zr=!1,Qr(n,r);case"selectionchange":if(Ir)break;case"keydown":case"keyup":return Qr(n,r)}return null}},Yr=Fn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kr=Fn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wr=Ar.extend({relatedTarget:null});function qr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$r=Ar.extend({key:function(e){if(e.key){var t=Gr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Vr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Er,charCode:function(e){return"keypress"===e.type?qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Xr=Dr.extend({dataTransfer:null}),Jr=Ar.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Er}),Zr=Fn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ea=Dr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ta={eventTypes:Bt,extractEvents:function(e,t,n,r){var a=It.get(e);if(!a)return null;switch(e){case"keypress":if(0===qr(n))return null;case"keydown":case"keyup":e=$r;break;case"blur":case"focus":e=Wr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Xr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Jr;break;case Ye:case Ke:case We:e=Yr;break;case qe:e=Zr;break;case"scroll":e=Ar;break;case"wheel":e=ea;break;case"copy":case"cut":case"paste":e=Kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Nr;break;default:e=Fn}return Mn(t=e.getPooled(a,t,n,r)),t}};if(g)throw Error(i(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),y(),p=On,h=En,m=xn,x({SimpleEventPlugin:ta,EnterLeaveEventPlugin:Tr,ChangeEventPlugin:vr,SelectEventPlugin:Hr,BeforeInputEventPlugin:rr});var na=[],ra=-1;function aa(e){0>ra||(e.current=na[ra],na[ra]=null,ra--)}function oa(e,t){na[++ra]=e.current,e.current=t}var ia={},sa={current:ia},la={current:!1},ca=ia;function ua(e,t){var n=e.type.contextTypes;if(!n)return ia;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function da(e){return null!=e.childContextTypes}function fa(){aa(la),aa(sa)}function pa(e,t,n){if(sa.current!==ia)throw Error(i(168));oa(sa,t),oa(la,n)}function ha(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(i(108,me(t)||"Unknown",o));return a({},n,{},r)}function ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ia,ca=sa.current,oa(sa,e),oa(la,la.current),!0}function _a(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=ha(e,t,ca),r.__reactInternalMemoizedMergedChildContext=e,aa(la),aa(sa),oa(sa,e)):aa(la),oa(la,n)}var ga=o.unstable_runWithPriority,ba=o.unstable_scheduleCallback,ya=o.unstable_cancelCallback,va=o.unstable_requestPaint,Aa=o.unstable_now,wa=o.unstable_getCurrentPriorityLevel,ka=o.unstable_ImmediatePriority,Ea=o.unstable_UserBlockingPriority,xa=o.unstable_NormalPriority,Oa=o.unstable_LowPriority,Ca=o.unstable_IdlePriority,ja={},Da=o.unstable_shouldYield,Na=void 0!==va?va:function(){},Sa=null,Ta=null,Ma=!1,Pa=Aa(),Ba=1e4>Pa?Aa:function(){return Aa()-Pa};function Ia(){switch(wa()){case ka:return 99;case Ea:return 98;case xa:return 97;case Oa:return 96;case Ca:return 95;default:throw Error(i(332))}}function La(e){switch(e){case 99:return ka;case 98:return Ea;case 97:return xa;case 96:return Oa;case 95:return Ca;default:throw Error(i(332))}}function Ua(e,t){return e=La(e),ga(e,t)}function Ra(e,t,n){return e=La(e),ba(e,t,n)}function Fa(e){return null===Sa?(Sa=[e],Ta=ba(ka,Qa)):Sa.push(e),ja}function za(){if(null!==Ta){var e=Ta;Ta=null,ya(e)}Qa()}function Qa(){if(!Ma&&null!==Sa){Ma=!0;var e=0;try{var t=Sa;Ua(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Sa=null}catch(t){throw null!==Sa&&(Sa=Sa.slice(e+1)),ba(ka,za),t}finally{Ma=!1}}}function Ha(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ya(e,t){if(e&&e.defaultProps)for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ka={current:null},Wa=null,qa=null,Ga=null;function Va(){Ga=qa=Wa=null}function $a(e){var t=Ka.current;aa(Ka),e.type._context._currentValue=t}function Xa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ja(e,t){Wa=e,Ga=qa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Oi=!0),e.firstContext=null)}function Za(e,t){if(Ga!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ga=e,t=1073741823),t={context:e,observedBits:t,next:null},null===qa){if(null===Wa)throw Error(i(308));qa=t,Wa.dependencies={expirationTime:0,firstContext:t,responders:null}}else qa=qa.next=t;return e._currentValue}var eo=!1;function to(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function no(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ro(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function oo(e,t){var n=e.alternate;null!==n&&no(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function io(e,t,n,r){var o=e.updateQueue;eo=!1;var i=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==i){var l=i.next;i.next=s.next,s.next=l}i=s,o.shared.pending=null,null!==(l=e.alternate)&&null!==(l=l.updateQueue)&&(l.baseQueue=s)}if(null!==i){l=i.next;var c=o.baseState,u=0,d=null,f=null,p=null;if(null!==l)for(var h=l;;){if((s=h.expirationTime)<r){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(f=p=m,d=c):p=p.next=m,s>u&&(u=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),tl(s,h.suspenseConfig);e:{var _=e,g=h;switch(s=t,m=n,g.tag){case 1:if("function"==typeof(_=g.payload)){c=_.call(m,c,s);break e}c=_;break e;case 3:_.effectTag=-4097&_.effectTag|64;case 0:if(null==(s="function"==typeof(_=g.payload)?_.call(m,c,s):_))break e;c=a({},c,s);break e;case 2:eo=!0}}null!==h.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[h]:s.push(h))}if(null===(h=h.next)||h===l){if(null===(s=o.shared.pending))break;h=i.next=s.next,s.next=l,o.baseQueue=i=s,o.shared.pending=null}}null===p?d=c:p.next=f,o.baseState=d,o.baseQueue=p,nl(u),e.expirationTime=u,e.memoizedState=c}}function so(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=a,a=n,"function"!=typeof r)throw Error(i(191,r));r.call(a)}}}var lo=V.ReactCurrentBatchConfig,co=(new r.Component).refs;function uo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:a({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Hs(),a=lo.suspense;(a=ro(r=Ys(r,e,a),a)).payload=t,null!=n&&(a.callback=n),ao(e,a),Ks(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Hs(),a=lo.suspense;(a=ro(r=Ys(r,e,a),a)).tag=1,a.payload=t,null!=n&&(a.callback=n),ao(e,a),Ks(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Hs(),r=lo.suspense;(r=ro(n=Ys(n,e,r),r)).tag=2,null!=t&&(r.callback=t),ao(e,r),Ks(e,n)}};function po(e,t,n,r,a,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!(t.prototype&&t.prototype.isPureReactComponent&&Br(n,r)&&Br(a,o))}function ho(e,t,n){var r=!1,a=ia,o=t.contextType;return"object"==typeof o&&null!==o?o=Za(o):(a=da(t)?ca:sa.current,o=(r=null!=(r=t.contextTypes))?ua(e,a):ia),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function mo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=co,to(e);var o=t.contextType;"object"==typeof o&&null!==o?a.context=Za(o):(o=da(t)?ca:sa.current,a.context=ua(e,o)),io(e,n,a,r),a.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(uo(e,t,o,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&fo.enqueueReplaceState(a,a.state,null),io(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.effectTag|=4)}var go=Array.isArray;function bo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===co&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yo(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function vo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=vl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=kl(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=bo(e,t,n),r.return=e,r):((r=Al(n.type,n.key,n.props,null,e.mode,r)).ref=bo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=El(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=wl(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=kl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Z:return(n=Al(t.type,t.key,t.props,null,e.mode,n)).ref=bo(e,null,t),n.return=e,n;case ee:return(t=El(t,e.mode,n)).return=e,t}if(go(t)||he(t))return(t=wl(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==a?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Z:return n.key===a?n.type===te?d(e,t,n.props.children,r,a):c(e,t,n,r):null;case ee:return n.key===a?u(e,t,n,r):null}if(go(n)||he(n))return null!==a?null:d(e,t,n,r,null);yo(e,n)}return null}function h(e,t,n,r,a){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Z:return e=e.get(null===r.key?n:r.key)||null,r.type===te?d(t,e,r.props.children,a,r.key):c(t,e,r,a);case ee:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(go(r)||he(r))return d(t,e=e.get(n)||null,r,a,null);yo(t,r)}return null}function m(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,_=null;null!==d&&m<s.length;m++){d.index>m?(_=d,d=null):_=d.sibling;var g=p(a,d,s[m],l);if(null===g){null===d&&(d=_);break}e&&d&&null===g.alternate&&t(a,d),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g,d=_}if(m===s.length)return n(a,d),c;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(a,d);m<s.length;m++)null!==(_=h(d,a,m,s[m],l))&&(e&&null!==_.alternate&&d.delete(null===_.key?m:_.key),i=o(_,i,m),null===u?c=_:u.sibling=_,u=_);return e&&d.forEach((function(e){return t(a,e)})),c}function _(a,s,l,c){var u=he(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,_=s=0,g=null,b=l.next();null!==m&&!b.done;_++,b=l.next()){m.index>_?(g=m,m=null):g=m.sibling;var y=p(a,m,b.value,c);if(null===y){null===m&&(m=g);break}e&&m&&null===y.alternate&&t(a,m),s=o(y,s,_),null===d?u=y:d.sibling=y,d=y,m=g}if(b.done)return n(a,m),u;if(null===m){for(;!b.done;_++,b=l.next())null!==(b=f(a,b.value,c))&&(s=o(b,s,_),null===d?u=b:d.sibling=b,d=b);return u}for(m=r(a,m);!b.done;_++,b=l.next())null!==(b=h(m,a,_,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?_:b.key),s=o(b,s,_),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(a,e)})),u}return function(e,r,o,l){var c="object"==typeof o&&null!==o&&o.type===te&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case Z:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===te){n(e,c.sibling),(r=a(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=a(c,o.props)).ref=bo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===te?((r=wl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Al(o.type,o.key,o.props,null,e.mode,l)).ref=bo(e,r,o),l.return=e,e=l)}return s(e);case ee:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=a(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=El(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,o)).return=e,e=r):(n(e,r),(r=kl(o,e.mode,l)).return=e,e=r),s(e);if(go(o))return m(e,r,o,l);if(he(o))return _(e,r,o,l);if(u&&yo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(i(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ao=vo(!0),wo=vo(!1),ko={},Eo={current:ko},xo={current:ko},Oo={current:ko};function Co(e){if(e===ko)throw Error(i(174));return e}function jo(e,t){switch(oa(Oo,t),oa(xo,e),oa(Eo,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pe(null,"");break;default:t=Pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}aa(Eo),oa(Eo,t)}function Do(){aa(Eo),aa(xo),aa(Oo)}function No(e){Co(Oo.current);var t=Co(Eo.current),n=Pe(t,e.type);t!==n&&(oa(xo,e),oa(Eo,n))}function So(e){xo.current===e&&(aa(Eo),aa(xo))}var To={current:0};function Mo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Po(e,t){return{responder:e,props:t}}var Bo=V.ReactCurrentDispatcher,Io=V.ReactCurrentBatchConfig,Lo=0,Uo=null,Ro=null,Fo=null,zo=!1;function Qo(){throw Error(i(321))}function Ho(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mr(e[n],t[n]))return!1;return!0}function Yo(e,t,n,r,a,o){if(Lo=o,Uo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?pi:hi,e=n(r,a),t.expirationTime===Lo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(i(301));o+=1,Fo=Ro=null,t.updateQueue=null,Bo.current=mi,e=n(r,a)}while(t.expirationTime===Lo)}if(Bo.current=fi,t=null!==Ro&&null!==Ro.next,Lo=0,Fo=Ro=Uo=null,zo=!1,t)throw Error(i(300));return e}function Ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Fo?Uo.memoizedState=Fo=e:Fo=Fo.next=e,Fo}function Wo(){if(null===Ro){var e=Uo.alternate;e=null!==e?e.memoizedState:null}else e=Ro.next;var t=null===Fo?Uo.memoizedState:Fo.next;if(null!==t)Fo=t,Ro=e;else{if(null===e)throw Error(i(310));e={memoizedState:(Ro=e).memoizedState,baseState:Ro.baseState,baseQueue:Ro.baseQueue,queue:Ro.queue,next:null},null===Fo?Uo.memoizedState=Fo=e:Fo=Fo.next=e}return Fo}function qo(e,t){return"function"==typeof t?t(e):t}function Go(e){var t=Wo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=Ro,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var l=s=o=null,c=a;do{var u=c.expirationTime;if(u<Lo){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,u>Uo.expirationTime&&(Uo.expirationTime=u,nl(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),tl(u,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==a);null===l?o=r:l.next=s,Mr(r,t.memoizedState)||(Oi=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Vo(e){var t=Wo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);Mr(o,t.memoizedState)||(Oi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function $o(e){var t=Ko();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:qo,lastRenderedState:e}).dispatch=di.bind(null,Uo,e),[t.memoizedState,e]}function Xo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Uo.updateQueue)?(t={lastEffect:null},Uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Jo(){return Wo().memoizedState}function Zo(e,t,n,r){var a=Ko();Uo.effectTag|=e,a.memoizedState=Xo(1|t,n,void 0,void 0===r?null:r)}function ei(e,t,n,r){var a=Wo();r=void 0===r?null:r;var o=void 0;if(null!==Ro){var i=Ro.memoizedState;if(o=i.destroy,null!==r&&Ho(r,i.deps))return void Xo(t,n,o,r)}Uo.effectTag|=e,a.memoizedState=Xo(1|t,n,o,r)}function ti(e,t){return Zo(516,4,e,t)}function ni(e,t){return ei(516,4,e,t)}function ri(e,t){return ei(4,2,e,t)}function ai(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function oi(e,t,n){return n=null!=n?n.concat([e]):null,ei(4,2,ai.bind(null,t,e),n)}function ii(){}function si(e,t){return Ko().memoizedState=[e,void 0===t?null:t],e}function li(e,t){var n=Wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ho(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ci(e,t){var n=Wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ho(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ui(e,t,n){var r=Ia();Ua(98>r?98:r,(function(){e(!0)})),Ua(97<r?97:r,(function(){var r=Io.suspense;Io.suspense=void 0===t?null:t;try{e(!1),n()}finally{Io.suspense=r}}))}function di(e,t,n){var r=Hs(),a=lo.suspense;a={expirationTime:r=Ys(r,e,a),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Uo||null!==o&&o===Uo)zo=!0,a.expirationTime=Lo,Uo.expirationTime=Lo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.eagerReducer=o,a.eagerState=s,Mr(s,i))return}catch(e){}Ks(e,r)}}var fi={readContext:Za,useCallback:Qo,useContext:Qo,useEffect:Qo,useImperativeHandle:Qo,useLayoutEffect:Qo,useMemo:Qo,useReducer:Qo,useRef:Qo,useState:Qo,useDebugValue:Qo,useResponder:Qo,useDeferredValue:Qo,useTransition:Qo},pi={readContext:Za,useCallback:si,useContext:Za,useEffect:ti,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Zo(4,2,ai.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zo(4,2,e,t)},useMemo:function(e,t){var n=Ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=di.bind(null,Uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ko().memoizedState=e},useState:$o,useDebugValue:ii,useResponder:Po,useDeferredValue:function(e,t){var n=$o(e),r=n[0],a=n[1];return ti((function(){var n=Io.suspense;Io.suspense=void 0===t?null:t;try{a(e)}finally{Io.suspense=n}}),[e,t]),r},useTransition:function(e){var t=$o(!1),n=t[0];return t=t[1],[si(ui.bind(null,t,e),[t,e]),n]}},hi={readContext:Za,useCallback:li,useContext:Za,useEffect:ni,useImperativeHandle:oi,useLayoutEffect:ri,useMemo:ci,useReducer:Go,useRef:Jo,useState:function(){return Go(qo)},useDebugValue:ii,useResponder:Po,useDeferredValue:function(e,t){var n=Go(qo),r=n[0],a=n[1];return ni((function(){var n=Io.suspense;Io.suspense=void 0===t?null:t;try{a(e)}finally{Io.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Go(qo),n=t[0];return t=t[1],[li(ui.bind(null,t,e),[t,e]),n]}},mi={readContext:Za,useCallback:li,useContext:Za,useEffect:ni,useImperativeHandle:oi,useLayoutEffect:ri,useMemo:ci,useReducer:Vo,useRef:Jo,useState:function(){return Vo(qo)},useDebugValue:ii,useResponder:Po,useDeferredValue:function(e,t){var n=Vo(qo),r=n[0],a=n[1];return ni((function(){var n=Io.suspense;Io.suspense=void 0===t?null:t;try{a(e)}finally{Io.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Vo(qo),n=t[0];return t=t[1],[li(ui.bind(null,t,e),[t,e]),n]}},_i=null,gi=null,bi=!1;function yi(e,t){var n=bl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function vi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ai(e){if(bi){var t=gi;if(t){var n=t;if(!vi(e,t)){if(!(t=gn(n.nextSibling))||!vi(e,t))return e.effectTag=-1025&e.effectTag|2,bi=!1,void(_i=e);yi(_i,n)}_i=e,gi=gn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,bi=!1,_i=e}}function wi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_i=e}function ki(e){if(e!==_i)return!1;if(!bi)return wi(e),bi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!hn(t,e.memoizedProps))for(t=gi;t;)yi(e,t),t=gn(t.nextSibling);if(wi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){gi=gn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}gi=null}}else gi=_i?gn(e.stateNode.nextSibling):null;return!0}function Ei(){gi=_i=null,bi=!1}var xi=V.ReactCurrentOwner,Oi=!1;function Ci(e,t,n,r){t.child=null===e?wo(t,null,n,r):Ao(t,e.child,n,r)}function ji(e,t,n,r,a){n=n.render;var o=t.ref;return Ja(t,a),r=Yo(e,t,n,r,o,a),null===e||Oi?(t.effectTag|=1,Ci(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Ki(e,t,a))}function Di(e,t,n,r,a,o){if(null===e){var i=n.type;return"function"!=typeof i||yl(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Al(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ni(e,t,i,r,a,o))}return i=e.child,a<o&&(a=i.memoizedProps,(n=null!==(n=n.compare)?n:Br)(a,r)&&e.ref===t.ref)?Ki(e,t,o):(t.effectTag|=1,(e=vl(i,r)).ref=t.ref,e.return=t,t.child=e)}function Ni(e,t,n,r,a,o){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(Oi=!1,a<o)?(t.expirationTime=e.expirationTime,Ki(e,t,o)):Ti(e,t,n,r,o)}function Si(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ti(e,t,n,r,a){var o=da(n)?ca:sa.current;return o=ua(t,o),Ja(t,a),n=Yo(e,t,n,r,o,a),null===e||Oi?(t.effectTag|=1,Ci(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Ki(e,t,a))}function Mi(e,t,n,r,a){if(da(n)){var o=!0;ma(t)}else o=!1;if(Ja(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ho(t,n,r),_o(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;c="object"==typeof c&&null!==c?Za(c):ua(t,c=da(n)?ca:sa.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||l!==c)&&mo(t,i,r,c),eo=!1;var f=t.memoizedState;i.state=f,io(t,r,i,a),l=t.memoizedState,s!==r||f!==l||la.current||eo?("function"==typeof u&&(uo(t,n,u,r),l=t.memoizedState),(s=eo||po(t,n,s,r,f,l,c))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.effectTag|=4)):("function"==typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"==typeof i.componentDidMount&&(t.effectTag|=4),r=!1)}else i=t.stateNode,no(e,t),s=t.memoizedProps,i.props=t.type===t.elementType?s:Ya(t.type,s),l=i.context,c="object"==typeof(c=n.contextType)&&null!==c?Za(c):ua(t,c=da(n)?ca:sa.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||l!==c)&&mo(t,i,r,c),eo=!1,l=t.memoizedState,i.state=l,io(t,r,i,a),f=t.memoizedState,s!==r||l!==f||la.current||eo?("function"==typeof u&&(uo(t,n,u,r),f=t.memoizedState),(u=eo||po(t,n,s,r,l,f,c))?(d||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,c),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof i.componentDidUpdate&&(t.effectTag|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=c,r=u):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Pi(e,t,n,r,o,a)}function Pi(e,t,n,r,a,o){Si(e,t);var i=0!=(64&t.effectTag);if(!r&&!i)return a&&_a(t,n,!1),Ki(e,t,o);r=t.stateNode,xi.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&i?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,s,o)):Ci(e,t,s,o),t.memoizedState=r.state,a&&_a(t,n,!0),t.child}function Bi(e){var t=e.stateNode;t.pendingContext?pa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&pa(0,t.context,!1),jo(e,t.containerInfo)}var Ii,Li,Ui,Ri,Fi={dehydrated:null,retryTime:0};function zi(e,t,n){var r,a=t.mode,o=t.pendingProps,i=To.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&i)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),oa(To,1&i),null===e){if(void 0!==o.fallback&&Ai(t),s){if(s=o.fallback,(o=wl(null,a,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=wl(s,a,n,null)).return=t,o.sibling=n,t.memoizedState=Fi,t.child=o,n}return a=o.children,t.memoizedState=null,t.child=wo(t,null,a,n)}if(null!==e.memoizedState){if(a=(e=e.child).sibling,s){if(o=o.fallback,(n=vl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(a=vl(a,o)).return=t,n.sibling=a,n.childExpirationTime=0,t.memoizedState=Fi,t.child=n,a}return n=Ao(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=wl(null,a,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=wl(s,a,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Fi,t.child=o,n}return t.memoizedState=null,t.child=Ao(t,e,o.children,n)}function Qi(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),Xa(e.return,t)}function Hi(e,t,n,r,a,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:a,lastEffect:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailExpiration=0,i.tailMode=a,i.lastEffect=o)}function Yi(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Ci(e,t,r.children,n),0!=(2&(r=To.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qi(e,n);else if(19===e.tag)Qi(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oa(To,r),0==(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Mo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Hi(t,!1,a,n,o,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Mo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Hi(t,!0,n,null,o,t.lastEffect);break;case"together":Hi(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ki(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&nl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=vl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=vl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wi(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qi(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return da(t.type)&&fa(),null;case 3:return Do(),aa(la),aa(sa),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!ki(t)||(t.effectTag|=4),Li(t),null;case 5:So(t),n=Co(Oo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ui(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=Co(Eo.current),ki(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[vn]=t,r[An]=s,o){case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(e=0;e<Ge.length;e++)Kt(Ge[e],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"form":Kt("reset",r),Kt("submit",r);break;case"details":Kt("toggle",r);break;case"input":we(r,s),Kt("invalid",r),rn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r),rn(n,"onChange");break;case"textarea":Ne(r,s),Kt("invalid",r),rn(n,"onChange")}for(var l in en(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?r.textContent!==c&&(e=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(e=["children",""+c]):k.hasOwnProperty(l)&&null!=c&&rn(n,l)}switch(o){case"input":ye(r),xe(r,s,!0);break;case"textarea":ye(r),Te(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=an)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===nn&&(e=Me(o)),e===nn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[vn]=t,e[An]=r,Ii(e,t,!1,!1),t.stateNode=e,l=tn(o,r),o){case"iframe":case"object":case"embed":Kt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Ge.length;c++)Kt(Ge[c],e);c=r;break;case"source":Kt("error",e),c=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),c=r;break;case"form":Kt("reset",e),Kt("submit",e),c=r;break;case"details":Kt("toggle",e),c=r;break;case"input":we(e,r),c=Ae(e,r),Kt("invalid",e),rn(n,"onChange");break;case"option":c=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=a({},r,{value:void 0}),Kt("invalid",e),rn(n,"onChange");break;case"textarea":Ne(e,r),c=De(e,r),Kt("invalid",e),rn(n,"onChange");break;default:c=r}en(o,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?Jt(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Le(e,d):"children"===s?"string"==typeof d?("textarea"!==o||""!==d)&&Ue(e,d):"number"==typeof d&&Ue(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?null!=d&&rn(n,s):null!=d&&$(e,s,d,l))}switch(o){case"input":ye(e),xe(e,r,!1);break;case"textarea":ye(e),Te(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?je(e,!!r.multiple,n,!1):null!=r.defaultValue&&je(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=an)}pn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ri(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));n=Co(Oo.current),Co(Eo.current),ki(t)?(n=t.stateNode,r=t.memoizedProps,n[vn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[vn]=t,t.stateNode=n)}return null;case 13:return aa(To),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&ki(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&To.current)?Es===gs&&(Es=bs):(Es!==gs&&Es!==bs||(Es=ys),0!==Ds&&null!==As&&(Cl(As,ks),jl(As,Ds)))),(n||r)&&(t.effectTag|=4),null);case 4:return Do(),Li(t),null;case 10:return $a(t),null;case 17:return da(t.type)&&fa(),null;case 19:if(aa(To),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=r.rendering)){if(o)Wi(r,!1);else if(Es!==gs||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Mo(s))){for(t.effectTag|=64,Wi(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return oa(To,1&To.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Mo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Wi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ba()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Wi(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ba()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ba(),n.sibling=null,t=To.current,oa(To,o?1&t|2:1&t),n):null}throw Error(i(156,t.tag))}function Gi(e){switch(e.tag){case 1:da(e.type)&&fa();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Do(),aa(la),aa(sa),0!=(64&(t=e.effectTag)))throw Error(i(285));return e.effectTag=-4097&t|64,e;case 5:return So(e),null;case 13:return aa(To),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return aa(To),null;case 4:return Do(),null;case 10:return $a(e),null;default:return null}}function Vi(e,t){return{value:e,source:t,stack:_e(t)}}Ii=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Li=function(){},Ui=function(e,t,n,r,o){var i=e.memoizedProps;if(i!==r){var s,l,c=t.stateNode;switch(Co(Eo.current),e=null,n){case"input":i=Ae(c,i),r=Ae(c,r),e=[];break;case"option":i=Ce(c,i),r=Ce(c,r),e=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),e=[];break;case"textarea":i=De(c,i),r=De(c,r),e=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(c.onclick=an)}for(s in en(n,r),n=null,i)if(!r.hasOwnProperty(s)&&i.hasOwnProperty(s)&&null!=i[s])if("style"===s)for(l in c=i[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var u=r[s];if(c=null!=i?i[s]:void 0,r.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(k.hasOwnProperty(s)?(null!=u&&rn(o,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ri=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var $i="function"==typeof WeakSet?WeakSet:Set;function Xi(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=_e(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Ji(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){pl(e,t)}else t.current=null}function Zi(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ya(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(i(163))}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ts(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ns(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ts(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ya(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&so(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}so(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&pn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Pt(n)))));case 19:case 17:case 20:case 21:return}throw Error(i(163))}function rs(e,t,n){switch("function"==typeof _l&&_l(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ua(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var a=t;try{n()}catch(e){pl(a,e)}}e=e.next}while(e!==r)}))}break;case 1:Ji(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){pl(e,t)}}(t,n);break;case 5:Ji(t);break;case 4:ss(e,t,n)}}function as(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&as(t)}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:{for(var t=e.return;null!==t;){if(os(t)){var n=t;break e}t=t.return}throw Error(i(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||os(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var a=t.tag,o=5===a||6===a;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=an));else if(4!==a&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var a=t.tag,o=5===a||6===a;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==a&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ss(e,t,n){for(var r,a,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(i(160));switch(r=s.stateNode,s.tag){case 5:a=!1;break e;case 3:case 4:r=r.containerInfo,a=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,u=n,d=c;;)if(rs(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a?(l=r,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,a=!0,o.child.return=o,o=o.child;continue}}else if(rs(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ls(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void es(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,a=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[An]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ke(n,r),tn(e,a),t=tn(e,r),a=0;a<o.length;a+=2){var s=o[a],l=o[a+1];"style"===s?Jt(n,l):"dangerouslySetInnerHTML"===s?Le(n,l):"children"===s?Ue(n,l):$(n,s,l,t)}switch(e){case"input":Ee(n,r);break;case"textarea":Se(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?je(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?je(n,!!r.multiple,r.defaultValue,!0):je(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Pt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ss=Ba()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,a=null!=(a=e.memoizedProps.style)&&a.hasOwnProperty("display")?a.display:null,o.style.display=Xt("display",a));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void cs(t);case 19:return void cs(t);case 17:return}throw Error(i(163))}function cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $i),t.forEach((function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=Ys(t=Hs(),e,null)),null!==(e=Ws(e,t))&&Gs(e)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var us="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=ro(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ms||(Ms=!0,Ps=r),Xi(e,t)},n}function fs(e,t,n){(n=ro(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return Xi(e,t),r(a)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Bs?Bs=new Set([this]):Bs.add(this),Xi(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ps,hs=Math.ceil,ms=V.ReactCurrentDispatcher,_s=V.ReactCurrentOwner,gs=0,bs=3,ys=4,vs=0,As=null,ws=null,ks=0,Es=gs,xs=null,Os=1073741823,Cs=1073741823,js=null,Ds=0,Ns=!1,Ss=0,Ts=null,Ms=!1,Ps=null,Bs=null,Is=!1,Ls=null,Us=90,Rs=null,Fs=0,zs=null,Qs=0;function Hs(){return 0!=(48&vs)?1073741821-(Ba()/10|0):0!==Qs?Qs:Qs=1073741821-(Ba()/10|0)}function Ys(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Ia();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&vs))return ks;if(null!==n)e=Ha(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Ha(e,150,100);break;case 97:case 96:e=Ha(e,5e3,250);break;case 95:e=2;break;default:throw Error(i(326))}return null!==As&&e===ks&&--e,e}function Ks(e,t){if(50<Fs)throw Fs=0,zs=null,Error(i(185));if(null!==(e=Ws(e,t))){var n=Ia();1073741823===t?0!=(8&vs)&&0==(48&vs)?Vs(e):(Gs(e),0===vs&&za()):Gs(e),0==(4&vs)||98!==n&&99!==n||(null===Rs?Rs=new Map([[e,t]]):(void 0===(n=Rs.get(e))||n>t)&&Rs.set(e,t))}}function Ws(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,a=null;if(null===r&&3===e.tag)a=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){a=r.stateNode;break}r=r.return}return null!==a&&(As===a&&(nl(t),Es===ys&&Cl(a,ks)),jl(a,t)),a}function qs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ol(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Gs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Fa(Vs.bind(null,e));else{var t=qs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Hs();if(r=1073741823===t?99:1===t||2===t?95:0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var a=e.callbackPriority;if(e.callbackExpirationTime===t&&a>=r)return;n!==ja&&ya(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Fa(Vs.bind(null,e)):Ra(r,function e(t,n){if(Qs=0,n)return Dl(t,n=Hs()),Gs(t),null;var r=qs(t);if(0!==r){if(n=t.callbackNode,0!=(48&vs))throw Error(i(327));if(ul(),t===As&&r===ks||Js(t,r),null!==ws){var a=vs;vs|=16;for(var o=el();;)try{al();break}catch(e){Zs(t,e)}if(Va(),vs=a,ms.current=o,1===Es)throw n=xs,Js(t,r),Cl(t,r),Gs(t),n;if(null===ws)switch(o=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,a=Es,As=null,a){case gs:case 1:throw Error(i(345));case 2:Dl(t,2<r?2:r);break;case bs:if(Cl(t,r),r===(a=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=sl(o)),1073741823===Os&&10<(o=Ss+500-Ba())){if(Ns){var s=t.lastPingedTime;if(0===s||s>=r){t.lastPingedTime=r,Js(t,r);break}}if(0!==(s=qs(t))&&s!==r)break;if(0!==a&&a!==r){t.lastPingedTime=a;break}t.timeoutHandle=mn(ll.bind(null,t),o);break}ll(t);break;case ys:if(Cl(t,r),r===(a=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=sl(o)),Ns&&(0===(o=t.lastPingedTime)||o>=r)){t.lastPingedTime=r,Js(t,r);break}if(0!==(o=qs(t))&&o!==r)break;if(0!==a&&a!==r){t.lastPingedTime=a;break}if(1073741823!==Cs?a=10*(1073741821-Cs)-Ba():1073741823===Os?a=0:(a=10*(1073741821-Os)-5e3,0>(a=(o=Ba())-a)&&(a=0),(r=10*(1073741821-r)-o)<(a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*hs(a/1960))-a)&&(a=r)),10<a){t.timeoutHandle=mn(ll.bind(null,t),a);break}ll(t);break;case 5:if(1073741823!==Os&&null!==js){s=Os;var l=js;if(0>=(a=0|l.busyMinDurationMs)?a=0:(o=0|l.busyDelayMs,a=(s=Ba()-(10*(1073741821-s)-(0|l.timeoutMs||5e3)))<=o?0:o+a-s),10<a){Cl(t,r),t.timeoutHandle=mn(ll.bind(null,t),a);break}}ll(t);break;default:throw Error(i(329))}if(Gs(t),t.callbackNode===n)return e.bind(null,t)}}return null}.bind(null,e),{timeout:10*(1073741821-t)-Ba()}),e.callbackNode=t}}}function Vs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&vs))throw Error(i(327));if(ul(),e===As&&t===ks||Js(e,t),null!==ws){var n=vs;vs|=16;for(var r=el();;)try{rl();break}catch(t){Zs(e,t)}if(Va(),vs=n,ms.current=r,1===Es)throw n=xs,Js(e,t),Cl(e,t),Gs(e),n;if(null!==ws)throw Error(i(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,As=null,ll(e),Gs(e)}return null}function $s(e,t){var n=vs;vs|=1;try{return e(t)}finally{0===(vs=n)&&za()}}function Xs(e,t){var n=vs;vs&=-2,vs|=8;try{return e(t)}finally{0===(vs=n)&&za()}}function Js(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_n(n)),null!==ws)for(n=ws.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&fa();break;case 3:Do(),aa(la),aa(sa);break;case 5:So(r);break;case 4:Do();break;case 13:case 19:aa(To);break;case 10:$a(r)}n=n.return}As=e,ws=vl(e.current,null),ks=t,Es=gs,xs=null,Cs=Os=1073741823,js=null,Ds=0,Ns=!1}function Zs(e,t){for(;;){try{if(Va(),Bo.current=fi,zo)for(var n=Uo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Lo=0,Fo=Ro=Uo=null,zo=!1,null===ws||null===ws.return)return Es=1,xs=t,ws=null;e:{var a=e,o=ws.return,i=ws,s=t;if(t=ks,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&i.mode)){var c=i.alternate;c?(i.updateQueue=c.updateQueue,i.memoizedState=c.memoizedState,i.expirationTime=c.expirationTime):(i.updateQueue=null,i.memoizedState=null)}var u=0!=(1&To.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var h=d.memoizedProps;f=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!u)}}if(f){var m=d.updateQueue;if(null===m){var _=new Set;_.add(l),d.updateQueue=_}else m.add(l);if(0==(2&d.mode)){if(d.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var g=ro(1073741823,null);g.tag=2,ao(i,g)}i.expirationTime=1073741823;break e}s=void 0,i=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new us,s=new Set,b.set(l,s)):void 0===(s=b.get(l))&&(s=new Set,b.set(l,s)),!s.has(i)){s.add(i);var y=hl.bind(null,a,l,i);l.then(y,y)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((me(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+_e(i))}5!==Es&&(Es=2),s=Vi(s,i),d=o;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,oo(d,ds(d,l,t));break e;case 1:l=s;var v=d.type,A=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof v.getDerivedStateFromError||null!==A&&"function"==typeof A.componentDidCatch&&(null===Bs||!Bs.has(A)))){d.effectTag|=4096,d.expirationTime=t,oo(d,fs(d,l,t));break e}}d=d.return}while(null!==d)}ws=il(ws)}catch(e){t=e;continue}break}}function el(){var e=ms.current;return ms.current=fi,null===e?fi:e}function tl(e,t){e<Os&&2<e&&(Os=e),null!==t&&e<Cs&&2<e&&(Cs=e,js=t)}function nl(e){e>Ds&&(Ds=e)}function rl(){for(;null!==ws;)ws=ol(ws)}function al(){for(;null!==ws&&!Da();)ws=ol(ws)}function ol(e){var t=ps(e.alternate,e,ks);return e.memoizedProps=e.pendingProps,null===t&&(t=il(e)),_s.current=null,t}function il(e){ws=e;do{var t=ws.alternate;if(e=ws.return,0==(2048&ws.effectTag)){if(t=qi(t,ws,ks),1===ks||1!==ws.childExpirationTime){for(var n=0,r=ws.child;null!==r;){var a=r.expirationTime,o=r.childExpirationTime;a>n&&(n=a),o>n&&(n=o),r=r.sibling}ws.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ws.firstEffect),null!==ws.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ws.firstEffect),e.lastEffect=ws.lastEffect),1<ws.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ws:e.firstEffect=ws,e.lastEffect=ws))}else{if(null!==(t=Gi(ws)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ws.sibling))return t;ws=e}while(null!==ws);return Es===gs&&(Es=5),null}function sl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function ll(e){var t=Ia();return Ua(99,function(e,t){do{ul()}while(null!==Ls);if(0!=(48&vs))throw Error(i(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var a=sl(n);if(e.firstPendingTime=a,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===As&&(ws=As=null,ks=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,a=n.firstEffect):a=n:a=n.firstEffect,null!==a){var o=vs;vs|=32,_s.current=null,dn=Yt;var s=cn();if(un(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var f=0,p=-1,h=-1,m=0,_=0,g=s,b=null;t:for(;;){for(var y;g!==l||0!==u&&3!==g.nodeType||(p=f+u),g!==d||0!==c&&3!==g.nodeType||(h=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)b=g,g=y;for(;;){if(g===s)break t;if(b===l&&++m===u&&(p=f),b===d&&++_===c&&(h=f),null!==(y=g.nextSibling))break;b=(g=b).parentNode}g=y}l=-1===p||-1===h?null:{start:p,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;fn={activeElementDetached:null,focusedElem:s,selectionRange:l},Yt=!1,Ts=a;do{try{cl()}catch(e){if(null===Ts)throw Error(i(330));pl(Ts,e),Ts=Ts.nextEffect}}while(null!==Ts);Ts=a;do{try{for(s=e,l=t;null!==Ts;){var v=Ts.effectTag;if(16&v&&Ue(Ts.stateNode,""),128&v){var A=Ts.alternate;if(null!==A){var w=A.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&v){case 2:is(Ts),Ts.effectTag&=-3;break;case 6:is(Ts),Ts.effectTag&=-3,ls(Ts.alternate,Ts);break;case 1024:Ts.effectTag&=-1025;break;case 1028:Ts.effectTag&=-1025,ls(Ts.alternate,Ts);break;case 4:ls(Ts.alternate,Ts);break;case 8:ss(s,u=Ts,l),as(u)}Ts=Ts.nextEffect}}catch(e){if(null===Ts)throw Error(i(330));pl(Ts,e),Ts=Ts.nextEffect}}while(null!==Ts);if(w=fn,A=cn(),v=w.focusedElem,l=w.selectionRange,A!==v&&v&&v.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(v.ownerDocument.documentElement,v)){null!==l&&un(v)&&(A=l.start,void 0===(w=l.end)&&(w=A),"selectionStart"in v?(v.selectionStart=A,v.selectionEnd=Math.min(w,v.value.length)):(w=(A=v.ownerDocument||document)&&A.defaultView||window).getSelection&&(w=w.getSelection(),u=v.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=ln(v,s),d=ln(v,l),u&&d&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==d.node||w.focusOffset!==d.offset)&&((A=A.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(A),w.extend(d.node,d.offset)):(A.setEnd(d.node,d.offset),w.addRange(A))))),A=[];for(w=v;w=w.parentNode;)1===w.nodeType&&A.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<A.length;v++)(w=A[v]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!dn,fn=dn=null,e.current=n,Ts=a;do{try{for(v=e;null!==Ts;){var k=Ts.effectTag;if(36&k&&ns(v,Ts.alternate,Ts),128&k){A=void 0;var E=Ts.ref;if(null!==E){var x=Ts.stateNode;switch(Ts.tag){case 5:A=x;break;default:A=x}"function"==typeof E?E(A):E.current=A}}Ts=Ts.nextEffect}}catch(e){if(null===Ts)throw Error(i(330));pl(Ts,e),Ts=Ts.nextEffect}}while(null!==Ts);Ts=null,Na(),vs=o}else e.current=n;if(Is)Is=!1,Ls=e,Us=t;else for(Ts=a;null!==Ts;)t=Ts.nextEffect,Ts.nextEffect=null,Ts=t;if(0===(t=e.firstPendingTime)&&(Bs=null),1073741823===t?e===zs?Fs++:(Fs=0,zs=e):Fs=0,"function"==typeof ml&&ml(n.stateNode,r),Gs(e),Ms)throw Ms=!1,e=Ps,Ps=null,e;return 0!=(8&vs)||za(),null}.bind(null,e,t)),null}function cl(){for(;null!==Ts;){var e=Ts.effectTag;0!=(256&e)&&Zi(Ts.alternate,Ts),0==(512&e)||Is||(Is=!0,Ra(97,(function(){return ul(),null}))),Ts=Ts.nextEffect}}function ul(){if(90!==Us){var e=97<Us?97:Us;return Us=90,Ua(e,dl)}}function dl(){if(null===Ls)return!1;var e=Ls;if(Ls=null,0!=(48&vs))throw Error(i(331));var t=vs;for(vs|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:es(5,n),ts(5,n)}}catch(t){if(null===e)throw Error(i(330));pl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return vs=t,za(),!0}function fl(e,t,n){ao(e,t=ds(e,t=Vi(n,t),1073741823)),null!==(e=Ws(e,1073741823))&&Gs(e)}function pl(e,t){if(3===e.tag)fl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){fl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Bs||!Bs.has(r))){ao(n,e=fs(n,e=Vi(t,e),1073741823)),null!==(n=Ws(n,1073741823))&&Gs(n);break}}n=n.return}}function hl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),As===e&&ks===n?Es===ys||Es===bs&&1073741823===Os&&Ba()-Ss<500?Js(e,ks):Ns=!0:Ol(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Gs(e)))}ps=function(e,t,n){var r=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||la.current)Oi=!0;else{if(r<n){switch(Oi=!1,t.tag){case 3:Bi(t),Ei();break;case 5:if(No(t),4&t.mode&&1!==n&&a.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:da(t.type)&&ma(t);break;case 4:jo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,a=t.type._context,oa(Ka,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?zi(e,t,n):(oa(To,1&To.current),null!==(t=Ki(e,t,n))?t.sibling:null);oa(To,1&To.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Yi(e,t,n);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),oa(To,To.current),!r)return null}return Ki(e,t,n)}Oi=!1}}else Oi=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=ua(t,sa.current),Ja(t,n),a=Yo(null,t,r,e,a,n),t.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,da(r)){var o=!0;ma(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,to(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&uo(t,r,s,e),a.updater=fo,t.stateNode=a,a._reactInternalFiber=t,_o(t,r,e,n),t=Pi(null,t,r,!0,o,n)}else t.tag=0,Ci(null,t,a,n),t=t.child;return t;case 16:e:{if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(a),1!==a._status)throw a._result;switch(a=a._result,t.type=a,o=t.tag=function(e){if("function"==typeof e)return yl(e)?1:0;if(null!=e){if((e=e.$$typeof)===se)return 11;if(e===ue)return 14}return 2}(a),e=Ya(a,e),o){case 0:t=Ti(null,t,a,e,n);break e;case 1:t=Mi(null,t,a,e,n);break e;case 11:t=ji(null,t,a,e,n);break e;case 14:t=Di(null,t,a,Ya(a.type,e),r,n);break e}throw Error(i(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ti(e,t,r,a=t.elementType===r?a:Ya(r,a),n);case 1:return r=t.type,a=t.pendingProps,Mi(e,t,r,a=t.elementType===r?a:Ya(r,a),n);case 3:if(Bi(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,no(e,t),io(t,r,null,n),(r=t.memoizedState.element)===a)Ei(),t=Ki(e,t,n);else{if((a=t.stateNode.hydrate)&&(gi=gn(t.stateNode.containerInfo.firstChild),_i=t,a=bi=!0),a)for(n=wo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ci(e,t,r,n),Ei();t=t.child}return t;case 5:return No(t),null===e&&Ai(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,hn(r,a)?s=null:null!==o&&hn(r,o)&&(t.effectTag|=16),Si(e,t),4&t.mode&&1!==n&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ci(e,t,s,n),t=t.child),t;case 6:return null===e&&Ai(t),null;case 13:return zi(e,t,n);case 4:return jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ao(t,null,r,n):Ci(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ji(e,t,r,a=t.elementType===r?a:Ya(r,a),n);case 7:return Ci(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ci(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value;var l=t.type._context;if(oa(Ka,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0==(o=Mr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===a.children&&!la.current){t=Ki(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===l.tag&&((u=ro(n,null)).tag=2,ao(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),Xa(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ci(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(o=t.pendingProps).children,Ja(t,n),r=r(a=Za(a,o.unstable_observedBits)),t.effectTag|=1,Ci(e,t,r,n),t.child;case 14:return o=Ya(a=t.type,t.pendingProps),Di(e,t,a,o=Ya(a.type,o),r,n);case 15:return Ni(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ya(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,da(r)?(e=!0,ma(t)):e=!1,Ja(t,n),ho(t,r,a),_o(t,r,a,n),Pi(null,t,r,!0,e,n);case 19:return Yi(e,t,n)}throw Error(i(156,t.tag))};var ml=null,_l=null;function gl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function bl(e,t,n,r){return new gl(e,t,n,r)}function yl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function vl(e,t){var n=e.alternate;return null===n?((n=bl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Al(e,t,n,r,a,o){var s=2;if(r=e,"function"==typeof e)yl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case te:return wl(n.children,a,o,t);case ie:s=8,a|=7;break;case ne:s=8,a|=1;break;case re:return(e=bl(12,n,t,8|a)).elementType=re,e.type=re,e.expirationTime=o,e;case le:return(e=bl(13,n,t,a)).type=le,e.elementType=le,e.expirationTime=o,e;case ce:return(e=bl(19,n,t,a)).elementType=ce,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case se:s=11;break e;case ue:s=14;break e;case de:s=16,r=null;break e;case fe:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=bl(s,n,t,a)).elementType=e,t.type=r,t.expirationTime=o,t}function wl(e,t,n,r){return(e=bl(7,e,r,t)).expirationTime=n,e}function kl(e,t,n){return(e=bl(6,e,null,t)).expirationTime=n,e}function El(e,t,n){return(t=bl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ol(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Cl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function jl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Dl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Nl(e,t,n,r){var a=t.current,o=Hs(),s=lo.suspense;o=Ys(o,a,s);e:if(n){t:{if(Xe(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(i(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(da(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(i(171))}if(1===n.tag){var c=n.type;if(da(c)){n=ha(n,c,l);break e}}n=l}else n=ia;return null===t.context?t.context=n:t.pendingContext=n,(t=ro(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ao(a,t),Ks(a,o),o}function Sl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Tl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Ml(e,t){Tl(e,t),(e=e.alternate)&&Tl(e,t)}function Pl(e,t,n){var r=new xl(e,t,n=null!=n&&!0===n.hydrate),a=bl(3,null,null,2===t?7:1===t?3:0);r.current=a,a.stateNode=r,to(a),e[wn]=r.current,n&&0!==t&&function(e,t){var n=$e(t);Et.forEach((function(e){ft(e,t,n)})),xt.forEach((function(e){ft(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Bl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Il(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o._internalRoot;if("function"==typeof a){var s=a;a=function(){var e=Sl(i);s.call(e)}}Nl(t,i,e,a)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Pl(e,0,t?{hydrate:!0}:void 0)}(n,r),i=o._internalRoot,"function"==typeof a){var l=a;a=function(){var e=Sl(i);l.call(e)}}Xs((function(){Nl(t,i,e,a)}))}return Sl(i)}function Ll(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bl(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ee,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Pl.prototype.render=function(e){Nl(e,this._internalRoot,null,null)},Pl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Nl(null,e,null,(function(){t[wn]=null}))},pt=function(e){if(13===e.tag){var t=Ha(Hs(),150,100);Ks(e,t),Ml(e,t)}},ht=function(e){13===e.tag&&(Ks(e,3),Ml(e,3))},mt=function(e){if(13===e.tag){var t=Hs();Ks(e,t=Ys(t,e,null)),Ml(e,t)}},C=function(e,t,n){switch(t){case"input":if(Ee(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=On(r);if(!a)throw Error(i(90));ve(r),Ee(r,a)}}}break;case"textarea":Se(e,n);break;case"select":null!=(t=n.value)&&je(e,!!n.multiple,t,!1)}},M=$s,P=function(e,t,n,r,a){var o=vs;vs|=4;try{return Ua(98,e.bind(null,t,n,r,a))}finally{0===(vs=o)&&za()}},B=function(){0==(49&vs)&&(function(){if(null!==Rs){var e=Rs;Rs=null,e.forEach((function(e,t){Dl(t,e),Gs(t)})),za()}}(),ul())},I=function(e,t){var n=vs;vs|=2;try{return e(t)}finally{0===(vs=n)&&za()}};var Ul={Events:[En,xn,On,x,w,Mn,function(e){nt(e,Tn)},S,T,qt,ot,ul,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;!function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);ml=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},_l=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(a({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=et(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:kn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ul,t.createPortal=Ll,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return null===(e=et(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&vs))throw Error(i(187));var n=vs;vs|=1;try{return Ua(99,e.bind(null,t))}finally{vs=n,za()}},t.hydrate=function(e,t,n){if(!Bl(t))throw Error(i(200));return Il(null,e,t,!0,n)},t.render=function(e,t,n){if(!Bl(t))throw Error(i(200));return Il(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(i(40));return!!e._reactRootContainer&&(Xs((function(){Il(null,null,e,!1,(function(){e._reactRootContainer=null,e[wn]=null}))})),!0)},t.unstable_batchedUpdates=$s,t.unstable_createPortal=function(e,t){return Ll(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(i(200));if(null==e||void 0===e._reactInternalFiber)throw Error(i(38));return Il(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(429)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,a,o,i,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(u,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(u,0))},a=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},i=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,h=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var _=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof _&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var g=p.now();t.unstable_now=function(){return p.now()-g}}var b=!1,y=null,v=-1,A=5,w=0;i=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):A=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,E=k.port2;k.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();w=e+A;try{y(!0,e)?E.postMessage(null):(b=!1,y=null)}catch(e){throw E.postMessage(null),e}}else b=!1},r=function(e){y=e,b||(b=!0,E.postMessage(null))},a=function(e,n){v=h((function(){e(t.unstable_now())}),n)},o=function(){m(v),v=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<j(a,t)))break e;e[r]=t,e[n]=a,n=r}}function O(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var o=2*(r+1)-1,i=e[o],s=o+1,l=e[s];if(void 0!==i&&0>j(i,n))void 0!==l&&0>j(l,i)?(e[r]=l,e[s]=n,r=s):(e[r]=i,e[o]=n,r=o);else{if(!(void 0!==l&&0>j(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function j(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var D=[],N=[],S=1,T=null,M=3,P=!1,B=!1,I=!1;function L(e){for(var t=O(N);null!==t;){if(null===t.callback)C(N);else{if(!(t.startTime<=e))break;C(N),t.sortIndex=t.expirationTime,x(D,t)}t=O(N)}}function U(e){if(I=!1,L(e),!B)if(null!==O(D))B=!0,r(R);else{var t=O(N);null!==t&&a(U,t.startTime-e)}}function R(e,n){B=!1,I&&(I=!1,o()),P=!0;var r=M;try{for(L(n),T=O(D);null!==T&&(!(T.expirationTime>n)||e&&!i());){var s=T.callback;if(null!==s){T.callback=null,M=T.priorityLevel;var l=s(T.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?T.callback=l:T===O(D)&&C(D),L(n)}else C(D);T=O(D)}if(null!==T)var c=!0;else{var u=O(N);null!==u&&a(U,u.startTime-n),c=!1}return c}finally{T=null,M=r,P=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){B||P||(B=!0,r(R))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return O(D)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,i){var s=t.unstable_now();if("object"==typeof i&&null!==i){var l=i.delay;l="number"==typeof l&&0<l?s+l:s,i="number"==typeof i.timeout?i.timeout:F(e)}else i=F(e),l=s;return e={id:S++,callback:n,priorityLevel:e,startTime:l,expirationTime:i=l+i,sortIndex:-1},l>s?(e.sortIndex=l,x(N,e),null===O(D)&&e===O(N)&&(I?o():I=!0,a(U,l-s))):(e.sortIndex=i,x(D,e),B||P||(B=!0,r(R))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=O(D);return n!==T&&null!==T&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<T.expirationTime||i()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},function(e,t,n){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return r({},n,e[t])};t.default={assignee:function(e){return"standalone"==(void 0).globalstore.user.type?{users:e.users}:{user:e.user}},tags:function(e){a(e,"tags","tags")},estimated_hours:function(e){return a(e,"calculated_estimated_hours","estimated_hours")},actual_hours:function(e){return a(e,"calculated_actual_hours","actual_hours")},estimated_cost:function(e){return a(e,"calculated_estimated_cost","estimated_cost")},actual_cost:function(e){return a(e,"calculated_actual_cost","actual_cost")},start:function(e){return a(e,"start","start")},due:function(e){return a(e,"due","due")},working_days:function(e){return""==e.start&&""==e.due?{duration_wd_fixed:e.duration_wd_fixed}:{start:e.start,due:e.due}},priority:function(e){return{priority_user:e.priority_user}},risk:function(e){return a(e,"risk","risk")},custom_field:function(e,t){return r({},t,e.getCustomField(t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=u(n(433)),c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),u(n(20)));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function f(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var p=(r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return d(r,"non_project_members_expanded",a,r),d(r,"filtered_users",o,r),r.globalstore=e,r.prefill=r.prefill.bind(r),r.readLocalStorageFilteredUsers=r.readLocalStorageFilteredUsers.bind(r),r.readLocalStorageFilteredUsers(),(0,s.reaction)((function(){return r.filtered_users}),(function(e){return r.writeLocalStorageFilteredUsers()})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),i(t,[{key:"firebaseRef",value:function(){var e=this.globalstore.projects.selected;return e||(e={workbook:{id:this.globalstore.workbooks.selected.id}}),this.globalstore.db.collection("workbooks").doc(e.workbook.id).collection("resources")}},{key:"readLocalStorageFilteredUsers",value:function(){if(this.globalstore.projects&&this.globalstore.projects.selected){var e=localStorage.getItem("filtered_users_"+this.globalstore.projects.selected.id);if(e){var t=JSON.parse(e);this.filtered_users=t}else this.filtered_users=[]}}},{key:"writeLocalStorageFilteredUsers",value:function(){localStorage.setItem("filtered_users_"+this.globalstore.projects.selected.id,JSON.stringify(this.filtered_users))}},{key:"removeUsersFilter",value:function(){this.filtered_users=[]}},{key:"model",value:function(){return l.default}},{key:"url",value:function(){var e=this.globalstore.projects.selected;if(e)return"/projects/"+e.id+"/users"}},{key:"test",value:function(){console.log(this.globalstore.tasks.active_filters),console.log(this.globalstore.tasks.active_filters.assignee)}},{key:"prefill",value:function(e){var t=this.globalstore.tasks.users.map((function(e){return e.id}));return e.forEach((function(e){-1!=t.indexOf(e.id)&&(e.belongs_to_project=!0)})),e}},{key:"afterReset",value:function(){var e=this,t=this.models.filter((function(e){return e.user_id})).map((function(e){return e.user_id})).join(",");if("standalone"==this.globalstore.user.type)return fetch("/profiles?uids="+t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(t){t.json().then((function(t){t.forEach((function(t){var n=e.models.filter((function(e){return e.user_id==t.id}))[0];n&&t.photo&&n.set({photo:{image_60x60:t.photo}})}))}))}))}},{key:"getWithVirtuals",value:function(e){var t=this.models.map((function(e){return e.id})),n=this.globalstore.tasks.users.filter((function(e){return-1==t.indexOf(e.id)}));return this.models.concat(n).find((function(t){return t.id==e}))}},{key:"offerConvertToMember",value:function(e){var t=this.globalstore.workbooks.selected;if(!t||t.owner===store.user.id){var n=this.globalstore.subscriptions.getByWorkbook(t);this.globalstore.user.isTrialOver()&&!n||n&&n.owner._id!=store.user.id||(this.globalstore.uistate.current_modal_options={warn_cost:!1},n&&n.owner._id==this.globalstore.user.id&&n.available_licenses()<=0&&(this.globalstore.uistate.current_modal_options.warn_cost=!0),this.globalstore.uistate.current_modal="CONVERT_TO_MEMBER",this.globalstore.uistate.current_modal_options.resource=e)}}},{key:"findByName",value:function(e){return this.models.filter((function(t){return t.name.toLowerCase().trim()==e.toLowerCase().trim()}))}},{key:"findById",value:function(e){return this.models.filter((function(t){return t.id==e||t.user_id==e}))[0]}},{key:"buildUsers",value:function(e){console.log("Building users",e),this.set(e)}},{key:"filtered_users_from_global_filters",get:function(){return console.log(this.globalstore.tasks.active_filters),(this.globalstore.tasks.active_filters.assignee||{selected:[]}).selected.map((function(e){return e.id}))||[]}},{key:"current_project_users",get:function(){var e={};return this.globalstore.tasks.users.forEach((function(t){e[t.id]=!0})),e}},{key:"filtered",get:function(){var e=this.models.map((function(e){return e.id})),t=this.globalstore.tasks.users.filter((function(t){return-1==e.indexOf(t.id)}));return(-1==e.indexOf(0)&&-1==t.map((function(e){return e.id})).indexOf(0)?this.models.concat(t).concat({id:0,name:"Unassigned",photo:!1,belongs_to_project:!0}):this.models.concat(t)).sort((function(e,t){return(e.name||"").toLowerCase()<(t.name||"").toLowerCase()?-1:(e.name||"").toLowerCase()>(t.name||"").toLowerCase()?1:0}))}},{key:"filtered_project_members",get:function(){var e=this;return 0!=this.filtered_users_from_global_filters.length?this.filtered.filter((function(t){return-1!=e.filtered_users_from_global_filters.indexOf(t.id)})):"standalone"==this.globalstore.user.type?this.filtered.filter((function(t){return t.belongs_to_project||e.current_project_users[t.id]})):this.filtered.filter((function(e){return e.belongs_to_project}))}},{key:"unfiltered_project_members",get:function(){var e=this;return"standalone"==this.globalstore.user.type?this.filtered.filter((function(t){return t.belongs_to_project||e.current_project_users[t.id]})):this.filtered.filter((function(e){return e.belongs_to_project}))}},{key:"filtered_non_project_members",get:function(){var e=this;return 0!=this.filtered_users_from_global_filters.length?[]:"standalone"==this.globalstore.user.type?this.filtered.filter((function(t){return!t.belongs_to_project&&!e.current_project_users[t.id]})):this.filtered.filter((function(e){return!e.belongs_to_project}))}}],[{key:"fromJS",value:function(e){}}]),t}(),a=f(r.prototype,"non_project_members_expanded",[s.observable],{enumerable:!0,initializer:function(){return!0}}),o=f(r.prototype,"filtered_users",[s.observable],{enumerable:!0,initializer:function(){return[]}}),f(r.prototype,"filtered_users_from_global_filters",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered_users_from_global_filters"),r.prototype),f(r.prototype,"current_project_users",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"current_project_users"),r.prototype),f(r.prototype,"filtered",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),f(r.prototype,"filtered_project_members",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered_project_members"),r.prototype),f(r.prototype,"unfiltered_project_members",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"unfiltered_project_members"),r.prototype),f(r.prototype,"filtered_non_project_members",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered_non_project_members"),r.prototype),r);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),d=(l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&l.__esModule?l:{default:l};function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return f(n,"id",a,n),f(n,"name",o,n),f(n,"type",i,n),f(n,"photo",s,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default),c(t,[{key:"toJS",value:function(){return Object.assign({},this)}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"fromJS",value:function(e,n){return new t(e,n)}},{key:"defaults",value:function(){return{name:"",id:"",type:"",photo:{image_60x60:""}}}}]),t}(),a=p(r.prototype,"id",[u.observable],{enumerable:!0,initializer:null}),o=p(r.prototype,"name",[u.observable],{enumerable:!0,initializer:null}),i=p(r.prototype,"type",[u.observable],{enumerable:!0,initializer:null}),s=p(r.prototype,"photo",[u.observable],{enumerable:!0,initializer:null}),r);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),f(n(20))),d=f(n(435));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _=(r=c.computed.struct,a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return h(r,"filters",o,r),h(r,"force_sort",i,r),r.globalstore=e,(0,c.reaction)((function(){return r.selected}),(function(){return r.globalstore.users.readLocalStorageFilteredUsers()})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),l(t,[{key:"firebaseRef",value:function(){if(this.globalstore.workbooks.selected){var e=this.globalstore.workbooks.selected.id;return this.globalstore.db.collection("workbooks").doc(e).collection("projects")}}},{key:"model",value:function(){return d.default}},{key:"url",value:function(){return"/projects"}},{key:"addVirtualModels",value:function(e){var t=this,n=!1,r=[],a=null;return e.forEach((function(e,o){"workspace"!=e.type||e.workspace||e.set({workspace:{name:e.name.substr(12),id:e.supplier_project_id}});var i=e.workspace||e.workbook;"group"!=e.type&&"team"!=e.subtype&&i&&i.id!=n&&(a&&(r.push(a),a=null),r.push({collection:t,type:"workspace-title",standalone:e.workbook&&void 0!==e.workbook.id,name:i.name,id:"all-"+i.id,supplier_project_id:i.id,workspace:{name:i.name,id:i.id}}),n=i.id),"all"==e.subtype?a=e:r.push(e)})),a&&r.push(a),r}},{key:"stats",value:function(){return this.globalstore.user&&this.globalstore.user.type&&"standalone"==this.globalstore.user.type?{projects:this.models.filter((function(e){return"project"==e.type})).length+this.models.filter((function(e){return"workspace"==e.type})).length,groups:0}:{projects:this.models.filter((function(e){return"project"==e.type})).length+this.models.filter((function(e){return"workspace"==e.type})).length,groups:this.models.filter((function(e){return"group"==e.type})).length}}},{key:"selectProject",value:function(e){this.models.forEach((function(e){e.selected=!1})),e.selected=!0,e.selectWorkbook(),"inbox"!=this.globalstore.uistate.active_view&&(this.globalstore.snapshots.fetch(),this.globalstore.projectsettings._fetch(),this.globalstore.uistate.last_project_id=this.globalstore.uistate.project_id,this.globalstore.uistate.project_id=e.id)}},{key:"resync",value:function(){return this.fetch({url:this.url()+"?resync=true"})}},{key:"prefill",value:function(e){var t={};return e.forEach((function(e){""==e.name&&(e.name="Unnamed Project"),e.workspace&&e.workspace.id&&e.workspace.name&&(t[e.workspace.id]=e.workspace),""===e.workspace&&"workspace"==e.type&&(e.workspace={id:e.supplier_project_id})})),e.forEach((function(e){""===e.workspace&&"workspace"==e.type&&t[e.supplier_project_id]&&(e.workspace=t[e.supplier_project_id]),e.workspace&&!e.workspace.name&&t[e.workspace.id]&&(e.workspace.name=t[e.workspace.id].name)})),e}},{key:"sorted",get:function(){var e,t=((this.globalstore.workbooks||{}).selected||{}).id||"all",n=(this.globalstore.user.projects_order||{})[t]||[],r=(this.globalstore.workbooks.selected,this.models.map((function(e){return e}))),a=this.projectsFolders,o=r.filter((function(e){return"group"===e.type&&"All Projects"===e.name})),i=r.filter((function(e){return"All Projects"!==e.name}));r=o.concat(i),this.force_sort;var l={},c=n.length;if(r.forEach((function(e){l[e.id]=n.indexOf(e.id)+1!=-1&&n.indexOf(e.id)+1,l[e.id]||(l[e.id]=c+r.indexOf(e))})),Object.entries(a).forEach((function(e){var t=s(e,2),n=t[0],r=t[1];l[n]=(l[r]||1e5)+(l[n]||50)/1e3})),o&&o.length>0&&o.forEach((function(e){e.id&&(l[e.id]=0)})),r.sort((function(e,t){return(void 0!==l[e.id]?l[e.id]:1e5)-(void 0!==l[t.id]?l[t.id]:1e5)})),"standalone"==this.globalstore.user.type)return r;var u,d={},f=[];return r.forEach((function(e){e.workspace&&e.workspace.id?d[e.workspace.id]?d[e.workspace.id].push(e):d[e.workspace.id]=[e]:d[0]?d[0].push(e):d[0]=[e]})),Object.keys(d).forEach((function(e){var t;(t=f).push.apply(t,p(d[e]))})),u=f.filter((function(e){return"group"==e.type})),f=f.filter((function(e){return"group"!=e.type})),(e=u).push.apply(e,p(f)),u}},{key:"filtered",get:function(){var e=this,t=this.sorted.filter((function(t){return!t.archived&&t.name.toLowerCase().indexOf(e.filters.query.toLowerCase())>-1}));return this.globalstore.user.type&&"standalone"==this.globalstore.user.type?t:this.addVirtualModels(t)}},{key:"filteredWorkbook",get:function(){if(!this.globalstore.workbooks.selected)return[];var e=this.globalstore.workbooks.selected,t=this.filtered.filter((function(t){return(t.workspace||t.workbook).id==e.id&&"workspace-title"!=t.type}));return 0==this.filters.query.length?2==t.length?t.filter((function(e){return"group"!=e.type})):1==t.length?[]:t:t}},{key:"selected",get:function(){return this.models.filter((function(e){return e.selected}))[0]}},{key:"projectsFolders",get:function(){var e={};return this.force_sort,this.models.toJSON().filter((function(e){return"folder"===e.subtype})).forEach((function(t){t.projects_in_folder.forEach((function(n){e[n]=t.id}))})),e}}]),t}(),o=m(a.prototype,"filters",[c.observable],{enumerable:!0,initializer:function(){return{query:""}}}),i=m(a.prototype,"force_sort",[c.observable],{enumerable:!0,initializer:function(){return 0}}),m(a.prototype,"sorted",[r],Object.getOwnPropertyDescriptor(a.prototype,"sorted"),a.prototype),m(a.prototype,"selectProject",[c.action],Object.getOwnPropertyDescriptor(a.prototype,"selectProject"),a.prototype),m(a.prototype,"filtered",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"filtered"),a.prototype),m(a.prototype,"filteredWorkbook",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"filteredWorkbook"),a.prototype),m(a.prototype,"selected",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"selected"),a.prototype),m(a.prototype,"projectsFolders",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"projectsFolders"),a.prototype),a);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f,p,h,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=n(3),g=(h=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&h.__esModule?h:{default:h};function b(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(30);var v=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b(n,"id",a,n),b(n,"name",o,n),b(n,"selected",i,n),b(n,"tags",s,n),b(n,"projects",l,n),b(n,"users",c,n),b(n,"archived",u,n),b(n,"last_seen",d,n),b(n,"projects_in_folder",f,n),b(n,"flags",p,n),n.sortOrder={project:"2",workspace:"2",group:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.default),m(t,[{key:"has_last_seen",value:function(e){return!(!this.last_seen||void 0===this.last_seen[e])}},{key:"last_seen_by",value:function(e){return this.last_seen&&void 0!==this.last_seen[e]?this.last_seen[e]:moment().utc().toDate().getTime()}},{key:"set_last_seen_by",value:function(e){if(this.last_seen)var t=this.last_seen;else t={};t[e]=moment().utc().toDate().getTime(),this.save({last_seen:t})}},{key:"selectWorkbook",value:function(){var e=this.collection.globalstore;if(this.workbook&&this.workbook.id&&""!=this.workbook.id){var t=e.workbooks.get(this.workbook.id);t&&t.select()}}},{key:"afterLoadHooks",value:function(){this.autoCreateBaseline()}},{key:"autoCreateBaseline",value:function(){var e=this.collection.globalstore,t=e.tasks.containersWithFixedDatesAndDependencies();"project"==this.type&&(this.flags.should_skip_project_backup||(t.length>0?(e.snapshots.createBaseline("Restore Point"),this.flags.should_skip_project_backup=!0,this.save()):(this.flags.should_skip_project_backup=!0,this.save())))}},{key:"addToFolder",value:function(e){var t=[];this.projects_in_folder.map((function(e){t.push(e)})),t.includes(e)||t.push(e),this.projects_in_folder.replace(t)}},{key:"removeFromFolder",value:function(e){var t=[];this.projects_in_folder.map((function(n){n!=e&&t.push(n)})),this.projects_in_folder.replace(t)}},{key:"comparator",get:function(){var e,t="";switch(this.type){case"project":e=(e=this.workspace||this.workbook)?e.id:0,t=this.sortOrder[this.type]+"-"+e+"-1";break;case"workspace":e=this.supplier_project_id,(void 0===this.subtype||void 0!==this.subtype&&"team"!=this.subtype)&&(t=this.sortOrder[this.type]+"-"+e+"-0"),void 0!==this.subtype&&"team"==this.subtype&&(t=this.sortOrder[this.type]+"-"+e+"-0");break;case"group":t="all"==this.subtype?"2-"+(e=(e=this.workspace||this.workbook)?e.id:0)+"-2":this.sortOrder[this.type]+"-0"}return String(t+this.name)}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"default_flags",value:function(){return{should_skip_project_backup:!0}}},{key:"defaults",value:function(){return{id:"",name:"New project",workspace:"",team:"",projects:[],users:[],supplier_project_id:"",type:"project",supplier:"",last_seen:{},projects_in_folder:[],subtype:"",flags:{}}}}]),t}(),a=y(r.prototype,"id",[_.observable],{enumerable:!0,initializer:null}),o=y(r.prototype,"name",[_.observable],{enumerable:!0,initializer:null}),i=y(r.prototype,"selected",[_.observable],{enumerable:!0,initializer:null}),s=y(r.prototype,"tags",[_.observable],{enumerable:!0,initializer:null}),l=y(r.prototype,"projects",[_.observable],{enumerable:!0,initializer:function(){return[]}}),c=y(r.prototype,"users",[_.observable],{enumerable:!0,initializer:function(){return[]}}),u=y(r.prototype,"archived",[_.observable],{enumerable:!0,initializer:null}),d=y(r.prototype,"last_seen",[_.observable],{enumerable:!0,initializer:function(){return{}}}),f=y(r.prototype,"projects_in_folder",[_.observable],{enumerable:!0,initializer:function(){return[]}}),p=y(r.prototype,"flags",[_.observable],{enumerable:!0,initializer:function(){return{}}}),y(r.prototype,"comparator",[_.computed],Object.getOwnPropertyDescriptor(r.prototype,"comparator"),r.prototype),r);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f,p,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(3),g=(p=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&p.__esModule?p:{default:p};function b(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var v=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b(n,"name",a,n),b(n,"color",o,n),b(n,"end",i,n),b(n,"start",s,n),b(n,"is_holiday",l,n),b(n,"on_workspace",c,n),b(n,"disabled",u,n),b(n,"tooltip_status",d,n),b(n,"user_id",f,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.default),h(t,[{key:"_fetch",value:function(e){var t=this;(e=e||{}).url="/projects/"+this.globalstore.projects.selected.id,this.fetch(e).then((function(){var e=t.dates||[];t.globalstore.dates.update(e)}))}},{key:"_save",value:function(e,t){(t=t||{}).url="/projects/"+this.globalstore.projects.selected.id+"/dates/"+this.id;var n=_.extend({},this.settings);_.extend(n,e.settings),e.settings=n,this.save(e,t)}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{name:"",color:"",end:"",id:"",is_holiday:!1,on_workspace:!1,start:"",supplier_project_id:"",disabled:!1,user_id:!1}}}]),t}(),a=y(r.prototype,"name",[m.observable],{enumerable:!0,initializer:null}),o=y(r.prototype,"color",[m.observable],{enumerable:!0,initializer:null}),i=y(r.prototype,"end",[m.observable],{enumerable:!0,initializer:null}),s=y(r.prototype,"start",[m.observable],{enumerable:!0,initializer:null}),l=y(r.prototype,"is_holiday",[m.observable],{enumerable:!0,initializer:null}),c=y(r.prototype,"on_workspace",[m.observable],{enumerable:!0,initializer:null}),u=y(r.prototype,"disabled",[m.observable],{enumerable:!0,initializer:null}),d=y(r.prototype,"tooltip_status",[m.observable],{enumerable:!0,initializer:function(){return"closed"}}),f=y(r.prototype,"user_id",[m.observable],{enumerable:!0,initializer:function(){return!1}}),r);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),c=(i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&i.__esModule?i:{default:i};function u(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function d(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var f=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u(n,"name",a,n),u(n,"id",o,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),s(t,[{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{name:"",id:"",workspace:""}}}]),t}(),a=d(r.prototype,"name",[l.observable],{enumerable:!0,initializer:null}),o=d(r.prototype,"id",[l.observable],{enumerable:!0,initializer:null}),r);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),c=(i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&i.__esModule?i:{default:i};function u(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function d(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(56);var f=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u(n,"name",a,n),u(n,"date",o,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),s(t,[{key:"loadAsBaseline",value:function(){var e=this.collection.globalstore.tasks,t=this.collection.globalstore.uistate;t.notification={message:"Loading baseline",loading:!0,type:"popover"},fetch("/shared/"+this.id+".json",{method:"GET",credentials:"include"}).then((function(n){n.json().then((function(n){var r={};n.tasks.forEach((function(e){r[e.id]=e})),e.baseline=r,t.notification=!1}))})).catch((function(e){throw console.log(e),new Error("Error: Baseline fetch",e)}))}},{key:"restore",value:function(){var e=this.collection.globalstore.tasks,t=this.collection.globalstore.uistate;t.notification={message:"Restoring to baseline",loading:!0,type:"popover"},fetch("/shared/"+this.id+".json",{method:"GET",credentials:"include"}).then((function(n){n.json().then((function(n){n.tasks.forEach((function(t){var n=e.get(t.id);n&&(n.start==t.start&&n.due==t.due||n.save({start:t.start,due:t.due}))})),t.notification=!1}))})).catch((function(e){throw console.log(e),new Error("Error: Baseline fetch",e)}))}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{id:"",name:"",date:"",baseline:"",supplier_project_id:"",project_id:""}}}]),t}(),a=d(r.prototype,"name",[l.observable],{enumerable:!0,initializer:null}),o=d(r.prototype,"date",[l.observable],{enumerable:!0,initializer:null}),r);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),c(n(20))),l=c(n(440));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var d=(r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o,i,s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r=s,"last_read",i=s,(o=a)&&Object.defineProperty(r,"last_read",{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(i):void 0}),s.globalstore=e,s.last_read=localStorage.getItem("news_last_read")||moment("2017-01-01").toDate().getTime(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"model",value:function(){return l.default}},{key:"url",value:function(){return"/newsandupdates"}},{key:"firebaseRef",value:function(){return this.globalstore.db.collection("news")}},{key:"prefill",value:function(e){return e.items=e.items||[],e.items.forEach((function(e){e._url=e.url,delete e.url,e.id=Math.random()*(new Date).getTime()})),e.items}},{key:"setLastRead",value:function(e){localStorage.setItem("news_last_read",e),this.last_read=e}},{key:"unreads",get:function(){var e=this.last_read;return this.models.filter((function(t){return t.created>e}))}}]),t}(),a=u(r.prototype,"last_read",[i.observable],{enumerable:!0,initializer:null}),u(r.prototype,"unreads",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"unreads"),r.prototype),r);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),p=(o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&o.__esModule?o:{default:o},h=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,o,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"name",o=i,(r=a)&&Object.defineProperty(n,"name",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),d(t,[{key:"read",value:function(){this.read=!0}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{name:"",id:"",title:"",body:"",content:"",read:!1}}}]),t}(),i=r.prototype,s="name",l=[f.observable],c={enumerable:!0,initializer:null},u={},Object.keys(c).forEach((function(e){u[e]=c[e]})),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),void 0===(u=l.slice().reverse().reduce((function(e,t){return t(i,s,e)||e}),u)).initializer&&(Object.defineProperty(i,s,u),u=null),a=u,r);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=l(n(442)),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),l(n(20)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var u=(c((r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n||[]));return r.globalstore=e,(0,o.reaction)((function(){return r.selected}),(function(){r.globalstore.presence.fetch()})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"model",value:function(){return i.default}},{key:"firebaseRef",value:function(){return this.globalstore.db.collection("workbooks")}},{key:"firebaseRefQuery",value:function(){return this.firebaseRef().where("access."+this.globalstore.user.id,"==",!0)}},{key:"url",value:function(){return"/workbooks/"}},{key:"update",value:function(e){this.reset(e)}},{key:"prefill",value:function(e){return e.forEach((function(e){""==e.name&&(e.name="Unnamed Workbook")})),e}},{key:"filtered",get:function(){return this.models.filter((function(e){return e&&!e.archived})).sort((function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}))}},{key:"selected",get:function(){var e=this;if(0==this.models.length)return!1;var t=this.filtered.filter((function(e){return e.selected}));if(0==t.length){if(this.globalstore.projects.selected&&this.globalstore.projects.selected.workbook&&(t=this.models.filter((function(t){return t.id==e.globalstore.projects.selected.workbook.id}))).length>0)return t[0];var n=localStorage.getItem("last_workbook");return n&&(t=this.filtered.filter((function(e){return e.id==n}))).length>0?(t[0].select(),t[0]):(this.filtered[0].select(),this.filtered[0])}return t[0]}}]),t}()).prototype,"filtered",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),c(r.prototype,"selected",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"selected"),r.prototype),r);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),d=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),p(n(19))),f=p(n(94));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h(n,"name",a,n),h(n,"id",o,n),h(n,"selected",i,n),h(n,"archived",s,n),h(n,"settings",l,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default),c(t,[{key:"createNewProject",value:function(e,t){var n=this;if("standalone"===e.supplier){var r=new f.default(this.store.globalstore,[],{workbook_id:this.id}),a={name:e.name,workbook:{id:this.id,name:this.name},supplier:"standalone",flags:this.store.globalstore.projects.model().default_flags()};r.create(a).then((function(e){a.id=e.id,n.store.globalstore.projects.add([a]),t(a)}))}else $.post("/suppliers/asana/projects",e,(function(r){var a={name:r.name,supplier_project_id:r.id,workspace:r.workspace,color:r.color,supplier:e.supplier};r.team&&(a.team=r.team),n.store.globalstore.projects.create(a).then(t)}))}},{key:"select",value:function(){console.log("Selected ",this.name),localStorage.setItem("last_workbook",this.id),this.collection.models.forEach((function(e){e.selected=!1})),this.selected=!0}},{key:"archive",value:function(){this.archived=!0}},{key:"defaults",get:function(){return t.defaults()}},{key:"projects",get:function(){var e=this;return this.store.globalstore.projects.filtered.filter((function(t){return t.workbook&&t.workbook.id==e.id&&"all"!=t.subtype&&"workspace-title"!=t.type&&"workbook"!=t.type}))}}],[{key:"defaults",value:function(){return{name:"",id:"",access:{},owner:"",archived:!1,settings:{}}}}]),t}(),a=m(r.prototype,"name",[u.observable],{enumerable:!0,initializer:null}),o=m(r.prototype,"id",[u.observable],{enumerable:!0,initializer:null}),i=m(r.prototype,"selected",[u.observable],{enumerable:!0,initializer:null}),s=m(r.prototype,"archived",[u.observable],{enumerable:!0,initializer:null}),l=m(r.prototype,"settings",[u.observable],{enumerable:!0,initializer:null}),m(r.prototype,"projects",[u.computed],Object.getOwnPropertyDescriptor(r.prototype,"projects"),r.prototype),m(r.prototype,"select",[u.action],Object.getOwnPropertyDescriptor(r.prototype,"select"),r.prototype),m(r.prototype,"archive",[u.action],Object.getOwnPropertyDescriptor(r.prototype,"archive"),r.prototype),r);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(3),h=(d=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&d.__esModule?d:{default:d};function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"name",a,n),m(n,"id",o,n),m(n,"token",i,n),m(n,"email",s,n),m(n,"user_id",l,n),m(n,"owner",c,n),m(n,"archived",u,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),f(t,[{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{name:"",id:"",workbook:{},archived:!1,supplier:"standalone",type:"",subtype:""}}}]),t}(),a=_(r.prototype,"name",[p.observable],{enumerable:!0,initializer:null}),o=_(r.prototype,"id",[p.observable],{enumerable:!0,initializer:null}),i=_(r.prototype,"token",[p.observable],{enumerable:!0,initializer:null}),s=_(r.prototype,"email",[p.observable],{enumerable:!0,initializer:null}),l=_(r.prototype,"user_id",[p.observable],{enumerable:!0,initializer:null}),c=_(r.prototype,"owner",[p.observable],{enumerable:!0,initializer:null}),u=_(r.prototype,"archived",[p.observable],{enumerable:!0,initializer:null}),r);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=u(n(445)),l=(u(n(145)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9))),c=u(n(20));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var f=(r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o,s,l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n||[]));return r=l,"task_id",s=l,(o=a)&&Object.defineProperty(r,"task_id",{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(s):void 0}),l.firebase_realtime=!0,l.globalstore=e,(0,i.reaction)((function(){return[l.globalstore.tasks.selected]}),(function(e){if("offline"!=l.globalstore.mode){var t=l.getTasks();if(!(t.length>1||0==t.length||t[0].id==l.task_id||(l.task_id=t[0].id,"standalone"!=l.globalstore.user.type&&t[0].is_priority_heading))){if("standalone"==l.globalstore.user.type){var n=""==t[0].last_read?{}:(0,i.toJS)(t[0].last_read);n[l.globalstore.user.id]=moment().utc().unix(),t[0].save({last_read:n})}l.globalstore.comments.reset([]),l.globalstore.uistate.comments_loading=!0,setTimeout((function(){l.globalstore.comments.fetch().then((function(){l.globalstore.uistate.comments_loading=!1}))}),0)}}})),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),o(t,[{key:"model",value:function(){return s.default}},{key:"getTasks",value:function(){return this.globalstore.tasks.selected}},{key:"getProject",value:function(){if("inbox"==this.globalstore.uistate.active_view){if(this.globalstore.uistate.inbox_selected_task&&this.globalstore.uistate.inbox_selected_task.ref){var e=this.globalstore.uistate.inbox_selected_task.ref.path,t=e.split("workbooks/")[1].split("/")[0];return{id:e.split("projects/")[1].split("/")[0],workbook:{id:t}}}return{}}if("project"!=this.globalstore.projects.selected.type){var n=this.globalstore.tasks.selected[0];return"standalone"==this.globalstore.user.type?{id:n.project_id,workbook:{id:n.workbook_id}}:{id:this.globalstore.projects.selected.id,workbook:{id:this.globalstore.projects.selected.workspace.id}}}return this.globalstore.projects.selected}},{key:"beforeCreate",value:function(e){var t=JSON.parse(JSON.stringify(e));if(t.message=l.replaceUsers(t.message).map((function(e){return"user"==e.type?"@"+e.value:e.value})).join(" "),1==this.getTasks().length)try{var n=this.getTasks()[0],r=n.last_read||{};r[this.globalstore.user.id]=moment().utc().unix(),n.save({last_change:r[this.globalstore.user.id],last_read:r,last_changed_by:this.globalstore.user.id})}catch(e){}return this.log(t),e}},{key:"log",value:function(e){if("standalone"==this.globalstore.user.type){var t=this.getTasks();1===t.length&&this.globalstore.logs.createLog("commented",e,{},{task_id:t[0].id})}}},{key:"firebaseRef",value:function(){var e=this.getProject(),t=this.getTasks();if(1===t.length){if("inbox"==this.globalstore.uistate.active_view&&this.globalstore.inbox.selected)return this.globalstore.inbox.selected[0].firebaseRef().collection("comments");var n=t[0];return this.globalstore.db.collection("workbooks").doc(e.workbook.id).collection("projects").doc(e.id).collection("tasks").doc(n.id).collection("comments")}}},{key:"url",value:function(){var e=this.getProject(),t=1==this.getTasks().length&&this.getTasks()[0];if(e&&t)return"/projects/"+e.id+"/tasks/"+t.id+"/comments"}},{key:"update",value:function(e){this.reset(e)}},{key:"sorted",value:function(){return function(e,t){return e&&t&&e.datetime<t.datetime?-1:e&&t&&e.datetime>t.datetime?1:0}}},{key:"filtered",get:function(){return this.models.filter((function(e){return!e.deleted})).sort(this.sorted())}}]),t}(),a=d(r.prototype,"task_id",[i.observable],{enumerable:!0,initializer:function(){return!1}}),d(r.prototype,"filtered",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),r);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(3),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),p=(c=n(19))&&c.__esModule?c:{default:c};function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h(n,"id",a,n),h(n,"user_id",o,n),h(n,"datetime",i,n),h(n,"message",s,n),h(n,"deleted",l,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),u(t,[{key:"preSave",value:function(e){var t=e;return t.message=f.replaceUsers(e.message).join(" "),this.log(t),e}},{key:"log",value:function(e){"standalone"==this.globalstore.user.type&&this.globalstore.logs.createLog("commented",e,{})}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{id:"",user_id:"",datetime:"",message:"",user:!1,html_message:"",deleted:!1}}}]),t}(),a=m(r.prototype,"id",[d.observable],{enumerable:!0,initializer:null}),o=m(r.prototype,"user_id",[d.observable],{enumerable:!0,initializer:null}),i=m(r.prototype,"datetime",[d.observable],{enumerable:!0,initializer:null}),s=m(r.prototype,"message",[d.observable],{enumerable:!0,initializer:null}),l=m(r.prototype,"deleted",[d.observable],{enumerable:!0,initializer:null}),r);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=c(n(447)),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),c(n(20)));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var d=(r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o,s,l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n||[]));return r=l,"last_logs_amount_counter",s=l,(o=a)&&Object.defineProperty(r,"last_logs_amount_counter",{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(s):void 0}),l.globalstore=e,(0,i.reaction)((function(){return l.filtered_by_task}),(function(){Object.keys(l.filtered_by_task).length>l.last_logs_amount_counter&&(l.globalstore.uistate.isTaskOnHash()||l.globalstore.uistate.app_loaded_with_task_on_hash||l.globalstore.uistate.toggleHistory(!0))}),{name:"Log Amount counter reaction"}),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),o(t,[{key:"model",value:function(){return s.default}},{key:"firebaseRef",value:function(){var e=this.globalstore.projects.selected;if(e)return this.globalstore.db.collection("workbooks").doc(e.workbook.id).collection("projects").doc(e.id).collection("logs")}},{key:"firebaseRefQuery",value:function(){var e=this.globalstore.projects.selected,t=this.globalstore.user.id;if(e)return this.firebaseRef().where("date",">=",e.last_seen_by(t)).orderBy("date","desc").limit(100)}},{key:"url",value:function(){if(this.globalstore.projects.selected)return"/"}},{key:"afterReset",value:function(){store.projects.selected.has_last_seen(store.user.id)||(console.log("Updating last seen on project"),store.projects.selected.set_last_seen_by(store.user.id)),this.last_logs_amount_counter=Object.keys(this.filtered_by_task).length}},{key:"update",value:function(e){this.reset(e)}},{key:"createLog",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={},o={changes:{}},i=["name","due","start","estimated_hours","progress","completed","user","assignee","notes","priority_user","actual_cost","estimated_cost","risk","actual_hours","users"];"changed"==e&&(Object.keys(t).forEach((function(e){-1!=i.indexOf(e)&&(void 0!==n[e]&&JSON.stringify(n[e])!=JSON.stringify(t[e])&&(a[e]={previous:n[e],changed_to:t[e]}),void 0===n[e]&&(a[e]={previous:"",changed_to:t[e]}))})),Object.keys(n).forEach((function(e){-1!=i.indexOf(e)&&void 0===t[e]&&(a[e]={previous:n[e],changed_to:""})})),o.changes=a),"commented"==e&&(a.message={previous:"",changed_to:t.message},o.changes=a),0!=Object.keys(a).length&&(o.date=moment.utc().toDate().getTime(),o.user_id=this.globalstore.user.id,o.type=e,o.project_id=this.globalstore.projects.selected.id,o.task_id=r.task_id||t.id,this.create(o))}},{key:"sorted",get:function(){return function e(t){var n=t.length;if(n<2)return t;var r=Math.ceil(n/2);return function(e,t){for(var n=[];e.length>0&&t.length>0;)e[0].comparator<t[0].comparator?n.push(e.shift()):n.push(t.shift());return n.concat(e,t)}(e(t.slice(0,r)),e(t.slice(r)))}(this.models)}},{key:"filtered",get:function(){return this.models}},{key:"filtered_by_task",get:function(){var e=this,t={};return this.models.forEach((function(n){n.user_id!=e.globalstore.user.id&&(t[n.task_id]?t[n.task_id].changes.push(n):t[n.task_id]={name:e.globalstore.tasks.get(n.task_id).name,position:e.globalstore.tasks.filtered.indexOf(e.globalstore.tasks.get(n.task_id)),task_id:n.task_id,changes:[n]})})),t}}]),t}(),a=u(r.prototype,"last_logs_amount_counter",[i.observable],{enumerable:!0,initializer:function(){return 0}}),u(r.prototype,"sorted",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"sorted"),r.prototype),u(r.prototype,"filtered",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),u(r.prototype,"filtered_by_task",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered_by_task"),r.prototype),r);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(3),h=(d=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&d.__esModule?d:{default:d};function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"date",a,n),m(n,"id",o,n),m(n,"type",i,n),m(n,"changes",s,n),m(n,"user_id",l,n),m(n,"project_id",c,n),m(n,"task_id",u,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),f(t,[{key:"defaults",get:function(){return t.defaults()}},{key:"comparator",get:function(){return this.date}}],[{key:"defaults",value:function(){return{date:"",id:"",type:"",project_id:"",changes:{},user_id:"",task_id:""}}}]),t}(),a=_(r.prototype,"date",[p.observable],{enumerable:!0,initializer:null}),o=_(r.prototype,"id",[p.observable],{enumerable:!0,initializer:null}),i=_(r.prototype,"type",[p.observable],{enumerable:!0,initializer:null}),s=_(r.prototype,"changes",[p.observable],{enumerable:!0,initializer:null}),l=_(r.prototype,"user_id",[p.observable],{enumerable:!0,initializer:null}),c=_(r.prototype,"project_id",[p.observable],{enumerable:!0,initializer:null}),u=_(r.prototype,"task_id",[p.observable],{enumerable:!0,initializer:null}),_(r.prototype,"comparator",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"comparator"),r.prototype),r);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),u(n(20))),c=u(n(274));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function f(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var p=(r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n||[]));return d(r,"workbook_id",a,r),d(r,"project_id",o,r),r.firebase_realtime=!0,r.first_load=!1,r.globalstore=e,setInterval((function(){return r.updateLastSeen()}),15e3),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),i(t,[{key:"firebaseRef",value:function(){return this.globalstore.db.collection("workbooks").doc(this.globalstore.workbooks.selected.id).collection("presence")}},{key:"model",value:function(){return c.default}},{key:"url",value:function(){return"/presence"}},{key:"afterReset",value:function(){this.first_load=!0}},{key:"updateLastSeen",value:function(){if((!this.globalstore.user||"standalonoe"==this.globalstore.user.type)&&this.first_load&&this.globalstore.workbooks&&this.globalstore.workbooks.selected&&this.globalstore.workbooks.selected.id){var e=this.globalstore.workbooks.selected.id+"-"+this.globalstore.projects.selected.id+"-"+this.globalstore.user.id,t={id:e,user_id:this.globalstore.user.id,last_seen:new Date,project_id:this.globalstore.projects.selected.id},n=this.get(e);n?n.save(t,{quiet_sync:!0}):this.create(t)}}},{key:"filtered",get:function(){var e=this;return this.models.filter((function(t){return t&&new Date-t.last_seen<3e4&&(e.globalstore.projects.selected||{id:null}).id===t.project_id&&t.user_id!==e.globalstore.user.id}))}}]),t}(),a=f(r.prototype,"workbook_id",[s.observable],{enumerable:!0,initializer:null}),o=f(r.prototype,"project_id",[s.observable],{enumerable:!0,initializer:null}),f(r.prototype,"filtered",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),r);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),l(n(20))),s=l(n(450));function l(e){return e&&e.__esModule?e:{default:e}}var c,u,d,f,p,h,m=(r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.storage_type="HTTPSaver",r.globalstore=e,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"model",value:function(){return s.default}},{key:"getByWorkbook",value:function(e){var t=this.models.filter((function(t){return-1!=t.workbooks.indexOf(e.id)&&1==t.status}));return 0!=t.length&&(t.length>=1?t[0]:void 0)}},{key:"ownedAndActive",value:function(){var e=this;return this.models.filter((function(t){return t.status&&t.owner._id==e.globalstore.user.id}))}},{key:"owned",value:function(){var e=this;return this.models.filter((function(t){return t.owner._id==e.globalstore.user.id}))}},{key:"ownedOrAdmin",value:function(){var e=this;return this.models.filter((function(t){return t.owner._id==e.globalstore.user.id||t.members.filter((function(t){return t.email==e.globalstore.user.email&&(!0===t.admin||"true"==t.admin)})).length>0}))}},{key:"active",value:function(){return this.models.filter((function(e){return e.status}))}},{key:"url",value:function(){return"/subscriptions"}},{key:"active_subscriptions",get:function(){return this.models.filter((function(e){return e.status}))}}]),t}(),c=r.prototype,u="active_subscriptions",d=[o.computed],f=Object.getOwnPropertyDescriptor(r.prototype,"active_subscriptions"),p=r.prototype,h={},Object.keys(f).forEach((function(e){h[e]=f[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=d.slice().reverse().reduce((function(e,t){return t(c,u,e)||e}),h),p&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(p):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(c,u,h),h=null),r);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(3),h=(d=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&d.__esModule?d:{default:d};function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(56);var g=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"name",a,n),m(n,"billing_information",o,n),m(n,"max_users",i,n),m(n,"price",s,n),m(n,"status",l,n),m(n,"suspended",c,n),m(n,"members",u,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),f(t,[{key:"available_licenses",value:function(){return this.max_users-this.members.length}},{key:"is_eligible_for_workbook",value:function(e,t){var n=!0;if(this.missingMembers(e,t).length>0&&(n=!1),!n){var r=t.filter((function(e){return!0===e.admin||"true"===e.admin||!0===e.owner||!0===e.owner})),a=this.store.globalstore.user;n=this.canAddMembers(a,r)}return n}},{key:"missingMembers",value:function(e,t){var n=this,r=[];return t.forEach((function(e){n.getMemberByEmail(e.email)||r.push({name:e.name,email:e.email})})),r}},{key:"getMemberByEmail",value:function(e){return this.members.filter((function(t){return!!t.email&&t.email.toLowerCase()==e.toLowerCase()}))[0]}},{key:"addWorkbook",value:function(e){this.workbooks.push(e.id);var t={workbooks:this.workbooks};return fetch("/subscriptions/"+this.id+"/workbooks",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e.json()}))}},{key:"changeQuantity",value:function(e){var t=this;return fetch("/subscriptions/"+this.id+"/change",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({quantity:e})}).then((function(n){return t.max_users=e,n.json()}))}},{key:"canAddMembers",value:function(e,t){var n=this;if(this.owner._id==e.id)return!0;var r=this.getMemberByEmail(e.email);if(r&&!0===r.admin||"true"==r.admin)return!0;var a=!1;return t.forEach((function(e){e.user_id==n.owner._id&&(a=!0)})),!!a||(t.forEach((function(e){var t=n.getMemberByEmail(e.email);t&&(void 0!==t&&!0===t.admin||"true"==t.admin)&&(a=!0)})),!!a||void 0)}},{key:"addMembers",value:function(e){var t=this;return e.forEach((function(e){t.members.push({name:e.name,email:e.email,admin:!!e.admin})})),fetch("/subscriptions/"+this.id+"/standalone_users",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({members:e})}).then((function(e){return e.json()}))}},{key:"removeMember",value:function(e){var t=this,n=this.members.filter((function(t){return t.email!=e.email}));return fetch("/subscriptions/"+this.id+"/standalone_users",{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e.email})}).then((function(e){return t.members=n,e.json()}))}},{key:"updateMember",value:function(e){return fetch("/subscriptions/"+this.id+"/standalone_users",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then((function(e){return e.json()}))}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{id:"",activation_date:"",begin_date:"",billing_information:"",frequency:"",invoices:"",is_owner:"",max_users:"",members:"",owner:"",payments:"",price:"",raw:"",status:"",subscription_reference:"",welcomed:"",workbooks:[],company_name:""}}}]),t}(),a=_(r.prototype,"name",[p.observable],{enumerable:!0,initializer:null}),o=_(r.prototype,"billing_information",[p.observable],{enumerable:!0,initializer:null}),i=_(r.prototype,"max_users",[p.observable],{enumerable:!0,initializer:null}),s=_(r.prototype,"price",[p.observable],{enumerable:!0,initializer:null}),l=_(r.prototype,"status",[p.observable],{enumerable:!0,initializer:null}),c=_(r.prototype,"suspended",[p.observable],{enumerable:!0,initializer:null}),u=_(r.prototype,"members",[p.observable],{enumerable:!0,initializer:null}),r);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f,p,h,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(3),b=(h=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&h.__esModule?h:{default:h};function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function A(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var k=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return A(n,"name",a,n),A(n,"dates",o,n),A(n,"settings",i,n),A(n,"initialized",s,n),A(n,"supplier_project_id",l,n),A(n,"defaults_settings",c,n),A(n,"users_working_days",u,n),A(n,"working_days",d,n),A(n,"workbook_settings",f,n),A(n,"group_settings_per_project",p,n),n.change_in_silence=!1,n.firebase_realtime=!0,n.working_days_defaults={0:!1,1:!0,2:!0,3:!0,4:!0,5:!0,6:!1},n.working_days=!1,n.shouldReplaceWorkingDays=function(){n.custom_globalstore.projects&&"group"==n.custom_globalstore.projects.selected.type&&n.custom_globalstore.workbooksettings.working_days&&(n.working_days=n.custom_globalstore.workbooksettings.working_days)},n.silence=n.silence.bind(n),n.afterReset=n.afterReset.bind(n),n.getGroupSettings=n.getGroupSettings.bind(n),setTimeout((function(){(0,g.reaction)((function(){return(0,g.toJS)(n.custom_globalstore.workbooksettings.working_days)}),(function(){return n.shouldReplaceWorkingDays()}))}),0),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,b.default),m(t,[{key:"firebaseRef",value:function(){var e=this.globalstore.projects.selected;return this.globalstore.db.collection("workbooks").doc(e.workbook.id).collection("settings").doc(e.id)}},{key:"customFirebaseRef",value:function(e){return this.globalstore.db.collection("workbooks").doc(this.custom_globalstore.workbooks.selected.id).collection("settings").doc(e)}},{key:"customFirebaseRef",value:function(e){return this.globalstore.db.collection("workbooks").doc(this.custom_globalstore.workbooks.selected.id).collection("settings").doc(e)}},{key:"load_defaults",value:function(){if(localStorage){try{this.defaults_settings=JSON.parse(localStorage.getItem("default_settings"))}catch(e){}this.defaults_settings||(this.defaults_settings={group_by_project:!0,group_by_priority_heading:!0,sorting_by_date:!0,sort_by_local:!1,show_completion_date:!1,show_subtasks:!0,completed_since:"all",append_task_names:!0,keep_gap_locked:!1,skip_weekends:!0,show_week_number:!1,column_length:1,column_width:20,render_baseline:!1,keep_tasks_sorted:!0,months_before_current:24,months_after_current:24,show_parents_on_workload:!0,working_days:this.working_days_defaults,users_working_days:{},today_indicator:!0,default_view:{everyone:"gantt"}}),this.spreadSettings((0,g.toJS)(this.defaults_settings)),this.initialized=!0}}},{key:"silence",value:function(e){this.change_in_silence=!0,e(),this.change_in_silence=!1}},{key:"get_defaults",value:function(){var e=this.custom_globalstore,t=(0,g.toJS)(this.defaults_settings);return e.projects.selected&&e.projects.selected.type&&"group"==e.projects.selected.type&&e.projects.selected.subtype&&"team"==e.projects.selected.subtype&&(t.group_by_priority_heading=!1,t.sorting_by_date=!0),t}},{key:"save_defaults",value:function(e){localStorage&&(this.defaults_settings=Object.assign({},(0,g.toJS)(this.defaults_settings),e),localStorage.setItem("default_settings",JSON.stringify(e)))}},{key:"_fields",value:function(){return{column_length:this.custom_globalstore.uistate.column_length,column_width:this.custom_globalstore.uistate.column_width,skip_weekends:this.custom_globalstore.uistate.skip_weekends,keep_gap_locked:this.custom_globalstore.uistate.keep_gap_locked,append_task_names:this.custom_globalstore.uistate.append_task_names,render_baseline:this.custom_globalstore.uistate.render_baseline,show_subtasks:this.custom_globalstore.uistate.show_subtasks,completed_since:this.custom_globalstore.uistate.completed_since,group_by_project:this.custom_globalstore.tasks.sort_options.group_by_project,group_by_priority_heading:this.custom_globalstore.tasks.sort_options.group_by_priority_heading,sorting_by_date:this.custom_globalstore.tasks.sort_options.sort_by_date,sort_by_local:this.custom_globalstore.tasks.sort_options.sort_by_local,keep_tasks_sorted:this.custom_globalstore.tasks.sort_options.keep_tasks_sorted,show_completion_date:this.custom_globalstore.uistate.show_completion_date,months_before_current:this.custom_globalstore.uistate.months_before_current,months_after_current:this.custom_globalstore.uistate.months_after_current,show_week_number:this.custom_globalstore.uistate.show_week_number,show_parents_on_workload:this.custom_globalstore.uistate.show_parents_on_workload,working_days:this.working_days||this.get_working_days(),users_working_days:this.users_working_days||{},today_indicator:this.custom_globalstore.uistate.today_indicator,rates:this.settings.rates||{},saved_filters:this.settings.saved_filters||[]}}},{key:"spreadSettings",value:function(e){var t=this.custom_globalstore;t.projects.selected&&t.projects.selected.type&&"group"==t.projects.selected.type&&t.projects.selected.subtype&&"team"==t.projects.selected.subtype&&(e.group_by_priority_heading=!1,e.sorting_by_date=!0),this.custom_globalstore.uistate.column_length=void 0===e.column_length?this.custom_globalstore.uistate.column_length:e.column_length,this.custom_globalstore.uistate.column_width=void 0===e.column_width?this.custom_globalstore.uistate.column_width:e.column_width,this.custom_globalstore.uistate.skip_weekends=void 0===e.skip_weekends?this.custom_globalstore.uistate.skip_weekends:e.skip_weekends,this.custom_globalstore.uistate.keep_gap_locked=void 0===e.keep_gap_locked?this.custom_globalstore.uistate.keep_gap_locked:e.keep_gap_locked,this.custom_globalstore.uistate.append_task_names=void 0===e.append_task_names?this.custom_globalstore.uistate.append_task_names:e.append_task_names,this.custom_globalstore.uistate.render_baseline=void 0===e.render_baseline?this.custom_globalstore.uistate.render_baseline:e.render_baseline,this.custom_globalstore.uistate.show_subtasks=void 0===e.show_subtasks?this.custom_globalstore.uistate.show_subtasks:e.show_subtasks,this.custom_globalstore.uistate.completed_since=void 0===e.completed_since?this.custom_globalstore.uistate.completed_since:e.completed_since,this.custom_globalstore.uistate.show_completion_date=void 0===e.show_completion_date?this.custom_globalstore.uistate.show_completion_date:e.show_completion_date,this.custom_globalstore.tasks.sort_options.group_by_project=void 0===e.group_by_project?this.custom_globalstore.tasks.sort_options.group_by_project:e.group_by_project,this.custom_globalstore.tasks.sort_options.group_by_priority_heading=void 0===e.group_by_priority_heading?this.custom_globalstore.tasks.sort_options.group_by_priority_heading:e.group_by_priority_heading,this.custom_globalstore.tasks.sort_options.sort_by_date=void 0===e.sorting_by_date?this.custom_globalstore.tasks.sort_options.sort_by_date:e.sorting_by_date,this.custom_globalstore.tasks.sort_options.keep_tasks_sorted=void 0===e.keep_tasks_sorted?this.custom_globalstore.tasks.sort_options.keep_tasks_sorted:e.keep_tasks_sorted,this.custom_globalstore.tasks.sort_options.sort_by_local=void 0!==e.sort_by_local&&e.sort_by_local,this.custom_globalstore.uistate.months_before_current=void 0===e.months_before_current?this.custom_globalstore.uistate.months_before_current:e.months_before_current,this.custom_globalstore.uistate.months_after_current=void 0===e.months_after_current?this.custom_globalstore.uistate.months_after_current:e.months_after_current,this.custom_globalstore.uistate.show_week_number=void 0===e.show_week_number?this.custom_globalstore.uistate.show_week_number:e.show_week_number,this.custom_globalstore.uistate.show_parents_on_workload=void 0===e.show_parents_on_workload?this.custom_globalstore.uistate.show_parents_on_workload:e.show_parents_on_workload,this.custom_globalstore.uistate.today_indicator=void 0===e.today_indicator?this.custom_globalstore.uistate.today_indicator:e.today_indicator}},{key:"_set_fields",value:function(e){this.spreadSettings(e)}},{key:"_fetch",value:function(e){var t=this;return(e=e||{}).url="/projects/"+this.custom_globalstore.projects.selected.id,e.data&&e.data.project_ids&&(e.url=e.url+"?project_ids="+e.data.project_ids),"standalone"==this.custom_globalstore.user.type&&"group"==this.custom_globalstore.projects.selected.type?this.fetch(e).then((function(e){t.afterReset&&t.afterReset(e),t.getGroupSettings()})):this.fetch(e).then((function(e){t.afterReset&&t.afterReset(e)}))}},{key:"simulateDatePositionsOnFolder",value:function(){var e=this;if("group"==this.globalstore.projects.selected.type&&"board"==this.globalstore.uistate.active_view){this.settings.sorting_by_date=!0,this.spreadSettings({sorting_by_date:!0});var t=[];Object.keys(this.group_settings_per_project).forEach((function(n){var r=e.group_settings_per_project[n];if(r.sorting_by_date){var a=e.globalstore.tasks.setLocalPositions({trigger_model:{projects:[{id:n}]},silent:!0});r.positions=a}t.push.apply(t,v(r.positions||[]))})),this.settings.positions=t,this.settings.sorting_by_date=!1,this.spreadSettings({sorting_by_date:!1})}}},{key:"getGroupSettings",value:function(){var e,t,n=this;return new Promise((e=regeneratorRuntime.mark((function e(t,r){var a,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.custom_globalstore.projects.selected,void 0===n.settings.positions&&(n.settings.positions=[]),"standalone"==n.custom_globalstore.user.type){e.next=5;break}return t(),e.abrupt("return");case 5:if("all"!=a.subtype){e.next=17;break}return o=[],n.custom_globalstore.projects.filtered.filter((function(e){return e.workbook&&e.workbook.id==a.workbook.id&&"group"!=e.type&&"workspace-title"!=e.type})).forEach((function(e){o.push({model:e,ref:n.globalstore.db.collection("workbooks").doc(a.workbook.id).collection("settings").doc(e.id)})})),e.next=10,Promise.all(o.map((function(e){return e.ref.get().then((function(t){if(!t.exists)return!1;var n=t.data();return n&&t.ref&&(n.__ref=t.ref),n.id=t.id,n.project_id=e.model.id,n}))})));case 10:i=e.sent,n.settings.positions=[],i.forEach((function(e){var t;e.settings&&(void 0===n.group_settings_per_project[e.project_id]&&(0,g.extendObservable)(n.group_settings_per_project,y({},e.project_id,e.settings)),(t=n.settings.positions).push.apply(t,v(e.settings.positions||[])))})),n.updatePositions(n.settings.positions),t(),e.next=30;break;case 17:if("folder"!=a.subtype){e.next=29;break}return o=[],n.custom_globalstore.projects.selected.projects_in_folder.forEach((function(e){e=n.custom_globalstore.projects.get(e),o.push({model:e,ref:n.globalstore.db.collection("workbooks").doc(a.workbook.id).collection("settings").doc(e.id)})})),e.next=22,Promise.all(o.map((function(e){return e.ref.get().then((function(t){if(!t.exists)return!1;var n=t.data();return n&&t.ref&&(n.__ref=t.ref),n.id=t.id,n.project_id=e.model.id,n}))})));case 22:s=e.sent,n.settings.positions=[],s.forEach((function(e){var t;e.settings&&(void 0===n.group_settings_per_project[e.project_id]?(0,g.extendObservable)(n.group_settings_per_project,y({},e.project_id,e.settings)):n.group_settings_per_project[e.project_id]=e.settings,(t=n.settings.positions).push.apply(t,v(e.settings.positions||[])))})),n.updatePositions(n.settings.positions),t(),e.next=30;break;case 29:t();case 30:case"end":return e.stop()}}),e,n)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))},function(e,n){return t.apply(this,arguments)}))}},{key:"afterReset",value:function(e){var t=this,n=Object.assign({},this.get_defaults(),e.settings||{positions:[],working_days:{},users_working_days:{}});this.settings=n,this.silence((function(){if(e.settings&&!1===e.settings.skip_weekends&&(n.working_days=t.working_days_defaults,n.working_days[0]=!0,n.working_days[6]=!0,n.skip_weekends=!0),t.spreadSettings(n),t.working_days=n.working_days||{},t.users_working_days=n.users_working_days||{},t.workbook_settings&&(t.custom_globalstore.workbooksettings.settings=t.workbook_settings||{}),t.custom_globalstore.projects.selected&&"workspace"==t.custom_globalstore.projects.selected.type&&n.group_by_priority_heading&&(t.custom_globalstore.tasks.sort_options.group_by_priority_heading=!1,t.custom_globalstore.tasks.sort_options.group_by_project=!0),"standalone"==t.custom_globalstore.user.type)t.custom_globalstore.dates.fetch();else{var r=t.dates||[];t.custom_globalstore.dates.update(r)}if(e.settings&&(void 0===e.settings.working_days||0==Object.keys(e.settings.working_days).length)||void 0===e.settings){var a=e||{};a.workbook_settings&&a.workbook_settings.working_days&&(t.working_days=a.workbook_settings.working_days),"standalone"==t.custom_globalstore.user.type&&t.custom_globalstore.workbooksettings.working_days&&(t.working_days=Object.assign({},t.custom_globalstore.workbooksettings.working_days))}void 0!==t.working_days&&void 0!==t.working_days[0]||(t.working_days=Object.assign({},t.working_days_defaults)),t.shouldReplaceWorkingDays()}))}},{key:"afterRealtime",value:function(e){var t=this;this.custom_globalstore.tasks.sort_options.sort_by_local||(e.settings=e.settings||{positions:[],working_days:{},users_working_days:{}},this.working_days=e.settings.working_days||{},this.users_working_days=e.settings.users_working_days||{},this.silence((function(){t.updatePositions(e.settings.positions),t.updateCustomPositions(e.settings.custom_positions||{}),t.spreadSettings({sorting_by_date:e.settings.sorting_by_date})})))}},{key:"getSetting",value:function(e,t){return this.custom_globalstore.projects.selected&&"group"==this.custom_globalstore.projects.selected.type&&t&&this.group_settings_per_project[t]&&this.group_settings_per_project[t][e]&&""!=this.group_settings_per_project[t][e]&&Object.keys(this.group_settings_per_project[t][e]).length>0?this.group_settings_per_project[t][e]:this.settings[e]&&""!=this.settings[e]&&(Object.keys(this.settings[e]).length>0||this.settings[e].length>0)?this.settings[e]:this.custom_globalstore.workbooksettings.settings[e]?(0,g.toJS)(this.custom_globalstore.workbooksettings.settings[e]):""}},{key:"getRate",value:function(e,t){var n=(this.getSetting("rates",t)||{})[e];return n&&"string"==typeof n&&(n=n.replace(",",".")),n||0}},{key:"getCapacity",value:function(e,t){return(this.getSetting("capacity",t)||{})[e]||8}},{key:"setRate",value:function(e,t){this.settings.rates=this.getSetting("rates")||{},this.settings.rates[e]=t}},{key:"updatePositions",value:function(e){e=e||[],this.custom_globalstore.tasks.models.length>1&&this.custom_globalstore.tasks.models.forEach((function(t){if(!t.is_new_task_handler){var n=e.indexOf(t.id);-1!=n&&(t.local_priority=n+1)}}))}},{key:"updateCustomPositions",value:function(e){var t=this;e=e||{},Object.keys(e).forEach((function(n){var r=e[n];t.custom_globalstore.tasks.models.forEach((function(e){if(!e.is_new_task_handler){var t=r.indexOf(e.id);if(-1!=t){var a={};a[n]=t+1,e.custom_priority=a}}}))}))}},{key:"_set_supplier_project_id",value:function(e){this.supplier_project_id=e}},{key:"_set_setting",value:function(e,t){this.settings[e]=t}},{key:"_equal_to_default",value:function(){var e=this.get_defaults();if(!_.isEqual(e.config,{}))return!1;if(0!=e.positions.length)return!1;delete(e=JSON.parse(JSON.stringify(e))).positions,delete e.config;var t=JSON.parse(JSON.stringify(this._fields()));return!!_.isEqual(e,t)}},{key:"_save",value:function(e){if(!this.change_in_silence&&this.initialized&&this.custom_globalstore.projects.selected&&!this._equal_to_default()){(e=e||{}).url="/projects/"+this.custom_globalstore.projects.selected.id+"/settings";var t=this._fields();if(t){var n=_.extend({},this.settings);console.log({settings:n}),_.extend(n,t);var r={settings:n};e.supplier_project_id&&(r.supplier_project_id=e.supplier_project_id,"group"==this.custom_globalstore.projects.selected.type&&"standalone"!=this.custom_globalstore.user.type&&(r.settings={positions:r.settings.positions}),"standalone"==this.custom_globalstore.user.type&&(e.ref=this.customFirebaseRef(e.supplier_project_id),"group"==this.custom_globalstore.projects.selected.type&&r.settings.positions&&this.group_settings_per_project[e.supplier_project_id]&&(this.group_settings_per_project[e.supplier_project_id].positions=r.settings.positions,this.group_settings_per_project[e.supplier_project_id].sorting_by_date=r.settings.sorting_by_date))),console.log(r),this.save(r,e)}}}},{key:"get_working_days",value:function(e){var t=null;return e&&(t=(this.users_working_days||{})[e])?t:(t=this.working_days||this.working_days_defaults,t={0:void 0!==this.working_days[0]?this.working_days[0]:this.working_days_defaults[0],1:void 0!==this.working_days[1]?this.working_days[1]:this.working_days_defaults[1],2:void 0!==this.working_days[2]?this.working_days[2]:this.working_days_defaults[2],3:void 0!==this.working_days[3]?this.working_days[3]:this.working_days_defaults[3],4:void 0!==this.working_days[4]?this.working_days[4]:this.working_days_defaults[4],5:void 0!==this.working_days[5]?this.working_days[5]:this.working_days_defaults[5],6:void 0!==this.working_days[6]?this.working_days[6]:this.working_days_defaults[6]})}},{key:"set_working_days",value:function(e,t){var n=this.get_working_days(e),r={0:void 0!==t[0]?t[0]:n[0],1:void 0!==t[1]?t[1]:n[1],2:void 0!==t[2]?t[2]:n[2],3:void 0!==t[3]?t[3]:n[3],4:void 0!==t[4]?t[4]:n[4],5:void 0!==t[5]?t[5]:n[5],6:void 0!==t[6]?t[6]:n[6]};e?this.users_working_days[e]=r:this.working_days=r,this._save()}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{id:"base",name:"",dates:[],settings:{positions:[],working_days:this.working_days_defaults,users_working_days:{},rates:{},custom_positions:{},saved_filters:[],default_view:{everyone:"gantt"}}}}}]),t}(),a=w(r.prototype,"name",[g.observable],{enumerable:!0,initializer:null}),o=w(r.prototype,"dates",[g.observable],{enumerable:!0,initializer:null}),i=w(r.prototype,"settings",[g.observable],{enumerable:!0,initializer:null}),s=w(r.prototype,"initialized",[g.observable],{enumerable:!0,initializer:null}),l=w(r.prototype,"supplier_project_id",[g.observable],{enumerable:!0,initializer:null}),c=w(r.prototype,"defaults_settings",[g.observable],{enumerable:!0,initializer:function(){return{}}}),u=w(r.prototype,"users_working_days",[g.observable],{enumerable:!0,initializer:null}),d=w(r.prototype,"working_days",[g.observable],{enumerable:!0,initializer:null}),f=w(r.prototype,"workbook_settings",[g.observable],{enumerable:!0,initializer:null}),p=w(r.prototype,"group_settings_per_project",[g.observable],{enumerable:!0,initializer:function(){return{}}}),w(r.prototype,"updatePositions",[g.action],Object.getOwnPropertyDescriptor(r.prototype,"updatePositions"),r.prototype),w(r.prototype,"updateCustomPositions",[g.action],Object.getOwnPropertyDescriptor(r.prototype,"updateCustomPositions"),r.prototype),r);t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(3),h=n(55),m=(u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&u.__esModule?u:{default:u};function _(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function g(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(56);var b=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return _(n,"name",a,n),_(n,"dates",o,n),_(n,"settings",i,n),_(n,"initialized",s,n),_(n,"supplier_project_id",l,n),_(n,"defaults_settings",c,n),n.change_in_silence=!1,n.firebase_realtime=!1,n.customField=(0,h.createTransformer)((function(e){var t={},r=(0,p.toJS)((n.settings.custom_fields||{})[e]);return!!r&&("dropdown"==(t=r).type&&(t.optionsObject={},t.options.forEach((function(e){e.enabled&&(t.optionsObject[e.id]=e)}))),t)})),n.runMigrations=n.runMigrations.bind(n),(0,p.reaction)((function(){return n.settings}),(function(){n.fillCustomColumns()})),(0,h.deepObserve)(n.settings.custom_fields,(function(e,t){})),(0,p.reaction)((function(){return n.settings.custom_fields}),(function(){n.fillCustomColumns()})),(0,p.reaction)((function(){return n.settings.custom_fields_options}),(function(){n.fillCustomColumns()})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m.default),f(t,[{key:"init",value:function(){}},{key:"fillCustomColumns",value:function(){var e=this.getSetting("custom_fields"),t=this.getSetting("custom_fields_positions"),n=this.getSetting("custom_fields_per_project")||{},r=!1;this.globalstore&&this.globalstore.projects&&this.globalstore.projects.selected&&n[this.globalstore.projects.selected.id]&&(r=(0,p.toJS)(n[this.globalstore.projects.selected.id])),t&&"object"==(void 0===t?"undefined":d(t))||(t=Object.keys(e)),t.length<Object.keys(e).length&&Object.keys(e).forEach((function(e){t.includes(e)||t.push(e)})),t.includes("_status")&&(t.splice(t.indexOf("_status"),1),t.unshift("_status"));var a=[],o={},i=100;localStorage&&(o=JSON.parse(localStorage.getItem("custom_fields_config")||"{}")),t.forEach((function(t){if(e[t]){"checkbox"==e[t].type&&(i=50),e[t]&&"true"===e[t].enabled&&(e[t].enabled=!0);var n;n=r?Object.assign({},e[t],{active:(r[e[t].id]||{active:!0}).active||!1,visible:(r[e[t].id]||{}).visible||!1,width:(r[e[t].id]||{}).width||i}):Object.assign({},e[t],{active:(o[e[t].id]||{active:!0}).active||!1,visible:(o[e[t].id]||{active:!1}).active||!1,width:(o[e[t].id]||{}).width||i}),a.push(n)}})),a.forEach((function(e){"_status"==e.id&&e.active&&(e.visible=!0)})),this.globalstore.uistate.columns.custom_fields=a}},{key:"runMigrations",value:function(){var e={_status:{id:"_status",type:"dropdown",enabled:"true",name:"Status",short_name:"STATUS",options:[{id:1,value:"Not started",enabled:!0,color:1,blocked:!0},{id:2,value:"Started",enabled:!0,color:4,blocked:!0},{id:3,value:"Finished",enabled:!0,color:3,blocked:!0},{id:4,value:"Approval requested",enabled:!0,color:5},{id:5,value:"Approved",enabled:!0,color:8},{id:6,value:"Rejected",enabled:!0,color:6}]}};if(this.getSetting("custom_fields")||(this._set_setting("custom_fields",e),this._save()),this.getSetting("custom_fields")&&!this.getSetting("custom_fields")._status){var t=this.getSettings("custom_fields");Object.assign(t,e),this._set_setting("custom_fields",t),this._save()}}},{key:"_fetch",value:function(){return"standalone"==this.custom_globalstore.user.type?(this.set(this.defaults),this.fetch()):new Promise((function(e,t){e()}))}},{key:"firebaseRef",value:function(){var e=this.custom_globalstore.projects.selected||{workbook:{id:!1}};return this.custom_globalstore.db.collection("workbooks").doc(e.workbook.id).collection("settings").doc("workbook")}},{key:"get_working_days",value:function(e){var t=null;if(e){if(t=(this.settings.users_working_days||{})[e])return t}else t=this.settings.working_days||this.working_days_defaults;return t}},{key:"save_workbook_settings_asana",value:function(){var e=JSON.stringify({working_days:this.working_days,users_working_days:this.users_working_days,currency:this.settings.currency||"",rates:this.settings.rates||{},capacity:this.settings.capacity||{}});return fetch("/projects/"+this.custom_globalstore.projects.selected.id+"/workspace_settings",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:e}).then((function(e){return e.json()}))}},{key:"_save",value:function(){var e=this;"standalone"==this.custom_globalstore.user.type?this.save().then((function(){e.custom_globalstore.projectsettings._fetch()})):this.save_workbook_settings_asana()}},{key:"set_working_days",value:function(e,t){var n=this.get_working_days(e),r={0:void 0!==t[0]?t[0]:n[0],1:void 0!==t[1]?t[1]:n[1],2:void 0!==t[2]?t[2]:n[2],3:void 0!==t[3]?t[3]:n[3],4:void 0!==t[4]?t[4]:n[4],5:void 0!==t[5]?t[5]:n[5],6:void 0!==t[6]?t[6]:n[6]};e?(this.users_working_days[e]=r,"standalone"==this.custom_globalstore.user.type&&this.custom_globalstore.workbooks.selected&&(this.settings.users_working_days[e]=r,this.save({},{url:""}))):(this.settings.working_days=r,"standalone"==this.custom_globalstore.user.type&&this.custom_globalstore.workbooks.selected&&this.save({},{url:""}),"standalone"!==this.custom_globalstore.user.type&&this.save_workbook_settings_asana())}},{key:"urlRoot",value:function(){return"-"}},{key:"_set_setting",value:function(e,t){this.settings[e]=t}},{key:"saveCustomField",value:function(e){var t=this.getSetting("custom_fields")[e.id];t.options=e.options?e.options:t.options||[],t.name=e.name?e.name:t.name,t.short_name=t.name,this._save(),this.fillCustomColumns()}},{key:"getSetting",value:function(e){return this.settings[e]?this.settings[e]:""}},{key:"getRate",value:function(e){return(this.getSetting("rates")||{})[e]||0}},{key:"setRate",value:function(e,t){this.settings.rates=this.getSetting("rates")||{},this.settings.rates[e]=t}},{key:"saveCustomFieldsPositions",value:function(e){this.settings.custom_fields_positions=e,this._save(),this.fillCustomColumns()}},{key:"saveCustomFieldsPerProject",value:function(){var e={};this.settings.custom_fields_per_project?this.settings.custom_fields_per_project[this.globalstore.projects.selected.id]||(this.settings.custom_fields_per_project[this.globalstore.projects.selected.id]={}):this.settings.custom_fields_per_project={},this.globalstore.uistate.columns.custom_fields.forEach((function(t){e[t.id]={active:t.active||!1,visible:t.visible||!1,width:t.width||!1}})),this.settings.custom_fields_per_project[this.globalstore.projects.selected.id]=e,this._save()}},{key:"working_days",get:function(){return this.settings.working_days||this.working_days_defaults}},{key:"users_working_days",get:function(){return this.settings.users_working_days}},{key:"working_days_defaults",get:function(){return{0:!1,1:!0,2:!0,3:!0,4:!0,5:!0,6:!1}}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{id:"base",name:"",dates:[],settings:{positions:[],working_days:{0:!1,1:!0,2:!0,3:!0,4:!0,5:!0,6:!1},users_working_days:{}}}}}]),t}(),a=g(r.prototype,"name",[p.observable],{enumerable:!0,initializer:null}),o=g(r.prototype,"dates",[p.observable],{enumerable:!0,initializer:null}),i=g(r.prototype,"settings",[p.observable],{enumerable:!0,initializer:null}),s=g(r.prototype,"initialized",[p.observable],{enumerable:!0,initializer:null}),l=g(r.prototype,"supplier_project_id",[p.observable],{enumerable:!0,initializer:null}),c=g(r.prototype,"defaults_settings",[p.observable],{enumerable:!0,initializer:function(){return{}}}),g(r.prototype,"fillCustomColumns",[p.action],Object.getOwnPropertyDescriptor(r.prototype,"fillCustomColumns"),r.prototype),g(r.prototype,"working_days",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"working_days"),r.prototype),g(r.prototype,"users_working_days",[p.computed],Object.getOwnPropertyDescriptor(r.prototype,"users_working_days"),r.prototype),g(r.prototype,"saveCustomFieldsPerProject",[p.action],Object.getOwnPropertyDescriptor(r.prototype,"saveCustomFieldsPerProject"),r.prototype),r);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(3),f=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),p(n(19)));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}p(n(274));var _=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h(n,"id",a,n),h(n,"name",o,n),h(n,"type",i,n),h(n,"projects_order",s,n),h(n,"photo",l,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default),u(t,[{key:"saveProjectsOrder",value:function(e){return this.projects_order[e.container_id]=e.projects_order,this.globalstore.projects.force_sort++,fetch("/projects_order",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({container_id:e.container_id,projects_order:e.projects_order})})}},{key:"hasFlag",value:function(e){return!(!this.flags||"object"!=c(this.flags)||!this.flags[e])}},{key:"update",value:function(e){return e.name&&(this.name=e.name),fetch("/profile",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})}},{key:"isTrialOver",value:function(){console.log("Checking Free limit");var e=this.globalstore.projects.models.length,t=this.globalstore.workbooks.models.length,n=this.globalstore.uistate.userCreatedSince();return n>this.globalstore.uistate.free_trial_days&&(t>this.globalstore.uistate.free_tier_workbooks_limit||e>this.globalstore.uistate.free_tier_projects_limit)||(this.globalstore.uistate.free_trial_banner=!0,this.globalstore.uistate.free_trial_days_left=this.globalstore.uistate.free_trial_days-n>0?this.globalstore.uistate.free_trial_days-n:0,!1)}},{key:"toJS",value:function(){return Object.assign({},this)}},{key:"readNotifications",value:function(){return fetch("/read-news",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})}},{key:"defaults",get:function(){return t.defaults()}},{key:"cn",get:function(){if(0==this.globalstore.notifications.models.length)return!1}}],[{key:"fromJS",value:function(e,n){return new t(e,n)}},{key:"defaults",value:function(){return{name:"",id:"",type:"",photo:{image_60x60:""},projects_order:{}}}}]),t}(),a=m(r.prototype,"id",[d.observable],{enumerable:!0,initializer:null}),o=m(r.prototype,"name",[d.observable],{enumerable:!0,initializer:null}),i=m(r.prototype,"type",[d.observable],{enumerable:!0,initializer:null}),s=m(r.prototype,"projects_order",[d.observable],{enumerable:!0,initializer:null}),l=m(r.prototype,"photo",[d.observable],{enumerable:!0,initializer:null}),m(r.prototype,"cn",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"cn"),r.prototype),r);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=(o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&o.__esModule?o:{default:o};function c(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var u=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,o,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"notifications",o=i,(r=a)&&Object.defineProperty(n,"notifications",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0}),i.default_settings={assignment_notification:!0,comment_notification:!0},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),i(t,[{key:"firebaseRef",value:function(){var e=this.globalstore.user.id;return this.globalstore.db.collection("profiles").doc(e)}},{key:"saveNotification",value:function(e){var t=(0,s.toJS)(this.notifications);e.workbook_id&&e.settings&&(t[e.workbook_id]||(t[e.workbook_id]={}),t[e.workbook_id][e.settings.name]=e.settings.value,this.notifications=t,this.save())}},{key:"extractValues",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return Object.keys(this.default_settings).forEach((function(r){n[r]=r in t?t[r]:e.default_settings[r]})),n}},{key:"_save",value:function(e){if(!this.change_in_silence&&this.initialized&&this.custom_globalstore.projects.selected&&!this._equal_to_default()){(e=e||{}).url="/projects/"+this.custom_globalstore.projects.selected.id+"/settings";var t=this._fields();if(t){var n=_.extend({},this.settings);_.extend(n,t);var r={settings:n};e.supplier_project_id&&(r.supplier_project_id=e.supplier_project_id,"group"==this.custom_globalstore.projects.selected.type&&(r.settings={positions:r.settings.positions})),this.save(r,e)}}}},{key:"url",get:function(){return""}},{key:"notifications_per_workbook",get:function(){var e=this,t={};return this.notifications.default?t.default=this.extractValues(this.notifications.default):t.default=this.extractValues(this.default_settings),this.globalstore.workbooks.filtered.forEach((function(n){t[n.id]=e.extractValues(e.notifications[n.id])})),t}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{notifications:{}}}}]),t}(),a=c(r.prototype,"notifications",[s.observable],{enumerable:!0,initializer:null}),c(r.prototype,"url",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"url"),r.prototype),c(r.prototype,"saveNotification",[s.action],Object.getOwnPropertyDescriptor(r.prototype,"saveNotification"),r.prototype),c(r.prototype,"notifications_per_workbook",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"notifications_per_workbook"),r.prototype),r);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f,p,h,m,g,b,y,v,A,w,k,E,x,O,C,j,D,N,S,T,M,P,B,I,L,U,R,F,z,Q,H,Y,K,W,q,G,V,X,J,Z,ee,te,ne,re,ae,oe,ie,se,le,ce,ue,de,fe,pe,he,me,_e,ge,be,ye,ve,Ae,we,ke,Ee,xe,Oe,Ce,je,De,Ne,Se,Te,Me,Pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Be=n(3),Ie=n(55),Le=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9));function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fe(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var ze=(r=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.components={},this.tasks_to_copy=[],this.cache={},this.group_max_projects=20,this.available_colors=["dark-pink","dark-green","dark-blue","dark-red","dark-teal","dark-brown","dark-orange","dark-purple","dark-warm-gray","light-green","light-blue","light-red","light-teal","light-orange","light-purple"],this.available_progress=["0%","10%","20%","30%","40%","50%","60%","70%","80%","90%","100%"],Re(this,"hidden_content_sidebar",a,this),Re(this,"pinned_content_sidebar",o,this),Re(this,"overview_baselines",i,this),Re(this,"bar_context_menu_id",s,this),Re(this,"drawing_dependency",l,this),Re(this,"user_resolved",c,this),Re(this,"user_photo",u,this),Re(this,"scroll_positions",d,this),this.launch_date="2018-08-20T00:00:00",this.free_trial_days=7,this.free_tier_workbooks_limit=0,this.free_tier_projects_limit=0,this.working_days_arr=[],Re(this,"management_app",f,this),Re(this,"projects_sidebar_visible",p,this),Re(this,"is_mobile",h,this),Re(this,"app_loaded_with_task_on_hash",m,this),Re(this,"free_trial_banner",g,this),Re(this,"free_trial_days_left",b,this),Re(this,"today",y,this),Re(this,"show_parents_on_workload",v,this),Re(this,"active_field",A,this),Re(this,"calendar_from_tasks",w,this),Re(this,"multiselect_active",k,this),Re(this,"map_active",E,this),Re(this,"multiselect_toolbar_open",x,this),Re(this,"connect",O,this),Re(this,"editing_project_id",C,this),Re(this,"help_message",j,this),Re(this,"show_week_number",D,this),Re(this,"header_height",N,this),Re(this,"review_rectify",S,this),Re(this,"active_hints",T,this),Re(this,"connections",M,this),Re(this,"project_id",P,this),Re(this,"last_project_id",B,this),Re(this,"notification",I,this),Re(this,"task_details_open",L,this),Re(this,"selected_siblings",U,this),Re(this,"critical_path",R,this),Re(this,"active_tasks",F,this),Re(this,"selected_siblings_ids",z,this),Re(this,"scrolling",Q,this),Re(this,"column_width",H,this),Re(this,"column_length",Y,this),Re(this,"current_date",K,this),Re(this,"months_before_current",W,this),Re(this,"months_after_current",q,this),Re(this,"sidebar_width",G,this),Re(this,"workload_sidebar_width",V,this),Re(this,"hidden_task_list_width",X,this),Re(this,"skip_weekends",J,this),Re(this,"keep_gap_locked",Z,this),Re(this,"skip_dependencies",ee,this),Re(this,"task_editing_cell",te,this),Re(this,"active_view",ne,this),Re(this,"append_task_names",re,this),Re(this,"render_baseline",ae,this),Re(this,"show_subtasks",oe,this),Re(this,"completed_since",ie,this),Re(this,"new_sibling_task",se,this),Re(this,"show_completion_date",le,this),Re(this,"current_modal",ce,this),Re(this,"current_modal_options",ue,this),Re(this,"chart_notification",de,this),Re(this,"logs_visible",fe,this),Re(this,"connected_users_visible",pe,this),Re(this,"subscription_modal",he,this),Re(this,"comments_loading",me,this),Re(this,"today_indicator",_e,this),Re(this,"map_viewport_hidden",ge,this),Re(this,"undoing",be,this),Re(this,"new_comments_visible",ye,this),Re(this,"workingdays",ve,this),Re(this,"context_menu",Ae,this),Re(this,"list_context_menu",we,this),Re(this,"completed_since_options",ke,this),Re(this,"columns",Ee,this),Re(this,"board_settings",xe,this),Re(this,"visible_table_columns",Oe,this),Re(this,"image_export_options",Ce,this),Re(this,"task_list_hidden",je,this),Re(this,"workload_hours_height",De,this),Re(this,"workload_hours_last_height",Ne,this),Re(this,"workload_type",Se,this),Re(this,"active_segment",Te,this),Re(this,"workload_hidden",Me,this),this.get_column_width=(0,Ie.computedFn)((function(e){return"table"==n.active_view?e.table_width?e.table_width:e.width:"gantt"==n.active_view?e.width:void 0})),this.globalstore=t,this.read_columns(),this.readMap(),(0,Be.reaction)((function(){return[n.user_resolved]}),(function(e){n.user_resolved&&(window&&window.utils&&window.utils.inu&&window.utils.inu(n.globalstore.user.id,"",n.globalstore.user.type||"asana"),n.initAnalytics())})),(0,Be.reaction)((function(){return[n.column_length,n.column_width,n.skip_weekends,n.keep_gap_locked,n.append_task_names,n.render_baseline,n.show_subtasks,n.completed_since,n.show_completion_date,n.months_before_current,n.months_after_current,n.show_week_number,n.show_parents_on_workload,n.today_indicator]}),(function(e){n.globalstore.projectsettings._save()})),(0,Be.reaction)((function(){return[(0,Be.toJS)(n.columns),n.visible_table_columns]}),(function(e){n.store_columns()})),(0,Be.reaction)((function(){return n.show_week_number}),(function(e){return n.afterChangeColumnLength()})),(0,Be.reaction)((function(){return[n.completed_since]}),(function(e){"offline"!=n.globalstore.mode&&n.globalstore.user&&"standalone"!=n.globalstore.user.type&&0!=n.globalstore.tasks.models.length&&n.globalstore.tasks.fetch()})),(0,Be.reaction)((function(){return[n.column_length,n.column_width]}),(function(e){7==n.column_length&&5==n.column_width?n.months_after_current=48:n.months_after_current=24})),(0,Be.reaction)((function(){return n.active_view}),(function(e){"table"==n.active_view&&n.visible_table_columns.length,"list"==n.active_view&&n.is_mobile&&(n.globalstore.tasks.viewport.row_height=35),"list"!=n.active_view&&(n.globalstore.tasks.viewport.row_height=25),"board"==n.active_view&&n.readBoardSettings()})),(0,Be.reaction)((function(){return n.connections.length}),(function(){n.connections.length>0?n.globalstore.tasks.connections_queue_active=!0:n.globalstore.tasks.connections_queue_active=!1})),(0,Be.reaction)((function(){return(0,Be.toJS)(n.board_settings)}),(function(){return n.store_board_settings()}))}return Pe(e,[{key:"initAnalytics",value:function(){if(amplitude&&this.globalstore&&this.globalstore.user&&this.globalstore.user.id){amplitude.setUserId(this.globalstore.user.email);var e=this.globalstore&&this.globalstore.user&&"standalone"==this.globalstore.user.type?"Standalone":"Asana",t=(new amplitude.Identify).set("product_type",e);amplitude.identify(t)}}},{key:"trackAnalytics",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{t&&!t.projects&&this.globalstore&&this.globalstore.projects&&this.globalstore.projects.models&&(t.projects=this.globalstore.projects.models.length)}catch(e){}amplitude&&amplitude.track(e,t),hj&&hj("event",e)}},{key:"hideContentSidebar",value:function(){this.pinned_content_sidebar||(this.hidden_content_sidebar=!0)}},{key:"toggleSidebarPin",value:function(){this.pinned_content_sidebar=!this.pinned_content_sidebar,this.pinned_content_sidebar?this.hidden_content_sidebar=!1:this.hidden_content_sidebar=!0}},{key:"toggleWorkloadType",value:function(e){"global"==e?(this.workload_type="global",this.globalstore.tasks.fetchGlobalWorkload()):this.workload_type="local"}},{key:"scaleIn",value:function(){var e=this.globalstore.tasks;this.column_length=1,setTimeout((function(){e.scroll_to=e.locateScroll()}))}},{key:"scaleOut",value:function(){var e=this.globalstore.tasks;this.column_length=7,setTimeout((function(){e.scroll_to=e.locateScroll()}))}},{key:"calendarFromTasks",value:function(){var e=moment().format("YYYY-MM-DD"),t="1",n=!1,r=!1;this.globalstore.tasks.filtered.forEach((function(a){a.start&&a.start<e&&(e=a.start,n=a),a.container&&a.container.start<e&&(e=a.container.start,n=a),a.due&&"null"!=a.due&&a.due>t&&(t=a.due,r=a),a.container&&a.container.due>t&&(t=a.container.due,r=a)})),"1"===t&&e&&(t=e),this.calendar_from_tasks={first_task:n,start:moment(e).format("YYYY-MM-DD"),end:moment(t).format("YYYY-MM-DD"),last_task:r}}},{key:"registerComponent",value:function(e){this.components[e.name]=e}},{key:"resetSelectedSiblings",value:function(){this.selected_siblings=[],this.selected_siblings_ids=[],this.task_details_open=!1,this.multiselect_toolbar_open=!1}},{key:"setScrollPositions",value:function(e){e.active_view?(this.scroll_positions[e.active_view].top=e.top,this.scroll_positions[e.active_view].left=e.left):(this.scroll_positions[this.active_view].top=e.top,this.scroll_positions[this.active_view].left=e.left)}},{key:"getScrollPositions",value:function(e){return e?this.scroll_positions[e]:this.scroll_positions[this.active_view]}},{key:"store_columns",value:function(){var e=this;if(localStorage)if("offline"!=this.globalstore.mode){Object.keys(this.columns).forEach((function(t){localStorage.setItem(t,e.columns[t].active)})),localStorage.setItem("columns_config",JSON.stringify((0,Be.toJS)(this.columns)));var t={};this.columns.custom_fields.forEach((function(e){t[e.id]={active:e.active,width:e.width}}));var n=JSON.parse(localStorage.getItem("custom_fields_config")||"{}");localStorage.setItem("custom_fields_config",JSON.stringify(Object.assign(n,t))),Object.keys(this.columns).forEach((function(e){localStorage.setItem("table_"+e,!1)})),this.visible_table_columns.forEach((function(e){localStorage.setItem("table_"+e,!0)})),this.globalstore.projects.selected&&this.columns.custom_fields.length>0&&this.globalstore.workbooksettings.saveCustomFieldsPerProject(),this.calculateSidebarWidth()}else this.calculateSidebarWidth()}},{key:"store_board_settings",value:function(){if("group"!=this.globalstore.projects.selected.type&&"standalone"==this.globalstore.user.type&&"board"==this.active_view){var e=JSON.parse(localStorage.getItem("board_settings")||"{}");e[this.globalstore.projects.selected.id]=(0,Be.toJS)(this.board_settings),localStorage.setItem("board_settings",JSON.stringify(e))}}},{key:"read_columns",value:function(){var e=this;if(localStorage)if("offline"!=this.globalstore.mode){var t=JSON.parse(localStorage.getItem("columns_config")||"{}");t&&Object.keys(t).length>0?Object.keys(t).forEach((function(n){if("custom_fields"!=n){if(!e.columns[n])return;e.columns[n].active=t[n].active,e.columns[n].width=t[n].width}})):Object.keys(this.columns).forEach((function(t){var n;"true"!==(n=localStorage.getItem(t))&&"false"!==n||(e.columns[t].active="true"===n),"true"===(n=localStorage.getItem("table_"+t))&&e.visible_table_columns.push(t)})),this.active_columns.forEach((function(e){"_status"==e.id&&e.active&&(e.visible=!0)})),this.calculateSidebarWidth()}else this.calculateSidebarWidth()}},{key:"set_column_width",value:function(e,t){"table"==this.active_view?(e.table_width=t,console.log("Setting for table",e)):"gantt"==this.active_view&&(e.width=t,console.log("Setting for gantt",e))}},{key:"readBoardSettings",value:function(){if(this.globalstore.projects&&this.globalstore.projects.selected){var e=JSON.parse(localStorage.getItem("board_settings")||"{}");if(e[this.globalstore.projects.selected.id]){var t=e[((this.globalstore.projects||{}).selected||{}).id];Object.assign(this.board_settings,{},t)}}this.globalstore.projects&&"group"!=this.globalstore.projects.selected.type&&this.globalstore.tasks.setLocalPositions({silent:!0})}},{key:"toggleMap",value:function(){this.map_active=!this.map_active,localStorage&&localStorage.setItem("map_active",this.map_active)}},{key:"toggleNewComments",value:function(e){this.new_comments_visible=void 0===e?!this.new_comments_visible:e,this.new_comments_visible&&(this.logs_visible=!1)}},{key:"toggleHistory",value:function(e){this.new_comments_visible||(this.logs_visible=void 0===e?!this.logs_visible:e,this.logs_visible&&(this.new_comments_visible=!1))}},{key:"readMap",value:function(){if(localStorage){var e=localStorage.getItem("map_active");"true"!==e&&"false"!==e||(this.map_active="true"===e)}}},{key:"export",value:function(){var e=this.globalstore.tasks;return{columns:(0,Be.toJS)(this.columns),column_width:this.column_width,column_length:this.column_length,months_before_current:this.months_before_current,months_after_current:this.months_after_current,sidebar_width:this.sidebar_width,skip_weekends:this.skip_weekends,keep_gap_locked:this.keep_gap_locked,active_view:this.active_view,append_task_names:this.append_task_names,show_subtasks:this.show_subtasks,completed_since:this.completed_since,group_by_priority_heading:e.sort_options.group_by_priority_heading,group_by_project:e.sort_options.group_by_project,sort_by_date:e.sort_options.sort_by_date,sort_by_local:e.sort_options.sort_by_local,keep_tasks_sorted:e.sort_options.keep_tasks_sorted,critical_path:this.critical_path,show_week_number:this.show_week_number,today_indicator:this.today_indicator}}},{key:"pushConnection",value:function(e){var t=this;return e.id=(new Date).getTime()*Math.random(),this.connections.push(e),{connection:e,dispose:function(){t.removeConnection(e)}}}},{key:"removeConnection",value:function(e){this.connections.splice(this.connections.indexOf(e),1)}},{key:"hintShown",value:function(e){var t=JSON.parse(localStorage.getItem("hints"))||{};return!(!t||!t[e])||(t[e]=!0,localStorage.setItem("hints",JSON.stringify(t)),!1)}},{key:"hintVisible",value:function(e){return this.active_hints.indexOf(e)>=0}},{key:"showHint",value:function(e){return!this.hintShown(e)&&(this.active_hints.indexOf(e)>=0||(this.active_hints.push(e),!0))}},{key:"hideHint",value:function(e){this.active_hints.splice(this.active_hints.indexOf(e),1)}},{key:"changeView",value:function(e){if(this.globalstore.projects.selected)switch(window&&window.utils&&window.utils.inev&&window.utils.inev("app","Change View",e),e){case"gantt":this.active_view="gantt",this.trackAnalytics("Change View",{view:"gantt"});break;case"workload":this.active_view="workload",this.trackAnalytics("Change View",{view:"workload"});break;case"table":this.active_view="table";break;case"inbox":this.active_view="inbox",this.trackAnalytics("Change View",{view:"inbox"});break;case"board":this.active_view="board",this.trackAnalytics("Change View",{view:"board"});break;case"overview":if("team"==this.globalstore.projects.selected.subtype||"workspace"==this.globalstore.projects.selected.type){this.globalMessage("Unavailable","Overview is not available for personal tasks or team tasks");break}this.active_view="overview",this.trackAnalytics("Change View",{view:"overview"})}}},{key:"afterChangeColumnLength",value:function(){}},{key:"calculateSidebarWidth",value:function(){this.sidebar_width=Number(localStorage.getItem("sidebar_width"))||this.full_sidebar_width,this.sidebar_width<this.minSidebarWidth&&(this.sidebar_width=this.minSidebarWidth),!Number(localStorage.getItem("sidebar_width"))&&this.sidebar_width>700&&(this.sidebar_width=700),this.setSidebarWidth(this.sidebar_width)}},{key:"isColumnActive",value:function(e){return"table"==this.active_view||this.columns[e].active}},{key:"setSidebarWidth",value:function(e){this.sidebar_width=e>400?e:400,localStorage.setItem("sidebar_width",this.sidebar_width)}},{key:"userCreatedSince",value:function(){var e=moment(this.globalstore.user.created_at).toDate().getTime()<moment(this.globalstore.uistate.launch_date).toDate().getTime()?moment(this.globalstore.uistate.launch_date):moment(this.globalstore.user.created_at);return moment().diff(e,"days")}},{key:"buildRangeFilter",value:function(){var e=parseInt(this.context_menu.left);e=Math.floor(e/this.column_width)*this.column_width;var t=parseInt(this.context_menu.right);if(t)var n=(t=Math.ceil(t/this.column_width)*this.column_width)-e>this.column_width?t-e:this.column_width;else n=this.column_width;var r=this.buildDates(e,n);this.globalstore.tasks.filters.range={start:r.start,end:r.end},this.components.barslist.node.scrollTop=0}},{key:"buildDates",value:function(e,t){var n=Math.floor(e/this.column_width),r=Math.floor(n+t/this.column_width)-1;if(1==this.column_length)var a=moment(moment(this.calendar.first_month_first_date)).add("days",n).format("YYYY-MM-DD"),o=moment(moment(this.calendar.first_month_first_date)).add("days",r).format("YYYY-MM-DD");else{var i=Le.getMonday(this.calendar.first_month_first_date);a=moment(moment(i)).add("days",7*n).format("YYYY-MM-DD"),o=moment(moment(i)).add("days",7*r+4).format("YYYY-MM-DD")}return{start:a,end:o}}},{key:"scrollToday",value:function(){var e=this.globalstore.tasks,t=new Date,n=Math.ceil(Le.daysDiff(t,this.calendar.first_month_first_date)/this.column_length-1)*this.column_width,r=this.scroll_positions[this.active_view].top;e.scroll_to={top:r,left:n}}},{key:"isTaskOnHash",value:function(){var e=window.location.hash.split("/");return!(!e[3]||""==e[3]||"-"==e[3])}},{key:"openTaskOnHash",value:function(){var e=window.location.hash.split("/"),t=void 0;if(e[3]&&""!=e[3]&&(t=e[3],e.splice(3,1),this.app_loaded_with_task_on_hash=!0,window.router.navigate(e.join("/")),"-"!=t&&""!=t)){this.globalstore.tasks.selected.forEach((function(e){return e.selected=!1}));var n=this.globalstore.tasks.get(t);if(!n)return;this.toggleScreenResolution(),this.task_editing_cell=!1,this.task_details_open=!0,this.new_sibling_task=!1,n.selected=!0}}},{key:"toggleScreenResolution",value:function(){document.documentElement.clientWidth<=1366&&window.router&&window.router.isSidebarExpanded()}},{key:"globalMessage",value:function(e,t){this.current_modal_options={message:t,title:e},this.current_modal="MESSAGE"}},{key:"copyTasks",value:function(){var e=this.globalstore,t=function e(t,n){return(t=t||[]).push(n),_.each(n.raw_childrens_models,(function(n){_.union(t,e(t,n))})),t},n=[];if(e.tasks.selected.forEach((function(e){e.is_new_task_handler||e.is_project||e.is_priority_heading||e.parent&&e.parent.id||t([],e).forEach((function(e){n.push(e.getAttributes())}))})),e.tasks.selected.length>0&&0==n.length){var r=e.tasks.selected[0].parents.length;e.tasks.selected.forEach((function(e){e.is_new_task_handler||e.is_project||e.is_priority_heading||e.parents.length==r&&t([],e).forEach((function(e){var t=e.getAttributes();e.parents.length==r&&delete t.parent,n.push(t)}))}))}this.tasks_to_copy=n,this.tasks_to_copy.length>0&&(this.current_modal_options={message:this.tasks_to_copy.length+" tasks copied",title:"Tasks copied"},this.current_modal="SPLASH")}},{key:"pasteTasks",value:function(e){for(var t,n=this,r=this.globalstore,a=r.projects.selected,o={},i=[],s=0;s<=r.tasks.selected.length-1;s++){var l=r.tasks.selected[s];l.is_new_task_handler||(t=l)}if("context"==e&&this.list_context_menu&&this.list_context_menu.ref&&(t=this.list_context_menu.ref),0!=this.tasks_to_copy.length)if(this.tasks_to_copy.length>0&&!t)alert("Please select a task to paste tasks below that");else if(t)if("project"==a.type){var c=function(e){"standalone"!=r.user.type?(r.uistate.current_modal_options={message:e,loading:!0,closeButton:!1},r.uistate.current_modal="MESSAGE"):r.uistate.notification={message:e,loading:!0}},u=function(e){r.uistate.notification=!1,r.uistate.current_modal_options={},r.uistate.current_modal=""},d=function(){c("Updating dependencies");var e=[],t=[];n.tasks_to_copy.forEach((function(n){Array.isArray(n.dependent_of)&&(e.push(n),r.tasks.get(o[n.id]).save({dependent_of:n.dependent_of.map((function(e){return o[e]||null}))}).then((function(){t.push(n),t.length==e.length&&u()})).catch((function(e){})))})),0==e.length&&u()};c("Pasting tasks"),function e(s,l,c){l.forEach((function(l,c){var f,p=[];if(t.is_priority_heading)var h=t.priority,m=t.id;else h=t.get_parent_priority_heading,m=t.priority_heading_id;m&&(p=[{project:a.id,section:m}]);var _=(Ue(f={name:l.name,due:l.due,start:l.start,tags:l.tags,projects:[{name:a.name,id:a.id}],assignee:l.assignee,users:l.users,user:l.user,estimated_hours:l.estimated_hours,actual_hours:l.actual_hours,priority:l.priority,risk:l.risk,estimated_cost:l.estimated_cost,actual_cost:l.actual_cost,parent_priority_heading:h,priority_heading_id:m,memberships:p},"priority",parseFloat(t.priority)+.01*(c+1)),Ue(f,"local_priority",parseFloat(t.local_priority)+.01*(c+1)),Ue(f,"is_milestone",l.is_milestone),Ue(f,"color",l.color),Ue(f,"progress",l.progress),Ue(f,"dependent_of",[]),Ue(f,"notes",l.notes),Ue(f,"ig_project_id",a.id),f);l.parent&&l.parent.id&&(delete _.projects,delete _.memberships,delete _.ig_project_id,_.parent={id:o[l.parent.id]}),l.parent&&l.parent.id||t.parent&&t.parent.id&&(_.parent=t.parent),!1===_.assignee&&(_.assignee=""),r&&r.user&&"standalone"==r.user.type?r.tasks.create(_).then((function(t){o[l.id]=t.id,_.id=t.id,i.push(_),e(a,n.tasks_to_copy.filter((function(e){return e.parent&&e.parent.id==l.id}))),i.length==n.tasks_to_copy.length&&(u(),d())})):_.parent?$.ajax({url:"/tasks/"+_.parent.id+"/subtasks",contentType:"application/json",dataType:"json",method:"POST",data:JSON.stringify(_)}).success((function(t){o[l.id]=t.id,_.id=t.id,i.push(_),r.tasks.add([_]),e(a,n.tasks_to_copy.filter((function(e){return e.parent&&e.parent.id==l.id}))),i.length==n.tasks_to_copy.length&&(u(),d())})):$.ajax({url:"/projects/"+s.id+"/tasks",contentType:"application/json",dataType:"json",method:"POST",data:JSON.stringify(_)}).success((function(t){o[l.id]=t.id,_.id=t.id,i.push(_),r.tasks.add([_]),e(a,n.tasks_to_copy.filter((function(e){return e.parent&&e.parent.id==l.id}))),i.length==n.tasks_to_copy.length&&(u(),d())}))}))}(a,this.tasks_to_copy.filter((function(e){return!e.parent||!e.parent.id})))}else alert("Task duplication can't be done on Groups or User Tasks. Please select a single project");else alert("Please select a valid task to paste tasks below that")}},{key:"mobileMessage",value:function(e){$("#mobile-message").html(e),$("#mobile-message").show(),$("#popup-view")[0]&&"0"!=$("#popup-view").css("bottom")?($("#mobile-message").css({top:"auto",bottom:"-300px",marginBottom:"30px"}),setTimeout((function(){$("#mobile-message").css({bottom:$("#popup-view").height()+20+"px"}),setTimeout((function(){$("#mobile-message").css({top:"-300px",bottom:"auto"}),setTimeout((function(){$("#mobile-message").html(""),$("#mobile-message").hide()}),300)}),1300)}),0)):(console.log("mobiling"),setTimeout((function(){$("#mobile-message").css({top:"0"}),setTimeout((function(){$("#mobile-message").css({top:"-300px"}),setTimeout((function(){$("#mobile-message").html(""),$("#mobile-message").hide()}),300)}),1300)}),100))}},{key:"chartWarning",value:function(e){this.chart_notification={message:e,icon:"fa-lock"}}},{key:"centralContentStyle",get:function(){return this.pinned_content_sidebar?{left:"310px"}:{left:"60px"}}},{key:"get_background_image",get:function(){var e=this;if(1==this.column_length&&this.globalstore.projectsettings.working_days){var t=0,n=Object.keys(this.globalstore.projectsettings.working_days).map((function(n){return e.globalstore.projectsettings.working_days[n]&&t++,e.globalstore.projectsettings.working_days[n]?"none":"block"}));7==t&&(n[0]="block",n[6]="block");var r=this.column_width/20,a='<svg width="'+140*r+'px" height="'+20*r+'px" viewBox="0 0 140 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="W" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="D" transform="translate(-242.000000, -645.000000)"> <g id="Group" transform="translate(242.000000, 645.000000)"> <rect id="Rectangle" fill="#FFFFFF" x="0" y="0" width="140" height="20"></rect> <path d="M39.5,0.5 L39.5,19.5" id="Line" stroke="#EFEFEF" stroke-linecap="square"></path> <path d="M59.5,0.5 L59.5,19.5" id="Line" stroke="#EFEFEF" stroke-linecap="square"></path> <path d="M79.5,0.5 L79.5,19.5" id="Line" stroke="#EFEFEF" stroke-linecap="square"></path> <path d="M99.5,0.5 L99.5,19.5" id="Line" stroke="#EFEFEF" stroke-linecap="square"></path> <path d="M19.5,0.5 L19.5,19.5" id="Line-2" stroke="#EFEFEF" stroke-linecap="square"></path> <path d="M139.5,0.5 L139.5,19.5" id="Line-2" stroke="#EFEFEF" stroke-linecap="square"></path> <path d="M119.5,0.5 L119.5,19.5" id="Line-2" stroke="#EFEFEF" stroke-linecap="square"></path> <g id="day_6" style="display:'+n[6]+'" transform="translate(120.000000, 0.000000)"> <rect id="day_a" stroke="#E8E8E8" fill="#E8E8E8" x="0.5" y="0.5" width="19" height="19"></rect> <path d="M19.5,0.5 L19.5,19.5" id="Line" stroke="#DEDEDE" stroke-linecap="square"></path> </g> <g id="day_5" style="display:'+n[5]+'" transform="translate(100.000000, 0.000000)"> <rect id="day_a" stroke="#E8E8E8" fill="#E8E8E8" x="0.5" y="0.5" width="19" height="19"></rect> <path d="M19.5,0.5 L19.5,19.5" id="Line" stroke="#DEDEDE" stroke-linecap="square"></path> </g> <g id="day_4" style="display:'+n[4]+'" transform="translate(80.000000, 0.000000)"> <rect id="day_a" stroke="#E8E8E8" fill="#E8E8E8" x="0.5" y="0.5" width="19" height="19"></rect> <path d="M19.5,0.5 L19.5,19.5" id="Line" stroke="#DEDEDE" stroke-linecap="square"></path> </g> <g id="day_3" style="display:'+n[3]+'" transform="translate(60.000000, 0.000000)"> <rect id="day_a" stroke="#E8E8E8" fill="#E8E8E8" x="0.5" y="0.5" width="19" height="19"></rect> <path d="M19.5,0.5 L19.5,19.5" id="Line" stroke="#DEDEDE" stroke-linecap="square"></path> </g> <g id="day_2" style="display:'+n[2]+'" transform="translate(40.000000, 0.000000)"> <rect id="day_a" stroke="#E8E8E8" fill="#E8E8E8" x="0.5" y="0.5" width="19" height="19"></rect> <path d="M19.5,0.5 L19.5,19.5" id="Line" stroke="#DEDEDE" stroke-linecap="square"></path> </g> <g id="day_1" style="display:'+n[1]+'" transform="translate(20.000000, 0.000000)"> <rect id="day_a" stroke="#E8E8E8" fill="#E8E8E8" x="0.5" y="0.5" width="19" height="19"></rect> <path d="M19.5,0.5 L19.5,19.5" id="Line" stroke="#DEDEDE" stroke-linecap="square"></path> </g> <g id="day_0" style="display:'+n[0]+'" > <rect id="day_0_a" stroke="#E8E8E8" fill="#E8E8E8" x="0.5" y="0.5" width="19" height="19"></rect> <path d="M19.5,0.5 L19.5,19.5" id="Line-2" stroke="#EFEFEF" stroke-linecap="square"></path> </g> </g> </g> </g> </svg>';return window.btoa(a)}return window.btoa("<svg></svg>")}},{key:"calendar",get:function(){var e=this,t=e.column_width,n=moment(e.current_date).hours(12).minutes(0).seconds(0).milliseconds(0),r=moment(n).date(1),a=moment(r).subtract("months",e.months_before_current),o=moment(r).add("months",e.months_after_current),i=moment(o).add("months",1).date(0),s=0;if(this.calendar_from_tasks&&this.calendar_from_tasks.start){var l=moment(this.calendar_from_tasks.start).subtract("months",1).date(1),c=moment(this.calendar_from_tasks.end).add("months",2).date(0);l<a&&(a=l),c>i&&(i=c)}var u=[];if(1==e.column_length){var d=moment(a);for(moment(a);d<=i;){var f=[],p=t*Math.ceil(moment(d).add("months",1).date(0).format("D")/Number(e.column_length)),h=d.format("MMM YYYY"),m=9;switch(e.column_width){case 15:case 10:case 5:m=9,h=d.format("MMM YY")}f.push({type:"month",width:p,text:h,fontSize:11,dayOfWeek:d.day()});for(var _=moment(d).add("months",1).date(0),g=moment(d),b=Number(g.format("D")),y=moment(g),v=Number(_.format("D"));b<=v;){var A=b;y.format("w"),10==e.column_width&&(A=1==y.format("d")?y.format("MMM DD"):""),5==e.column_width&&(A=1==y.format("d")?y.format("MMM DD"):""),f.push({type:"day",date:y.format("YYYYMMDD"),dayOfWeek:y.day(),fontSize:m,text:A,width:e.column_width,week_number:y.toDate().getWeek()}),b+=e.column_length,y.add("days",1)}u.push(f),d.add("months",1),s+=p}}else for(d=moment(a),moment(a),g=moment(Le.getMonday(moment(d).toDate()));d<=i;){f=[],_=moment(d).add("months",1).date(0).day(7),p=t*Math.ceil(Le.daysDiff(_,g)/Number(e.column_length)),h=d.format("MMM YYYY"),m=9;var w=11;switch(e.column_width){case 15:m=9,h=d.format("MMM YY"),w=10;break;case 10:m=7,w=9,h=d.format("MMM YY");break;case 5:m=7,w=9,h=-1!=["1","4","7","10"].indexOf(d.format("M"))?d.format("MMM YY")+" (Q"+Number(["1","4","7","10"].indexOf(d.format("M"))+1)+")":""}for(f.push({type:"month",width:p,fontSize:w,text:h,week_number:g.toDate().getWeek()});g<=_;){var k=g.format("DD"),E=g.toDate().getWeek();5==e.column_width&&(k="",E=""),f.push({type:"day",fontSize:m,text:k,width:e.column_width,week_number:E}),g.add("days",e.column_length)}d.add("months",1),s+=p,u.push(f)}return{data:u,total_width:s,first_month_first_date:a.toDate()}}},{key:"active_columns",get:function(){return this.columns.custom_fields.filter((function(e){return e.active&&e.enabled}))}},{key:"visible_columns",get:function(){return this.columns.custom_fields.filter((function(e){return e.visible&&e.enabled}))}},{key:"table_columns",get:function(){var e=(0,Be.toJS)(this.columns);return this.visible_table_columns.length>0?(Object.keys(e).forEach((function(t){return e[t].active=!1})),this.visible_table_columns.forEach((function(t){e[t].active=!0})),e):this.columns}},{key:"get_sidebar_width",get:function(){return"workload"!=this.active_view?this.task_list_hidden?this.hidden_task_list_width:this.full_sidebar_width<this.sidebar_width?this.full_sidebar_width:this.sidebar_width:this.workload_sidebar_width}},{key:"get_gantt_sidebar_width",get:function(){return this.task_list_hidden?this.hidden_task_list_width:this.full_sidebar_width<this.sidebar_width?this.full_sidebar_width:this.sidebar_width}},{key:"full_sidebar_width",get:function(){var e=this,t=50;Object.keys(this.columns).forEach((function(n){"table"!=e.active_view?"start"==n?e.columns.due.active&&(t+=e.get_column_width(e.columns.start)):e.columns[n].active&&(t+=e.get_column_width(e.columns[n])):e.columns[n].width&&(t+=e.get_column_width(e.columns[n]))}));var n=this.visible_columns;return"table"==this.active_view&&(n=this.active_columns),n.forEach((function(n){t+=e.get_column_width(n)})),t}},{key:"minSidebarWidth",get:function(){return 400}},{key:"today_metrics",get:function(){var e=moment(this.today).toDate(),t=moment(this.today).toDate();return Le.metrics(e,t,{column_width:this.column_width,column_length:this.column_length,first_month_first_date:this.calendar.first_month_first_date})}}]),e}(),a=Fe(r.prototype,"hidden_content_sidebar",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),o=Fe(r.prototype,"pinned_content_sidebar",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),i=Fe(r.prototype,"overview_baselines",[Be.observable],{enumerable:!0,initializer:function(){return[]}}),s=Fe(r.prototype,"bar_context_menu_id",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),l=Fe(r.prototype,"drawing_dependency",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),c=Fe(r.prototype,"user_resolved",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),u=Fe(r.prototype,"user_photo",[Be.observable],{enumerable:!0,initializer:function(){return""}}),d=Fe(r.prototype,"scroll_positions",[Be.observable],{enumerable:!0,initializer:function(){return{gantt:{top:0,left:0},workload:{top:0,left:0},list:{top:0,left:0}}}}),f=Fe(r.prototype,"management_app",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),p=Fe(r.prototype,"projects_sidebar_visible",[Be.observable],{enumerable:!0,initializer:function(){return!0}}),h=Fe(r.prototype,"is_mobile",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),m=Fe(r.prototype,"app_loaded_with_task_on_hash",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),g=Fe(r.prototype,"free_trial_banner",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),b=Fe(r.prototype,"free_trial_days_left",[Be.observable],{enumerable:!0,initializer:function(){return this.free_trial_days}}),y=Fe(r.prototype,"today",[Be.observable],{enumerable:!0,initializer:function(){return moment().format("YYYY-MM-DD")}}),v=Fe(r.prototype,"show_parents_on_workload",[Be.observable],{enumerable:!0,initializer:function(){return!0}}),A=Fe(r.prototype,"active_field",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),w=Fe(r.prototype,"calendar_from_tasks",[Be.observable],{enumerable:!0,initializer:function(){return{}}}),k=Fe(r.prototype,"multiselect_active",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),E=Fe(r.prototype,"map_active",[Be.observable],{enumerable:!0,initializer:function(){return!0}}),x=Fe(r.prototype,"multiselect_toolbar_open",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),O=Fe(r.prototype,"connect",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),C=Fe(r.prototype,"editing_project_id",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),j=Fe(r.prototype,"help_message",[Be.observable],{enumerable:!0,initializer:function(){return""}}),D=Fe(r.prototype,"show_week_number",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),N=Fe(r.prototype,"header_height",[Be.observable],{enumerable:!0,initializer:function(){return 41}}),S=Fe(r.prototype,"review_rectify",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),T=Fe(r.prototype,"active_hints",[Be.observable],{enumerable:!0,initializer:function(){return[]}}),M=Fe(r.prototype,"connections",[Be.observable],{enumerable:!0,initializer:function(){return[]}}),P=Fe(r.prototype,"project_id",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),B=Fe(r.prototype,"last_project_id",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),I=Fe(r.prototype,"notification",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),L=Fe(r.prototype,"task_details_open",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),U=Fe(r.prototype,"selected_siblings",[Be.observable],{enumerable:!0,initializer:function(){return[]}}),R=Fe(r.prototype,"critical_path",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),F=Fe(r.prototype,"active_tasks",[Be.observable],{enumerable:!0,initializer:function(){return[]}}),z=Fe(r.prototype,"selected_siblings_ids",[Be.observable],{enumerable:!0,initializer:function(){return[]}}),Q=Fe(r.prototype,"scrolling",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),H=Fe(r.prototype,"column_width",[Be.observable],{enumerable:!0,initializer:function(){return 20}}),Y=Fe(r.prototype,"column_length",[Be.observable],{enumerable:!0,initializer:function(){return 1}}),K=Fe(r.prototype,"current_date",[Be.observable],{enumerable:!0,initializer:function(){return new Date}}),W=Fe(r.prototype,"months_before_current",[Be.observable],{enumerable:!0,initializer:function(){return 12}}),q=Fe(r.prototype,"months_after_current",[Be.observable],{enumerable:!0,initializer:function(){return 24}}),G=Fe(r.prototype,"sidebar_width",[Be.observable],{enumerable:!0,initializer:function(){return 400}}),V=Fe(r.prototype,"workload_sidebar_width",[Be.observable],{enumerable:!0,initializer:function(){return 300}}),X=Fe(r.prototype,"hidden_task_list_width",[Be.observable],{enumerable:!0,initializer:function(){return 20}}),J=Fe(r.prototype,"skip_weekends",[Be.observable],{enumerable:!0,initializer:function(){return!0}}),Z=Fe(r.prototype,"keep_gap_locked",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),ee=Fe(r.prototype,"skip_dependencies",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),te=Fe(r.prototype,"task_editing_cell",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),ne=Fe(r.prototype,"active_view",[Be.observable],{enumerable:!0,initializer:function(){return"gantt"}}),re=Fe(r.prototype,"append_task_names",[Be.observable],{enumerable:!0,initializer:function(){return!0}}),ae=Fe(r.prototype,"render_baseline",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),oe=Fe(r.prototype,"show_subtasks",[Be.observable],{enumerable:!0,initializer:function(){return!0}}),ie=Fe(r.prototype,"completed_since",[Be.observable],{enumerable:!0,initializer:function(){return"all"}}),se=Fe(r.prototype,"new_sibling_task",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),le=Fe(r.prototype,"show_completion_date",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),ce=Fe(r.prototype,"current_modal",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),ue=Fe(r.prototype,"current_modal_options",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),de=Fe(r.prototype,"chart_notification",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),fe=Fe(r.prototype,"logs_visible",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),pe=Fe(r.prototype,"connected_users_visible",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),he=Fe(r.prototype,"subscription_modal",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),me=Fe(r.prototype,"comments_loading",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),_e=Fe(r.prototype,"today_indicator",[Be.observable],{enumerable:!0,initializer:function(){return!0}}),ge=Fe(r.prototype,"map_viewport_hidden",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),be=Fe(r.prototype,"undoing",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),ye=Fe(r.prototype,"new_comments_visible",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),ve=Fe(r.prototype,"workingdays",[Be.observable],{enumerable:!0,initializer:function(){return{Sunday:!1,Monday:!0,Tuesday:!0,Wednesday:!0,Thursday:!0,Friday:!0,Saturday:!1}}}),Ae=Fe(r.prototype,"context_menu",[Be.observable],{enumerable:!0,initializer:function(){return{active:!1,left:0,top:0,ref:!1,display:"none",right:0}}}),we=Fe(r.prototype,"list_context_menu",[Be.observable],{enumerable:!0,initializer:function(){return{active:!1,left:0,top:0,ref:!1,display:"none",right:0}}}),ke=Fe(r.prototype,"completed_since_options",[Be.observable],{enumerable:!0,initializer:function(){return{hidden:{name:"Hide all",time:moment().add("days",1e3).toDate()},"1week":{name:"Last week",time:moment().subtract("days",7).toDate()},"2weeks":{name:"Last 2 weeks",time:moment().subtract("days",14).toDate()},"1month":{name:"Last month",time:moment().subtract("months",1).toDate()},"2months":{name:"Last 2 months",time:moment().subtract("months",2).toDate()},"6months":{name:"Last 6 months",time:moment().subtract("months",6).toDate()},all:{name:"Show all",time:moment().subtract("months",96).toDate()}}}}),Ee=Fe(r.prototype,"columns",[Be.observable],{enumerable:!0,initializer:function(){return{due:{name:"Due date",short_name:"DUE",active:!0,width:60,table_width:60,min_width:60,filter_key:"due"},start:{name:"Start date",short_name:"START",active:!0,width:60,table_width:60,min_width:60,selectable:!1,filter_key:"start"},progress:{name:"Progress",short_name:"%",active:!0,width:40,table_width:40,min_width:40,filter_key:"progress"},estimatedhours:{name:"Estimated hours",short_name:"EH",active:!0,width:35,table_width:35,min_width:35,filter_key:"estimated_hours"},actualhours:{name:"Actual hours",short_name:"AH",active:!1,width:35,table_width:35,min_width:35,filter_key:"actual_hours"},priority:{name:"Priority",short_name:"PR",active:!1,width:50,table_width:50,min_width:50,filter_key:"priority"},risk:{name:"Risk",short_name:"RI",active:!1,width:50,table_width:50,min_width:50,filter_key:"risk"},estimatedcost:{name:"Estimated cost",short_name:"EC",active:!1,width:65,table_width:65,min_width:65,filter_key:"estimated_cost"},actualcost:{name:"Actual cost",short_name:"AC",active:!1,width:65,table_width:65,min_width:65,filter_key:"actual_cost"},assignee:{name:"Assignee",short_name:"ASSIGNEE",active:!0,width:85,table_width:85,min_width:85,filter_key:"assignee"},tags:{name:"Tags",short_name:"TAGS",active:!1,width:85,table_width:85,min_width:85,filter_key:"tags"},workingdaysduration:{name:"Duration (Working days)",short_name:"WD",active:!1,width:35,table_width:35,min_width:35,filter_key:"working_days"},duration:{name:"Duration (Calendar days)",short_name:"CD",active:!1,width:35,table_width:35,min_width:35},subtasks:{name:"Subtasks counter",short_name:"SUB",active:!1,width:35,table_width:35,min_width:35},dependencies:{name:"Dependencies",short_name:"DPD",active:!1,width:65,table_width:65,min_width:65},photo:{name:"Photo",short_name:"",active:!0,width:35,table_width:35,min_width:35,selectable:!1},name:{name:"Name",short_name:"",active:!0,width:200,table_width:400,min_width:200,selectable:!1},custom_fields:[]}}}),xe=Fe(r.prototype,"board_settings",[Be.observable],{enumerable:!0,initializer:function(){return{show_images:!0,show_tags:!1,show_status:!1,group_by:"section",dragging_from:"",dragging_id:"",project_id_on_folder:!1,show_subtasks:!1,subtasks_expanded:!0}}}),Oe=Fe(r.prototype,"visible_table_columns",[Be.observable],{enumerable:!0,initializer:function(){return[]}}),Ce=Fe(r.prototype,"image_export_options",[Be.observable],{enumerable:!0,initializer:function(){return{time_scale:1,view_type:0,include_labels:1,include_tasklist:1,file_type:"jpeg",export_range:"full",export_range_start:"",export_range_end:"",selected_tasks:0,name:"",include_highlighted_days:!0,include_nonworking_highlighted_days:!0}}}),je=Fe(r.prototype,"task_list_hidden",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),De=Fe(r.prototype,"workload_hours_height",[Be.observable],{enumerable:!0,initializer:function(){return 0}}),Ne=Fe(r.prototype,"workload_hours_last_height",[Be.observable],{enumerable:!0,initializer:function(){return 200}}),Se=Fe(r.prototype,"workload_type",[Be.observable],{enumerable:!0,initializer:function(){return"local"}}),Te=Fe(r.prototype,"active_segment",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),Me=Fe(r.prototype,"workload_hidden",[Be.observable],{enumerable:!0,initializer:function(){return!1}}),Fe(r.prototype,"toggleSidebarPin",[Be.action],Object.getOwnPropertyDescriptor(r.prototype,"toggleSidebarPin"),r.prototype),Fe(r.prototype,"centralContentStyle",[Be.computed],Object.getOwnPropertyDescriptor(r.prototype,"centralContentStyle"),r.prototype),Fe(r.prototype,"toggleWorkloadType",[Be.action],Object.getOwnPropertyDescriptor(r.prototype,"toggleWorkloadType"),r.prototype),Fe(r.prototype,"scaleIn",[Be.action],Object.getOwnPropertyDescriptor(r.prototype,"scaleIn"),r.prototype),Fe(r.prototype,"scaleOut",[Be.action],Object.getOwnPropertyDescriptor(r.prototype,"scaleOut"),r.prototype),Fe(r.prototype,"get_background_image",[Be.computed],Object.getOwnPropertyDescriptor(r.prototype,"get_background_image"),r.prototype),Fe(r.prototype,"calendar",[Be.computed],Object.getOwnPropertyDescriptor(r.prototype,"calendar"),r.prototype),Fe(r.prototype,"store_columns",[Be.action],Object.getOwnPropertyDescriptor(r.prototype,"store_columns"),r.prototype),Fe(r.prototype,"read_columns",[Be.action],Object.getOwnPropertyDescriptor(r.prototype,"read_columns"),r.prototype),Fe(r.prototype,"active_columns",[Be.computed],Object.getOwnPropertyDescriptor(r.prototype,"active_columns"),r.prototype),Fe(r.prototype,"visible_columns",[Be.computed],Object.getOwnPropertyDescriptor(r.prototype,"visible_columns"),r.prototype),Fe(r.prototype,"set_column_width",[Be.action],Object.getOwnPropertyDescriptor(r.prototype,"set_column_width"),r.prototype),Fe(r.prototype,"table_columns",[Be.computed],Object.getOwnPropertyDescriptor(r.prototype,"table_columns"),r.prototype),Fe(r.prototype,"get_sidebar_width",[Be.computed],Object.getOwnPropertyDescriptor(r.prototype,"get_sidebar_width"),r.prototype),Fe(r.prototype,"get_gantt_sidebar_width",[Be.computed],Object.getOwnPropertyDescriptor(r.prototype,"get_gantt_sidebar_width"),r.prototype),Fe(r.prototype,"full_sidebar_width",[Be.computed],Object.getOwnPropertyDescriptor(r.prototype,"full_sidebar_width"),r.prototype),Fe(r.prototype,"minSidebarWidth",[Be.computed],Object.getOwnPropertyDescriptor(r.prototype,"minSidebarWidth"),r.prototype),Fe(r.prototype,"today_metrics",[Be.computed],Object.getOwnPropertyDescriptor(r.prototype,"today_metrics"),r.prototype),Fe(r.prototype,"openTaskOnHash",[Be.action],Object.getOwnPropertyDescriptor(r.prototype,"openTaskOnHash"),r.prototype),r);t.default=ze},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Backbone.Router.extend({routes:{gantt:"gantt",week:"week",news:"news",logout:"logout",first:"firstLoad",inbox:"inbox","import-projects":"importProjects","import-projects/:query/:role":"supplierProjects","import-projects/:query":"supplierProjects",preview:"preview",":num":"gantt","subscriptions/welcome":"subscriptionsWelcome","subscriptions/team":"subscriptionsTeam","subscriptions/upgrade":"subscriptionsUpgrade",help:"help","projects/:project_id/:supplier_project_id":"loadProject","projects/:project_id/:supplier_project_id/:task_id":"loadProject","workspace/:project_id/:supplier_project_id":"loadWorkspace","group/:project_id/:user_id":"loadGroup"},initialize:function(e){var t=this;this.store=e.store,console.log("Initializing router"),this.projects=$.Deferred(),this.user=$.Deferred(),this.loadUser(),this.store.uistate.current_modal="LOADING_CURTAIN",this.loadInspectlet(),this.user.done((function(){App.Instances.subscriptionView=new App.Views.Subscription,t.store.user.type&&"standalone"==t.store.user.type?t.store.workbooks.fetch().then((function(){var e=0,n=t.store.workbooks.models,r=n.length;0==r?t.standaloneWizard():t.store.uistate.current_modal=!1,n.forEach((function(n){var a=n.id;t.store.projects.add([{name:"All Projects",supplier:"standalone",id:a,type:"group",subtype:"all",workbook:{name:n.name,id:a}}]),t.store.db.collection("workbooks").doc(a).collection("projects").get().then((function(o){if(o.forEach((function(e){var r=e.data();r.id=e.id,r.workbook={name:n.name,id:a},"All Projects"!=r.name&&(""==r.name&&(r.name="Unnamed Project"),t.store.projects.add([r]))})),++e==r){var i=t.store.projects.filteredWorkbook.filter((function(e){return"group"!=e.type}));1==i.length&&(t.store.projects.selectProject(i[0]),t.store.user.welcomed||t.gettingStarted()),t.projects.resolveWith(t,t.store.projects.models)}}))}))})):(t.store.logs=!1,t.store.projects.fetch().then((function(){t.projects.resolveWith(t,t.store.projects.models),"LOADING_CURTAIN"==t.store.uistate.current_modal&&(t.store.uistate.current_modal=!1)})))})),this.version=!1,setInterval((function(){t.say_hello()}),27e5),$(window).on("online",(function(){t.say_hello()})),setTimeout((function(){t.gantt()}),0),this.projects.done((function(){window.Intercom("update",{projects:t.store.projects.models.length,app_type:t.store.user.type||"asana"}),"undefined"!=typeof $crisp&&$crisp&&$crisp.push(["set","session:data",[[["projects",t.store.projects.models.length],["account_type",t.store.user.type||"asana"]]]]),"undefined"!=typeof HelpCrunch&&HelpCrunch("updateUserData",{projects:t.store.projects.models.length})}))},say_hello:function(){var e=this;$.get("/hello",(function(t){App.Instances.subscriptionView&&App.Instances.subscriptionView.getCurrentSubscription(),e.version?e.version!=t.version&&(document.hasFocus()?$("#ask-for-reload").modal():window.location.reload()):e.version=t.version}),"json"),this.store.uistate.today=moment().format("YYYY-MM-DD")},loadUser:function(){var e=this;$.get("/whoami",{_:$.now()},(function(t){if(e.store.user.set(t),e.store.user.type&&"standalone"==e.store.user.type||(e.user.resolve(),e.store.uistate.user_resolved=!0),e.store.user.flags&&e.store.user.flags.react,e.store.user.free_trial_days&&e.store.user.free_trial_days>7&&(e.store.uistate.free_trial_days=e.store.user.free_trial_days),t.group_max_projects&&Number(t.group_max_projects)>=20&&(e.store.uistate.group_max_projects=t.group_max_projects),"standalone"==e.store.user.type&&(e.store.tasks.filters.tag_type="user",$("#user").hide(),firebase.auth().onAuthStateChanged((function(n){n&&n.email==e.store.user.email?(e.store.db=firebase.firestore(),firebase.functions().httpsCallable("reconcileWorkbooks")().then((function(t){e.user.resolve(),e.store.uistate.user_resolved=!0})).catch((function(t){console.log("Error reconciling workbooks"),e.user.resolve(),e.store.uistate.user_resolved=!0}))):firebase.auth().signInWithCustomToken(e.store.user.firebase_token).then((function(){e.store.db=firebase.firestore();var n=firebase.auth().currentUser;n.updateProfile({displayName:t.name,photoURL:t.photo}).then((function(){n.updateEmail(t.email).then((function(){firebase.functions().httpsCallable("reconcileWorkbooks")().then((function(t){e.user.resolve(),e.store.uistate.user_resolved=!0})).catch((function(t){console.log("Error reconciling workbooks"),e.user.resolve(),e.store.uistate.user_resolved=!0}))})).catch((function(e){console.log(e),console.log("Firebase auth updateEmail problem")}))})).catch((function(e){console.log("Firebase auth problem")}))})).catch((function(e){e.code,e.message,alert("An error has ocurred connecting to our servers. Please login again or try clearing your cookies"),window.location="https://instagantt.com/reloginStandalone"}))}))),$("#user-name-text").html(utils.nameAbbreviation(t.name)),t.photo&&0!=t.photo){e.store.uistate.user_photo=t.photo,$("#user-name-text").hide(),$("#user img").show();var n=0;$("#user img").attr("src",t.photo).error((function(){n<2&&$.get("/whoami",{_:$.now(),refresh_photo:1},(function(e){e.photo&&$("#user img").attr("src",e.photo)})),n++}))}e.version=t.version,e.loadIntercom(t)}),"json").error((function(){}))},loadIntercom:function(e){if(this.intercom_loaded)window.Intercom("update");else{if(this.intercom_data={app_id:"ys1oqv87",name:e.name,email:e.email,created_at:e.created_at,app_type:e.type||"asana",widget:{activator:"#IntercomDefaultWidget"},app_version:"react"},localStorage&&localStorage.getItem("g_user"))try{this.intercom_data.adwords=!0,localStorage.removeItem("g_user")}catch(e){}window.Intercom("boot",this.intercom_data),this.intercom_loaded=!0}$(document).height()<670&&Intercom("update",{hide_default_launcher:!0}),$(document).width()<670&&Intercom("update",{hide_default_launcher:!0}),"undefined"!=typeof $crisp&&$crisp&&($crisp.push(["set","user:email",[e.email]]),$crisp.push(["set","user:nickname",[e.name]]),$crisp.push(["set","session:data",[[["account_type",e.type||"asana"],["created_at",moment(e.created_at).format("YYYY-MM-DD HH:mm:ss")],["user_id",e.id]]]]),$crisp.push(["set","session:segments",[[e.type?"product-"+e.type:"product-asana"]]]),$crisp.push(["set","session:event",[[["login"]]]]),setTimeout((function(){$crisp.push(["do","chat:hide"])}),5e3)),"undefined"!=typeof HelpCrunch&&(HelpCrunch("init","instaganttapp",{applicationId:1,applicationSecret:"Di4aKMZosrkZ2CTYbfY/TkLBPHBL2z9YDNCOHsxNRzzjnLrozFKXfIs3zvsFiTpCh6UDWZ9q6pvzexnqF2jC9A==",user:{email:e.email,name:e.name,user_id:e.id,custom_data:{product:e.type||"asana",created_at:e.created_at/1e3}}}),HelpCrunch("showChatWidget"))},signupEvent:function(){"undefined"!=typeof $crisp&&$crisp&&$crisp.push(["set","session:event",[[["signup"]]]])},gantt:function(){var e=this;this.user.done((function(){e.projects.done((function(){0==e.store.projects.models.length&&(moment().format("YYYYMMDD"),e.store&&e.store.user&&"standalone"==e.store.user.type?(gtag&&gtag("event","new_account",{event_category:"Standalone"}),e.signupEvent()):(gtag&&gtag("event","new_account",{event_category:"Asana"}),e.signupEvent()),e.gettingStarted(),window.Intercom("update",{projects:e.store.projects.models.length}))}))}))},workload:function(){this.store.uistate.changeView("workload")},importProjects:function(){this.store.uistate.connect={supplier:"asana",type:"projects"}},firstLoad:function(){var e=this;this.gantt(),this.msieversion()||this.user.done((function(){e.projects.done((function(){0==e.store.projects.models.length&&(e.gettingStarted(),moment().format("YYYYMMDD"),e.store&&e.store.user&&"standalone"==e.store.user.type?(gtag&&gtag("event","new_account",{event_category:"Standalone"}),e.signupEvent()):(gtag&&gtag("event","new_account",{event_category:"Asana"}),e.signupEvent()))}))}))},news:function(){console.log("news!"),$("#news").modal({backdrop:"static"}),$("#news").on("click",".btn-finish-news",(function(){$("#news").modal("hide"),$("#news .item").removeClass("active"),$("#news .item:eq(0)").addClass("active"),$.post("/read-news"),window.location.hash=""}))},supplierProjects:function(e,t){this.store.uistate.connect={supplier:"asana",type:"projects"}},logout:function(){window.location="https://app.instagantt.com/logout?q=1"},preview:function(){},clearLists:function(){},msieversion:function(){return!!(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&($("#internet-explorer-alert").modal(),!0)},subscriptionsWelcome:function(){App.Instances.subscriptionView.welcome(),this.store.uistate.is_mobile&&$("#subscription-modal").addClass("mobile")},subscriptionsTeam:function(){var e=this;this.user.done((function(){e.projects.done((function(){e.store&&e.store.user&&"standalone"==e.store.user.type?e.store.subscriptions&&0==e.store.subscriptions.models.length?e.store.subscriptions.fetch().then((function(){e.store.subscriptions&&0==e.store.subscriptions.models.length?e.store.uistate.subscription_modal="CREATE_SUBSCRIPTION":e.store.uistate.subscription_modal="MANAGE_SUBSCRIPTIONS"})):e.store.uistate.subscription_modal="MANAGE_SUBSCRIPTIONS":(App.Instances.subscriptionView.team(),e.store.uistate.is_mobile&&$("#subscription-modal").addClass("mobile"))}))}))},subscriptionsUpgrade:function(){App.Instances.subscriptionView.upgrade(),this.store.uistate.is_mobile&&$("#subscription-modal").addClass("mobile")},toggleSidebar:function(){$("#chart-container").position().left>0?(this.store&&this.store.uistate&&(this.store.uistate.projects_sidebar_visible=!1),$("#gantt-pane").removeClass("active-sidebar"),$("#chart-container").removeClass("active-sidebar"),$(".navbar").removeClass("active-sidebar"),$("#gantt-pane").addClass("hidden-sidebar"),$(".navbar").addClass("hidden-sidebar")):(this.store&&this.store.uistate&&(this.store.uistate.projects_sidebar_visible=!0),$("#gantt-pane").addClass("active-sidebar"),$("#chart-container").addClass("active-sidebar"),$(".navbar").addClass("active-sidebar"),$("#gantt-pane").removeClass("hidden-sidebar"),$(".navbar").removeClass("hidden-sidebar")),console.log("false akjsdhaskjhd akjshd"),this.store&&this.store.uistate&&this.store.uistate.hidden_content_sidebar?this.store.uistate.hidden_content_sidebar=!1:this.store.uistate.hideContentSidebar()},isSidebarExpanded:function(){return!!$("#chart-container").hasClass("active-sidebar")},loadProject:function(e,t){var n=this;this.projects.done((function(){var r=n.store.projects.get(e);if(!r&&!(r=n.store.projects.models.filter((function(e){return e.supplier_project_id==t}))[0]))return n.store&&n.store.user&&"standalone"==n.store.user.type?void(window.location.hash=""):(n.store.uistate.notification={message:"Looking for project",loading:!0,type:"popover"},void $.get("/suppliers/asana/projects/"+t,(function(e){var t=e;t.supplier_project_id?n.store.projects.create(t).then((function(e){n.store.uistate.notification=!1,e.id&&n.store.projects.selectProject(n.store.projects.get(e.id))})).catch((function(e){console.log("Not found!!")})):(n.store.uistate.notification=!1,n.store.uistate.help_message="Project not found")})).error((function(){this.store.uistate.help_message="Project not found"})));n.store.projects.selectProject(r)}))},loadWorkspace:function(e,t){var n=this;this.projects.done((function(){var r=n.store.projects.get(e);r||(r=n.store.projects.models.filter((function(e){return e.supplier_project_id==t}))[0])?n.store.projects.selectProject(r):n.store.uistate.help_message="Project not found"}))},loadGroup:function(e,t){var n=this;console.log("Load Group"),this.projects.done((function(){var r=n.store.projects.get(e);if(!r)return n.store&&n.store.user&&"standalone"==n.store.user.type?void(window.location.hash=""):void $.get("/suppliers/asana/groups/"+e+"/"+t,(function(e){var r=e;if(r.id){console.log("Group found"),r.remote_user_id=t,r.remote_project_id=r.id;var a=r.projects;delete r.id,delete r.projects,n.store.projects.create(r).then((function(e){if(n.store.uistate.notification=!1,e.id){var t=n.store.projects.get(e.id);t&&(t.set({projects:a}),n.store.projects.selectProject(t))}})).catch((function(e){console.log("Not found!!")}))}else n.store.uistate.help_message="Project not found"})).error((function(){this.store.uistate.help_message="Project not found"}));n.store.projects.selectProject(r)}))},gettingStarted:function(){this.store.uistate.is_mobile?"standalone"!=this.store.user.type&&(this.store.uistate.current_modal="ADD_PROJECT_POPUP"):this.store.user&&this.store.user.type&&"standalone"==this.store.user.type?this.store.uistate.current_modal="GETTING_STARTED_STANDALONE":this.store.uistate.current_modal="GETTING_STARTED"},quickGuide:function(e){this.store.uistate.quick_guide_slug=e,this.store.uistate.current_modal="QUICK_GUIDE"},renderNews:function(){var e=this.store.news.unreads();e.length>0&&$(".newsandupdates").append("<span class='label label-warning'>"+e.length+"</span>")},standaloneWizard:function(){gtag&&gtag("event","new_account",{event_category:"Standalone"}),this.signupEvent(),this.store.uistate.current_modal="STANDALONE_WIZARD",this.injectInspectlet()},loadInspectlet:function(){var e=this;this.user.done((function(){e.projects.done((function(){e.store.user&&"standalone"==e.store.user.type&&e.store.projects.models.length<=2&&e.injectInspectlet()}))}))},injectInspectlet:function(){},inbox:function(){var e=this;this.projects.then((function(){e.store.uistate.active_view="inbox"}))}});t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={Users:function(e){var t=(e=e||{}).local?e.local():_.map(App.Instances.UsersCollection.models,(function(e){return{id:e.get("id"),name:e.get("name"),type:e.get("type")}}));t.push({name:"Unassigned",id:0,type:null});var n="asana",r=e.workspace_id,a=(e.selectCallback,e.createCallback,e.closeCallback,e.createKeyword||"New Virtual User"),o=(e.object,!1);$(e.object).typeahead("destroy"),$(e.object).off("typeahead:render"),$(e.object).off("typeahead:selected"),$(e.object).off("change"),$(e.object).off("keydown"),e.remote&&(o={url:"/suppliers/"+n+"/workspaces/"+r+"/users/typeahead?virtuals=true&query=%QUERY",wildcard:"%QUERY",filter:function(e){return $(".tt-loading").remove(),e},cache:!1}),(e.workbook_id||"standalone"==e.supplier)&&(n="standalone",r=e.workbook_id,o=!1);var i=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,local:t,remote:o,identify:function(e){return e.id}});$(e.object).typeahead({highlight:!0,minLength:2,autoselect:!0,hint:!1},{name:"users",display:"name",source:i,templates:{pending:function(e){return'<div class="tt-suggestion tt-loading">Loading <i class="fa fa-spin fa-spinner"></i></div>'}},hint:!1}).on("typeahead:rendered",(function(t,n,r,o){var i=$(t.target).typeahead("val");$(e.object).parent().find(".tt-selectable:first").addClass("tt-cursor"),e.allowCreate&&(null!=n&&0!=n.length||($(".tt-open .tt-new-vu").remove(),$(".tt-open").show(),$(".tt-open .tt-dataset").append('<div class="tt-suggestion tt-selectable tt-new-vu">'+a+": <b>"+i+"</b></div>"),$(".tt-open .tt-dataset .tt-new-vu").on("click",(function(t){e.createCallback(t,i)}))))})).on("typeahead:asyncrequest",(function(e,t,n){$(".tt-open .tt-loading").remove(),$(".tt-open .tt-dataset").append('<div class="tt-suggestion tt-loading">Loading <i class="fa fa-spin fa-spinner"></i></div>')})).on("typeahead:asyncreceive",(function(e,t,n){$(".tt-open .tt-loading").remove()})).on("typeahead:selected",(function(t,n,r){e.selectCallback(n),t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()})).on("change",(function(e,t,n){})).on("keydown",(function(t,n){27!=t.keyCode&&27!=t.which||(e.createCallback=!1,t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation(),e.closeCallback(t)),13==t.keyCode&&$(e.object).parent().find(".tt-cursor").hasClass("tt-new-vu")&&e.createCallback(t,$(this).val())}))},Tags:function(e){var t,n=(e=e||{}).local?e.local():_.map(App.Variables.current_tags.models,(function(e){return{id:e.get("id"),name:e.get("name")}})),r=(e.selectCallback,e.createCallback,e.closeCallback,e.object,!1);$(e.object).typeahead("destroy"),$(e.object).off("typeahead:render"),$(e.object).off("typeahead:selected"),$(e.object).off("change"),$(e.object).off("keydown"),e.remote&&(e.workspace_id?t="/suppliers/asana/workspaces/"+e.workspace_id+"/tags/typeahead?query=%QUERY":e.workbook_id&&(t="/suppliers/standalone/workspaces/"+e.workbook_id+"/tags/typeahead?query=%QUERY"),r={url:t,wildcard:"%QUERY",filter:function(e){return $(".tt-loading").remove(),e}});var a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,local:n,remote:r,identify:function(e){return e.id}});$(e.object).typeahead({highlight:!0,minLength:2,autoselect:!0,hint:!1},{name:"tags",display:"name",source:a,templates:{pending:function(e){return'<div class="tt-suggestion tt-loading">Loading <i class="fa fa-spin fa-spinner"></i></div>'}},hint:!1}).on("typeahead:render",(function(t,n,r,a){var o=$(t.target).typeahead("val");$(e.object).parent().find(".tt-selectable:first").addClass("tt-cursor"),e.allowCreate&&(null==n||0==n.length)&&$(".tt-open .tt-new-vu").length<=0&&($(".tt-open .tt-new-vu").remove(),$(".tt-open").show(),$(".tt-open .tt-dataset").append('<div class="tt-suggestion tt-selectable tt-new-vu">New Tag: <b>'+o+"</b></div>"),$(".tt-open .tt-dataset .tt-new-vu").on("click",(function(t){e.createCallback(t,o)})))})).on("typeahead:asyncrequest",(function(e,t,n){$(".tt-open .tt-loading").remove(),$(".tt-open .tt-dataset").append('<div class="tt-suggestion tt-loading">Loading <i class="fa fa-spin fa-spinner"></i></div>')})).on("typeahead:asyncreceive",(function(e,t,n){$(".tt-open .tt-loading").remove()})).on("typeahead:selected",(function(t,n,r){e.selectCallback(n),t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()})).on("change",(function(e,t,n){})).on("keydown",(function(t,n){27!=t.keyCode&&27!=t.which||(e.createCallback=!1,t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation(),e.closeCallback(t)),13==t.keyCode&&$(e.object).parent().find(".tt-cursor").hasClass("tt-new-vu")&&e.createCallback(t,$(this).val())}))},Projects:function(e){var t=(e=e||{}).local||[],n=(e.selectCallback,e.closeCallback,e.object,!1);$(e.object).typeahead("destroy"),$(e.object).off("typeahead:render"),$(e.object).off("typeahead:selected"),$(e.object).off("change"),$(e.object).off("keydown"),e.remote&&(n={url:"/suppliers/asana/workspaces/"+e.workspace_id+"/projects/typeahead?query=%QUERY",wildcard:"%QUERY",filter:function(e){return $(".tt-loading").remove(),_.filter(e,(function(e){return"project"==e.type}))}});var r=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,local:t,remote:n,identify:function(e){return e.supplier_project_id}});$(e.object).typeahead({highlight:!0,minLength:2,autoselect:!0,hint:!1},{name:"projects",display:"name",source:r,templates:{pending:function(e){return'<div class="tt-suggestion tt-loading">Loading <i class="fa fa-spin fa-spinner"></i></div>'}},hint:!1}).on("typeahead:render",(function(e,t,n,r){})).on("typeahead:asyncrequest",(function(e,t,n){$(".tt-open .tt-loading").remove(),$(".tt-open .tt-dataset").append('<div class="tt-suggestion tt-loading">Loading <i class="fa fa-spin fa-spinner"></i></div>')})).on("typeahead:asyncreceive",(function(e,t,n){$(".tt-open .tt-loading").remove()})).on("typeahead:selected",(function(t,n,r){e.selectCallback(n),t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()})).on("change",(function(e,t,n){})).on("keydown",(function(t,n){27!=t.keyCode&&27!=t.which||(e.createCallback=!1,t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation(),e.closeCallback(t)),13==t.keyCode&&$(e.object).parent().find(".tt-cursor").hasClass("tt-new-vu")&&e.createCallback(t,$(this).val())}))},Tasks:function(e){var t=(e=e||{}).local||[];e.selectCallback,e.closeCallback,e.object,$(e.object).typeahead("destroy"),$(e.object).off("typeahead:render"),$(e.object).off("typeahead:selected"),$(e.object).off("change"),$(e.object).off("keydown");var n=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,local:t,identify:function(e){return e.id}});$(e.object).typeahead({highlight:!0,minLength:2,autoselect:!0,hint:!1},{name:"tasks",display:"name",source:n,templates:{pending:function(e){return'<div class="tt-suggestion tt-loading">Loading <i class="fa fa-spin fa-spinner"></i></div>'}},hint:!1}).on("typeahead:render",(function(e,t,n,r){})).on("typeahead:asyncrequest",(function(e,t,n){$(".tt-open .tt-loading").remove(),$(".tt-open .tt-dataset").append('<div class="tt-suggestion tt-loading">Loading <i class="fa fa-spin fa-spinner"></i></div>')})).on("typeahead:asyncreceive",(function(e,t,n){$(".tt-open .tt-loading").remove()})).on("typeahead:selected",(function(t,n,r){e.selectCallback(n),t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()})).on("change",(function(e,t,n){})).on("keydown",(function(t,n){27!=t.keyCode&&27!=t.which||(e.createCallback=!1,t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation(),e.closeCallback(t)),13==t.keyCode&&$(e.object).parent().find(".tt-cursor").hasClass("tt-new-vu")&&e.createCallback(t,$(this).val())}))}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(56),t.default={getAccess:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n=n.replace("/","_"),fetch("/files/workbooks/"+e+"/projects/"+t+"/"+n+"?write="+(r?"true":""),{method:"GET",credentials:"include"})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=N(c),d=n(6),f=n(3),p=N(n(460)),h=N(n(463)),m=N(n(278)),g=(N(n(514)),N(n(293))),b=N(n(519)),y=N(n(296)),v=N(n(297)),A=N(n(298)),w=(N(n(625)),N(n(626))),k=N(n(627)),E=(D(n(628)),N(n(338)),N(n(629))),x=(D(n(9)),D(n(267))),O=N(n(630)),C=N(n(632)),j=N(n(641));function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function T(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}N(n(419));var M=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.today_button_left_visible=!1,n.today_button_right_visible=!1,n.last_scroll_top=0,n.last_move_at=0,n.scroll_top=0,n.scroll_left=0,n.scroll_workload_top=0,n.scroll_workload_left=0,S(n,"scrolling",o,n),S(n,"workload_query",i,n),n.scrolling_timeout=!1,n.handleTodayButtons=function(){var e=n.store.uistate.today_metrics.initial_margin,t=n.store.uistate.getScrollPositions().left+1;e<t-n.store.uistate.column_width?n.today_button_left_visible||(n.today_button_left_visible=!0,$(".today-header-button").hide(),$(".today-header-button-left").show()):e>t+$(".bars-container").width()?n.today_button_right_visible||(n.today_button_right_visible=!0,$(".today-header-button").hide(),$(".today-header-button-right").show()):(n.today_button_right_visible=!1,n.today_button_left_visible=!1,$(".today-header-button").hide())},n.scrollEnd=function(){n.store.uistate.scrolling=!1,n.store.uistate.components.tasklist&&(n.store.uistate.components.tasklist.node.onscroll=n.onScrollList),n.store.uistate.components.workloadusers&&(n.store.uistate.components.workloadusers.node.onscroll=n.onScrollUsersList),n.restoreMapViewport()},n.setScrollPositions=function(){n.store.uistate.setScrollPositions({top:n.scroll_top,left:n.scroll_left})},n.restoreMapViewport=function(){n.store.uistate.map_viewport_hidden=!1},S(n,"moveCollection",s,n),n.store=n.props.store,n.components={},n.throttle=function(e){var t=!1;return function(){for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];t||(window.requestAnimationFrame((function(){e.apply(n,a),t=!1})),t=!0)}},n.onScrollBars=n.onScrollBars.bind(n),n.onScrollList=n.onScrollList.bind(n),n.onScrollWorkloadBars=n.onScrollWorkloadBars.bind(n),n.onScrollUsersList=n.onScrollUsersList.bind(n),n.moveCollection=n.moveCollection.bind(n),n.moveHeader=n.moveHeader.bind(n),n.moveList=n.moveList.bind(n),n.restoreMapViewport=_.debounce(n.restoreMapViewport,300),n.throttleList=n.throttle(n.moveList),n.throttleMoveCollection=n.throttle(n.moveCollection),n.throttleBars=n.throttle(n.moveBars),n.templateDayWeekScale=x.DayWeekScale.bind(n),n.toggleWeekNumber=n.toggleWeekNumber.bind(n),n.toggleTodayIndicator=n.toggleTodayIndicator.bind(n),n.handleWorkloadQueryChange=n.handleWorkloadQueryChange.bind(n),(0,f.reaction)((function(){return n.store.projects.selected}),(function(e){return n.selectProject(e)})),(0,f.reaction)((function(){return"folder"==(n.store.projects.selected||{}).subtype&&n.store.projects.selected.projects_in_folder.length}),(function(e){setTimeout((function(){NProgress.status||n.selectProject(e)}),100)})),(0,f.reaction)((function(){return[n.store.uistate.task_list_hidden,n.store.uistate.sidebar_width,n.store.uistate.active_view,Object.keys(n.store.uistate.columns).filter((function(e){return n.store.uistate.columns[e].active}))]}),(function(e){return n.delegateResizableSidebar()})),(0,f.reaction)((function(){return n.store.uistate.active_view}),(function(){n.today_button_right_visible=!1,n.today_button_left_visible=!1})),(0,f.reaction)((function(){return n.store.uistate.task_list_hidden}),(function(){return n.moveHeader()})),(0,f.reaction)((function(){return n.store.tasks.filtered_length}),(function(){return n.tasks_list_length=n.store.tasks.filtered_length})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){this.store.uistate.calculateSidebarWidth(),this.delegateResizableSidebar()}},{key:"handleWorkloadQueryChange",value:function(e){this.workload_query=e.target.value}},{key:"delegateResizableSidebar",value:function(){var e=this;"gantt"==this.store.uistate.active_view&&(this.store.uistate.task_list_hidden?($("#gantt-pane .sidebar-2").resizable("destroy"),$("#gantt-toolbar").resizable("destroy")):setTimeout((function(){$("#gantt-pane .sidebar-2").resizable({helper:"resizing-helper",stop:function(t,n){t.preventDefault(),t.stopPropagation();var r=n.element.width();return r>e.store.uistate.full_sidebar_width&&(r=e.store.uistate.full_sidebar_width),e.store.uistate.setSidebarWidth(r),console.log(n.originalSize.width,r),$("#gantt-pane .sidebar-2").css({width:r+"px",height:"100%"}),$(".bars-list-header").css({left:r+1-$(".bars-container").scrollLeft()+"px"}),!1},minWidth:e.store.uistate.minSidebarWidth,handles:"e"}),$("#gantt-toolbar").resizable({helper:"resizing-helper",stop:function(t,n){t.preventDefault(),t.stopPropagation();var r=n.element.width();return r>e.store.uistate.full_sidebar_width&&(r=e.store.uistate.full_sidebar_width),e.store.uistate.setSidebarWidth(r),$("#gantt-toolbar").css({width:r+"px",height:"41px"}),$(".bars-list-header").css({left:r+1-$(".bars-container").scrollLeft()+"px"}),!1},minWidth:e.store.uistate.minSidebarWidth,handles:"e"})}),0))}},{key:"selectProject",value:function(e){var t=this;if(window.App,"offline"!=this.store.mode&&"inbox"!=this.store.uistate.active_view&&e&&!NProgress.status){if(this.store.uistate.render_baseline=!1,this.store.tasks.current_tag_type="tag",this.store.tasks.current_tag=[],this.store.users.reset([]),this.store.uistate.toggleNewComments(!1),"team"==e.subtype&&this.store.uistate.changeView("workload"),"workspace"==e.type&&"overview"==this.store.uistate.active_view&&this.store.uistate.changeView("gantt"),setTimeout((function(){NProgress.done(),NProgress.configure({parent:"#gantt-pane",trickleRate:"0.1"}),NProgress.start()}),0),this.store.uistate.task_details_open=!1,this.store.users.reset([]),this.store.dates.reset([]),this.store.tasks.reset([]),this.store.tasks.resetViewport(),this.store.tasks.restore_points=[],this.store.tasks.baseline={},this.store.uistate.is_mobile&&this.store.uistate.toggleScreenResolution(),this.store.user&&"standalone"==this.store.user.type)return"group"==this.store.projects.selected.type&&"board"==this.store.uistate.active_view&&this.store.uistate.changeView("gantt"),this.store.logs.reset([]),void this.store.workbooksettings._fetch().then((function(){t.store.workbooksettings.runMigrations(),t.store.projectsettings._fetch().then((function(){t.store.users.fetch().then((function(){t.store.tags.fetch(),t.store.tasks.fetch().then((function(){var n=t.store.projectsettings.getSetting("default_view");n&&n.everyone&&t.store.uistate.changeView(n.everyone),e.afterLoadHooks(),t.store.tasks.unread_counter,t.store.uistate.showHint("columns"),t.store.logs.fetch(),NProgress.done(),t.store.uistate.openTaskOnHash(),t.store.projectsettings.simulateDatePositionsOnFolder()}))}))}))}));this.store.projectsettings._fetch().then((function(){t.store.tasks.fetch().then((function(){e.afterLoadHooks();var n=t.store.projectsettings.getSetting("default_view");n&&n.everyone&&t.store.uistate.changeView(n.everyone),t.store.uistate.showHint("columns"),t.store.uistate.showHint("project_groups"),NProgress.done(),"group"==e.type&&"team"==e.subtype?t.store.users.buildUsers([]):t.store.users.fetch()}))}))}}},{key:"onScrollBars",value:function(e){var t=this;e.target&&(this.scroll_top=e.target.scrollTop,this.scroll_left=e.target.scrollLeft,this.ticking=!1,this.store.uistate.components.tasklist&&(this.store.uistate.components.tasklist.node.onscroll=null),this.store.uistate.setScrollPositions({top:this.scroll_top,left:this.scroll_left}),this.store.uistate.components.headercalendar&&this.moveHeader({triggered_by:"onScrollBars"}),this.store.uistate.components.tasklist&&this.moveList(e),this.throttleMoveCollection(e),this.last_scroll_top=this.scroll_top,this.store.uistate.scrolling=!0,clearTimeout(this.scrolling_timeout),clearTimeout(this.scrolling_timeout_placeholders),this.scrolling||(this.scrolling=!0),this.scrolling_timeout=setTimeout((function(){t.scrollEnd(),t.store.uistate.components.workloadbars&&(t.store.uistate.components.workloadbars.node.onscroll=t.onScrollWorkloadBars)}),800),this.scrolling_timeout_placeholders=setTimeout((function(){t.scrolling=!1,t.store.uistate.scrolling=!1}),200))}},{key:"onScrollWorkloadBars",value:function(e){var t=this;if(e.target){if(this.scroll_workload_top=e.target.scrollTop,this.scroll_workload_left=e.target.scrollLeft,this.ticking=!1,this.store.uistate.components.workloadusers&&(this.store.uistate.components.workloadusers.node.onscroll=null),"gantt"==this.store.uistate.active_view&&(this.store.uistate.components.barslist.node.onscroll=null),this.store.uistate.getScrollPositions("gantt").top,this.store.uistate.setScrollPositions({active_view:"workload",top:this.scroll_workload_top,left:this.scroll_workload_left}),"gantt"==this.store.uistate.active_view){var n=this.store.uistate.getScrollPositions("gantt").top;this.store.uistate.setScrollPositions({active_view:"gantt",top:n,left:this.scroll_workload_left}),this.scroll_left=this.scroll_workload_left}this.store.uistate.components.headercalendar&&this.moveHeader({triggered_by:"onScrollWorkloadBars"}),this.store.uistate.components.workloadusers&&this.moveListUsers(e),this.store.uistate.scrolling=!0,clearTimeout(this.scrolling_timeout_workloadbars),this.scrolling||(this.scrolling=!0),this.scrolling_timeout_workloadbars=setTimeout((function(){t.scrolling=!1,t.scrollEnd(),t.store.uistate.components.barslist.node.onscroll=t.onScrollBars}),200)}}},{key:"moveHeader",value:function(e){e=e||{};var t=this.store.uistate.get_sidebar_width-this.store.uistate.getScrollPositions().left+1;this.store.uistate.components.headercalendar.node.style.left=t+"px","onScrollBars"==e.triggered_by&&this.store.uistate.components.workloadbars&&(this.store.uistate.components.workloadbars.node.onscroll=null,this.store.uistate.components.workloadbars.node.scrollLeft=this.store.uistate.getScrollPositions().left),"onScrollWorkloadBars"==e.triggered_by&&this.store.uistate.components.barslist&&(this.store.uistate.components.barslist.node.onscroll=null,this.store.uistate.components.barslist.node.scrollLeft=this.store.uistate.getScrollPositions().left),this.handleTodayButtons()}},{key:"moveList",value:function(e){this.store.uistate.components.tasklist.node.scrollTop=this.scroll_top}},{key:"moveListUsers",value:function(e){this.store.uistate.components.workloadusers.node.scrollTop=this.scroll_workload_top}},{key:"moveBars",value:function(e){this.store.uistate.components.barslist.node.scrollTop=e.target.scrollTop}},{key:"moveWorkloadBars",value:function(e){this.store.uistate.components.workloadbars.node.scrollTop=e.target.scrollTop}},{key:"onScrollList",value:function(e){var t=this;e.target&&(this.store.uistate.task_list_hidden&&!this.store.uistate.is_mobile||(this.scroll_top=e.target.scrollTop,this.store.uistate.components.barslist.node.onscroll=null,this.store.uistate.setScrollPositions({top:e.target.scrollTop,left:this.store.uistate.components.barslist.node.scrollLeft}),this.store.uistate.components.barslist&&this.moveBars(e),this.throttleMoveCollection(e),this.last_scroll_top=this.scroll_top,this.store.uistate.scrolling=!0,clearTimeout(this.scrolling_timeout),this.scrolling||(this.scrolling=!0),this.scrolling_timeout=setTimeout((function(){t.scrolling=!1,t.scrollEnd(),t.store.uistate.components.barslist.node.onscroll=t.onScrollBars}),200)))}},{key:"onScrollUsersList",value:function(e){}},{key:"componentDidUpdate",value:function(){}},{key:"toggleWeekNumber",value:function(e){this.store.uistate.show_week_number=!this.store.uistate.show_week_number}},{key:"toggleTodayIndicator",value:function(e){this.store.uistate.today_indicator=!this.store.uistate.today_indicator}},{key:"renderGanttToolbar",value:function(){return u.default.createElement(g.default,{store:this.store})}},{key:"renderWorkloadToolbar",value:function(){return u.default.createElement("div",{className:["gantt-toolbar-inner",E.default.workload_toolbar].join(" ")},"print"!=this.store.submode&&u.default.createElement("div",{className:"gantt-search btn-group pull-left",style:{marginLeft:"5px !important",padding:"6px 0"}},u.default.createElement("div",{className:E.default.search_field},u.default.createElement("i",{className:"fa-regular fa-search fa-fw"}),u.default.createElement("input",{value:this.workload_query,onChange:this.handleWorkloadQueryChange,className:E.default.input_workload_search,placeholder:"Search users...",style:{flexGrow:1,marginLeft:0}}))))}},{key:"openWorkloadAvailability",value:function(){this.store.uistate.workload_hours_height=this.store.uistate.workload_hours_last_height,this.store.uistate.trackAnalytics("Gantt:Workload Availability")}},{key:"render",value:function(){var e=this,t=this.store.uistate;return this.store.uistate.is_mobile&&"offline"==this.store.mode||this.store.uistate.is_mobile&&"offline"!=this.store.mode?this.renderMobileSnapshot():(this.store.uistate.management_app,u.default.createElement("div",null,u.default.createElement("div",{id:"gantt-pane",className:["chart-pane-active chart-pane-active-sidebar",t.active_view].join(" "),style:{bottom:"gantt"==t.active_view?t.workload_hours_height+"px":0,marginBottom:0}},"gantt"==t.active_view&&u.default.createElement(u.default.Fragment,null,0==t.workload_hours_height&&u.default.createElement("div",{id:"workload-availability",style:{left:this.store.uistate.get_sidebar_width+20+"px"},className:E.default.workload_button,onClick:function(){return e.openWorkloadAvailability()}},"Open workload availability ",u.default.createElement("i",{className:"fa fa-chevron-down fa-fw"})),u.default.createElement(k.default,{store:this.store}),u.default.createElement("div",{className:"sidebar sidebar-2",style:{width:this.store.uistate.get_sidebar_width+"px"}},u.default.createElement(m.default,{onScroll:this.onScrollList,store:this.store})),u.default.createElement(A.default,{store:this.store}),u.default.createElement(b.default,{onScroll:this.onScrollBars,store:this.store}),u.default.createElement("div",{id:"gantt-toolbar",style:{height:t.header_height+"px",width:"table"===t.active_view?"100%":this.store.uistate.get_sidebar_width+"px"}},this.renderGanttToolbar()),u.default.createElement(p.default,{store:this.store}),u.default.createElement(h.default,{store:this.store})),"workload"==t.active_view&&u.default.createElement(u.default.Fragment,null,u.default.createElement(k.default,{store:this.store}),u.default.createElement("div",{className:"sidebar sidebar-2",style:{width:this.store.uistate.workload_sidebar_width+"px"}},u.default.createElement(y.default,{query:this.workload_query,onScroll:this.onScrollUsersList,store:this.store})),u.default.createElement(A.default,{store:this.store}),u.default.createElement(v.default,{query:this.workload_query,onScroll:this.onScrollWorkloadBars,store:this.store}),u.default.createElement("div",{id:"gantt-toolbar",style:{height:t.header_height-1+"px",width:"table"===t.active_view?"100%":this.store.uistate.get_sidebar_width+"px",overflow:"visible"}},this.renderWorkloadToolbar()),u.default.createElement(p.default,{store:this.store}),u.default.createElement(h.default,{store:this.store})),"table"==t.active_view&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"sidebar sidebar-full tableview"},u.default.createElement(m.default,{onScroll:this.onScrollList,store:this.store})),u.default.createElement(A.default,{store:this.store}),u.default.createElement("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"40px",boxShadow:"0 3px 12px -3px rgba(0,0,0,.4)",zIndex:"1002"}}),u.default.createElement("div",{id:"gantt-toolbar",className:"tableview",style:{height:t.header_height-1+"px",width:"table"===t.active_view?"100%":this.store.uistate.get_sidebar_width+"px"}},this.renderGanttToolbar()),u.default.createElement(h.default,{store:this.store})),"inbox"==t.active_view&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{style:{position:"absolute",left:0,top:0,bottom:0,right:0,background:"white"}},u.default.createElement("div",{style:{width:"401px",position:"absolute",top:0,bottom:0,left:0,overflow:"hidden"}},u.default.createElement(w.default,{store:this.store})),u.default.createElement("div",{style:{left:"400px",position:"absolute",top:0,bottom:0,right:"100px",transform:"translate3d(0,0,0)",borderLeft:"1px solid #e0e0e0",borderRight:"1px solid rgb(224, 224, 224)"}},u.default.createElement(A.default,{className:"task-details",store:this.store})))),"board"==t.active_view&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{style:{position:"absolute",left:0,top:0,bottom:0,right:0,background:"rgb(243, 247, 249)"}},u.default.createElement(C.default,{store:this.store}),u.default.createElement("div",{style:{zIndex:1007,boxShadow:"-2px 0 15px rgba(0,0,0,0.2)",display:"block",background:"#ffffff",right:this.store.uistate.task_details_open?0:"-520px",position:"absolute",top:0,bottom:0,width:"500px",transform:"translate3d(0,0,0)",transition:"right 0.5s"}},u.default.createElement(A.default,{className:"task-details",store:this.store})),this.store.tasks.selected_stack.map((function(t,n){return u.default.createElement("div",{style:{zIndex:1007-(n+1),boxShadow:"-2px 0 15px rgba(0,0,0,0.2)",display:"block",background:"#ffffff",right:e.store.uistate.task_details_open?0:"-600px",position:"absolute",top:0,bottom:0,width:500+10*(n+1)+"px",transform:"translate3d(0,0,0)",transition:"right 0.5s"}})}))),u.default.createElement(h.default,{store:this.store})),"overview"==t.active_view&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{style:{position:"absolute",left:0,top:0,bottom:0,right:0,background:"#f0f0f0"}},u.default.createElement(j.default,{store:this.store})))),"gantt"==t.active_view&&t.workload_hours_height>0&&u.default.createElement(O.default,{store:this.store,onScrollUsers:this.onScrollUsersList,onScrollBars:this.onScrollWorkloadBars})))}},{key:"renderMobileSnapshot",value:function(){var e=this.store.uistate;return u.default.createElement("div",null,u.default.createElement("div",{id:"gantt-pane",className:["chart-pane-active chart-pane-active-sidebar",e.active_view].join(" "),style:{bottom:"gantt"==e.active_view?e.workload_hours_height+"px":0}},"gantt"==e.active_view&&u.default.createElement(u.default.Fragment,null,u.default.createElement(k.default,{store:this.store}),u.default.createElement("div",{className:"sidebar sidebar-2",style:{width:this.store.uistate.get_sidebar_width+"px"}},u.default.createElement(m.default,{onScroll:this.onScrollList,store:this.store})),u.default.createElement(A.default,{store:this.store}),u.default.createElement(b.default,{onScroll:this.onScrollBars,store:this.store}),u.default.createElement("div",{id:"gantt-toolbar",style:{height:e.header_height+"px",width:"table"===e.active_view?"100%":this.store.uistate.get_sidebar_width+"px"}},this.renderGanttToolbar()),u.default.createElement(p.default,{store:this.store})),"workload"==e.active_view&&u.default.createElement(u.default.Fragment,null,u.default.createElement(k.default,{store:this.store}),u.default.createElement("div",{className:"sidebar sidebar-2",style:{width:this.store.uistate.workload_sidebar_width+"px"}},u.default.createElement(y.default,{onScroll:this.onScrollUsersList,store:this.store})),u.default.createElement(A.default,{store:this.store}),u.default.createElement(v.default,{onScroll:this.onScrollWorkloadBars,store:this.store}),u.default.createElement("div",{id:"gantt-toolbar",style:{height:e.header_height-1+"px",width:"table"===e.active_view?"100%":this.store.uistate.get_sidebar_width+"px",overflow:"visible"}},this.renderWorkloadToolbar()),u.default.createElement(p.default,{store:this.store})),"list"==e.active_view&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{style:{position:"absolute",top:0,bottom:0,paddingBottom:"50px",left:0,right:0,background:"#fff"}},u.default.createElement(m.default,{onScroll:this.onScrollList,store:this.store})),u.default.createElement(A.default,{store:this.store})),"inbox"==e.active_view&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{style:{position:"absolute",left:0,top:0,bottom:0,right:0,background:"white"}},u.default.createElement(w.default,{store:this.store})),u.default.createElement(A.default,{className:"task-details",store:this.store}))))}}]),t}(),o=T(a.prototype,"scrolling",[f.observable],{enumerable:!0,initializer:function(){return!1}}),i=T(a.prototype,"workload_query",[f.observable],{enumerable:!0,initializer:function(){return""}}),s=T(a.prototype,"moveCollection",[f.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var n=e.store.tasks.viewport.position_start,r=e.store.tasks.viewport.position_end,a=e.tasks_list_length,o=e.store.tasks.viewport.position_start,i=e.store.tasks.viewport.position_end,s=(e.store.tasks.viewport.buffered_position_start,e.store.tasks.viewport.buffered_position_end,t.target);if(e.scroll_top!=e.last_scroll){e.store.tasks.viewport.position_start;var l=e.store.tasks.viewport.row_height,c=Math.ceil(s.offsetHeight/l),u=Math.floor(e.scroll_top/l);if(e.last_move_at!=u){if(e.last_scroll>e.scroll_top&&u<=n+5&&u>=0){var d=u-50>0?u-50:0,f=d+c+100;d!==o&&(e.store.tasks.viewport.position_start=d),f!==i&&(e.store.tasks.viewport.position_end=f)}else if(e.last_scroll<e.scroll_top&&u+c>=r-5){var p=u+c+50<=a+20?u+c+50:a+20,h=p-c-100>0?p-c-100:0;h!==o&&(e.store.tasks.viewport.position_start=h),p!==i&&(e.store.tasks.viewport.position_end=p)}e.store.tasks.viewport.position_start-e.store.tasks.viewport.overscan>=0?e.store.tasks.viewport.position_start-e.store.tasks.viewport.overscan!=e.store.tasks.viewport.buffered_position_start&&(e.store.tasks.viewport.buffered_position_start=e.store.tasks.viewport.position_start-e.store.tasks.viewport.overscan):e.store.tasks.viewport.position_start!=e.store.tasks.viewport.buffered_position_start&&(e.store.tasks.viewport.buffered_position_start=e.store.tasks.viewport.position_start),e.store.tasks.viewport.position_end+e.store.tasks.viewport.overscan!=e.store.tasks.viewport.buffered_position_end&&(e.store.tasks.viewport.buffered_position_end=e.store.tasks.viewport.position_end+e.store.tasks.viewport.overscan),e.last_move_at=u,e.last_scroll=e.scroll_top}}}}}),r=a))||r;t.default=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),s=n(6),l=(n(3),u(n(113))),c=u(n(462));function u(e){return e&&e.__esModule?e:{default:e}}(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e})(n(9)),n(275);var d=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reactions=[],n.store=n.props.store,n.component=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"scrollToday",value:function(){this.store.uistate.scrollToday()}},{key:"componentDidMount",value:function(){this.store.uistate.registerComponent({name:"headercalendar",node:this.component})}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){var e=this.store.uistate.get_sidebar_width-this.store.uistate.getScrollPositions().left+1;this.component.style.left=e+"px"}},{key:"updateBackground",value:function(){if(1==this.store.uistate.column_length){var e=this.store.uistate.calendar.first_month_first_date.getDay();$("body").append($("<style>.bars-list {background: url(/img/grid-bg-week-"+this.store.uistate.column_width+".png);background-position: "+-e*this.store.uistate.column_width+"px 0;}</style>"))}else $("body").append($("<style>.bars-list {background: url(/img/grid-bg-"+this.store.uistate.column_width+".png);}</style>"))}},{key:"render",value:function(){var e=this,t=this.store.uistate.calendar.total_width,n=this.store.uistate.calendar.data,r=this.store.tasks.filters.range;return i.default.createElement("div",{className:"inner-header",style:{width:t+332+"px",height:this.store.uistate.header_height+"px"}},i.default.createElement("div",{className:"main bars-list-header",style:{width:t+"px"},ref:function(t){e.component=t}},i.default.createElement(l.default,{store:this.store,type:"header"}),n.map((function(t,n){return i.default.createElement("div",{key:n,className:"month-header",style:{width:t[0].width+"px",fontSize:t[0].fontSize}},t.map((function(t,n){return"month"==t.type?i.default.createElement("div",{key:n,className:"month-header-inner",style:{position:"relative",zIndex:"1",fontSize:t.fontSize}},i.default.createElement("span",{style:{padding:"0 20px",background:7==e.store.uistate.column_length?"transparent":"#fff"}},t.text)):i.default.createElement("div",{key:n,className:["day-header","day-"+t.date].join(" "),style:{fontSize:t.fontSize,width:t.width+"px",position:"relative"}},e.store.uistate.show_week_number&&7==e.store.uistate.column_length&&t.week_number,!e.store.uistate.show_week_number&&7==e.store.uistate.column_length&&t.text,1==e.store.uistate.column_length&&t.text,1==t.dayOfWeek&&i.default.createElement("div",{style:{position:"absolute",top:"-20px",fontSize:"8px",color:"#777",width:5*e.store.uistate.column_width+"px",textAlign:"center"}},"W",t.week_number))})))})),i.default.createElement(c.default,{store:this.store,range:r}),i.default.createElement("div",{style:{clear:"both"}}),i.default.createElement("div",null)))}}]),t}())||r;t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=(a=s)&&a.__esModule?a:{default:a},c=n(6),u=n(3),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),f=(0,c.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.date=n.props.date,n.store=n.props.store,n.deleteDate=n.deleteDate.bind(n),(0,u.reaction)((function(){return n.date.tooltip_status}),(function(e){return n.toggleTooltip(e)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){this.delegateEvents()}},{key:"componentDidUpdate",value:function(){this.delegateEvents()}},{key:"toggleTooltip",value:function(e){var t=this.date;"open"==e?($(this.component).tooltip("show"),$(".special-date-"+t.start+"-"+t.end).addClass("open")):($(this.component).tooltip("hide"),$(".special-date-"+t.start+"-"+t.end).removeClass("open"))}},{key:"delegateEvents",value:function(){var e=this;this.date.not_editable||($(this.component).resizable({handles:"e,w",grid:[20,0],resize:function(t,n){$(".special-date[data-id="+e.date.id+"]").css({width:n.size.width,left:n.position.left})},stop:function(t,n){e.updateDate(n)}}),$(".ui-resizable-e .fa-caret-right",this.component).remove(),$(".ui-resizable-w .fa-caret-left",this.component).remove(),$(".ui-resizable-e",this.component).append("<i class='fa fa-caret-right'></i>"),$(".ui-resizable-w",this.component).append("<i class='fa fa-caret-left'></i>"))}},{key:"updateDate",value:function(e){var t=this.date,n=d.buildDates(e.position.left,e.size.width,{column_width:this.store.uistate.column_width,column_length:this.store.uistate.column_length,first_month_first_date:this.store.uistate.calendar.first_month_first_date}),r=n.start,a=n.end;t._save({start:r,end:a})}},{key:"deleteDate",value:function(){var e=this.date;if("workspace"!=this.store.projects.selected.type||e.on_workspace){if(e.on_workspace)return this.store.uistate.current_modal_options=e,void(this.store.uistate.current_modal="DELETE_DATES");if(!confirm("Delete this date range?"))return!1;this.date._save({disabled:!0,tooltip_status:"closed"})}else alert("Highlights can't be deleted from a User Tasks view. Please select a project instead.")}},{key:"renderHeader",value:function(){var e=this,t=this.date;if(n=moment(t.start).toDate(),r=moment(t.end).toDate(),this.props.today)var n=moment(this.store.uistate.today).toDate(),r=moment(this.store.uistate.today).toDate();var a=d.metrics(n,r,{column_width:this.store.uistate.column_width,column_length:this.store.uistate.column_length,first_month_first_date:this.store.uistate.calendar.first_month_first_date}),i=t.color?t.color:"",s=(moment(t.start).toDate(),moment(t.end).toDate(),{position:"absolute",left:a.initial_margin+"px",width:a.duration+"px",bottom:0});return l.default.createElement("div",{key:t.id,ref:function(t){e.component=t},className:["special-date-header","special-date-"+t.start+"-"+t.end].join(" "),"data-container":"body","data-trigger":"manual",title:t.name,"data-id":t.id,style:o({},s)},l.default.createElement("div",{className:["special-date-inner",i].join(" ")},1==t.is_holiday&&l.default.createElement("div",{className:"holiday"}),this.props.today&&this.store.uistate.column_width>10&&l.default.createElement("span",null,moment(this.store.uistate.today).format("D"))),!t.not_editable&&l.default.createElement("div",{className:"special-date-buttons delete-button",onClick:this.deleteDate},l.default.createElement("i",{className:"fa fa-trash"})))}},{key:"render",value:function(){if("header"==this.props.type)return this.renderHeader();var e=this.date;if(t=moment(e.start).toDate(),n=moment(e.end).toDate(),this.props.today)var t=moment(this.store.uistate.today).toDate(),n=moment(this.store.uistate.today).toDate();var r=d.metrics(t,n,{column_width:this.store.uistate.column_width,column_length:this.store.uistate.column_length,first_month_first_date:this.store.uistate.calendar.first_month_first_date});this.props.today&&(r.initial_margin=r.initial_margin+this.store.uistate.column_width/2-2,r.duration=2);var a=e.color?e.color:"",i=(moment(t).toDate(),moment(n).toDate(),{position:"absolute",left:r.initial_margin+"px",width:r.duration+"px",bottom:0});return this.props.user?(i.top=0,l.default.createElement("div",{key:e.id,className:["special-date","special-date-"+e.start+"-"+e.end].join(" "),"data-id":e.id,style:o({},i)},l.default.createElement("div",null,l.default.createElement("div",{className:"user_holiday"})))):l.default.createElement("div",{key:e.id,className:["special-date","special-date-"+e.start+"-"+e.end].join(" "),"data-id":e.id,style:o({},i)},l.default.createElement("div",{className:["special-date-inner",a].join(" ")},1==e.is_holiday&&l.default.createElement("div",{className:"holiday"})))}}]),t}())||r;t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=(a=s)&&a.__esModule?a:{default:a},c=n(6),u=(n(3),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9))),d=(0,c.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.delegated=!1,n.date=n.props.date,n.store=n.props.store,n.delete=n.delete.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){this.delegateEvents()}},{key:"componentDidUpdate",value:function(){this.delegateEvents()}},{key:"delegateEvents",value:function(){if(!this.delegated&&this.component){var e=this;$(this.component).resizable({handles:"e,w",grid:[this.store.uistate.column_width,0],resize:function(e,t){$(".range-filter").css({width:t.size.width,left:t.position.left})},stop:function(t,n){e.updateDate(n)}}),$(".ui-resizable-e .fa-caret-right",this.component).remove(),$(".ui-resizable-w .fa-caret-left",this.component).remove(),$(".ui-resizable-e",this.component).append("<i class='fa fa-caret-right'></i>"),$(".ui-resizable-w",this.component).append("<i class='fa fa-caret-left'></i>"),$(".ui-resizable-w",this.component).css({left:"-7px"}),$(".ui-resizable-e",this.component).css({right:"-5px"}),$(".ui-resizable-w .fa",this.component).css({color:"#d43812 !important"}),$(".ui-resizable-e .fa",this.component).css({color:"#d43812 !important"}),this.delegated=!0}}},{key:"updateDate",value:function(e){this.store.tasks.filters.range;var t=u.buildDates(e.position.left,e.size.width+4,{column_width:this.store.uistate.column_width,column_length:this.store.uistate.column_length,first_month_first_date:this.store.uistate.calendar.first_month_first_date}),n=t.start,r=t.end;this.store.tasks.filters.range={start:n,end:r}}},{key:"delete",value:function(){this.store.tasks.filters.range={}}},{key:"render",value:function(){var e=this,t=this.store.tasks.filters.range;if(!t||!t.start||!t.end)return this.delegated=!1,null;var n=u.metrics(t.start,t.end,{column_width:this.store.uistate.column_width,column_length:this.store.uistate.column_length,first_month_first_date:this.store.uistate.calendar.first_month_first_date}),r=(moment(t.start).toDate(),moment(t.end).toDate(),{position:"absolute",left:n.initial_margin+"px",width:n.duration+"px",bottom:0});return l.default.createElement("div",{ref:function(t){e.component=t},className:["range-filter","special-date-header","special-date-"+t.start+"-"+t.end].join(" "),"data-container":"body","data-trigger":"hover",title:"Range Filter",style:o({},r)},l.default.createElement("div",{style:{background:"transparent"},className:["special-date-inner"].join(" ")}),l.default.createElement("div",{style:{display:"block",top:"3px",right:"2px"},className:"special-date-buttons delete-button",onClick:this.delete},l.default.createElement("i",{className:"fa fa-trash"})))}}]),t}())||r;t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=v(o),s=n(6),l=(n(3),v(n(464))),c=v(n(466)),u=(v(n(467)),v(n(468))),d=v(n(469)),f=v(n(471)),p=v(n(474)),h=v(n(475)),m=v(n(476)),_=v(n(477)),g=v(n(478)),b=v(n(479)),y=v(n(480));function v(e){return e&&e.__esModule?e:{default:e}}var A=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.store.tasks;return"print"==this.store.submode?null:i.default.createElement("div",null,e.sort_options.sort_by_local&&i.default.createElement(l.default,{store:this.store}),Object.keys(e.baseline).length>0&&!this.store.uistate.review_rectify&&i.default.createElement(c.default,{store:this.store}),this.store.uistate.review_rectify&&i.default.createElement(g.default,{store:this.store}),this.store.uistate.notification&&!this.store.uistate.notification.type&&i.default.createElement(h.default,{store:this.store},this.store.uistate.notification.message,this.store.uistate.notification.loading&&i.default.createElement("span",null,"  ",i.default.createElement("i",{className:"fa fa-spin fa-spinner"}))),this.store.uistate.chart_notification&&i.default.createElement(b.default,{store:this.store},this.store.uistate.chart_notification.icon&&i.default.createElement("span",{style:{marginRight:"10px"}},i.default.createElement("i",{className:"fa "+this.store.uistate.chart_notification.icon})),this.store.uistate.chart_notification.message),this.store.uistate.notification&&"popover"==this.store.uistate.notification.type&&i.default.createElement(m.default,{store:this.store},this.store.uistate.notification.message,this.store.uistate.notification.loading&&i.default.createElement("span",null,"  ",i.default.createElement("i",{className:"fa fa-spin fa-spinner"}))),this.store.uistate.help_message&&i.default.createElement(_.default,{store:this.store},this.store.uistate.help_message),("gantt"==this.store.uistate.active_view||"workload"==this.store.uistate.active_view)&&i.default.createElement(u.default,{store:this.store}),this.store.uistate.logs_visible&&i.default.createElement(d.default,{store:this.store}),this.store.uistate.new_comments_visible&&i.default.createElement(f.default,{store:this.store}),"gantt"==this.store.uistate.active_view&&this.store.uistate.map_active&&this.store.projects.selected&&i.default.createElement(y.default,{store:this.store}),this.store.uistate.connected_users_visible&&i.default.createElement(p.default,{store:this.store}))}}]),t}())||r;t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=d(i),l=n(6),c=n(3),u=d(n(465));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var p=(0,l.observer)((f((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.sort=n.sort.bind(n),n.manual=n.manual.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){setTimeout((function(){$("#autosort-message .as-content .text").hide(),$("#autosort-message").removeClass("expanded"),$("#autosort-message").addClass("toggleEnabled")}),5e3)}},{key:"sort",value:function(){this.store.tasks.sort_options.sort_by_local=!1,this.store.tasks.sort_options.sort_by_date=!0,this.store.tasks.sort_options.keep_tasks_sorted=!0}},{key:"manual",value:function(){this.store.tasks.sort_options.sort_by_local=!1,this.store.tasks.sort_options.sort_by_date=!1,this.store.tasks.sort_options.keep_tasks_sorted=!1}},{key:"render",value:function(){return this.store.tasks,this.store.tasks,"offline"==this.store.mode?null:s.default.createElement("div",{id:"",className:["notification animated fadeInLeft active expanded",u.default.white_popup].join(" "),style:{display:"block"}},"Tasks are not sorted anymore. When you're ready:",s.default.createElement("div",{style:{textAlign:"center",marginTop:"6px"}},s.default.createElement("button",{onClick:this.manual,className:["btn btn-mini btn-flat",u.default.flat_yellow_button].join(" ")},"Keep manual order"),"  ",s.default.createElement("button",{onClick:this.sort,className:["btn btn-flat btn-mini",u.default.flat_blue_button].join(" ")},"Sort by date")))}}]),t}()).prototype,"sort",[c.action],Object.getOwnPropertyDescriptor(a.prototype,"sort"),a.prototype),f(a.prototype,"manual",[c.action],Object.getOwnPropertyDescriptor(a.prototype,"manual"),a.prototype),r=a))||r;t.default=p},function(e,t,n){e.exports={white_popup:"gK927dsTy38CAMwYgRvNV",flat_white_button:"_3EvXjgAXQAOorPu56EPl9e",flat_yellow_button:"_2VLKP-cW-o06oujuWs4S-y",flat_blue_button:"_1kf5AizPE5r8QQcxCZHGef",bordered_green_button:"d68s1OoK7V1WX_uyqCwK_"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6);n(3);var c=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.store.tasks;return this.store.tasks,s.default.createElement("div",{id:"",className:"notification notification-blue active expanded",style:{display:"block"}},s.default.createElement("div",{className:"as-content"},s.default.createElement("div",{className:"text"},"Baseline loaded"),s.default.createElement("button",{onClick:function(){e.baseline={}},className:"btn-flat btn btn-mini"}," Unload "),s.default.createElement("div",{className:"clear"})))}}]),t}())||r;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6),c=n(3),u=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reactions=[],n.store=n.props.store,n.sort=n.sort.bind(n),n.options=n.options.bind(n),n.export=n.export.bind(n),n.reactions.push((0,c.reaction)((function(){return n.store.tasks.selected}),(function(e){return n.closable(e)}))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidMount",value:function(){$(this.component).show()}},{key:"sort",value:function(){}},{key:"options",value:function(){this.store.uistate.task_details_open=!0,this.store.uistate.multiselect_toolbar_open=!1}},{key:"export",value:function(){console.log("export"),this.store.uistate.current_modal="IMAGE_EXPORT"}},{key:"closable",value:function(e){0==e.length&&(this.store.uistate.multiselect_toolbar_open=!1)}},{key:"render",value:function(){var e=this;return this.store.tasks,this.store.tasks,s.default.createElement("div",{id:"multiselect-toolbar",className:"animated fadeInLeft",ref:function(t){return e.component=t}},s.default.createElement("div",{className:"button",onClick:this.options},s.default.createElement("span",{className:"legend"},"Options"),s.default.createElement("i",{className:"fa fa-wrench"})," ",s.default.createElement("br",null)),s.default.createElement("div",{className:"button button-image-export",onClick:this.export},s.default.createElement("span",{className:"legend",style:{left:"-3px"}},"Image export"),s.default.createElement("i",{className:"fa fa-camera"})," ",s.default.createElement("br",null)))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=p(i),l=n(6),c=n(3),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),d=n(63),f=p(n(30));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=(0,l.observer)((h((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.zoomValues=[5,10,15,20,40,80,150],n.zoomValuesDisplay=["25%","50%","75%","100%","200%","400%","800%"],n.delegated_slider=!1,n.store=n.props.store,n.unloadBaseline=n.unloadBaseline.bind(n),n.sync=n.sync.bind(n),n.undo=n.undo.bind(n),n.scaleIn=n.scaleIn.bind(n),n.scaleOut=n.scaleOut.bind(n),n.expand=n.expand.bind(n),n.collapse=n.collapse.bind(n),n.multiSelect=n.multiSelect.bind(n),n.today=n.today.bind(n),n.freeEditMode=n.freeEditMode.bind(n),n.duplicateProject=n.duplicateProject.bind(n),n.expandButton=n.expandButton.bind(n),n.mouseLeave=n.mouseLeave.bind(n),n.slider=n.slider.bind(n),n.expandSlider=n.expandSlider.bind(n),n.collapser=n.collapser.bind(n),n.criticalPath=n.criticalPath.bind(n),n.toggleWeekNumber=n.toggleWeekNumber.bind(n),n.toggleTodayIndicator=n.toggleTodayIndicator.bind(n),n.sortManual=n.sortManual.bind(n),n.sortByDate=n.sortByDate.bind(n),n.adjustButtonsPositions=n.adjustButtonsPositions.bind(n),n.state={collapsed:!1},n.zoomOut=n.zoomOut.bind(n),n.zoomIn=n.zoomIn.bind(n),n.history=n.history.bind(n),n.show_connected_users=n.show_connected_users.bind(n),n.handlerCtrlZ=n.handlerCtrlZ.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handlerCtrlZ)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handlerCtrlZ)}},{key:"componentDidUpdate",value:function(e,t){t.collapsed&&(this.setState({collapsed:!1}),$(".toolbar-row").each((function(e,t){$(t).css({top:0})})))}},{key:"handlerCtrlZ",value:function(e){90==e.keyCode&&(e.ctrlKey||e.metaKey)&&(this.store.uistate.undoing=!0)}},{key:"history",value:function(){this.store.uistate.logs_visible=!this.store.uistate.logs_visible}},{key:"show_connected_users",value:function(){this.store.uistate.connected_users_visible=!this.store.uistate.connected_users_visible}},{key:"sortManual",value:function(){this.store.tasks.sort_options.sort_by_local=!1,this.store.tasks.sort_options.sort_by_date=!1,this.store.tasks.sort_options.keep_tasks_sorted=!1}},{key:"sortByDate",value:function(){this.store.tasks.sort_options.sort_by_local=!1,this.store.tasks.sort_options.sort_by_date=!0,this.store.tasks.sort_options.keep_tasks_sorted=!0}},{key:"collapser",value:function(){this.adjustButtonsPositions(),this.setState({collapsed:!this.state.collapsed})}},{key:"adjustButtonsPositions",value:function(){var e=this;this.state.collapsed?$(".toolbar-row").each((function(e,t){$(t).css({top:0})})):$(".toolbar-row").each((function(t,n){$(n).hasClass("not-collapsible")?$(n).css({zIndex:20-t}):$(n).hasClass("collapser")?$(n).css({top:e.store.uistate.header_height+60-1*$(n).offset().top+5*t+30,zIndex:20-t}):$(n).css({top:e.store.uistate.header_height+60-1*$(n).offset().top+5*t,zIndex:20-t})}))}},{key:"mouseLeave",value:function(e){$(".toolbar-row-expansion").addClass("hide")}},{key:"expandButton",value:function(e){$(".toolbar-row-expansion").addClass("hide"),$(".toolbar-row-expansion","."+e).removeClass("hide")}},{key:"criticalPath",value:function(e){this.store.uistate.showHint("critical_path"),this.store.uistate.critical_path=!this.store.uistate.critical_path}},{key:"expandSlider",value:function(e){e.persist(),this.expandButton(e),this.delegated_slider||this.slider(e)}},{key:"toggleWeekNumber",value:function(e){this.store.uistate.show_week_number=!this.store.uistate.show_week_number}},{key:"toggleTodayIndicator",value:function(e){this.store.uistate.today_indicator=!this.store.uistate.today_indicator}},{key:"changeZoom",value:function(e){var t=$(".bars-container").scrollLeft()/this.store.uistate.column_width,n=$(".bars-container").scrollTop();this.store.uistate.column_width=this.zoomValues[e],this.store.tasks.scroll_to={top:n,left:t*this.zoomValues[e]}}},{key:"slider",value:function(e){var t=this.store.uistate,n=this.store.tasks,r=this.zoomValues;new Slider("#zoomSlider",{slide:function(e){},tooltip:"hide"}),$("#zoomSlider").on("change",(function(e){var a=$(".bars-container").scrollLeft()/t.column_width,o=$(".bars-container").scrollTop();t.column_width=r[e.value.newValue],console.log({top:o,left:a*t.column_width}),n.scroll_to={top:o,left:a*t.column_width}})),this.delegated_slider=!0}},{key:"zoomOut",value:function(){var e=this.store.uistate,t=this.store.tasks,n=this.zoomValues.indexOf(e.column_width)-1;if(!(n<0)){var r=$(".bars-container").scrollLeft()/e.column_width,a=$(".bars-container").scrollTop();e.column_width=this.zoomValues[n],t.scroll_to={top:a,left:r*e.column_width}}}},{key:"zoomIn",value:function(){var e=this.store.uistate,t=this.store.tasks,n=this.zoomValues.indexOf(e.column_width)+1;if(!(n>this.zoomValues.length-1)){var r=$(".bars-container").scrollLeft()/e.column_width,a=$(".bars-container").scrollTop();e.column_width=this.zoomValues[n],t.scroll_to={top:a,left:r*e.column_width}}}},{key:"unloadBaseline",value:function(){console.log("Unload baseline NOT IMPLEMENTED")}},{key:"sync",value:function(){this.store.user&&"standalone"==this.store.user.type||(this.store.uistate.last_project_id=this.store.uistate.project_id,NProgress.start(),this.store.tasks.fetch().then((function(){NProgress.done()})))}},{key:"undo",value:function(){this.store.uistate.undoing=!0}},{key:"scaleIn",value:function(){var e=this.store.uistate,t=this.store.tasks;e.column_length=1,setTimeout((function(){t.scroll_to=t.locateScroll()}))}},{key:"scaleOut",value:function(){var e=this.store.uistate,t=this.store.tasks;e.column_length=7,setTimeout((function(){t.scroll_to=t.locateScroll()}))}},{key:"expand",value:function(){console.log("Persistance in localStorage NOT IMPLEMENTED"),this.store.tasks.filtered.forEach((function(e){e.setCollapsed(!1)}))}},{key:"collapse",value:function(){console.log("Persistance in localStorage NOT IMPLEMENTED"),this.store.tasks.filtered.forEach((function(e){e.setCollapsed(!0)}))}},{key:"multiSelect",value:function(){this.store.uistate.multiselect_active=!this.store.uistate.multiselect_active}},{key:"today",value:function(){var e=this.store.uistate,t=this.store.tasks,n=new Date,r=Math.ceil(u.daysDiff(n,e.calendar.first_month_first_date)/e.column_length-1)*e.column_width,a=e.scroll_positions[e.active_view].top;t.scroll_to={top:a,left:r}}},{key:"freeEditMode",value:function(){var e=this.store.tasks;e.sort_options.sort_by_date&&(this.store.uistate.showHint("sort_order")||(e.setLocalPositions({silent:!0}),e.freeEditMode()))}},{key:"duplicateProject",value:function(){this.store.uistate.current_modal="DUPLICATE_PROJECT"}},{key:"render",value:function(){var e=this,t=this.store.tasks,n=this.store.uistate,r=this.modules,a=this.zoomValues.indexOf(n.column_width),o=this.store.uistate.connections.length,i=this.state.collapsed,l=this.store.presence.filtered||[],c=null;return l.length>0&&(c=(this.store.users.filtered.filter((function(e){return e.user_id===l[0].user_id}))||[null])[0]),s.default.createElement("div",{id:"toolbar",className:["toolbar",i?"collapsed-toolbar":""].join(" "),onMouseLeave:this.mouseLeave,style:{top:n.header_height+1+"px"}},n.undoing&&s.default.createElement("div",{style:{background:"#ffffff",position:"absolute",top:"27px",right:"45px",width:"250px",height:"100px",borderRadius:"5px",boxShadow:"0px 0px 5px rgba(0,0,0,0.3)",zIndex:"10"}},s.default.createElement("div",{style:{height:"70px",display:"flex",borderBottom:"1px solid #efefef"}},s.default.createElement("div",{onClick:function(){return t.restoreFromPoint("undo")},style:{cursor:"pointer",minWidth:"50px",borderRight:"1px solid #efefef",boxSizing:"border-box",textAlign:"center",padding:"20px 0",fontSize:"20px"}},(t.restore_position&&t.restore_position>0||null===t.restore_position&&t.restore_points.length>0)&&s.default.createElement("span",{style:{}},s.default.createElement("i",{className:"fa fa-fw fa-undo"}),s.default.createElement("br",null),s.default.createElement("span",{style:{fontSize:"10px"}},"Undo")),(0==t.restore_points.length||0===t.restore_position)&&s.default.createElement("span",{style:{color:"#ccc"}},s.default.createElement("i",{className:"fa fa-fw fa-undo"}),s.default.createElement("br",null),s.default.createElement("span",{style:{fontSize:"10px"}},"Undo"))),s.default.createElement("div",{style:{flexGrow:1,padding:"5px",textAlign:"center"}},s.default.createElement("div",{style:{fontSize:"14px",paddingTop:"10px"}},null===t.restore_position&&s.default.createElement("span",{style:{fontSize:"12px"}},"You're on the most recent version"),null!==t.restore_position&&t.restore_position>=0&&t.restore_points[t.restore_position]&&s.default.createElement("span",null,Object.keys(t.restore_points[t.restore_position]).length," changes")),null!==t.restore_position&&t.restore_position>=0&&void 0!==t.restore_points[t.restore_position]&&s.default.createElement("span",{style:{fontSize:"8px"}},(0,f.default)(t.restore_points_timestamp[t.restore_position]).fromNow())),s.default.createElement("div",{onClick:function(){return t.restoreFromPoint("redo")},style:{cursor:"pointer",minWidth:"50px",borderLeft:"1px solid #efefef",boxSizing:"border-box",textAlign:"center",padding:"20px 0",fontSize:"20px"}},null!==t.restore_position&&t.restore_position>=0&&s.default.createElement("span",null,s.default.createElement("i",{className:"fa fa-fw fa-redo"}),s.default.createElement("br",null),s.default.createElement("span",{style:{fontSize:"10px"}},"Redo")),null===t.restore_position&&s.default.createElement("span",{style:{color:"#ccc"}},s.default.createElement("i",{className:"fa fa-fw fa-redo"}),s.default.createElement("br",null),s.default.createElement("span",{style:{fontSize:"10px"}},"Redo")))),s.default.createElement("div",{style:{height:"30px",padding:"5px",boxSizing:"border-box"}},s.default.createElement("button",{className:"btn btn-flat btn-mini pull-right btn-success",style:{marginLeft:"10px"},onClick:function(){t.restoreConfirm(),n.undoing=!1},disabled:null===t.restore_position},"Restore to this point"),s.default.createElement("button",{className:"btn btn-flat btn-mini pull-right ",onClick:function(){t.restoreCancel(),n.undoing=!1}},"Cancel")," ")),s.default.createElement("div",{className:"toolbar-row toolbar-row-highlight baseline-loading hide"},s.default.createElement("i",{className:"fa fa-spin fa-spinner"}),s.default.createElement("br",null),s.default.createElement("span",{className:"legend"},"Loading Baseline")),"print"!=this.store.submode&&s.default.createElement("div",{className:"toolbar-row toolbar-row-highlight baseline hide"},s.default.createElement("i",{className:"fa fa-clock baseline-icon"}),s.default.createElement("br",null),s.default.createElement("span",{className:"legend"},"Baseline loaded"),s.default.createElement("div",{className:"toolbar-row-expansion hide fadeInRight",style:{width:50}},s.default.createElement("div",{className:"toolbar-row-expansion-button",onClick:this.unloadBaseline},s.default.createElement("div",{className:"button-inner unloadBaseline"},s.default.createElement("i",{className:"fa fa-ban"}),s.default.createElement("br",null),s.default.createElement("span",{className:"legend"},"Unload"))))),r.inSync&&0==o&&s.default.createElement("div",{className:"toolbar-row not-collapsible inSync",style:{zIndex:1}},s.default.createElement("div",{className:"toolbar-row-icon-container",onClick:this.sync},s.default.createElement("i",{className:"fa-regular fa-cloud-check"})),s.default.createElement("span",{className:"legend legend-always-visible"},"In Sync")),r.inSync&&0!=o&&s.default.createElement("div",{className:"toolbar-row not-collapsible syncing",style:{zIndex:1}},s.default.createElement("div",{className:"toolbar-row-icon-container",style:{background:"#fff",border:"2px solid #008ACA",padding:"3px"}},s.default.createElement("img",{src:"/img/spinner.gif"})),s.default.createElement("div",{className:"legend legend-always-visible"},"Syncing   ",s.default.createElement("span",{className:"label label-info label-round"},o))),r["scale-module"]&&s.default.createElement("div",{className:"toolbar-group"},s.default.createElement(d.Tooltip,{arrow:!0,title:"Zoom In",position:"left",size:"small"},s.default.createElement("div",{title:"Zoom In","data-toggle":"tooltip","data-placement":"left",className:"toolbar-row zoom-module toolbar-group-first-item",onMouseEnter:function(){return e.expandButton("zoom-module")},onMouseLeave:this.mouseLeave},s.default.createElement("div",{className:"toolbar-row-icon-container",style:{fontSize:"15px"},onClick:this.zoomIn},"+"))),s.default.createElement("div",{className:"toolbar-row zoom-module",onMouseEnter:function(){return e.expandButton("zoom-module")},onMouseLeave:this.mouseLeave},s.default.createElement("div",{className:"toolbar-row-icon-container",style:{fontSize:"8px"}},this.zoomValuesDisplay[a])),s.default.createElement(d.Tooltip,{arrow:!0,title:"Zoom Out",position:"left",size:"small"},s.default.createElement("div",{title:"Zoom Out","data-toggle":"tooltip","data-placement":"left",className:"toolbar-row zoom-module",onMouseEnter:function(){return e.expandButton("zoom-module")},onMouseLeave:this.mouseLeave},s.default.createElement("div",{className:"toolbar-row-icon-container",style:{fontSize:"15px"},onClick:this.zoomOut},"-")))),this.store.user&&"standalone"==this.store.user.type&&l.length>0&&c&&s.default.createElement(d.Tooltip,{arrow:!0,title:"Connected users...",position:"left",size:"small"},s.default.createElement("div",{title:"Users working in this project","data-toggle":"tooltip","data-placement":"left",className:"toolbar-row"},s.default.createElement("div",{className:"toolbar-row-icon-container",style:{height:"20px"},onClick:this.show_connected_users},s.default.createElement("div",null,s.default.createElement("div",{className:"cell cell-photo",style:{paddingLeft:"10px",paddingRight:"10px",float:"none",padding:0,borderRadius:"15px",width:"24px",marginTop:"-2px",marginLeft:"-2px"}},c.photo&&s.default.createElement("a",{href:"#"},s.default.createElement("img",{src:c.photo.image_60x60,className:"assigned-photo"})),!c.photo&&s.default.createElement("a",{href:"#"},s.default.createElement("i",{style:{fontSize:"16px"},className:"fa fa-user-circle"}))),1===l.length&&s.default.createElement("span",{className:"label label-info label-round",style:{position:"absolute",top:"29px",right:"3px",width:"10px",height:"10px",padding:"0",backgroundColor:"#46b302"}}," "),l.length>1&&s.default.createElement("span",{className:"label label-info label-round",style:{position:"absolute",top:"25px",right:"-2px",backgroundColor:"#46b302"}},l.length))),s.default.createElement("div",null,s.default.createElement("span",{className:"legend"},"Connected users")))))}},{key:"modules",get:function(){var e=this.store.tasks,t=this.store.projects,n=this.store.uistate;return{inSync:"offline"!=this.store.mode,sort:"gantt"==n.active_view&&"offline"!=this.store.mode,undo:"offline"!=this.store.mode,"zoom-module":!0,"scale-module":!0,"subtasks-module":!1,"selector-button":"gantt"==n.active_view,freeEditMode:"gantt"==n.active_view&&e.sort_options.sort_by_date,today:!1,"critical-path":"gantt"==n.active_view&&t.selected&&"project"==t.selected.type,duplicate:"gantt"==n.active_view&&t.selected&&"project"==t.selected.type&&"offline"!=this.store.mode,map:"gantt"==n.active_view}}}]),t}()).prototype,"modules",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"modules"),a.prototype),h(a.prototype,"expand",[c.action],Object.getOwnPropertyDescriptor(a.prototype,"expand"),a.prototype),h(a.prototype,"collapse",[c.action],Object.getOwnPropertyDescriptor(a.prototype,"collapse"),a.prototype),r=a))||r;t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(470)));function c(e){return e&&e.__esModule?e:{default:e}}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.close=n.close.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"close",value:function(){this.store.uistate.logs_visible=!1,this.store.projects.selected.set_last_seen_by(store.user.id)}},{key:"render",value:function(){var e=this,t=Object.keys(this.store.logs.filtered_by_task).map((function(t){return e.store.logs.filtered_by_task[t]}));return this.store.tasks,window.logs=t,i.default.createElement("div",{id:"logs",className:"animated fadeInLeft"},i.default.createElement("div",{className:"header"},i.default.createElement("div",{className:"close",onClick:this.close},i.default.createElement("i",{className:"fa fa-times"})),"Since you've been gone"),i.default.createElement("ul",{className:"unstyled tasks"},t.map((function(t){return i.default.createElement(l.default,{key:t.id,store:e.store,log:t})}))))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),f(n(276)));function f(e){return e&&e.__esModule?e:{default:e}}var p,h,m,_,g,b=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"detailsOpen",a=i,(r=o)&&Object.defineProperty(n,"detailsOpen",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.log=i.props.log,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.store.tasks.get(this.log.task_id);if(!t)return null;var n=this.log.changes.map((function(e){return e.type})),r=-1!=n.indexOf("deleted")?"deleted":-1!=n.indexOf("created")?"created":-1!=n.indexOf("commented")?"commented":"changed",a={deleted:"label-danger",created:"label-info",changed:"",commented:"label-info"}[r],o={deleted:"Deleted",created:"New",changed:"Changed",commented:"Commented"}[r];this.log.changes.forEach((function(e){e.changes.progress&&"100%"==e.changes.progress.changed_to&&(a="label-success",o="Completed")}));var i={estimated_hours:"Estimated Hours",progress:"Progress",due:"Due date",start:"Start",user:"User",name:"Name",priority_user:"Priority",actual_cost:"Actual cost",estimated_cost:"Estimated cost",risk:"Risk",actual_hours:"Actual hours"};return l.default.createElement("li",{className:["logitem",this.detailsOpen?"expanded":""].join(" "),key:this.log.task_id,onClick:function(){e.detailsOpen=!e.detailsOpen}},l.default.createElement("div",{className:"logitem-inner"},t.name),l.default.createElement("span",{className:["label label-flat",a].join(" ")},o),this.detailsOpen&&"Completed"!=o&&l.default.createElement("div",null,l.default.createElement("div",{style:{marginTop:"10px",fontWeight:"700"}},"Change history"),l.default.createElement("ul",{className:"unstyled",style:{marginLeft:"20px",fontSize:"10px"}},this.log.changes.map((function(t,n){return"created"==t.type||"deleted"==t.type?null:"commented"==t.type&&e.store.users.findById(t.user_id)?l.default.createElement("li",{key:n},l.default.createElement("div",{style:{whiteSpace:"normal"}},l.default.createElement("b",null,e.store.users.findById(t.user_id).name," wrote on ",moment(e.log.date).format("DD MMM"),":"),l.default.createElement("br",null),l.default.createElement("span",{className:"changed_content"},'"',t.changes.message.changed_to,'"'))):l.default.createElement("li",{key:n},Object.keys(t.changes).map((function(n,r){return void 0===i[n]?null:"name"==n?l.default.createElement("div",{key:r,style:{whiteSpace:"normal"}},l.default.createElement("b",null,moment(e.log.date).format("DD MMM"),":",l.default.createElement("span",{className:""}," Name changed"))," ",l.default.createElement("br",null),l.default.createElement("span",{className:"changed_content",dangerouslySetInnerHTML:{__html:d.default.diff(t.changes[n].previous,t.changes[n].changed_to)}})):"due"==n||"start"==n?l.default.createElement("div",{key:r,style:{whiteSpace:"normal"}},l.default.createElement("b",null,moment(e.log.date).format("DD MMM"),":",l.default.createElement("span",{className:""}," ",i[n]," changed"))," ",l.default.createElement("br",null),l.default.createElement("span",{className:"changed_content"},'From "',""!=t.changes[n].previous?moment(t.changes[n].previous).format("MMM DD YYYY"):"",'" to "',""!=t.changes[n].changed_to?moment(t.changes[n].changed_to).format("MMM DD YYYY"):"",'"')):"user"==n?l.default.createElement("div",{key:r,style:{whiteSpace:"normal"}},l.default.createElement("b",null,moment(e.log.date).format("DD MMM"),":",l.default.createElement("span",{className:""}," ",i[n]," changed"))," ",l.default.createElement("br",null),l.default.createElement("span",{className:"changed_content"},'From "',""!=t.changes[n].previous?t.changes[n].previous.name:"",'" to "',""!=t.changes[n].changed_to?t.changes[n].changed_to.name:"",'"')):"assignee"!=n?l.default.createElement("div",{key:r,style:{whiteSpace:"normal"}},l.default.createElement("b",null,moment(e.log.date).format("DD MMM"),":",l.default.createElement("span",{className:""}," ",i[n]," changed")),l.default.createElement("br",null)," ",l.default.createElement("span",{className:"changed_content"},'From "',t.changes[n].previous,'" to "',t.changes[n].changed_to,'"')):void 0})))})))))}}]),t}(),p=a.prototype,h="detailsOpen",m=[u.observable],_={enumerable:!0,initializer:function(){return!1}},g={},Object.keys(_).forEach((function(e){g[e]=_[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),void 0===(g=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),g)).initializer&&(Object.defineProperty(p,h,g),g=null),o=g,r=a))||r;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=h(s),c=n(6),u=n(3),d=h(n(472)),f=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),h(n(277))),p=n(63);function h(e){return e&&e.__esModule?e:{default:e}}var m,_,g,b,y,v=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.reactions=[],n=i,"tasks",a=i,(r=o)&&Object.defineProperty(n,"tasks",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.close=i.close.bind(i),console.log("Building comments"),i.tasks=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.store.tasks.filtered_uncollapsed.filter((function(e){return e.is_unread})))),i.reactions.push((0,u.reaction)((function(){return i.store.tasks.unread_counter}),(function(){i.store.tasks.filtered_uncollapsed.filter((function(e){return e.is_unread})).forEach((function(e){-1==i.tasks.indexOf(e)&&i.tasks.push(e)}))}))),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"close",value:function(){this.store.uistate.toggleNewComments()}},{key:"markAsRead",value:function(){this.store.tasks.markAllAsRead(),this.close()}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:["animated fadeInLeft",f.default.comments].join(" ")},l.default.createElement("div",{className:f.default.comments_inner_wrapper,style:{background:"#fff",borderLeft:"1px solid #cccc"}},l.default.createElement("div",{className:f.default.header},l.default.createElement("div",{className:f.default.title},"Unread Comments"),this.tasks.length>0&&l.default.createElement("div",{className:f.default.actions,onClick:function(){return e.markAsRead()}},l.default.createElement(p.Tooltip,{arrow:!0,title:"Mark all as read",position:"bottom",size:"small",style:{display:"flex"}},l.default.createElement("button",{className:"btn btn-flat btn-small"},l.default.createElement("i",{className:"fa fa-check"})))),0==this.tasks.length&&l.default.createElement("div",{className:f.default.actions},l.default.createElement(p.Tooltip,{arrow:!0,title:"Your inbox is empty!",position:"bottom",size:"small",style:{display:"flex"}},l.default.createElement("button",{className:"btn btn-flat btn-small",style:{color:"#cccccc"}},l.default.createElement("i",{className:"fa fa-check"})))),l.default.createElement("div",{className:f.default.actions,onClick:this.close},l.default.createElement(p.Tooltip,{arrow:!0,title:"Close",position:"bottom",size:"small",style:{display:"flex"}},l.default.createElement("button",{className:"btn btn-flat btn-small"},l.default.createElement("i",{className:"fa fa-times"}))))),l.default.createElement("ul",{className:"unstyled tasks"},this.tasks.map((function(t){return l.default.createElement(d.default,{key:t.id,store:e.store,task:t})})))))}}]),t}(),m=a.prototype,_="tasks",g=[u.observable],b={enumerable:!0,initializer:function(){return[]}},y={},Object.keys(b).forEach((function(e){y[e]=b[e]})),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),void 0===(y=g.slice().reverse().reduce((function(e,t){return t(m,_,e)||e}),y)).initializer&&(Object.defineProperty(m,_,y),y=null),o=y,r=a))||r;t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=h(l),u=n(6),d=n(3),f=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),h(n(276)),h(n(277))),p=h(n(149));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"detailsOpen",o,n),m(n,"is_unread",i,n),n.store=n.props.store,n.log=n.props.log,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"toggle",value:function(){var e=this.props.task;this.is_unread=!1,this.store.tasks.selected.forEach((function(e){return e.selected=!1})),e.selected=!0,this.store.uistate.task_details_open=!0}},{key:"render",value:function(){var e=this,t=this.props.task,n=this.store.users.findById(t.last_changed_by);return t?c.default.createElement("li",{className:[f.default.comment,this.is_unread?"":f.default.read,"animated fadeInRight"].join(" "),key:t.id,onClick:function(){return e.toggle()}},c.default.createElement("div",{className:f.default.avatar},c.default.createElement(p.default,{size:20,users:[n]})),c.default.createElement("div",null,c.default.createElement("i",{className:"fa-regular fa-message"})),c.default.createElement("div",{className:f.default.content},c.default.createElement("div",{className:f.default.user_name},n.name," commented on"),c.default.createElement("div",{className:f.default.task_name},t.name))):null}}]),t}(),o=_(a.prototype,"detailsOpen",[d.observable],{enumerable:!0,initializer:function(){return!1}}),i=_(a.prototype,"is_unread",[d.observable],{enumerable:!0,initializer:function(){return!0}}),r=a))||r;t.default=g},function(e,t,n){e.exports={avatar_container:"_3nva2HNzZABvVQiNTw32Nj"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6);n(3),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var c=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.close=n.close.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"close",value:function(){this.store.uistate.connected_users_visible=!1}},{key:"render",value:function(){var e=this.store.presence.filtered.map((function(e){return e.user_id})),t={};return this.store.users.filtered.forEach((function(e){return t[e.user_id]=e})),s.default.createElement("div",{id:"logs",className:"animated fadeInLeft"},s.default.createElement("div",{className:"header"},s.default.createElement("div",{className:"close",onClick:this.close},s.default.createElement("i",{className:"fa fa-times"})),"Users working on this project"),s.default.createElement("ul",{className:"unstyled tasks"},e.map((function(e){return s.default.createElement("div",{className:"connected_user"},s.default.createElement("div",{className:"cell cell-photo",style:{verticalAlign:"middle",display:"inline-block",paddingLeft:"10px",paddingRight:"10px",float:"none",padding:0,borderRadius:"15px",width:"24px",marginLeft:"-2px"}},t[e].photo&&s.default.createElement("a",{href:"#"},s.default.createElement("img",{src:t[e].photo.image_60x60,className:"assigned-photo"})),!t[e].photo&&s.default.createElement("a",{href:"#"},s.default.createElement("i",{style:{fontSize:"16px"},className:"fa fa-user-circle"}))),s.default.createElement("div",{style:{display:"inline-block",marginLeft:"10px"}},t[e].name||e))}))))}}]),t}())||r;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6);n(3);var c=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.store.tasks,this.store.tasks,s.default.createElement("div",{id:"",className:"notification notification-blue active expanded",style:{display:"block"}},s.default.createElement("div",{className:"as-content"},s.default.createElement("div",{className:"text"},this.props.children)))}}]),t}())||r;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.store.projects.selected,this.store.tasks.to_rectify,this.store.tasks,i.default.createElement(l.default,{width:"400",height:"500",closeButton:!1,successButton:!1,style:{backgroundColor:"rgba(22,144,204,1)",color:"#ffffff"},store:this.store},i.default.createElement("div",null,i.default.createElement("div",{className:"one-column-fields"},this.props.children)))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.close=n.close.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){}},{key:"close",value:function(){this.store.uistate.help_message=""}},{key:"render",value:function(){return this.store.projects.selected,this.store.tasks.to_rectify,this.store.tasks,i.default.createElement(l.default,{width:"400",height:"500",closeButton:"Close",closeButtonCallback:this.close,successButton:!1,store:this.store},i.default.createElement("div",null,i.default.createElement("div",{className:"one-column-fields"},this.props.children)))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),h=(o=p)&&o.__esModule?o:{default:o},m=n(6),_=n(3),g=(0,m.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.save=n.save.bind(n),n.dismiss=n.dismiss.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),f(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"save",value:function(){this.store.tasks.saveTemporals(),this.finish()}},{key:"dismiss",value:function(){console.log("Dismissing");var e=[];this.store.tasks.filtered.forEach((function(t){t.original&&(t.original.start||t.original.due)&&(t.temporal=null,t.start=t.original.start,t.due=t.original.due,delete t.original,e.push(t))})),this.store.tasks.filtered.forEach((function(e){e.temporal&&(e.temporal.start||e.temporal.due)&&(e.temporal=null)})),e.forEach((function(e){e.save()})),this.finish()}},{key:"finish",value:function(){this.store.uistate.review_rectify=!1,$(".light-cover").hide(),this.store.tasks.baseline={}}},{key:"render",value:function(){return this.store.tasks,this.store.tasks,h.default.createElement("div",{id:"inline-prompt",style:{display:"block",zIndex:1002},className:"rectify-menu animated fadeInLeft"},h.default.createElement("div",{className:"button",style:{width:"100%"}},h.default.createElement("span",{style:{fontSize:13}},"Please review the changes"),h.default.createElement("br",null),h.default.createElement("button",{style:{marginBottom:"5px"},className:"btn btn-small btn-success btn-save-rectify",onClick:this.save},"Save changes"),"  ",h.default.createElement("button",{style:{marginBottom:"5px"},className:"btn btn-small btn-danger btn-dismiss-rectify",onClick:this.dismiss},"Dismiss changes")),h.default.createElement("div",{className:"pull-right"}))}}]),t}(),i=a.prototype,s="dismiss",l=[_.action],c=Object.getOwnPropertyDescriptor(a.prototype,"dismiss"),u=a.prototype,d={},Object.keys(c).forEach((function(e){d[e]=c[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(i,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(i,s,d),d=null),r=a))||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6);n(3);var c=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.store.uistate.chart_notification=!1}),4e3);var t=120,n=900,r=void 0;document.getElementsByClassName("bars-container")[0]&&(r=(n=document.getElementsByClassName("bars-container")[0].getClientRects()[0].width)-240),r>500&&(t=(n-(r=500))/2),this.node.style.width=r+"px",this.node.style.right=t+"px"}},{key:"render",value:function(){var e=this;return this.store.tasks,this.store.tasks,s.default.createElement("div",{id:"",className:"chart-notification notification active expanded",style:{display:"block"},ref:function(t){return e.node=t}},s.default.createElement("div",{className:"as-content"},s.default.createElement("div",{className:"text"},this.props.children)))}}]),t}())||r;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=f(o),s=n(6),l=n(3),c=f(n(481)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),d=f(n(482));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,(0,l.reaction)((function(){return n.store.uistate.map_viewport_hidden}),(function(){return console.log("Map viewport hidden",n.store.uistate.map_viewport_hidden)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;$("#map-viewport").draggable({start:function(){$(".bars-container").css("pointer-events","none")},drag:function(e,t){},containment:"parent",stop:function(t,n){$(".bars-container").css("pointer-events","auto"),e.box&&($(".bars-container").scrollTop(n.position.top/e.box.scale.y),$(".bars-container").scrollLeft(n.position.left/e.box.scale.x+e.viewport.span))}})}},{key:"canvasDates",value:function(){var e=moment().format("YYYY-MM-DD"),t="1";this.store.tasks.filtered.forEach((function(n){n.start&&n.start<e&&(e=n.start),n.container&&n.container.start<e&&(e=n.container.start),n.due&&"null"!=n.due&&n.due>t&&(t=n.due),n.container&&n.container.due>t&&(t=n.container.due)})),"1"===t&&e&&(t=e);var n=this.store.uistate.column_width*Math.ceil(u.daysDiff(t,e)/Number(this.store.uistate.column_length)),r=(this.store.tasks.viewport.row_height+10)*this.store.tasks.filtered.length;return n<$(".bars-container").width()&&(n=$(".bars-container").width()),r<$(".bars-container").height()&&(r=$(".bars-container").height()),{first_start:e,last_due:t,width:n,height:r}}},{key:"measureBox",value:function(e,t){var n={};return(n=(e=e||200)>(t=t||200)?{height:200,width:t/e*200,scale:{y:200/e,x:t/e*200/t}}:{width:200,height:e/t*200,scale:{y:e/t*200/e,x:200/t}}).height<140&&(n={width:400,height:e/t*400,scale:{y:e/t*400/e,x:400/t}}),n}},{key:"measureViewport",value:function(e,t){var n=u.metrics(e.first_start,e.last_due,{first_month_first_date:this.store.uistate.calendar.first_month_first_date,column_width:this.store.uistate.column_width,column_length:this.store.uistate.column_length}),r=store.uistate.scroll_positions.gantt.left-n.initial_margin,a=$(".bars-container").width()*t.scale.x||50,o=$(".bars-container").height()*t.scale.y||50,i=store.uistate.scroll_positions.gantt.top*t.scale.y;return r=r<0?0:r,r*=t.scale.x,i+o>t.height&&(i=t.height-o),r+a>t.width&&(r=t.width-a),{left:r,top:i,width:a,height:o,span:n.initial_margin}}},{key:"render",value:function(){var e=this,t=(this.store.tasks,this.store.tasks,this.store.uistate.calendar.total_width,this.canvasDates()),n=t.height,r=t.width;this.box=this.measureBox(n,t.width);var a=this.box,o=this.measureViewport(t,a);return this.viewport=o,i.default.createElement("div",{id:"map",className:"",style:{zIndex:"1010",display:"block",position:"absolute",bottom:"20px",right:"100px",width:a.width+10+"px",height:a.height+"px",background:"rgba(255,255,255,0.75)",border:"2px solid rgb(134,134,134)",borderRadius:"3px"}},i.default.createElement("svg",{width:a.width,height:a.height,viewBox:"0 0 "+r+" "+n},this.store.tasks.filtered.map((function(n,r){return i.default.createElement(c.default,{task:n,first_start:t.first_start,store:e.store,index:r,key:n.id?n.id:n.optimisticId()})}))),i.default.createElement(d.default,{store:this.store,canvas_dates:t,box:a}),i.default.createElement("div",{id:"map-close",style:{cursor:"pointer",position:"absolute",right:"-10px",top:"-10px",background:"#fff",padding:"0px 2px",color:"#666",borderRadius:"20px",border:"2px solid #666",lineHeight:"13px"},onClick:function(){return e.store.uistate.toggleMap()}},i.default.createElement("i",{className:"fa fa-times"})))}}]),t}())||r;t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6),c=(n(3),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9))),u=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.task,t=(this.props.index,this.props.store.tasks.viewport.row_height),n=this.props.index*t+2,r=t-2;if(!e.start&&!e.container&&!e.container.start)return null;var a=c.getDateSafely(e.start),o=c.getDateSafely(e.due);e.container&&e.container.start&&(a=c.getDateSafely(e.container.start),o=c.getDateSafely(e.container.due));var i=c.metrics(a,o,{first_month_first_date:this.props.first_start,column_width:this.store.uistate.column_width,column_length:this.store.uistate.column_length});return s.default.createElement("rect",{x:i.initial_margin,y:n,width:i.duration,height:r,style:{fill:"#008ACA"}})}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),u=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"measureViewport",value:function(e,t){var n=this.store,r=c.metrics(e.first_start,e.last_due,{first_month_first_date:this.store.uistate.calendar.first_month_first_date,column_width:this.store.uistate.column_width,column_length:this.store.uistate.column_length}),a=n.uistate.scroll_positions.gantt.left-r.initial_margin,o=$(".bars-container").width()*t.scale.x||50,i=$(".bars-container").height()*t.scale.y||50,s=n.uistate.scroll_positions.gantt.top*t.scale.y;return a=a<0?0:a,a*=t.scale.x,s+i>t.height&&(s=t.height-i),a+o>t.width&&(a=t.width-o),{left:a,top:s,width:o,height:i,span:r.initial_margin}}},{key:"render",value:function(){var e=this.measureViewport(this.props.canvas_dates,this.props.box);return s.default.createElement("div",{style:{position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"hidden"}},s.default.createElement("div",{id:"map-viewport",style:{cursor:"pointer",border:"2px solid red",background:"rgba(0,0,0,0.1)",position:"absolute",left:e.left+"px",width:e.width+"px",height:e.height+"px",top:e.top+"px"}}))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";var r=n(484);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var i=a.apply(null,r);i&&e.push(i)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.r(t),n.d(t,"IGNORE_CLASS_NAME",(function(){return h}));var r=n(0),a=n(15);function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var l,c,u=(void 0===l&&(l=0),function(){return++l}),d={},f={},p=["touchstart","touchmove"],h="ignore-react-onclickoutside";function m(e,t){var n=null;return-1!==p.indexOf(t)&&c&&(n={passive:!e.props.preventDefault}),n}t.default=function(e,t){var n,l,p=e.displayName||e.name||"Component";return l=n=function(n){var l,h;function _(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw new Error("WrappedComponent: "+p+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(a.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!=typeof document&&!f[r._uid]){void 0===c&&(c=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),f[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),d[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&s(e,t,n))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,d[r._uid],m(i(r),e))}))}},r.disableOnClickOutside=function(){delete f[r._uid];var e=d[r._uid];if(e&&"undefined"!=typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,m(i(r),t))})),delete d[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=u(),r}h=n,(l=_).prototype=Object.create(h.prototype),l.prototype.constructor=l,o(l,h);var g=_.prototype;return g.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},g.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+p+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},g.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},g.componentWillUnmount=function(){this.disableOnClickOutside()},g.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(r.createElement)(e,n)},_}(r.Component),n.displayName="OnClickOutside("+p+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:h,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},l}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r;if(!Object.keys){var a=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=n(281),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=i(e),s=t&&"[object String]"===o.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=c&&n;if(s&&e.length>0&&!a.call(e,0))for(var m=0;m<e.length;++m)f.push(String(m));if(r&&e.length>0)for(var _=0;_<e.length;++_)f.push(String(_));else for(var g in e)h&&"prototype"===g||!a.call(e,g)||f.push(String(g));if(l)for(var b=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}}(e),y=0;y<u.length;++y)b&&"constructor"===u[y]||!a.call(e,u[y])||f.push(u[y]);return f}}e.exports=r},function(e,t,n){"use strict";var r=n(212)(),a=n(283)("Object.prototype.toString"),o=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===a(e)},i=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==a(e)&&"[object Function]"===a(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=i,e.exports=s?o:i},function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,a=n(282);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&a()}},function(e,t,n){"use strict";var r=Array.prototype.slice,a=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==a.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,o=r.call(arguments,1),i=Math.max(0,t.length-o.length),s=[],l=0;l<i;l++)s.push("$"+l);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var a=t.apply(this,o.concat(r.call(arguments)));return Object(a)===a?a:this}return t.apply(e,o.concat(r.call(arguments)))})),t.prototype){var c=function(){};c.prototype=t.prototype,n.prototype=new c,c.prototype=null}return n}},function(e,t,n){"use strict";var r=n(214);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(114),a=n(215),o=n(284),i=n(285),s=n(495),l=a(i(),Object);r(l,{getPolyfill:i,implementation:o,shim:s}),e.exports=l},function(e,t,n){"use strict";var r=n(213)("%Object.defineProperty%",!0),a=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=a},function(e,t,n){"use strict";var r=n(285),a=n(114);e.exports=function(){var e=r();return a(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,n){"use strict";var r,a,o,i,s=n(283),l=n(212)();if(l){r=s("Object.prototype.hasOwnProperty"),a=s("RegExp.prototype.exec"),o={};var c=function(){throw o};i={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(i[Symbol.toPrimitive]=c)}var u=s("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=l?function(e){if(!e||"object"!=typeof e)return!1;var t=d(e,"lastIndex");if(!t||!r(t,"value"))return!1;try{a(e,i)}catch(e){return e===o}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===u(e)}},function(e,t,n){"use strict";var r=n(114),a=n(215),o=n(286),i=n(287),s=n(499),l=a(i());r(l,{getPolyfill:i,implementation:o,shim:s}),e.exports=l},function(e,t,n){"use strict";var r=function(){return"string"==typeof function(){}.name},a=Object.getOwnPropertyDescriptor;if(a)try{a([],"length")}catch(e){a=null}r.functionsHaveConfigurableNames=function(){return r()&&a&&!!a((function(){}),"name").configurable};var o=Function.prototype.bind;r.boundFunctionsHaveNames=function(){return r()&&"function"==typeof o&&""!==function(){}.bind().name},e.exports=r},function(e,t,n){"use strict";var r=n(114).supportsDescriptors,a=n(287),o=Object.getOwnPropertyDescriptor,i=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!r||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=a(),t=l(c),n=o(t,"flags");return n&&n.get===e||i(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,n){"use strict";var r=Date.prototype.getDay,a=Object.prototype.toString,o=n(212)();e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===a.call(e))}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),a=(i(r),i(n(1))),o=i(n(502));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i(n(180));var u=1073741823;t.default=function(e,t){var n,i,d="__create-react-context-"+(0,o.default)()+"__",f=function(e){function n(){var t,r,a,o;s(this,n);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return t=r=l(this,e.call.apply(e,[this].concat(c))),r.emitter=(a=r.props.value,o=[],{on:function(e){o.push(e)},off:function(e){o=o.filter((function(t){return t!==e}))},get:function(){return a},set:function(e,t){a=e,o.forEach((function(e){return e(a,t)}))}}),l(r,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[d]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,a=void 0;((o=n)===(i=r)?0!==o||1/o==1/i:o!=o&&i!=i)?a=0:(a="function"==typeof t?t(n,r):u,0!=(a|=0)&&this.emitter.set(e.value,a))}var o,i},n.prototype.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[d]=a.default.object.isRequired,n);var p=function(t){function n(){var e,r;s(this,n);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=r=l(this,t.call.apply(t,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},l(r,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?u:t},n.prototype.componentDidMount=function(){this.context[d]&&this.context[d].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?u:e},n.prototype.componentWillUnmount=function(){this.context[d]&&this.context[d].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[d]?this.context[d].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return p.contextTypes=((i={})[d]=a.default.object,i),{Provider:f,Consumer:p}},e.exports=t.default},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(54))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var c=(0,l.observer)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.node.click()}},{key:"render",value:function(){var e=this;return s.default.createElement("span",{ref:function(t){return e.node=t},className:"custom-input",onClick:this.props.onClick,type:"text",disabled:!0,style:{border:0,boxShadow:"none"}},this.props.value)}}]),t}())||r;t.default=c},function(e,t,n){e.exports={row_option:"_2wMgbj0naQ2F5eaGohRQ9o",row_action:"_1x6oYbrTjk2sVE37pITG7",row_photo:"_3RCy2fYLulazFQNMozR02p",assigned_photo:"_2JGHFLVcN9kPcJpn45MgUW",row_name:"iqMzwHRI0bOgZ1krwowh1",row_hours:"_3m9rLWqyClQp9-i7_tjV4U",selected:"_2CE3OgYQk_ghA-mZSGGnJb",search_input:"_1sw6Ovf_LfvrM2DQ_bynpA",table:"_3UDFBNBVJ6NzbC2s8xuoBh"}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var c=(0,l.observer)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.node.click()}},{key:"render",value:function(){var e=this;return s.default.createElement("span",{ref:function(t){return e.node=t},className:"custom-input",onClick:this.props.onClick},this.props.value)}}]),t}())||r;t.default=c},function(e,t,n){},function(e,t,n){(e.exports=n(218)(!1)).push([e.i,'.react-datepicker-popper[data-placement^="bottom"] .react-datepicker__triangle, .react-datepicker-popper[data-placement^="top"] .react-datepicker__triangle, .react-datepicker__year-read-view--down-arrow,\n.react-datepicker__month-read-view--down-arrow,\n.react-datepicker__month-year-read-view--down-arrow {\n  margin-left: -8px;\n  position: absolute;\n}\n\n.react-datepicker-popper[data-placement^="bottom"] .react-datepicker__triangle, .react-datepicker-popper[data-placement^="top"] .react-datepicker__triangle, .react-datepicker__year-read-view--down-arrow,\n.react-datepicker__month-read-view--down-arrow,\n.react-datepicker__month-year-read-view--down-arrow, .react-datepicker-popper[data-placement^="bottom"] .react-datepicker__triangle::before, .react-datepicker-popper[data-placement^="top"] .react-datepicker__triangle::before, .react-datepicker__year-read-view--down-arrow::before,\n.react-datepicker__month-read-view--down-arrow::before,\n.react-datepicker__month-year-read-view--down-arrow::before {\n  box-sizing: content-box;\n  position: absolute;\n  border: 8px solid transparent;\n  height: 0;\n  width: 1px;\n}\n\n.react-datepicker-popper[data-placement^="bottom"] .react-datepicker__triangle::before, .react-datepicker-popper[data-placement^="top"] .react-datepicker__triangle::before, .react-datepicker__year-read-view--down-arrow::before,\n.react-datepicker__month-read-view--down-arrow::before,\n.react-datepicker__month-year-read-view--down-arrow::before {\n  content: "";\n  z-index: -1;\n  border-width: 8px;\n  left: -8px;\n  border-bottom-color: #aeaeae;\n}\n\n.react-datepicker-popper[data-placement^="bottom"] .react-datepicker__triangle {\n  top: 0;\n  margin-top: -8px;\n}\n\n.react-datepicker-popper[data-placement^="bottom"] .react-datepicker__triangle, .react-datepicker-popper[data-placement^="bottom"] .react-datepicker__triangle::before {\n  border-top: none;\n  border-bottom-color: #f0f0f0;\n}\n\n.react-datepicker-popper[data-placement^="bottom"] .react-datepicker__triangle::before {\n  top: -1px;\n  border-bottom-color: #aeaeae;\n}\n\n.react-datepicker-popper[data-placement^="top"] .react-datepicker__triangle, .react-datepicker__year-read-view--down-arrow,\n.react-datepicker__month-read-view--down-arrow,\n.react-datepicker__month-year-read-view--down-arrow {\n  bottom: 0;\n  margin-bottom: -8px;\n}\n\n.react-datepicker-popper[data-placement^="top"] .react-datepicker__triangle, .react-datepicker__year-read-view--down-arrow,\n.react-datepicker__month-read-view--down-arrow,\n.react-datepicker__month-year-read-view--down-arrow, .react-datepicker-popper[data-placement^="top"] .react-datepicker__triangle::before, .react-datepicker__year-read-view--down-arrow::before,\n.react-datepicker__month-read-view--down-arrow::before,\n.react-datepicker__month-year-read-view--down-arrow::before {\n  border-bottom: none;\n  border-top-color: #fff;\n}\n\n.react-datepicker-popper[data-placement^="top"] .react-datepicker__triangle::before, .react-datepicker__year-read-view--down-arrow::before,\n.react-datepicker__month-read-view--down-arrow::before,\n.react-datepicker__month-year-read-view--down-arrow::before {\n  bottom: -1px;\n  border-top-color: #aeaeae;\n}\n\n.react-datepicker-wrapper {\n  display: inline-block;\n  padding: 0;\n  border: 0;\n}\n\n.react-datepicker {\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 0.8rem;\n  background-color: #fff;\n  color: #000;\n  border: 1px solid #aeaeae;\n  border-radius: 0.3rem;\n  display: inline-block;\n  position: relative;\n}\n\n.react-datepicker--time-only .react-datepicker__triangle {\n  left: 35px;\n}\n\n.react-datepicker--time-only .react-datepicker__time-container {\n  border-left: 0;\n}\n\n.react-datepicker--time-only .react-datepicker__time {\n  border-radius: 0.3rem;\n}\n\n.react-datepicker--time-only .react-datepicker__time-box {\n  border-radius: 0.3rem;\n}\n\n.react-datepicker__triangle {\n  position: absolute;\n  left: 50px;\n}\n\n.react-datepicker-popper {\n  z-index: 1;\n}\n\n.react-datepicker-popper[data-placement^="bottom"] {\n  margin-top: 10px;\n}\n\n.react-datepicker-popper[data-placement="bottom-end"] .react-datepicker__triangle, .react-datepicker-popper[data-placement="top-end"] .react-datepicker__triangle {\n  left: auto;\n  right: 50px;\n}\n\n.react-datepicker-popper[data-placement^="top"] {\n  margin-bottom: 10px;\n}\n\n.react-datepicker-popper[data-placement^="right"] {\n  margin-left: 8px;\n}\n\n.react-datepicker-popper[data-placement^="right"] .react-datepicker__triangle {\n  left: auto;\n  right: 42px;\n}\n\n.react-datepicker-popper[data-placement^="left"] {\n  margin-right: 8px;\n}\n\n.react-datepicker-popper[data-placement^="left"] .react-datepicker__triangle {\n  left: 42px;\n  right: auto;\n}\n\n.react-datepicker__header {\n  text-align: center;\n  background-color: #f0f0f0;\n  border-bottom: 1px solid #aeaeae;\n  border-top-left-radius: 0.3rem;\n  border-top-right-radius: 0.3rem;\n  padding-top: 8px;\n  position: relative;\n}\n\n.react-datepicker__header--time {\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n.react-datepicker__year-dropdown-container--select,\n.react-datepicker__month-dropdown-container--select,\n.react-datepicker__month-year-dropdown-container--select,\n.react-datepicker__year-dropdown-container--scroll,\n.react-datepicker__month-dropdown-container--scroll,\n.react-datepicker__month-year-dropdown-container--scroll {\n  display: inline-block;\n  margin: 0 2px;\n}\n\n.react-datepicker__current-month,\n.react-datepicker-time__header,\n.react-datepicker-year-header {\n  margin-top: 0;\n  color: #000;\n  font-weight: bold;\n  font-size: 0.944rem;\n}\n\n.react-datepicker-time__header {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.react-datepicker__navigation {\n  background: none;\n  line-height: 1.7rem;\n  text-align: center;\n  cursor: pointer;\n  position: absolute;\n  top: 10px;\n  width: 0;\n  padding: 0;\n  border: 0.45rem solid transparent;\n  z-index: 1;\n  height: 10px;\n  width: 10px;\n  text-indent: -999em;\n  overflow: hidden;\n}\n\n.react-datepicker__navigation--previous {\n  left: 10px;\n  border-right-color: #ccc;\n}\n\n.react-datepicker__navigation--previous:hover {\n  border-right-color: #b3b3b3;\n}\n\n.react-datepicker__navigation--previous--disabled, .react-datepicker__navigation--previous--disabled:hover {\n  border-right-color: #e6e6e6;\n  cursor: default;\n}\n\n.react-datepicker__navigation--next {\n  right: 10px;\n  border-left-color: #ccc;\n}\n\n.react-datepicker__navigation--next--with-time:not(.react-datepicker__navigation--next--with-today-button) {\n  right: 80px;\n}\n\n.react-datepicker__navigation--next:hover {\n  border-left-color: #b3b3b3;\n}\n\n.react-datepicker__navigation--next--disabled, .react-datepicker__navigation--next--disabled:hover {\n  border-left-color: #e6e6e6;\n  cursor: default;\n}\n\n.react-datepicker__navigation--years {\n  position: relative;\n  top: 0;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.react-datepicker__navigation--years-previous {\n  top: 4px;\n  border-top-color: #ccc;\n}\n\n.react-datepicker__navigation--years-previous:hover {\n  border-top-color: #b3b3b3;\n}\n\n.react-datepicker__navigation--years-upcoming {\n  top: -4px;\n  border-bottom-color: #ccc;\n}\n\n.react-datepicker__navigation--years-upcoming:hover {\n  border-bottom-color: #b3b3b3;\n}\n\n.react-datepicker__month-container {\n  float: left;\n}\n\n.react-datepicker__year-container {\n  margin: 0.4rem;\n  text-align: center;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.react-datepicker__year-container-text {\n  display: inline-block;\n  cursor: pointer;\n  flex: 1 0 30%;\n  width: 12px;\n  padding: 2px;\n}\n\n.react-datepicker__month {\n  margin: 0.4rem;\n  text-align: center;\n}\n\n.react-datepicker__month .react-datepicker__month-text,\n.react-datepicker__month .react-datepicker__quarter-text {\n  display: inline-block;\n  width: 4rem;\n  margin: 2px;\n}\n\n.react-datepicker__input-time-container {\n  clear: both;\n  width: 100%;\n  float: left;\n  margin: 5px 0 10px 15px;\n  text-align: left;\n}\n\n.react-datepicker__input-time-container .react-datepicker-time__caption {\n  display: inline-block;\n}\n\n.react-datepicker__input-time-container .react-datepicker-time__input-container {\n  display: inline-block;\n}\n\n.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__input {\n  display: inline-block;\n  margin-left: 10px;\n}\n\n.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__input input {\n  width: 85px;\n}\n\n.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__input input[type="time"]::-webkit-inner-spin-button,\n.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__input input[type="time"]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__input input[type="time"] {\n  -moz-appearance: textfield;\n}\n\n.react-datepicker__input-time-container .react-datepicker-time__input-container .react-datepicker-time__delimiter {\n  margin-left: 5px;\n  display: inline-block;\n}\n\n.react-datepicker__time-container {\n  float: right;\n  border-left: 1px solid #aeaeae;\n  width: 85px;\n}\n\n.react-datepicker__time-container--with-today-button {\n  display: inline;\n  border: 1px solid #aeaeae;\n  border-radius: 0.3rem;\n  position: absolute;\n  right: -72px;\n  top: 0;\n}\n\n.react-datepicker__time-container .react-datepicker__time {\n  position: relative;\n  background: white;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box {\n  width: 85px;\n  overflow-x: hidden;\n  margin: 0 auto;\n  text-align: center;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list {\n  list-style: none;\n  margin: 0;\n  height: calc(195px + (1.7rem / 2));\n  overflow-y: scroll;\n  padding-right: 0px;\n  padding-left: 0px;\n  width: 100%;\n  box-sizing: content-box;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item {\n  height: 30px;\n  padding: 5px 10px;\n  white-space: nowrap;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item:hover {\n  cursor: pointer;\n  background-color: #f0f0f0;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--selected {\n  background-color: #216ba5;\n  color: white;\n  font-weight: bold;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--selected:hover {\n  background-color: #216ba5;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--disabled {\n  color: #ccc;\n}\n\n.react-datepicker__time-container .react-datepicker__time .react-datepicker__time-box ul.react-datepicker__time-list li.react-datepicker__time-list-item--disabled:hover {\n  cursor: default;\n  background-color: transparent;\n}\n\n.react-datepicker__week-number {\n  color: #ccc;\n  display: inline-block;\n  width: 1.7rem;\n  line-height: 1.7rem;\n  text-align: center;\n  margin: 0.166rem;\n}\n\n.react-datepicker__week-number.react-datepicker__week-number--clickable {\n  cursor: pointer;\n}\n\n.react-datepicker__week-number.react-datepicker__week-number--clickable:hover {\n  border-radius: 0.3rem;\n  background-color: #f0f0f0;\n}\n\n.react-datepicker__day-names,\n.react-datepicker__week {\n  white-space: nowrap;\n}\n\n.react-datepicker__day-name,\n.react-datepicker__day,\n.react-datepicker__time-name {\n  color: #000;\n  display: inline-block;\n  width: 1.7rem;\n  line-height: 1.7rem;\n  text-align: center;\n  margin: 0.166rem;\n}\n\n.react-datepicker__month--selected, .react-datepicker__month--in-selecting-range, .react-datepicker__month--in-range,\n.react-datepicker__quarter--selected,\n.react-datepicker__quarter--in-selecting-range,\n.react-datepicker__quarter--in-range {\n  border-radius: 0.3rem;\n  background-color: #216ba5;\n  color: #fff;\n}\n\n.react-datepicker__month--selected:hover, .react-datepicker__month--in-selecting-range:hover, .react-datepicker__month--in-range:hover,\n.react-datepicker__quarter--selected:hover,\n.react-datepicker__quarter--in-selecting-range:hover,\n.react-datepicker__quarter--in-range:hover {\n  background-color: #1d5d90;\n}\n\n.react-datepicker__month--disabled,\n.react-datepicker__quarter--disabled {\n  color: #ccc;\n  pointer-events: none;\n}\n\n.react-datepicker__month--disabled:hover,\n.react-datepicker__quarter--disabled:hover {\n  cursor: default;\n  background-color: transparent;\n}\n\n.react-datepicker__day,\n.react-datepicker__month-text,\n.react-datepicker__quarter-text {\n  cursor: pointer;\n}\n\n.react-datepicker__day:hover,\n.react-datepicker__month-text:hover,\n.react-datepicker__quarter-text:hover {\n  border-radius: 0.3rem;\n  background-color: #f0f0f0;\n}\n\n.react-datepicker__day--today,\n.react-datepicker__month-text--today,\n.react-datepicker__quarter-text--today {\n  font-weight: bold;\n}\n\n.react-datepicker__day--highlighted,\n.react-datepicker__month-text--highlighted,\n.react-datepicker__quarter-text--highlighted {\n  border-radius: 0.3rem;\n  background-color: #3dcc4a;\n  color: #fff;\n}\n\n.react-datepicker__day--highlighted:hover,\n.react-datepicker__month-text--highlighted:hover,\n.react-datepicker__quarter-text--highlighted:hover {\n  background-color: #32be3f;\n}\n\n.react-datepicker__day--highlighted-custom-1,\n.react-datepicker__month-text--highlighted-custom-1,\n.react-datepicker__quarter-text--highlighted-custom-1 {\n  color: magenta;\n}\n\n.react-datepicker__day--highlighted-custom-2,\n.react-datepicker__month-text--highlighted-custom-2,\n.react-datepicker__quarter-text--highlighted-custom-2 {\n  color: green;\n}\n\n.react-datepicker__day--selected, .react-datepicker__day--in-selecting-range, .react-datepicker__day--in-range,\n.react-datepicker__month-text--selected,\n.react-datepicker__month-text--in-selecting-range,\n.react-datepicker__month-text--in-range,\n.react-datepicker__quarter-text--selected,\n.react-datepicker__quarter-text--in-selecting-range,\n.react-datepicker__quarter-text--in-range {\n  border-radius: 0.3rem;\n  background-color: #216ba5;\n  color: #fff;\n}\n\n.react-datepicker__day--selected:hover, .react-datepicker__day--in-selecting-range:hover, .react-datepicker__day--in-range:hover,\n.react-datepicker__month-text--selected:hover,\n.react-datepicker__month-text--in-selecting-range:hover,\n.react-datepicker__month-text--in-range:hover,\n.react-datepicker__quarter-text--selected:hover,\n.react-datepicker__quarter-text--in-selecting-range:hover,\n.react-datepicker__quarter-text--in-range:hover {\n  background-color: #1d5d90;\n}\n\n.react-datepicker__day--keyboard-selected,\n.react-datepicker__month-text--keyboard-selected,\n.react-datepicker__quarter-text--keyboard-selected {\n  border-radius: 0.3rem;\n  background-color: #2a87d0;\n  color: #fff;\n}\n\n.react-datepicker__day--keyboard-selected:hover,\n.react-datepicker__month-text--keyboard-selected:hover,\n.react-datepicker__quarter-text--keyboard-selected:hover {\n  background-color: #1d5d90;\n}\n\n.react-datepicker__day--in-selecting-range ,\n.react-datepicker__month-text--in-selecting-range ,\n.react-datepicker__quarter-text--in-selecting-range {\n  background-color: rgba(33, 107, 165, 0.5);\n}\n\n.react-datepicker__month--selecting-range .react-datepicker__day--in-range , .react-datepicker__month--selecting-range\n.react-datepicker__month-text--in-range , .react-datepicker__month--selecting-range\n.react-datepicker__quarter-text--in-range {\n  background-color: #f0f0f0;\n  color: #000;\n}\n\n.react-datepicker__day--disabled,\n.react-datepicker__month-text--disabled,\n.react-datepicker__quarter-text--disabled {\n  cursor: default;\n  color: #ccc;\n}\n\n.react-datepicker__day--disabled:hover,\n.react-datepicker__month-text--disabled:hover,\n.react-datepicker__quarter-text--disabled:hover {\n  background-color: transparent;\n}\n\n.react-datepicker__month-text.react-datepicker__month--selected:hover, .react-datepicker__month-text.react-datepicker__month--in-range:hover, .react-datepicker__month-text.react-datepicker__quarter--selected:hover, .react-datepicker__month-text.react-datepicker__quarter--in-range:hover,\n.react-datepicker__quarter-text.react-datepicker__month--selected:hover,\n.react-datepicker__quarter-text.react-datepicker__month--in-range:hover,\n.react-datepicker__quarter-text.react-datepicker__quarter--selected:hover,\n.react-datepicker__quarter-text.react-datepicker__quarter--in-range:hover {\n  background-color: #216ba5;\n}\n\n.react-datepicker__month-text:hover,\n.react-datepicker__quarter-text:hover {\n  background-color: #f0f0f0;\n}\n\n.react-datepicker__input-container {\n  position: relative;\n  display: inline-block;\n  width: 100%;\n}\n\n.react-datepicker__year-read-view,\n.react-datepicker__month-read-view,\n.react-datepicker__month-year-read-view {\n  border: 1px solid transparent;\n  border-radius: 0.3rem;\n}\n\n.react-datepicker__year-read-view:hover,\n.react-datepicker__month-read-view:hover,\n.react-datepicker__month-year-read-view:hover {\n  cursor: pointer;\n}\n\n.react-datepicker__year-read-view:hover .react-datepicker__year-read-view--down-arrow,\n.react-datepicker__year-read-view:hover .react-datepicker__month-read-view--down-arrow,\n.react-datepicker__month-read-view:hover .react-datepicker__year-read-view--down-arrow,\n.react-datepicker__month-read-view:hover .react-datepicker__month-read-view--down-arrow,\n.react-datepicker__month-year-read-view:hover .react-datepicker__year-read-view--down-arrow,\n.react-datepicker__month-year-read-view:hover .react-datepicker__month-read-view--down-arrow {\n  border-top-color: #b3b3b3;\n}\n\n.react-datepicker__year-read-view--down-arrow,\n.react-datepicker__month-read-view--down-arrow,\n.react-datepicker__month-year-read-view--down-arrow {\n  border-top-color: #ccc;\n  float: right;\n  margin-left: 20px;\n  top: 8px;\n  position: relative;\n  border-width: 0.45rem;\n}\n\n.react-datepicker__year-dropdown,\n.react-datepicker__month-dropdown,\n.react-datepicker__month-year-dropdown {\n  background-color: #f0f0f0;\n  position: absolute;\n  width: 50%;\n  left: 25%;\n  top: 30px;\n  z-index: 1;\n  text-align: center;\n  border-radius: 0.3rem;\n  border: 1px solid #aeaeae;\n}\n\n.react-datepicker__year-dropdown:hover,\n.react-datepicker__month-dropdown:hover,\n.react-datepicker__month-year-dropdown:hover {\n  cursor: pointer;\n}\n\n.react-datepicker__year-dropdown--scrollable,\n.react-datepicker__month-dropdown--scrollable,\n.react-datepicker__month-year-dropdown--scrollable {\n  height: 150px;\n  overflow-y: scroll;\n}\n\n.react-datepicker__year-option,\n.react-datepicker__month-option,\n.react-datepicker__month-year-option {\n  line-height: 20px;\n  width: 100%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.react-datepicker__year-option:first-of-type,\n.react-datepicker__month-option:first-of-type,\n.react-datepicker__month-year-option:first-of-type {\n  border-top-left-radius: 0.3rem;\n  border-top-right-radius: 0.3rem;\n}\n\n.react-datepicker__year-option:last-of-type,\n.react-datepicker__month-option:last-of-type,\n.react-datepicker__month-year-option:last-of-type {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  border-bottom-left-radius: 0.3rem;\n  border-bottom-right-radius: 0.3rem;\n}\n\n.react-datepicker__year-option:hover,\n.react-datepicker__month-option:hover,\n.react-datepicker__month-year-option:hover {\n  background-color: #ccc;\n}\n\n.react-datepicker__year-option:hover .react-datepicker__navigation--years-upcoming,\n.react-datepicker__month-option:hover .react-datepicker__navigation--years-upcoming,\n.react-datepicker__month-year-option:hover .react-datepicker__navigation--years-upcoming {\n  border-bottom-color: #b3b3b3;\n}\n\n.react-datepicker__year-option:hover .react-datepicker__navigation--years-previous,\n.react-datepicker__month-option:hover .react-datepicker__navigation--years-previous,\n.react-datepicker__month-year-option:hover .react-datepicker__navigation--years-previous {\n  border-top-color: #b3b3b3;\n}\n\n.react-datepicker__year-option--selected,\n.react-datepicker__month-option--selected,\n.react-datepicker__month-year-option--selected {\n  position: absolute;\n  left: 15px;\n}\n\n.react-datepicker__close-icon {\n  cursor: pointer;\n  background-color: transparent;\n  border: 0;\n  outline: 0;\n  padding: 0px 6px 0px 0px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.react-datepicker__close-icon::after {\n  cursor: pointer;\n  background-color: #216ba5;\n  color: #fff;\n  border-radius: 50%;\n  height: 16px;\n  width: 16px;\n  padding: 2px;\n  font-size: 12px;\n  line-height: 1;\n  text-align: center;\n  display: table-cell;\n  vertical-align: middle;\n  content: "\\D7";\n}\n\n.react-datepicker__today-button {\n  background: #f0f0f0;\n  border-top: 1px solid #aeaeae;\n  cursor: pointer;\n  text-align: center;\n  font-weight: bold;\n  padding: 5px 0;\n  clear: left;\n}\n\n.react-datepicker__portal {\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.8);\n  left: 0;\n  top: 0;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  z-index: 2147483647;\n}\n\n.react-datepicker__portal .react-datepicker__day-name,\n.react-datepicker__portal .react-datepicker__day,\n.react-datepicker__portal .react-datepicker__time-name {\n  width: 3rem;\n  line-height: 3rem;\n}\n\n@media (max-width: 400px), (max-height: 550px) {\n  .react-datepicker__portal .react-datepicker__day-name,\n  .react-datepicker__portal .react-datepicker__day,\n  .react-datepicker__portal .react-datepicker__time-name {\n    width: 2rem;\n    line-height: 2rem;\n  }\n}\n\n.react-datepicker__portal .react-datepicker__current-month,\n.react-datepicker__portal .react-datepicker-time__header {\n  font-size: 1.44rem;\n}\n\n.react-datepicker__portal .react-datepicker__navigation {\n  border: 0.81rem solid transparent;\n}\n\n.react-datepicker__portal .react-datepicker__navigation--previous {\n  border-right-color: #ccc;\n}\n\n.react-datepicker__portal .react-datepicker__navigation--previous:hover {\n  border-right-color: #b3b3b3;\n}\n\n.react-datepicker__portal .react-datepicker__navigation--previous--disabled, .react-datepicker__portal .react-datepicker__navigation--previous--disabled:hover {\n  border-right-color: #e6e6e6;\n  cursor: default;\n}\n\n.react-datepicker__portal .react-datepicker__navigation--next {\n  border-left-color: #ccc;\n}\n\n.react-datepicker__portal .react-datepicker__navigation--next:hover {\n  border-left-color: #b3b3b3;\n}\n\n.react-datepicker__portal .react-datepicker__navigation--next--disabled, .react-datepicker__portal .react-datepicker__navigation--next--disabled:hover {\n  border-left-color: #e6e6e6;\n  cursor: default;\n}\n',""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var a,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(a=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var c=(0,l.observer)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){var e=this.props.task,t=e.store.collection_uncollapsed.indexOf(e);return s.default.createElement("div",{className:"index"},t)}}]),t}())||r;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="100%"!=e?0:"1px solid #46b3029e",r="offline"!=t?"sglclick cell-editable":"";return a.default.createElement("div",{className:["non-border-hover",r].join(" "),style:{position:"absolute",left:"10px",right:0,top:0,bottom:0,boxSizing:"border-box"}},a.default.createElement("div",{className:r,style:{position:"absolute",boxSizing:"border-box",left:"0px",top:"4px",bottom:"4px",background:"#46b30233",width:e,zIndex:"1",borderTop:"1px solid #46b3029e",borderLeft:"1px solid #46b3029e",borderBottom:"1px solid #46b3029e",borderRight:n}}),a.default.createElement("div",{className:r,style:{zIndex:2,position:"relative"}},e))};var r,a=(r=n(0))&&r.__esModule?r:{default:r}},function(e,t,n){e.exports={add_handler_button:"_2GJgTAb1GUWfw7qseaq3W7",mobile:"_16Usyz0lXb_6Vk20k0KT2q",add_section_handler_button:"_3ZJn7Tf3hjHoyPG04YGQPM",tag_label:"_16aNYuiOvK8SKmEq5ua9v7",overflow_visible:"_1XpcdhMJoGhZSGb4c4ly0r",cell:"_3Y1MzZM0C_xLF47AfPKD5b","cell-name":"wV9BxNuDy9jt6eJnAyMyK"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=(n(3),n(6)),l=c(n(150));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props.task,t=this.props.task.store.globalstore.uistate,n=e.selected?"selected":"",r=t.new_sibling_task,a=e.store.selected.length>1&&-1!=e.store.selected.indexOf(e)?"multi-selected":"",o=!(!e.selected||r!=this.props.task),s=(e.collection.viewport.buffered_position_start+this.props.index)*e.collection.viewport.row_height+t.header_height+1+"px";return i.default.createElement("li",{style:{paddingLeft:0,paddingTop:"2px",position:"absolute",left:0,right:0,top:s,height:e.collection.viewport.row_height+"px"},"data-id":e.id,className:[e.is_priority_heading||e.is_project?"priority_heading":"","draggable",e.is_new_task_handler?"new-task-handler":"",n,a,o?"new-inline-task-form-enabled":""].join(" ")},i.default.createElement(l.default,{key:e.id?e.id:e.optimisticId(),task:e}))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(c(n(150)),c(n(292)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.open=n.open.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.store.tasks.viewport.block_length=Math.ceil(this.component.offsetHeight/this.store.tasks.viewport.row_height),this.component.onscroll=this.props.onScroll,this.scroll_helper_node.onscroll=this.onScrollHelper,this.scroll_wrapper_node.onscroll=this.onScrollWrapper,$(".tasks-container").on("contextmenu",(function(t){t.preventDefault();var n=t.offsetX,r=t.target==t.currentTarget?t.offsetX:t.clientY+t.currentTarget.scrollTop-61;e.onContextMenu({left:n,top:r})})),$(".tasks-container").on("mouseleave",".contextmenu",(function(t){e.closeContext()})),$(".tasks-container").on("click",".contextmenu",(function(t){e.closeContext()})),$(".tasks-container").on("click",(function(t){e.closeContext()})),document.addEventListener("copy",this.handleCopy),document.addEventListener("paste",this.handlePaste)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("copy",this.handleCopy),document.removeEventListener("paste",this.handlePaste)}},{key:"handleCopy",value:function(e){var t=document.getSelection().toString();console.log(t),""==t&&(this.store.uistate.copyTasks(),e.preventDefault())}},{key:"handlePaste",value:function(e){var t=document.activeElement.tagName;console.log(t),"INPUT"==t||"TEXTAREA"==t?console.log("Skipping"):(console.log("Pasting task"),e.preventDefault(),this.store.uistate.pasteTasks())}},{key:"onContextMenu",value:function(e){var t=e.left,n=e.top,r=(e.right,$(".bars-list li:eq(0)").height()),a=Math.floor((n-(this.store.uistate.header_height+1))/r),o=this.store.tasks.filtered[a];void 0!==o&&(o.is_priority_heading||o.is_project||o.is_new_task_handler||(this.store.uistate.list_context_menu={left:t+10+"px",top:n+10+"px",display:"block",active:!0,ref:o}))}},{key:"closeContext",value:function(){this.store.uistate.list_context_menu.display="none"}},{key:"componentDidUpdate",value:function(){}},{key:"open",value:function(){var e=this.store.uistate,t=this.store,n=e.list_context_menu.ref;n&&(e.task_editing_cell=!1,e.task_details_open=!0,e.new_sibling_task=!1,t.tasks.selected.forEach((function(e){return e.selected=!1})),n.selected=!0)}},{key:"insertBelow",value:function(){var e=this.store.uistate,t=this.store,n=e.list_context_menu.ref;n&&(e.new_sibling_task=n,e.new_sibling_task_direction=1,t.tasks.selected.forEach((function(e){return e.selected=!1})),n.selected=!0)}},{key:"onScrollWrapper",value:function(){var e=this;this.scroll_helper_node&&(this.scroll_helper_node.onscroll=null),$("#gantt-toolbar .horizontalScroll-wrapper").scrollLeft(this.scroll_wrapper_node.scrollLeft),this.scroll_helper_node.scrollLeft=this.scroll_wrapper_node.scrollLeft,clearTimeout(this.scrolling_timeout),this.scrolling||(this.scrolling=!0),this.scrolling_timeout=setTimeout((function(){console.log("Scrolling has stopped."),e.scrolling=!1,e.onScrollWrapperEnd()}),200)}},{key:"onScrollWrapperEnd",value:function(){this.scroll_helper_node.onscroll=this.onScrollHelper}},{key:"onScrollHelper",value:function(){var e=this;this.scroll_wrapper_node&&(this.scroll_wrapper_node.onscroll=null),$("#gantt-toolbar .horizontalScroll-wrapper").scrollLeft(this.scroll_helper_node.scrollLeft),this.scroll_wrapper_node.scrollLeft=this.scroll_helper_node.scrollLeft,clearTimeout(this.scrolling_timeout),this.scrolling||(this.scrolling=!0),this.scrolling_timeout=setTimeout((function(){console.log("Scrolling has stopped."),e.scrolling=!1,e.onScrollHelperEnd()}),200)}},{key:"onScrollHelperEnd",value:function(){this.scroll_wrapper_node.onscroll=this.onScrollWrapper}},{key:"render",value:function(){var e=this,t=this.store.uistate;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:["tasks-container"].join(" "),ref:function(t){e.component=t}},i.default.createElement("div",{className:"horizontalScroll-wrapper",ref:function(t){return e.scroll_wrapper_node=t},style:{minHeight:"100%"}},i.default.createElement(l.default,{store:this.store})),i.default.createElement("div",{className:"contextmenu",style:{left:t.list_context_menu.left,top:t.list_context_menu.top,display:t.list_context_menu.display,zIndex:1e3}},i.default.createElement("ul",{className:"unstyled"},i.default.createElement("li",null,i.default.createElement("a",{onClick:this.open,href:"javascript:void(0);"},i.default.createElement("i",{className:"fa fa-fw fa-file-alt"})," Open task details")),i.default.createElement("li",null,i.default.createElement("a",{onClick:this.insertBelow,href:"javascript:void(0);"},i.default.createElement("i",{className:"fa fa-fw fa-plus"})," Insert task below")),i.default.createElement("li",null,i.default.createElement("a",{onClick:function(){return e.store.uistate.pasteTasks("context")},href:"javascript:void(0);"},i.default.createElement("i",{className:"fas fa-fw fa-paste"})," Paste selected tasks below (Ctrl+v)"))))),i.default.createElement("div",{style:{position:"absolute",bottom:0,height:"26px",background:"#ffffff",left:0,right:0,overflowX:"auto",zIndex:10},ref:function(t){return e.scroll_helper_node=t}},i.default.createElement("div",{style:{position:"absolute",bottom:"0",top:0,background:"#ffffff",left:0,right:0,width:t.full_sidebar_width+"px"}})))}}]),t}())||r;t.default=u},function(e,t,n){e.exports={wrapper:"hXNB0qwsG2GY5eSFPqKol",wrapper_content:"_1UfqBqvmOnn3jfzhsJ8gom",input_editable_cell:"EUMe8QUHvJAuWz1uLWdAp",wrapper_footer:"Bhx4rFPEiKJsKj-TI8Vnc",filter_action:"xzXp6oIDgprICaScpGxnF",list_item_container:"_2qg3qWN7vpJ4gXoldxdzrN",list_item_name:"_32Fh_DEQcnbG2cHZtQ-MzR",header:"_3wBK2KJIWr2epprfO9oy3W",cell:"_3CmUHZSb7U7xzAoybqSW-Z",active_filter_action:"_1gJHLB1SsCrRiJAy_Vr3uE",borderless:"EGHGDocsOZVv8xvUAAmzQ",input:"_3OS1d4efkfx39Ka-9eIlWr",search_field:"_3LtUXKhJZ66cvy-0TpA32M"}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,_=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,A=r?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case f:case i:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case _:case c:return e;default:return t}}case o:return t}}}function k(e){return w(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=a,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=_,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return k(e)||w(e)===d},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===_},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===f||e===l||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===_||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===y||e.$$typeof===v||e.$$typeof===A||e.$$typeof===b)},t.typeOf=w},function(e,t,n){e.exports={field_row:"OAOrRWcTomD2wUUKzlLkv",options:"_2pF57ZoiJrZJPT9KWVl3t3",active:"NMaGyTw7u6dFI4FoLXzFL",visible:"_3IS5tKaYOVIyHHwe5XxNN6",grip:"_1pwbuN953-NiGhZT-JPnbj"}},function(e,t,n){e.exports={input_search:"_3fGaJSXlhAhOpPNmGDKWu8",search_field:"t1KlogRYcOrTh58Jt6M6u"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=f(i),l=n(6),c=n(3),u=f(n(520)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reactions=[],n.store=n.props.store,n.moveDrawingDependencySetter=n.moveDrawingDependencySetter.bind(n),n.deleteDependencySetter=n.deleteDependencySetter.bind(n),n.mouseMove=n.mouseMove.bind(n),n.mouseLeave=n.mouseLeave.bind(n),n.onContextMenu=n.onContextMenu.bind(n),n.closeContext=n.closeContext.bind(n),n.scrollTo=n.scrollTo.bind(n),n.reactions.push((0,c.reaction)((function(){return n.store.tasks.scroll_to}),(function(e){return n.scrollTo(n.store.tasks.scroll_to)}))),n.reactions.push((0,c.reaction)((function(){return n.store.tasks.to_rectify}),(function(e){return n.rectifyPrompt(e)}))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;if(this.store.uistate.registerComponent({name:"barslist",node:this.component}),"offline"!=this.store.mode||"snapshot"==this.store.submode){var t={left:0!=this.store.uistate.getScrollPositions("workload").left?this.store.uistate.getScrollPositions("workload").left:this.store.uistate.getScrollPositions("gantt").left,top:this.store.uistate.getScrollPositions("gantt").top};0!=t.left&&this.scrollTo(t),this.component.onscroll=this.props.onScroll,"offline"!=this.store.mode&&($(".bars-container").on("contextmenu",(function(t){if(!$(t.target).hasClass("spawn")&&(t.preventDefault(),e.store.projects.selected)){var n=t.currentTarget.getBoundingClientRect(),r=t.clientX-n.x+$(t.currentTarget).scrollLeft(),a=(t.currentTarget.offsetX,t.target==t.currentTarget?t.offsetX:t.clientY+t.currentTarget.scrollTop-100);e.onContextMenu({left:r,top:a})}})),$(".bars-container").on("mouseleave",".contextmenu",(function(t){e.closeContext()})))}}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"scrollTo",value:function(e){var t=this;"offline"==this.store.mode&&"snapshot"!=this.store.submode||setTimeout((function(){t.component.scrollTop=e.top,t.component.scrollLeft=e.left,t.store.uistate.setScrollPositions({left:e.left,top:e.top})}),0)}},{key:"rectifyPrompt",value:function(e){"offline"==this.store.mode||this.store.uistate.is_mobile||e.length>0&&(this.store.uistate.current_modal="RECTIFY_PROMPT")}},{key:"onContextMenu",value:function(e){var t=e.left,n=e.top,r=(e.right,$(".bars-list li:eq(0)").height()),a=Math.floor((n-(this.store.uistate.header_height+1))/r);if(void 0===(o=this.store.tasks.filtered[a]))var o=this.store.tasks.filtered[this.store.tasks.filtered.length-1];this.store.uistate.context_menu={left:t,top:n,display:"block",active:!0,ref:o}}},{key:"closeContext",value:function(){this.store.uistate.context_menu.display="none"}},{key:"render",value:function(){var e=this,t=(this.store.tasks,this.store.uistate);return s.default.createElement("div",{onMouseUp:this.deleteDependencySetter,onMouseLeave:this.mouseLeave,onMouseMove:this.mouseMove,className:["main bars-container",t.multiselect_active?"selector":""].join(" "),ref:function(t){e.component=t},style:{background:"#fff"}},s.default.createElement("div",{className:"light-cover"}),s.default.createElement(u.default,{store:this.store}),s.default.createElement("div",{className:"contextmenu",style:{left:t.context_menu.left+10+"px",top:t.context_menu.top+10+"px",display:t.context_menu.display}},s.default.createElement("ul",{className:"unstyled"},s.default.createElement("li",null,s.default.createElement("a",{onClick:function(){return t.current_modal="NEW_TASK"},href:"javascript:void(0);",className:"add-task"},s.default.createElement("i",{className:"fa fa-fw fa-check-square"})," New task")),s.default.createElement("li",null,s.default.createElement("a",{onClick:function(){return t.current_modal="HIGHLIGHT_DATES"},href:"javascript:void(0);",className:"highlight-dates"},s.default.createElement("i",{className:"fa fa-fw fa-calendar-check"})," Highlight day")),s.default.createElement("li",null,s.default.createElement("a",a({onClick:function(){return t.current_modal="HIGHLIGHT_HOLIDAYS"},href:"javascript:void(0);",className:"highlight-dates"},{"data-holiday":1}),s.default.createElement("i",{className:"fa fa-fw fa-calendar-times"})," Highlight day as holiday")),"standalone"==this.store.user.type&&s.default.createElement("li",null,s.default.createElement("a",a({onClick:function(){return t.current_modal="TIME_OFF"},href:"javascript:void(0);",className:"highlight-dates"},{"data-holiday":1}),s.default.createElement("i",{className:"fa fa-fw fa-calendar-times"})," User time off")),s.default.createElement("li",null,s.default.createElement("a",{onClick:function(){return t.buildRangeFilter()},href:"javascript:void(0);",className:""},s.default.createElement("i",{className:"fa fa-fw fa-filter"})," Create a range filter")))))}},{key:"mouseMove",value:function(e){this.moveDrawingDependencySetter(e),this.specialDatesTooltip(e)}},{key:"mouseLeave",value:function(e){var t=this.store.dates;t.filtered_unassigned.length>0&&t.filtered_unassigned.forEach((function(e){e.tooltip_status="closed"}))}},{key:"specialDatesTooltip",value:function(e){var t=this;this.store.dates.filtered_unassigned.forEach((function(n){var r=d.metrics(n.start,n.end,{column_width:t.store.uistate.column_width,column_length:t.store.uistate.column_length,first_month_first_date:t.store.uistate.calendar.first_month_first_date}),a=e.currentTarget==e.target?e.nativeEvent.offsetX:e.nativeEvent.clientX-$(e.currentTarget).offset().left+e.currentTarget.scrollLeft;a>=r.initial_margin&&a<=Number(r.initial_margin)+Number(r.duration)?n.tooltip_status="open":n.tooltip_status="closed"}))}},{key:"moveDrawingDependencySetter",value:function(e){this.store.tasks;var t=this.store.uistate;if(t.drawing_dependency){var n,r,a=e.nativeEvent.clientX-5,o=e.nativeEvent.clientY-5,i="inherit";if(a>t.drawing_dependency.left){var s=0;i="6px",(n=o-t.drawing_dependency.top)<0?(i=n,n*=-1,t.drawing_dependency.classNames="dependency-setter-inverse"):t.drawing_dependency.classNames="",n+="px",(r=a-t.drawing_dependency.left-5)<0&&(r=0),r+="px"}if(a<t.drawing_dependency.left)t.drawing_dependency.classNames="",s=a-t.drawing_dependency.left+15+"px",i=o-t.drawing_dependency.top+8+"px",(n=t.drawing_dependency.top+6-8-o)<0?(n*=-1,i="6px",t.drawing_dependency.classNames="dependency-setter-inverse"):t.drawing_dependency.classNames="",n+="px",(r=t.drawing_dependency.left-a-7)<0&&(r=0),r+="px";t.drawing_dependency.css={left:s,top:i,width:r,height:n}}}},{key:"deleteDependencySetter",value:function(e){this.store.tasks}}]),t}())||r;t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=m(s),c=n(6),u=n(3),d=m(n(294)),f=m(n(113)),p=m(n(295)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9));function m(e){return e&&e.__esModule?e:{default:e}}var _,g,b,y,v,A,w=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.renderBars=n.renderBars.bind(n),n.onMouseUp=n.onMouseUp.bind(n),(0,u.reaction)((function(){return n.store.uistate.scrolling}),(function(e){e||n.toggleScrolling(e)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){}}]),i(t,[{key:"onMouseUp",value:function(e){this.store.tasks.unsetDrawingDependency()}},{key:"componentDidMount",value:function(){var e=this;this.store.uistate.registerComponent({name:"barslist",node:this.component}),"offline"!=this.store.mode&&$(this.component).lasso({done:function(t,n){e.selectBars(n)}})}},{key:"componentDidUpdate",value:function(){}},{key:"toggleScrolling",value:function(e){$(this.component).lasso({done:function(e,t){self.selectBars(t)}})}},{key:"selectBars",value:function(e){var t,n,r,a,o=this.store.uistate,i=this.store.tasks;o.resetSelectedSiblings(),i.resetSelectedSiblings();var s=[],l=[];if(e[0][0]!=e[1][0]||e[0][1]!=e[1][1]){var c=$(".inner-header").height(),u=$(".bars-list li:eq(0)").height(),d=Math.floor((e[0][1]-c)/u),f=Math.floor((e[1][1]-c)/u);d<=f?(t=d,n=f):(t=f,n=d),e[0][0]<=e[1][0]?(r=e[0][0],a=e[1][0]):(r=e[1][0],a=e[0][0]);for(var p=this.store.tasks.filtered,m=t;m<=n;m++)if(p[m]&&(p[m].start||p[m].due||p[m].container||p[m].start)){var _=p[m],g=p[m].metrics(),b=g.initial_margin;if(r<=g.initial_margin+g.duration&&a>=b&&-1==l.indexOf(p[m].id)&&(s.push(p[m]),l.push(p[m].id),p[m].selected=!0,p[m].collapsed&&p[m].cascade_raw_childrens.forEach((function(e){return e.selected=!0}))),_.container&&_.container.start){var y=h.getDateSafely(_.container.start),v=h.getDateSafely(_.container.due),A=_.metrics(y,v);b=A.initial_margin,r<=A.initial_margin+A.duration&&a>=b&&-1==l.indexOf(p[m].id)&&(s.push(p[m]),l.push(p[m].id),p[m].selected=!0,p[m].collapsed&&p[m].cascade_raw_childrens.forEach((function(e){return e.selected=!0})))}}if(l.length>0)this.store.uistate.multiselect_toolbar_open=!0,this.store.tasks.selected[0].multiple_options=!0;else if(o.resetSelectedSiblings(),i.resetSelectedSiblings(),this.store.projects.selected&&r!=a){if(void 0===(w=this.store.tasks.filtered[t]))var w=this.store.tasks.filtered[this.store.tasks.filtered.length-1];this.store.uistate.context_menu={display:"block",left:r,right:a,top:n*u+c,active:!0,ref:w}}}}},{key:"renderBars",value:function(){var e=this;return this.store.tasks.filtered_viewport.map((function(t){return l.default.createElement(d.default,{store:e.store,key:t.id,task:t})}))}},{key:"render",value:function(){var e=this,t=this.store.tasks,n=(this.store.uistate,this.store.uistate.calendar.data),r={boxSizing:this.store.tasks.filtered_viewport_style.boxSizing,height:this.store.tasks.filtered_viewport_style.height,maxHeight:this.store.tasks.filtered_viewport_style.maxHeight,contain:this.store.tasks.filtered_viewport_style.contain};this.store.tasks.filtered_viewport_style.pointerEvents&&(r.pointerEvents=this.store.tasks.filtered_viewport_style.pointerEvents);var a=0;return l.default.createElement("ul",{onMouseUp:this.onMouseUp,ref:function(t){e.component=t},className:"unstyled bars-list",style:o({},r,{width:this.store.uistate.calendar.total_width+"px"})},l.default.createElement("div",{className:"columns"},n.map((function(t,n){return a+=t[0].width,1==e.store.uistate.column_length?l.default.createElement("div",{key:n,className:"month-column-bg lassable",style:{width:t[0].width+"px",left:a-t[0].width+"px",backgroundPosition:-t[0].dayOfWeek*e.store.uistate.column_width+"px 0",background:"url(data:image/svg+xml;base64,"+e.store.uistate.get_background_image+") "+-t[0].dayOfWeek*e.store.uistate.column_width+"px 0"}}):l.default.createElement("div",{key:n,className:"month-column-bg lassable",style:{width:t[0].width+"px",left:a-t[0].width+"px",background:"url(/img/grid-bg-"+e.store.uistate.column_width+".png"}})}))),l.default.createElement(f.default,{store:this.store}),t.filtered_viewport.map((function(t,n){return l.default.createElement(p.default,{index:n,store:e.store,key:t.id?t.id:t.optimisticId(),task:t})})))}}]),t}(),_=a.prototype,g="selectBars",b=[u.action],y=Object.getOwnPropertyDescriptor(a.prototype,"selectBars"),v=a.prototype,A={},Object.keys(y).forEach((function(e){A[e]=y[e]})),A.enumerable=!!A.enumerable,A.configurable=!!A.configurable,("value"in A||A.initializer)&&(A.writable=!0),A=b.slice().reverse().reduce((function(e,t){return t(_,g,e)||e}),A),v&&void 0!==A.initializer&&(A.value=A.initializer?A.initializer.call(v):void 0,A.initializer=void 0),void 0===A.initializer&&(Object.defineProperty(_,g,A),A=null),r=a))||r;t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6),c=(n(3),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9))),u=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.task=n.props.task,n.context_menu=n.props.context_menu,n.createDependency=n.createDependency.bind(n),n.multiple_dropdown=n.store.tasks.selected.length>1&&-1!=n.store.tasks.selected.indexOf(n.task),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"createDependency",value:function(e){this.store.uistate.set_dependency_for=this.task.id,this.store.uistate.current_modal="CREATE_DEPENDENCY"}},{key:"pending",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0%";this.multiple_dropdown?this.store.tasks.applyToSelected({},(function(e){e.save({completed:c.getCompletedFalse(),progress:t,completed_at:null}),e.completed=!1})):(this.task.save({completed:c.getCompletedFalse(),progress:t,completed_at:null}),this.task.completed=!1)}},{key:"completed",value:function(e){this.multiple_dropdown?this.store.tasks.applyToSelected({},(function(e){e.save({completed:!0,progress:"100%",completed_at:moment().format("YYYY-MM-DD")})})):this.task.save({completed:!0,progress:"100%",completed_at:moment().format("YYYY-MM-DD")})}},{key:"toggleCompleted",value:function(e){this.task.completed?this.pending(e):this.completed(e)}},{key:"toggleMilestone",value:function(e){if(this.multiple_dropdown)this.store.tasks.applyToSelected({},(function(e){e.sorted_childrens.length>0||e.save({is_milestone:!e.is_milestone,start:e.due})}));else{if(this.task.sorted_childrens.length>0)return;this.task.save({is_milestone:!this.task.is_milestone,start:this.task.due})}}},{key:"setColor",value:function(e){var t=e.target.getAttribute("data-color");""==t&&(t=!1),this.multiple_dropdown?this.store.tasks.applyToSelected({},(function(e){e.save({color:t})})):this.task.save({color:t})}},{key:"dependenciesModal",value:function(){this.store.uistate.current_modal="DEPENDENCIES_MANAGER",this.store.uistate.current_modal_options={task_id:this.task.id}}},{key:"removeDates",value:function(e){this.multiple_dropdown?this.store.tasks.applyToSelected({},(function(e){e.removeDates()})):this.task.removeDates()}},{key:"render",value:function(){var e=this,t=(this.store.tasks,this.store.tasks,this.store.tasks.selected.length>1&&-1!=this.store.tasks.selected.indexOf(this.task));return s.default.createElement("ul",{onClick:function(){return e.store.uistate.bar_context_menu_id=!1},className:"dropdown-menu dropdown-menu-custom",style:{marginLeft:"-5px",position:"absolute",background:"#fff",boxShadow:"0 0 5px rgba(0,0,0,0.3)",display:"block"}},!this.task.completed&&s.default.createElement("li",{style:{borderWidth:0}},s.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){return e.toggleCompleted(t)},className:"set-completed"},s.default.createElement("i",{className:"fa fa-fw fa-check"})," Mark as completed")),this.task.completed&&s.default.createElement("li",{style:{borderWidth:0}},s.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){return e.toggleCompleted(t)},className:"set-pending"},s.default.createElement("i",{className:"far fa-fw fa-square"})," Mark as not completed")),s.default.createElement("li",{className:"divider"}),s.default.createElement("li",{style:{borderWidth:0}},s.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){return e.task.toggleLock(t)}},s.default.createElement("i",{className:["fa fa-fw",this.task.locked?"fa-unlock-alt":"fa-lock"].join(" ")})," ",this.task.locked?"Unlock dates":"Lock dates")),s.default.createElement("li",{style:{borderWidth:0}},s.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){return e.task.removeDates(t)},className:"remove-dates"},s.default.createElement("i",{className:"fa fa-fw fa-times"})," Remove dates")),s.default.createElement("li",{style:{borderWidth:0}},s.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){return e.toggleMilestone(t)},className:"convert-to-milestone",style:{color:this.task.sorted_childrens.length>0?"#ccc":"inherit"}},s.default.createElement("i",{className:"fa fa-fw fa-flag"})," Convert to milestone/task")),!t&&s.default.createElement("li",{style:{borderWidth:0}},s.default.createElement("a",{href:"#",onClick:function(t){return e.task.duplicateTask(t)}},s.default.createElement("i",{className:"fa fa-fw fa-clone"})," Duplicate task")),s.default.createElement("li",{className:"dropdown-submenu",role:"menu"},s.default.createElement("a",{href:"javascript:void(0);",tabIndex:-1},s.default.createElement("i",{className:"fa fa-fw fa-tint"})," Color "),s.default.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dLabel",style:{marginTop:"-100px"}},s.default.createElement("li",{style:{height:80}},s.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){return e.setColor(t)},"data-color":!0,className:"set-color"},"Default",s.default.createElement("div",{className:"muted"},s.default.createElement("div",{className:"color-box-mini color-ontime pull-left"})," On time ",s.default.createElement("div",{className:"clearfix"}),s.default.createElement("div",{className:"color-box-mini color-overdue pull-left"})," Overdue ",s.default.createElement("div",{className:"clearfix"}),s.default.createElement("div",{className:"color-box-mini color-completed pull-left"})," Completed ",s.default.createElement("div",{className:"clearfix"})))),s.default.createElement("li",{className:"divider"}),s.default.createElement("li",{style:{paddingLeft:10},onClick:function(t){return e.setColor(t)}},s.default.createElement("div",{className:"dark-pink pull-left color-box set-color","data-color":"dark-pink"}),s.default.createElement("div",{className:"dark-green pull-left color-box set-color","data-color":"dark-green"}),s.default.createElement("div",{className:"dark-blue pull-left color-box set-color","data-color":"dark-blue"}),s.default.createElement("div",{className:"dark-red pull-left color-box set-color","data-color":"dark-red"}),s.default.createElement("div",{className:"dark-teal pull-left color-box set-color","data-color":"dark-teal"}),s.default.createElement("div",{className:"dark-brown pull-left color-box set-color","data-color":"dark-brown"}),s.default.createElement("div",{className:"dark-orange pull-left color-box set-color","data-color":"dark-orange"}),s.default.createElement("div",{className:"dark-purple pull-left color-box set-color","data-color":"dark-purple"}),s.default.createElement("div",{className:"dark-warm-gray pull-left color-box set-color","data-color":"dark-warm-gray"}),s.default.createElement("div",{className:"light-green pull-left color-box set-color","data-color":"light-green"}),s.default.createElement("div",{className:"light-blue pull-left color-box set-color","data-color":"light-blue"}),s.default.createElement("div",{className:"light-red pull-left color-box set-color","data-color":"light-red"}),s.default.createElement("div",{className:"light-teal pull-left color-box set-color","data-color":"light-teal"}),s.default.createElement("div",{className:"light-orange pull-left color-box set-color","data-color":"light-orange"}),s.default.createElement("div",{className:"light-purple pull-left color-box set-color","data-color":"light-purple"})))),!this.is_milestone&&0==this.task.raw_childrens_count&&[s.default.createElement("li",{key:"arr_1",className:"dropdown-submenu",role:"menu"},s.default.createElement("a",{href:"javascript:void(0);",tabIndex:-1},s.default.createElement("i",{className:"fa fa-fw fa-percent"})," Progress "),s.default.createElement("ul",{className:"dropdown-menu",style:{marginTop:"-100px"}},s.default.createElement("li",null,s.default.createElement("a",{tabIndex:-1,onClick:function(t){return e.pending(t,"0%")},href:"#",className:"set-progress","data-progress":"0%"},"0%")),s.default.createElement("li",null,s.default.createElement("a",{tabIndex:-1,onClick:function(t){return e.pending(t,"10%")},href:"#",className:"set-progress","data-progress":"10%"},"10%")),s.default.createElement("li",null,s.default.createElement("a",{tabIndex:-1,onClick:function(t){return e.pending(t,"20%")},href:"#",className:"set-progress","data-progress":"20%"},"20%")),s.default.createElement("li",null,s.default.createElement("a",{tabIndex:-1,onClick:function(t){return e.pending(t,"30%")},href:"#",className:"set-progress","data-progress":"30%"},"30%")),s.default.createElement("li",null,s.default.createElement("a",{tabIndex:-1,onClick:function(t){return e.pending(t,"40%")},href:"#",className:"set-progress","data-progress":"40%"},"40%")),s.default.createElement("li",null,s.default.createElement("a",{tabIndex:-1,onClick:function(t){return e.pending(t,"50%")},href:"#",className:"set-progress","data-progress":"50%"},"50%")),s.default.createElement("li",null,s.default.createElement("a",{tabIndex:-1,onClick:function(t){return e.pending(t,"60%")},href:"#",className:"set-progress","data-progress":"60%"},"60%")),s.default.createElement("li",null,s.default.createElement("a",{tabIndex:-1,onClick:function(t){return e.pending(t,"70%")},href:"#",className:"set-progress","data-progress":"70%"},"70%")),s.default.createElement("li",null,s.default.createElement("a",{tabIndex:-1,onClick:function(t){return e.pending(t,"80%")},href:"#",className:"set-progress","data-progress":"80%"},"80%")),s.default.createElement("li",null,s.default.createElement("a",{tabIndex:-1,onClick:function(t){return e.pending(t,"90%")},href:"#",className:"set-progress","data-progress":"90%"},"90%")),s.default.createElement("li",null,s.default.createElement("a",{tabIndex:-1,onClick:function(t){return e.completed(t)},href:"#",className:"set-progress","data-progress":"100%"},"100%"))))],!t&&s.default.createElement("li",{key:"arr_2",style:{borderWidth:0}},s.default.createElement("a",{href:"#",className:"create-dependency",onClick:this.createDependency},s.default.createElement("i",{className:"fa fa-fw fa-link"})," Create dependency")),!t&&this.task.predecessor_ids.length>0&&s.default.createElement("li",{key:"arr_3",className:"dropdown-submenu",role:"menu"},s.default.createElement("a",{href:"javascript:void(0);",tabIndex:-1},s.default.createElement("i",{className:"fa fa-fw fa-unlink"})," Unlink from "),s.default.createElement("ul",{className:"dropdown-menu"},this.task.predecessor_ids.map((function(t,n){return s.default.createElement("li",{key:t},s.default.createElement("a",{onClick:function(n){e.task.deleteLeftDependency(t)},tabIndex:-1,"data-parent":t,className:"delete-left-dependency",href:"#"},"Unlink from ",self.store.tasks.get(t).name))})),s.default.createElement("li",{key:"arr_4"},s.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){e.task.deleteLeftDependency("0")},className:"delete-left-dependency","data-parent":0},"Unlink from all")))),"standalone"==this.store.user.type&&!t&&this.task.predecessor_ids.length>0&&s.default.createElement(s.default.Fragment,null,s.default.createElement("li",{className:"divider",key:"arr_3"}),s.default.createElement("li",{key:"arr_4"},s.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){e.dependenciesModal()},className:"delete-left-dependency","data-parent":0},s.default.createElement("i",{className:"fa fa-fw fa-code-branch"})," Predecessor settings"))))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),s=n(6),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),u(n(523))),c=u(n(113));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,s.observer)(r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){console.log("Render lane");var e=this.props.lane,t=this.props.user;return i.default.createElement("li",{className:"bar-item-container","data-user-id":t.id},void 0!==t.id&&"0"!=t.id&&i.default.createElement(c.default,{store:this.props.store,user_ids:[t.id]}),e.map((function(e){return i.default.createElement(l.default,{key:e.id,task:e,user:t.id})})))}}]),t}())||r;t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(0),m=(o=h)&&o.__esModule?o:{default:o},_=n(6),g=n(3),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),y=(0,_.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.delegateEvents=function(){if("offline"!=n.store.mode&&!n.store.uistate.is_mobile){n.component;var e=n,t=n.store.uistate.column_width,r=(n.store.uistate.column_width,n.props.task),a=n.store.uistate,o=n.store.tasks;n.delegated=!0,r.start&&($(n.component).resizable({handles:"e,w",grid:[t,0],resize:function(t,n){var o=this;(0,g.runInAction)((function(){var t=r.predecessorConstraint(),i=r.maxStartWithoutLag,s=t.left_boundary;if(r.locked)return $(o).css("width",o.last_width),void e.lockedNotification();if(n.position.left<s)return $(o).css("left",s),void $(o).css("width",o.last_width);if("due"==i.measure_from&&i.max_due&&i.valid&&n.position.left>i.due_boundary-$(n.element).width())return $(o).css("width",o.last_width),void e.lockedNotification();var l=r.pixelsToBars(n.position.left,n.size.width),c=r.calculateDates(l.difference.left*a.column_length,l.difference.right*a.column_length),u=c.start,d=c.due,f=(u=r.adjustSelfStartOnWeekend(moment(u).toDate()),d=r.extendDueOnWeekend(moment(d).toDate()),{start:r.temporal?r.temporal.start:r.equivalent_dates.start,due:r.temporal?r.temporal.due:r.equivalent_dates.due}),p={start:moment(u).format("YYYY-MM-DD"),due:moment(d).format("YYYY-MM-DD")},h=!1;r.temporal&&r.temporal.start==p.start&&r.temporal.due==p.due&&(h=!0),r.temporal&&r.temporal.start==p.start&&r.temporal.due==p.due?h=!0:r.temporal={start:moment(p.start).format("YYYY-MM-DD"),due:moment(p.due).format("YYYY-MM-DD")};var m=r.metrics(u,d);n.position.left=m.initial_margin,n.size.width=m.duration,o.last_width=m.duration,h||r.moveChildsOf({previous:f,new:p,uuid:b.uuid()})}))},start:function(e,t){!r.selected&&r.store&&r.store.selected.length>0&&r.store.unselectAll(),this.last_width=$(t.element).width(),this.last_right=$(t.element).width()+$(t.element).position().left},stop:function(t,n){o.saveTemporals(),o.resetSelectedSiblings(),e.store.uistate.trackAnalytics("Board:Task:Resize",{view:e.store.uistate.active_view})}}),$(n.component).draggable({grid:[t,25],drag:function(t,n){var i=this;(0,g.runInAction)((function(){var t=r.predecessorConstraint(),s=r.maxStartWithoutLag,l=t.left_boundary;if(r.locked)return n.position.left=i.last_left,e.lockedNotification(),void console.log("returning on draggable");if(n.position.left<l&&-1==o.selected_siblings_ids.indexOf(r.predecessor_ids))n.position.left=l;else{if(s.measure_from&&(s.valid&&a.keep_gap_locked,n.position.left>s.boundary))return n.position.left=s.boundary,void e.lockedNotification();var c=i,u=r.pixelsToBars(n.position.left,$(c).width()),d=r.calculateDates(u.difference.left*a.column_length,u.difference.right*a.column_length),f=r.adjustDates(d),p={start:r.temporal?r.temporal.start:r.equivalent_dates.start,due:r.temporal?r.temporal.due:r.equivalent_dates.due},h={start:moment(f.start).format("YYYY-MM-DD"),due:moment(f.due).format("YYYY-MM-DD")},m=!1;r.temporal&&r.temporal.start==h.start&&r.temporal.due==h.due&&(m=!0),r.temporal&&r.temporal.start==h.start&&r.temporal.due==h.due?m=!0:r.temporal={start:moment(f.start).format("YYYY-MM-DD"),due:moment(f.due).format("YYYY-MM-DD")};var _=r.metrics(f.start,f.due);n.position.left=_.initial_margin,$(c).css("width",_.duration),m||r.moveChildsOf({previous:p,new:h,uuid:b.uuid()})}}))},start:function(e,t){a.dragging_bar=!0,!r.selected&&r.store&&r.store.selected.length>0&&r.store.unselectAll(),this.last_left=$(this).position().left,this.initial_scroll_position=$(".bars-container").scrollLeft()},stop:function(t,n){e.changeAssignee(),a.dragging_bar=!1,o.saveTemporals(),o.resetSelectedSiblings(),e.store.uistate.trackAnalytics("Board:Task:Drag",{view:e.store.uistate.active_view})},scroll:!0})),r.container&&r.container.start&&$(n.component).draggable({grid:[t,25],drag:function(t,n){var i=r.metrics(r.calculated_temporal_container.start,r.calculated_temporal_container.due).initial_margin;if(n.position.left!=this.last_left)if(n.position.left>this.last_left&&n.position.left<i)n.position.left=i;else if(n.position.left<this.last_left&&n.position.left>i)n.position.left=i;else{r.is_priority_heading||r.is_project?r.cascade_raw_childrens:(r.cascade_raw_childrens,r.simulated||(r.real_start=r.start,r.real_due=r.due,r.simulated=!0)),o.selected_siblings_ids&&o.selected_siblings_ids.length>0&&-1==o.selected_siblings_ids.indexOf(r.id)&&o.resetSelectedSiblings(),n.position.left;var s=r.predecessorConstraint(),l=r.maxStartWithoutLag,c=s.left_boundary;if(r.locked)return n.position.left=this.last_left,void e.store.uistate.chartWarning("There is a locked task blocking your move");if(n.position.left<c&&-1==o.selected.indexOf(r.predecessor_ids))n.position.left=c;else{if(l.measure_from&&(l.valid&&a.keep_gap_locked,n.position.left>l.boundary))return n.position.left=l.boundary,void e.store.uistate.chartWarning("There is a locked task blocking your move");var u,d=b.uuid(),f=r.pixelsToBars(n.position.left,$(this).width(),r.container.start,r.container.due),p=r.calculateDates(f.difference.left*a.column_length,f.difference.right*a.column_length,r.container.start,r.container.due),h=r.adjustDates(p,void 0,r.calculated_temporal_container.start,r.calculated_temporal_container.due),m={start:r.temporal_container?r.temporal_container.start:r.equivalent_dates.start,due:r.temporal_container?r.temporal_container.due:r.equivalent_dates.due},_={start:moment(h.start).format("YYYY-MM-DD"),due:moment(h.due).format("YYYY-MM-DD"),uuid:d},g=b.workingDaysDifference(moment(m.start).toDate(),moment(_.start).toDate(),r.get_users_ids);u=g>0?{start:moment(b.sumWorkingDays(moment(_.start).toDate(),-1,r.get_users_ids)).format("YYYY-MM-DD"),due:moment(b.sumWorkingDays(moment(_.due).toDate(),-1,r.get_users_ids)).format("YYYY-MM-DD")}:{start:moment(b.sumWorkingDays(moment(_.start).toDate(),1,r.get_users_ids)).format("YYYY-MM-DD"),due:moment(b.sumWorkingDays(moment(_.due).toDate(),1,r.get_users_ids)).format("YYYY-MM-DD")};var y=!1;if(r.temporal_container&&r.temporal_container.start==_.start&&r.temporal_container.due==_.due)y=!0;else{var v=r.pushFixedDatesOnContainer(g>0?1:-1,void 0,_.start,_.due);v&&(r.temporal={start:moment(v.start).format("YYYY-MM-DD"),due:moment(v.due).format("YYYY-MM-DD"),uuid:d})}y||r.moveChildsOf({previous:u,new:_,uuid:d,skip_successors:!0,siblings:!0}),this.last_left=n.position.left;var A=r.metrics(r.calculated_temporal_container.start,r.calculated_temporal_container.due).initial_margin;n.position.left!=A&&(n.position.left=A)}}else n.position.left=i},start:function(e,t){a.dragging_bar=!0,a.skip_dependencies=!0,this.last_left=$(this).position().left,this.initial_scroll_position=$(".bars-container").scrollLeft()},stop:function(t,n){r.simulated&&r.set({real_start:"",real_due:"",simulated:!1}),e.changeAssignee(),o.saveTemporals(),a.skip_dependencies=!1,o.resetSelectedSiblings(),e.store.uistate.trackAnalytics("Board:Container:Drag",{view:e.store.uistate.active_view})},scroll:!0})}},n.store=n.props.task.store.globalstore,n.onMouseOver=n.onMouseOver.bind(n),n.open=n.open.bind(n),n.lockedNotification=n.lockedNotification.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.Component),p(t,[{key:"lockedNotification",value:function(){this.store.uistate.chart_notification={message:m.default.createElement("span",null,m.default.createElement("i",{className:"fa fa-lock"})," There is a locked task blocking your move")}}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"open",value:function(){var e=this.props.task,t=this.store;this.store.uistate.task_details_open=!0,this.store.tasks.selected_stack=[],e.selected?(t.tasks.selected.forEach((function(e){return e.selected=!1})),e.selected=!1,t.uistate.task_details_open=!1):(t.tasks.selected.forEach((function(e){return e.selected=!1})),e.selected=!0)}},{key:"onMouseOver",value:function(e){this.delegated||this.delegateEvents()}},{key:"changeAssignee",value:function(){console.log("Changing assignee");var e=this.props.task,t=e.get_user,n=e.users,r=$(this.component).attr("data-original-user-id")&&"0"!=$(this.component).attr("data-original-user-id")?String($(this.component).attr("data-original-user-id")):"",a=t?String(t.id):"",o=$(this.component).attr("data-user-id")&&"0"!=$(this.component).attr("data-user-id")?String($(this.component).attr("data-user-id")):"";if(console.log({current_user:t,current_users:n,current_users_selected_id:r,current_user_id:a,new_user_id:o}),n.length>0&&n[0]){if(o!=r)if(""!=o&&0!=o){if(!(s=this.store.users.getWithVirtuals(o)))return;var i=s.getJSON?s.getJSON():(0,g.toJS)(s);r&&0!=r?e.replaceAssignees(r,i):e.changeAssignees([r,i])}else e.replaceAssignees(r,0)}else if(o!=a)if(""!=o&&0!=o){var s;if(!(s=this.store.users.getWithVirtuals(o)))return;i=s.getJSON?s.getJSON():(0,g.toJS)(s),e.changeAssignee(i)}else e.changeAssignee(null)}},{key:"renderTitle",value:function(){var e=this.props.task,t=(e.parent_task(),e.get_estimated_hours.estimated_hours>0?"("+e.get_estimated_hours.estimated_hours+"hrs)":""),n=[],r=e.name.replace(/"/g,"").replace(/'/g,"");e.cascaded_parent_models.forEach((function(e){e.name&&n.push("<div><span class='muted'><i class='fa fa-folder-o' /> "+e.name.replace(/"/g,"").replace(/'/g,"")+"</span></div>")}));var a=e.cascaded_parent_models.length>0?"padding-top:5px;margin-top:5px;border-top:1px solid #999":"";return n.push("<div style='font-size:13px;"+a+"'>"+r+" "+t+"</div>"),"<div style='text-align:left;'>"+n.join("")+"</div>"}},{key:"renderProgress",value:function(e,t){var n=this.props.task;return m.default.createElement("div",{className:"bar-progress"},m.default.createElement("div",{className:["bar-progress-inner",n.start?n.status_class:"",n.start?n.completion_status_class:""].join(" "),style:{width:n.calculated_progress}}))}},{key:"renderTask",value:function(e,t){var n=this.props.task;return m.default.createElement("div",{className:"workload-bar-inner card",title:this.renderTitle(),"data-toggle":"tooltip","data-placement":"right"},this.renderProgress(),m.default.createElement("div",{className:"card-text"},n.name))}},{key:"renderMilestone",value:function(e,t){var n="bar-milestone-"+this.props.task.store.globalstore.uistate.column_width;return m.default.createElement("div",{className:["bar-milestone card",e,n,t].join(" "),title:this.renderTitle(),"data-toggle":"popover","data-placement":"right"})}},{key:"render",value:function(){var e=this,t=this.props.task,n=new Date;n.setMinutes(0),n.setHours(0),n.setSeconds(0),n.setMilliseconds(0);var r=b.getDateSafely(t.equivalent_dates.start),a=b.getDateSafely(t.equivalent_dates.due);if(t.temporal_container&&t.temporal_container.start?(r=b.getDateSafely(t.temporal_container.start),a=b.getDateSafely(t.temporal_container.due)):t.temporal&&t.temporal.start&&(r=b.getDateSafely(t.temporal.start),a=b.getDateSafely(t.temporal.due)),a){if(t.is_milestone){r=a;var o={background:"transparent"}}else o={};var i=t.metrics(r,a),s="",l="";s=a.getTime()<n.getTime()?"overdue":"color-ontime","true"!=t.completed&&1!=t.completed||(l="completed"),t.color&&(s=t.color,l="");var c="completed"!=l&&void 0!==t.calculated_progress&&""!=t.calculated_progress&&!isNaN(parseInt(t.calculated_progress.slice(0,-1)))&&parseInt(t.calculated_progress.slice(0,-1));return c>100&&(c=100),"completed"==l&&(c=100),m.default.createElement("div",{"data-original-user-id":this.props.user,onClick:this.open,ref:function(t){return e.component=t},onMouseOver:this.onMouseOver,"data-id":t.id,className:["bar",t.is_milestone?"":s,l,t.is_milestone?"":"bar-draggable",t.container&&t.container.start&&!t.start?"parent-bar":""].join(" "),style:f({},o,{left:i.initial_margin+"px",width:i.duration+"px"})},t.is_milestone&&this.renderMilestone(s,l),!t.is_milestone&&this.renderTask(s,l))}}}]),t}(),i=a.prototype,s="open",l=[g.action],c=Object.getOwnPropertyDescriptor(a.prototype,"open"),u=a.prototype,d={},Object.keys(c).forEach((function(e){d[e]=c[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(i,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(i,s,d),d=null),r=a))||r;t.default=y},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(65),a=n(38);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},function(e,t,n){var r=n(99),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(65),a=n(222),o=n(38),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},function(e,t,n){var r=n(223),a=n(531),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(303)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(116);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){var r=n(156),a=n(560),o=n(226),i=n(561),s=n(562),l=n(306),c=n(307),u=n(565),d=n(567),f=n(310),p=n(312),h=n(161),m=n(571),_=n(572),g=n(316),b=n(31),y=n(153),v=n(577),A=n(57),w=n(579),k=n(37),E=n(118),x="[object Arguments]",O="[object Function]",C="[object Object]",j={};j[x]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[C]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[O]=j["[object WeakMap]"]=!1,e.exports=function e(t,n,D,N,S,T){var M,P=1&n,B=2&n,I=4&n;if(D&&(M=S?D(t,N,S,T):D(t)),void 0!==M)return M;if(!A(t))return t;var L=b(t);if(L){if(M=m(t),!P)return c(t,M)}else{var U=h(t),R=U==O||"[object GeneratorFunction]"==U;if(y(t))return l(t,P);if(U==C||U==x||R&&!S){if(M=B||R?{}:g(t),!P)return B?d(t,s(M,t)):u(t,i(M,t))}else{if(!j[U])return S?t:{};M=_(t,U,P)}}T||(T=new r);var F=T.get(t);if(F)return F;T.set(t,M),w(t)?t.forEach((function(r){M.add(e(r,n,D,r,t,T))})):v(t)&&t.forEach((function(r,a){M.set(a,e(r,n,D,a,t,T))}));var z=L?void 0:(I?B?p:f:B?E:k)(t);return a(z||t,(function(r,a){z&&(r=t[a=r]),o(M,a,e(r,n,D,a,t,T))})),M}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(158),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(158);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(158);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(158);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},function(e,t,n){var r=n(157);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(157),a=n(224),o=n(225);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(61),a=n(545),o=n(57),i=n(304),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?f:s).test(i(e))}},function(e,t,n){var r,a=n(546),o=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(45)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(549),a=n(157),o=n(224);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},function(e,t,n){var r=n(550),a=n(551),o=n(552),i=n(553),s=n(554);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=i,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(159);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(159),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(159),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},function(e,t,n){var r=n(159);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(160);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(160);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(160);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(160);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(102),a=n(37);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(102),a=n(118);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(57),a=n(223),o=n(564),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(102),a=n(228);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},function(e,t,n){var r=n(102),a=n(309);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(79)(n(45),"DataView");e.exports=r},function(e,t,n){var r=n(79)(n(45),"Promise");e.exports=r},function(e,t,n){var r=n(79)(n(45),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(231),a=n(573),o=n(574),i=n(575),s=n(315);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Set]":return new l;case"[object Symbol]":return i(e)}}},function(e,t,n){var r=n(231);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(99),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(57),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(578),a=n(100),o=n(155),i=o&&o.isMap,s=i?a(i):r;e.exports=s},function(e,t,n){var r=n(161),a=n(38);e.exports=function(e){return a(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(580),a=n(100),o=n(155),i=o&&o.isSet,s=i?a(i):r;e.exports=s},function(e,t,n){var r=n(161),a=n(38);e.exports=function(e){return a(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=n(103),a=n(12),o=n(587),i=n(104);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[i(a(t))]}},function(e,t,n){var r=n(583),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)})),t}));e.exports=i},function(e,t,n){var r=n(584);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(225);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},function(e,t,n){var r=n(586);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(99),a=n(116),o=n(31),i=n(162),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r=n(119),a=n(588);e.exports=function(e,t){return t.length<2?e:r(e,a(t,0,-1))}},function(e,t){e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}},function(e,t,n){var r=n(92);e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){var r=n(318);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){var r=n(99),a=n(152),o=n(31),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(594),a=n(305),o=n(163),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var a=n(),o=16-(a-r);if(r=a,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(156),a=n(321),o=n(600),i=n(602),s=n(161),l=n(31),c=n(153),u=n(221),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,_,g){var b=l(e),y=l(t),v=b?f:s(e),A=y?f:s(t),w=(v=v==d?p:v)==p,k=(A=A==d?p:A)==p,E=v==A;if(E&&c(e)){if(!c(t))return!1;b=!0,w=!1}if(E&&!w)return g||(g=new r),b||u(e)?a(e,t,n,m,_,g):o(e,t,v,n,m,_,g);if(!(1&n)){var x=w&&h.call(e,"__wrapped__"),O=k&&h.call(t,"__wrapped__");if(x||O){var C=x?e.value():e,j=O?t.value():t;return g||(g=new r),_(C,j,n,m,g)}}return!!E&&(g||(g=new r),i(e,t,n,m,_,g))}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(99),a=n(314),o=n(117),i=n(321),s=n(601),l=n(236),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=l),e.size!=t.size&&!h)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var _=i(p(e),p(t),r,c,d,f);return f.delete(e),_;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t,n){var r=n(310),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,i,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var f=c[d];if(!(l?f in t:a.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var _=l;++d<u;){var g=e[f=c[d]],b=t[f];if(o)var y=l?o(b,g,f,t,e,s):o(g,b,f,e,t,s);if(!(void 0===y?g===b||i(g,b,n,o,s):y)){m=!1;break}_||(_="constructor"==f)}if(m&&!_){var v=e.constructor,A=t.constructor;v!=A&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof A&&A instanceof A)&&(m=!1)}return s.delete(e),s.delete(t),m}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,o,i,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,o,i,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=(r=n(326))&&r.__esModule?r:{default:r},o={};t.default=function(e){return function(t,n){var r=n||o;e.memoize=e.memoize||new WeakMap;var i=void 0;e.memoize.has(r)?i=e.memoize.get(r):(i={},e.memoize.set(r,i));var s=(0,a.default)(t).join(" ");return s in i?i[s]:i[s]=e(t||[],n)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=d(n(91)),s=d(n(180)),l=n(164),c=d(n(322)),u=n(327);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};return function(d){var p=function(i){function p(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,t,n));r.setWrappedInstance=function(e){r.wrappedInstance=e;var t=r.props.innerRef;"function"==typeof t?t(e):t&&"string"!=typeof t&&(t.current=e)};var a=t.style,o=t.className,i=t.classNames,s=(t.innerRef,f(t,["style","className","classNames","innerRef"]));return r.substyle=(0,c.default)({style:a,className:o,classNames:i},r.context[u.PROPS_DECORATOR_CONTEXT_NAME]),"function"==typeof e&&(r.defaultStyle=e(s)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,o.Component),a(p,[{key:"shouldComponentUpdate",value:function(t){var r=t.style,a=t.className,o=t.classNames,i=f(t,["style","className","classNames"]),s=this.props,l=s.style,d=s.className,p=s.classNames,h=(s.innerRef,f(s,["style","className","classNames","innerRef"]));return r===l&&a===d&&o===p||(this.substyle=(0,c.default)({style:r,className:a,classNames:o},this.context[u.PROPS_DECORATOR_CONTEXT_NAME])),"function"==typeof e&&n(i,h)&&(this.defaultStyle=e(i)),!0}},{key:"render",value:function(){var n,a=this.props,i=(a.innerRef,a.style,a.className,a.classNames,f(a,["innerRef","style","className","classNames"])),s=this.getWrappedComponent(),l=t?t(i):[];return(0,o.createElement)(s,r({style:this.substyle(l,this.defaultStyle||e),ref:(n=s,n.prototype&&!n.prototype.render?void 0:this.setWrappedInstance)},i))}},{key:"getWrappedComponent",value:function(){var e=this.context[u.ENHANCER_CONTEXT_NAME],t=void 0===e?l.identity:e;return this.memoizedEnhance!==t&&(this.memoizedEnhance=t,this.enhancedWrappedComponent=t(d),this.enhancedWrappedComponent.propTypes&&(this.enhancedWrappedComponent.propTypes=r({},this.enhancedWrappedComponent.propTypes,{style:u.PropTypes.style}))),this.enhancedWrappedComponent||d}},{key:"getWrappedInstance",value:function(){return(0,s.default)(!0,"`getWrappedInstance()` is deprecated and will be removed with the next major release. Instead, use the `innerRef` prop to get a ref to the wrapped instance."),this.wrappedInstance}}]),p}(),h=d.displayName||d.name;return p.displayName="withDefaultStyle("+h+")",p.propTypes=r({},d.propTypes,u.PropTypes),p.contextTypes=u.ContextTypes,p.WrappedComponent=d,(0,i.default)(p,d)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=(r=n(1))&&r.__esModule?r:{default:r},s=n(327);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"getChildContext",value:function(){var e;return l(e={},s.ENHANCER_CONTEXT_NAME,this.props.enhancer),l(e,s.PROPS_DECORATOR_CONTEXT_NAME,this.props.propsDecorator),e}},{key:"render",value:function(){return o.Children.only(this.props.children)}}]),t}();t.default=c,c.propTypes={enhancer:i.default.func,propsDecorator:i.default.func,children:i.default.element.isRequired},c.childContextTypes=s.ContextTypes,c.displayName="EnhancerProvider",e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=_(c),d=n(6),f=n(3),p=_(n(30)),h=_(n(608)),m=_(n(95));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g(n,"options",o,n),g(n,"dates",i,n),n.store=n.props.store,n.task=n.props.task,n.task.due&&""!=n.task.due&&(n.dates.start=n.task.start,n.dates.due=n.task.due),n.handleStart=n.handleStart.bind(n),n.handleDue=n.handleDue.bind(n),n.onClose=n.onClose.bind(n),n.save=n.save.bind(n),!1===n.props.editable&&(n.options.editable=!1),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){}},{key:"edit",value:function(e){this.options.editable?this.options.open=!0:alert("Dates are not editable. This is a container task with childs")}},{key:"handleStart",value:function(e){this.dates.start=e.target.value,this.dates.start>this.dates.due&&(this.dates.due=e.target.value)}},{key:"handleDue",value:function(e){this.dates.due=e.target.value,this.dates.due<this.dates.start&&(this.dates.start=e.target.value)}},{key:"save",value:function(e){this.task.editing={start:this.dates.start,due:this.dates.due},this.task.saveChangeDates(),this.onClose()}},{key:"onClose",value:function(e){this.options.open=!1}},{key:"render",value:function(){var e=this;return this.options.open?u.default.createElement(m.default,{title:"Dates",onClose:function(){return e.onClose()}},u.default.createElement("table",{className:h.default.table,style:{width:"100%"}},u.default.createElement("tr",null,u.default.createElement("td",null,"Start"),u.default.createElement("td",null,u.default.createElement("input",{type:"date",className:h.default.input,value:this.dates.start,onChange:this.handleStart}))),u.default.createElement("tr",null,u.default.createElement("td",null,"Due"),u.default.createElement("td",null,u.default.createElement("input",{type:"date",className:h.default.input,value:this.dates.due,onChange:this.handleDue})))),u.default.createElement("div",{style:{marginTop:"20px",float:"right"}},u.default.createElement("button",{className:"btn btn-flat btn-success",onClick:this.save},"Save"),"  ")):u.default.createElement("div",{style:s({cursor:"pointer",whiteSpace:"inherit",textAlign:"left"},this.props.style),className:this.props.classNames,onClick:function(){return e.edit()}},this.props.children)}}]),t}(),o=b(a.prototype,"options",[f.observable],{enumerable:!0,initializer:function(){return{open:!1,editable:!0}}}),i=b(a.prototype,"dates",[f.observable],{enumerable:!0,initializer:function(){return{start:(0,p.default)().format("YYYY-MM-DD"),due:(0,p.default)().format("YYYY-MM-DD")}}}),r=a))||r;t.default=y},function(e,t,n){e.exports={property_title:"_1QSf70zCWBXZSwky-QE1L8",table:"_2uPQ1Tohz4R2OlOs-GJk49",input:"_2cBR7yDHAi7mpjMI2WcTVu"}},function(e,t,n){e.exports=n(610).default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.default.tokenize(e),o=[],m=[];for(n=new s(n),t=0;t<r.length;t++){var _=r[t];if(_.type!==l)if(_.type===u){var g=f(_.chars,n);o.push.apply(o,g)}else o.push(_);else{o.push(_);var b=_.tagName.toUpperCase(),y="A"===b||i.contains(n.ignoreTags,b);if(!y)continue;var v=o.length;p(b,r,++t,o),t+=o.length-v-1}}for(t=0;t<o.length;t++){var A=o[t];switch(A.type){case l:var w="<"+A.tagName;if(A.attributes.length>0){var k=h(A.attributes);w+=" "+k.join(" ")}w+=">",m.push(w);break;case c:m.push("</"+A.tagName+">");break;case u:m.push(A.chars);break;case d:m.push("\x3c!--"+A.chars+"--\x3e")}}return m.join("")};var r,a=(r=n(611))&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(614)),i=o.options,s=i.Options,l="StartTag",c="EndTag",u="Chars",d="Comment";function f(e,t){for(var n=o.tokenize(e),r=[],a=0;a<n.length;a++){var i=n[a];if("nl"===i.type&&t.nl2br)r.push({type:l,tagName:"br",attributes:[],selfClosing:!0});else if(i.isLink&&t.check(i)){var s=t.resolve(i),d=s.formatted,f=s.formattedHref,p=s.tagName,h=s.className,m=s.target,_=s.attributes,g=[["href",f]];for(var b in h&&g.push(["class",h]),m&&g.push(["target",m]),_)g.push([b,_[b]]);r.push({type:l,tagName:p,attributes:g,selfClosing:!1}),r.push({type:u,chars:d}),r.push({type:c,tagName:p})}else r.push({type:u,chars:i.toString()})}return r}function p(e,t,n,r){for(var a=1;n<t.length&&a>0;){var o=t[n];o.type===l&&o.tagName.toUpperCase()===e?a++:o.type===c&&o.tagName.toUpperCase()===e&&a--,r.push(o),n++}return r}function h(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],a=r[0],o=r[1];t.push(a+'="'+o.replace(/"/g,"&quot;")+'"')}return t}},function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(328)),a=l(n(329)),o=l(n(330)),i=l(n(331)),s=l(n(613));function l(e){return e&&e.__esModule?e:{default:e}}var c={HTML5NamedCharRefs:r.default,EntityParser:a.default,EventedTokenizer:o.default,Tokenizer:i.default,tokenize:s.default};t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.isSpace=function(e){return r.test(e)},t.isAlpha=function(e){return a.test(e)},t.preprocessInput=function(e){return e.replace(o,"\n")};var r=/[\t\n\f ]/,a=/[A-Za-z]/,o=/\r\n?/g},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return new r.default(new a.default(o.default),t).tokenize(e)};var r=i(n(331)),a=i(n(329)),o=i(n(328));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.tokenize=t.test=t.scanner=t.parser=t.options=t.inherits=t.find=void 0;var r=n(165),a=s(n(615)),o=s(n(616)),i=s(n(617));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var l=function(e){return i.run(o.run(e))};t.find=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=l(e),r=[],a=0;a<n.length;a++){var o=n[a];!o.isLink||t&&o.type!==t||r.push(o.toObject())}return r},t.inherits=r.inherits,t.options=a,t.parser=i,t.scanner=o,t.test=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=l(e);return 1===n.length&&n[0].isLink&&(!t||n[0].type===t)},t.tokenize=l},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a={defaultProtocol:"http",events:null,format:i,formatHref:i,nl2br:!1,tagName:"a",target:function(e,t){return"url"===t?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};function o(e){e=e||{},this.defaultProtocol=e.hasOwnProperty("defaultProtocol")?e.defaultProtocol:a.defaultProtocol,this.events=e.hasOwnProperty("events")?e.events:a.events,this.format=e.hasOwnProperty("format")?e.format:a.format,this.formatHref=e.hasOwnProperty("formatHref")?e.formatHref:a.formatHref,this.nl2br=e.hasOwnProperty("nl2br")?e.nl2br:a.nl2br,this.tagName=e.hasOwnProperty("tagName")?e.tagName:a.tagName,this.target=e.hasOwnProperty("target")?e.target:a.target,this.validate=e.hasOwnProperty("validate")?e.validate:a.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||a.attributes,this.className=e.hasOwnProperty("className")?e.className:e.linkClass||a.className;for(var t=e.hasOwnProperty("ignoreTags")?e.ignoreTags:a.ignoreTags,n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function i(e){return e}t.defaults=a,t.Options=o,t.contains=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},o.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var o=void 0,i=this[e];if(!i)return i;switch(void 0===i?"undefined":r(i)){case"function":return i(t,n.type);case"object":return"function"==typeof(o=i.hasOwnProperty(n.type)?i[n.type]:a[e])?o(t,n.type):o}return i},getObject:function(e,t,n){var r=this[e];return"function"==typeof r?r(t,n.type):r}}},function(e,t,n){"use strict";t.__esModule=!0,t.start=t.run=t.TOKENS=t.State=void 0;var r=n(332),a=n(238),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),i="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),s="0123456789".split(""),l="0123456789abcdefghijklmnopqrstuvwxyz".split(""),c=[" ","\f","\r","\t","\v"," "," ","᠎"],u=[],d=function(e){return new r.CharacterState(e)},f=d(),p=d(a.NUM),h=d(a.DOMAIN),m=d(),_=d(a.WS);f.on("@",d(a.AT)).on(".",d(a.DOT)).on("+",d(a.PLUS)).on("#",d(a.POUND)).on("?",d(a.QUERY)).on("/",d(a.SLASH)).on("_",d(a.UNDERSCORE)).on(":",d(a.COLON)).on("{",d(a.OPENBRACE)).on("[",d(a.OPENBRACKET)).on("<",d(a.OPENANGLEBRACKET)).on("(",d(a.OPENPAREN)).on("}",d(a.CLOSEBRACE)).on("]",d(a.CLOSEBRACKET)).on(">",d(a.CLOSEANGLEBRACKET)).on(")",d(a.CLOSEPAREN)).on("&",d(a.AMPERSAND)).on([",",";","!",'"',"'"],d(a.PUNCTUATION)),f.on("\n",d(a.NL)).on(c,_),_.on(c,_);for(var g=0;g<i.length;g++){var b=(0,r.stateify)(i[g],f,a.TLD,a.DOMAIN);u.push.apply(u,b)}var y=(0,r.stateify)("file",f,a.DOMAIN,a.DOMAIN),v=(0,r.stateify)("ftp",f,a.DOMAIN,a.DOMAIN),A=(0,r.stateify)("http",f,a.DOMAIN,a.DOMAIN),w=(0,r.stateify)("mailto",f,a.DOMAIN,a.DOMAIN);u.push.apply(u,y),u.push.apply(u,v),u.push.apply(u,A),u.push.apply(u,w);var k=y.pop(),E=v.pop(),x=A.pop(),O=w.pop(),C=d(a.DOMAIN),j=d(a.PROTOCOL),D=d(a.MAILTO);E.on("s",C).on(":",j),x.on("s",C).on(":",j),u.push(C),k.on(":",j),C.on(":",j),O.on(":",D);var N=(0,r.stateify)("localhost",f,a.LOCALHOST,a.DOMAIN);u.push.apply(u,N),f.on(s,p),p.on("-",m).on(s,p).on(l,h),h.on("-",m).on(l,h);for(var S=0;S<u.length;S++)u[S].on("-",m).on(l,h);m.on("-",m).on(s,h).on(l,h),f.defaultTransition=d(a.SYM);var T=f;t.State=r.CharacterState,t.TOKENS=o,t.run=function(e){for(var t=e.replace(/[A-Z]/g,(function(e){return e.toLowerCase()})),n=e.length,r=[],a=0;a<n;){for(var o=f,i=null,s=0,l=null,c=-1;a<n&&(i=o.next(t[a]));)(o=i).accepts()?(c=0,l=o):c>=0&&c++,s++,a++;if(!(c<0)){a-=c,s-=c;var u=l.emit();r.push(new u(e.substr(a-s,s)))}}return r},t.start=T},function(e,t,n){"use strict";t.__esModule=!0,t.start=t.run=t.TOKENS=t.State=void 0;var r=n(332),a=n(618),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),i=n(238),s=function(e){return new r.TokenState(e)},l=s(),c=s(),u=s(),d=s(),f=s(),p=s(),h=s(),m=s(a.URL),_=s(),g=s(a.URL),b=s(a.URL),y=s(),v=s(),A=s(),w=s(),k=s(),E=s(a.URL),x=s(a.URL),O=s(a.URL),C=s(a.URL),j=s(),D=s(),N=s(),S=s(),T=s(),M=s(),P=s(a.EMAIL),B=s(),I=s(a.EMAIL),L=s(a.MAILTOEMAIL),U=s(),R=s(),F=s(),z=s(),Q=s(a.NL);l.on(i.NL,Q).on(i.PROTOCOL,c).on(i.MAILTO,u).on(i.SLASH,d),c.on(i.SLASH,d),d.on(i.SLASH,f),l.on(i.TLD,p).on(i.DOMAIN,p).on(i.LOCALHOST,m).on(i.NUM,p),f.on(i.TLD,b).on(i.DOMAIN,b).on(i.NUM,b).on(i.LOCALHOST,b),p.on(i.DOT,h),T.on(i.DOT,M),h.on(i.TLD,m).on(i.DOMAIN,p).on(i.NUM,p).on(i.LOCALHOST,p),M.on(i.TLD,P).on(i.DOMAIN,T).on(i.NUM,T).on(i.LOCALHOST,T),m.on(i.DOT,h),P.on(i.DOT,M),m.on(i.COLON,_).on(i.SLASH,b),_.on(i.NUM,g),g.on(i.SLASH,b),P.on(i.COLON,B),B.on(i.NUM,I);var H=[i.DOMAIN,i.AT,i.LOCALHOST,i.NUM,i.PLUS,i.POUND,i.PROTOCOL,i.SLASH,i.TLD,i.UNDERSCORE,i.SYM,i.AMPERSAND],Y=[i.COLON,i.DOT,i.QUERY,i.PUNCTUATION,i.CLOSEBRACE,i.CLOSEBRACKET,i.CLOSEANGLEBRACKET,i.CLOSEPAREN,i.OPENBRACE,i.OPENBRACKET,i.OPENANGLEBRACKET,i.OPENPAREN];b.on(i.OPENBRACE,v).on(i.OPENBRACKET,A).on(i.OPENANGLEBRACKET,w).on(i.OPENPAREN,k),y.on(i.OPENBRACE,v).on(i.OPENBRACKET,A).on(i.OPENANGLEBRACKET,w).on(i.OPENPAREN,k),v.on(i.CLOSEBRACE,b),A.on(i.CLOSEBRACKET,b),w.on(i.CLOSEANGLEBRACKET,b),k.on(i.CLOSEPAREN,b),E.on(i.CLOSEBRACE,b),x.on(i.CLOSEBRACKET,b),O.on(i.CLOSEANGLEBRACKET,b),C.on(i.CLOSEPAREN,b),j.on(i.CLOSEBRACE,b),D.on(i.CLOSEBRACKET,b),N.on(i.CLOSEANGLEBRACKET,b),S.on(i.CLOSEPAREN,b),v.on(H,E),A.on(H,x),w.on(H,O),k.on(H,C),v.on(Y,j),A.on(Y,D),w.on(Y,N),k.on(Y,S),E.on(H,E),x.on(H,x),O.on(H,O),C.on(H,C),E.on(Y,E),x.on(Y,x),O.on(Y,O),C.on(Y,C),j.on(H,E),D.on(H,x),N.on(H,O),S.on(H,C),j.on(Y,j),D.on(Y,D),N.on(Y,N),S.on(Y,S),b.on(H,b),y.on(H,b),b.on(Y,y),y.on(Y,y),u.on(i.TLD,L).on(i.DOMAIN,L).on(i.NUM,L).on(i.LOCALHOST,L),L.on(H,L).on(Y,U),U.on(H,L).on(Y,U);var K=[i.DOMAIN,i.NUM,i.PLUS,i.POUND,i.QUERY,i.UNDERSCORE,i.SYM,i.AMPERSAND,i.TLD];p.on(K,R).on(i.AT,F),m.on(K,R).on(i.AT,F),h.on(K,R),R.on(K,R).on(i.AT,F).on(i.DOT,z),z.on(K,R),F.on(i.TLD,T).on(i.DOMAIN,T).on(i.LOCALHOST,P),t.State=r.TokenState,t.TOKENS=o,t.run=function(e){for(var t=e.length,n=0,r=[],o=[];n<t;){for(var i=l,s=null,c=null,u=0,d=null,f=-1;n<t&&!(s=i.next(e[n]));)o.push(e[n++]);for(;n<t&&(c=s||i.next(e[n]));)s=null,(i=c).accepts()?(f=0,d=i):f>=0&&f++,n++,u++;if(f<0)for(var p=n-u;p<n;p++)o.push(e[p]);else{o.length>0&&(r.push(new a.TEXT(o)),o=[]),n-=f,u-=f;var h=d.emit();r.push(new h(e.slice(n-u,n)))}}return o.length>0&&r.push(new a.TEXT(o)),r},t.start=l},function(e,t,n){"use strict";t.__esModule=!0,t.URL=t.TEXT=t.NL=t.EMAIL=t.MAILTOEMAIL=t.Base=void 0;var r=n(333),a=n(165),o=n(238),i=(0,r.createTokenClass)();i.prototype={type:"token",isLink:!1,toString:function(){for(var e=[],t=0;t<this.v.length;t++)e.push(this.v[t].toString());return e.join("")},toHref:function(){return this.toString()},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(e)}}};var s=(0,a.inherits)(i,(0,r.createTokenClass)(),{type:"email",isLink:!0}),l=(0,a.inherits)(i,(0,r.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),c=(0,a.inherits)(i,(0,r.createTokenClass)(),{type:"text"}),u=(0,a.inherits)(i,(0,r.createTokenClass)(),{type:"nl"}),d=(0,a.inherits)(i,(0,r.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",n=!1,r=!1,a=this.v,i=[],s=0;a[s]instanceof o.PROTOCOL;)n=!0,i.push(a[s].toString().toLowerCase()),s++;for(;a[s]instanceof o.SLASH;)r=!0,i.push(a[s].toString()),s++;for(;(e=a[s])instanceof o.DOMAIN||e instanceof o.TLD;)i.push(a[s].toString().toLowerCase()),s++;for(;s<a.length;s++)i.push(a[s].toString());return i=i.join(""),n||r||(i=t+"://"+i),i},hasProtocol:function(){return this.v[0]instanceof o.PROTOCOL}});t.Base=i,t.MAILTOEMAIL=s,t.EMAIL=l,t.NL=u,t.TEXT=c,t.URL=d},function(e,t,n){var r=n(334),a=n(337),o=n(622);function i(e,t){return new o(t).process(e)}for(var s in(t=e.exports=i).filterXSS=i,t.FilterXSS=o,r)t[s]=r[s];for(var s in a)t[s]=a[s];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},function(e,t,n){var r=n(335),a=n(621);function o(e){return null==e}function i(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}n(336),i.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,i=t.onIgnoreAttr,s=t.safeAttrValue;return a(e,(function(e,t,a,l,c){var u=n[a],d=!1;if(!0===u?d=u:"function"==typeof u?d=u(l):u instanceof RegExp&&(d=u.test(l)),!0!==d&&(d=!1),l=s(a,l)){var f,p={position:t,sourcePosition:e,source:c,isWhite:d};return d?o(f=r(a,l,p))?a+":"+l:f:o(f=i(a,l,p))?void 0:f}}))},e.exports=i},function(e,t,n){var r=n(336);e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,a=!1,o=0,i=0,s="";function l(){if(!a){var n=r.trim(e.slice(o,i)),l=n.indexOf(":");if(-1!==l){var c=r.trim(n.slice(0,l)),u=r.trim(n.slice(l+1));if(c){var d=t(o,s.length,c,u,n);d&&(s+=d+"; ")}}}o=i+1}for(;i<n;i++){var c=e[i];if("/"===c&&"*"===e[i+1]){var u=e.indexOf("*/",i+2);if(-1===u)break;o=(i=u+1)+1,a=!1}else"("===c?a=!0:")"===c?a=!1:";"===c?a||l():"\n"===c&&l()}return r.trim(s)}},function(e,t,n){var r=n(239).FilterCSS,a=n(334),o=n(337),i=o.parseTag,s=o.parseAttr,l=n(240);function c(e){return null==e}function u(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=a.onIgnoreTagStripAll),e.whiteList=e.whiteList||e.allowList||a.whiteList,e.onTag=e.onTag||a.onTag,e.onTagAttr=e.onTagAttr||a.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||a.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||a.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||a.safeAttrValue,e.escapeHtml=e.escapeHtml||a.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}u.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,o=t.onIgnoreTag,u=t.onTagAttr,d=t.onIgnoreTagAttr,f=t.safeAttrValue,p=t.escapeHtml,h=this.cssFilter;t.stripBlankChar&&(e=a.stripBlankChar(e)),t.allowCommentTag||(e=a.stripCommentTag(e));var m=!1;t.stripIgnoreTagBody&&(m=a.StripTagBody(t.stripIgnoreTagBody,o),o=m.onIgnoreTag);var _=i(e,(function(e,t,a,i,m){var _,g={sourcePosition:e,position:t,isClosing:m,isWhite:n.hasOwnProperty(a)};if(!c(_=r(a,i,g)))return _;if(g.isWhite){if(g.isClosing)return"</"+a+">";var b=function(e){var t=l.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=l.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=l.trim(e.slice(0,-1))),{html:e,closing:n}}(i),y=n[a],v=s(b.html,(function(e,t){var n,r=-1!==l.indexOf(y,e);return c(n=u(a,e,t,r))?r?(t=f(a,e,t,h))?e+'="'+t+'"':e:c(n=d(a,e,t,r))?void 0:n:n}));return i="<"+a,v&&(i+=" "+v),b.closing&&(i+=" /"),i+">"}return c(_=o(a,i,g))?p(i):_}),p);return m&&(_=m.remove(_)),_},e.exports=u},function(e,t,n){e.exports={toolbar_action:"_1PNVCexAC_Wq7LsgzJ_oJw"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};exports.base=base,exports.priority=priority,exports.project=project,exports.multiple=multiple;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_mobx=__webpack_require__(3),_utils=__webpack_require__(9),Utils=_interopRequireWildcard(_utils),_field=__webpack_require__(115),_field2=_interopRequireDefault(_field),_upload=__webpack_require__(300),_upload2=_interopRequireDefault(_upload),_reactTippy=__webpack_require__(63),_donut=__webpack_require__(151),_donut2=_interopRequireDefault(_donut),_priority_options=__webpack_require__(109),_priority_options2=_interopRequireDefault(_priority_options),_risk_options=__webpack_require__(110),_risk_options2=_interopRequireDefault(_risk_options),_reactTextareaAutosize=__webpack_require__(410),_reactTextareaAutosize2=_interopRequireDefault(_reactTextareaAutosize),_reactMentions=__webpack_require__(258),_mentions=__webpack_require__(237),_mentions2=_interopRequireDefault(_mentions);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var filetypes={xls:"file-excel",xlsx:"file-excel",calc:"file-excel",doc:"file-word",docx:"file-word",pdf:"file-pdf",png:"file-image",svg:"file-image",jpeg:"file-image",jpg:"file-image",gif:"file-image",ppt:"file-powerpoint",pptx:"file-powerpoint"},getExtension=function(e){var t=e.split("."),n=t[t.length-1];return filetypes[n]?filetypes[n]:"file"};function base(){var _this=this,uistate=this.store.uistate,tasks=this.store.tasks,is_active=tasks.selected.length>0,comments=this.store.comments.filtered,multi_select=tasks.selected.length>1,active_task=!multi_select&&tasks.selected[0],users_info={};this.store.users.filtered.forEach((function(e){users_info[e.id]=e,e.user_id&&(users_info[e.user_id]=e)}));var cant_change_parent=-1==["group","project"].indexOf(this.store.projects.selected.type)||"team"==this.store.projects.selected.subtype,button_completion_class=eval(active_task.completed)?"btn-primary":"btn-success",button_completion_title=eval(active_task.completed)?"Mark as pending":"Mark as done";return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"title"},_react2.default.createElement("div",{style:{fontSize:"16px",color:"#888",cursor:"pointer"},className:"pull-right"},_react2.default.createElement("i",{onClick:this.closeWindow,className:"fa fa-times"}))),_react2.default.createElement("div",{className:"inner-content",ref:function(e){return _this.inner_content=e}},_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"task-name-info",style:{marginTop:0}},_react2.default.createElement("h4",null,_react2.default.createElement(_field2.default,{tasks:tasks,className:"cell cell-editable sglclick","data-attribute":"name","data-type":"text"},tasks.selected[0].name),_react2.default.createElement("div",{className:"clearfix"})))),_react2.default.createElement("div",{style:{display:"flex",fontSize:"12px"}},this.store.uistate.columns.progress.active&&_react2.default.createElement("div",{className:"donut-container dropdown"},_react2.default.createElement("span",{style:{cursor:"pointer"},className:"dropdown-toggle","data-toggle":"dropdown"},_react2.default.createElement(_donut2.default,{value:parseInt(active_task.calculated_progress||0),strokewidth:6,size:35,valuelabel:""}))),this.store.uistate.columns.assignee.active&&_react2.default.createElement("div",{style:{flexGrow:1},className:"main-field-container"},_react2.default.createElement("div",{className:"field-title"},_react2.default.createElement("div",{className:"pull-left",style:{marginRight:"10px"}},_react2.default.createElement("i",{className:"fa fa-user fa-fw"})," Assignee"),_react2.default.createElement("div",{className:"clearfix"})),_react2.default.createElement(_field2.default,{tasks:tasks,className:"cell field-assignee cell-editable sglclick","data-type":"assignee"},_react2.default.createElement("span",null,active_task.get_users_names||"Unassigned"),_react2.default.createElement("div",{className:"clearfix"}))),_react2.default.createElement("div",_defineProperty({style:{flexGrow:1},className:"main-field-container"},"style",{width:"210px"}),_react2.default.createElement("div",{className:"field-title"},_react2.default.createElement("div",{className:"pull-left",style:{marginRight:"10px",paddingLeft:"10px"}},_react2.default.createElement("i",{className:"fa fa-calendar fa-fw"})," Dates"),_react2.default.createElement("div",{className:"clearfix"})),active_task.locked&&_react2.default.createElement("i",{className:"pull-left fa fa-fw fa-lock",style:{color:"#ef410b",paddingTop:"3px",marginRight:"3px"}}),(""==active_task.start||""==active_task.due)&&!(active_task.container&&active_task.container.start)&&_react2.default.createElement(_field2.default,_extends({tasks:tasks,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},0!=active_task.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),"Not scheduled"),active_task.start&&""!=active_task.start&&active_task.due&&""!=active_task.due&&!active_task.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,{tasks:tasks,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},active_task.start==active_task.due?moment(active_task.due).format("DD MMM YYYY"):moment(active_task.start).format("DD MMM YYYY")+" to "+moment(active_task.due).format("DD MMM YYYY"))),active_task.start&&""!=active_task.start&&active_task.due&&""!=active_task.due&&active_task.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,{tasks:tasks,className:"cell cell-editable sglclick","data-attribute":"start","data-type":"date"},moment(active_task.due).format("DD MMM YYYY"))),""==active_task.start&&""==active_task.due&&active_task.container&&active_task.container.start&&_react2.default.createElement(_field2.default,_extends({tasks:tasks,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},0!=active_task.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),active_task.container.start==active_task.container.due?moment(active_task.container.due).format("DD MMM YYYY"):moment(active_task.container.start).format("DD MMM YYYY")+" to "+moment(active_task.container.due).format("DD MMM YYYY")))),_react2.default.createElement("div",{className:"mini-fields-container"},_react2.default.createElement("div",{style:{display:"flex",textAlign:"center"}},this.store.uistate.columns.estimatedhours.active&&_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Estimated Hours",position:"top",size:"small"},"EH")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=active_task.get_estimated_hours.estimated_hours?active_task.get_estimated_hours.estimated_hours:"-",className:"cell cell-editable sglclick field-mini","data-attribute":"estimated_hours","data-type":"number"},active_task.get_estimated_hours.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip","data-placement":"right",title:"This is a summary cell","data-trigger":"click"})),_react2.default.createElement("div",null)),this.store.uistate.columns.actualhours.active&&_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Actual Hours",position:"top",size:"small"},"AH")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=active_task.get_actual_hours.actual_hours?active_task.get_actual_hours.actual_hours+"h":"-",className:"cell cell-editable sglclick field-mini","data-attribute":"actual_hours","data-type":"number"},active_task.get_actual_hours.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))),this.store.uistate.columns.estimatedcost.active&&_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Estimated Cost",position:"top",size:"small"},"EC")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=active_task.get_estimated_cost.estimated_cost?"$"+Number(active_task.get_estimated_cost.estimated_cost).money(2,3,".",","):"-",className:"cell cell-editable sglclick field-mini","data-attribute":"estimated_cost","data-type":"number"},active_task.get_estimated_cost.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))),this.store.uistate.columns.actualcost.active&&_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Actual Cost",position:"top",size:"small"},"AC")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=active_task.get_actual_cost.actual_cost?"$"+Number(active_task.get_actual_cost.actual_cost).money(2,3,".",","):"-",className:"cell cell-editable sglclick field-mini","data-attribute":"actual_cost","data-type":"number"},active_task.get_actual_cost.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))),this.store.uistate.columns.priority.active&&_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Priority",position:"top",size:"small"},"PR")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=active_task.get_priority.priority?active_task.get_priority.priority:"-",className:"cell sglclick field-mini","data-attribute":"priority_user","data-type":"dropdown",options:_priority_options2.default},active_task.get_priority.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))),this.store.uistate.columns.estimatedhours.active&&_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Risk",position:"top",size:"small"},"RI")),_react2.default.createElement(_field2.default,_extends({tasks:tasks,value:""!=active_task.get_risk.risk?active_task.get_risk.risk:"-",className:"cell sglclick field-mini","data-attribute":"risk","data-type":"dropdown",options:_risk_options2.default},active_task.get_risk.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))))),this.store.uistate.columns.estimatedhours.active&&""!=active_task.get_estimated_hours.estimated_hours&&0!==active_task.get_estimated_hours.estimated_hours&&_react2.default.createElement("div",{style:{padding:"0 30px",fontSize:"10px",color:"#4F677F",marginTop:"-5px",marginBottom:"5px"}},"Estimated hours:  ",_react2.default.createElement("span",null,uistate.skip_weekends&&""!=active_task.start&&""!=active_task.due&&_react2.default.createElement("span",null,_react2.default.createElement("b",null,(Number(active_task.get_estimated_hours.estimated_hours)/Number(Utils.workingDaysLength(moment(active_task.start).toDate(),moment(active_task.due).toDate(),active_task.get_users_ids)+1)).toPrecision(3))," hours per day"),!uistate.skip_weekends&&""!=active_task.start&&""!=active_task.due&&_react2.default.createElement("span",null,_react2.default.createElement("b",null,(Number(active_task.get_estimated_hours.estimated_hours)/Number(Utils.daysDiff(moment(active_task.due),moment(active_task.start))+1)).toPrecision(3))," hours per day"))),_react2.default.createElement("table",{className:"table task-name"},_react2.default.createElement("tbody",null,active_task.raw_childrens_count>0&&this.renderSubtasks(),_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},""!=active_task.notes.trim()&&_react2.default.createElement("i",{className:"fas fa-align-left"})),_react2.default.createElement("td",null,!1===this.editing_notes&&""!=active_task.notes.trim()&&_react2.default.createElement("p",{className:"notes-content"},active_task.notes.split("\n").map((function(e,t){return _react2.default.createElement("span",{key:t},e,_react2.default.createElement("br",null))}))))),active_task.get_tags.length>0&&_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fa fa-tags fa-fw"})),_react2.default.createElement("td",{className:"interior"},active_task.get_tags.map((function(e){return _react2.default.createElement("span",null,_react2.default.createElement("span",{className:"tag label"},e.name," ")," ")}))))))))}function priority(){var e=this,t=(this.store.uistate,this.store.tasks),n=(t.selected.length,!(t.selected.length>1)&&t.selected[0]);return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"title"},_react2.default.createElement("div",{style:{fontSize:"16px",color:"#888",cursor:"pointer"},className:"pull-right"},_react2.default.createElement("i",{onClick:this.closeWindow,className:"fa fa-times"})),_react2.default.createElement("div",{style:{clear:"both"}})),_react2.default.createElement("div",{className:"inner-content"},_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"task-name-info",style:{marginTop:0}},_react2.default.createElement("h4",null,_react2.default.createElement(_field2.default,{tasks:t,className:"cell cell-editable sglclick","data-attribute":"name","data-type":"text"},t.selected[0].name),_react2.default.createElement("div",{className:"clearfix"})))),_react2.default.createElement("div",{style:{display:"flex",fontSize:"12px"}},_react2.default.createElement("div",{className:"donut-container dropdown"},_react2.default.createElement("span",{style:{cursor:"pointer"},className:"dropdown-toggle","data-toggle":"dropdown"},_react2.default.createElement(_donut2.default,{value:parseInt(n.calculated_progress||0),strokewidth:6,size:35,valuelabel:""})),_react2.default.createElement("ul",{className:"dropdown-menu"},_react2.default.createElement("li",null,_react2.default.createElement("a",{href:"javascript:void(0);"},_react2.default.createElement("b",null,"This is a section"),_react2.default.createElement("br",null),"Sections inherit their progress ",_react2.default.createElement("br",null)," from it's inner tasks.")))),_react2.default.createElement("div",_defineProperty({style:{flexGrow:1},className:"main-field-container"},"style",{width:"210px"}),_react2.default.createElement("div",{className:"field-title"},_react2.default.createElement("div",{className:"pull-left",style:{marginRight:"10px"}},_react2.default.createElement("i",{className:"fa fa-calendar fa-fw"})," Dates"),_react2.default.createElement("div",{className:"pull-left dropdown"},_react2.default.createElement("span",{style:{cursor:"pointer"},className:"dropdown-toggle","data-toggle":"dropdown"},_react2.default.createElement("i",{className:"fas fa-ellipsis-h"})),_react2.default.createElement("ul",{className:"dropdown-menu",style:{fontSize:"11px"}},_react2.default.createElement("li",null,_react2.default.createElement("a",{href:"#",onClick:this.lockDates},_react2.default.createElement("i",{className:["fa fa-fw",n.locked?"fa-lock":"fa-unlock-alt"].join(" ")})," ",n.locked?"Unlock":"Lock"),_react2.default.createElement("a",{href:"#",onClick:this.removeDates},_react2.default.createElement("i",{className:"fa-fw far fa-trash-alt"})," Remove dates")))),_react2.default.createElement("div",{className:"clearfix"})),(""==n.start||""==n.due)&&!(n.container&&n.container.start)&&_react2.default.createElement(_field2.default,_extends({tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},n.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),"Not scheduled"),""!=n.start&&""!=n.due&&!n.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,_extends({tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},n.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),n.start==n.due?moment(n.due).format("DD MMM YYYY"):moment(n.start).format("DD MMM YYYY")+" to "+moment(n.due).format("DD MMM YYYY"))),""!=n.start&&""!=n.due&&n.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,_extends({tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-type":"date"},n.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),moment(n.due).format("DD MMM YYYY"))),""==n.start&&""==n.due&&n.container&&n.container.start&&_react2.default.createElement(_field2.default,_extends({tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},n.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),n.container.start==n.container.due?moment(n.container.due).format("DD MMM YYYY"):moment(n.container.start).format("DD MMM YYYY")+" to "+moment(n.container.due).format("DD MMM YYYY")))),_react2.default.createElement("div",{className:"mini-fields-container"},_react2.default.createElement("div",{style:{display:"flex",textAlign:"center"}},_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Estimated Hours",position:"top",size:"small"},"EH")),_react2.default.createElement(_field2.default,_extends({tasks:t,value:""!=n.get_estimated_hours.estimated_hours?n.get_estimated_hours.estimated_hours:"-",className:"cell cell-editable sglclick field-mini","data-attribute":"estimated_hours","data-type":"number"},n.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip","data-placement":"right",title:"This is a summary cell","data-trigger":"click"}:{})),_react2.default.createElement("div",null)),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Actual Hours",position:"top",size:"small"},"AH")),_react2.default.createElement(_field2.default,_extends({tasks:t,value:""!=n.get_actual_hours.actual_hours?n.get_actual_hours.actual_hours+"h":"-",className:"cell cell-editable sglclick field-mini","data-attribute":"actual_hours","data-type":"number"},n.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Estimated Cost",position:"top",size:"small"},"EC")),_react2.default.createElement(_field2.default,_extends({tasks:t,value:""!=n.get_estimated_cost.estimated_cost?"$"+Number(n.get_estimated_cost.estimated_cost).money(2,3,".",","):"-",className:"cell cell-editable sglclick field-mini","data-attribute":"estimated_cost","data-type":"number"},n.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Actual Cost",position:"top",size:"small"},"AC")),_react2.default.createElement(_field2.default,_extends({tasks:t,value:""!=n.get_actual_cost.actual_cost?"$"+Number(n.get_actual_cost.actual_cost).money(2,3,".",","):"-",className:"cell cell-editable sglclick field-mini","data-attribute":"actual_cost","data-type":"number"},n.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Priority",position:"top",size:"small"},"PR")),_react2.default.createElement(_field2.default,_extends({tasks:t,value:""!=n.get_priority.priority?n.get_priority.priority:"-",className:"cell sglclick field-mini","data-attribute":"priority_user","data-type":"dropdown",options:_priority_options2.default},n.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))),_react2.default.createElement("div",{style:{flexGrow:1}},_react2.default.createElement("div",{className:"field-mini-title"},_react2.default.createElement(_reactTippy.Tooltip,{arrow:!0,title:"Risk",position:"top",size:"small"},"RI")),_react2.default.createElement(_field2.default,_extends({tasks:t,value:""!=n.get_risk.risk?n.get_risk.risk:"-",className:"cell sglclick field-mini","data-attribute":"risk","data-type":"dropdown",options:_risk_options2.default},n.is_priority_heading?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))))),_react2.default.createElement("table",{className:"table task-name"},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fas fa-align-left"})),_react2.default.createElement("td",null,!1===this.editing_notes&&""!=n.notes.trim()&&_react2.default.createElement("p",{className:"notes-content",onClick:function(){return e.editing_notes=n.notes}},n.notes.split("\n").map((function(e,t){return _react2.default.createElement("span",{key:t},e,_react2.default.createElement("br",null))})))))))))}function project(){var e=this.store.uistate,t=this.store.tasks,n=(t.selected.length,!(t.selected.length>1)&&t.selected[0]);return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"title"},_react2.default.createElement("div",{className:"pull-left title-inner"}),_react2.default.createElement("div",{style:{fontSize:"11px",color:"#888",cursor:"pointer"},className:"pull-right"},_react2.default.createElement("i",{onClick:this.closeWindow,className:"fa fa-times"})),_react2.default.createElement("div",{style:{clear:"both"}})),_react2.default.createElement("div",{className:"inner-content"},n.calculated_progress&&"0%"!=n.calculated_progress&&_react2.default.createElement("div",{className:"progress progress-success progress-striped",style:{borderRadius:0,height:"15px",marginBottom:0}},_react2.default.createElement("div",{className:"bar",style:{fontSize:"11px",lineHeight:"13px",fontWeight:"bold",width:n.calculated_progress}},n.calculated_progress)),_react2.default.createElement("table",{className:"table task-name"},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",null,_react2.default.createElement("div",{className:"task-name-info"},_react2.default.createElement("h4",null,t.selected[0].name)))))),_react2.default.createElement("table",{className:"table task-values"},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fa fa-calendar fa-fw"})),_react2.default.createElement("td",{className:"interior"},(""==n.start||""==n.due)&&!(n.container&&n.container.start)&&_react2.default.createElement(_field2.default,_extends({tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},0!=n.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),"Not scheduled"),""!=n.start&&""!=n.due&&!n.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,{tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},n.start==n.due?moment(n.due).format("DD MMM YYYY"):moment(n.start).format("DD MMM YYYY")+" to "+moment(n.due).format("DD MMM YYYY")),_react2.default.createElement("div",{className:"pull-right cell cell-editable",style:{float:"right"}},_react2.default.createElement("a",{href:"javascript:void(0)"},_react2.default.createElement("i",{className:"far fa-trash-alt",onClick:this.removeDates})))),""!=n.start&&""!=n.due&&n.is_milestone&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,{tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-type":"date"},moment(n.due).format("DD MMM YYYY")),_react2.default.createElement("div",{className:"pull-right cell cell-editable",style:{float:"right"}},_react2.default.createElement("i",{className:"fa fa-trash",onClick:this.removeDates}))),""==n.start&&""==n.due&&n.container&&n.container.start&&_react2.default.createElement(_field2.default,_extends({tasks:t,className:"cell cell-editable sglclick","data-attribute":"start","data-attribute-end":"due","data-type":"daterange"},0!=n.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),n.container.start==n.container.due?moment(n.container.due).format("DD MMM YYYY"):moment(n.container.start).format("DD MMM YYYY")+" to "+moment(n.container.due).format("DD MMM YYYY")))),_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"interior"},_react2.default.createElement("i",{className:"fa fa-clock fa-fw"})),_react2.default.createElement("td",{className:"interior"},(""==n.get_estimated_hours.estimated_hours||0==n.get_estimated_hours.estimated_hours)&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,_extends({tasks:t,value:""!=n.get_estimated_hours.estimated_hours?n.get_estimated_hours.estimated_hours:"Estimated hours",className:"cell cell-editable sglclick","data-attribute":"estimated_hours","data-type":"number"},n.get_estimated_hours.editable?{}:{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}))),""!=n.get_estimated_hours.estimated_hours&&0!=n.get_estimated_hours.estimated_hours&&_react2.default.createElement("div",null,_react2.default.createElement(_field2.default,_extends({tasks:t,className:"cell cell-editable sglclick","data-attribute":"estimated_hours","data-type":"number"},0!=!n.get_estimated_hours.editable?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}),n.get_estimated_hours.estimated_hours&&_react2.default.createElement("div",null,n.get_estimated_hours.estimated_hours," hours  ",e.skip_weekends&&""!=n.start&&""!=n.due&&_react2.default.createElement("span",null,"(",(Number(n.get_estimated_hours.estimated_hours)/Number(Utils.workingDaysLength(moment(n.start).toDate(),moment(n.due).toDate(),n.get_users_ids)+1)).toPrecision(3)," hours per day)"),!e.skip_weekends&&""!=n.start&&""!=n.due&&_react2.default.createElement("span",null,"(",(Number(n.get_estimated_hours.estimated_hours)/Number(Utils.daysDiff(moment(n.due),moment(n.start))+1)).toPrecision(3)," hours per day)")),!n.get_estimated_hours.estimated_hours&&_react2.default.createElement("span",{className:""},"Estimated Hours")),n.raw_childrens_count>0&&n.get_estimated_hours.estimated_hours!=n.calculated_estimated_hours&&_react2.default.createElement("div",{style:{clear:"both"}},_react2.default.createElement("span",{className:"muted"},"Using ",_react2.default.createElement("b",null,"custom value"),". Delete it to use ",_react2.default.createElement("b",null,"sum of childs"),"."))))),_react2.default.createElement("tr",{className:"change-estimated-hours hide"},_react2.default.createElement("td",{className:"interior"}),_react2.default.createElement("td",null,n.get_estimated_hours.editable&&_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"pull-left",id:""},_react2.default.createElement("input",{type:"text",className:"input-estimated-hours",value:n.get_estimated_hours.estimated_hours,style:{width:"25px",padding:"1px 2px",verticalAlign:"baseline"}})," Hours"),_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement("button",{className:"btn btn-small btn-cancel-change-estimated-hours"},"Cancel"),_react2.default.createElement("button",{className:"btn btn-small btn-success btn-save-change-estimated-hours"},"Save")),_react2.default.createElement("div",{className:"clearfix"})),!n.get_estimated_hours.editable&&_react2.default.createElement("span",null,"This is a summary field. Changing it on the subtasks will modify this value")))))))}function multiple(){this.store.uistate;var e=this.store.tasks,t=(e.selected.length,e.selected.length,[]);e.selected.forEach((function(e){var n=e.tags.toJS();t=_.union(t,n)})),t=_.unique(t,!1,(function(e,t,n){return e.id})),e.selected[0].color;var n=1==(n=_.unique(e.selected.map((function(e){return e.get_estimated_hours.estimated_hours})))).length&&""!=n[0]&&n,r=1==(r=_.unique(e.selected.map((function(e){return e.calculated_progress})))).length&&""!=r[0]&&r;return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"title"},_react2.default.createElement("div",{style:{fontSize:"11px",color:"#888",cursor:"pointer"},className:"pull-right"},_react2.default.createElement("i",{onClick:this.closeWindow,className:"fa fa-times"})),_react2.default.createElement("div",{style:{clear:"both"}})),_react2.default.createElement("div",{className:"inner-content"},_react2.default.createElement("h4",{className:"cell multi-select-header"},e.selected.length," tasks selected")))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=m(s),c=n(6),u=n(3),d=h(n(9)),f=(h(n(299)),m(n(115)),n(258)),p=m(n(237));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var _,g,b,y,v,A=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"new_comment",a=i,(r=o)&&Object.defineProperty(n,"new_comment",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.followTask=i.followTask.bind(i),i.addComment=i.addComment.bind(i),i.deleteComment=i.deleteComment.bind(i),i.handleNewCommentChange=i.handleNewCommentChange.bind(i),i.handleCommentKeyDown=i.handleCommentKeyDown.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"followTask",value:function(e){}},{key:"addComment",value:function(e,t){if(""!=e.trim()){this.store.comments.create({message:e,user_id:"standalone"==this.store.user.type?this.store.user.id:this.store.user.asana_account.id,datetime:new Date}).then((function(){}));for(var n=[],r=e.split(/@\[.+\]\((user:)([^\)]+)\)/g),a=0;a<r.length-1;a++)"user:"===r[a]&&n.push(r[a+1]);this.followTask(n)}}},{key:"deleteComment",value:function(e){confirm("Are you sure? This can't be undone")&&("standalone"==this.store.user.type?e.save({deleted:!0}).then((function(){e.destroy()})):e.destroy())}},{key:"handleNewCommentChange",value:function(e){e.target.value[e.target.value.length-1],this.new_comment=e.target.value}},{key:"handleCommentKeyDown",value:function(e){(e.ctrlKey||e.metaKey)&&"Enter"==e.key&&(this.addComment(this.new_comment,this.inner_content),this.new_comment="")}},{key:"render",value:function(){var e=this,t=this.store.comments.filtered,n=this.store.comments.getTasks()[0],r={};return this.store.users.filtered.forEach((function(e){r[e.id]=e,e.user_id&&(r[e.user_id]=e)})),l.default.createElement("div",{class:"task-details"},l.default.createElement("div",null,!this.store.uistate.comments_loading&&n&&t.length>0&&t.map((function(t){return l.default.createElement("tr",{className:"comment"},l.default.createElement("td",{className:"interior"},l.default.createElement("div",{className:"comment-photo"},t.user&&t.user.photo&&t.user.photo.image_60x60&&l.default.createElement("a",{href:"#"},l.default.createElement("img",{src:t.user.photo.image_60x60,className:"assigned-photo"})),t.user&&(!t.user.photo||!t.user.photo.image_60x60)&&l.default.createElement("a",{href:"#"},l.default.createElement("i",{style:{fontSize:"16px"},className:"fa fa-user-circle"})),!t.user&&r[t.user_id].photo&&l.default.createElement("a",{href:"#"},l.default.createElement("img",{src:r[t.user_id].photo.image_60x60,className:"assigned-photo"})),!t.user&&!r[t.user_id].photo&&l.default.createElement("a",{href:"#"},l.default.createElement("i",{style:{fontSize:"16px"},className:"fa fa-user-circle"})))),l.default.createElement("td",{className:"interior comment-content"},l.default.createElement("div",null,t.user&&l.default.createElement("span",{style:{fontWeight:"bold",fontSize:"10px"}},t.user.name,":"),!t.user&&l.default.createElement("span",{style:{fontWeight:"bold",fontSize:"10px"}},r[t.user_id].name,":"),(t.user_id==e.store.user.id||e.store.user.asana_account&&t.user&&e.store.user.asana_account.id==t.user.id)&&l.default.createElement("div",{style:{float:"right",fontSize:"10px",color:"#AAA",position:"relative",marginLeft:"10px"}},l.default.createElement("a",{href:"javascript:void(0)",className:"dropdown-toggle","data-toggle":"dropdown",style:{fontSize:"16px",color:"#888",cursor:"pointer"}},l.default.createElement("i",{className:"fas fa-ellipsis-h"})),l.default.createElement("ul",{className:"dropdown-menu",style:{marginLeft:"-85px",position:"absolute",background:"#fff",boxShadow:"0 0 5px rgba(0,0,0,0.2)",borderRadius:"5px",minWidth:"100px"},role:"menu"},l.default.createElement("li",null,l.default.createElement("a",{href:"#","data-color":"",className:"set-color",onClick:function(){return e.deleteComment(t)}},"Delete")))),l.default.createElement("div",{style:{float:"right",fontSize:"10px",color:"#AAA"}},moment(t.datetime).fromNow()," ")),t.html_message&&l.default.createElement("div",{dangerouslySetInnerHTML:{__html:t.html_message}}),!t.html_message&&l.default.createElement("div",null,d.replaceUsers(t.message).map((function(e){return l.default.createElement("span",null,"user"===e.type&&l.default.createElement("strong",null,e.value),"user"!==e.type&&l.default.createElement("span",null,e.value))})))))})),this.store.projects.selected&&l.default.createElement("div",{className:"fixed-new-comment"},l.default.createElement("div",null,"standalone"==this.store.user.type&&l.default.createElement(f.MentionsInput,{value:this.new_comment,onChange:this.handleNewCommentChange,onKeyDown:this.handleCommentKeyDown,markup:"@[__display__](__type__:__id__)",placeholder:"Mention people using '@'",classNames:p.default,style:{suggestions:{top:"auto",bottom:"20px"}}},l.default.createElement(f.Mention,{trigger:"@",type:"user",classNames:p.default.metions__mention,data:this.users})),"standalone"!=this.store.user.type&&l.default.createElement(f.MentionsInput,{value:this.new_comment,onChange:this.handleNewCommentChange,onKeyDown:this.handleCommentKeyDown,markup:"#!$%[__display__]",placeholder:"Add comment...",classNames:p.default,style:{suggestions:{top:"auto",bottom:"20px"}}},l.default.createElement(f.Mention,{trigger:"",type:"user",classNames:p.default.metions__mention,data:[]})),l.default.createElement("button",{className:"btn btn-flat btn-info btn-small",style:{float:"right"},onClick:function(t){e.addComment(e.new_comment,e.inner_content),e.new_comment=""}},"Comment")))))}}]),t}(),_=a.prototype,g="new_comment",b=[u.observable],y={enumerable:!0,initializer:function(){return""}},v={},Object.keys(y).forEach((function(e){v[e]=y[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),void 0===(v=b.slice().reverse().reduce((function(e,t){return t(_,g,e)||e}),v)).initializer&&(Object.defineProperty(_,g,v),v=null),o=v,r=a))||r;t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),h=(i=p)&&i.__esModule?i:{default:i},m=n(6),_=n(3),g=(0,m.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"tasks",a=i,(r=o)&&Object.defineProperty(n,"tasks",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.reactions=[],i.store=i.props.store,i.store.users.fetch(),i.open=i.open.bind(i),i.tasks=[],i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),f(t,[{key:"componentDidMount",value:function(){var e=this;this.store.uistate.is_mobile&&router.toggleSidebar(),this.store.inbox._fetch(),this.store.uistate.registerComponent({name:"inbox",node:this.component}),this.reactions.push((0,_.reaction)((function(){var t=e.store.tasks.selected[0];return[t,!!t&&t.name,!!t&&t.last_read,!!t&&t.last_change]}),(function(){e.store.inbox.updateLocalInbox()})))}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"open",value:function(e){var t=this.store.uistate;t.inbox_selected_task=e,this.store.inbox.filtered.forEach((function(e){return e.selected=!1})),e.selected=!0,t.task_editing_cell=!1,t.task_details_open=!0,t.new_sibling_task=!1}},{key:"render",value:function(){var e=this;return this.store.uistate,h.default.createElement("div",{className:["tasks-container"].join(" "),ref:function(t){e.component=t}},0==this.store.inbox.filtered.length&&h.default.createElement("div",{style:{color:"#999",padding:"30px",textAlign:"center"}},h.default.createElement("i",{className:"fas fa-inbox",style:{fontSize:"50px"}}),h.default.createElement("h2",null,"Your inbox is empty!"),h.default.createElement("p",null,"Whenever someone tags you in a comment, the task will appear here")),h.default.createElement("ul",{className:"tasks-list-inbox"},this.store.inbox.filtered.map((function(t){return h.default.createElement("li",{className:[e.store.inbox.selected.length>0&&e.store.inbox.selected[0].id==t.id?"active":"",t.last_change<=(t.last_read[e.store.user.id]||0)?"read":""].join(" "),onClick:function(){e.open(t)}},h.default.createElement("div",{className:"project"},"On project ",(e.store.projects.get(t.project_id)||{}).name),h.default.createElement("div",{style:{display:"flex"}},t.last_change>(t.last_read[e.store.user.id]||0)&&h.default.createElement("i",{className:"fa fa-circle unread-icon"}),h.default.createElement("div",{className:["name",t.last_change<=(t.last_read[e.store.user.id]||0)?"read":""].join(" ")},t.name),h.default.createElement("div",{className:["date",t.last_change<=(t.last_read[e.store.user.id]||0)?"read":""].join(" ")},moment(1e3*t.last_change).format("MMM DD"))),h.default.createElement("div",{className:"description"},t.notes.split("\n").map((function(e,t){return h.default.createElement(h.default.Fragment,null,e,h.default.createElement("br",null))}))))}))))}}]),t}(),s=a.prototype,l="tasks",c=[_.observable],u={enumerable:!0,initializer:function(){return[]}},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),void 0===(d=c.slice().reverse().reduce((function(e,t){return t(s,l,e)||e}),d)).initializer&&(Object.defineProperty(s,l,d),d=null),o=d,r=a))||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),u=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reactions=[],n.store=n.props.store,n.uistate=n.store.uistate,n.scrollToday=n.scrollToday.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"scrollToday",value:function(){var e=this.store.uistate,t=this.store.tasks,n=new Date,r=Math.ceil(c.daysDiff(n,e.calendar.first_month_first_date)/e.column_length-1)*e.column_width,a=e.scroll_positions[e.active_view].top;t.scroll_to={top:a,left:r}}},{key:"render",value:function(){return"print"==this.store.mode?null:s.default.createElement("div",null,s.default.createElement("div",{onClick:this.scrollToday,className:"today-header-button-right today-header-button",style:{display:"none",right:(this.store.uistate.is_mobile,10),top:8,zIndex:1010}},"Today ",s.default.createElement("i",{className:"fa fa-arrow-circle-right"})),s.default.createElement("div",{onClick:this.scrollToday,className:"today-header-button-left today-header-button",style:{display:"none",left:this.uistate.get_sidebar_width+10,top:8,zIndex:1010}},s.default.createElement("i",{className:"fa fa-arrow-circle-left"})," Today"))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base=function(){return a.default.createElement("div",null,a.default.createElement("div",{id:"inline-prompt",className:"rectify-menu animated fadeInLeft"},a.default.createElement("div",{className:"button",style:{width:"100%"}},a.default.createElement("span",{style:{fontSize:13}},"Please review the changes"),a.default.createElement("br",null),a.default.createElement("button",{className:"btn btn-small btn-success btn-save-rectify"},"Save changes"),a.default.createElement("button",{className:"btn btn-small btn-danger btn-dismiss-rectify"},"Dismiss changes")),a.default.createElement("div",{className:"pull-right"})),a.default.createElement("div",{id:"multiselect-toolbar",className:"animated fadeInLeft"},a.default.createElement("div",{className:"button"},a.default.createElement("div",{className:"dropdown-toggle","data-toggle":"dropdown"},a.default.createElement("i",{className:"fa fa-tint"}),"  ",a.default.createElement("br",null),"Color"),a.default.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dLabel",style:{}},a.default.createElement("li",{style:{height:80}},a.default.createElement("a",{href:"javascript:void(0);","data-color":!0,className:"set-color"},"Default",a.default.createElement("div",{className:"muted"},a.default.createElement("div",{className:"color-box-mini color-ontime pull-left"})," On time ",a.default.createElement("div",{className:"clearfix"}),a.default.createElement("div",{className:"color-box-mini color-overdue pull-left"})," Overdue ",a.default.createElement("div",{className:"clearfix"}),a.default.createElement("div",{className:"color-box-mini color-completed pull-left"})," Completed ",a.default.createElement("div",{className:"clearfix"})))),a.default.createElement("li",{className:"divider"}),a.default.createElement("li",{style:{paddingLeft:10}},a.default.createElement("div",{className:"dark-pink pull-left color-box set-color","data-color":"dark-pink"}),a.default.createElement("div",{className:"dark-green pull-left color-box set-color","data-color":"dark-green"}),a.default.createElement("div",{className:"dark-blue pull-left color-box set-color","data-color":"dark-blue"}),a.default.createElement("div",{className:"dark-red pull-left color-box set-color","data-color":"dark-red"}),a.default.createElement("div",{className:"dark-teal pull-left color-box set-color","data-color":"dark-teal"}),a.default.createElement("div",{className:"dark-brown pull-left color-box set-color","data-color":"dark-brown"}),a.default.createElement("div",{className:"dark-orange pull-left color-box set-color","data-color":"dark-orange"}),a.default.createElement("div",{className:"dark-purple pull-left color-box set-color","data-color":"dark-purple"}),a.default.createElement("div",{className:"dark-warm-gray pull-left color-box set-color","data-color":"dark-warm-gray"}),a.default.createElement("div",{className:"light-green pull-left color-box set-color","data-color":"light-green"}),a.default.createElement("div",{className:"light-blue pull-left color-box set-color","data-color":"light-blue"}),a.default.createElement("div",{className:"light-red pull-left color-box set-color","data-color":"light-red"}),a.default.createElement("div",{className:"light-teal pull-left color-box set-color","data-color":"light-teal"}),a.default.createElement("div",{className:"light-orange pull-left color-box set-color","data-color":"light-orange"}),a.default.createElement("div",{className:"light-purple pull-left color-box set-color","data-color":"light-purple"})))),a.default.createElement("div",{className:"button"},a.default.createElement("div",{className:"dropdown-toggle","data-toggle":"dropdown"},a.default.createElement("i",{className:"fa fa-refresh"})," ",a.default.createElement("br",null),"Progress"),a.default.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dLabel"},a.default.createElement("li",null,a.default.createElement("a",{href:"javascript:void(0);",className:"set-progress","data-progress":"0%"},"0%")),a.default.createElement("li",null,a.default.createElement("a",{href:"javascript:void(0);",className:"set-progress","data-progress":"10%"},"10%")),a.default.createElement("li",null,a.default.createElement("a",{href:"javascript:void(0);",className:"set-progress","data-progress":"20%"},"20%")),a.default.createElement("li",null,a.default.createElement("a",{href:"javascript:void(0);",className:"set-progress","data-progress":"30%"},"30%")),a.default.createElement("li",null,a.default.createElement("a",{href:"javascript:void(0);",className:"set-progress","data-progress":"40%"},"40%")),a.default.createElement("li",null,a.default.createElement("a",{href:"javascript:void(0);",className:"set-progress","data-progress":"50%"},"50%")),a.default.createElement("li",null,a.default.createElement("a",{href:"javascript:void(0);",className:"set-progress","data-progress":"60%"},"60%")),a.default.createElement("li",null,a.default.createElement("a",{href:"javascript:void(0);",className:"set-progress","data-progress":"70%"},"70%")),a.default.createElement("li",null,a.default.createElement("a",{href:"javascript:void(0);",className:"set-progress","data-progress":"80%"},"80%")),a.default.createElement("li",null,a.default.createElement("a",{href:"javascript:void(0);",className:"set-progress","data-progress":"90%"},"90%")),a.default.createElement("li",null,a.default.createElement("a",{href:"javascript:void(0);",className:"set-progress","data-progress":"100%"},"100%")))),a.default.createElement("div",{className:"button button-assignee"},a.default.createElement("i",{className:"fa fa-user"})," ",a.default.createElement("br",null),"Assignee"),a.default.createElement("div",{className:"button button-image-export"},a.default.createElement("i",{className:"fa fa-camera"})," ",a.default.createElement("br",null),"Image export"),a.default.createElement("div",{className:"subpanel subpanel-assignee animated fadeInLeft",style:{display:"none"}},a.default.createElement("input",{style:{width:187,marginBottom:0},type:"text",placeholder:"Assignee..."})," ",a.default.createElement("button",{className:"pull-right btn btn-small btn-set-unassigned"},a.default.createElement("i",{className:"fa fa-times"})," Unassign"),a.default.createElement("div",{className:"clearfix"}))),a.default.createElement("div",{id:"undo-available",className:"notification"},"You just made a schedule change.",a.default.createElement("hr",null),a.default.createElement("a",{href:"javascript:void(0);",id:"dismiss-undo"},"Dismiss"),a.default.createElement("button",{id:"make-undo",className:"btn btn-primary pull-right btn-small"},a.default.createElement("i",{className:"fa fa-undo"})," Undo")),a.default.createElement("div",{id:"notification",className:"notification"},a.default.createElement("i",{className:"fa fa-info-circle"})," ",a.default.createElement("span",{id:"notification-message"})),a.default.createElement("div",{className:"clear"}),a.default.createElement("div",{className:"modal hide fade duplicate-project-modal"},a.default.createElement("div",{className:"modal-header"},a.default.createElement("h3",null,"Duplicate project")),a.default.createElement("div",{className:"modal-body"},a.default.createElement("table",{className:"table"},a.default.createElement("tbody",null,a.default.createElement("tr",null,a.default.createElement("td",null,"Original project"),a.default.createElement("td",null,a.default.createElement("span",{className:"original-project-name"}))),a.default.createElement("tr",null,a.default.createElement("td",null,"Original Start Date"),a.default.createElement("td",null,a.default.createElement("span",{className:"original-start-date"}),a.default.createElement("input",{className:"original-start-date-hidden",type:"hidden"}))),a.default.createElement("tr",null,a.default.createElement("td",null,"New project name"),a.default.createElement("td",null,a.default.createElement("input",{type:"text",className:"new-project-name",style:{marginBottom:0}}))),a.default.createElement("tr",null,a.default.createElement("td",null,"New start date"),a.default.createElement("td",null,a.default.createElement("input",{type:"text",className:"new-project-start-date",style:{marginBottom:0}}))))),a.default.createElement("div",{className:"duplicate-status"})),a.default.createElement("div",{className:"modal-footer"},a.default.createElement("a",{href:"javascript:void(0);",className:"btn btn-small","data-dismiss":"modal"},"Close"),a.default.createElement("a",{href:"javascript:void(0);",className:"btn btn-success btn-duplicate-project btn-small"},"Duplicate"))),a.default.createElement("div",{className:"modal hide fade not-found-issues"},a.default.createElement("div",{className:"modal-header"},a.default.createElement("h3",null,"Not found")),a.default.createElement("div",{className:"modal-body"},a.default.createElement("div",{className:"body-create"},a.default.createElement("p",null,"The item you're looking for does no longer exists"))),a.default.createElement("div",{className:"modal-footer"},a.default.createElement("a",{href:"javascript:void(0);",className:"btn btn-close","data-dismiss":"modal"},"Close"))),a.default.createElement("div",{id:"skip-weekends-modal",className:"modal hide fade"},a.default.createElement("div",{className:"modal-header"},a.default.createElement("h3",null,"Some tasks need to be adjusted")),a.default.createElement("div",{className:"modal-body"},a.default.createElement("p",null,"There are some tasks that are currently scheduled to start or finish on a non working day. We need to adjust them if you want to use this feature."),a.default.createElement("h4",null,"Automatic Adjustment"),a.default.createElement("p",null,"Automatic adjustment will push start dates and due dates to the nearest working day available."),a.default.createElement("table",{className:"table table-bordered",style:{fontSize:12}},a.default.createElement("thead",null,a.default.createElement("tr",null,a.default.createElement("th",{style:{width:"67%"}},"Task name"),a.default.createElement("th",null,"Start"),a.default.createElement("th",null,"Due"))),a.default.createElement("tbody",null))),a.default.createElement("div",{className:"modal-footer"},a.default.createElement("a",{href:"javascript:void(0);",className:"btn btn-skip-weekends-close","data-dismiss":"modal"},"Close"),a.default.createElement("a",{href:"javascript:void(0);",className:"btn btn-success btn-skip-weekends-proceed"},"Adjust and proceed"))))};var r,a=(r=n(0))&&r.__esModule?r:{default:r}},function(e,t,n){e.exports={workload_toolbar:"_3k3bgK1Yxxg2AAtWujk4VG",options_button:"VdZ-GZ00K-lSd0ah_RFSo",label:"cfPAsjO0t4okPc5qT-G5C",workload_button:"_21UHunr-D6FGQVavCBZtko",input_workload_search:"_2L2JFL7RvTPOJr3mtzkX1G",search_field:"g-o6C_DkSCx7qPg_c_VS0"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=y(c),d=n(6),f=n(3),p=(y(n(278)),y(n(293))),h=y(n(296)),m=y(n(297)),_=(y(n(338)),y(n(631))),g=(b(n(9)),b(n(267)));function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function A(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var w=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return v(n,"query",o,n),v(n,"resizer_style",i,n),n.store=n.props.store,n.templateDayWeekScale=g.DayWeekScale.bind(n),n.toggleWeekNumber=n.toggleWeekNumber.bind(n),n.toggleTodayIndicator=n.toggleTodayIndicator.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"onDragStart",value:function(e){var t=document.createElement("div");t.style.visibility="hidden",e.dataTransfer.setDragImage(t,0,0),this.resizer_style.display="block";var n=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-e.clientY-10;this.resizer_style.height=n+"px"}},{key:"onDrag",value:function(e){var t=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-e.clientY;Math.abs(t-parseInt(this.resizer_style.height))>50||(this.resizer_style.height=t+"px")}},{key:"onDragEnd",value:function(e){var t=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-e.clientY;this.resizer_style.height=t+"px",this.resizer_style.display="none",this.store.uistate.workload_hours_last_height=parseInt(this.resizer_style.height),this.store.uistate.workload_hours_height=parseInt(this.resizer_style.height)}},{key:"componentDidMount",value:function(){var e=this;this.store.uistate.calculateSidebarWidth(),$("#draggable_workload_hours").draggable({axis:"y",helper:"clone",drag:function(t,n){var r=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-t.clientY;r<100&&(r=100),e.resizer_style.height=r+"px"},start:function(t,n){e.resizer_style.display="block";var r=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-t.clientY-10;e.resizer_style.height=r+"px"},stop:function(t,n){var r=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-t.clientY;r<100&&(r=100),e.resizer_style.height=r+"px",e.resizer_style.display="none",e.store.uistate.workload_hours_last_height=parseInt(e.resizer_style.height),e.store.uistate.workload_hours_height=parseInt(e.resizer_style.height)}})}},{key:"onChange",value:function(e){this.query=e.target.value}},{key:"componentDidUpdate",value:function(){}},{key:"toggleWeekNumber",value:function(e){this.store.uistate.show_week_number=!this.store.uistate.show_week_number}},{key:"toggleTodayIndicator",value:function(e){this.store.uistate.today_indicator=!this.store.uistate.today_indicator}},{key:"renderGanttToolbar",value:function(){return u.default.createElement(p.default,{store:this.store})}},{key:"render",value:function(){var e=this,t=this.store.uistate;return"gantt"!=t.active_view?null:u.default.createElement("div",null,u.default.createElement("div",{className:_.default.resizer,style:s({},this.resizer_style)}),u.default.createElement("div",{id:"workload-hours",className:["workload chart-pane-active chart-pane-active-sidebar"].join(" "),style:{height:t.workload_hours_height-1+"px"}},this.store.tasks.global_workload_loading&&u.default.createElement("div",{style:{position:"absolute",left:0,top:0,right:0,bottom:0,background:"rgba(255,255,255,0.8)",zIndex:1e3}},u.default.createElement("div",{style:{position:"absolute",top:"45px",right:"25px",fontSize:"20px",color:"#999"}},u.default.createElement("i",{className:"fa fa-spin fa-spinner"}))),u.default.createElement("div",{className:_.default.workload_hours_header},!t.task_list_hidden&&u.default.createElement("div",{style:{width:this.store.uistate.get_sidebar_width-19+"px",position:"relative",textAlign:"right",paddingRight:"10px",fontWeight:"700"}},"Team workload (estimated hours)"),u.default.createElement("div",{style:{position:"absolute",left:this.store.uistate.get_sidebar_width+1+"px",right:0,display:"flex",top:"0px",minWidth:"350px"}},u.default.createElement("div",{className:_.default.search_field_container},u.default.createElement("div",null,u.default.createElement("i",{className:"fa fa-search fa-fw"})),u.default.createElement("div",null,u.default.createElement("input",{type:"text",placeholder:"Filter users...","data-lpignore":"true",className:_.default.search_field,value:this.query,onChange:function(t){return e.onChange(t)}}))),"standalone"==this.store.user.type&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"local"==this.store.uistate.workload_type?_.default.option_selected:_.default.option,onClick:function(){return e.store.uistate.toggleWorkloadType("local")}},"This Project"),u.default.createElement("div",{className:"global"==this.store.uistate.workload_type?_.default.option_selected:_.default.option,onClick:function(){return e.store.uistate.toggleWorkloadType("global")}},"All Projects  ",this.store.tasks.global_workload_loading&&u.default.createElement("i",{className:"fa fa-spin fa-spinner"}))),u.default.createElement("div",{style:{marginLeft:"auto",marginRight:"10px",cursor:"pointer",padding:"5px 0"},onClick:function(){return t.workload_hours_height=0}},u.default.createElement("i",{className:"fa fa-times fa-fw"})),u.default.createElement("div",{id:"draggable_workload_hours",draggable:!1,style:{position:"absolute",left:"50%",top:"-4px",fontSize:"12px",cursor:"ns-resize"}},u.default.createElement("i",{className:"fas fa-grip-lines"})))),u.default.createElement("div",{className:"sidebar sidebar-2",style:{width:this.store.uistate.get_sidebar_width+"px"}},!t.task_list_hidden&&u.default.createElement(h.default,{query:this.query,display:"mini",store:this.store,onScroll:this.props.onScrollUsers})),u.default.createElement(m.default,{query:this.query,display:"mini",onScroll:this.props.onScrollBars,store:this.store})))}}]),t}(),o=A(a.prototype,"query",[f.observable],{enumerable:!0,initializer:function(){return""}}),i=A(a.prototype,"resizer_style",[f.observable],{enumerable:!0,initializer:function(){return{display:"none",height:this.store.uistate.workload_hours_height}}}),r=a))||r;t.default=w},function(e,t,n){e.exports={workload_hours_header:"_1haEs65-NirwGI2xVyPqHd",search_field_container:"_33NIEmC2ltB_iGJS0ubckr",search_field:"_3TvF0UExXy-SA5i9w2h2ns",option_selected:"_22FWAtJtjhWbGdr4mGq5Hf",option:"_1IiEcODe-E8D-mQ-FYad0b",resizer:"_54-VCSJNHcCZpEJbepl0L"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=b(c),d=n(6),f=n(3),p=(b(n(339)),b(n(638))),h=b(n(340)),m=n(68),_=b(n(639)),g=b(n(640));function b(e){return e&&e.__esModule?e:{default:e}}n(409);var y,v,A,w,k,E=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"tasks",a=i,(r=o)&&Object.defineProperty(n,"tasks",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.reactions=[],i.scrollCards=function(){var e=i;$(".column-content-wrapper").sortable({items:".draggable-card",connectWith:".column-content-wrapper",placeholder:"drag-placeholder ui-sortable-placeholder ui-sortable-highlight",dropOnEmpty:!0,start:function(t,n){e.store.uistate.board_settings.dragging=!0,window.addEventListener("mousemove",e.handleScrollingEdges),$(".drag-placeholder").height(n.item.height()),$(".drag-placeholder").css({marginBottom:"10px"}),$(".column-content-wrapper").each((function(e,t){0==$(".draggable-card",t).length&&$(t).css({minHeight:"400px"})})),$(this).sortable("refresh")},stop:function(t,n){e.store.uistate.board_settings.dragging=!1,window.removeEventListener("mousemove",e.handleScrollingEdges),$(".column-content-wrapper").each((function(e,t){$(t).css({minHeight:"initial"})}))},out:function(t,n){e.sortable_active=!1},over:function(e,t){i.sortable_active=!0},beforeStop:function(e,t){},update:function(t,n){var r={source:{droppableId:n.sender?$(n.sender).attr("id"):$(this).attr("id")},destination:{droppableId:$(this).attr("id"),index:n.item.index()},draggableId:$(n.item).attr("id")},a=$(this).sortable("toArray");if(-1!=a.indexOf(r.draggableId)){$(".column-content-wrapper").sortable("cancel"),e.store.uistate.board_settings.dragging_id="";var o=r.destination,i=e.store.tasks.get(r.draggableId),s=a.map((function(t){return e.store.tasks.get(t)}));if("section"==e.store.uistate.board_settings.group_by&&!i)return;e.store.uistate.board_settings.dragging_from="",e.store.uistate.board_settings.dragging_id="";var l=r.destination.droppableId,c=!1;if("status"==e.store.uistate.board_settings.group_by&&(c="_status"),c){var u=i.getCustomField("_status");if(parseInt(u)!=parseInt(l)&&1==parseInt(l)&&i.raw_childrens.length>0&&parseInt(i.calculated_progress)>0)return void e.store.uistate.chartWarning("Task can't be moved to Not Started as it already has positive progress coming from subtasks")}e.store.tasks.setLocalPositions({trigger_model:i,silent:!0,key:c});var d=o.index>0&&s[o.index-1],f=o.index!=s.length-1&&s[o.index+1],p=d?Number(d.local_priority)+.01:0,h=d?Number(d.custom_priority[c])+.01:0,m=d?Number(d.priority)+(f?Number(f.priority)-Number(d.priority):1)/2:0,_=!1;if(!c){if(d){if(-1!=d.parents.indexOf(i.id))return;if(d.id==i.id)return;if(-1!=i.cascade_raw_childrens.map((function(e){return e.id})).indexOf(d.id))return;_=f&&d.parent.id!=f.parent.id?d.parents.length<f.parents.length?i.parent.id==d.id?i.parent.id:d.id:i.parent.id==d.parent.id?i.parent.id:d.parent.id:!!d.parent&&(i.parent.id==d.parent.id?i.parent.id:d.parent.id)}_||(_=l);var g={parent_priority_heading:e.store.tasks.get(l).priority,priority_heading_id:l,previous_task_id:!!d&&d.id,next_task_id:!!f&&f.id,new_parent:_,silent:!1};i.changePosition(g),e.store.tasks.sort_options.sort_by_local=!1,e.store.tasks.sort_options.sort_by_date=!1,e.store.tasks.sort_options.keep_tasks_sorted=!1}var b=i.custom_priority;b[c]=h,"section"==e.store.uistate.board_settings.group_by?i.set({local_priority:p,priority:m}):i.set({custom_priority:b}),c&&i.saveCustomField({id:"_status"},l),$(".column-content-wrapper").sortable("destroy"),setTimeout((function(){e.store.tasks.saveLocalPositions(null,{trigger_model:i,key:c}),e.scrollCards()}))}e.store.uistate.trackAnalytics("Board:Task:Drag",{view:e.store.uistate.active_view})}})},i.onDragUpdate=function(e){},i.onDragEnd=function(e){i.store.uistate.trackAnalytics("Board:Task:Drag",{view:i.store.uistate.active_view}),i.store.uistate.board_settings.dragging_id="";var t=e.source,n=e.destination,r=i.store.tasks.get(e.draggableId);if(("section"!=i.store.uistate.board_settings.group_by||r)&&(i.store.uistate.board_settings.dragging_from="",i.store.uistate.board_settings.dragging_id="",n)){if("SECTION"==e.type&&t.droppableId==n.droppableId){if("section"!=i.store.uistate.board_settings.group_by){var a=i.store.workbooksettings.customField("_status"),o=a.options.filter((function(e){return!e.enabled})),l=a.options.filter((function(e){return e.enabled})),c=l.splice(t.index,1),u=s(c,1)[0];return l.splice(n.index,0,u),l.push.apply(l,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o)),a.options=l,void i.store.workbooksettings.saveCustomField(a)}var d=r.id,f=i.store.tasks.board.order.map((function(e,t){return e})),p=f.splice(t.index,1),h=s(p,1)[0];return f.splice(n.index,0,h),f.forEach((function(e,t){"standalone"==i.store.projects.selected.supplier?i.store.tasks.get(e).save({priority:t+1}):i.store.tasks.get(e).set({priority:t+1})})),0==f.indexOf(d)&&f[1]&&i.store.tasks.get(d).changePosition({is_priority_heading:!0,insert_before:i.store.tasks.get(f[1]).id}),void(f.indexOf(d)>0&&i.store.tasks.get(d).changePosition({is_priority_heading:!0,insert_after:i.store.tasks.get(f[f.indexOf(d)-1]).id}))}if("CARD"==e.type){var m,_=e.destination.droppableId,g=!1;if("status"==i.store.uistate.board_settings.group_by&&(g="_status"),t.droppableId==n.droppableId){var b=r.id,y=(m=i.store.tasks.board.sections[n.droppableId].tasks.map((function(e,t){return e}))).splice(t.index,1),v=s(y,1)[0];m.splice(n.index,0,v),m.map((function(e){return e.id}))}else{b=r.id,m=i.store.tasks.board.sections[n.droppableId].tasks.map((function(e){return e}));var A=i.store.tasks.get(b);m.splice(n.index,0,A),m.map((function(e){return e.id}))}i.store.tasks.setLocalPositions({trigger_model:r,silent:!0,key:g});var w=n.index>0&&m[n.index-1],k=n.index!=m.length-1&&m[n.index+1],E=w?Number(w.local_priority)+.01:0,x=w?Number(w.custom_priority[g])+.01:0,O=w?Number(w.priority)+(k?Number(k.priority)-Number(w.priority):1)/2:0,C=!1;if(!g){if(w){if(-1!=w.parents.indexOf(r.id))return;if(w.id==r.id)return;if(-1!=r.cascade_raw_childrens.map((function(e){return e.id})).indexOf(w.id))return;C=k&&w.parent.id!=k.parent.id?w.parents.length<k.parents.length?r.parent.id==w.id?r.parent.id:w.id:r.parent.id==w.parent.id?r.parent.id:w.parent.id:!!w.parent&&(r.parent.id==w.parent.id?r.parent.id:w.parent.id)}C||(C=_);var j={parent_priority_heading:i.store.tasks.get(_).priority,priority_heading_id:_,previous_task_id:!!w&&w.id,next_task_id:!!k&&k.id,new_parent:C,silent:!1};r.changePosition(j),i.store.tasks.sort_options.sort_by_local=!1,i.store.tasks.sort_options.sort_by_date=!1,i.store.tasks.sort_options.keep_tasks_sorted=!1}var D=r.custom_priority;D[g]=x,"section"==i.store.uistate.board_settings.group_by?r.set({local_priority:E,priority:O}):r.set({custom_priority:D}),g&&r.saveCustomField({id:"_status"},_),setTimeout((function(){i.store.tasks.saveLocalPositions(null,{trigger_model:r,key:g})}))}}},i.onDragStart=function(e){i.store.uistate.board_settings.dragging_from=e.source.droppableId,i.store.uistate.board_settings.dragging_id=e.draggableId},i.onBeforeCapture=function(e){i.store.uistate.board_settings.dragging_id=e.draggableId},i.selectProject=function(e){i.store.uistate.board_settings.project_id_on_folder=e},i.store=i.props.store,i.handleScrollingEdges=i.handleScrollingEdges.bind(i),i.reactions.push((0,f.reaction)((function(){return(0,f.toJS)(i.store.tasks.board.order)}),(function(){window.setTimeout((function(){i.scrollCards()}),0)}))),"group"!=i.store.projects.selected.type||i.store.uistate.board_settings.project_id_on_folder&&(!i.store.uistate.board_settings.project_id_on_folder||i.store.tasks.get(i.store.uistate.board_settings.project_id_on_folder))||(i.store.uistate.board_settings.project_id_on_folder=i.store.tasks.filtered.filter((function(e){return e.is_project}))[0].id),i.store.tasks.models.length>0&&i.store.projectsettings.simulateDatePositionsOnFolder(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){this.scrollCards()}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){this.scrollCards()}},{key:"handleScrollingEdges",value:function(e){e.clientX-70<$("#board-container-scroll-wrapper").offset().left?$("#board-container-scroll-wrapper").scrollLeft($("#board-container-scroll-wrapper").scrollLeft()-10):e.clientX+50>$("#board-container-scroll-wrapper").offset().left+$("#board-container-scroll-wrapper").width()&&$("#board-container-scroll-wrapper").scrollLeft($("#board-container-scroll-wrapper").scrollLeft()+10)}},{key:"render",value:function(){var e=this,t=(this.store.uistate,"group"==this.store.projects.selected.type&&0!=this.store.uistate.board_settings.project_id_on_folder);return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{style:{position:"absolute",left:0,top:0,right:0,height:"40px",boxShadow:"0 -2px 6px rgba(0,0,0,0.4)",zIndex:10,background:"#ffffff"}},u.default.createElement("div",{style:{display:"flex",fontSize:"12px",padding:"0 10px"}},u.default.createElement(g.default,{store:this.store}))),"group"==this.store.projects.selected.type&&0!=this.store.uistate.board_settings.project_id_on_folder&&u.default.createElement("div",{style:{position:"absolute",top:"40px",height:"30px",left:0,right:0,padding:"10px 0"}},u.default.createElement("div",{className:"dropdown"},u.default.createElement("a",{className:[h.default.project_title,"dropdown-toggle"].join(" "),"data-toggle":"dropdown"},this.store.tasks.get(this.store.uistate.board_settings.project_id_on_folder).name," ",u.default.createElement("i",{className:"fa fa-chevron-down"})),u.default.createElement("ul",{className:"dropdown-menu",style:{marginLeft:"20px",fontSize:"12px",border:0}},this.store.tasks.filtered_uncollapsed.filter((function(e){return e.is_project})).map((function(t){return u.default.createElement("li",null,u.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.selectProject(t.id)}},t.name))}))))),u.default.createElement(m.DragDropContext,{onBeforeCapture:this.onBeforeCapture,onDragUpdate:this.onDragUpdate,onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},u.default.createElement(m.Droppable,{droppableId:"BOARD",direction:"horizontal",type:"SECTION"},(function(n,r){return u.default.createElement("div",i({id:"board-container-scroll-wrapper",style:i({top:t?"70px":""},(a=r.isDraggingOver,{background:a?"lightblue":"transparent"}))},n.droppableProps,{ref:n.innerRef,className:h.default.board}),u.default.createElement(_.default,{store:e.store}),u.default.createElement(p.default,{store:e.store}));var a}))))}}]),t}(),y=a.prototype,v="tasks",A=[f.observable],w={enumerable:!0,initializer:function(){return[]}},k={},Object.keys(w).forEach((function(e){k[e]=w[e]})),k.enumerable=!!k.enumerable,k.configurable=!!k.configurable,("value"in k||k.initializer)&&(k.writable=!0),void 0===(k=A.slice().reverse().reduce((function(e,t){return t(y,v,e)||e}),k)).initializer&&(Object.defineProperty(y,v,k),k=null),o=k,r=a))||r;t.default=E},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_class,_desc,_value,_class2,_descriptor,_descriptor2,_descriptor3,_descriptor4,_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_mobxReact=__webpack_require__(6),_mobx=__webpack_require__(3),_card=__webpack_require__(120),_card2=_interopRequireDefault(_card),_reactBeautifulDnd=__webpack_require__(68),_avatars=__webpack_require__(149),_avatars2=_interopRequireDefault(_avatars),_donut=__webpack_require__(151),_donut2=_interopRequireDefault(_donut),_userspicker=__webpack_require__(216),_userspicker2=_interopRequireDefault(_userspicker),_progress=__webpack_require__(634),_progress2=_interopRequireDefault(_progress),_custom_fields_options=__webpack_require__(96),_custom_fields_options2=_interopRequireDefault(_custom_fields_options),_cell=__webpack_require__(279),_cell2=_interopRequireDefault(_cell);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _initDefineProp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _applyDecoratedDescriptor(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}var getItemStyle=function(e,t){return _extends({},t)},DraggableCard=(0,_mobxReact.observer)((_class2=function(_Component){function DraggableCard(e){_classCallCheck(this,DraggableCard);var t=_possibleConstructorReturn(this,(DraggableCard.__proto__||Object.getPrototypeOf(DraggableCard)).call(this,e));return t.reactions=[],_initDefineProp(t,"editing",_descriptor,t),_initDefineProp(t,"show_subtasks",_descriptor2,t),_initDefineProp(t,"message",_descriptor3,t),_initDefineProp(t,"new_task_name",_descriptor4,t),t.store=t.props.store,t.task=t.props.task,t.open=t.open.bind(t),t.showEditTaskName=t.showEditTaskName.bind(t),t.handleTaskInputChange=t.handleTaskInputChange.bind(t),t.saveTask=t.saveTask.bind(t),t.reactions.push((0,_mobx.reaction)((function(){return t.store.uistate.board_settings.subtasks_expanded}),(function(){t.expandSubtasks(t.store.uistate.board_settings.subtasks_expanded)}))),t.show_subtasks=void 0!==t.store.uistate.board_settings.subtasks_expanded?t.store.uistate.board_settings.subtasks_expanded:t.show_subtasks,t}return _inherits(DraggableCard,_Component),_createClass(DraggableCard,[{key:"componentDidMount",value:function(){}},{key:"showEditTaskName",value:function(e){var t=this;e.stopPropagation(),this.editing.name||(this.new_task_name=this.store.tasks.get(this.props.id).name),this.editing.name=!this.editing.name,window.setTimeout((function(){t.textarea&&(t.textarea.focus(),t.textarea.setSelectionRange(t.textarea.value.length,t.textarea.value.length))}),200)}},{key:"handleTaskInputChange",value:function(e){console.log(e.keyCode),27==e.keyCode&&(this.new_task_name="",this.showEditTaskName(e)),13==e.keyCode&&(e.preventDefault(),this.saveTask(e))}},{key:"saveTask",value:function(e){this.task.save({name:this.new_task_name}),this.new_task_name="",this.editing.name=!1}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"open",value:function(e,t){e.stopPropagation(),e.preventDefault();var n=this.store;this.store.uistate.task_details_open=!0,this.store.tasks.selected_stack=[],n.tasks.selected.forEach((function(e){return e.selected=!1})),t.selected=!0}},{key:"editAssignee",value:function(e){e.preventDefault(),e.stopPropagation(),this.editing.assignee=!this.editing.assignee}},{key:"showMessage",value:function(e){var t=this;this.message=e,setTimeout((function(){$(t.message_node).css({opacity:1}),setTimeout((function(){$(t.message_node).css({opacity:0}),setTimeout((function(){t.message=""}),500)}),2e3)}),50)}},{key:"openProgress",value:function(e){if(e.preventDefault(),e.stopPropagation(),this.task.raw_childrens_count>0)return this.task.completed?void this.task.toggleCompleted():void this.showMessage("This task has subtasks. Progress is dynamically calculated");this.editing.progress=!this.editing.progress}},{key:"toggleSubtasks",value:function(e){e.stopPropagation();var t="section"==this.store.uistate.board_settings.group_by&&this.store.uistate.board_settings.show_subtasks;t&&this.task.raw_childrens_count>0&&(e.stopPropagation(),this.task.setCollapsed(!this.task.collapsed)),!t&&this.task.raw_childrens_count>0&&this.expandSubtasks(!this.show_subtasks)}},{key:"toggleSubtaskCompletion",value:function(e,t){e.preventDefault(),e.stopPropagation(),t.toggleCompleted()}},{key:"expandSubtasks",value:function(e){this.show_subtasks=e}},{key:"renderEditName",value:function(){var e=this,t="section"==this.store.uistate.board_settings.group_by?30*this.task.parents.length+"px":"initial";return _react2.default.createElement("div",{style:{marginLeft:t},className:[_card2.default.card,!this.task.collapsed&&this.task.raw_childrens_count>0?_card2.default.is_container:"",(this.task.completed||this.task.calculated_progress,"")].join(" ")},this.task.thumbnail&&this.task.collapsed&&this.store.uistate.board_settings.show_images&&_react2.default.createElement("div",{className:_card2.default.thumbnail},_react2.default.createElement("img",{src:this.task.thumbnail})),_react2.default.createElement("div",{className:_card2.default.card_inner},_react2.default.createElement("div",{className:_card2.default.task_editor},_react2.default.createElement("div",{className:_card2.default.element},_react2.default.createElement("textarea",{ref:function(t){return e.textarea=t},value:this.new_task_name,onChange:function(t){return e.new_task_name=t.target.value},onKeyDown:this.handleTaskInputChange})),_react2.default.createElement("div",{className:_card2.default.element},_react2.default.createElement("button",{onClick:this.saveTask,className:"btn btn-flat btn-success btn-small"},"Save"),"   ",_react2.default.createElement("button",{className:"btn btn-flat btn-small",onClick:this.showEditTaskName},"Cancel")))))}},{key:"renderSection",value:function(){return _react2.default.createElement("div",{ref:this.props.provided.innerRef,style:_extends({marginLeft:30*this.task.parents.length+"px"},getItemStyle(this.props.snapshot.isDragging,this.props.provided.draggableProps.style)),className:[_card2.default.card,_card2.default.is_container,_card2.default.is_section].join(" ")},_react2.default.createElement("div",{className:_card2.default.card_inner},_react2.default.createElement("div",{className:_card2.default.card_content},_react2.default.createElement("div",{className:_card2.default.card_content_text},this.task.name))))}},{key:"renderSubtask",value:function renderSubtask(subtask){var _this5=this,indent=20*(subtask.parents.length-1)+"px";return _react2.default.createElement("div",{className:_card2.default.subtask,onClick:function(e){return _this5.open(e,subtask)},style:{marginLeft:indent}},subtask.sorted_childrens.length>0&&_react2.default.createElement("div",{className:_card2.default.subtasks_indicator},_react2.default.createElement("i",{className:"fa-light fa-fw fa-diagram-subtask"})),_react2.default.createElement("div",{className:_card2.default.action},eval(subtask.completed)&&_react2.default.createElement("i",{className:"fa fa-fw fa-circle-check",style:{color:"#8fd27b"},onClick:function(e){return _this5.toggleSubtaskCompletion(e,subtask)}}),!eval(subtask.completed)&&_react2.default.createElement("i",{className:"fa-light fa-fw fa-circle",onClick:function(e){return _this5.toggleSubtaskCompletion(e,subtask)}})),_react2.default.createElement("div",{className:_card2.default.name},subtask.name),_react2.default.createElement("div",{className:_card2.default.right_action},_react2.default.createElement("i",{className:"fa-solid fa-chevron-right"})))}},{key:"render",value:function(){var e=this;if(this.store.uistate,this.editing.name)return this.renderEditName();if(this.task.is_priority_heading)return this.renderSection();var t=this.task.parent&&this.task.parent.id?this.store.tasks.get(this.task.parent.id):!(!this.task.get_priority_heading_id||!this.store.tasks.get(this.task.get_priority_heading_id))&&this.store.tasks.get(this.task.get_priority_heading_id),n="section"==this.store.uistate.board_settings.group_by?15*this.task.parents.length+"px":"initial",r=!this.task.collapsed&&this.task.raw_childrens_count>0&&"section"==this.store.uistate.board_settings.group_by&&this.store.uistate.board_settings.show_subtasks,a=!this.store.uistate.board_settings.show_subtasks&&("section"==this.store.uistate.board_settings.group_by||"section"!=this.store.uistate.board_settings.group_by&&!this.store.uistate.board_settings.show_subtasks),o=this.store.uistate.board_settings.show_subtasks&&r?"fas fa-fw fa-chevron-up":this.store.uistate.board_settings.show_subtasks&&!r?"fas fa-fw fa-chevron-down":!this.store.uistate.board_settings.show_subtasks&&this.show_subtasks?"fas fa-fw fa-chevron-up":"fas fa-fw fa-chevron-down";return _react2.default.createElement("div",{id:this.task.id,style:{marginLeft:n},onClick:function(t){return e.open(t,e.task)},className:[_card2.default.card,r?_card2.default.is_container:"",(this.task.completed||this.task.calculated_progress,""),"draggable-card"].join(" ")},"section"!=this.store.uistate.board_settings.group_by&&t&&_react2.default.createElement("div",{className:_card2.default.inline_parent},_react2.default.createElement("div",{className:[_card2.default.item].join(" ")},_react2.default.createElement("i",{className:"fas fa-fw fa-layer-group"})),_react2.default.createElement("div",{className:[_card2.default.item,_card2.default.grow].join(" ")},t.name)),""!=this.message&&_react2.default.createElement("div",{ref:function(t){return e.message_node=t},className:_card2.default.message},this.message),this.task.thumbnail&&(this.task.collapsed||!this.task.collapsed&&0==this.task.raw_childrens_count)&&this.store.uistate.board_settings.show_images&&_react2.default.createElement("div",{className:_card2.default.thumbnail},_react2.default.createElement("img",{src:this.task.thumbnail})),_react2.default.createElement("div",{className:_card2.default.card_inner},this.editing.name&&_react2.default.createElement("div",{className:_card2.default.task_editor},_react2.default.createElement("div",{className:_card2.default.element},_react2.default.createElement("textarea",{autoFocus:!0,value:this.new_task_name,onChange:function(t){return e.new_task_name=t.target.value},onKeyDown:this.handleTaskInputChange})),_react2.default.createElement("div",{className:_card2.default.element},_react2.default.createElement("button",{className:"btn btn-success btn-small"},"Save"),"   ",_react2.default.createElement("button",_defineProperty({onClick:this.saveTask,className:"btn btn-small"},"onClick",(function(){return e.showEditTaskName()})),"Cancel"))),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:_card2.default.card_action,onClick:function(t){e.toggleSubtasks(t)},style:{cursor:"pointer"}},a&&this.task.raw_childrens_count>0&&_react2.default.createElement("i",{className:o}))),_react2.default.createElement("div",{className:_card2.default.card_content},_react2.default.createElement("div",{className:_card2.default.card_content_text,onClick:function(t){return e.open(t,e.task)}},_react2.default.createElement("div",{className:_card2.default.edit_task_name,onClick:this.showEditTaskName},_react2.default.createElement("i",{className:"fa fa-fw fa-pen"})),this.task.name),!r&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:_card2.default.second_row},this.store.uistate.board_settings.show_status&&_react2.default.createElement("div",{className:[_card2.default.information,"card"].join(" ")},_react2.default.createElement(_cell2.default,_extends({style:{paddingLeft:0},task:this.task,cf:this.store.workbooksettings.customField("_status"),value:this.task.calculatedCustomField("_status"),className:"cell cell-editable sglclick","data-attribute":"_status"},"dropdown"!=this.store.workbooksettings.customField("_status").type&&0!=this.task.filtered_childrens_count?{"data-blocked":!0,"data-toggle":"tooltip",title:"This is a summary cell","data-trigger":"click"}:{}))),void 0!==this.task.get_user&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:_card2.default.avatar_container},_react2.default.createElement(_avatars2.default,{users:this.task.get_users,non_photo_style:{margin:0}})),this.editing.assignee&&_react2.default.createElement("div",{className:[_card2.default.active_action,"forced_overflow cell"].join(" "),style:{position:this.editing.assignee?"absolute":"relative"}},_react2.default.createElement(_userspicker2.default,{task:this.task,store:this.store,tasks:this.store.tasks,afterClose:function(){return e.editing.assignee=!1}})),!this.editing.assignee&&_react2.default.createElement("div",{className:_card2.default.assignees,onClick:function(t){return e.editAssignee(t)}},this.task.get_users_names),this.task.is_unread&&_react2.default.createElement("div",{className:"cell cell-action"},_react2.default.createElement("i",{className:"fa-solid fa-message fa-beat-fade",style:{color:"#008ACA",fontSize:"12px"}}))),void 0===this.task.get_user&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:_card2.default.avatar_container},_react2.default.createElement(_avatars2.default,{users:this.task.get_users,non_photo_style:{margin:0}})),this.editing.assignee&&_react2.default.createElement("div",{className:["cell",_card2.default.active_action].join(" "),style:{position:"relative"}},_react2.default.createElement(_userspicker2.default,{task:this.task,store:this.store,afterClose:function(t){t.stopPropagation(),t.preventDefault(),console.log("holi"),e.editing.assignee=!1}})),!this.editing.assignee&&_react2.default.createElement("div",{className:"",onClick:function(t){return e.editAssignee(t)}},"Unassigned"),this.task.is_unread&&_react2.default.createElement("div",{className:"cell cell-action"},_react2.default.createElement("i",{className:"fa-solid fa-message fa-beat-fade",style:{color:"#008ACA",fontSize:"12px"}})))))),(!r||this.task.collapsed||!this.task.collapsed&&0==this.task.raw_childrens_count)&&_react2.default.createElement("div",{className:_card2.default.card_right_action,onClick:function(t){return e.openProgress(t)}},(this.task.completed||"100%"==this.task.calculated_progress)&&_react2.default.createElement("div",null,_react2.default.createElement("i",{className:"fas fa-fw fa-check-circle",style:{color:"rgba(70, 179, 2, 0.6)",fontSize:"26px"}})),!(this.task.completed||"100%"==this.task.calculated_progress)&&_react2.default.createElement(_donut2.default,{value:parseInt(this.task.calculated_progress||0),strokewidth:4,size:28,valuelabel:"",textStyle:{fontSize:"7px"}}),this.editing.progress&&_react2.default.createElement(_progress2.default,{store:this.store,task:this.task,afterClose:function(t){return e.editing.progress=!1}}))),a&&this.task.raw_childrens_count>0&&this.show_subtasks&&_react2.default.createElement("div",{className:_card2.default.third_row},this.task.sorted_childrens.map((function(t){return e.renderSubtask(t)}))))}}]),DraggableCard}(_react.Component),_descriptor=_applyDecoratedDescriptor(_class2.prototype,"editing",[_mobx.observable],{enumerable:!0,initializer:function(){return{assignee:!1,progress:!1,name:!1}}}),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"show_subtasks",[_mobx.observable],{enumerable:!0,initializer:function(){return!0}}),_descriptor3=_applyDecoratedDescriptor(_class2.prototype,"message",[_mobx.observable],{enumerable:!0,initializer:function(){return""}}),_descriptor4=_applyDecoratedDescriptor(_class2.prototype,"new_task_name",[_mobx.observable],{enumerable:!0,initializer:function(){return""}}),_applyDecoratedDescriptor(_class2.prototype,"open",[_mobx.action],Object.getOwnPropertyDescriptor(_class2.prototype,"open"),_class2.prototype),_class=_class2))||_class;exports.default=DraggableCard},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=h(l),u=n(6),d=n(15),f=n(3),p=h(n(635));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(636);var g=function(e){var t=e.children;return(0,d.createPortal)(t,document.body)},b=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"options",o,n),m(n,"parent_coordinates",i,n),window.dimensiones=n.dimensions,n.store=n.props.store,n.task=n.props.task,n.handleEscape=n.handleEscape.bind(n),n.close=n.close.bind(n),n.handleClickOutside=n.handleClickOutside.bind(n),n.save=n.save.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentDidMount",value:function(){var e=(0,d.findDOMNode)(this).parentNode.getBoundingClientRect();this.parent_coordinates.x=e.x,this.parent_coordinates.y=e.y,this.parent_coordinates.y+$(".cell-dropdown-container",this.node).height()>=$(window).height()&&(this.parent_coordinates.y=$(window).height()-$(".cell-dropdown-container",this.node).height()-50),document.addEventListener("keydown",this.handleKeyboard),document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyboard),document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"handleClickOutside",value:function(e){this.node&&!this.node.contains(e.target)&&this.close(e)}},{key:"handleEscape",value:function(e){27==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.close(e))}},{key:"close",value:function(e){this.props.afterClose&&this.props.afterClose(e)}},{key:"save",value:function(e,t){this.task.save({progress:t}),this.close(e)}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:[this.props.className].join(" "),style:this.props.style},c.default.createElement(g,null,c.default.createElement("div",{ref:function(t){return e.node=t},className:["cell","editing","forced_overflow"].join(" "),style:{left:this.parent_coordinates.x+"px",top:this.parent_coordinates.y+10+"px",position:"absolute",zIndex:1010,display:"block !important"},onClick:function(e){return e.stopPropagation()}},c.default.createElement("div",{className:"cell-dropdown-container",style:{background:"#ffffff"}},c.default.createElement("ul",{class:"unstyled"},["0%","10%","20%","30%","40%","50%","60%","70%","80%","90%","100%"].map((function(t){return c.default.createElement("li",{className:p.default.item_menu,onClick:function(n){return e.save(n,t)}},t)})))))))}}]),t}(),o=_(a.prototype,"options",[f.observable],{enumerable:!0,initializer:function(){return{}}}),i=_(a.prototype,"parent_coordinates",[f.observable],{enumerable:!0,initializer:function(){return{x:0,y:0}}}),r=a))||r;t.default=b},function(e,t,n){e.exports={item_menu:"_33ALj7hSgfeRD19iV6giTh"}},function(module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,a=n.execScript;!r&&a&&(a.call(n,"null"),r=n.eval),forEach(Object_keys(e),(function(t){n[t]=e[t]})),forEach(globals,(function(t){e[t]&&(n[t]=e[t])}));var o=Object_keys(n),i=r.call(n,this.code);return forEach(Object_keys(n),(function(t){(t in e||-1===indexOf(o,t))&&(e[t]=n[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,n[t])})),document.body.removeChild(t),i},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),(function(n){e[n]=t[n]})),n},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),(function(n){t[n]=e[n]})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=(Object.assign,n(0)),u=_(c),d=n(15),f=n(6),p=n(3),h=_(n(241)),m=(_(n(120)),_(n(242)));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(68);var y=(0,f.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g(n,"create_task_visible",o,n),g(n,"form",i,n),g(n,"current_render_index",s,n),n.reactions=[],n.store=n.props.store,n.showCreateTask=n.showCreateTask.bind(n),n.handleNewTaskInputChange=n.handleNewTaskInputChange.bind(n),n.createTask=n.createTask.bind(n),n.onScroll=n.onScroll.bind(n),n.render_properties=n.props.render_properties,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){this.node=(0,d.findDOMNode)(this.innerNode).parentNode,this.parentNode=(0,d.findDOMNode)(this.node).parentNode,this.node.onScroll=this.onScroll}},{key:"handleScrollingEdges",value:function(e){var t=$("#board-container-scroll-wrapper").offset().left+$("#board-container-scroll-wrapper").width();this.store.uistate.board_settings.dragging&&(e.clientX+70>t&&$("#board-container-scroll-wrapper").scrollLeft($("#board-container-scroll-wrapper").scrollLeft()+10),e.clientX-50<$("#board-container-scroll-wrapper").offset().left&&$("#board-container-scroll-wrapper").scrollLeft($("#board-container-scroll-wrapper").scrollLeft()-10))}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){$(this.innerNode).sortable("refresh")}},{key:"onScroll",value:function(){var e=this,t=$(this.innerNode).height(),n=$(this.node).height()-10+$(this.node).scrollTop();if(t-n==0)return this.render_properties.current_render_index=this.tasks.length,void window.requestAnimationFrame((function(){$(e.node).scrollTop($(e.innerNode).height())}));t-n<=200&&(this.tasks.length-this.render_properties.current_render_index>=20?this.render_properties.current_render_index=this.render_properties.current_render_index+20:this.render_properties.current_render_index=this.tasks.length)}},{key:"showCreateTask",value:function(){this.create_task_visible=!this.create_task_visible}},{key:"handleNewTaskInputChange",value:function(e){27==e.keyCode&&(this.form.new_task_name="",this.showCreateTask()),13==e.keyCode&&this.createTask()}},{key:"createTask",value:function(){this.store.tasks.createTask({priority_heading_id:this.props.id,name:this.form.new_task_name,local_priority:Number(this.tasks[this.tasks.length-1].local_priority)+1,priority:Number(this.tasks[this.tasks.length-1].priority)+1}).then((function(){})),this.form.new_task_name="",$("#column-"+this.props.id).scrollTop($("#column-"+this.props.id+" .column-content-wrapper").height()+50)}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{onScroll:function(t){return e.onScroll(t)},id:"column-"+this.props.id,className:[m.default.inner_column_content_scrollable,"scrollable-column"].join(" ")},u.default.createElement("div",{id:this.props.id,className:"column-content-wrapper",ref:function(t){return e.innerNode=t}},this.viewport_tasks.map((function(t,n){return u.default.createElement(h.default,{key:t.id,id:t.id,hierarchy_support:e.props.hierarchy_support,task:t,index:n,store:e.store})}))))}},{key:"tasks",get:function(){return this.store.tasks.board.sections[this.props.id].tasks}},{key:"viewport_tasks",get:function(){return this.tasks.slice(0,this.render_properties.current_render_index)}},{key:"should_grow",get:function(){return this.store.uistate.board_settings.dragging_from&&this.store.uistate.board_settings.dragging_from!=this.props.id&&"section"!=this.store.uistate.board_settings.group_by}}]),t}(),o=b(a.prototype,"create_task_visible",[p.observable],{enumerable:!0,initializer:function(){return!1}}),i=b(a.prototype,"form",[p.observable],{enumerable:!0,initializer:function(){return{new_task_name:""}}}),s=b(a.prototype,"current_render_index",[p.observable],{enumerable:!0,initializer:function(){return 20}}),b(a.prototype,"tasks",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"tasks"),a.prototype),b(a.prototype,"viewport_tasks",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"viewport_tasks"),a.prototype),b(a.prototype,"should_grow",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"should_grow"),a.prototype),r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=_(c),d=n(6),f=n(3),p=(_(n(241)),_(n(120))),h=_(n(242)),m=_(n(111));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g(n,"create_section_visible",o,n),g(n,"configure_status_steps",i,n),g(n,"form",s,n),n.reactions=[],n.store=n.props.store,n.showCreateSection=n.showCreateSection.bind(n),n.handleNewSectionInputChange=n.handleNewSectionInputChange.bind(n),n.createSection=n.createSection.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"showCreateSection",value:function(){"section"==this.store.uistate.board_settings.group_by&&(this.create_section_visible=!this.create_section_visible),"status"==this.store.uistate.board_settings.group_by&&(this.configure_status_steps=!this.configure_status_steps)}},{key:"handleNewSectionInputChange",value:function(e){27==e.keyCode&&(this.form.new_section_name="",this.showCreateSection()),13==e.keyCode&&this.createSection()}},{key:"createSection",value:function(){var e,t=this,n=this.store.tasks.models.length+1,r={name:this.form.new_section_name,projects:[{id:this.store.projects.selected.id}],project_id:this.store.projects.selected.id,dependent_of:"",notes:"",parent_priority_heading:"",priority_heading_id:"",is_priority_heading:!0,parent:"",priority:n,local_priority:n};"group"==this.store.projects.selected.type&&this.store.uistate.board_settings.project_id_on_folder&&(r.projects=[{id:this.store.uistate.board_settings.project_id_on_folder}],r.project_id=this.store.uistate.board_settings.project_id_on_folder,r.project_priority=this.store.tasks.get(this.store.uistate.board_settings.project_id_on_folder).project_priority),Object.keys(this.store.tasks.board).length>0&&(e=Object.keys(this.store.tasks.board)[Object.keys(this.store.tasks.board).length-1]),"asana"==this.store.projects.selected.supplier&&void 0!==e&&e&&(r.insert_after=e),this.store.tasks.create(r).then((function(e){var r=parseInt(1e14*Math.random());t.store.tasks.add([{id:r,name:"Create task...",is_project:!1,is_priority_heading:!1,is_for_section:!0,dependent_of:[],parent_priority_heading:n,priority_heading_id:e.id,priority:1e4,local_priority:1e4,projects:t.store.projects.selected.id,completed:!1,is_new_task_handler:!0}])})),this.add_task_handler_state=!1,store.uistate.is_mobile&&store.uistate.mobileMessage("Section created"),this.form.new_section_name=""}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:h.default.column},u.default.createElement("div",{className:h.default.inner_column},!this.create_section_visible&&u.default.createElement("div",{className:h.default.inner_column_content,onClick:this.showCreateSection,style:{cursor:"pointer"}},u.default.createElement("div",{className:p.default.title},u.default.createElement("div",{className:p.default.title_inner},u.default.createElement("div",{className:p.default.title_inner_text},"section"==this.store.uistate.board_settings.group_by&&u.default.createElement("span",null,u.default.createElement("i",{className:"fa fa-fw fa-plus"})," Create new section"),"status"==this.store.uistate.board_settings.group_by&&u.default.createElement("span",null,u.default.createElement("i",{className:"fa fa-fw fa-plus"})," Configure status steps"))))),this.create_section_visible&&u.default.createElement("div",{className:h.default.inner_column_content},u.default.createElement("div",{className:p.default.title},u.default.createElement("div",{className:p.default.title_inner},u.default.createElement("div",{className:p.default.title_inner_text},u.default.createElement("input",{autoFocus:!0,type:"text",value:this.form.new_section_name,onKeyDown:this.handleNewSectionInputChange,onChange:function(t){return e.form.new_section_name=t.target.value}}))),u.default.createElement("div",{className:p.default.title_inner_action},u.default.createElement("button",{className:"btn btn-flat btn-success",onClick:this.createSection},"Create")))),this.configure_status_steps&&u.default.createElement(m.default,{cf:this.store.workbooksettings.customField("_status"),store:this.store,close:function(){return e.configure_status_steps=!1}})))}}]),t}(),o=b(a.prototype,"create_section_visible",[f.observable],{enumerable:!0,initializer:function(){return!1}}),i=b(a.prototype,"configure_status_steps",[f.observable],{enumerable:!0,initializer:function(){return!1}}),s=b(a.prototype,"form",[f.observable],{enumerable:!0,initializer:function(){return{new_section_name:""}}}),r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=p(s),c=n(6),u=n(3),d=n(68),f=p(n(339));function p(e){return e&&e.__esModule?e:{default:e}}var h,m,_,g,b,y=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"tasks",a=i,(r=o)&&Object.defineProperty(n,"tasks",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.reactions=[],i.store=i.props.store,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return this.store.uistate,l.default.createElement(l.default.Fragment,null,this.store.tasks.board.order.map((function(t,n){var r=e.store.tasks.board.sections[t];return l.default.createElement(d.Draggable,{key:r.id,draggableId:String(r.id),index:n},(function(t,n){return l.default.createElement(f.default,{title:r.name,id:r.id,model:r.model,tasks:r.tasks,store:e.store,hierarchy_support:r.hierarchy_support,provided:t,snapshot:n})}))})))}}]),t}(),h=a.prototype,m="tasks",_=[u.observable],g={enumerable:!0,initializer:function(){return[]}},b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),void 0===(b=_.slice().reverse().reduce((function(e,t){return t(h,m,e)||e}),b)).initializer&&(Object.defineProperty(h,m,b),b=null),o=b,r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(Object.assign,n(0)),c=h(l),u=n(6),d=n(3),f=(h(n(109)),h(n(110)),h(n(340))),p=(h(n(266)),h(n(111)));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}h(n(96));var g=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"visible_filters",o,n),n.reactions=[],m(n,"configure_status_visible",i,n),n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentDidMount",value:function(){var e=this;this.store.tasks.active_filters_arr.forEach((function(t){e.visible_filters.push(t.column)}))}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"hideFilter",value:function(e){this.visible_filters.splice(this.visible_filters.indexOf(e),1)}},{key:"toggleShowSubtasks",value:function(){this.store.uistate.board_settings.show_subtasks=!this.store.uistate.board_settings.show_subtasks}},{key:"toggleSubtasks",value:function(e){e?(this.store.uistate.board_settings.subtasks_expanded&&(this.store.uistate.board_settings.subtasks_expanded=!1),this.store.uistate.board_settings.subtasks_expanded=!0):(this.store.uistate.board_settings.subtasks_expanded||(this.store.uistate.board_settings.subtasks_expanded=!0),this.store.uistate.board_settings.subtasks_expanded=!1)}},{key:"render",value:function(){var e=this,t=(this.store.uistate,"section"==this.store.uistate.board_settings.group_by?"Section":"status"==this.store.uistate.board_settings.group_by?"Status":"");return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:f.default.filter_item},c.default.createElement("div",{className:"dropdown"},c.default.createElement("button",{class:"btn btn-flat btn-grey btn-small dropdown-toggle","data-toggle":"dropdown",tabIndex:-1,href:"javascript:void(0)"},c.default.createElement("i",{className:"fa-regular fa-fw fa-layer-group",style:{fontSize:"12px"}}),"  Group by",c.default.createElement("span",{style:{fontSize:"11px",padding:"6px 0 6px 8px",borderLeft:"1px solid rgba(0,0,0,0.1)",marginLeft:"5px"}},t," ",c.default.createElement("i",{style:{fontSize:"11px"},className:"fa fa-caret-down"}))),c.default.createElement("ul",{className:"dropdown-menu"},c.default.createElement("li",{onClick:function(){return e.store.uistate.board_settings.group_by="section"}},c.default.createElement("a",{href:"javascript:void(0)"},"Section")),c.default.createElement("li",{onClick:function(){return e.store.uistate.board_settings.group_by="status"}},c.default.createElement("a",{href:"javascript:void(0)"},"Status"))))),c.default.createElement("div",{className:f.default.filter_item},c.default.createElement("div",{className:"dropdown"},c.default.createElement("button",{class:"btn btn-flat btn-grey btn-small dropdown-toggle","data-toggle":"dropdown",tabIndex:-1,href:"javascript:void(0)"},c.default.createElement("i",{className:"fa-light fa-diagram-subtask",style:{fontSize:"12px"}}),"  Subtasks",c.default.createElement("span",{style:{fontSize:"11px",padding:"6px 0 6px 8px",borderLeft:"1px solid rgba(0,0,0,0.1)",marginLeft:"5px"}},c.default.createElement("i",{style:{fontSize:"11px"},className:"fa fa-caret-down"}))),c.default.createElement("ul",{className:"dropdown-menu"},c.default.createElement("li",{onClick:function(){return e.toggleSubtasks(!0)}},c.default.createElement("a",{href:"javascript:void(0)"},"Expand all")),c.default.createElement("li",{onClick:function(){return e.toggleSubtasks(!1)}},c.default.createElement("a",{href:"javascript:void(0)"},"Collapse all"))))),c.default.createElement("div",{className:f.default.filter_item,style:{display:"flex",marginLeft:"auto"}},c.default.createElement("div",{className:"dropdown"},c.default.createElement("div",{className:"dropdown-toggle btn btn-flat btn-small btn-grey","data-toggle":"dropdown",style:{cursor:"pointer"}},c.default.createElement("i",{className:"fa-regular fa-fw fa-tags",style:{fontSize:"12px"}})," Card fields ",c.default.createElement("i",{style:{fontSize:"12px"},className:"fa fa-caret-down"})),c.default.createElement("ul",{className:"dropdown-menu",style:{marginLeft:"-50px"}},c.default.createElement("li",{className:f.default.header_dropdown_item,onClick:function(){return e.store.uistate.board_settings.show_images=!e.store.uistate.board_settings.show_images}},c.default.createElement("a",{href:"javascript:void(0)"},c.default.createElement("span",null,"Image attachment"),c.default.createElement("span",null,this.store.uistate.board_settings.show_images&&c.default.createElement("i",{className:["fas fa-toggle-on",f.default.toggle,f.default.active].join(" ")}),!this.store.uistate.board_settings.show_images&&c.default.createElement("i",{className:["fas fa-toggle-off",f.default.toggle].join(" ")})))),c.default.createElement("li",{className:f.default.header_dropdown_item,onClick:function(){return e.store.uistate.board_settings.show_status=!e.store.uistate.board_settings.show_status}},c.default.createElement("a",{href:"javascript:void(0)"},c.default.createElement("span",null,"Show status"),c.default.createElement("span",null,this.store.uistate.board_settings.show_status&&c.default.createElement("i",{className:["fas fa-toggle-on",f.default.toggle,f.default.active].join(" ")}),!this.store.uistate.board_settings.show_status&&c.default.createElement("i",{className:["fas fa-toggle-off",f.default.toggle].join(" ")}))))))),c.default.createElement("div",{className:f.default.filter_item,style:{display:"flex"}},c.default.createElement("div",{className:" btn btn-flat btn-small btn-grey",onClick:function(){return e.configure_status_visible=!0}},c.default.createElement("i",{className:"fa-regular fa-fw fa-cog",style:{fontSize:"12px"}})," Status Columns"),this.configure_status_visible&&c.default.createElement(p.default,{cf:this.store.workbooksettings.customField("_status"),store:this.store,close:function(){return e.configure_status_visible=!1}})))}}]),t}(),o=_(a.prototype,"visible_filters",[d.observable],{enumerable:!0,initializer:function(){return[]}}),i=_(a.prototype,"configure_status_visible",[d.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=_(l),u=n(6),d=n(3),f=_(n(121)),p=(_(n(642)),_(n(643))),h=_(n(646)),m=_(n(680));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g(n,"stats",o,n),g(n,"charts",i,n),n.reactions=[],n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t=this;return this.store.uistate,"group"==this.store.projects.selected.type?"folder"==this.store.projects.selected.subtype?e=this.store.projects.selected.projects_in_folder.map((function(e){return store.projects.get(e)})):"all"==this.store.projects.selected.subtype?e=this.store.projects.filteredWorkbook.filter((function(e){return!e.archived&&"group"!=e.type})):"standalone"!=this.store.user.type&&(e=this.store.projects.selected.projects.map((function(e){return{id:t.store.projects.selected.id,supplier_project_id:e.supplier_project_id,name:e.name}}))):e=[this.store.projects.selected],c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:f.default.content_scroller},c.default.createElement("div",{className:f.default.content_wrapper},c.default.createElement("div",{className:f.default.container},c.default.createElement(p.default,{store:this.store}),0!=this.store.tasks.models.length&&c.default.createElement("div",{className:f.default.projects_container},e.filter((function(e){return e})).map((function(e){var n=e.id,r="standalone"==t.store.user.type?e.id:e.supplier_project_id;return!r&&e.id&&(r=e.id),c.default.createElement(h.default,{key:r,project_id:n,supplier_project_id:r,store:t.store,project:e,stats:t.store.tasks.infoByProject[r]||{},chart_data:t.store.tasks.chartByProject[r]||{}})})),"group"!=this.store.projects.selected.type&&c.default.createElement(m.default,{store:this.store,project:this.store.projects.selected}))))))}}]),t}(),o=b(a.prototype,"stats",[d.observable],{enumerable:!0,initializer:function(){return{}}}),i=b(a.prototype,"charts",[d.observable],{enumerable:!0,initializer:function(){return{}}}),r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=f(n(121));function f(e){return e&&e.__esModule?e:{default:e}}var p,h,m,_,g,b=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"tasks",a=i,(r=o)&&Object.defineProperty(n,"tasks",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.reactions=[],i.store=i.props.store,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return this.store.uistate,l.default.createElement("div",{className:d.default.header,ref:function(t){e.component=t}},l.default.createElement("div",{className:d.default.header_left},l.default.createElement("div",{className:d.default.header_item,style:{marginLeft:5}},"Overview")),l.default.createElement("div",{className:d.default.header_right}))}}]),t}(),p=a.prototype,h="tasks",m=[u.observable],_={enumerable:!0,initializer:function(){return[]}},g={},Object.keys(_).forEach((function(e){g[e]=_[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),void 0===(g=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),g)).initializer&&(Object.defineProperty(p,h,g),g=null),o=g,r=a))||r;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=h(l),u=n(6),d=n(3),f=h(n(121)),p=h(n(644));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"tasks",o,n),m(n,"viewport_settings",i,n),n.reactions=[],n.changeLayout=function(e){"extended"==e?"group"==n.store.projects.selected.type?n.viewport_settings.layout="extended":alert("Extended view is only available on Folders"):n.viewport_settings.layout="compact"},n.store=n.props.store,n.project=n.props.project,n.viewport_settings={row_height:40,width:960,layout:"compact",row_padding_bottom:5,timeline_padding_top:35,timeline_padding_bottom:35,headers_height:30,timeline_height:5,big_tick_height:20,small_tick_height:5,steps:15,row_padding_top:5},n.reactions.push((0,d.reaction)((function(){return n.store.projects.selected}),(function(){"group"!=n.store.projects.selected.type&&n.changeLayout("compact")}))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=(this.store.uistate,"compact"==this.viewport_settings.layout?"Compact":"Extended");return c.default.createElement("div",{className:[f.default.block,f.default.timeline].join(" ")},c.default.createElement("div",{className:[f.default.timeline_header].join(" ")},c.default.createElement("div",{className:f.default.title},"Timeline"),c.default.createElement("div",{className:f.default.filter_item},c.default.createElement("div",{className:"dropdown"},c.default.createElement("button",{class:"btn btn-flat btn-small dropdown-toggle","data-toggle":"dropdown",tabIndex:-1,href:"javascript:void(0)"},c.default.createElement("i",{className:"fas fa-fw fa-layer-group",style:{fontSize:"12px"}}),"  Layout",c.default.createElement("span",{style:{fontSize:"11px",padding:"6px 0 6px 8px",borderLeft:"1px solid rgba(0,0,0,0.1)",marginLeft:"5px"}},t," ",c.default.createElement("i",{className:"fa fa-chevron-down"}))),c.default.createElement("ul",{className:"dropdown-menu"},c.default.createElement("li",{onClick:function(){return e.changeLayout("compact")}},c.default.createElement("a",{href:"javascript:void(0)"},"Compact")),c.default.createElement("li",{onClick:function(){return e.changeLayout("extended")}},c.default.createElement("a",{href:"javascript:void(0)"},"Extended"))))),"snapshot"!=this.store.submode&&c.default.createElement("div",{className:f.default.filter_item},c.default.createElement("div",{className:""},c.default.createElement("button",{class:"btn btn-flat btn-small dropdown-toggle","data-toggle":"dropdown",tabIndex:-1,href:"javascript:void(0)",onClick:function(){return e.store.uistate.current_modal="OVERVIEW_COLORS"}},c.default.createElement("i",{className:"far fa-fw fa-palette",style:{fontSize:"12px"}}),"  Colors"))),c.default.createElement("div",{className:f.default.filter_item},c.default.createElement("div",{className:""},c.default.createElement("button",{style:{background:"rgb(92, 182, 80)"},class:"btn btn-flat btn-info btn-small dropdown-toggle","data-toggle":"dropdown",tabIndex:-1,href:"javascript:void(0)",onClick:function(){return e.store.uistate.current_modal="OVERVIEW_IMAGE"}},c.default.createElement("i",{className:"far fa-fw fa-copy",style:{fontSize:"12px"}}),"  Copy to clipboard")))),c.default.createElement("div",{className:[f.default.timeline_container].join(" ")},c.default.createElement(p.default,{store:this.store,viewport_settings:this.viewport_settings})))}}]),t}(),o=_(a.prototype,"tasks",[d.observable],{enumerable:!0,initializer:function(){return[]}}),i=_(a.prototype,"viewport_settings",[d.observable],{enumerable:!0,initializer:null}),r=a))||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=m(l),u=n(6),d=n(3),f=m(n(645)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),h=m(n(341));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(275);var g=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"viewport_settings",a=i,(r=o)&&Object.defineProperty(n,"viewport_settings",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.viewport_settings=i.props.viewport_settings,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"canvasDates",value:function(){var e=moment(moment()).format("YYYY-MM-DD"),t="1",n=[];this.tasks.forEach((function(e){e.tasks.forEach((function(e){var t=i(e,2),r=t[0];t[1],n.push(r)}))})),n.forEach((function(n){n.start&&n.start<e&&(e=n.start),n.container&&n.container.start<e&&(e=n.container.start),n.due&&"null"!=n.due&&n.due>t&&(t=n.due),n.container&&n.container.due>t&&(t=n.container.due)})),"1"===t&&e&&(t=e),this.store.uistate.column_width,Math.ceil(p.daysDiff(t,e)/Number(this.store.uistate.column_length));var r=(this.viewport_settings.row_height+20)*this.store.tasks.timeline.length;return moment(t).diff(moment(e),"months")<6&&(t=moment(e).add("months",6).format("YYYY-MM-DD")),console.log(e,t),{first_start:e,last_due:t,width:960,height:r}}},{key:"steps",value:function(e,t,n){var r,a=[],o=[],i=Math.round(t/15),s=moment(e.first_start),l=0;if(i<15)for(;l<960&&960-l>50;){r=moment(s).add("days",7).day(1).add("days",-1);var c=p.metrics(p.getDateSafely(s.format("YYYY-MM-DD")),p.getDateSafely(r.format("YYYY-MM-DD")),{first_month_first_date:e.first_start,column_width:n,column_length:1});a.push({start:s,title:"W"+s.format("w"),subtitle:s.format("MMM DD"),x:c.initial_margin,width:c.duration}),l=c.initial_margin,s=moment(s).add("days",7).day(1)}if(i>=15&&i<60)for(;l<960&&960-l>50;){r=moment(s).add("months",1).date(1).add("days",-1);var u=p.metrics(p.getDateSafely(s.format("YYYY-MM-DD")),p.getDateSafely(r.format("YYYY-MM-DD")),{first_month_first_date:e.first_start,column_width:n,column_length:1});a.push({start:s,title:s.format("MMM YY"),subtitle:"",x:u.initial_margin,width:u.duration}),l=u.initial_margin,s=moment(s).add("months",1).date(1)}if(i>=60&&i<120){for(;l<960&&960-l>50;){if(r=moment(s).add("months",3).date(1).add("days",-1),-1!=["1","4","7","10"].indexOf(s.format("M"))){var d=p.metrics(p.getDateSafely(s.format("YYYY-MM-DD")),p.getDateSafely(r.format("YYYY-MM-DD")),{first_month_first_date:e.first_start,column_width:n,column_length:1});a.push({start:s,title:"Q"+(Number(["1","4","7","10"].indexOf(s.format("M")))+1),subtitle:s.format("YYYY"),x:d.initial_margin,width:d.duration}),l=d.initial_margin}s=moment(s).add("months",1).date(1)}0!=a[0].x&&a.splice(0,0,{title:"",subtitle:"",x:0,width:a[0].x})}if(i>=120)for(;l<960&&960-l>50;){r=moment(s).add("years",1).date(1).add("days",-1);var f=p.metrics(p.getDateSafely(s.format("YYYY-MM-DD")),p.getDateSafely(r.format("YYYY-MM-DD")),{first_month_first_date:e.first_start,column_width:n,column_length:1});a.push({start:s,title:s.format("YYYY"),subtitle:"",x:f.initial_margin,width:f.duration}),l=f.initial_margin,s=moment(s).add("years",1).date(1)}for(l=0;l<960&&960-l>50;){var h;o.length>0&&(h=moment(o[o.length-1].start).add("months",1).date(1)),h||(h=moment(e.first_start));var m=moment(h).add("months",1).date(1).add("days",-1),_=p.metrics(p.getDateSafely(h.format("YYYY-MM-DD")),p.getDateSafely(m.format("YYYY-MM-DD")),{first_month_first_date:e.first_start,column_width:n,column_length:1});o.push({start:h,title:h.format("MMM YYYY"),subtitle:h.format("MM YY"),x:_.initial_margin,width:_.duration}),l=_.initial_margin}return{steps:a,months:o}}},{key:"render",value:function(){var e=this,t=(this.store.tasks,this.store.tasks,this.store.uistate.calendar.total_width,this.canvasDates()),n=(t.height,t.width,p.getDateSafely(t.first_start)),r=p.getDateSafely(t.last_due),a=moment(r).diff(moment(n),"days")+1,o=this.viewport_settings.width/a,s=this.steps(t,a,o),l=s.steps,u=s.months,d=this.viewport_settings.headers_height,m=this.viewport_settings.row_height+this.viewport_settings.row_padding_bottom+this.viewport_settings.row_padding_top;return this.tasks.forEach((function(t){d=d+t.lanes.length*m+e.viewport_settings.timeline_padding_top+e.viewport_settings.timeline_padding_bottom})),c.default.createElement("div",{id:"timeline-container",className:h.default.timeline_container,style:{height:d+30}},c.default.createElement("div",{className:h.default.timeline_bottom,style:{height:"20px",color:"#fff",zIndex:2}},(u.length>40?l:u).map((function(e){return c.default.createElement("div",{className:h.default.timeline_month,style:{left:e.x,width:e.width}},e.width>=60&&e.title,e.width>=35&&e.width<60&&c.default.createElement("span",{style:{fontSize:"8px"}},e.title),e.width<35&&e.width>20&&c.default.createElement("span",{style:{fontSize:"8px"}},e.subtitle),e.width<=20&&c.default.createElement("span",{style:{fontSize:"6px"}},e.subtitle))}))),c.default.createElement("div",{className:h.default.bars_container}),c.default.createElement("div",{className:h.default.timeline_top}),c.default.createElement("div",{className:h.default.timeline_bottom,style:{top:d-this.viewport_settings.headers_height,background:"transparent"}},c.default.createElement("div",{className:h.default.stick,style:{left:0,top:0}}),c.default.createElement("div",{className:h.default.stick,style:{position:"absolute",right:0,top:0}}),c.default.createElement("div",{className:h.default.stick_label,style:{left:0,top:"0px",width:"100px",position:"absolute"}},moment(t.first_start).format("MMM DD, YYYY")),c.default.createElement("div",{className:h.default.stick_label,style:{right:0,top:"0px",position:"absolute",width:"100px",textAlign:"right"}},moment(t.last_due).format("MMM DD, YYYY"))),l.map((function(e,t){return c.default.createElement("div",{className:h.default.timeline_vertical,style:{position:"absolute",top:"1px",left:e.x,height:d-3}})})),this.tasks.map((function(n,r){return c.default.createElement("div",{className:h.default.lane,style:{position:"relative",height:n.lanes.length*m+e.viewport_settings.timeline_padding_top+e.viewport_settings.timeline_padding_bottom}},e.tasks.length>1&&c.default.createElement("div",{className:h.default.project_name},c.default.createElement("div",{className:h.default.item},e.store.tasks.timeline_extended.tasks[r].name),c.default.createElement("div",{className:h.default.item},c.default.createElement("i",{className:"fal fa-fw fa-chart-line"})," ",e.store.tasks.timeline_extended.tasks[r].calculated_progress)),n.tasks.map((function(n){var r=i(n,2),a=r[0],s=r[1];return c.default.createElement(f.default,{column_width:o,viewport_settings:e.viewport_settings,task:a,first_start:t.first_start,store:e.store,index:s,key:a.id?a.id:a.optimisticId()})})))})))}},{key:"tasks",get:function(){var e=[],t=[];return"compact"==this.viewport_settings.layout?e[0]=this.store.tasks.timeline:this.store.tasks.timeline_extended.lanes.forEach((function(t,n){e[n]=t})),e.forEach((function(e,n){var r,a,o=[];r=[[]],a=[0],e.forEach((function(e){var t=e.start,n=(t=e.container.start?e.container.start:e.start,e.due);if(n=e.container.due?e.container.due:e.due,t&&n){for(var o=new Date(t.split("-")[0],t.split("-")[1]-1,t.split("-")[2]),i=new Date(n.split("-")[0],n.split("-")[1]-1,n.split("-")[2]),s=o.getTime(),l=i.getTime(),c=!1,u=0;u<r.length;u++)r[u]&&a[u]<s&&(r[u].push(e),a[u]=l,u=r.length,c=!0);c||(r.push([e]),a[r.length-1]=l)}})),o=[],r.forEach((function(e,t){e.forEach((function(e){o.push([e,t])}))})),t[n]={lanes:r,tasks:o}})),t}}]),t}(),o=_(a.prototype,"viewport_settings",[d.observable],{enumerable:!0,initializer:null}),_(a.prototype,"tasks",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"tasks"),a.prototype),r=a))||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=d(o),s=n(6),l=(n(3),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9))),c=d(n(30)),u=d(n(341));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}d(n(151));var p=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this.props.task,n=(this.props.index,this.props.viewport_settings.row_height),r=this.props.viewport_settings.timeline_padding_top+this.props.index*(n+this.props.viewport_settings.row_padding_bottom+this.props.viewport_settings.row_padding_top),a=n-2;if(!t.start&&!t.container&&!t.container.start)return null;var o=l.getDateSafely(t.start),s=l.getDateSafely(t.due);t.container&&t.container.start&&(o=l.getDateSafely(t.container.start),s=l.getDateSafely(t.container.due));var d=l.metrics(o,s,{first_month_first_date:this.props.first_start,column_width:this.props.column_width,column_length:1}),p=void 0;p="100%"==t.calculated_progress?"rgb(38, 185, 111)":(0,c.default)(s).format("YYYY-MM-DD")<(0,c.default)().format("YYYY-MM-DD")?"rgb(226, 51, 51)":"rgb(62, 163, 233)";var h=!1,m=this.store.projectsettings.getSetting("overview_colors");return m[t.id]&&(p="",h=m[t.id]),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:[u.default.timeline_bar,h?"palette palette-"+h:""].join(" "),style:{left:d.initial_margin,top:r,width:d.duration,height:a,background:p}},i.default.createElement("div",{style:(e={position:"absolute",padding:"3px",left:0,top:0,bottom:0},f(e,"top",0),f(e,"right",0),f(e,"overflow","hidden"),f(e,"borderRadius","3px"),e)},i.default.createElement("div",{style:{background:"rgba(255,255,255,0.1)",position:"absolute",top:0,bottom:0,left:0,boxSizing:"border-box",borderRight:"1px solid rgba(0,0,0,0.2)",width:t.calculated_progress||"0%"}}),i.default.createElement("span",null,t.name)),parseInt(t.calculated_progress)>0&&i.default.createElement("div",{style:{color:"#333",display:"flex",position:"absolute",left:t.calculated_progress,minWidth:"35px",fontSize:"8px",fontWeight:"bold",top:"-12px",marginLeft:"-7px"}},i.default.createElement("i",{style:{fontSize:"17px",lineHeight:"12px",marginRight:"2px"},className:"fa fa-caret-down"})," ",t.calculated_progress)))}}]),t}())||r;t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),d=v(u),f=n(6),p=n(3),h=v(n(121)),m=n(922),_=v(n(30)),g=v(n(268)),b=v(n(78)),y=v(n(273));function v(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(56);var k=(0,f.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reactions=[],A(n,"baseline_picker",o,n),A(n,"loading_baseline",i,n),A(n,"baselines",s,n),A(n,"baseline_picker_loading",l,n),n.store=n.props.store,n.project=n.props.project,n.project_id=n.props.project_id,n.supplier_project_id=n.props.supplier_project_id,n.store.uistate.overview_baselines.length,n.snapshotsCollection=new y.default(n.store,[]),n.snapshotsCollection.setProject(n.project_id,n.supplier_project_id),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"round",value:function(e){return Math.round(100*(Number(e)+Number.EPSILON))/100}},{key:"loadBaseline",value:function(e){var t=this;this.loading_baseline=e.id,fetch("/shared/"+e.id+".json",{method:"GET",credentials:"include"}).then((function(n){n.json().then((function(n){var r={},a=[],o=new g.default(t.store,[]);n.tasks.forEach((function(e){r[e.id]=e})),t.store.tasks.models.forEach((function(e){var t=e.getJSON();r[t.id]&&(t.start=r[t.id].start,t.due=r[t.id].due,a.push(t))})),o.set(a),t.removeBaseline(),t.store.uistate.overview_baselines.push({name:e.name,date:e.date,collection:o,project_id:t.supplier_project_id}),t.loading_baseline=!1,t.baseline_picker=!1,t.store.uistate.trackAnalytics("Overview:Project:Baseline")}))})).catch((function(e){throw console.log(e),new Error("Error: Baseline fetch",e)}))}},{key:"toggleBaselinePicker",value:function(){var e=this;this.baseline_picker=!0,this.baseline_picker_loading=!0,this.snapshotsCollection.fetch().then((function(){e.baseline_picker_loading=!1}))}},{key:"removeBaseline",value:function(){var e=this.active_baseline;console.log("Removing active baseline",e),e&&e.project_id&&(this.store.uistate.overview_baselines=this.store.uistate.overview_baselines.filter((function(t){return t.project_id!=e.project_id})))}},{key:"render",value:function(){var e=this,t=(this.store.uistate,(0,_.default)().toDate());return this.get_series?d.default.createElement("div",{key:this.supplier_project_id,className:[h.default.block,h.default.project].join(" ")},d.default.createElement("div",{className:[h.default.component_title].join(" ")},d.default.createElement("div",{className:[h.default.title].join(" ")},"project"==this.store.projects.selected.type?"Progress":this.project.name),"snapshot"!=this.store.submode&&d.default.createElement("div",{className:[h.default.options].join(" "),onClick:function(){return e.toggleBaselinePicker()}},d.default.createElement("i",{className:"far fa-ellipsis-v"}))),this.active_baseline&&d.default.createElement("div",{className:[h.default.component_title_mini].join(" ")},d.default.createElement("div",{className:[h.default.title].join(" ")},"Baseline: ",this.active_baseline.name?this.active_baseline.name:(0,_.default)(this.active_baseline.date).format("HH:mm DD MMM YYYY")),d.default.createElement("div",{className:[h.default.options].join(" "),onClick:function(){return e.removeBaseline()}},d.default.createElement("i",{className:"far fa-times"}))),!this.active_baseline&&"group"==this.store.projects.selected.type&&this.store.uistate.overview_baselines.length>0&&d.default.createElement("div",{className:[h.default.component_title_mini].join(" ")},d.default.createElement("div",{className:[h.default.title].join(" ")}," "),d.default.createElement("div",{className:[h.default.options].join(" "),onClick:function(){return e.removeBaseline()}}," ")),this.baseline_picker&&d.default.createElement(b.default,{width:400,height:500,closeButton:!0,closeButtonCallback:function(){return e.baseline_picker=!1},successButton:!1,title:"Load an existing baseline to compare",store:this.store},d.default.createElement("ul",{className:[h.default.selectable_option_container].join(" ")},this.baseline_picker_loading&&d.default.createElement("p",{style:{padding:"10px"}},d.default.createElement("i",{className:"fa fa-spin fa-spinner"})," Loading Baselines..."),!this.baseline_picker_loading&&this.snapshotsCollection.baselines.map((function(t){return d.default.createElement("li",{className:[h.default.selectable_option].join(" "),onClick:function(){return e.loadBaseline(t)}},e.loading_baseline==t.id&&d.default.createElement("i",{className:"fa fa-spin fa-spinner"}),e.loading_baseline!=t.id&&d.default.createElement("span",null,(0,_.default)(t.date).format("HH:mm DD MMM YYYY")," ",t.name))})),!this.baseline_picker_loading&&0==this.snapshotsCollection.baselines.length&&d.default.createElement("p",{style:{padding:"10px"}},"You don't have any baselines for this project"))),d.default.createElement("div",{className:[h.default.progress_chart].join(" ")},d.default.createElement(m.ResponsiveLine,{data:this.get_series,margin:{top:30,right:10,bottom:30,left:10},xScale:{type:"time",format:"%Y-%m-%d",precision:"day"},xFormat:"time:%b %d, %Y",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,enableArea:!0,sliceTooltip:function(e){var t=e.slice;return d.default.createElement("div",{style:{background:"white",padding:"9px 12px",boxShadow:"0 2px 3px rgba(0,0,0,0.3)",borderRadius:"5px"}},t.points.map((function(e){return d.default.createElement("div",{key:e.id,style:{padding:"5px 0"}},d.default.createElement("div",{style:{fontSize:"11px"}},d.default.createElement("div",{style:{display:"inline-block",background:e.serieColor,height:"10px",width:"10px",marginRight:"5px"}}),e.serieId),d.default.createElement("div",{style:{fontSize:"10px",paddingLeft:"15px"}},e.data.xFormatted,": ",e.data.yFormatted,"%"))})))},markers:[{axis:"x",value:t,lineStyle:{stroke:"red",strokeWidth:1},legend:"Today",textStyle:{size:8,fontSize:8}}],axisBottom:null,axisLeft:null,colors:{scheme:"paired"},pointSize:2,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,enableSlices:"x",curve:"monotoneX",enableGridY:!1,enableGridX:!1,legends:[{anchor:"top-left",direction:"row",justify:!1,translateX:0,translateY:-20,itemWidth:70,itemHeight:10,itemsSpacing:8,symbolSize:14,symbolShape:"circle",itemDirection:"left-to-right",itemTextColor:"#777",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})),d.default.createElement("div",{className:[h.default.stats].join(" ")},this.get_stats.map((function(e){return d.default.createElement("div",{className:h.default.stat_item},d.default.createElement("div",{className:h.default.stat_title},e.name),d.default.createElement("div",{className:h.default.stat_value},e.value))})))):null}},{key:"stats",get:function(){return this.store.tasks.infoByProject[this.supplier_project_id]}},{key:"chart_data",get:function(){return this.store.tasks.chartByProject[this.supplier_project_id]}},{key:"get_stats",get:function(){var e=[];return e.push({name:"Overall Progress",value:this.stats.progress}),e.push({name:"Total tasks",value:this.stats.all_tasks}),e.push({name:"Total Estimated Hours",value:this.round(this.stats.estimated_hours)+" hours"}),e.push({name:"Current Spent Hours",value:this.round(this.stats.actual_hours)+" hours"}),e.push({name:"Total Estimated Cost",value:(this.store.projectsettings.getSetting("currency",this.supplier_project_id)||"$")+Number(this.stats.total_estimated_cost).money(2,3,".",",")}),e.push({name:"Current Cost",value:(this.store.projectsettings.getSetting("currency",this.supplier_project_id)||"$")+Number(this.stats.total_actual_cost).money(2,3,".",",")}),e}},{key:"get_series",get:function(){var e=this,t=[{label:"Expected",id:"Expected",data:[],color:"#008ACA"},{label:"Current",id:"Current",data:[]}];if(this.chart_data&&this.chart_data.baseline_progress_chart)return Object.keys(this.chart_data.baseline_progress_chart).sort().forEach((function(n,r){"undefined"!=n&&t[0].data.push({x:n,y:parseInt(100*e.chart_data.baseline_progress_chart[n])})})),Object.keys(this.chart_data.real_progress_chart).sort().forEach((function(n,r){"undefined"!=n&&t[1].data.push({x:n,y:parseInt(100*e.chart_data.real_progress_chart[n])})})),this.store.uistate.overview_baselines.filter((function(t){return t.project_id==e.supplier_project_id})).forEach((function(n,r){var a=n.collection.chartByProject[e.supplier_project_id],o=[];Object.keys(a.baseline_progress_chart).sort().forEach((function(e,t){"undefined"!=e&&o.push({x:e,y:parseInt(100*a.baseline_progress_chart[e])})})),t.push({label:"Baseline",id:"Baseline",data:o,color:"#E6AF2E"})})),t}},{key:"active_baseline",get:function(){var e=this;return this.store.uistate.overview_baselines.filter((function(t){return t.project_id==e.supplier_project_id}))[0]}}]),t}(),o=w(a.prototype,"baseline_picker",[p.observable],{enumerable:!0,initializer:function(){return!1}}),i=w(a.prototype,"loading_baseline",[p.observable],{enumerable:!0,initializer:function(){return!1}}),s=w(a.prototype,"baselines",[p.observable],{enumerable:!0,initializer:function(){return[]}}),l=w(a.prototype,"baseline_picker_loading",[p.observable],{enumerable:!0,initializer:function(){return!1}}),w(a.prototype,"stats",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"stats"),a.prototype),w(a.prototype,"chart_data",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"chart_data"),a.prototype),w(a.prototype,"get_stats",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"get_stats"),a.prototype),w(a.prototype,"get_series",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"get_series"),a.prototype),w(a.prototype,"active_baseline",[p.computed],Object.getOwnPropertyDescriptor(a.prototype,"active_baseline"),a.prototype),r=a))||r;t.default=k},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),a=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),t.Fragment=o("react.fragment")}var i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:i.current}}t.jsx=c,t.jsxs=c},function(e,t,n){var r=n(156),a=n(344),o=n(345),i=n(650),s=n(57),l=n(118),c=n(347);e.exports=function e(t,n,u,d,f){t!==n&&o(n,(function(o,l){if(f||(f=new r),s(o))i(t,n,l,u,e,d,f);else{var p=d?d(c(t,l),o,l+"",t,n,f):void 0;void 0===p&&(p=o),a(t,l,p)}}),l)}},function(e,t){e.exports=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),s=i.length;s--;){var l=i[e?s:++a];if(!1===n(o[l],l,o))break}return t}}},function(e,t,n){var r=n(344),a=n(306),o=n(315),i=n(307),s=n(316),l=n(152),c=n(31),u=n(346),d=n(153),f=n(61),p=n(57),h=n(92),m=n(221),_=n(347),g=n(651);e.exports=function(e,t,n,b,y,v,A){var w=_(e,n),k=_(t,n),E=A.get(k);if(E)r(e,n,E);else{var x=v?v(w,k,n+"",e,t,A):void 0,O=void 0===x;if(O){var C=c(k),j=!C&&d(k),D=!C&&!j&&m(k);x=k,C||j||D?c(w)?x=w:u(w)?x=i(w):j?(O=!1,x=a(k,!0)):D?(O=!1,x=o(k,!0)):x=[]:h(k)||l(k)?(x=w,l(w)?x=g(w):p(w)&&!f(w)||(x=s(k))):O=!1}O&&(A.set(k,x),y(x,k,b,v,A),A.delete(k)),r(e,n,x)}}},function(e,t,n){var r=n(102),a=n(118);e.exports=function(e){return r(e,a(e))}},function(e,t,n){var r=n(243),a=n(348);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&a(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t}))}},function(e,t,n){var r=n(234),a=n(350),o=n(351),i=n(116),s=n(100),l=n(235);e.exports=function(e,t,n,c){var u=-1,d=a,f=!0,p=e.length,h=[],m=t.length;if(!p)return h;n&&(t=i(t,s(n))),c?(d=o,f=!1):t.length>=200&&(d=l,f=!1,t=new r(t));e:for(;++u<p;){var _=e[u],g=null==n?_:n(_);if(_=c||0!==_?_:0,f&&g==g){for(var b=m;b--;)if(t[b]===g)continue e;h.push(_)}else d(t,g,c)||h.push(_)}return h}},function(e,t,n){var r=n(655),a=n(656),o=n(657);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(659),a=n(352);e.exports=function(e,t){return r(e,t,(function(t,n){return a(e,n)}))}},function(e,t,n){var r=n(119),a=n(349),o=n(103);e.exports=function(e,t,n){for(var i=-1,s=t.length,l={};++i<s;){var c=t[i],u=r(e,c);n(u,c)&&a(l,o(c,e),u)}return l}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(103),a=n(152),o=n(31),i=n(154),s=n(222),l=n(104);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var f=l(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&i(f,u)&&(o(e)||a(e))}},function(e,t,n){var r=n(313),a=n(663),o=n(236),i=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(665),a=n(666),o=n(356);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(156),a=n(233);e.exports=function(e,t,n,o){var i=n.length,s=i,l=!o;if(null==e)return!s;for(e=Object(e);i--;){var c=n[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var u=(c=n[i])[0],d=e[u],f=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(o)var h=o(d,f,u,e,t,p);if(!(void 0===h?a(f,d,3,o,p):h))return!1}}return!0}},function(e,t,n){var r=n(355),a=n(37);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,r(i)]}return t}},function(e,t,n){var r=n(233),a=n(33),o=n(352),i=n(232),s=n(355),l=n(356),c=n(104);e.exports=function(e,t){return i(e)&&s(t)?l(c(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?o(n,e):r(t,i,3)}}},function(e,t,n){var r=n(669),a=n(670),o=n(232),i=n(104);e.exports=function(e){return o(e)?r(i(e)):a(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(119);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(116),a=n(119),o=n(354),i=n(672),s=n(676),l=n(100),c=n(677),u=n(163),d=n(31);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[u];var f=-1;t=r(t,l(o));var p=i(e,(function(e,n,a){return{criteria:r(t,(function(t){return t(e)})),index:++f,value:e}}));return s(p,(function(e,t){return c(e,t,n)}))}},function(e,t,n){var r=n(673),a=n(101);e.exports=function(e,t){var n=-1,o=a(e)?Array(e.length):[];return r(e,(function(e,r,a){o[++n]=t(e,r,a)})),o}},function(e,t,n){var r=n(674),a=n(675)(r);e.exports=a},function(e,t,n){var r=n(345),a=n(37);e.exports=function(e,t){return e&&r(e,t,a)}},function(e,t,n){var r=n(101);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&!1!==a(s[i],i,s););return n}}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var r=n(678);e.exports=function(e,t,n){for(var a=-1,o=e.criteria,i=t.criteria,s=o.length,l=n.length;++a<s;){var c=r(o[a],i[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},function(e,t,n){var r=n(162);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,o=e==e,i=r(e),s=void 0!==t,l=null===t,c=t==t,u=r(t);if(!l&&!u&&!i&&e>t||i&&s&&c&&!l&&!u||a&&s&&c||!n&&c||!o)return 1;if(!a&&!i&&!u&&e<t||u&&n&&o&&!a&&!i||l&&n&&o||!s&&o||!c)return-1}return 0}},function(e,t,n){var r=n(65),a=n(38);e.exports=function(e){return a(e)&&"[object Date]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=f(i),l=n(6),c=n(3),u=f(n(121)),d=f(n(30));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h=(0,l.observer)((p((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reactions=[],n.store=n.props.store,n.project=n.props.project,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){this.store.uistate,(0,d.default)().toDate(),this.store.tasks.infoByUser.forEach((function(e){return console.log(e.status)}));var e=8-this.store.tasks.infoByUser.length,t=[];if(e>0)for(var n=0;n<e;n++)t.push("");return s.default.createElement("div",{key:this.project.id,className:[u.default.block,u.default.project].join(" "),style:{flexGrow:1,marginRight:0}},s.default.createElement("div",{className:[u.default.title].join(" ")},"Users and Resources on this project"),s.default.createElement("div",{className:[u.default.user_stats].join(" ")},s.default.createElement("div",{className:u.default.stat_item,style:{boxShadow:"0 3px 4px rgba(0,0,0,0.1)"}},this.stat_columns.map((function(e,t){return s.default.createElement("div",{className:[u.default.stat_cell,u.default.stat_cell_header].join(" ")},e.name)}))),this.store.tasks.infoByUser.filter((function(e){return e.id})).map((function(e,t){return s.default.createElement("div",{className:u.default.stat_item},s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},e.user),s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},e.total_tasks),s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},Math.round(e.total_hours)," Hours"),s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},e.expected_total),s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},e.current_total),s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},e.status<0&&s.default.createElement("span",{className:u.default.delayed},"Delayed in ",Math.abs(e.status)," tasks"),e.status>0&&s.default.createElement("span",{className:u.default.advanced},"Advanced in ",Math.abs(e.status)," tasks"),0==e.status&&s.default.createElement("span",{className:u.default.uptodate},"Up to date")))})),t.map((function(e,t){return s.default.createElement("div",{className:u.default.stat_item},s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},"-"),s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},"-"),s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},"-"),s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},"-"),s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},"-"),s.default.createElement("div",{className:[u.default.stat_cell].join(" ")},"-"))}))))}},{key:"stats",get:function(){return this.store.tasks.infoByProject[this.project.id]}},{key:"get_stats",get:function(){var e=[];return e.push({user:{name:"User/Resource"},total_tasks:{name:"Total tasks"},total_hours:{name:"Total hours"},expected_total:{name:"Expected total tasks completed as of today"},current_total:{name:"Total tasks completed as of today"},status:{name:"Status"}}),e}},{key:"stat_columns",get:function(){return[{id:"user",name:"User/Resource"},{id:"total_tasks",name:"Total tasks"},{id:"total_hours",name:"Total Hours"},{id:"expected_total",name:"Expected tasks completed as of today"},{id:"current_total",name:"Tasks completed as of today"},{id:"status",name:"Status"}]}}]),t}()).prototype,"stats",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"stats"),a.prototype),p(a.prototype,"get_stats",[c.computed],Object.getOwnPropertyDescriptor(a.prototype,"get_stats"),a.prototype),r=a))||r;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f,p,h,m,_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(3),b=y(n(19));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function A(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}y(n(357)),y(n(683));var w=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storage_type="HTTPSaver",v(n,"id",a,n),v(n,"name",o,n),v(n,"type",i,n),v(n,"photo",s,n),v(n,"asana_account",l,n),v(n,"free_trial_days",c,n),v(n,"auth0",u,n),v(n,"selected",d,n),v(n,"subscriptions",f,n),v(n,"workbooks",p,n),v(n,"firebase_user",h,n),v(n,"collection",m,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,b.default),_(t,[{key:"toJS",value:function(){return Object.assign({},this)}},{key:"prefill",value:function(e){return e}},{key:"select",value:function(){this.collection.selected&&(this.collection.selected.selected=!1),this.selected=!0}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"fromJS",value:function(e,n){return new t(e,n)}},{key:"defaults",value:function(){return{name:"",id:"",auth0:{},asana_account:{},free_trial_days:"",workbooks:[],subscriptions:[],email:"",type:"",since:"",firebase_user:[]}}}]),t}(),a=A(r.prototype,"id",[g.observable],{enumerable:!0,initializer:null}),o=A(r.prototype,"name",[g.observable],{enumerable:!0,initializer:null}),i=A(r.prototype,"type",[g.observable],{enumerable:!0,initializer:null}),s=A(r.prototype,"photo",[g.observable],{enumerable:!0,initializer:null}),l=A(r.prototype,"asana_account",[g.observable],{enumerable:!0,initializer:null}),c=A(r.prototype,"free_trial_days",[g.observable],{enumerable:!0,initializer:null}),u=A(r.prototype,"auth0",[g.observable],{enumerable:!0,initializer:null}),d=A(r.prototype,"selected",[g.observable],{enumerable:!0,initializer:null}),f=A(r.prototype,"subscriptions",[g.observable],{enumerable:!0,initializer:null}),p=A(r.prototype,"workbooks",[g.observable],{enumerable:!0,initializer:null}),h=A(r.prototype,"firebase_user",[g.observable],{enumerable:!0,initializer:null}),m=A(r.prototype,"collection",[g.observable],{enumerable:!0,initializer:null}),r);t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),p=(u=n(19))&&u.__esModule?u:{default:u};function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storage_type="HTTPSaver",h(n,"id",a,n),h(n,"name",o,n),h(n,"email",i,n),h(n,"token",s,n),h(n,"user_id",l,n),h(n,"owner",c,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),d(t,[{key:"toJS",value:function(){return Object.assign({},this)}},{key:"makeOwner",value:function(){return this.save({},{url:this.url+"/owner"})}},{key:"makeAdmin",value:function(){return this.save({},{url:this.url+"/admin"})}},{key:"forceAccess",value:function(){return this.save({},{url:this.url+"/force_access"})}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"fromJS",value:function(e,n){return new t(e,n)}},{key:"defaults",value:function(){return{id:"",name:"",email:"",token:"",user_id:"",owner:!1}}}]),t}(),a=m(r.prototype,"id",[f.observable],{enumerable:!0,initializer:null}),o=m(r.prototype,"name",[f.observable],{enumerable:!0,initializer:null}),i=m(r.prototype,"email",[f.observable],{enumerable:!0,initializer:null}),s=m(r.prototype,"token",[f.observable],{enumerable:!0,initializer:null}),l=m(r.prototype,"user_id",[f.observable],{enumerable:!0,initializer:null}),c=m(r.prototype,"owner",[f.observable],{enumerable:!0,initializer:null}),r);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(n(3),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),i(n(20))),o=i(n(358));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.storage_type="HTTPSaver",r.globalstore=e,r.prefill=r.prefill.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"model",value:function(){return o.default}},{key:"url",value:function(){return"/management/subscriptions"}},{key:"prefill",value:function(e){return e}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(n(3),i(n(244)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),i(n(20))),o=(i(n(245)),i(n(685)));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return o.storage_type="HTTPSaver",o.globalstore=e,o.subscription_id=r,o.prefill=o.prefill.bind(o),o.user=a,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"model",value:function(){return o.default}},{key:"prefill",value:function(e){return e}},{key:"url",value:function(){return"/management/subscriptions/"+this.subscription_id+"/members"}},{key:"prefill",value:function(e){return e}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(3),f=(c=n(19))&&c.__esModule?c:{default:c};function p(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storage_type="HTTPSaver",p(n,"id",a,n),p(n,"name",o,n),p(n,"email",i,n),p(n,"admin",s,n),p(n,"created_by",l,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default),u(t,[{key:"toJS",value:function(){return Object.assign({},this)}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"fromJS",value:function(e,n){return new t(e,n)}},{key:"defaults",value:function(){return{id:"",name:"",email:"",admin:!1,created_by:""}}}]),t}(),a=h(r.prototype,"id",[d.observable],{enumerable:!0,initializer:null}),o=h(r.prototype,"name",[d.observable],{enumerable:!0,initializer:null}),i=h(r.prototype,"email",[d.observable],{enumerable:!0,initializer:null}),s=h(r.prototype,"admin",[d.observable],{enumerable:!0,initializer:null}),l=h(r.prototype,"created_by",[d.observable],{enumerable:!0,initializer:null}),r);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=c(n(687)),l=c(n(20));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var d=(r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o,i,s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return s.storage_type="HTTPSaver",r=s,"search_query",i=s,(o=a)&&Object.defineProperty(r,"search_query",{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(i):void 0}),s.globalstore=e,s.prefill=s.prefill.bind(s),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),o(t,[{key:"model",value:function(){return s.default}},{key:"url",value:function(){return"/management/templates"}},{key:"prefill",value:function(e){return e}},{key:"filtered",get:function(){var e=this;return this.models.filter((function(t){return-1!=t.name.indexOf(e.search_query)}))}},{key:"selected",get:function(){return this.models.filter((function(e){return e.selected}))[0]}}]),t}(),a=u(r.prototype,"search_query",[i.observable],{enumerable:!0,initializer:function(){return""}}),u(r.prototype,"filtered",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),u(r.prototype,"selected",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"selected"),r.prototype),r);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(3),h=(d=n(19))&&d.__esModule?d:{default:d};function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storage_type="HTTPSaver",m(n,"id",a,n),m(n,"name",o,n),m(n,"description",i,n),m(n,"icon",s,n),m(n,"snapshotUrl",l,n),m(n,"selected",c,n),m(n,"published",u,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),f(t,[{key:"toJS",value:function(){return Object.assign({},this)}},{key:"prefill",value:function(e){return e}},{key:"select",value:function(){this.collection.selected&&(this.collection.selected.selected=!1),this.selected=!0}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"fromJS",value:function(e,n){return new t(e,n)}},{key:"defaults",value:function(){return{name:"",id:"",icon:"",snapshotUrl:"",description:"",published:!1}}}]),t}(),a=_(r.prototype,"id",[p.observable],{enumerable:!0,initializer:null}),o=_(r.prototype,"name",[p.observable],{enumerable:!0,initializer:null}),i=_(r.prototype,"description",[p.observable],{enumerable:!0,initializer:null}),s=_(r.prototype,"icon",[p.observable],{enumerable:!0,initializer:null}),l=_(r.prototype,"snapshotUrl",[p.observable],{enumerable:!0,initializer:null}),c=_(r.prototype,"selected",[p.observable],{enumerable:!0,initializer:null}),u=_(r.prototype,"published",[p.observable],{enumerable:!0,initializer:null}),r);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=c(n(689)),l=c(n(20));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var d=(r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o,i,s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return s.storage_type="HTTPSaver",r=s,"search_query",i=s,(o=a)&&Object.defineProperty(r,"search_query",{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(i):void 0}),s.globalstore=e,s.prefill=s.prefill.bind(s),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),o(t,[{key:"model",value:function(){return s.default}},{key:"url",value:function(){return"/management/campaigns"}},{key:"prefill",value:function(e){return e}},{key:"sorted_models",get:function(){var e=[],t=[];return this.models.forEach((function(n){n.publish_date?t.push(n):e.push(n)})),e.push.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.sort((function(e,t){return e&&t&&e.publish_date<t.publish_date?1:e&&t&&e.publish_date>t.publish_date?-1:0})))),e}},{key:"filtered",get:function(){var e=this;return this.sorted_models.filter((function(t){return-1!=t.name.indexOf(e.search_query)}))}},{key:"filteredByStatus",get:function(){var e={active:[],inactive:[]};return this.filtered.forEach((function(t){t.published?e.active.push(t):e.inactive.push(t)})),e}},{key:"selected",get:function(){return this.models.filter((function(e){return e.selected}))[0]}}]),t}(),a=u(r.prototype,"search_query",[i.observable],{enumerable:!0,initializer:function(){return""}}),u(r.prototype,"sorted_models",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"sorted_models"),r.prototype),u(r.prototype,"filtered",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),u(r.prototype,"filteredByStatus",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filteredByStatus"),r.prototype),u(r.prototype,"selected",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"selected"),r.prototype),r);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f,p,h,m,_,g,b,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(3),A=(b=n(19))&&b.__esModule?b:{default:b};function w(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var E=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storage_type="HTTPSaver",w(n,"id",a,n),w(n,"name",o,n),w(n,"description",i,n),w(n,"icon",s,n),w(n,"rules",l,n),w(n,"content",c,n),w(n,"publish_date",u,n),w(n,"published",d,n),w(n,"widget",f,n),w(n,"send_feedback",p,n),w(n,"cta",h,n),w(n,"selected",m,n),w(n,"selector",_,n),w(n,"placement",g,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,A.default),y(t,[{key:"toJS",value:function(){return Object.assign({},this)}},{key:"prefill",value:function(e){return e}},{key:"select",value:function(){this.collection.selected&&(this.collection.selected.selected=!1),this.selected=!0}},{key:"defaults",get:function(){return t.defaults()}}],[{key:"fromJS",value:function(e,n){return new t(e,n)}},{key:"defaults",value:function(){return{name:"",icon:"",description:"",content:"",rules:{payment_status:"any",type:"any"},publish_date:"",published:!1,widget:"popup",send_feedback:!0,cta:!1,selector:"",placement:"right"}}}]),t}(),a=k(r.prototype,"id",[v.observable],{enumerable:!0,initializer:null}),o=k(r.prototype,"name",[v.observable],{enumerable:!0,initializer:null}),i=k(r.prototype,"description",[v.observable],{enumerable:!0,initializer:null}),s=k(r.prototype,"icon",[v.observable],{enumerable:!0,initializer:null}),l=k(r.prototype,"rules",[v.observable],{enumerable:!0,initializer:null}),c=k(r.prototype,"content",[v.observable],{enumerable:!0,initializer:null}),u=k(r.prototype,"publish_date",[v.observable],{enumerable:!0,initializer:null}),d=k(r.prototype,"published",[v.observable],{enumerable:!0,initializer:null}),f=k(r.prototype,"widget",[v.observable],{enumerable:!0,initializer:null}),p=k(r.prototype,"send_feedback",[v.observable],{enumerable:!0,initializer:null}),h=k(r.prototype,"cta",[v.observable],{enumerable:!0,initializer:null}),m=k(r.prototype,"selected",[v.observable],{enumerable:!0,initializer:null}),_=k(r.prototype,"selector",[v.observable],{enumerable:!0,initializer:null}),g=k(r.prototype,"placement",[v.observable],{enumerable:!0,initializer:null}),r);t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=_(d),p=n(6),h=n(3),m=_(n(74));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}_(n(30)),_(n(166)),_(n(122));var y=(0,p.observer)((a=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,a,u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g(u,"loading",o,u),g(u,"workbook_id",i,u),g(u,"subscription_id",s,u),g(u,"selected_item",l,u),u.loading=h.observable.map(),g(u,"workbook",c,u),u.reactions=[],u.close=function(){u.props.selected_item.type=!1,u.props.selected_item.model=!1},u.makeOwner=function(e){var t=e.collection.user,n=e.id;u.loading.set(n,!0),e.makeOwner().then((function(){t.fetch().then((function(){u.loading.clear()}))}))},u.makeAdmin=function(e){var t=e.collection.user,n=e.id;u.loading.set(n,!0),e.makeAdmin().then((function(){t.fetch().then((function(){u.loading.clear()}))}))},u.forceAccess=function(e){var t=e.collection.user,n=e.id;u.loading.set(n,!0),e.forceAccess().then((function(){t.fetch().then((function(){u.loading.clear()}))}))},u.delete=function(e){var t=e.collection.user,n=e.id;u.loading.set(n,!0),e.destroy().then((function(){t.fetch().then((function(){u.loading.clear()}))}))},u.updateArchive=(r=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.loading.set(u.id,!0),e.next=3,u.workbook.save({archived:t},{url:"/management/workbooks/"+u.workbook.id,patch:!0});case 3:u.loading.set(u.id,!1);case 4:case"end":return e.stop()}}),e,n)})),a=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return a.apply(this,arguments)}),u.store=u.props.store,u.workbook=u.props.selected_item.model,u.reactions.push((0,h.reaction)((function(){return u.props.selected_item.model.getAttributes()}),(function(){u.workbook=u.props.selected_item.model}))),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return this.store.uistate,f.default.createElement("div",{className:m.default.card},f.default.createElement("div",{className:m.default.card_header},f.default.createElement("div",{className:m.default.title},f.default.createElement("i",{className:"fas fa-folders"})," ",this.workbook.name),f.default.createElement("div",{className:m.default.subtitle},this.workbook.id),f.default.createElement("div",{className:m.default.close_button,onClick:this.close},f.default.createElement("i",{className:"fa fa-times"}))),f.default.createElement("div",{className:m.default.card_body},f.default.createElement("div",{className:m.default.row_title},"Attributes"),f.default.createElement("div",{className:m.default.row},f.default.createElement("div",{className:m.default.item},"Archived"),f.default.createElement("div",{className:[m.default.item,"dropdown"].join(" "),style:{overflow:"visible",display:"flex"}},f.default.createElement("div",{className:m.default.item},void 0!==this.loading.get(this.id)&&""!=this.loading.get(this.id)&&f.default.createElement("i",{className:"fa fa-spin fa-spinner"})),f.default.createElement("button",{className:[m.default.item,"dropdown-toggle btn btn-flat btn-small"].join(" "),"data-toggle":"dropdown"},!this.workbook.archived&&"No",this.workbook.archived&&"Yes"," ",f.default.createElement("i",{className:"far fa-chevron-down"})),f.default.createElement("ul",{className:"dropdown-menu",style:{marginLeft:"-80px"}},f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.updateArchive(!0)}},"Yes"),f.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.updateArchive(!1)}},"No"))))),f.default.createElement("div",{className:m.default.row},f.default.createElement("div",{className:m.default.item},"Owner"),f.default.createElement("div",{className:m.default.item},this.workbook.owner)),f.default.createElement("div",{className:m.default.row_title},f.default.createElement("div",{className:m.default.row_title_item},"Resources"),f.default.createElement("div",{className:m.default.row_title_item},f.default.createElement("button",{className:"btn-success btn-flat btn-mini"},"+ ADD"))),this.workbook.resourcesCollection&&this.workbook.resourcesCollection.models.filter((function(e){return""!=e.email})).map((function(t){return f.default.createElement("div",{className:m.default.multi_row},f.default.createElement("div",{className:m.default.row},f.default.createElement("div",{className:m.default.item},t.name),f.default.createElement("div",{className:[m.default.item,"dropdown"].join(" "),style:{overflow:"visible",display:"flex"}},f.default.createElement("div",{className:m.default.item},void 0!==e.loading.get(t.id)&&""!=e.loading.get(t.id)&&f.default.createElement("i",{className:"fa fa-spin fa-spinner"})),t.user_id&&f.default.createElement("button",{className:[m.default.item,"dropdown-toggle btn btn-flat btn-small"].join(" "),"data-toggle":"dropdown"},e.workbook.access[t.user_id]&&!t.admin&&!t.owner&&"Regular user",e.workbook.access[t.user_id]&&t.admin&&"Admin",e.workbook.access[t.user_id]&&t.owner&&"Owner"," ",f.default.createElement("i",{className:"far fa-chevron-down"})),!t.user_id&&f.default.createElement("button",{className:[m.default.item,"dropdown-toggle btn btn-flat btn-small"].join(" "),"data-toggle":"dropdown"},"No access ",f.default.createElement("i",{className:"far fa-chevron-down"})),f.default.createElement("ul",{className:"dropdown-menu",style:{marginLeft:"-80px"}},f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.makeAdmin(t)}},"Make admin"),f.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.makeOwner(t)}},"Make owner"),f.default.createElement("a",{href:"javascript:void(0)"},"Make regular user"),f.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.forceAccess(t)}},"Force access"),f.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.delete(t)}},"Remove"))))),f.default.createElement("div",{className:m.default.row},f.default.createElement("div",{className:m.default.item},"Email"),f.default.createElement("div",{className:m.default.item},t.email)),f.default.createElement("div",{className:m.default.row},f.default.createElement("div",{className:m.default.item},"User ID"),f.default.createElement("div",{className:m.default.item},t.user_id)))}))))}}]),t}(),o=b(a.prototype,"loading",[h.observable],{enumerable:!0,initializer:function(){return!1}}),i=b(a.prototype,"workbook_id",[h.observable],{enumerable:!0,initializer:function(){return!1}}),s=b(a.prototype,"subscription_id",[h.observable],{enumerable:!0,initializer:function(){return!1}}),l=b(a.prototype,"selected_item",[h.observable],{enumerable:!0,initializer:function(){return{type:!1,model:!1}}}),c=b(a.prototype,"workbook",[h.observable],{enumerable:!0,initializer:null}),r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),p=b(f),h=n(6),m=n(3),_=b(n(74)),g=(b(n(30)),b(n(166)),b(n(122)),b(n(692)));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var A=(0,h.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return y(n,"loading",o,n),y(n,"workbook_id",i,n),y(n,"subscription_id",s,n),y(n,"add_member",l,n),n.loading=m.observable.map(),y(n,"selected_item",c,n),y(n,"subscription",u,n),n.reactions=[],n.close=function(){n.props.selected_item.type=!1,n.props.selected_item.model=!1},n.closeAddMember=function(){n.add_member=!1,n.member_to_add=!1,n.adding_member=!1},n.destroy=function(e){var t=e.collection.user;e.id=e.email?e.email:e.id,n.loading.set(e.id,!0),e.destroy().then((function(){t.fetch().then((function(){n.loading.clear()}))}))},n.makeOwner=function(e){console.log(e);var t=e.collection.user,r=e.email?e.email:e.id;e.id=r,n.loading.set(r,!0),n.subscription.changeOwner(e).then((function(){t.fetch().then((function(){n.loading.clear()}))}))},n.saveMember=function(e,t){var r=e.collection.user,a=e.email?e.email:e.id;e.id=a,n.loading.set(a,!0),e.save(t).then((function(){r.fetch().then((function(){n.loading.clear()}))}))},n.store=n.props.store,n.subscription=n.props.selected_item.model,console.log(n.subscription),n.reactions.push((0,m.reaction)((function(){return n.props.selected_item.model.getAttributes()}),(function(){n.subscription=n.props.selected_item.model}))),window.sub=n,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),d(t,[{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return this.store.uistate,p.default.createElement("div",{className:_.default.card},p.default.createElement("div",{className:_.default.card_header},p.default.createElement("div",{className:_.default.title},p.default.createElement("i",{className:"fas fa-credit-card-front"})," ",this.subscription.subscription_reference),p.default.createElement("div",{className:_.default.subtitle},this.subscription.id),p.default.createElement("div",{className:_.default.close_button,onClick:this.close},p.default.createElement("i",{className:"fa fa-times"}))),p.default.createElement("div",{className:_.default.card_body},p.default.createElement("div",{className:_.default.row_title},"Attributes"),p.default.createElement("div",{className:_.default.row},p.default.createElement("div",{className:_.default.item},"Status"),p.default.createElement("div",{className:_.default.item},this.subscription.status)),p.default.createElement("div",{className:_.default.row},p.default.createElement("div",{className:_.default.item},"Suspended"),p.default.createElement("div",{className:_.default.item},this.subscription.suspended)),p.default.createElement("div",{className:_.default.row},p.default.createElement("div",{className:_.default.item},"Owner"),p.default.createElement("div",{className:_.default.item},this.subscription.owner.name)),p.default.createElement("div",{className:_.default.row},p.default.createElement("div",{className:_.default.item},"Owner ID"),p.default.createElement("div",{className:_.default.item},this.subscription.owner._id)),p.default.createElement("div",{className:_.default.row},p.default.createElement("div",{className:_.default.item},"Owner Email"),p.default.createElement("div",{className:_.default.item},this.subscription.owner.email||this.subscription.owner.asana_account.email)),p.default.createElement("div",{className:_.default.row},p.default.createElement("div",{className:_.default.item},"Since"),p.default.createElement("div",{className:_.default.item},this.subscription.activation_date)),p.default.createElement("div",{className:_.default.row},p.default.createElement("div",{className:_.default.item},"Frequency"),p.default.createElement("div",{className:_.default.item},this.subscription.frequency)),p.default.createElement("div",{className:_.default.row},p.default.createElement("div",{className:_.default.item},"Max Users"),p.default.createElement("div",{className:_.default.item},this.subscription.max_users)),p.default.createElement("div",{className:_.default.row},p.default.createElement("div",{className:_.default.item},"Price"),p.default.createElement("div",{className:_.default.item},"$",this.subscription.price)),p.default.createElement("div",{className:_.default.row_title,onClick:function(){return e.add_member=!0}},p.default.createElement("div",{className:_.default.row_title_item},"Members"),p.default.createElement("div",{className:_.default.row_title_item},p.default.createElement("button",{className:"btn-success btn-flat btn-mini"},"+ ADD"))),this.subscription.membersCollection&&this.subscription.membersCollection.models.map((function(t){return p.default.createElement("div",{className:_.default.multi_row},p.default.createElement("div",{className:_.default.row},p.default.createElement("div",{className:_.default.item},t.name),p.default.createElement("div",{className:_.default.item},void 0!==e.loading.get(t.id||t.email)&&""!=e.loading.get(t.id||t.email)&&p.default.createElement("i",{className:"fa fa-spin fa-spinner"})),p.default.createElement("div",{className:[_.default.item,"dropdown"].join(" "),style:{overflow:"visible"}},p.default.createElement("button",{className:[_.default.item,"dropdown-toggle btn btn-flat btn-small"].join(" "),"data-toggle":"dropdown"},e.subscription.owner.email==t.email&&"Owner",e.subscription.owner.asana_account&&(e.subscription.owner.asana_account.gid==t.id||e.subscription.owner.asana_account.id==t.id)&&"Owner",t.admin&&"Admin"," ",p.default.createElement("i",{className:"far fa-chevron-down"})),p.default.createElement("ul",{className:"dropdown-menu",style:{marginLeft:"-120px"}},p.default.createElement("li",null,p.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.saveMember(t,{admin:!0})}},"Make admin"),p.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.makeOwner(t)}},"Make owner"),p.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.saveMember(t,{admin:!1})}},"Make regular user"),p.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.destroy(t)}},"Remove"))))),p.default.createElement("div",{className:_.default.row},p.default.createElement("div",{className:_.default.item},"Identifier"),p.default.createElement("div",{className:_.default.item},t.email||t.id)))})),this.add_member&&p.default.createElement(g.default,{store:this.store,close:function(){return e.add_member=!1},membersCollection:this.subscription.membersCollection})))}}]),t}(),o=v(a.prototype,"loading",[m.observable],{enumerable:!0,initializer:function(){return!1}}),i=v(a.prototype,"workbook_id",[m.observable],{enumerable:!0,initializer:function(){return!1}}),s=v(a.prototype,"subscription_id",[m.observable],{enumerable:!0,initializer:function(){return!1}}),l=v(a.prototype,"add_member",[m.observable],{enumerable:!0,initializer:function(){return!1}}),c=v(a.prototype,"selected_item",[m.observable],{enumerable:!0,initializer:function(){return{type:!1,model:!1}}}),u=v(a.prototype,"subscription",[m.observable],{enumerable:!0,initializer:null}),r=a))||r;t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),d=_(u),f=n(6),p=_(n(693)),h=n(3),m=_(n(122));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(0,f.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g(n,"query",o,n),g(n,"loading",i,n),g(n,"member_to_add",s,n),g(n,"adding",l,n),n.close=function(){n.props.close()},n.handleChange=function(e){n.query=e.target.value},n.handleSearch=function(e){13==e.keyCode&&(n.users.search_query=n.query,n.loading=!0,n.users.fetch().then((function(){n.loading=!1})))},n.add=function(){if(n.member_to_add){var e={name:n.member_to_add.name};n.member_to_add.asana_account.gid?e.id=n.member_to_add.asana_account.gid:e.email=n.member_to_add.email,""!=e.name&&""!=e.email?(n.adding=!0,n.membersCollection.create(e).then((function(){n.adding=!1,n.member_to_add=!1,n.close()}))):alert("Please select a user")}else alert("Please select a user")},n.store=n.props.store,n.membersCollection=n.props.membersCollection,n.users=new m.default(n.store,[]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return d.default.createElement(p.default,{closeButton:!0,closeButtonCallback:this.close,closeButtonName:"Close",closeButtonEnabled:!this.adding,title:"Search for a user",successButton:!0,successButtonCallback:this.add,successButtonEnabled:!this.adding,successButtonLoading:this.adding,successButtonName:"Add to subscription",store:this.props.store},d.default.createElement("div",{style:{display:"flex"}},d.default.createElement("input",{style:{flexGrow:1},value:this.query,onChange:this.handleChange,onKeyDown:this.handleSearch,type:"text"}),this.loading&&d.default.createElement("div",null,d.default.createElement("i",{className:"fa fa-spin fa-spinner"}))),this.users.models.map((function(t){return d.default.createElement("div",{style:{background:t==e.member_to_add?"#efefef":"transparent",padding:"10px",borderBottom:"1px solid #efefef",display:"flex",fontSize:"12px"},onClick:function(){return e.member_to_add=t}},d.default.createElement("div",{style:{flexGrow:1,padding:"5px"}},d.default.createElement("div",null,t.name),d.default.createElement("div",{style:{fontSize:"10px"}},t.id)),d.default.createElement("div",{style:{padding:"5px"}},t.asana_account.email?"Asana":"Standalone"),d.default.createElement("div",{style:{padding:"5px"}},t.asana_account.gid||t.asana_account.id),d.default.createElement("div",{style:{padding:"5px"}},t.email),d.default.createElement("div",{style:{padding:"5px"}},d.default.createElement("button",{className:"btn btn-flat btn-success",onClick:function(){return e.member_to_add=t}},"Select")))})))}}]),t}(),o=b(a.prototype,"query",[h.observable],{enumerable:!0,initializer:function(){return""}}),i=b(a.prototype,"loading",[h.observable],{enumerable:!0,initializer:function(){return!1}}),s=b(a.prototype,"member_to_add",[h.observable],{enumerable:!0,initializer:function(){return!1}}),l=b(a.prototype,"adding",[h.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=(a=s)&&a.__esModule?a:{default:a},c=(0,n(6).observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.close=n.close.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){$(this.node).modal("show"),this.store.uistate.is_mobile||$(this.node).css("top","5%")}},{key:"componentWillUnmount",value:function(){$(this.node).modal("hide")}},{key:"close",value:function(){this.props.close()}},{key:"render",value:function(){var e=this;if(Math.max(document.documentElement.clientHeight,window.innerHeight||0)<550)var t="400px";else t=this.props.height?this.props.height+"px":"500px";if(this.store.uistate.is_mobile)var n={width:"100%",marginLeft:0,left:0,display:"block",top:0,bottom:0,borderRadius:"0"};else n=o({top:"5% !important",width:this.props.width+"px",marginLeft:-1*this.props.width/2+"px"},this.props.style);return l.default.createElement("div",{id:this.props.id,className:["modal hide fade",this.props.className,this.store.uistate.is_mobile?"mobile":""].join(" "),ref:function(t){return e.node=t},style:n,"data-backdrop":"static","data-keyboard":"false"},this.props.title&&l.default.createElement("div",{className:"modal-header",style:this.props.headerStyle},(this.props.closeButton||this.props.upperCloseButton)&&l.default.createElement("a",{href:"javascript:void(0);",className:"pull-right",onClick:this.props.closeButtonCallback||this.close},l.default.createElement("h3",{style:{color:"#666"}},l.default.createElement("i",{className:"fa fa-times"})," ")),l.default.createElement("h3",{style:this.props.titleStyle},this.props.title)),l.default.createElement("div",{className:"modal-body",style:o({maxHeight:t},this.props.bodyStyle)},this.props.children),(this.props.closeButton||this.props.successButton||this.props.dangerButton)&&l.default.createElement("div",{className:"modal-footer",style:this.props.footerStyle},this.props.footerHTML,this.props.dangerButton&&l.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-danger btn-flat pull-left",disabled:!this.props.dangerButtonEnabled||!1,onClick:this.props.dangerButtonCallback},this.props.dangerButtonName),this.props.closeButton&&l.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-close btn-flat",onClick:this.props.closeButtonCallback||this.close}," ",this.props.closeButtonName||"Close"," "),this.props.successButton&&l.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-success btn-flat",disabled:!this.props.successButtonEnabled||!1,onClick:this.props.successButtonCallback}," ",this.props.successButtonLoading&&l.default.createElement("i",{className:"fa fa-spin fa-spinner"})," ",this.props.successButtonName||"Continue")))}}]),t}())||r;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=p(s),c=n(6),u=n(3),d=p(n(74)),f=(p(n(359)),p(n(695)));function p(e){return e&&e.__esModule?e:{default:e}}var h,m,_,g,b,y=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"loading",a=i,(r=o)&&Object.defineProperty(n,"loading",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.reactions=[],i.searchHandler=function(e){13==e.keyCode&&(i.loading=!0,i.store.management.users.fetch().then((function(){i.loading=!1})))},i.select=function(e){e.select()},i.create=function(){i.store.management.templates.create({published:!1}).then((function(e){i.store.management.templates.get(e.id).select()}))},i.store=i.props.store,i.loading=!0,i.store.management.templates.fetch().then((function(){return i.loading=!1})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return this.store.uistate,l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:d.default.search_sidebar},l.default.createElement("div",{className:d.default.search_header},l.default.createElement("i",{className:"fal fa-search"}),l.default.createElement("input",{type:"text",autocorrect:"off",autocapitalize:"none",value:this.store.management.templates.search_query,onChange:function(t){return e.store.management.templates.search_query=t.target.value},placeholder:"Filter templates"}),this.loading&&l.default.createElement("div",{style:{}},l.default.createElement("i",{className:"fa fa-spin fa-spinner"})),"  ",l.default.createElement("button",{className:"btn btn-flat btn-primary btn-small",onClick:function(){return e.create()}},l.default.createElement("i",{className:"fas fa-plus"}))),l.default.createElement("div",{className:d.default.results_scroll_container},l.default.createElement("div",{className:d.default.result_container},this.loading,this.store.management.templates.filtered.map((function(t){return l.default.createElement("div",{className:[d.default.result,t.selected?d.default.selected:""].join(" "),onClick:function(){return e.select(t)}},l.default.createElement("div",{className:d.default.in_row},l.default.createElement("div",{className:d.default.title},t.name||"No name"),l.default.createElement("div",{className:[d.default.label,t.published?d.default.published:""].join(" ")},t.published?"Published":"Draft")),l.default.createElement("div",{className:d.default.subtitle},t.description||"No description"))}))))),l.default.createElement("div",{className:d.default.main},l.default.createElement("div",{className:d.default.main_inner},this.store.management.templates.selected&&l.default.createElement(f.default,{key:this.store.management.templates.selected.id,store:this.store,template:this.store.management.templates.selected}))))}}]),t}(),h=a.prototype,m="loading",_=[u.observable],g={enumerable:!0,initializer:function(){return!1}},b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),void 0===(b=_.slice().reverse().reduce((function(e,t){return t(h,m,e)||e}),b)).initializer&&(Object.defineProperty(h,m,b),b=null),o=b,r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=p(l),u=n(6),d=n(3),f=p(n(74));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}p(n(30));var _=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h(n,"loading",o,n),h(n,"current_template",i,n),n.reactions=[],n.close=function(){n.template.selected=!1},n.save=function(){n.loading=!0,n.template.save({name:n.current_template.name,icon:n.current_template.icon,description:n.current_template.description,snapshotUrl:n.current_template.snapshotUrl,published:n.current_template.published}).then((function(){n.loading=!1}))},n.store=n.props.store,n.template=n.props.template,n.reactions.push((0,d.reaction)((function(){return n.template.id}),(function(){return n.fillCurrentTemplate()}))),n.fillCurrentTemplate(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"fillCurrentTemplate",value:function(){this.current_template.name=this.template.name,this.current_template.icon=this.template.icon,this.current_template.description=this.template.description,this.current_template.snapshotUrl=this.template.snapshotUrl,this.current_template.published=this.template.published}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:f.default.card_container},c.default.createElement("div",{className:f.default.card},c.default.createElement("div",{className:[f.default.card_header].join(" ")},c.default.createElement("div",{className:f.default.horizontal_group},c.default.createElement("div",{className:f.default.title},this.current_template.name||"No name"),c.default.createElement("div",{className:[f.default.label,this.template.published?f.default.published:""].join(" ")},this.template.published?"Published":"Draft"),c.default.createElement("div",{className:[f.default.item,f.default.close_icon].join(" "),onClick:function(){return e.close()}},c.default.createElement("i",{className:"fa fa-times"})))),c.default.createElement("div",{className:f.default.card_body},c.default.createElement("div",{className:f.default.card_body},c.default.createElement("div",null,c.default.createElement("div",{className:f.default.row_title},c.default.createElement("div",{className:f.default.row_title_item},"Status")),c.default.createElement("div",{className:f.default.input_container},c.default.createElement("select",{value:this.current_template.published,onChange:function(t){return e.current_template.published=t.target.value}},c.default.createElement("option",{value:!1},"Draft"),c.default.createElement("option",{value:!0},"Published")))),c.default.createElement("div",null,c.default.createElement("div",{className:f.default.row_title},c.default.createElement("div",{className:f.default.row_title_item},"Name")),c.default.createElement("div",{className:f.default.input_container},c.default.createElement("input",{type:"text",value:this.current_template.name,onChange:function(t){return e.current_template.name=t.target.value}}))),c.default.createElement("div",null,c.default.createElement("div",{className:f.default.row_title},c.default.createElement("div",{className:f.default.row_title_item},"Icon")),c.default.createElement("div",{className:f.default.row},c.default.createElement("div",{className:f.default.input_container},c.default.createElement("input",{type:"text",value:this.current_template.icon,onChange:function(t){return e.current_template.icon=t.target.value}})),c.default.createElement("div",{className:f.default.row_title_item},c.default.createElement("i",{className:this.current_template.icon,style:{fontSize:"36px",marginRight:"20px"}})))),c.default.createElement("div",null,c.default.createElement("div",{className:f.default.row_title},c.default.createElement("div",{className:f.default.row_title_item},"Description")),c.default.createElement("div",{className:f.default.input_container},c.default.createElement("textarea",{value:this.current_template.description,onChange:function(t){return e.current_template.description=t.target.value}}))),c.default.createElement("div",null,c.default.createElement("div",{className:f.default.row_title},c.default.createElement("div",{className:f.default.row_title_item},"Url")),c.default.createElement("div",{className:f.default.input_container},c.default.createElement("input",{type:"text",value:this.current_template.snapshotUrl,onChange:function(t){return e.current_template.snapshotUrl=t.target.value}}))))),c.default.createElement("div",null,c.default.createElement("div",{className:f.default.horizontal_group},c.default.createElement("div",{className:f.default.item}),c.default.createElement("div",{className:f.default.item},c.default.createElement("button",{className:"btn btn-flat btn-success",onClick:function(){return e.save()}},this.loading&&c.default.createElement("i",{className:"fa fa-spin fa-spinner"}),"Save"))))))}}]),t}(),o=m(a.prototype,"loading",[d.observable],{enumerable:!0,initializer:function(){return!1}}),i=m(a.prototype,"current_template",[d.observable],{enumerable:!0,initializer:function(){return{name:"",icon:"",description:"",snapshotUrl:"",published:!1}}}),r=a))||r;t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=p(s),c=n(6),u=n(3),d=p(n(74)),f=p(n(697));function p(e){return e&&e.__esModule?e:{default:e}}var h,m,_,g,b,y=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"loading",a=i,(r=o)&&Object.defineProperty(n,"loading",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.reactions=[],i.searchHandler=function(e){13==e.keyCode&&(i.loading=!0,i.store.management.users.fetch().then((function(){i.loading=!1})))},i.select=function(e){e.select()},i.create=function(){i.store.management.campaigns.create({published:!1}).then((function(e){i.store.management.campaigns.get(e.id).select()}))},i.store=i.props.store,i.loading=!0,i.store.management.campaigns.fetch().then((function(){return i.loading=!1})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return this.store.uistate,l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:d.default.search_sidebar},l.default.createElement("div",{className:d.default.search_header},l.default.createElement("i",{className:"fal fa-search"}),l.default.createElement("input",{type:"text",autocorrect:"off",autocapitalize:"none",value:this.store.management.templates.search_query,onChange:function(t){return e.store.management.templates.search_query=t.target.value},placeholder:"Filter campaigns"}),this.loading&&l.default.createElement("div",{style:{}},l.default.createElement("i",{className:"fa fa-spin fa-spinner"})),"  ",l.default.createElement("button",{className:"btn btn-flat btn-primary btn-small",onClick:function(){return e.create()}},l.default.createElement("i",{className:"fas fa-plus"}))),l.default.createElement("div",{className:d.default.results_scroll_container},l.default.createElement("div",{className:d.default.result_container},this.loading,l.default.createElement("div",{className:d.default.section_header},"Active campaigns"),this.store.management.campaigns.filteredByStatus.active.map((function(t){return l.default.createElement("div",{className:[d.default.result,t.selected?d.default.selected:""].join(" "),onClick:function(){return e.select(t)}},l.default.createElement("div",{className:d.default.in_row},l.default.createElement("div",{className:d.default.title,style:{flexGrow:0,position:"relative",minWidth:"10px",height:"10px",margin:"0 5px"}},l.default.createElement("div",{className:"pulsating-circle"})),l.default.createElement("div",{className:d.default.title},t.name||"No name"),l.default.createElement("div",{className:[d.default.label,t.published?d.default.published:""].join(" ")},t.widget)))})),0==this.store.management.campaigns.filteredByStatus.active.length&&l.default.createElement("div",{className:d.default.result},"No active campaigns"),l.default.createElement("div",{className:d.default.section_header},"Inactive campaigns"),this.store.management.campaigns.filteredByStatus.inactive.map((function(t){return l.default.createElement("div",{className:[d.default.result,t.selected?d.default.selected:""].join(" "),onClick:function(){return e.select(t)}},l.default.createElement("div",{className:d.default.in_row},l.default.createElement("div",{className:d.default.title},t.name||"No name"),l.default.createElement("div",{className:[d.default.label,t.published?d.default.published:""].join(" ")},t.published?"Published":"Draft")),l.default.createElement("div",{className:d.default.subtitle},t.description||"No description"))})),0==this.store.management.campaigns.filteredByStatus.inactive.length&&l.default.createElement("div",{className:d.default.result},"No inactive campaigns")))),l.default.createElement("div",{className:d.default.main},l.default.createElement("div",{className:d.default.main_inner},this.store.management.campaigns.selected&&l.default.createElement(f.default,{key:this.store.management.campaigns.selected.id,store:this.store,campaign:this.store.management.campaigns.selected}))))}}]),t}(),h=a.prototype,m="loading",_=[u.observable],g={enumerable:!0,initializer:function(){return!1}},b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),void 0===(b=_.slice().reverse().reduce((function(e,t){return t(h,m,e)||e}),b)).initializer&&(Object.defineProperty(h,m,b),b=null),o=b,r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=v(c),d=n(15),f=n(6),p=n(3),h=v(n(74)),m=v(n(30)),_=n(246);n(793),n(794);var g=v(n(44)),b=(v(n(796)),v(n(797))),y=n(925);function v(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var k=function(e){var t=e.children;return(0,d.createPortal)(t,document.body)},E=(0,f.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));A(n,"editorState",o,n),A(n,"loading",i,n),A(n,"current_campaign",s,n),n.reactions=[],n.onEditorStateChange=function(e){n.editorState=e},n.onEditorChange=function(e){n.current_campaign.content=e.target.getContent()},n.close=function(){n.campaign.selected=!1},n.preview=function(){var e=(0,p.toJS)(n.current_campaign);e.id=1,e.is_preview=!0,n.store.notifications.preview(e),n.store.uistate.management_app=!1},n.save=function(){n.loading=!0,n.campaign.save({name:n.current_campaign.name,description:n.current_campaign.description,content:n.current_campaign.content,published:n.current_campaign.published,publish_date:n.current_campaign.publish_date,rules:n.current_campaign.rules,widget:n.current_campaign.widget,send_feedback:n.current_campaign.send_feedback,cta:n.current_campaign.cta,selector:n.current_campaign.selector,placement:n.current_campaign.placement}).then((function(){n.loading=!1}))},n.uploadImageCallBack=function(e){return new Promise((function(t,r){var a=new XMLHttpRequest;a.open("POST","/management/campaigns/"+n.campaign.id+"/images");var o=new FormData;o.append("file",e),console.log("file",e),a.send(o),a.addEventListener("load",(function(){var e=JSON.parse(a.responseText);t(e)})),a.addEventListener("error",(function(){var e=JSON.parse(a.responseText);r(e)}))}))},n.tinyUpload=function(e,t,r,a){var o,i;(o=new XMLHttpRequest).withCredentials=!1,o.open("POST","/management/campaigns/"+n.campaign.id+"/images"),o.upload.onprogress=function(e){a(e.loaded/e.total*100)},o.onload=function(){var e;o.status<200||o.status>=300?r("HTTP Error: "+o.status):(e=JSON.parse(o.responseText))?t(e.data.link):r("Invalid JSON: "+o.responseText)},o.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+o.status)},(i=new FormData).append("file",e.blob(),e.filename()),o.send(i)},n.store=n.props.store,n.campaign=n.props.campaign,n.reactions.push((0,p.reaction)((function(){return n.campaign.id}),(function(){return n.fillCurrentCampaign()}))),n.fillCurrentCampaign();var r=n.current_campaign.content,a=(0,b.default)(r);if(a){var l=_.ContentState.createFromBlockArray(a.contentBlocks),c=_.EditorState.createWithContent(l);n.editorState=c}return window.campaign=n,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"fillCurrentCampaign",value:function(){this.current_campaign.name=this.campaign.name,this.current_campaign.description=this.campaign.description,this.current_campaign.content=this.campaign.content,this.current_campaign.published=this.campaign.published,this.current_campaign.publish_date=this.campaign.publish_date||(0,m.default)().format("YYYY-MM-DD"),this.current_campaign.rules=this.campaign.rules,this.current_campaign.widget=this.campaign.widget,this.current_campaign.send_feedback=this.campaign.send_feedback,this.current_campaign.cta=this.campaign.cta,this.current_campaign.selector=this.campaign.selector,this.current_campaign.placement=this.campaign.placement}},{key:"componentWillUnmount",value:function(){this.reactions.forEach((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:h.default.card_container},u.default.createElement("div",{className:h.default.card,style:{borderRight:0,width:"300px"}},u.default.createElement("div",{className:[h.default.card_header].join(" ")},u.default.createElement("div",{className:h.default.horizontal_group},u.default.createElement("div",{className:h.default.title,style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},this.current_campaign.name||"No name"))),u.default.createElement("div",{className:h.default.card_body},u.default.createElement("div",{className:h.default.card_body},u.default.createElement("div",null,u.default.createElement("div",{className:h.default.row_title},u.default.createElement("div",{className:h.default.row_title_item},"Name")),u.default.createElement("div",{className:h.default.input_container},u.default.createElement("input",{type:"text",value:this.current_campaign.name,onChange:function(t){return e.current_campaign.name=t.target.value},placeholder:"Internal name"}))),u.default.createElement("div",null,u.default.createElement("div",{className:h.default.row_title},u.default.createElement("div",{className:h.default.row_title_item},"Settings")),u.default.createElement("div",{className:h.default.row},u.default.createElement("div",{className:h.default.item},"Publish dated"),u.default.createElement("div",{className:h.default.item,onClick:function(){return e.current_campaign.published=!e.current_campaign.published}},u.default.createElement(g.default,{popperContainer:k,dateFormat:"dd MMM yyyy",selected:(0,m.default)(this.current_campaign.publish_date).toDate(),onSelect:function(t){e.current_campaign.publish_date=(0,m.default)(t).format("YYYY-MM-DD")},popoverTargetOffset:"0px -30px",style:{width:"50px"}}))),u.default.createElement("div",{className:h.default.row},u.default.createElement("div",{className:h.default.item},"Published"),u.default.createElement("div",{className:h.default.item,onClick:function(){return e.current_campaign.published=!e.current_campaign.published}},this.current_campaign.published&&u.default.createElement("i",{className:"fas fa-toggle-on",style:{color:"#008ACA",fontSize:"24px"}}),!this.current_campaign.published&&u.default.createElement("i",{className:"fad fa-toggle-off",style:{fontSize:"24px"}}))),u.default.createElement("div",{className:h.default.row},u.default.createElement("div",{className:h.default.item},"Send feedback button"),u.default.createElement("div",{className:h.default.item,onClick:function(){return e.current_campaign.send_feedback=!e.current_campaign.send_feedback}},this.current_campaign.send_feedback&&u.default.createElement("i",{className:"fas fa-toggle-on",style:{color:"#008ACA",fontSize:"24px"}}),!this.current_campaign.send_feedback&&u.default.createElement("i",{className:"fad fa-toggle-off",style:{fontSize:"24px"}}))),u.default.createElement("div",{className:h.default.row},u.default.createElement("div",{className:h.default.item},"Widget type"),u.default.createElement("div",{className:h.default.item},u.default.createElement("select",{value:this.current_campaign.widget,onChange:function(t){return e.current_campaign.widget=t.target.value}},u.default.createElement("option",{value:"popup"},"Popup"),u.default.createElement("option",{value:"tooltip"},"Tooltip"),u.default.createElement("option",{value:"helper"},"Helper"),u.default.createElement("option",{value:"message"},"Message (N/A yet)"),u.default.createElement("option",{value:"banner"},"Banner (N/A yet)"))))),"tooltip"!=this.current_campaign.widget&&"helper"!=this.current_campaign.widget&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:h.default.row_title},u.default.createElement("div",{className:h.default.row_title_item},"Segmentation")),u.default.createElement("div",{className:h.default.row},u.default.createElement("div",{className:h.default.item},"Software type"),u.default.createElement("div",{className:h.default.item},u.default.createElement("select",{value:this.current_campaign.rules.type,onChange:function(t){return e.current_campaign.rules.type=t.target.value}},u.default.createElement("option",{value:"any"},"Any"),u.default.createElement("option",{value:"asana"},"Asana"),u.default.createElement("option",{value:"standalone"},"Standalone")))),u.default.createElement("div",{className:h.default.row},u.default.createElement("div",{className:h.default.item},"Payment status"),u.default.createElement("div",{className:h.default.item},u.default.createElement("select",{value:this.current_campaign.rules.payment_status,onChange:function(t){return e.current_campaign.rules.payment_status=t.target.value}},u.default.createElement("option",{value:"any"},"Any"),u.default.createElement("option",{value:"paid"},"Paid"),u.default.createElement("option",{value:"free"},"Free"))))),("tooltip"==this.current_campaign.widget||"helper"==this.current_campaign.widget)&&u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:h.default.row_title},u.default.createElement("div",{className:h.default.row_title_item},"Element")),u.default.createElement("div",{className:h.default.row},u.default.createElement("div",{className:h.default.item},"CSS Selector"),u.default.createElement("div",{className:h.default.item},u.default.createElement("input",{type:"text",value:this.current_campaign.selector,onChange:function(t){return e.current_campaign.selector=t.target.value},placeholder:".button"}))),"helper"==this.current_campaign.widget&&u.default.createElement("div",{className:h.default.row},u.default.createElement("div",{className:h.default.item},"Placement"),u.default.createElement("div",{className:h.default.item},u.default.createElement("select",{value:this.current_campaign.placement,onChange:function(t){return e.current_campaign.placement=t.target.value}},u.default.createElement("option",{value:"right"},"Right"),u.default.createElement("option",{value:"left"},"Left"),u.default.createElement("option",{value:"top"},"Top"),u.default.createElement("option",{value:"bottom"},"Bottom")))))))),u.default.createElement("div",{className:h.default.card,style:{width:"500px"}},u.default.createElement("div",{className:[h.default.card_header].join(" ")},u.default.createElement("div",{className:h.default.horizontal_group},u.default.createElement("div",{className:h.default.title}),u.default.createElement("div",{className:[h.default.label,this.campaign.published?h.default.published:""].join(" ")},this.campaign.published?"Published":"Draft"),u.default.createElement("div",{className:[h.default.item,h.default.close_icon].join(" "),onClick:function(){return e.close()}},u.default.createElement("i",{className:"fa fa-times"})))),u.default.createElement("div",{className:h.default.card_body,style:{display:"flex"}},u.default.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1}},u.default.createElement("div",{className:h.default.row_title},u.default.createElement("div",{className:h.default.row_title_item},"Content")),u.default.createElement("div",{className:h.default.input_container,style:{display:"flex",flexGrow:1}},u.default.createElement(y.Editor,{apiKey:"xgca63twdwbtm4ltaynscb4zivjtl9f76c78piuamow7zmpq",initialValue:this.current_campaign.content,init:{height:"100%",width:"100%",menubar:!1,plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount emoticons media imagetools"],toolbar:"formatselect image emoticons media link | bold italic |                                             alignleft aligncenter alignright |                                             bullist numlist outdent indent | help",image_uploadtab:!0,images_upload_handler:this.tinyUpload},onChange:this.onEditorChange})))),u.default.createElement("div",null,u.default.createElement("div",{className:h.default.horizontal_group},u.default.createElement("div",{className:h.default.item}),u.default.createElement("div",{className:h.default.item},u.default.createElement("button",{className:"btn btn-flat",onClick:function(){return e.preview()}},"Preview")),u.default.createElement("div",{className:h.default.item},u.default.createElement("button",{className:"btn btn-flat btn-success",onClick:function(){return e.save()}},this.loading&&u.default.createElement("i",{className:"fa fa-spin fa-spinner"}),"Save"))))))}}]),t}(),o=w(a.prototype,"editorState",[p.observable],{enumerable:!0,initializer:function(){return _.EditorState.createEmpty()}}),i=w(a.prototype,"loading",[p.observable],{enumerable:!0,initializer:function(){return!1}}),s=w(a.prototype,"current_campaign",[p.observable],{enumerable:!0,initializer:function(){return{name:"",description:"",content:"",rules:{payment_status:"any",type:"any"},publish_date:(0,m.default)(),published:!1,widget:"popup",send_feedback:!0,cta:!1,selector:"",placement:"right"}}}),r=a))||r;t.default=E},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(123),i=n(39),s=n(80),l=n(40),c=n(34),u=n(21),d=n(58),f=n(75),p=n(17),h=n(713),m=f("draft_tree_data_support"),_=m?l:s,g=p.List,b=p.Repeat,y={insertAtomicBlock:function(e,t,n){var a=e.getCurrentContent(),s=e.getSelection(),l=c.removeRange(a,s,"backward"),f=l.getSelectionAfter(),p=c.splitBlock(l,f),h=p.getSelectionAfter(),y=c.setBlockType(p,h,"atomic"),v=i.create({entity:t}),A={key:d(),type:"atomic",text:n,characterList:g(b(v,n.length))},w={key:d(),type:"unstyled"};m&&(A=r({},A,{nextSibling:w.key}),w=r({},w,{prevSibling:A.key}));var k=[new _(A),new _(w)],E=o.createFromArray(k),x=c.replaceWithFragment(y,h,E),O=x.merge({selectionBefore:s,selectionAfter:x.getSelectionAfter().set("hasFocus",!0)});return u.push(e,O,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var a,o=e.getCurrentContent(),i=e.getSelection();if("before"===r||"after"===r){var s=o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());a=h(o,t,s,r)}else{var l=c.removeRange(o,n,"backward"),d=l.getSelectionAfter(),f=l.getBlockForKey(d.getFocusKey());if(0===d.getStartOffset())a=h(l,t,f,"before");else if(d.getEndOffset()===f.getLength())a=h(l,t,f,"after");else{var p=c.splitBlock(l,d),m=p.getSelectionAfter(),_=p.getBlockForKey(m.getFocusKey());a=h(p,t,_,"before")}}var g=a.merge({selectionBefore:i,selectionAfter:a.getSelectionAfter().set("hasFocus",!0)});return u.push(e,g,"move-block")}};e.exports=y},function(e,t,n){"use strict";var r=n(39),a=n(17).Map,o={add:function(e,t,n){return i(e,t,n,!0)},remove:function(e,t,n){return i(e,t,n,!1)}};function i(e,t,n,o){var i=e.getBlockMap(),s=t.getStartKey(),l=t.getStartOffset(),c=t.getEndKey(),u=t.getEndOffset(),d=i.skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===c})).concat(a([[c,i.get(c)]])).map((function(e,t){var a,i;s===c?(a=l,i=u):(a=t===s?l:0,i=t===c?u:e.getLength());for(var d,f=e.getCharacterList();a<i;)d=f.get(a),f=f.set(a,o?r.applyStyle(d,n):r.removeStyle(d,n)),a++;return e.set("characterList",f)}));return e.merge({blockMap:i.merge(d),selectionBefore:t,selectionAfter:t})}e.exports=o},function(e,t,n){"use strict";var r=n(701),a=n(17);e.exports=function(e,t,n){var o=e.getBlockMap(),i=t.getStartKey(),s=t.getStartOffset(),l=t.getEndKey(),c=t.getEndOffset(),u=o.skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===l})).toOrderedMap().merge(a.OrderedMap([[l,o.get(l)]])).map((function(e,t){var a=t===i?s:0,o=t===l?c:e.getLength();return r(e,a,o,n)}));return e.merge({blockMap:o.merge(u),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(39);e.exports=function(e,t,n,a){for(var o=t,i=e.getCharacterList();o<n;)i=i.set(o,r.applyEntity(i.get(o),a)),o++;return e.set("characterList",i)}},function(e,t,n){"use strict";var r=n(703),a=n(704),o=n(18);function i(e,t,n,i,s,l,c){var u=n.getStartOffset(),d=n.getEndOffset(),f=e.__get(s).getMutability(),p=c?u:d;if("MUTABLE"===f)return n;var h=a(t,s).filter((function(e){return p<=e.end&&p>=e.start}));1!=h.length&&o(!1);var m=h[0];if("IMMUTABLE"===f)return n.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1});l||(c?d=m.end:u=m.start);var _=r.getRemovalRange(u,d,t.getText().slice(m.start,m.end),m.start,i);return n.merge({anchorOffset:_.start,focusOffset:_.end,isBackward:!1})}e.exports=function(e,t,n,r,a){var o=r.getStartOffset(),s=r.getEndOffset(),l=t.getEntityAt(o),c=n.getEntityAt(s-1);if(!l&&!c)return r;var u=r;if(l&&l===c)u=i(e,t,u,a,l,!0,!0);else if(l&&c){var d=i(e,t,u,a,l,!1,!0),f=i(e,n,u,a,c,!1,!1);u=u.merge({anchorOffset:d.getAnchorOffset(),focusOffset:f.getFocusOffset(),isBackward:!1})}else if(l){var p=i(e,t,u,a,l,!1,!0);u=u.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(c){var h=i(e,n,u,a,c,!1,!1);u=u.merge({focusOffset:h.getEndOffset(),isBackward:!1})}return u}},function(e,t,n){"use strict";e.exports={getRemovalRange:function(e,t,n,r,a){var o=n.split(" ");o=o.map((function(e,t){if("forward"===a){if(t>0)return" "+e}else if(t<o.length-1)return e+" ";return e}));for(var i,s=r,l=null,c=null,u=0;u<o.length;u++){if(e<(i=s+o[u].length)&&s<t)null!==l||(l=s),c=i;else if(null!==l)break;s=i}var d=r+n.length,f=l===r,p=c===d;return(!f&&p||f&&!p)&&("forward"===a?c!==d&&c++:l!==r&&l--),{start:l,end:c}}}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return e.getEntity()===t}),(function(e,t){n.push({start:e,end:t})})),n.length||r(!1),n}},function(e,t,n){"use strict";var r=n(123),a=n(40),o=n(17),i=n(362),s=n(18),l=n(360),c=o.List,u=function(e,t,n,o,i,s){var l=n.first()instanceof a,u=[],d=o.size,f=n.get(i),p=o.first(),h=o.last(),m=h.getLength(),_=h.getKey(),g=l&&(!f.getChildKeys().isEmpty()||!p.getChildKeys().isEmpty());n.forEach((function(e,t){t===i?(g?u.push(e):u.push(function(e,t,n){var r=e.getText(),a=e.getCharacterList(),o=r.slice(0,t),i=a.slice(0,t),s=n.first();return e.merge({text:o+s.getText(),characterList:i.concat(s.getCharacterList()),type:o?e.getType():s.getType(),data:s.getData()})}(e,s,o)),o.slice(g?0:1,d-1).forEach((function(e){return u.push(e)})),u.push(function(e,t,n){var r=e.getText(),a=e.getCharacterList(),o=r.length,i=r.slice(t,o),s=a.slice(t,o),l=n.last();return l.merge({text:l.getText()+i,characterList:l.getCharacterList().concat(s),data:l.getData()})}(e,s,o))):u.push(e)}));var b=r.createFromArray(u);return l&&(b=function(e,t,n,r){return e.withMutations((function(t){var a=n.getKey(),o=r.getKey(),i=n.getNextSiblingKey(),s=n.getParentKey(),l=function(e,t){var n=e.getKey(),r=e,a=[];for(t.get(n)&&a.push(n);r&&r.getNextSiblingKey();){var o=r.getNextSiblingKey();if(!o)break;a.push(o),r=t.get(o)}return a}(r,e),u=l[l.length-1];if(t.get(o)?(t.setIn([a,"nextSibling"],o),t.setIn([o,"prevSibling"],a)):(t.setIn([a,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],a)),t.setIn([u,"nextSibling"],i),i&&t.setIn([i,"prevSibling"],u),l.forEach((function(e){return t.setIn([e,"parent"],s)})),s){var d=e.get(s).getChildKeys(),f=d.indexOf(a)+1,p=d.toArray();p.splice.apply(p,[f,0].concat(l)),t.setIn([s,"children"],c(p))}}))}(b,0,f,p)),e.merge({blockMap:b,selectionBefore:t,selectionAfter:t.merge({anchorKey:_,anchorOffset:m,focusKey:_,focusOffset:m,isBackward:!1})})};e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||s(!1);var o=e.getBlockMap(),c=l(n),d=t.getStartKey(),f=t.getStartOffset(),p=o.get(d);return p instanceof a&&(p.getChildKeys().isEmpty()||s(!1)),1===c.size?function(e,t,n,r,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",l=n.get(a),c=l.getText(),u=l.getCharacterList(),d=a,f=o+r.getText().length,p=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":p=r.getData().merge(l.getData());break;case"REPLACE_WITH_NEW_DATA":p=r.getData()}var h=l.getType();c&&"unstyled"===h&&(h=r.getType());var m=l.merge({text:c.slice(0,o)+r.getText()+c.slice(o),characterList:i(u,r.getCharacterList(),o),type:h,data:p});return e.merge({blockMap:n.set(a,m),selectionBefore:t,selectionAfter:t.merge({anchorKey:d,anchorOffset:f,focusKey:d,focusOffset:f,isBackward:!1})})}(e,t,o,c.first(),d,f,r):u(e,t,o,c,d,f)}},function(e,t,n){"use strict";var r=n(17),a=n(362),o=n(18),i=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||o(!1);var s=null;if(null!=n&&(s=n.length),null==s||0===s)return e;var l=e.getBlockMap(),c=t.getStartKey(),u=t.getStartOffset(),d=l.get(c),f=d.getText(),p=d.merge({text:f.slice(0,u)+n+f.slice(u,d.getLength()),characterList:a(d.getCharacterList(),i(r,s).toList(),u)}),h=u+s;return e.merge({blockMap:l.set(c,p),selectionAfter:t.merge({anchorOffset:h,focusOffset:h})})}},function(e,t,n){"use strict";var r=n(40),a=n(364),o=n(17),i=(o.List,o.Map),s=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},l=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var a=r.getParentKey();a&&n.push(a),r=a?t.get(a):null}return n},c=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},u=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},d=function(e,t,n,r){return e.withMutations((function(o){if(s(t.getKey(),o,(function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:u(e,o,r)})})),s(n.getKey(),o,(function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:u(e,o,r)})})),l(t.getKey(),r).forEach((function(e){return s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:c(e,o,r),prevSibling:u(e,o,r)})}))})),s(t.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),s(t.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:c(e,o,r)})})),s(n.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:u(e,o,r)})})),s(n.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})})),l(n.getKey(),r).forEach((function(e){s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:c(e,o,r),prevSibling:u(e,o,r)})}))})),function(e,t){var n=[];if(!e)return n;for(var r=a(e,t);r&&t.get(r);){var o=t.get(r);n.push(r),r=o.getParentKey()?a(o,t):null}return n}(n,r).forEach((function(e){return s(e,o,(function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:u(e,o,r)})}))})),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var i=t.getPrevSiblingKey();s(n.getKey(),o,(function(e){return e.merge({prevSibling:i})})),s(i,o,(function(e){return e.merge({nextSibling:n.getKey()})}));var d=i?e.get(i):null,f=d?d.getParentKey():null;if(t.getChildKeys().forEach((function(e){s(e,o,(function(e){return e.merge({parent:f})}))})),null!=f){var p=e.get(f);s(f,o,(function(e){return e.merge({children:p.getChildKeys().concat(t.getChildKeys())})}))}s(t.getChildKeys().find((function(t){return null===e.get(t).getNextSiblingKey()})),o,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})}))}}))};e.exports=function(e,t){if(t.isCollapsed())return e;var n,o=e.getBlockMap(),s=t.getStartKey(),c=t.getStartOffset(),u=t.getEndKey(),f=t.getEndOffset(),p=o.get(s),h=o.get(u),m=p instanceof r,_=[];if(m){var g=h.getChildKeys(),b=l(u,o);h.getNextSiblingKey()&&(_=_.concat(b)),g.isEmpty()||(_=_.concat(b.concat([u]))),_=_.concat(l(a(h,o),o))}n=p===h?function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),a=e.slice(n);e=r.concat(a).toList()}return e}(p.getCharacterList(),c,f):p.getCharacterList().slice(0,c).concat(h.getCharacterList().slice(f));var y=p.merge({text:p.getText().slice(0,c)+h.getText().slice(f),characterList:n}),v=m&&0===c&&0===f&&h.getParentKey()===s&&null==h.getPrevSiblingKey()?i([[s,null]]):o.toSeq().skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===u})).filter((function(e,t){return-1===_.indexOf(t)})).concat(i([[u,null]])).map((function(e,t){return t===s?y:null})),A=o.merge(v).filter((function(e){return!!e}));return m&&p!==h&&(A=d(A,p,h,o)),e.merge({blockMap:A,selectionBefore:t,selectionAfter:t.merge({anchorKey:s,anchorOffset:c,focusKey:s,focusOffset:c,isBackward:!1})})}},function(e,t,n){"use strict";var r=n(40),a=n(58),o=n(17),i=n(18),s=n(363),l=o.List,c=o.Map,u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||i(!1);var n=t.getAnchorKey(),o=e.getBlockMap(),d=o.get(n),f=d.getText();if(!f){var p=d.getType();if("unordered-list-item"===p||"ordered-list-item"===p)return s(e,t,(function(e){return e.merge({type:"unstyled",depth:0})}))}var h=t.getAnchorOffset(),m=d.getCharacterList(),_=a(),g=d instanceof r,b=d.merge({text:f.slice(0,h),characterList:m.slice(0,h)}),y=b.merge({key:_,text:f.slice(h),characterList:m.slice(h),data:c()}),v=o.toSeq().takeUntil((function(e){return e===d})),A=o.toSeq().skipUntil((function(e){return e===d})).rest(),w=v.concat([[n,b],[_,y]],A).toOrderedMap();return g&&(d.getChildKeys().isEmpty()||i(!1),w=function(e,t,n){return e.withMutations((function(e){var r=t.getKey(),a=n.getKey();u(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,o=t.toArray();return o.splice(n,0,a),e.merge({children:l(o)})})),u(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:a})})),u(r,e,(function(e){return e.merge({nextSibling:a})})),u(a,e,(function(e){return e.merge({prevSibling:r})}))}))}(w,b,y)),e.merge({blockMap:w,selectionBefore:t,selectionAfter:t.merge({anchorKey:_,anchorOffset:0,focusKey:_,focusOffset:0,isBackward:!1})})}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(124),o=n(365),i=n(17),s=i.List,l=i.Repeat,c=i.Record,u=function(){return!0},d=c({start:null,end:null}),f=c({start:null,end:null,decoratorKey:null,leaves:null}),p={generate:function(e,t,n){var r=t.getLength();if(!r)return s.of(new f({start:0,end:0,decoratorKey:null,leaves:s.of(new d({start:0,end:0}))}));var o=[],i=n?n.getDecorations(t,e):s(l(null,r)),c=t.getCharacterList();return a(i,m,u,(function(e,t){o.push(new f({start:e,end:t,decoratorKey:i.get(e),leaves:h(c.slice(e,t).toList(),e)}))})),s(o)},fromJS:function(e){var t=e.leaves,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["leaves"]);return new f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},n,{leaves:null!=t?s(Array.isArray(t)?t:o(t)).map((function(e){return d(e)})):null}))}};function h(e,t){var n=[],r=e.map((function(e){return e.getStyle()})).toList();return a(r,m,u,(function(e,r){n.push(new d({start:e+t,end:r+t}))})),s(n)}function m(e,t){return e===t}e.exports=p},function(e,t,n){"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},function(e,t,n){"use strict";var r,a=n(712),o=n(17),i=n(35),s=o.OrderedMap,l={getDirectionMap:function(e,t){r?r.reset():r=new a;var n=e.getBlockMap(),l=n.valueSeq().map((function(e){return i(r).getDirection(e.getText())})),c=s(n.keySeq().zip(l));return null!=t&&o.is(t,c)?t:c}};e.exports=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(248),o=n(170),i=n(18),s=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?o.isStrong(e)||i(!1):e=o.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=a.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=s},function(e,t,n){"use strict";var r=n(40),a=n(364),o=n(17),i=n(18),s=o.OrderedMap,l=o.List,c=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},u=function(e,t,n,r,a){if(!a)return e;var o="after"===r,i=t.getKey(),s=n.getKey(),u=t.getParentKey(),d=t.getNextSiblingKey(),f=t.getPrevSiblingKey(),p=n.getParentKey(),h=o?n.getNextSiblingKey():s,m=o?s:n.getPrevSiblingKey();return e.withMutations((function(e){c(u,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(i))})})),c(f,e,(function(e){return e.merge({nextSibling:d})})),c(d,e,(function(e){return e.merge({prevSibling:f})})),c(h,e,(function(e){return e.merge({prevSibling:i})})),c(m,e,(function(e){return e.merge({nextSibling:i})})),c(p,e,(function(e){var t=e.getChildKeys(),n=t.indexOf(s),r=o?n+1:0!==n?n-1:0,a=t.toArray();return a.splice(r,0,i),e.merge({children:l(a)})})),c(i,e,(function(e){return e.merge({nextSibling:h,prevSibling:m,parent:p})}))}))};e.exports=function(e,t,n,o){"replace"===o&&i(!1);var l=n.getKey(),c=t.getKey();c===l&&i(!1);var d=e.getBlockMap(),f=t instanceof r,p=[t],h=d.delete(c);f&&(p=[],h=d.withMutations((function(e){var n=t.getNextSiblingKey(),r=a(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===c})).takeWhile((function(e){var t=e.getKey(),a=t===c,o=n&&t!==n,i=!n&&e.getParentKey()&&(!r||t!==r);return!!(a||o||i)})).forEach((function(t){p.push(t),e.delete(t.getKey())}))})));var m=h.toSeq().takeUntil((function(e){return e===n})),_=h.toSeq().skipUntil((function(e){return e===n})).skip(1),g=p.map((function(e){return[e.getKey(),e]})),b=s();if("before"===o){var y=e.getBlockBefore(l);y&&y.getKey()===t.getKey()&&i(!1),b=m.concat([].concat(g,[[l,n]]),_).toOrderedMap()}else if("after"===o){var v=e.getBlockAfter(l);v&&v.getKey()===c&&i(!1),b=m.concat([[l,n]].concat(g),_).toOrderedMap()}return e.merge({blockMap:u(b,t,n,o,f),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:c,focusKey:c})})}},function(e,t,n){"use strict";var r=n(17).List,a=function(){function e(e){var t,n;n=void 0,(t="_decorators")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach((function(r,a){var o=0;(0,r.strategy)(e,(function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(function(e,t,n,r){for(var a=t;a<n;a++)e[a]=r}(n,e,t,a+"."+o),o++)}),t)})),r(n)},t.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=a},function(e,t,n){"use strict";(function(t){var r=n(64);function a(){return(a=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=n(249),u=n(368),d=n(716),f=n(724),p=n(741),h=n(744),m=n(779),_=n(780),g=n(380),b=n(21),y=n(0),v=n(252),A=n(174),w=n(36),k=n(81),E=n(58),x=n(396),O=n(175),C=n(75),j=n(18),D=n(125),N=n(35),S=w.isBrowser("IE"),T=!S,M={edit:h,composite:d,drag:p,cut:null,render:null},P=!1,B=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(y.Component),I=function(e){function n(t){var n;return s(i(n=e.call(this,t)||this),"_blockSelectEvents",void 0),s(i(n),"_clipboard",void 0),s(i(n),"_handler",void 0),s(i(n),"_dragCount",void 0),s(i(n),"_internalDrag",void 0),s(i(n),"_editorKey",void 0),s(i(n),"_placeholderAccessibilityID",void 0),s(i(n),"_latestEditorState",void 0),s(i(n),"_latestCommittedEditorState",void 0),s(i(n),"_pendingStateFromBeforeInput",void 0),s(i(n),"_onBeforeInput",void 0),s(i(n),"_onBlur",void 0),s(i(n),"_onCharacterData",void 0),s(i(n),"_onCompositionEnd",void 0),s(i(n),"_onCompositionStart",void 0),s(i(n),"_onCopy",void 0),s(i(n),"_onCut",void 0),s(i(n),"_onDragEnd",void 0),s(i(n),"_onDragOver",void 0),s(i(n),"_onDragStart",void 0),s(i(n),"_onDrop",void 0),s(i(n),"_onInput",void 0),s(i(n),"_onFocus",void 0),s(i(n),"_onKeyDown",void 0),s(i(n),"_onKeyPress",void 0),s(i(n),"_onKeyUp",void 0),s(i(n),"_onMouseDown",void 0),s(i(n),"_onMouseUp",void 0),s(i(n),"_onPaste",void 0),s(i(n),"_onSelect",void 0),s(i(n),"editor",void 0),s(i(n),"editorContainer",void 0),s(i(n),"focus",void 0),s(i(n),"blur",void 0),s(i(n),"setMode",void 0),s(i(n),"exitCurrentMode",void 0),s(i(n),"restoreEditorDOM",void 0),s(i(n),"setClipboard",void 0),s(i(n),"getClipboard",void 0),s(i(n),"getEditorKey",void 0),s(i(n),"update",void 0),s(i(n),"onDragEnter",void 0),s(i(n),"onDragLeave",void 0),s(i(n),"_handleEditorContainerRef",(function(e){n.editorContainer=e,n.editor=null!==e?e.firstChild:null})),s(i(n),"focus",(function(e){var t=n.props.editorState,r=t.getSelection().getHasFocus(),a=n.editor;if(a){var o=A.getScrollParent(a),i=e||O(o),s=i.x,l=i.y;D(a)||j(!1),a.focus(),o===window?window.scrollTo(s,l):v.setTop(o,l),r||n.update(b.forceSelection(t,t.getSelection()))}})),s(i(n),"blur",(function(){var e=n.editor;e&&(D(e)||j(!1),e.blur())})),s(i(n),"setMode",(function(e){var t=n.props,r=t.onPaste,a=t.onCut,i=t.onCopy,s=o({},M.edit);r&&(s.onPaste=r),a&&(s.onCut=a),i&&(s.onCopy=i);var l=o({},M,{edit:s});n._handler=l[e]})),s(i(n),"exitCurrentMode",(function(){n.setMode("edit")})),s(i(n),"restoreEditorDOM",(function(e){n.setState({contentsKey:n.state.contentsKey+1},(function(){n.focus(e)}))})),s(i(n),"setClipboard",(function(e){n._clipboard=e})),s(i(n),"getClipboard",(function(){return n._clipboard})),s(i(n),"update",(function(e){n._latestEditorState=e,n.props.onChange(e)})),s(i(n),"onDragEnter",(function(){n._dragCount++})),s(i(n),"onDragLeave",(function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()})),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||E(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}l(n,e);var r=n.prototype;return r._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&(m?m((function(){return r(t,n)})):r(t,n))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:N(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return y.createElement(_,e)}return null},r._renderARIADescribedBy=function(){var e=this.props.ariaDescribedBy||"",t=this._showPlaceholder()?this._placeholderAccessibilityID:"";return e.replace("{{editor_id_placeholder}}",t)||void 0},r.render=function(){var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,i=e.customStyleFn,s=e.customStyleMap,l=e.editorState,c=e.preventScroll,d=e.readOnly,p=e.textAlignment,h=e.textDirectionality,m=k({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===p,"DraftEditor/alignRight":"right"===p,"DraftEditor/alignCenter":"center"===p}),_=this.props.role||"textbox",g="combobox"===_?!!this.props.ariaExpanded:null,b={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,customStyleMap:o({},u,s),customStyleFn:i,editorKey:this._editorKey,editorState:l,preventScroll:c,textDirectionality:h};return y.createElement("div",{className:m},this._renderPlaceholder(),y.createElement("div",{className:k("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},y.createElement("div",{"aria-activedescendant":d?null:this.props.ariaActiveDescendantID,"aria-autocomplete":d?null:this.props.ariaAutoComplete,"aria-controls":d?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":d?null:g,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":d?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:k({notranslate:!d,"public/DraftEditor/content":!0}),contentEditable:!d,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:d?null:_,spellCheck:T&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},y.createElement(B,{editor:this,editorState:l}),y.createElement(f,a({},b,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!P&&C("draft_ods_enabled")&&(P=!0,g.initODS()),this.setMode("edit"),S&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(y.Component);s(I,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:c,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:x,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=I}).call(this,n(54))},function(e,t,n){"use strict";var r=n(717),a=n(34),o=n(66),i=n(21),s=n(173),l=n(36),c=n(371),u=n(373),d=n(374),f=n(250),p=n(35),h=l.isBrowser("IE"),m=!1,_=!1,g=null,b={onCompositionStart:function(e){_=!0,function(e){g||(g=new r(u(e))).start()}(e)},onCompositionEnd:function(e){m=!1,_=!1,setTimeout((function(){m||b.resolveComposition(e)}),20)},onSelect:c,onKeyDown:function(e,t){if(!_)return b.resolveComposition(e),void e._onKeyDown(t);t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!_){var t=p(g).stopAndFlushMutations();g=null,m=!0;var n=i.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),t.size){var r=n.getCurrentContent();t.forEach((function(e,t){var s=o.decode(t),l=s.blockKey,c=s.decoratorKey,u=s.leafKey,d=n.getBlockTree(l).getIn([c,"leaves",u]),p=d.start,h=d.end,m=n.getSelection().merge({anchorKey:l,focusKey:l,anchorOffset:p,focusOffset:h,isBackward:!1}),_=f(r,m),g=r.getBlockForKey(l).getInlineStyleAt(p);r=a.replaceText(r,m,e,g,_),n=i.set(n,{currentContent:r})}));var s=d(n,u(e)).selectionState;e.restoreEditorDOM();var l=h?i.forceSelection(n,s):i.acceptSelection(n,s);e.update(i.push(l,r,"insert-characters"))}else e.update(n)}}};e.exports=b},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(36),o=n(171),i=n(370),s=n(17),l=n(18),c=n(35),u=s.Map,d={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},f=a.isBrowser("IE <= 11"),p=function(){function e(e){var t=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=u();var n=i(e);n.MutationObserver&&!f?this.observer=new n.MutationObserver((function(e){return t.registerMutations(e)})):this.onCharData=function(e){e.target instanceof Node||l(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,d):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=u(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,n=e.target,r=e.removedNodes;if("characterData"===t){if(""!==n.textContent)return f?n.textContent.replace("\n",""):n.textContent}else if("childList"===t){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var n=c(o(e.target));this.mutations=this.mutations.set(n,t)}},e}();e.exports=p},function(e,t,n){"use strict";var r,a="Unknown",o=(new(n(719))).getResult(),i=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(o.browser.version),s={browserArchitecture:o.cpu.architecture||a,browserFullVersion:o.browser.version||a,browserMinorVersion:i.minor||a,browserName:o.browser.name||a,browserVersion:o.browser.major||a,deviceName:o.device.model||a,engineName:o.engine.name||a,engineVersion:o.engine.version||a,platformArchitecture:o.cpu.architecture||a,platformName:(r=o.os.name,{"Mac OS":"Mac OS X"}[r]||r||a),platformVersion:o.os.version||a,platformFullVersion:o.os.version||a};e.exports=s},function(e,t,n){var r;!function(a,o){"use strict";var i="model",s="name",l="type",c="vendor",u="version",d="mobile",f="tablet",p="smarttv",h=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},m=function(e,t){return"string"==typeof e&&-1!==_(t).indexOf(_(e))},_=function(e){return e.toLowerCase()},g=function(e,t){if("string"==typeof e)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0===t?e:e.substring(0,255)},b=function(e,t){for(var n,r,a,o,i,s,l=0;l<t.length&&!i;){var c=t[l],u=t[l+1];for(n=r=0;n<c.length&&!i;)if(i=c[n++].exec(e))for(a=0;a<u.length;a++)s=i[++r],"object"==typeof(o=u[a])&&o.length>0?2===o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3===o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4===o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;l+=2}},y=function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(m(t[n][r],e))return"?"===n?void 0:n}else if(m(t[n],e))return"?"===n?void 0:n;return e},v={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},A={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[u,[s,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[u,[s,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[s,u],[/opios[\/ ]+([\w\.]+)/i],[u,[s,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[u,[s,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[s,u],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[u,[s,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[u,[s,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[u,[s,"WeChat"]],[/konqueror\/([\w\.]+)/i],[u,[s,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[u,[s,"IE"]],[/yabrowser\/([\w\.]+)/i],[u,[s,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[s,/(.+)/,"$1 Secure Browser"],u],[/\bfocus\/([\w\.]+)/i],[u,[s,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[u,[s,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[u,[s,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[u,[s,"Dolphin"]],[/coast\/([\w\.]+)/i],[u,[s,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[u,[s,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[u,[s,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[s,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[s,/(.+)/,"$1 Browser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],u],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[s,u],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[s],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[s,"Facebook"],u],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[s,u],[/\bgsa\/([\w\.]+) .*safari\//i],[u,[s,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[u,[s,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[s,"Chrome WebView"],u],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[u,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[s,u],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[u,[s,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[u,s],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[s,[u,y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[s,u],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[s,"Netscape"],u],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[u,[s,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[s,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",_]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",_]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",_]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[i,[c,"Samsung"],[l,f]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[i,[c,"Samsung"],[l,d]],[/\((ip(?:hone|od)[\w ]*);/i],[i,[c,"Apple"],[l,d]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[i,[c,"Apple"],[l,f]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[i,[c,"Huawei"],[l,f]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[i,[c,"Huawei"],[l,d]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[i,/_/g," "],[c,"Xiaomi"],[l,d]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[i,/_/g," "],[c,"Xiaomi"],[l,f]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[i,[c,"OPPO"],[l,d]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[i,[c,"Vivo"],[l,d]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[i,[c,"Realme"],[l,d]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[i,[c,"Motorola"],[l,d]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[i,[c,"Motorola"],[l,f]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[i,[c,"LG"],[l,f]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[i,[c,"LG"],[l,d]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[i,[c,"Lenovo"],[l,f]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[i,/_/g," "],[c,"Nokia"],[l,d]],[/(pixel c)\b/i],[i,[c,"Google"],[l,f]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[i,[c,"Google"],[l,d]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[i,[c,"Sony"],[l,d]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[i,"Xperia Tablet"],[c,"Sony"],[l,f]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[i,[c,"OnePlus"],[l,d]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[i,[c,"Amazon"],[l,f]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[i,/(.+)/g,"Fire Phone $1"],[c,"Amazon"],[l,d]],[/(playbook);[-\w\),; ]+(rim)/i],[i,c,[l,f]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[i,[c,"BlackBerry"],[l,d]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[i,[c,"ASUS"],[l,f]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[i,[c,"ASUS"],[l,d]],[/(nexus 9)/i],[i,[c,"HTC"],[l,f]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[c,[i,/_/g," "],[l,d]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[i,[c,"Acer"],[l,f]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[i,[c,"Meizu"],[l,d]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[i,[c,"Sharp"],[l,d]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[c,i,[l,d]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[c,i,[l,f]],[/(surface duo)/i],[i,[c,"Microsoft"],[l,f]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[i,[c,"Fairphone"],[l,d]],[/(u304aa)/i],[i,[c,"AT&T"],[l,d]],[/\bsie-(\w*)/i],[i,[c,"Siemens"],[l,d]],[/\b(rct\w+) b/i],[i,[c,"RCA"],[l,f]],[/\b(venue[\d ]{2,7}) b/i],[i,[c,"Dell"],[l,f]],[/\b(q(?:mv|ta)\w+) b/i],[i,[c,"Verizon"],[l,f]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[i,[c,"Barnes & Noble"],[l,f]],[/\b(tm\d{3}\w+) b/i],[i,[c,"NuVision"],[l,f]],[/\b(k88) b/i],[i,[c,"ZTE"],[l,f]],[/\b(nx\d{3}j) b/i],[i,[c,"ZTE"],[l,d]],[/\b(gen\d{3}) b.+49h/i],[i,[c,"Swiss"],[l,d]],[/\b(zur\d{3}) b/i],[i,[c,"Swiss"],[l,f]],[/\b((zeki)?tb.*\b) b/i],[i,[c,"Zeki"],[l,f]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[c,"Dragon Touch"],i,[l,f]],[/\b(ns-?\w{0,9}) b/i],[i,[c,"Insignia"],[l,f]],[/\b((nxa|next)-?\w{0,9}) b/i],[i,[c,"NextBook"],[l,f]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[c,"Voice"],i,[l,d]],[/\b(lvtel\-)?(v1[12]) b/i],[[c,"LvTel"],i,[l,d]],[/\b(ph-1) /i],[i,[c,"Essential"],[l,d]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[i,[c,"Envizen"],[l,f]],[/\b(trio[-\w\. ]+) b/i],[i,[c,"MachSpeed"],[l,f]],[/\btu_(1491) b/i],[i,[c,"Rotor"],[l,f]],[/(shield[\w ]+) b/i],[i,[c,"Nvidia"],[l,f]],[/(sprint) (\w+)/i],[c,i,[l,d]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[c,"Microsoft"],[l,d]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[i,[c,"Zebra"],[l,f]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[i,[c,"Zebra"],[l,d]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[c,i,[l,"console"]],[/droid.+; (shield) bui/i],[i,[c,"Nvidia"],[l,"console"]],[/(playstation [345portablevi]+)/i],[i,[c,"Sony"],[l,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[i,[c,"Microsoft"],[l,"console"]],[/smart-tv.+(samsung)/i],[c,[l,p]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[c,"Samsung"],[l,p]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[c,"LG"],[l,p]],[/(apple) ?tv/i],[c,[i,"Apple TV"],[l,p]],[/crkey/i],[[i,"Chromecast"],[c,"Google"],[l,p]],[/droid.+aft(\w)( bui|\))/i],[i,[c,"Amazon"],[l,p]],[/\(dtv[\);].+(aquos)/i],[i,[c,"Sharp"],[l,p]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[c,g],[i,g],[l,p]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,p]],[/((pebble))app/i],[c,i,[l,"wearable"]],[/droid.+; (glass) \d/i],[i,[c,"Google"],[l,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[i,[c,"Zebra"],[l,"wearable"]],[/(quest( 2)?)/i],[i,[c,"Facebook"],[l,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[c,[l,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[i,[l,d]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[i,[l,f]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,f]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[l,d]],[/(android[-\w\. ]{0,9});.+buil/i],[i,[c,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[u,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[u,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[s,u],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[u,s]],os:[[/microsoft (windows) (vista|xp)/i],[s,u],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[s,[u,y,v]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[s,"Windows"],[u,y,v]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[u,/_/g,"."],[s,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[s,"Mac OS"],[u,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[u,s],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[s,u],[/\(bb(10);/i],[u,[s,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[u,[s,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[u,[s,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[u,[s,"webOS"]],[/crkey\/([\d\.]+)/i],[u,[s,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[s,"Chromium OS"],u],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[s,u],[/(sunos) ?([\w\.\d]*)/i],[[s,"Solaris"],u],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[s,u]]},w=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof w))return new w(e,t).getResult();var n=e||(void 0!==a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(A,t):A;return this.getBrowser=function(){var e,t={name:void 0,version:void 0};return b.call(t,n,r.browser),t.major="string"==typeof(e=t.version)?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,t},this.getCPU=function(){var e={architecture:void 0};return b.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return b.call(e,n,r.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return b.call(e,n,r.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return b.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n="string"==typeof e&&e.length>255?g(e,255):e,this},this.setUA(n),this};w.VERSION="0.7.31",w.BROWSER=h([s,u,"major"]),w.CPU=h(["architecture"]),w.DEVICE=h([i,c,l,"console",d,p,f,"wearable","embedded"]),w.ENGINE=w.OS=h([s,u]),void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=w),t.UAParser=w):n(720)?void 0===(r=function(){return w}.call(t,n,t,e))||(e.exports=r):void 0!==a&&(a.UAParser=w);var k=void 0!==a&&(a.jQuery||a.Zepto);if(k&&!k.ua){var E=new w;k.ua=E.getResult(),k.ua.get=function(){return E.getUA()},k.ua.set=function(e){E.setUA(e);var t=E.getResult();for(var n in t)k.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";var r=n(18),a=/\./,o=/\|\|/,i=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,l=/^(\d*)(.*)/;function c(e,t){if(""===(e=e.trim()))return!0;var n,r=t.split(a),o=f(e),i=o.modifier,s=o.rangeComponents;switch(i){case"<":return u(r,s);case"<=":return-1===(n=b(r,s))||0===n;case">=":return d(r,s);case">":return function(e,t){return 1===b(e,t)}(r,s);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var a=r.length-1,o=parseInt(r[a],10);return p(o)&&(r[a]=o+1+""),d(e,n)&&u(e,r)}(r,s);default:return function(e,t){return 0===b(e,t)}(r,s)}}function u(e,t){return-1===b(e,t)}function d(e,t){var n=b(e,t);return 1===n||0===n}function f(e){var t=e.split(a),n=t[0].match(s);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function p(e){return!isNaN(e)&&isFinite(e)}function h(e){return!f(e).modifier}function m(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function _(e,t){var n=e.match(l)[1],r=t.match(l)[1],a=parseInt(n,10),o=parseInt(r,10);return p(a)&&p(o)&&a!==o?g(a,o):g(e,t)}function g(e,t){return typeof e!=typeof t&&r(!1),e>t?1:e<t?-1:0}function b(e,t){for(var n=function(e,t){m(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var a=n;a<e.length;a++)e[a]="0"}return m(t,e.length),[e,t]}(e,t),r=n[0],a=n[1],o=0;o<a.length;o++){var i=_(r[o],a[o]);if(i)return i}return 0}var y={contains:function(e,t){return function(e,t){var n=e.split(o);return n.length>1?n.some((function(e){return y.contains(e,t)})):function(e,t){var n=e.split(i);if(n.length>0&&n.length<=2||r(!1),1===n.length)return c(n[0],t);var a=n[0],o=n[1];return h(a)&&h(o)||r(!1),c(">="+a,t)&&c("<="+o,t)}(e=n[0].trim(),t)}(e.trim(),t.trim())}};e.exports=y},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!e)return null;var a={};for(var o in e)r.call(e,o)&&(a[o]=t.call(n,e[o],o,e));return a}},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";var r=n(75)("draft_tree_data_support");e.exports=n(r?725:739)},function(e,t,n){"use strict";var r=n(64);function a(){return(a=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(726),i=n(66),s=n(0),l=n(35),c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),a=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||a&&o)return!1;var i=t.getCurrentContent(),s=n.getCurrentContent(),l=t.getDecorator(),c=n.getDecorator();return a!==o||i!==s||l!==c||n.mustForceSelection()},c.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,c=e.customStyleMap,u=e.customStyleFn,d=e.editorState,f=e.editorKey,p=e.textDirectionality,h=d.getCurrentContent(),m=d.getSelection(),_=d.mustForceSelection(),g=d.getDecorator(),b=l(d.getDirectionMap()),y=[],v=h.getBlocksAsArray()[0];v;){var A=v.getKey(),w={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,contentState:h,customStyleFn:u,customStyleMap:c,decorator:g,editorKey:f,editorState:d,forceSelection:_,selection:m,block:v,direction:p||b.get(A),tree:d.getBlockTree(A)},k=(t.get(v.getType())||t.get("unstyled")).wrapper;y.push({block:s.createElement(o,a({key:A},w)),wrapperTemplate:k,key:A,offsetKey:i.encode(A,0,0)});var E=v.getNextSiblingKey();v=E?h.getBlockForKey(E):null}for(var x=[],O=0;O<y.length;){var C=y[O];if(C.wrapperTemplate){var j=[];do{j.push(y[O].block),O++}while(O<y.length&&y[O].wrapperTemplate===C.wrapperTemplate);var D=s.cloneElement(C.wrapperTemplate,{key:C.key+"-wrap","data-offset-key":C.offsetKey},j);x.push(D)}else x.push(C.block),O++}return s.createElement("div",{"data-contents":"true"},x)},r}(s.Component);e.exports=c},function(e,t,n){"use strict";var r=n(64);function a(){return(a=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(727),l=n(66),c=n(0),u=n(252),d=n(174),f=n(382),p=n(175),h=n(383),m=n(17),_=n(18),g=n(125),b=(m.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),y=function(e,t){var n=t.get(e.getType())||t.get("unstyled"),r=n.wrapper;return{Element:n.element||t.get("unstyled").element,wrapperTemplate:r}},v=function(e,t){var n=t(e);return n?{CustomComponent:n.component,customProps:n.props,customEditable:n.editable}:{}},A=function(e,t,n,r,a,i){var s={"data-block":!0,"data-editor":t,"data-offset-key":n,key:e.getKey(),ref:i},l=r(e);return l&&(s.className=l),void 0!==a.customEditable&&(s=o({},s,{contentEditable:a.customEditable,suppressContentEditableWarning:!0})),s},w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call.apply(e,[this].concat(r))||this),"wrapperRef",c.createRef()),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var m=r.prototype;return m.shouldComponentUpdate=function(e){var t=this.props,n=t.block,r=t.direction,a=t.tree,o=!n.getChildKeys().isEmpty(),i=n!==e.block||a!==e.tree||r!==e.direction||b(e.selection,e.block.getKey())&&e.forceSelection;return o||i},m.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this.wrapperRef.current;if(n){var r,a=d.getScrollParent(n),o=p(a);if(a===window){var i=f(n);(r=i.y+i.height-h().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{g(n)||_(!1);var s=n;(r=s.offsetHeight+s.offsetTop-(a.offsetHeight+o.y))>0&&u.setTop(a,u.getTop(a)+r+10)}}}},m.render=function(){var e=this,t=this.props,n=t.block,i=t.blockRenderMap,u=t.blockRendererFn,d=t.blockStyleFn,f=t.contentState,p=t.decorator,h=t.editorKey,m=t.editorState,_=t.customStyleFn,g=t.customStyleMap,w=t.direction,k=t.forceSelection,E=t.selection,x=t.tree,O=null;n.children.size&&(O=n.children.reduce((function(t,n){var a=l.encode(n,0,0),s=f.getBlockForKey(n),p=v(s,u),_=p.CustomComponent||r,g=y(s,i),b=g.Element,w=g.wrapperTemplate,k=A(s,h,a,d,p,null),E=o({},e.props,{tree:m.getBlockTree(n),blockProps:p.customProps,offsetKey:a,block:s});return t.push(c.createElement(b,k,c.createElement(_,E))),!w||function(e,t){var n=e.getNextSiblingKey();return!!n&&t.getBlockForKey(n).getType()===e.getType()}(s,f)||function(e,t,n){var r=[],a=!0,o=!1,i=void 0;try{for(var s,u=n.reverse()[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var d=s.value;if(d.type!==t)break;r.push(d)}}catch(e){o=!0,i=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}n.splice(n.indexOf(r[0]),r.length+1);var f=r.reverse(),p=f[0].key;n.push(c.cloneElement(e,{key:"".concat(p,"-wrap"),"data-offset-key":l.encode(p,0,0)},f))}(w,b,t),t}),[]));var C=n.getKey(),j=l.encode(C,0,0),D=v(n,u),N=D.CustomComponent,S=null!=N?c.createElement(N,a({},this.props,{tree:m.getBlockTree(C),blockProps:D.customProps,offsetKey:j,block:n})):c.createElement(s,{block:n,children:O,contentState:f,customStyleFn:_,customStyleMap:g,decorator:p,direction:w,forceSelection:k,hasSelection:b(E,C),selection:E,tree:x});if(n.getParentKey())return S;var T=y(n,i).Element,M=A(n,h,j,d,D,this.wrapperRef);return c.createElement(T,M,S)},r}(c.Component);e.exports=w},function(e,t,n){"use strict";var r=n(728),a=n(378),o=n(66),i=n(17),s=n(0),l=n(81),c=(i.List,function(e){var t,n;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props,t=e.block,n=e.contentState,i=e.customStyleFn,c=e.customStyleMap,u=e.decorator,d=e.direction,f=e.forceSelection,p=e.hasSelection,h=e.selection,m=e.tree,_=t.getKey(),g=t.getText(),b=m.size-1,y=this.props.children||m.map((function(e,l){var m=e.get("decoratorKey"),y=e.get("leaves"),v=y.size-1,A=y.map((function(e,n){var r=o.encode(_,l,n),u=e.get("start"),d=e.get("end");return s.createElement(a,{key:r,offsetKey:r,block:t,start:u,selection:p?h:null,forceSelection:f,text:g.slice(u,d),styleSet:t.getInlineStyleAt(u),customStyleMap:c,customStyleFn:i,isLast:m===b&&n===v})})).toArray();return m&&u?s.createElement(r,{block:t,children:A,contentState:n,decorator:u,decoratorKey:m,direction:d,leafSet:e,text:g,key:l}):A})).toArray();return s.createElement("div",{"data-offset-key":o.encode(_,0,0),className:l({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===d,"public/DraftStyleDefault/rtl":"RTL"===d})},y)},i}(s.Component));e.exports=c},function(e,t,n){"use strict";var r=n(64);function a(){return(a=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(66),i=n(0),s=n(248),l=n(170),c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.block,n=e.children,r=e.contentState,c=e.decorator,u=e.decoratorKey,d=e.direction,f=e.leafSet,p=e.text,h=t.getKey(),m=f.get("leaves"),_=c.getComponentForKey(u),g=c.getPropsForKey(u),b=o.encode(h,parseInt(u,10),0),y=p.slice(m.first().get("start"),m.last().get("end")),v=l.getHTMLDirIfDifferent(s.getDirection(y),d);return i.createElement(_,a({},g,{contentState:r,decoratedText:y,dir:v,key:b,entityKey:t.getEntityAt(f.get("start")),offsetKey:b}),n)},r}(i.Component);e.exports=c},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(0),i=n(36),s=n(18),l=n(82),c=i.isBrowser("IE <= 11"),u=function(e){var t,n;function i(t){var n;return a(r(n=e.call(this,t)||this),"_forceFlag",void 0),a(r(n),"_node",void 0),n._forceFlag=!1,n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=i.prototype;return u.shouldComponentUpdate=function(e){var t=this._node,n=""===e.children;l(t)||s(!1);var r=t;return n?!function(e){return c?"\n"===e.textContent:"BR"===e.tagName}(r):r.textContent!==e.children},u.componentDidMount=function(){this._forceFlag=!this._forceFlag},u.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},u.render=function(){var e,t=this;return""===this.props.children?this._forceFlag?(e=function(e){return t._node=e},c?o.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"A","data-text":"true",ref:e})):function(e){return c?o.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"B","data-text":"true",ref:e})}((function(e){return t._node=e})):o.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(e){return t._node=e}},this.props.children)},i}(o.Component);e.exports=u},function(e,t,n){"use strict";var r=n(380),a=n(372),o=n(36),i=n(251),s=n(381),l=n(172),c=n(18),u=n(82),d=o.isBrowser("IE");function f(e,t){if(!e)return"[empty]";var n=function e(t,n){var r=void 0!==n?n(t):[];if(t.nodeType===Node.TEXT_NODE){var a=t.textContent.length;return l(t).createTextNode("[text "+a+(r.length?" | "+r.join(", "):"")+"]")}var o=t.cloneNode();1===o.nodeType&&r.length&&o.setAttribute("data-labels",r.join(", "));for(var i=t.childNodes,s=0;s<i.length;s++)o.appendChild(e(i[s],n));return o}(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(u(n)||c(!1),n.outerHTML)}function p(e,t){for(var n=e,r=n;n;){if(u(n)&&r.hasAttribute("contenteditable"))return f(n,t);r=n=n.parentNode}return"Could not find contentEditable parent of node"}function h(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function m(e,t,n,r){var o=s();if(e.extend&&null!=t&&i(o,t)){n>h(t)&&a.logSelectionStateFailure({anonymizedDom:p(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var l=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(i){throw a.logSelectionStateFailure({anonymizedDom:p(t,(function(t){var n=[];return t===o&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:l,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:i?""+i:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),i}}else if(t&&e.rangeCount>0){var c=e.getRangeAt(0);c.setEnd(t,n),e.addRange(c.cloneRange())}}function _(e,t,n,o){var i=l(t).createRange();if(n>h(t)&&(a.logSelectionStateFailure({anonymizedDom:p(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),r.handleExtensionCausedError()),i.setStart(t,n),d)try{e.addRange(i)}catch(e){}else e.addRange(i)}e.exports={setDraftEditorSelection:function(e,t,n,r,a){var o=l(t);if(i(o.documentElement,t)){var s=o.defaultView.getSelection(),c=e.getAnchorKey(),u=e.getAnchorOffset(),d=e.getFocusKey(),f=e.getFocusOffset(),p=e.getIsBackward();if(!s.extend&&p){var h=c,g=u;c=d,u=f,d=h,f=g,p=!1}var b=c===n&&r<=u&&a>=u,y=d===n&&r<=f&&a>=f;if(b&&y)return s.removeAllRanges(),_(s,t,u-r,e),void m(s,t,f-r,e);if(p){if(y&&(s.removeAllRanges(),_(s,t,f-r,e)),b){var v=s.focusNode,A=s.focusOffset;s.removeAllRanges(),_(s,t,u-r,e),m(s,v,A,e)}}else b&&(s.removeAllRanges(),_(s,t,u-r,e)),y&&m(s,t,f-r,e)}},addFocusToSelection:m}},function(e,t,n){"use strict";var r=n(732);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(734),a=n(735);function o(e){return null==e?e:String(e)}e.exports=function(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return o(n.getPropertyValue(a(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return o(n.getPropertyValue(a(t)));if("display"===t)return"none"}return e.currentStyle?o("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):o(e.style&&e.style[r(t)])}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(251);e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},function(e,t,n){"use strict";var r="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},function(e,t,n){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,n){"use strict";var r=n(64);function a(){return(a=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(384),l=n(66),c=n(0),u=n(81),d=n(740),f=n(35),p=function(e,t,n,r){return u({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),a=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||a&&o)return!1;var i=t.getCurrentContent(),s=n.getCurrentContent(),l=t.getDecorator(),c=n.getDecorator();return a!==o||i!==s||l!==c||n.mustForceSelection()},i.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,i=e.customStyleMap,u=e.customStyleFn,h=e.editorState,m=e.editorKey,_=e.preventScroll,g=e.textDirectionality,b=h.getCurrentContent(),y=h.getSelection(),v=h.mustForceSelection(),A=h.getDecorator(),w=f(h.getDirectionMap()),k=b.getBlocksAsArray(),E=[],x=null,O=null,C=0;C<k.length;C++){var j=k[C],D=j.getKey(),N=j.getType(),S=n(j),T=void 0,M=void 0,P=void 0;S&&(T=S.component,M=S.props,P=S.editable);var B=g||w.get(D),I=l.encode(D,0,0),L={contentState:b,block:j,blockProps:M,blockStyleFn:r,customStyleMap:i,customStyleFn:u,decorator:A,direction:B,forceSelection:v,offsetKey:I,preventScroll:_,selection:y,tree:h.getBlockTree(D)},U=t.get(N)||t.get("unstyled"),R=U.wrapper,F=U.element||t.get("unstyled").element,z=j.getDepth(),Q="";r&&(Q=r(j)),"li"===F&&(Q=d(Q,p(N,z,O!==R||null===x||z>x,B)));var H=T||s,Y={className:Q,"data-block":!0,"data-editor":m,"data-offset-key":I,key:D};void 0!==P&&(Y=o({},Y,{contentEditable:P,suppressContentEditableWarning:!0}));var K=c.createElement(F,Y,c.createElement(H,a({},L,{key:D})));E.push({block:K,wrapperTemplate:R,key:D,offsetKey:I}),x=R?j.getDepth():null,O=R}for(var W=[],q=0;q<E.length;){var G=E[q];if(G.wrapperTemplate){var V=[];do{V.push(E[q].block),q++}while(q<E.length&&E[q].wrapperTemplate===G.wrapperTemplate);var $=c.cloneElement(G.wrapperTemplate,{key:G.key+"-wrap","data-offset-key":G.offsetKey},V);W.push($)}else W.push(G.block),q++}return c.createElement("div",{"data-contents":"true"},W)},r}(c.Component);e.exports=h},function(e,t,n){"use strict";e.exports=function(e){var t=e||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var a=arguments[r];a&&(t=(t?t+" ":"")+a)}return t}},function(e,t,n){"use strict";var r=n(385),a=n(34),o=n(21),i=n(171),s=n(172),l=n(387),c=n(376),u=n(370),d=n(176),f=n(35),p={onDragEnd:function(e){e.exitCurrentMode(),h(e)},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),u=e._latestEditorState,p=function(e,t){var n=null,r=null,a=s(e.currentTarget);if("function"==typeof a.caretRangeFromPoint){var o=a.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=f(n),r=f(r);var l=f(i(n));return c(t,l,r,l,r)}(t.nativeEvent,u);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=p){var _=n.getFiles();if(_.length>0){if(e.props.handleDroppedFiles&&d(e.props.handleDroppedFiles(p,_)))return;l(_,(function(t){t&&e.update(m(u,p,t))}))}else{var g=e._internalDrag?"internal":"external";e.props.handleDrop&&d(e.props.handleDrop(p,n,g))||(e._internalDrag?e.update(function(e,t){var n=a.moveText(e.getCurrentContent(),e.getSelection(),t);return o.push(e,n,"insert-fragment")}(u,p)):e.update(m(u,p,n.getText()))),h(e)}}}};function h(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var n=new MouseEvent("mouseup",{view:u(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function m(e,t,n){var r=a.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return o.push(e,r,"insert-fragment")}e.exports=p},function(e,t,n){"use strict";var r={isImage:function(e){return"image"===a(e)[0]},isJpeg:function(e){var t=a(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function a(e){return e.split("/")}e.exports=r},function(e,t,n){"use strict";var r=n(18);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"==typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),a=0;a<t;a++)n[a]=e[a];return n}(e):[e]}},function(e,t,n){"use strict";var r=n(36),a=n(745),o=n(749),i=n(750),s=n(751),l=n(752),c=n(754),u=n(755),d=n(756),f=n(757),p=n(758),h=n(772),m=n(371),_=r.isBrowser("Chrome"),g=r.isBrowser("Firefox"),b=_||g?m:function(e){},y={onBeforeInput:a,onBlur:o,onCompositionStart:i,onCopy:s,onCut:l,onDragOver:c,onDragStart:u,onFocus:d,onInput:f,onKeyDown:p,onPaste:h,onSelect:m,onMouseUp:b,onKeyUp:b};e.exports=y},function(e,t,n){"use strict";var r=n(34),a=n(21),o=n(36),i=n(250),s=n(176),l=n(746),c=n(35),u=n(747),d=o.isBrowser("Firefox");function f(e,t,n,o,i){var s=r.replaceText(e.getCurrentContent(),e.getSelection(),t,n,o);return a.push(e,s,"insert-characters",i)}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,r=t.data;if(r)if(e.props.handleBeforeInput&&s(e.props.handleBeforeInput(r,n,t.timeStamp)))t.preventDefault();else{var o=n.getSelection(),p=o.getStartOffset(),h=o.getAnchorKey();if(!o.isCollapsed())return t.preventDefault(),void e.update(f(n,r,n.getCurrentInlineStyle(),i(n.getCurrentContent(),n.getSelection()),!0));var m,_=f(n,r,n.getCurrentInlineStyle(),i(n.getCurrentContent(),n.getSelection()),!1),g=!1;if(g||(g=l(e._latestCommittedEditorState)),!g){var b=n.getBlockTree(h),y=_.getBlockTree(h);g=b.size!==y.size||b.zip(y).some((function(e){var t=e[0],n=e[1],a=t.get("start"),o=a+(a>=p?r.length:0),i=t.get("end"),s=i+(i>=p?r.length:0),l=n.get("start"),c=n.get("end"),u=n.get("decoratorKey");return t.get("decoratorKey")!==u||t.get("leaves").size!==n.get("leaves").size||o!==l||s!==c||null!=u&&c-l!=i-a}))}if(g||(m=r,g=d&&("'"==m||"/"==m)),g||(g=c(_.getDirectionMap()).get(h)!==c(n.getDirectionMap()).get(h)),g)return t.preventDefault(),_=a.set(_,{forceSelection:!0}),void e.update(_);_=a.set(_,{nativelyRenderedContent:_.getCurrentContent()}),e._pendingStateFromBeforeInput=_,u((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),a=t.getStartOffset(),o=!1;return r.some((function(e){return a===e.get("start")?(o=!0,!0):a<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return a===t&&(o=!0,!0)}))})),o}},function(e,t,n){"use strict";(function(t){n(748),e.exports=t.setImmediate}).call(this,n(54))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a,o,i,s,l=1,c={},u=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(i="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&h(+t.data.slice(i.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(a=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):r=function(e){setTimeout(h,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return c[l]=a,r(l),l++},f.clearImmediate=p}function p(e){delete c[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(54),n(148))},function(e,t,n){"use strict";var r=n(21),a=n(251),o=n(381);e.exports=function(e,t){var n=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&o(n)===n.body){var i=n.defaultView.getSelection(),s=e.editor;1===i.rangeCount&&a(s,i.anchorNode)&&a(s,i.focusNode)&&i.removeAllRanges()}var l=e._latestEditorState,c=l.getSelection();if(c.getHasFocus()){var u=c.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(r.acceptSelection(l,u))}}},function(e,t,n){"use strict";var r=n(21);e.exports=function(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},function(e,t,n){"use strict";var r=n(388);e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},function(e,t,n){"use strict";var r=n(34),a=n(21),o=n(174),i=n(388),s=n(175),l=n(753);e.exports=function(e,t){var n,c=e._latestEditorState,u=c.getSelection(),d=t.target;if(u.isCollapsed())t.preventDefault();else{if(l(d)){var f=d;n=s(o.getScrollParent(f))}var p=i(c);e.setClipboard(p),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(n),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return a.push(e,t,"remove-range")}(c))}),0)}}},function(e,t,n){"use strict";e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},function(e,t,n){"use strict";e.exports=function(e,t){e.setMode("drag"),t.preventDefault()}},function(e,t,n){"use strict";e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},function(e,t,n){"use strict";var r=n(21),a=n(36);e.exports=function(e,t){var n=e._latestEditorState,o=n.getSelection();if(!o.getHasFocus()){var i=o.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),a.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(n,i)):e.update(r.acceptSelection(n,i))}}},function(e,t,n){"use strict";var r=n(34),a=n(66),o=n(21),i=n(36),s=n(377).notEmptyKey,l=n(171),c=n(389),u=n(35),d=i.isEngine("Gecko");e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor.ownerDocument.defaultView.getSelection(),i=n.anchorNode,f=n.isCollapsed,p=(null==i?void 0:i.nodeType)!==Node.TEXT_NODE&&(null==i?void 0:i.nodeType)!==Node.ELEMENT_NODE;if(null!=i&&!p){if(i.nodeType===Node.TEXT_NODE&&(null!==i.previousSibling||null!==i.nextSibling)){var h=i.parentNode;if(null==h)return;i.nodeValue=h.textContent;for(var m=h.firstChild;null!=m;m=m.nextSibling)m!==i&&h.removeChild(m)}var _=i.textContent,g=e._latestEditorState,b=u(l(i)),y=a.decode(b),v=y.blockKey,A=y.decoratorKey,w=y.leafKey,k=g.getBlockTree(v).getIn([A,"leaves",w]),E=k.start,x=k.end,O=g.getCurrentContent(),C=O.getBlockForKey(v),j=C.getText().slice(E,x);if(_.endsWith("\n\n")&&(_=_.slice(0,-1)),_!==j){var D,N,S,T,M=g.getSelection(),P=M.merge({anchorOffset:E,focusOffset:x,isBackward:!1}),B=C.getEntityAt(E),I=s(B)?O.getEntity(B):null,L="MUTABLE"===(null!=I?I.getMutability():null),U=L?"spellcheck-change":"apply-entity",R=r.replaceText(O,P,_,C.getInlineStyleAt(E),L?C.getEntityAt(E):null);if(d)D=n.anchorOffset,N=n.focusOffset,T=(S=E+Math.min(D,N))+Math.abs(D-N),D=S,N=T;else{var F=_.length-j.length;S=M.getStartOffset(),T=M.getEndOffset(),D=f?T+F:S,N=T+F}var z=R.merge({selectionBefore:O.getSelectionAfter(),selectionAfter:M.merge({anchorOffset:D,focusOffset:N})});e.update(o.push(g,z,U))}else{var Q=t.nativeEvent.inputType;if(Q){var H=function(e,t){switch(e){case"deleteContentBackward":return c(t)}return t}(Q,g);if(H!==g)return e.restoreEditorDOM(),void e.update(H)}}}}},function(e,t,n){"use strict";var r=n(34),a=n(21),o=n(255),i=n(173),s=n(760),l=n(36),c=n(176),u=n(761),d=n(763),f=n(765),p=n(766),h=n(767),m=n(768),_=n(389),g=n(769),b=n(770),y=n(771),v=o.isOptionKeyCommand,A=l.isBrowser("Chrome");e.exports=function(e,t){var n=t.which,o=e._latestEditorState;function l(n){var r=e.props[n];return!!r&&(r(t),!0)}switch(n){case i.RETURN:if(t.preventDefault(),e.props.handleReturn&&c(e.props.handleReturn(t,o)))return;break;case i.ESC:if(t.preventDefault(),l("onEscape"))return;break;case i.TAB:if(l("onTab"))return;break;case i.UP:if(l("onUpArrow"))return;break;case i.RIGHT:if(l("onRightArrow"))return;break;case i.DOWN:if(l("onDownArrow"))return;break;case i.LEFT:if(l("onLeftArrow"))return;break;case i.SPACE:A&&v(t)&&t.preventDefault()}var w=e.props.keyBindingFn(t);if(null!=w&&""!==w)if("undo"!==w){if(t.preventDefault(),!e.props.handleKeyCommand||!c(e.props.handleKeyCommand(w,o,t.timeStamp))){var k=function(e,t,n){switch(e){case"redo":return a.redo(t);case"delete":return g(t);case"delete-word":return f(t);case"backspace":return _(t);case"backspace-word":return d(t);case"backspace-to-start-of-line":return u(t,n);case"split-block":return p(t);case"transpose-characters":return b(t);case"move-selection-to-start-of-block":return m(t);case"move-selection-to-end-of-block":return h(t);case"secondary-cut":return s.cut(t);case"secondary-paste":return s.paste(t);default:return t}}(w,o,t);k!==o&&e.update(k)}}else y(t,o,e.update);else if(n===i.SPACE&&A&&v(t)){var E=r.replaceText(o.getCurrentContent(),o.getSelection()," ");e.update(a.push(o,E,"insert-characters"))}}},function(e,t,n){"use strict";var r=n(173);e.exports=function(e){return e.which===r.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},function(e,t,n){"use strict";var r=n(34),a=n(21),o=n(167),i=n(35),s=null,l={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),l=null;if(n.isCollapsed()){var c=n.getAnchorKey(),u=t.getBlockForKey(c).getLength();if(u===n.getAnchorOffset()){var d=t.getKeyAfter(c);if(null==d)return e;l=n.set("focusKey",d).set("focusOffset",0)}else l=n.set("focusOffset",u)}else l=n;l=i(l),s=o(t,l);var f=r.removeRange(t,l,"forward");return f===t?e:a.push(e,f,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return a.push(e,t,"insert-fragment")}};e.exports=l},function(e,t,n){"use strict";var r=n(21),a=n(762),o=n(375),i=n(253),s=n(126);e.exports=function(e,t){var n=s(e,(function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return i(e,1);var r=t.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=a(r),o(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}},function(e,t,n){"use strict";var r=n(83),a=n(172),o=n(390),i=n(18);function s(e,t){for(var n=1/0,r=1/0,a=-1/0,o=-1/0,i=0;i<e.length;i++){var s=e[i];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),a=Math.max(a,s.top),o=Math.max(o,s.bottom))}return a<=r&&a-n<t&&o-r<t}function l(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||i(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=a(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var o=n.body;o||i(!1),o.appendChild(r);var s=r.getBoundingClientRect();return o.removeChild(r),s.height}(t),c=e.endContainer,u=e.endOffset;for(e.setStart(e.startContainer,0);s(o(e),n)&&(c=e.startContainer,u=e.startOffset,c.parentNode||i(!1),e.setStartBefore(c),1!==c.nodeType||"inline"===getComputedStyle(c).display););for(var d=c,f=u-1;;){for(var p=d.nodeValue,h=f;h>=0;h--)if(!(null!=p&&h>0&&r.isSurrogatePair(p,h-1))){if(e.setStart(d,h),!s(o(e),n))break;c=d,u=h}if(-1===h||0===d.childNodes.length)break;f=l(d=d.childNodes[h])}return e.setStart(c,u),e}},function(e,t,n){"use strict";var r=n(391),a=n(21),o=n(253),i=n(126);e.exports=function(e){var t=i(e,(function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return o(e,1);var a=t.getStartKey(),i=e.getCurrentContent().getBlockForKey(a).getText().slice(0,n),s=r.getBackward(i);return o(e,s.length||1)}),"backward");return t===e.getCurrentContent()?e:a.push(e,t,"remove-range")}},function(e,t,n){"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}},function(e,t,n){"use strict";var r=n(391),a=n(21),o=n(392),i=n(126);e.exports=function(e){var t=i(e,(function(e){var t=e.getSelection(),n=t.getStartOffset(),a=t.getStartKey(),i=e.getCurrentContent().getBlockForKey(a).getText().slice(n),s=r.getForward(i);return o(e,s.length||1)}),"forward");return t===e.getCurrentContent()?e:a.push(e,t,"remove-range")}},function(e,t,n){"use strict";var r=n(34),a=n(21);e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return a.push(e,t,"split-block")}},function(e,t,n){"use strict";var r=n(21);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),a=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:a,focusKey:n,focusOffset:a,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(21);e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(21),a=n(83),o=n(392),i=n(126);e.exports=function(e){var t=i(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),i=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[i];return o(e,s?a.getUTF16Length(s,0):1)}),"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},function(e,t,n){"use strict";var r=n(34),a=n(21),o=n(167);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var i,s,l=t.getAnchorKey(),c=e.getCurrentContent(),u=c.getBlockForKey(l).getLength();if(u<=1)return e;n===u?(i=t.set("anchorOffset",n-1),s=t):s=(i=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var d=o(c,i),f=r.removeRange(c,i,"backward"),p=f.getSelectionAfter(),h=p.getAnchorOffset()-1,m=p.merge({anchorOffset:h,focusOffset:h}),_=r.replaceWithFragment(f,m,d),g=a.push(e,_,"insert-fragment");return a.acceptSelection(g,s)}},function(e,t,n){"use strict";var r=n(21);e.exports=function(e,t,n){var a=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout((function(){n(a)}),0)):n(a);else{var o=a.getCurrentContent();n(r.set(a,{nativelyRenderedContent:o}))}}},function(e,t,n){"use strict";var r=n(123),a=n(39),o=n(385),i=n(34),s=n(773),l=n(21),c=n(395),u=n(250),d=n(387),f=n(176),p=n(778);function h(e,t,n){var r=i.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return l.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var n=new o(t.clipboardData);if(!n.isRichText()){var m=n.getFiles(),_=n.getText();if(m.length>0){if(e.props.handlePastedFiles&&f(e.props.handlePastedFiles(m)))return;return void d(m,(function(t){if(t=t||_){var n=e._latestEditorState,o=p(t),d=a.create({style:n.getCurrentInlineStyle(),entity:u(n.getCurrentContent(),n.getSelection())}),f=c.getCurrentBlockType(n),h=s.processText(o,d,f),m=r.createFromArray(h),g=i.replaceWithFragment(n.getCurrentContent(),n.getSelection(),m);e.update(l.push(n,g,"insert-fragment"))}}))}}var g=[],b=n.getText(),y=n.getHTML(),v=e._latestEditorState;if(e.props.formatPastedText){var A=e.props.formatPastedText(b,y);b=A.text,y=A.html}if(!e.props.handlePastedText||!f(e.props.handlePastedText(b,y,v))){if(b&&(g=p(b)),!e.props.stripPastedStyles){var w,k=e.getClipboard();if(!e.props.formatPastedText&&n.isRichText()&&k){if(-1!==(null===(w=y)||void 0===w?void 0:w.indexOf(e.getEditorKey()))||1===g.length&&1===k.size&&k.first().getText()===b)return void e.update(h(e._latestEditorState,k))}else if(k&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,n){return t.getText()===e[n]}))}(g,k))return void e.update(h(e._latestEditorState,k));if(y){var E=s.processHTML(y,e.props.blockRenderMap);if(E){var x=E.contentBlocks,O=E.entityMap;if(x){var C=r.createFromArray(x);return void e.update(h(e._latestEditorState,C,O))}}}e.setClipboard(null)}if(g.length){var j=a.create({style:v.getCurrentInlineStyle(),entity:u(v.getCurrentContent(),v.getSelection())}),D=c.getCurrentBlockType(v),N=s.processText(g,j,D),S=r.createFromArray(N);e.update(h(e._latestEditorState,S))}}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(80),o=n(40),i=n(393),s=n(58),l=n(394),c=n(75),u=n(17),d=n(367),f=u.List,p=u.Repeat,h=c("draft_tree_data_support"),m=h?o:a,_={processHTML:function(e,t){return i(e,l,t)},processText:function(e,t,n){return e.reduce((function(e,a,o){a=d(a);var i=s(),l={key:i,type:n,text:a,characterList:f(p(t,a.length))};if(h&&0!==o){var c=o-1;l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},l,{prevSibling:(e[c]=e[c].merge({nextSibling:i})).getKey()})}return e.push(new m(l)),e}),[])}};e.exports=_},function(e,t,n){"use strict";var r=function(){function e(e){var t,n;n=void 0,(t="_uri")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this._uri=e}return e.prototype.toString=function(){return this._uri},e}();e.exports=r},function(e,t,n){"use strict";var r=n(82);e.exports=function(e){return!(!e||!e.ownerDocument)&&r(e)&&"A"===e.nodeName}},function(e,t,n){"use strict";var r=n(82);e.exports=function(e){return!(!e||!e.ownerDocument)&&r(e)&&"IMG"===e.nodeName}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var a=t.getStartKey(),o=t.getEndKey(),i=e.getBlockMap(),s=i.toSeq().skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===o})).concat([[o,i.get(o)]]).map((function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)}));return i=i.merge(s),e.merge({blockMap:i,selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=/\r\n?|\n/g;e.exports=function(e){return e.split(r)}},function(e,t,n){"use strict";var r=n(15).unstable_flushControlled;e.exports=r},function(e,t,n){"use strict";var r=n(0),a=n(81),o=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},i.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=a({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:a("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},o}(r.Component);e.exports=o},function(e,t,n){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(80),o=n(40),i=n(397),s=n(783),l=n(784),c=n(18),u=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:l(e),entityRanges:s(e,t),data:e.getData().toObject()}},d=function(e,t,n,i){if(e instanceof a)n.push(u(e,t));else{e instanceof o||c(!1);var s=e.getParentKey(),l=i[e.getKey()]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},u(e,t),{children:[]});s?i[s].children.push(l):n.push(l)}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var n=t.entityMap,r=[],a={},o={},s=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(t){var r=e.getEntityAt(t),a=i.stringify(r);o[a]||(o[a]=r,n[a]="".concat(s),s++)})),d(e,n,r,a)})),{blocks:r,entityMap:n}}(e,t),function(e,t){var n=t.blocks,r=t.entityMap,a={};return Object.keys(r).forEach((function(t,n){var r=e.getEntity(i.unstringify(t));a[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}})),{blocks:n,entityMap:a}}(e,t)}},function(e,t,n){"use strict";var r=n(397),a=n(83).strlen;e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(o,i){var s=e.getText(),l=e.getEntityAt(o);n.push({offset:a(s.slice(0,o)),length:a(s.slice(o,i)),key:Number(t[r.stringify(l)])})})),n}},function(e,t,n){"use strict";var r=n(83),a=n(124),o=function(e,t){return e===t},i=function(e){return!!e},s=[];e.exports=function(e){var t=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),n=t.flatten().toSet().map((function(n){return function(e,t,n){var s=[],l=t.map((function(e){return e.has(n)})).toList();return a(l,o,i,(function(t,a){var o=e.getText();s.push({offset:r.strlen(o.slice(0,t)),length:r.strlen(o.slice(t,a)),style:n})})),s}(e,t,n)}));return Array.prototype.concat.apply(s,n.toJS())}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(80),i=n(40),s=n(247),l=n(168),c=n(786),u=(n(787),n(169)),d=n(788),f=n(789),p=n(790),h=n(58),m=n(75),_=n(17),g=n(18),b=m("draft_tree_data_support"),y=_.List,v=_.Map,A=_.OrderedMap,w=function(e,t){var n=e.key,r=e.type,a=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||h(),data:v(a),characterList:k(e,t)}},k=function(e,t){var n=e.text,a=e.entityRanges,o=e.inlineStyleRanges,i=a||[];return d(p(n,o||[]),f(n,i.filter((function(e){return t.hasOwnProperty(e.key)})).map((function(e){return r({},e,{key:t[e.key]})}))))},E=function(e){return r({},e,{key:e.key||h()})},x=function(e,t,n){var a=t.map((function(e){return r({},e,{parentRef:n})}));return e.concat(a.reverse())},O=function(e,t){var n=e.blocks.find((function(e){return Array.isArray(e.children)&&e.children.length>0})),a=b&&!n?c.fromRawStateToRawTreeState(e).blocks:e.blocks;return b?function(e,t){return e.map(E).reduce((function(n,a,o){Array.isArray(a.children)||g(!1);var s=a.children.map(E),l=new i(r({},w(a,t),{prevSibling:0===o?null:e[o-1].key,nextSibling:o===e.length-1?null:e[o+1].key,children:y(s.map((function(e){return e.key})))}));n=n.set(l.getKey(),l);for(var c=x([],s,l);c.length>0;){var u=c.pop(),d=u.parentRef,f=d.getChildKeys(),p=f.indexOf(u.key),h=Array.isArray(u.children);if(!h){h||g(!1);break}var m=u.children.map(E),_=new i(r({},w(u,t),{parent:d.getKey(),children:y(m.map((function(e){return e.key}))),prevSibling:0===p?null:f.get(p-1),nextSibling:p===f.size-1?null:f.get(p+1)}));n=n.set(_.getKey(),_),c=x(c,m,_)}return n}),A())}(a,t):function(e,t){return A(e.map((function(e){var n=new o(w(e,t));return[n.getKey(),n]})))}(n?c.fromRawTreeStateToRawState(e).blocks:a,t)};e.exports=function(e){Array.isArray(e.blocks)||g(!1);var t=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach((function(e){var r=t[e],a=r.type,o=r.mutability,i=r.data;n[e]=l.__create(a,o,i||{})})),n}(e),n=O(e,t),r=n.isEmpty()?new u:u.createEmpty(n.first().getKey());return new s({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(58),i=n(18),s=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},l={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||i(!1),Array.isArray(t)&&t.length?(function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var a=r.children;Array.isArray(a)||i(!1),n=n.concat([].concat(a.reverse()))}}(t,(function(e){var t=r({},e);s(e)&&(t.depth=t.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t})))}(e),null!=e.children&&e.children.length>0)||(delete t.children,n.push(t))})),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t=[],n=[];return e.blocks.forEach((function(e){var a=s(e),i=e.depth||0,l=r({},e,{children:[]});if(a){var c=n[0];if(null==c&&0===i)t.push(l);else if(null==c||c.depth<i-1){var u={key:o(),text:"",depth:i-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(u),1===i?t.push(u):null!=c&&c.children.push(u),u.children.push(l)}else if(c.depth===i-1)c.children.push(l);else{for(;null!=c&&c.depth>=i;)n.shift(),c=n[0];i>0?c.children.push(l):t.push(l)}}else t.push(l)})),r({},e,{blocks:t})}};e.exports=l},function(e,t,n){"use strict";n(254);e.exports={isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r&&!t.get(r).getChildKeys().includes(n))return!1;if(!e.getChildKeys().map((function(e){return t.get(e)})).every((function(e){return e.getParentKey()===n})))return!1;var a=e.getPrevSiblingKey();if(null!=a&&t.get(a).getNextSiblingKey()!==n)return!1;var o=e.getNextSiblingKey();return(null==o||t.get(o).getPrevSiblingKey()===n)&&!(null!==o&&null!==a&&a===o||""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter((function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()}));if(1!==t.length)return!1;for(var n=0,r=t.shift().getKey(),a=[];null!=r;){var o=e.get(r),i=o.getChildKeys(),s=o.getNextSiblingKey();if(i.size>0){null!=s&&a.unshift(s);var l=i.map((function(t){return e.get(t)})).find((function(e){return null==e.getPrevSiblingKey()}));if(null==l)return!1;r=l.getKey()}else r=null!=o.getNextSiblingKey()?o.getNextSiblingKey():a.shift();n++}return n===e.size},isValidTree:function(e){var t=this;return!!e.toArray().every((function(n){return t.isValidBlock(n,e)}))&&this.isConnectedTree(e)}}},function(e,t,n){"use strict";var r=n(39),a=n(17).List;e.exports=function(e,t){var n=e.map((function(e,n){var a=t[n];return r.create({style:e,entity:a})}));return a(n)}},function(e,t,n){"use strict";var r=n(83).substr;e.exports=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var a=r(e,0,t.offset).length,o=a+r(e,t.offset,t.length).length,i=a;i<o;i++)n[i]=t.key})),n}},function(e,t,n){"use strict";var r=n(83),a=n(17).OrderedSet,o=r.substr,i=a();e.exports=function(e,t){var n=Array(e.length).fill(i);return t&&t.forEach((function(t){for(var r=o(e,0,t.offset).length,a=r+o(e,t.offset,t.length).length;r<a;)n[r]=n[r].add(t.style),r++})),n}},function(e,t,n){"use strict";var r=n(792);e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),a=r(n),o=a.top,i=a.right,s=a.bottom,l=a.left;return 0===o&&0===i&&0===s&&0===l?null:a}},function(e,t,n){"use strict";var r=n(390);e.exports=function(e){var t=r(e),n=0,a=0,o=0,i=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];n=s.top,a=s.right,o=s.bottom,i=s.left}else{var l=t[0];n=l.top,a=l.right,o=l.bottom,i=l.left}for(var c=1;c<t.length;c++){var u=t[c];0!==u.height&&0!==u.width&&(n=Math.min(n,u.top),a=Math.max(a,u.right),o=Math.max(o,u.bottom),i=Math.min(i,u.left))}}return{top:n,right:a,bottom:o,left:i,width:a-i,height:o-n}}},function(e,t,n){window,e.exports=function(e,t,n){return o={},r.m=a=[function(e,t,n){e.exports=n(9)()},function(t,n){t.exports=e},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"==o||"number"==o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"==o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,n){e.exports=t},function(e,t,n){function r(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var a,o,i,s;window,e.exports=(a=n(3),o=n(5),s={},r.m=i=[function(e,t){e.exports=a},function(e,t){e.exports=o},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1);function o(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getStartKey(),a=t.getEndKey(),o=n.getBlockMap();return o.toSeq().skipUntil((function(e,t){return t===r})).takeUntil((function(e,t){return t===a})).concat([[a,o.get(a)]])}function i(e){return o(e).toList()}function s(e){if(e)return i(e).get(0)}function l(e){if(e){var t=s(e),n=e.getCurrentContent().getBlockMap().toSeq().toList(),r=0;if(n.forEach((function(e,n){e.get("key")===t.get("key")&&(r=n-1)})),-1<r)return n.get(r)}}function c(e){return e?e.getCurrentContent().getBlockMap().toList():new a.List}function u(e){var t=i(e);if(!t.some((function(e){return e.type!==t.get(0).type})))return t.get(0).type}function d(e){var t=r.RichUtils.tryToRemoveBlockStyle(e);return t?r.EditorState.push(e,t,"change-block-type"):e}function f(e){var t="",n=e.getSelection(),r=n.getAnchorOffset(),a=n.getFocusOffset(),o=i(e);if(0<o.size){if(n.getIsBackward()){var s=r;r=a,a=s}for(var l=0;l<o.size;l+=1){var c=0===l?r:0,u=l===o.size-1?a:o.get(l).getText().length;t+=o.get(l).getText().slice(c,u)}}return t}function p(e){var t=e.getCurrentContent(),n=e.getSelection(),a=r.Modifier.removeRange(t,n,"forward"),o=a.getSelectionAfter(),i=a.getBlockForKey(o.getStartKey());return a=r.Modifier.insertText(a,o,"\n",i.getInlineStyleAt(o.getStartOffset()),null),r.EditorState.push(e,a,"insert-fragment")}function h(e){var t=r.Modifier.splitBlock(e.getCurrentContent(),e.getSelection());return d(r.EditorState.push(e,t,"split-block"))}function m(e){var t=e.getCurrentContent().getBlockMap().toList(),n=e.getSelection().merge({anchorKey:t.first().get("key"),anchorOffset:0,focusKey:t.last().get("key"),focusOffset:t.last().getLength()}),a=r.Modifier.removeRange(e.getCurrentContent(),n,"forward");return r.EditorState.push(e,a,"remove-range")}function _(e,t){var n=r.Modifier.setBlockData(e.getCurrentContent(),e.getSelection(),t);return r.EditorState.push(e,n,"change-block-data")}function g(e){var t=new a.Map({}),n=i(e);if(n&&0<n.size)for(var r=function(e){var r=n.get(e).getData();if(!r||0===r.size)return t=t.clear(),"break";if(0===e)t=r;else if(t.forEach((function(e,n){r.get(n)&&r.get(n)===e||(t=t.delete(n))})),0===t.size)return t=t.clear(),"break"},o=0;o<n.size&&"break"!==r(o);o+=1);return t}var b=Object(a.Map)({code:{element:"pre"}}),y=r.DefaultDraftBlockRenderMap.merge(b);function v(e){if(e){var t=e.getType();return"unordered-list-item"===t||"ordered-list-item"===t}return!1}function A(e,t,n){var a,i=e.getSelection();a=i.getIsBackward()?i.getFocusKey():i.getAnchorKey();var s=e.getCurrentContent(),l=s.getBlockForKey(a),c=l.getType();if("unordered-list-item"!==c&&"ordered-list-item"!==c)return e;var u=s.getBlockBefore(a);if(!u)return e;if(u.getType()!==c)return e;var d=l.getDepth();if(1===t&&d===n)return e;var f,p,h,m,_,g,b,y=Math.min(u.getDepth()+1,n),v=(p=t,h=y,m=(f=e).getSelection(),g=(_=f.getCurrentContent()).getBlockMap(),b=o(f).map((function(e){var t=e.getDepth()+p;return t=Math.max(0,Math.min(t,h)),e.set("depth",t)})),g=g.merge(b),_.merge({blockMap:g,selectionBefore:m,selectionAfter:m}));return r.EditorState.push(e,v,"adjust-depth")}function w(e,t){var n;return 13===(n=t).which&&(n.getModifierState("Shift")||n.getModifierState("Alt")||n.getModifierState("Control"))?e.getSelection().isCollapsed()?r.RichUtils.insertSoftNewline(e):p(e):function(e){var t=e.getSelection();if(t.isCollapsed()){var n=e.getCurrentContent(),r=t.getStartKey(),a=n.getBlockForKey(r);if(!v(a)&&"unstyled"!==a.getType()&&a.getLength()===t.getStartOffset())return h(e);if(v(a)&&0===a.getLength()){var o=a.getDepth();if(0===o)return d(e);if(0<o)return A(e,-1,o)}}}(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){var t=e.getSelection();if(t.isCollapsed()){var n={},r=e.getCurrentInlineStyle().toList().toJS();if(r)return["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach((function(e){n[e]=0<=r.indexOf(e)})),n}var a=t.getStartOffset(),o=t.getEndOffset(),s=i(e);if(0<s.size){var l=function(){for(var e={BOLD:!0,ITALIC:!0,UNDERLINE:!0,STRIKETHROUGH:!0,CODE:!0,SUPERSCRIPT:!0,SUBSCRIPT:!0},t=0;t<s.size;t+=1){var n=0===t?a:0,r=t===s.size-1?o:s.get(t).getText().length;n===r&&0===n?(n=1,r=2):n===r&&--n;for(var i=function(n){var r=s.get(t).getInlineStyleAt(n);["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach((function(t){e[t]=e[t]&&r.get(t)===t}))},l=n;l<r;l+=1)i(l)}return{v:e}}();if("object"===x(l))return l.v}return{}}function C(e){var t,n=e.getSelection(),r=n.getStartOffset(),a=n.getEndOffset();r===a&&0===r?a=1:r===a&&--r;for(var o=s(e),i=r;i<a;i+=1){var l=o.getEntityAt(i);if(!l){t=void 0;break}if(i===r)t=l;else if(t!==l){t=void 0;break}}return t}function j(e,t){var n,r=s(e);return r.findEntityRanges((function(e){return e.get("entity")===t}),(function(e,t){n={start:e,end:t,text:r.get("text").slice(e,t)}})),n}function D(e,t,n){S[e]["".concat(e.toLowerCase(),"-").concat(n)]=E({},"".concat(t),n)}function N(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},S.color,{},S.bgcolor,{},S.fontSize,{},S.fontFamily,{CODE:S.CODE,SUPERSCRIPT:S.SUPERSCRIPT,SUBSCRIPT:S.SUBSCRIPT})}var S={color:{},bgcolor:{},fontSize:{},fontFamily:{},CODE:{fontFamily:"monospace",wordWrap:"break-word",background:"#f1f1f1",borderRadius:3,padding:"1px 3px"},SUPERSCRIPT:{fontSize:11,position:"relative",top:-8,display:"inline-flex"},SUBSCRIPT:{fontSize:11,position:"relative",bottom:-8,display:"inline-flex"}};function T(e,t,n){var a=e.getSelection(),o=Object.keys(S[t]).reduce((function(e,t){return r.Modifier.removeInlineStyle(e,a,t)}),e.getCurrentContent()),i=r.EditorState.push(e,o,"changeinline-style"),s=e.getCurrentInlineStyle();if(a.isCollapsed()&&(i=s.reduce((function(e,t){return r.RichUtils.toggleInlineStyle(e,t)}),i)),"SUPERSCRIPT"===t||"SUBSCRIPT"==t)s.has(n)||(i=r.RichUtils.toggleInlineStyle(i,n));else{var l="bgcolor"===t?"backgroundColor":t;s.has("".concat(l,"-").concat(n))||(i=r.RichUtils.toggleInlineStyle(i,"".concat(t.toLowerCase(),"-").concat(n)),D(t,l,n))}return i}function M(e){e&&e.getCurrentContent().getBlockMap().map((function(e){return e.get("characterList")})).toList().flatten().forEach((function(e){e&&0===e.indexOf("color-")?D("color","color",e.substr(6)):e&&0===e.indexOf("bgcolor-")?D("bgcolor","backgroundColor",e.substr(8)):e&&0===e.indexOf("fontsize-")?D("fontSize","fontSize",+e.substr(9)):e&&0===e.indexOf("fontfamily-")&&D("fontFamily","fontFamily",e.substr(11))}))}function P(e,t,n){var r=e.getInlineStyleAt(n).toList().filter((function(e){return e.startsWith(t.toLowerCase())}));if(r&&0<r.size)return r.get(0)}function B(e,t){if(e&&t&&0<t.length){var n=function(){var n=e.getSelection(),r={};if(n.isCollapsed())return t.forEach((function(t){r[t]=function(e,t){var n=e.getCurrentInlineStyle().toList().filter((function(e){return e.startsWith(t.toLowerCase())}));if(n&&0<n.size)return n.get(0)}(e,t)})),{v:r};var a=n.getStartOffset(),o=n.getEndOffset(),s=i(e);if(0<s.size){for(var l=function(e){var n=0===e?a:0,i=e===s.size-1?o:s.get(e).getText().length;n===i&&0===n?(n=1,i=2):n===i&&--n;for(var l=function(a){a===n?t.forEach((function(t){r[t]=P(s.get(e),t,a)})):t.forEach((function(t){r[t]&&r[t]!==P(s.get(e),t,a)&&(r[t]=void 0)}))},c=n;c<i;c+=1)l(c)},c=0;c<s.size;c+=1)l(c);return{v:r}}}();if("object"===x(n))return n.v}return{}}function I(e){var t=e.getCurrentInlineStyle(),n=e.getCurrentContent();return t.forEach((function(t){n=r.Modifier.removeInlineStyle(n,e.getSelection(),t)})),r.EditorState.push(e,n,"change-inline-style")}n.d(t,"isListBlock",(function(){return v})),n.d(t,"changeDepth",(function(){return A})),n.d(t,"handleNewLine",(function(){return w})),n.d(t,"getEntityRange",(function(){return j})),n.d(t,"getCustomStyleMap",(function(){return N})),n.d(t,"toggleCustomInlineStyle",(function(){return T})),n.d(t,"getSelectionEntity",(function(){return C})),n.d(t,"extractInlineStyle",(function(){return M})),n.d(t,"removeAllInlineStyles",(function(){return I})),n.d(t,"getSelectionInlineStyle",(function(){return O})),n.d(t,"getSelectionCustomInlineStyle",(function(){return B})),n.d(t,"getSelectedBlocksMap",(function(){return o})),n.d(t,"getSelectedBlocksList",(function(){return i})),n.d(t,"getSelectedBlock",(function(){return s})),n.d(t,"getBlockBeforeSelectedBlock",(function(){return l})),n.d(t,"getAllBlocks",(function(){return c})),n.d(t,"getSelectedBlocksType",(function(){return u})),n.d(t,"removeSelectedBlocksStyle",(function(){return d})),n.d(t,"getSelectionText",(function(){return f})),n.d(t,"addLineBreakRemovingSelection",(function(){return p})),n.d(t,"insertNewUnstyledBlock",(function(){return h})),n.d(t,"clearEditorContent",(function(){return m})),n.d(t,"setBlockData",(function(){return _})),n.d(t,"getSelectedBlocksMetadata",(function(){return g})),n.d(t,"blockRenderMap",(function(){return y}))}],r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2))},function(e,t){e.exports=n},function(e,t,n){function r(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var a,o,i,s;window,e.exports=(a=n(5),o=n(3),s={},r.m=i=[function(e,t){e.exports=a},function(e,t){e.exports=o},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),o=function(e,t,n){var r,o=e.textContent;return""===o.trim()?{chunk:(r=n,{text:" ",inlines:[new a.OrderedSet],entities:[r],blocks:[]})}:{chunk:{text:o,inlines:Array(o.length).fill(t),entities:Array(o.length).fill(n),blocks:[]}}},i=function(){return{text:"\n",inlines:[new a.OrderedSet],entities:new Array(1),blocks:[]}},s=function(e,t){return{text:"",inlines:[],entities:[],blocks:[{type:e,depth:0,data:t||new a.Map({})}]}},l=function(e,t,n){return{text:"\r",inlines:[],entities:[],blocks:[{type:e,depth:Math.max(0,Math.min(4,t)),data:n||new a.Map({})}]}},c=function(e){return{text:"\r ",inlines:[new a.OrderedSet],entities:[e],blocks:[{type:"atomic",depth:0,data:new a.Map({})}]}},u=function(e,t){return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},d=new a.Map({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:"ul"},"ordered-list-item":{element:"li",wrapper:"ol"},blockquote:{element:"blockquote"},code:{element:"pre"},atomic:{element:"figure"},unstyled:{element:"p",aliasedElements:["div"]}}),f={code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",strong:"BOLD",ins:"UNDERLINE",sub:"SUBSCRIPT",sup:"SUPERSCRIPT"};function p(e){return e.style.textAlign?new a.Map({"text-align":e.style.textAlign}):e.style.marginLeft?new a.Map({"margin-left":e.style.marginLeft}):void 0}var h=function(e){var t=void 0;if(e instanceof HTMLAnchorElement){var n={};t=e.dataset&&void 0!==e.dataset.mention?(n.url=e.href,n.text=e.innerHTML,n.value=e.dataset.value,r.Entity.__create("MENTION","IMMUTABLE",n)):(n.url=e.getAttribute&&e.getAttribute("href")||e.href,n.title=e.innerHTML,n.targetOption=e.target,r.Entity.__create("LINK","MUTABLE",n))}return t};n.d(t,"default",(function(){return g}));var m=new RegExp("&nbsp;","g"),_=!0;function g(e,t){var n,g,b=(n=t,(g=function(e){var t,n=null;return document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}(e.trim().replace(m," ")))?(_=!0,{chunk:function e(t,n,a,m,g,b){var y=t.nodeName.toLowerCase();if(b){var v=b(y,t);if(v){var A=r.Entity.__create(v.type,v.mutability,v.data||{});return{chunk:c(A)}}}if("#text"===y&&"\n"!==t.textContent)return o(t,n,g);if("br"===y)return{chunk:i()};if("img"===y&&t instanceof HTMLImageElement){var w={};w.src=t.getAttribute&&t.getAttribute("src")||t.src,w.alt=t.alt,w.height=t.style.height,w.width=t.style.width,t.style.float&&(w.alignment=t.style.float);var k=r.Entity.__create("IMAGE","MUTABLE",w);return{chunk:c(k)}}if("video"===y&&t instanceof HTMLVideoElement){var E={};E.src=t.getAttribute&&t.getAttribute("src")||t.src,E.alt=t.alt,E.height=t.style.height,E.width=t.style.width,t.style.float&&(E.alignment=t.style.float);var x=r.Entity.__create("VIDEO","MUTABLE",E);return{chunk:c(x)}}if("iframe"===y&&t instanceof HTMLIFrameElement){var O={};O.src=t.getAttribute&&t.getAttribute("src")||t.src,O.height=t.height,O.width=t.width;var C=r.Entity.__create("EMBEDDED_LINK","MUTABLE",O);return{chunk:c(C)}}var j,D=function(e,t){var n=d.filter((function(n){return n.element===e&&(!n.wrapper||n.wrapper===t)||n.wrapper===e||n.aliasedElements&&-1<n.aliasedElements.indexOf(e)})).keySeq().toSet().toArray();if(1===n.length)return n[0]}(y,m);D&&("ul"===y||"ol"===y?(m=y,a+=1):("unordered-list-item"!==D&&"ordered-list-item"!==D&&(m="",a=-1),_?(j=s(D,p(t)),_=!1):j=l(D,a,p(t)))),j=j||{text:"",inlines:[],entities:[],blocks:[]},n=function(e,t,n){var r,a=f[e];if(a)r=n.add(a).toOrderedSet();else if(t instanceof HTMLElement){var o=t;r=(r=n).withMutations((function(e){var t=o.style.color,n=o.style.backgroundColor,r=o.style.fontSize,a=o.style.fontFamily.replace(/^"|"$/g,""),i=o.style.fontWeight,s=o.style.textDecoration,l=o.style.fontStyle;t&&e.add("color-".concat(t.replace(/ /g,""))),n&&e.add("bgcolor-".concat(n.replace(/ /g,""))),r&&e.add("fontsize-".concat(r.replace(/px$/g,""))),a&&e.add("fontfamily-".concat(a)),"bold"===i&&e.add(f.strong),"underline"===s&&e.add(f.ins),"italic"===l&&e.add(f.em)})).toOrderedSet()}return r}(y,t,n);for(var N=t.firstChild;N;){var S=e(N,n,a,m,h(N)||g,b).chunk;j=u(j,S),N=N.nextSibling}return{chunk:j}}(g,new a.OrderedSet,-1,"",void 0,n).chunk}):null);if(b){var y=b.chunk,v=new a.OrderedMap({});y.entities&&y.entities.forEach((function(e){e&&(v=v.set(e,r.Entity.__get(e)))}));var A=0;return{contentBlocks:y.text.split("\r").map((function(e,t){var n=A+e.length,o=y&&y.inlines.slice(A,n),i=y&&y.entities.slice(A,n),s=new a.List(o.map((function(e,t){var n={style:e,entity:null};return i[t]&&(n.entity=i[t]),r.CharacterMetadata.create(n)})));return A=n,new r.ContentBlock({key:Object(r.genKey)(),type:y&&y.blocks[t]&&y.blocks[t].type||"unstyled",depth:y&&y.blocks[t]&&y.blocks[t].depth,data:y&&y.blocks[t]&&y.blocks[t].data||new a.Map({}),text:e,characterList:s})})),entityMap:v}}return null}}],r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2))},function(e,t,n){"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function a(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===a(e)}function i(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},l={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?3<=t&&":"===e[t-3]||3<=t&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function u(e){var t=e.re=n(21)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var l=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r,i={validate:null,link:null};if(e.__compiled__[t]=i,"[object Object]"===a(n))return"[object RegExp]"===a(n.validate)?i.validate=(r=n.validate,function(e,t){var n=e.slice(t);return r.test(n)?n.match(r)[0].length:0}):o(n.validate)?i.validate=n.validate:c(t,n),void(o(n.normalize)?i.normalize=n.normalize:n.normalize?c(t,n):i.normalize=function(e,t){t.normalize(e)});"[object String]"!==a(n)?c(t,n):l.push(t)}})),l.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var u,d=Object.keys(e.__compiled__).filter((function(t){return 0<t.length&&e.__compiled__[t]})).map(i).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),(u=e).__index__=-1,u.__text_cache__=""}function d(e,t){var n=e.__index__,r=e.__last_index__,a=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=a,this.text=a,this.url=a}function f(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},l,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},u(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,u(this),this},p.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,a,o,i,s,l;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(a=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+a;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&0<=(l=e.search(this.re.host_fuzzy_test))&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&0<=e.indexOf("@")&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,i=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=i)),0<=this.__index__},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];0<=this.__index__&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse():(this.__tlds__=e.slice(),this.__tlds_replaced__=!0),u(this),this},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},function(e,t,n){e.exports=n(40)},function(e,t,n){"use strict";var r=n(10);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";e.exports=function(e){var t={};return t.src_Any=n(22).source,t.src_Cc=n(23).source,t.src_Z=n(24).source,t.src_P=n(25).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|"),t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E44\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(3),l=n(4),c=n(2),u=n.n(c);function d(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),this.callBacks=[],this.suggestionCallback=void 0,this.editorFlag=!1,this.suggestionFlag=!1,this.closeAllModals=function(t){e.callBacks.forEach((function(e){e(t)}))},this.init=function(t){var n=document.getElementById(t);n&&n.addEventListener("click",(function(){e.editorFlag=!0})),document&&(document.addEventListener("click",(function(){e.editorFlag?e.editorFlag=!1:(e.closeAllModals(),e.suggestionCallback&&e.suggestionCallback())})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.closeAllModals()})))},this.onEditorClick=function(){e.closeModals(),!e.suggestionFlag&&e.suggestionCallback?e.suggestionCallback():e.suggestionFlag=!1},this.closeModals=function(t){e.closeAllModals(t)},this.registerCallBack=function(t){e.callBacks.push(t)},this.deregisterCallBack=function(t){e.callBacks=e.callBacks.filter((function(e){return e!==t}))},this.setSuggestionCallback=function(t){e.suggestionCallback=t},this.removeSuggestionCallback=function(){e.suggestionCallback=void 0},this.onSuggestionClick=function(){e.suggestionFlag=!0}}function f(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),this.inputFocused=!1,this.editorMouseDown=!1,this.onEditorMouseDown=function(){e.editorFocused=!0},this.onInputMouseDown=function(){e.inputFocused=!0},this.isEditorBlur=function(t){return"INPUT"!==t.target.tagName&&"LABEL"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName||e.editorFocused?!("INPUT"===t.target.tagName&&"LABEL"===t.target.tagName&&"TEXTAREA"===t.target.tagName||e.inputFocused||(e.editorFocused=!1)):!(e.inputFocused=!1)},this.isEditorFocused=function(){return!e.inputFocused||(e.inputFocused=!1)},this.isToolbarFocused=function(){return!e.editorFocused||(e.editorFocused=!1)},this.isInputFocused=function(){return e.inputFocused}}var p,h=[],m={onKeyDown:function(e){h.forEach((function(t){t(e)}))},registerCallBack:function(e){h.push(e)},deregisterCallBack:function(e){h=h.filter((function(t){return t!==e}))}},_=function(){p=!0},g=function(){p=!1},b=function(){return p};function y(e){var t=e.getData()&&e.getData().get("text-align");return t?"rdw-".concat(t,"-aligned-block"):""}function v(e,t){if(e)for(var n in e)!{}.hasOwnProperty.call(e,n)||t(n,e[n])}function A(e,t){var n=!1;if(e)for(var r in e)if({}.hasOwnProperty.call(e,r)&&t===r){n=!0;break}return n}function w(e){e.stopPropagation()}function k(e){return e[e.options[0]].icon}function E(e,t){if(e&&void 0===t)return e;var n={};return v(e,(function(e,r){var a;a=r,"[object Object]"===Object.prototype.toString.call(a)?n[e]=E(r,t[e]):n[e]=void 0!==t[e]?t[e]:r})),n}var x=n(6),O=n.n(x),C=n(5);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(11);var T=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=N(e)).call.apply(t,[this].concat(a)))).onClick=function(){var e=n.props,t=e.disabled,r=e.onClick,a=e.value;t||r(a)},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(e,r.Component),(t=[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.className,o=t.activeClassName,i=t.active,s=t.disabled,l=t.title;return a.a.createElement("div",{className:u()("rdw-option-wrapper",r,(D(e={},"rdw-option-active ".concat(o),i),D(e,"rdw-option-disabled",s),e)),onClick:this.onClick,"aria-selected":i,title:l},n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}T.propTypes={onClick:i.a.func.isRequired,children:i.a.any,value:i.a.string,className:i.a.string,activeClassName:i.a.string,active:i.a.bool,disabled:i.a.bool,title:i.a.string},T.defaultProps={activeClassName:""},n(12);var I=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=P(e)).call.apply(t,[this].concat(a)))).state={highlighted:-1},n.onChange=function(e){var t=n.props.onChange;t&&t(e),n.toggleExpansion()},n.setHighlighted=function(e){n.setState({highlighted:e})},n.toggleExpansion=function(){var e=n.props,t=e.doExpand,r=e.doCollapse;e.expanded?r():t()},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.expanded;e.expanded&&!t&&this.setState({highlighted:-1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.expanded,r=t.children,o=t.className,i=t.optionWrapperClassName,s=t.ariaLabel,l=t.onExpandEvent,c=t.title,d=this.state.highlighted,f=r.slice(1,r.length);return a.a.createElement("div",{className:u()("rdw-dropdown-wrapper",o),"aria-expanded":n,"aria-label":s||"rdw-dropdown"},a.a.createElement("a",{className:"rdw-dropdown-selectedtext",onClick:l,title:c},r[0],a.a.createElement("div",{className:u()({"rdw-dropdown-carettoclose":n,"rdw-dropdown-carettoopen":!n})})),n?a.a.createElement("ul",{className:u()("rdw-dropdown-optionwrapper",i),onClick:w},a.a.Children.map(f,(function(t,n){return t&&a.a.cloneElement(t,{onSelect:e.onChange,highlighted:d===n,setHighlighted:e.setHighlighted,index:n})}))):void 0)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}I.propTypes={children:i.a.any,onChange:i.a.func,className:i.a.string,expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,optionWrapperClassName:i.a.string,ariaLabel:i.a.string,title:i.a.string},n(13);var z=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=R(e)).call.apply(t,[this].concat(a)))).onClick=function(e){var t=n.props,r=t.onSelect,a=t.onClick,o=t.value;t.disabled||(r&&r(o),a&&(e.stopPropagation(),a(o)))},n.setHighlighted=function(){var e=n.props;(0,e.setHighlighted)(e.index)},n.resetHighlighted=function(){(0,n.props.setHighlighted)(-1)},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(e,r.Component),(t=[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.active,o=t.disabled,i=t.highlighted,s=t.className,l=t.activeClassName,c=t.disabledClassName,d=t.highlightedClassName,f=t.title;return a.a.createElement("li",{className:u()("rdw-dropdownoption-default",s,(U(e={},"rdw-dropdownoption-active ".concat(l),r),U(e,"rdw-dropdownoption-highlighted ".concat(d),i),U(e,"rdw-dropdownoption-disabled ".concat(c),o),e)),onMouseEnter:this.setHighlighted,onMouseLeave:this.resetHighlighted,onClick:this.onClick,title:f},n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}z.propTypes={children:i.a.any,value:i.a.any,onClick:i.a.func,onSelect:i.a.func,setHighlighted:i.a.func,index:i.a.number,disabled:i.a.bool,active:i.a.bool,highlighted:i.a.bool,className:i.a.string,activeClassName:i.a.string,disabledClassName:i.a.string,highlightedClassName:i.a.string,title:i.a.string},z.defaultProps={activeClassName:"",disabledClassName:"",highlightedClassName:""},n(14);var K=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,H(e).apply(this,arguments))}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(e,r.Component),(t=[{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=e.currentState,r=e.onChange,o=e.translations;return a.a.createElement("div",{className:u()("rdw-inline-wrapper",t.className),"aria-label":"rdw-inline-control"},t.options.map((function(e,i){return a.a.createElement(T,{key:i,value:e,onClick:r,className:u()(t[e].className),active:!0===n[e]||"MONOSPACE"===e&&n.CODE,title:t[e].title||o["components.controls.inline.".concat(e)]},a.a.createElement("img",{alt:"",src:t[e].icon}))})))}},{key:"renderInDropDown",value:function(){var e=this.props,t=e.config,n=e.expanded,r=e.doExpand,o=e.onExpandEvent,i=e.doCollapse,s=e.currentState,l=e.onChange,c=e.translations,d=t.className,f=t.dropdownClassName,p=t.title;return a.a.createElement(I,{className:u()("rdw-inline-dropdown",d),optionWrapperClassName:u()(f),onChange:l,expanded:n,doExpand:r,doCollapse:i,onExpandEvent:o,"aria-label":"rdw-inline-control",title:p},a.a.createElement("img",{src:k(t),alt:""}),t.options.map((function(e,n){return a.a.createElement(z,{key:n,value:e,className:u()("rdw-inline-dropdownoption",t[e].className),active:!0===s[e]||"MONOSPACE"===e&&s.CODE,title:t[e].title||c["components.controls.inline.".concat(e)]},a.a.createElement("img",{src:t[e].icon,alt:""}))})))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}K.propTypes={expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,config:i.a.object,onChange:i.a.func,currentState:i.a.object,translations:i.a.object};var V=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,q(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.toggleInlineStyle=function(e){var t="monospace"===e?"CODE":e.toUpperCase(),r=n.props,a=r.editorState,o=r.onChange,i=s.RichUtils.toggleInlineStyle(a,t);if("subscript"===e||"superscript"===e){var l="subscript"===e?"SUPERSCRIPT":"SUBSCRIPT",c=s.Modifier.removeInlineStyle(i.getCurrentContent(),i.getSelection(),l);i=s.EditorState.push(i,c,"change-inline-style")}i&&o(i)},n.changeKeys=function(e){if(e){var t={};return v(e,(function(e,n){t["CODE"===e?"monospace":e.toLowerCase()]=n})),t}},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})};var r=n.props,a=r.editorState,o=r.modalHandler;return n.state={currentStyles:a?n.changeKeys(Object(l.getSelectionInlineStyle)(a)):{}},o.registerCallBack(n.expandCollapse),n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentStyles:this.changeKeys(Object(l.getSelectionInlineStyle)(t))})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.expanded,i=r.currentStyles,s=t.component||K;return a.a.createElement(s,{config:t,translations:n,currentState:i,expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.toggleInlineStyle})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}V.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(15);var Z=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,X(e).call(this,t))).getBlockTypes=function(e){return[{label:"Normal",displayName:e["components.controls.blocktype.normal"]},{label:"H1",displayName:e["components.controls.blocktype.h1"]},{label:"H2",displayName:e["components.controls.blocktype.h2"]},{label:"H3",displayName:e["components.controls.blocktype.h3"]},{label:"H4",displayName:e["components.controls.blocktype.h4"]},{label:"H5",displayName:e["components.controls.blocktype.h5"]},{label:"H6",displayName:e["components.controls.blocktype.h6"]},{label:"Blockquote",displayName:e["components.controls.blocktype.blockquote"]},{label:"Code",displayName:e["components.controls.blocktype.code"]}]},n.state={blockTypes:n.getBlockTypes(t.translations)},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.translations;t!==e.translations&&this.setState({blockTypes:this.getBlockTypes(t)})}},{key:"renderFlat",value:function(e){var t=this.props,n=t.config.className,r=t.onChange,o=t.currentState.blockType;return a.a.createElement("div",{className:u()("rdw-inline-wrapper",n)},e.map((function(e,t){return a.a.createElement(T,{key:t,value:e.label,active:o===e.label,onClick:r},e.displayName)})))}},{key:"renderInDropdown",value:function(e){var t=this.props,n=t.config,r=n.className,o=n.dropdownClassName,i=n.title,s=t.currentState.blockType,l=t.expanded,c=t.doExpand,d=t.onExpandEvent,f=t.doCollapse,p=t.onChange,h=t.translations,m=this.state.blockTypes.filter((function(e){return e.label===s})),_=m&&m[0]&&m[0].displayName;return a.a.createElement("div",{className:"rdw-block-wrapper","aria-label":"rdw-block-control"},a.a.createElement(I,{className:u()("rdw-block-dropdown",r),optionWrapperClassName:u()(o),onChange:p,expanded:l,doExpand:c,doCollapse:f,onExpandEvent:d,title:i||h["components.controls.blocktype.blocktype"]},a.a.createElement("span",null,_||h["components.controls.blocktype.blocktype"]),e.map((function(e,t){return a.a.createElement(z,{active:s===e.label,value:e.label,key:t},e.displayName)}))))}},{key:"render",value:function(){var e=this.props.config,t=e.inDropdown,n=this.state.blockTypes.filter((function(t){var n=t.label;return-1<e.options.indexOf(n)}));return t?this.renderInDropdown(n):this.renderFlat(n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();Z.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,doExpand:i.a.func,doCollapse:i.a.func,onChange:i.a.func,config:i.a.object,currentState:i.a.object,translations:i.a.object};var ee=Z;function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,ne(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.blocksTypes=[{label:"Normal",style:"unstyled"},{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"Code",style:"code"}],n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.toggleBlockType=function(e){var t=n.blocksTypes.find((function(t){return t.label===e})).style,r=n.props,a=r.editorState,o=r.onChange,i=s.RichUtils.toggleBlockType(a,t);i&&o(i)};var r=t.editorState,a=t.modalHandler;return n.state={expanded:!1,currentBlockType:r?Object(l.getSelectedBlocksType)(r):"unstyled"},a.registerCallBack(n.expandCollapse),n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentBlockType:Object(l.getSelectedBlocksType)(t)})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.expanded,i=r.currentBlockType,s=t.component||ee,l=this.blocksTypes.find((function(e){return e.style===i}));return a.a.createElement(s,{config:t,translations:n,currentState:{blockType:l&&l.label},onChange:this.toggleBlockType,expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();ae.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var oe=ae;function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(16);var ce=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=se(e)).call.apply(t,[this].concat(a)))).state={defaultFontSize:void 0},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(e,r.Component),(t=[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("DraftEditor-root");if(e&&0<e.length){var t=window.getComputedStyle(e[0]).getPropertyValue("font-size");t=t.substring(0,t.length-2),this.setState({defaultFontSize:t})}}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,o=t.dropdownClassName,i=t.options,s=t.title,l=e.onChange,c=e.expanded,d=e.doCollapse,f=e.onExpandEvent,p=e.doExpand,h=e.translations,m=this.props.currentState.fontSize,_=this.state.defaultFontSize;return _=Number(_),m=m||i&&0<=i.indexOf(_)&&_,a.a.createElement("div",{className:"rdw-fontsize-wrapper","aria-label":"rdw-font-size-control"},a.a.createElement(I,{className:u()("rdw-fontsize-dropdown",r),optionWrapperClassName:u()(o),onChange:l,expanded:c,doExpand:p,doCollapse:d,onExpandEvent:f,title:s||h["components.controls.fontsize.fontsize"]},m?a.a.createElement("span",null,m):a.a.createElement("img",{src:n,alt:""}),i.map((function(e,t){return a.a.createElement(z,{className:"rdw-fontsize-option",active:m===e,value:e,key:t},e)}))))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ce.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,doExpand:i.a.func,doCollapse:i.a.func,onChange:i.a.func,config:i.a.object,currentState:i.a.object,translations:i.a.object};var pe=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,de(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.toggleFontSize=function(e){var t=n.props,r=t.editorState,a=t.onChange,o=Object(l.toggleCustomInlineStyle)(r,"fontSize",e);o&&a(o)};var r=t.editorState,a=t.modalHandler;return n.state={expanded:void 0,currentFontSize:r?Object(l.getSelectionCustomInlineStyle)(r,["FONTSIZE"]).FONTSIZE:void 0},a.registerCallBack(n.expandCollapse),n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentFontSize:Object(l.getSelectionCustomInlineStyle)(t,["FONTSIZE"]).FONTSIZE})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.expanded,i=r.currentFontSize,s=t.component||ce,l=i&&Number(i.substring(9));return a.a.createElement(s,{config:t,translations:n,currentState:{fontSize:l},onChange:this.toggleFontSize,expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}pe.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(17);var ge=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=me(e)).call.apply(t,[this].concat(a)))).state={defaultFontFamily:void 0},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(e,r.Component),(t=[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("DraftEditor-root");if(e&&0<e.length){var t=window.getComputedStyle(e[0]).getPropertyValue("font-family");this.setState({defaultFontFamily:t})}}},{key:"render",value:function(){var e=this.state.defaultFontFamily,t=this.props,n=t.config,r=n.className,o=n.dropdownClassName,i=n.options,s=n.title,l=t.translations,c=t.onChange,d=t.expanded,f=t.doCollapse,p=t.onExpandEvent,h=t.doExpand,m=this.props.currentState.fontFamily;return m=m||i&&e&&i.some((function(t){return t.toLowerCase()===e.toLowerCase()}))&&e,a.a.createElement("div",{className:"rdw-fontfamily-wrapper","aria-label":"rdw-font-family-control"},a.a.createElement(I,{className:u()("rdw-fontfamily-dropdown",r),optionWrapperClassName:u()("rdw-fontfamily-optionwrapper",o),onChange:c,expanded:d,doExpand:h,doCollapse:f,onExpandEvent:p,title:s||l["components.controls.fontfamily.fontfamily"]},a.a.createElement("span",{className:"rdw-fontfamily-placeholder"},m||l["components.controls.fontfamily.fontfamily"]),i.map((function(e,t){return a.a.createElement(z,{active:m===e,value:e,key:t},e)}))))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();ge.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,doExpand:i.a.func,doCollapse:i.a.func,onChange:i.a.func,config:i.a.object,currentState:i.a.object,translations:i.a.object};var be=ge;function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,ve(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.toggleFontFamily=function(e){var t=n.props,r=t.editorState,a=t.onChange,o=Object(l.toggleCustomInlineStyle)(r,"fontFamily",e);o&&a(o)};var r=t.editorState,a=t.modalHandler;return n.state={expanded:void 0,currentFontFamily:r?Object(l.getSelectionCustomInlineStyle)(r,["FONTFAMILY"]).FONTFAMILY:void 0},a.registerCallBack(n.expandCollapse),n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentFontFamily:Object(l.getSelectionCustomInlineStyle)(t,["FONTFAMILY"]).FONTFAMILY})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.expanded,i=r.currentFontFamily,s=t.component||be,l=i&&i.substring(11);return a.a.createElement(s,{translations:n,config:t,currentState:{fontFamily:l},onChange:this.toggleFontFamily,expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}we.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(18);var Oe=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=Ee(e)).call.apply(t,[this].concat(a)))).options=["unordered","ordered","indent","outdent"],n.toggleBlockType=function(e){(0,n.props.onChange)(e)},n.indent=function(){(0,n.props.onChange)("indent")},n.outdent=function(){(0,n.props.onChange)("outdent")},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(e,r.Component),(t=[{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=e.currentState.listType,r=e.translations,o=e.indentDisabled,i=e.outdentDisabled,s=t.options,l=t.unordered,c=t.ordered,d=t.indent,f=t.outdent,p=t.className;return a.a.createElement("div",{className:u()("rdw-list-wrapper",p),"aria-label":"rdw-list-control"},0<=s.indexOf("unordered")&&a.a.createElement(T,{value:"unordered",onClick:this.toggleBlockType,className:u()(l.className),active:"unordered"===n,title:l.title||r["components.controls.list.unordered"]},a.a.createElement("img",{src:l.icon,alt:""})),0<=s.indexOf("ordered")&&a.a.createElement(T,{value:"ordered",onClick:this.toggleBlockType,className:u()(c.className),active:"ordered"===n,title:c.title||r["components.controls.list.ordered"]},a.a.createElement("img",{src:c.icon,alt:""})),0<=s.indexOf("indent")&&a.a.createElement(T,{onClick:this.indent,disabled:o,className:u()(d.className),title:d.title||r["components.controls.list.indent"]},a.a.createElement("img",{src:d.icon,alt:""})),0<=s.indexOf("outdent")&&a.a.createElement(T,{onClick:this.outdent,disabled:i,className:u()(f.className),title:f.title||r["components.controls.list.outdent"]},a.a.createElement("img",{src:f.icon,alt:""})))}},{key:"renderInDropDown",value:function(){var e=this,t=this.props,n=t.config,r=t.expanded,o=t.doCollapse,i=t.doExpand,s=t.onExpandEvent,l=t.onChange,c=t.currentState.listType,d=t.translations,f=n.options,p=n.className,h=n.dropdownClassName,m=n.title;return a.a.createElement(I,{className:u()("rdw-list-dropdown",p),optionWrapperClassName:u()(h),onChange:l,expanded:r,doExpand:i,doCollapse:o,onExpandEvent:s,"aria-label":"rdw-list-control",title:m||d["components.controls.list.list"]},a.a.createElement("img",{src:k(n),alt:""}),this.options.filter((function(e){return 0<=f.indexOf(e)})).map((function(t,r){return a.a.createElement(z,{key:r,value:t,disabled:e.props["".concat(t,"Disabled")],className:u()("rdw-list-dropdownOption",n[t].className),active:c===t,title:n[t].title||d["components.controls.list.".concat(t)]},a.a.createElement("img",{src:n[t].icon,alt:""}))})))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Oe.propTypes={expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,config:i.a.object,onChange:i.a.func,currentState:i.a.object,translations:i.a.object,indentDisabled:i.a.bool,outdentDisabled:i.a.bool};var Ne=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,je(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.onChange=function(e){"unordered"===e?n.toggleBlockType("unordered-list-item"):"ordered"===e?n.toggleBlockType("ordered-list-item"):"indent"===e?n.adjustDepth(1):n.adjustDepth(-1)},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.toggleBlockType=function(e){var t=n.props,r=t.onChange,a=t.editorState,o=s.RichUtils.toggleBlockType(a,e);o&&r(o)},n.adjustDepth=function(e){var t=n.props,r=t.onChange,a=t.editorState,o=Object(l.changeDepth)(a,e,4);o&&r(o)},n.isIndentDisabled=function(){var e=n.props.editorState,t=n.state.currentBlock,r=Object(l.getBlockBeforeSelectedBlock)(e);return!r||!Object(l.isListBlock)(t)||r.get("type")!==t.get("type")||r.get("depth")<t.get("depth")},n.isOutdentDisabled=function(){var e=n.state.currentBlock;return!e||!Object(l.isListBlock)(e)||e.get("depth")<=0};var r=n.props,a=r.editorState,o=r.modalHandler;return n.state={expanded:!1,currentBlock:a?Object(l.getSelectedBlock)(a):void 0},o.registerCallBack(n.expandCollapse),n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentBlock:Object(l.getSelectedBlock)(t)})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e,t=this.props,n=t.config,r=t.translations,o=this.state,i=o.expanded,s=o.currentBlock,l=n.component||Oe;"unordered-list-item"===s.get("type")?e="unordered":"ordered-list-item"===s.get("type")&&(e="ordered");var c=this.isIndentDisabled(),u=this.isOutdentDisabled();return a.a.createElement(l,{config:n,translations:r,currentState:{listType:e},expanded:i,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.onChange,indentDisabled:c,outdentDisabled:u})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ne.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(19);var Pe=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,Te(e).apply(this,arguments))}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(e,r.Component),(t=[{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=t.options,r=t.left,o=t.center,i=t.right,s=t.justify,l=t.className,c=e.onChange,d=e.currentState.textAlignment,f=e.translations;return a.a.createElement("div",{className:u()("rdw-text-align-wrapper",l),"aria-label":"rdw-textalign-control"},0<=n.indexOf("left")&&a.a.createElement(T,{value:"left",className:u()(r.className),active:"left"===d,onClick:c,title:r.title||f["components.controls.textalign.left"]},a.a.createElement("img",{src:r.icon,alt:""})),0<=n.indexOf("center")&&a.a.createElement(T,{value:"center",className:u()(o.className),active:"center"===d,onClick:c,title:o.title||f["components.controls.textalign.center"]},a.a.createElement("img",{src:o.icon,alt:""})),0<=n.indexOf("right")&&a.a.createElement(T,{value:"right",className:u()(i.className),active:"right"===d,onClick:c,title:i.title||f["components.controls.textalign.right"]},a.a.createElement("img",{src:i.icon,alt:""})),0<=n.indexOf("justify")&&a.a.createElement(T,{value:"justify",className:u()(s.className),active:"justify"===d,onClick:c,title:s.title||f["components.controls.textalign.justify"]},a.a.createElement("img",{src:s.icon,alt:""})))}},{key:"renderInDropDown",value:function(){var e=this.props,t=e.config,n=e.expanded,r=e.doExpand,o=e.onExpandEvent,i=e.doCollapse,s=e.currentState.textAlignment,l=e.onChange,c=e.translations,d=t.options,f=t.left,p=t.center,h=t.right,m=t.justify,_=t.className,g=t.dropdownClassName,b=t.title;return a.a.createElement(I,{className:u()("rdw-text-align-dropdown",_),optionWrapperClassName:u()(g),onChange:l,expanded:n,doExpand:r,doCollapse:i,onExpandEvent:o,"aria-label":"rdw-textalign-control",title:b||c["components.controls.textalign.textalign"]},a.a.createElement("img",{src:s&&t[s]&&t[s].icon||k(t),alt:""}),0<=d.indexOf("left")&&a.a.createElement(z,{value:"left",active:"left"===s,className:u()("rdw-text-align-dropdownOption",f.className),title:f.title||c["components.controls.textalign.left"]},a.a.createElement("img",{src:f.icon,alt:""})),0<=d.indexOf("center")&&a.a.createElement(z,{value:"center",active:"center"===s,className:u()("rdw-text-align-dropdownOption",p.className),title:p.title||c["components.controls.textalign.center"]},a.a.createElement("img",{src:p.icon,alt:""})),0<=d.indexOf("right")&&a.a.createElement(z,{value:"right",active:"right"===s,className:u()("rdw-text-align-dropdownOption",h.className),title:h.title||c["components.controls.textalign.right"]},a.a.createElement("img",{src:h.icon,alt:""})),0<=d.indexOf("justify")&&a.a.createElement(z,{value:"justify",active:"justify"===s,className:u()("rdw-text-align-dropdownOption",m.className),title:m.title||c["components.controls.textalign.justify"]},a.a.createElement("img",{src:m.icon,alt:""})))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Pe.propTypes={expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,config:i.a.object,onChange:i.a.func,currentState:i.a.object,translations:i.a.object};var Ue=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,Ie(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.addBlockAlignmentData=function(e){var t=n.props,r=t.editorState;(0,t.onChange)(n.state.currentTextAlignment!==e?Object(l.setBlockData)(r,{"text-align":e}):Object(l.setBlockData)(r,{"text-align":void 0}))};var r=n.props.modalHandler;return n.state={currentTextAlignment:void 0},r.registerCallBack(n.expandCollapse),n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t!==e.editorState&&this.setState({currentTextAlignment:Object(l.getSelectedBlocksMetadata)(t).get("text-align")})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.expanded,i=r.currentTextAlignment,s=t.component||Pe;return a.a.createElement(s,{config:t,translations:n,expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,currentState:{textAlignment:i},onChange:this.addBlockAlignmentData})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ue.propTypes={editorState:i.a.object.isRequired,onChange:i.a.func.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(20);var Qe=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=function(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=Fe(e)).call.apply(t,[this].concat(o)))).state={currentStyle:"color"},n.onChange=function(e){(0,n.props.onChange)(n.state.currentStyle,e)},n.setCurrentStyleColor=function(){n.setState({currentStyle:"color"})},n.setCurrentStyleBgcolor=function(){n.setState({currentStyle:"bgcolor"})},n.renderModal=function(){var e=n.props,t=e.config,r=t.popupClassName,o=t.colors,i=e.currentState,s=i.color,l=i.bgColor,c=e.translations,d=n.state.currentStyle,f="color"===d?s:l;return a.a.createElement("div",{className:u()("rdw-colorpicker-modal",r),onClick:w},a.a.createElement("span",{className:"rdw-colorpicker-modal-header"},a.a.createElement("span",{className:u()("rdw-colorpicker-modal-style-label",{"rdw-colorpicker-modal-style-label-active":"color"===d}),onClick:n.setCurrentStyleColor},c["components.controls.colorpicker.text"]),a.a.createElement("span",{className:u()("rdw-colorpicker-modal-style-label",{"rdw-colorpicker-modal-style-label-active":"bgcolor"===d}),onClick:n.setCurrentStyleBgcolor},c["components.controls.colorpicker.background"])),a.a.createElement("span",{className:"rdw-colorpicker-modal-options"},o.map((function(e,t){return a.a.createElement(T,{value:e,key:t,className:"rdw-colorpicker-option",activeClassName:"rdw-colorpicker-option-active",active:f===e,onClick:n.onChange},a.a.createElement("span",{style:{backgroundColor:e},className:"rdw-colorpicker-cube"}))}))))},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){this.props.expanded&&!e.expanded&&this.setState({currentStyle:"color"})}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,o=t.title,i=e.expanded,s=e.onExpandEvent,l=e.translations;return a.a.createElement("div",{className:"rdw-colorpicker-wrapper","aria-haspopup":"true","aria-expanded":i,"aria-label":"rdw-color-picker",title:o||l["components.controls.colorpicker.colorpicker"]},a.a.createElement(T,{onClick:s,className:u()(r)},a.a.createElement("img",{src:n,alt:""})),i?this.renderModal():void 0)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();Qe.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,onChange:i.a.func,config:i.a.object,currentState:i.a.object,translations:i.a.object};var He=Qe;function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,Ke(e).call(this,t))).state={expanded:!1,currentColor:void 0,currentBgColor:void 0},n.onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.toggleColor=function(e,t){var r=n.props,a=r.editorState,o=r.onChange,i=Object(l.toggleCustomInlineStyle)(a,e,t);i&&o(i),n.doCollapse()};var r=t.editorState,a=t.modalHandler,o={expanded:!1,currentColor:void 0,currentBgColor:void 0};return r&&(o.currentColor=Object(l.getSelectionCustomInlineStyle)(r,["COLOR"]).COLOR,o.currentBgColor=Object(l.getSelectionCustomInlineStyle)(r,["BGCOLOR"]).BGCOLOR),n.state=o,a.registerCallBack(n.expandCollapse),n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentColor:Object(l.getSelectionCustomInlineStyle)(t,["COLOR"]).COLOR,currentBgColor:Object(l.getSelectionCustomInlineStyle)(t,["BGCOLOR"]).BGCOLOR})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.currentColor,i=r.currentBgColor,s=r.expanded,l=t.component||He,c=o&&o.substring(6),u=i&&i.substring(8);return a.a.createElement(l,{config:t,translations:n,onChange:this.toggleColor,expanded:s,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,currentState:{color:c,bgColor:u}})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();qe.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var Ge=qe,Ve=n(7),$e=n.n(Ve);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(26);var et=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=Je(e)).call.apply(t,[this].concat(a)))).state={showModal:!1,linkTarget:"",linkTitle:"",linkTargetOption:n.props.config.defaultTargetOption},n.removeLink=function(){(0,n.props.onChange)("unlink")},n.addLink=function(){var e=n.props.onChange,t=n.state;e("link",t.linkTitle,t.linkTarget,t.linkTargetOption)},n.updateValue=function(e){var t,r,a;n.setState((t={},r="".concat(e.target.name),a=e.target.value,r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t))},n.updateTargetOption=function(e){n.setState({linkTargetOption:e.target.checked?"_blank":"_self"})},n.hideModal=function(){n.setState({showModal:!1})},n.signalExpandShowModal=function(){var e=n.props,t=e.onExpandEvent,r=e.currentState,a=r.link,o=r.selectionText,i=n.state.linkTargetOption;t(),n.setState({showModal:!0,linkTarget:a&&a.target||"",linkTargetOption:a&&a.targetOption||i,linkTitle:a&&a.title||o})},n.forceExpandAndShowModal=function(){var e=n.props,t=e.doExpand,r=e.currentState,a=r.link,o=r.selectionText,i=n.state.linkTargetOption;t(),n.setState({showModal:!0,linkTarget:a&&a.target,linkTargetOption:a&&a.targetOption||i,linkTitle:a&&a.title||o})},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){e.expanded&&!this.props.expanded&&this.setState({showModal:!1,linkTarget:"",linkTitle:"",linkTargetOption:this.props.config.defaultTargetOption})}},{key:"renderAddLinkModal",value:function(){var e=this.props,t=e.config.popupClassName,n=e.doCollapse,r=e.translations,o=this.state,i=o.linkTitle,s=o.linkTarget,l=o.linkTargetOption;return a.a.createElement("div",{className:u()("rdw-link-modal",t),onClick:w},a.a.createElement("label",{className:"rdw-link-modal-label",htmlFor:"linkTitle"},r["components.controls.link.linkTitle"]),a.a.createElement("input",{id:"linkTitle",className:"rdw-link-modal-input",onChange:this.updateValue,onBlur:this.updateValue,name:"linkTitle",value:i}),a.a.createElement("label",{className:"rdw-link-modal-label",htmlFor:"linkTarget"},r["components.controls.link.linkTarget"]),a.a.createElement("input",{id:"linkTarget",className:"rdw-link-modal-input",onChange:this.updateValue,onBlur:this.updateValue,name:"linkTarget",value:s}),a.a.createElement("label",{className:"rdw-link-modal-target-option",htmlFor:"openLinkInNewWindow"},a.a.createElement("input",{id:"openLinkInNewWindow",type:"checkbox",defaultChecked:"_blank"===l,value:"_blank",onChange:this.updateTargetOption}),a.a.createElement("span",null,r["components.controls.link.linkTargetOption"])),a.a.createElement("span",{className:"rdw-link-modal-buttonsection"},a.a.createElement("button",{className:"rdw-link-modal-btn",onClick:this.addLink,disabled:!s||!i},r["generic.add"]),a.a.createElement("button",{className:"rdw-link-modal-btn",onClick:n},r["generic.cancel"])))}},{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=t.options,r=t.link,o=t.unlink,i=t.className,s=e.currentState,l=e.expanded,c=e.translations,d=this.state.showModal;return a.a.createElement("div",{className:u()("rdw-link-wrapper",i),"aria-label":"rdw-link-control"},0<=n.indexOf("link")&&a.a.createElement(T,{value:"unordered-list-item",className:u()(r.className),onClick:this.signalExpandShowModal,"aria-haspopup":"true","aria-expanded":d,title:r.title||c["components.controls.link.link"]},a.a.createElement("img",{src:r.icon,alt:""})),0<=n.indexOf("unlink")&&a.a.createElement(T,{disabled:!s.link,value:"ordered-list-item",className:u()(o.className),onClick:this.removeLink,title:o.title||c["components.controls.link.unlink"]},a.a.createElement("img",{src:o.icon,alt:""})),l&&d?this.renderAddLinkModal():void 0)}},{key:"renderInDropDown",value:function(){var e=this.props,t=e.expanded,n=e.onExpandEvent,r=e.doCollapse,o=e.doExpand,i=e.onChange,s=e.config,l=e.currentState,c=e.translations,d=s.options,f=s.link,p=s.unlink,h=s.className,m=s.dropdownClassName,_=s.title,g=this.state.showModal;return a.a.createElement("div",{className:"rdw-link-wrapper","aria-haspopup":"true","aria-label":"rdw-link-control","aria-expanded":t,title:_},a.a.createElement(I,{className:u()("rdw-link-dropdown",h),optionWrapperClassName:u()(m),onChange:i,expanded:t&&!g,doExpand:o,doCollapse:r,onExpandEvent:n},a.a.createElement("img",{src:k(s),alt:""}),0<=d.indexOf("link")&&a.a.createElement(z,{onClick:this.forceExpandAndShowModal,className:u()("rdw-link-dropdownoption",f.className),title:f.title||c["components.controls.link.link"]},a.a.createElement("img",{src:f.icon,alt:""})),0<=d.indexOf("unlink")&&a.a.createElement(z,{onClick:this.removeLink,disabled:!l.link,className:u()("rdw-link-dropdownoption",p.className),title:p.title||c["components.controls.link.unlink"]},a.a.createElement("img",{src:p.icon,alt:""}))),t&&g?this.renderAddLinkModal():void 0)}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();et.propTypes={expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,config:i.a.object,onChange:i.a.func,currentState:i.a.object,translations:i.a.object};var tt=et;function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=$e()(),lt=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,rt(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.onChange=function(e,t,r,a){var o=n.props.config.linkCallback;if("link"===e){var i=(o||function(e){var t=st.match(e.target);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{target:t&&t[0]&&t[0].url||e.target})})({title:t,target:r,targetOption:a});n.addLink(i.title,i.target,i.targetOption)}else n.removeLink()},n.getCurrentValues=function(){var e=n.props.editorState,t=n.state.currentEntity,r=e.getCurrentContent(),a={};if(t&&"LINK"===r.getEntity(t).get("type")){a.link={};var o=t&&Object(l.getEntityRange)(e,t);a.link.target=t&&r.getEntity(t).get("data").url,a.link.targetOption=t&&r.getEntity(t).get("data").targetOption,a.link.title=o&&o.text}return a.selectionText=Object(l.getSelectionText)(e),a},n.doExpand=function(){n.setState({expanded:!0})},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doCollapse=function(){n.setState({expanded:!1})},n.removeLink=function(){var e=n.props,t=e.editorState,r=e.onChange,a=n.state.currentEntity,o=t.getSelection();if(a){var i=Object(l.getEntityRange)(t,a);o=o.getIsBackward()?o.merge({anchorOffset:i.end,focusOffset:i.start}):o.merge({anchorOffset:i.start,focusOffset:i.end}),r(s.RichUtils.toggleLink(t,o,null))}},n.addLink=function(e,t,r){var a=n.props,o=a.editorState,i=a.onChange,c=n.state.currentEntity,u=o.getSelection();if(c){var d=Object(l.getEntityRange)(o,c);u=u.getIsBackward()?u.merge({anchorOffset:d.end,focusOffset:d.start}):u.merge({anchorOffset:d.start,focusOffset:d.end})}var f=o.getCurrentContent().createEntity("LINK","MUTABLE",{url:t,targetOption:r}).getLastCreatedEntityKey(),p=s.Modifier.replaceText(o.getCurrentContent(),u,"".concat(e),o.getCurrentInlineStyle(),f),h=s.EditorState.push(o,p,"insert-characters");u=h.getSelection().merge({anchorOffset:u.get("anchorOffset")+e.length,focusOffset:u.get("anchorOffset")+e.length}),h=s.EditorState.acceptSelection(h,u),p=s.Modifier.insertText(h.getCurrentContent(),u," ",h.getCurrentInlineStyle(),void 0),i(s.EditorState.push(h,p,"insert-characters")),n.doCollapse()};var r=n.props,a=r.editorState,o=r.modalHandler;return n.state={expanded:!1,link:void 0,selectionText:void 0,currentEntity:a?Object(l.getSelectionEntity)(a):void 0},o.registerCallBack(n.expandCollapse),n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentEntity:Object(l.getSelectionEntity)(t)})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,o=this.getCurrentValues(),i=o.link,s=o.selectionText,l=t.component||tt;return a.a.createElement(l,{config:t,translations:n,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,currentState:{link:i,selectionText:s},onChange:this.onChange})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();lt.propTypes={editorState:i.a.object.isRequired,onChange:i.a.func.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var ct=lt;function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(27);var pt=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=dt(e)).call.apply(t,[this].concat(a)))).state={embeddedLink:"",height:n.props.config.defaultSize.height,width:n.props.config.defaultSize.width},n.onChange=function(){var e=n.props.onChange,t=n.state;e(t.embeddedLink,t.height,t.width)},n.updateValue=function(e){var t,r,a;n.setState((t={},r="".concat(e.target.name),a=e.target.value,r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t))},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.expanded,r=t.config;if(!n&&e.expanded){var a=r.defaultSize,o=a.height,i=a.width;this.setState({embeddedLink:"",height:o,width:i})}}},{key:"rendeEmbeddedLinkModal",value:function(){var e=this.state,t=e.embeddedLink,n=e.height,r=e.width,o=this.props,i=o.config.popupClassName,s=o.doCollapse,l=o.translations;return a.a.createElement("div",{className:u()("rdw-embedded-modal",i),onClick:w},a.a.createElement("div",{className:"rdw-embedded-modal-header"},a.a.createElement("span",{className:"rdw-embedded-modal-header-option"},l["components.controls.embedded.embeddedlink"],a.a.createElement("span",{className:"rdw-embedded-modal-header-label"}))),a.a.createElement("div",{className:"rdw-embedded-modal-link-section"},a.a.createElement("span",{className:"rdw-embedded-modal-link-input-wrapper"},a.a.createElement("input",{className:"rdw-embedded-modal-link-input",placeholder:l["components.controls.embedded.enterlink"],onChange:this.updateValue,onBlur:this.updateValue,value:t,name:"embeddedLink"}),a.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),a.a.createElement("div",{className:"rdw-embedded-modal-size"},a.a.createElement("span",null,a.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:n,name:"height",className:"rdw-embedded-modal-size-input",placeholder:"Height"}),a.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),a.a.createElement("span",null,a.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:r,name:"width",className:"rdw-embedded-modal-size-input",placeholder:"Width"}),a.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")))),a.a.createElement("span",{className:"rdw-embedded-modal-btn-section"},a.a.createElement("button",{type:"button",className:"rdw-embedded-modal-btn",onClick:this.onChange,disabled:!t||!n||!r},l["generic.add"]),a.a.createElement("button",{type:"button",className:"rdw-embedded-modal-btn",onClick:s},l["generic.cancel"])))}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,o=t.title,i=e.expanded,s=e.onExpandEvent,l=e.translations;return a.a.createElement("div",{className:"rdw-embedded-wrapper","aria-haspopup":"true","aria-expanded":i,"aria-label":"rdw-embedded-control"},a.a.createElement(T,{className:u()(r),value:"unordered-list-item",onClick:s,title:o||l["components.controls.embedded.embedded"]},a.a.createElement("img",{src:n,alt:""})),i?this.rendeEmbeddedLinkModal():void 0)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();pt.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,onChange:i.a.func,config:i.a.object,translations:i.a.object,doCollapse:i.a.func};var ht=pt;function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bt=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=_t(e)).call.apply(t,[this].concat(a)))).state={expanded:!1},n.onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.addEmbeddedLink=function(e,t,r){var a=n.props,o=a.editorState,i=a.onChange,l=a.config.embedCallback,c=l?l(e):e,u=o.getCurrentContent().createEntity("EMBEDDED_LINK","MUTABLE",{src:c,height:t,width:r}).getLastCreatedEntityKey();i(s.AtomicBlockUtils.insertAtomicBlock(o,u," ")),n.doCollapse()},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(e,r.Component),(t=[{key:"componentDidMount",value:function(){this.props.modalHandler.registerCallBack(this.expandCollapse)}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,o=t.component||ht;return a.a.createElement(o,{config:t,translations:n,onChange:this.addEmbeddedLink,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();bt.propTypes={editorState:i.a.object.isRequired,onChange:i.a.func.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var yt=bt;function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(28);var kt=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=At(e)).call.apply(t,[this].concat(a)))).onChange=function(e){(0,n.props.onChange)(e.target.innerHTML)},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(e,r.Component),(t=[{key:"renderEmojiModal",value:function(){var e=this,t=this.props.config,n=t.popupClassName,r=t.emojis;return a.a.createElement("div",{className:u()("rdw-emoji-modal",n),onClick:w},r.map((function(t,n){return a.a.createElement("span",{key:n,className:"rdw-emoji-icon",alt:"",onClick:e.onChange},t)})))}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,o=t.title,i=e.expanded,s=e.onExpandEvent,l=e.translations;return a.a.createElement("div",{className:"rdw-emoji-wrapper","aria-haspopup":"true","aria-label":"rdw-emoji-control","aria-expanded":i,title:o||l["components.controls.emoji.emoji"]},a.a.createElement(T,{className:u()(r),value:"unordered-list-item",onClick:s},a.a.createElement("img",{src:n,alt:""})),i?this.renderEmojiModal():void 0)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();kt.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,onChange:i.a.func,config:i.a.object,translations:i.a.object};var Et=kt;function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jt=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=Ot(e)).call.apply(t,[this].concat(a)))).state={expanded:!1},n.onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.addEmoji=function(e){var t=n.props,r=t.editorState,a=t.onChange,o=s.Modifier.replaceText(r.getCurrentContent(),r.getSelection(),e,r.getCurrentInlineStyle());a(s.EditorState.push(r,o,"insert-characters")),n.doCollapse()},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(e,r.Component),(t=[{key:"componentDidMount",value:function(){this.props.modalHandler.registerCallBack(this.expandCollapse)}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,o=t.component||Et;return a.a.createElement(o,{config:t,translations:n,onChange:this.addEmoji,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onCollpase:this.closeModal})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Dt(){return a.a.createElement("div",{className:"rdw-spinner"},a.a.createElement("div",{className:"rdw-bounce1"}),a.a.createElement("div",{className:"rdw-bounce2"}),a.a.createElement("div",{className:"rdw-bounce3"}))}function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}jt.propTypes={editorState:i.a.object.isRequired,onChange:i.a.func.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(29),n(30);var Mt=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=St(e)).call.apply(t,[this].concat(a)))).state={imgSrc:"",dragEnter:!1,uploadHighlighted:n.props.config.uploadEnabled&&!!n.props.config.uploadCallback,showImageLoading:!1,height:n.props.config.defaultSize.height,width:n.props.config.defaultSize.width,alt:""},n.onDragEnter=function(e){n.stopPropagation(e),n.setState({dragEnter:!0})},n.onImageDrop=function(e){var t,r;e.preventDefault(),e.stopPropagation(),n.setState({dragEnter:!1}),r=e.dataTransfer.items?(t=e.dataTransfer.items,!0):(t=e.dataTransfer.files,!1);for(var a=0;a<t.length;a+=1)if((!r||"file"===t[a].kind)&&t[a].type.match("^image/")){var o=r?t[a].getAsFile():t[a];n.uploadImage(o)}},n.showImageUploadOption=function(){n.setState({uploadHighlighted:!0})},n.addImageFromState=function(){var e=n.state,t=e.imgSrc,r=e.alt,a=n.state,o=a.height,i=a.width,s=n.props.onChange;isNaN(o)||(o+="px"),isNaN(i)||(i+="px"),s(t,o,i,r)},n.showImageURLOption=function(){n.setState({uploadHighlighted:!1})},n.toggleShowImageLoading=function(){var e=!n.state.showImageLoading;n.setState({showImageLoading:e})},n.updateValue=function(e){var t,r,a;n.setState((t={},r="".concat(e.target.name),a=e.target.value,r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t))},n.selectImage=function(e){e.target.files&&0<e.target.files.length&&n.uploadImage(e.target.files[0])},n.uploadImage=function(e){n.toggleShowImageLoading(),(0,n.props.config.uploadCallback)(e).then((function(e){var t=e.data;n.setState({showImageLoading:!1,dragEnter:!1,imgSrc:t.link||t.url}),n.fileUpload=!1})).catch((function(){n.setState({showImageLoading:!1,dragEnter:!1})}))},n.fileUploadClick=function(e){n.fileUpload=!0,e.stopPropagation()},n.stopPropagation=function(e){n.fileUpload?n.fileUpload=!1:(e.preventDefault(),e.stopPropagation())},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.config;e.expanded&&!this.props.expanded?this.setState({imgSrc:"",dragEnter:!1,uploadHighlighted:t.uploadEnabled&&!!t.uploadCallback,showImageLoading:!1,height:t.defaultSize.height,width:t.defaultSize.width,alt:""}):t.uploadCallback===e.config.uploadCallback&&t.uploadEnabled===e.config.uploadEnabled||this.setState({uploadHighlighted:t.uploadEnabled&&!!t.uploadCallback})}},{key:"renderAddImageModal",value:function(){var e=this.state,t=e.imgSrc,n=e.uploadHighlighted,r=e.showImageLoading,o=e.dragEnter,i=e.height,s=e.width,l=e.alt,c=this.props,d=c.config,f=d.popupClassName,p=d.uploadCallback,h=d.uploadEnabled,m=d.urlEnabled,_=d.previewImage,g=d.inputAccept,b=d.alt,y=c.doCollapse,v=c.translations;return a.a.createElement("div",{className:u()("rdw-image-modal",f),onClick:this.stopPropagation},a.a.createElement("div",{className:"rdw-image-modal-header"},h&&p&&a.a.createElement("span",{onClick:this.showImageUploadOption,className:"rdw-image-modal-header-option"},v["components.controls.image.fileUpload"],a.a.createElement("span",{className:u()("rdw-image-modal-header-label",{"rdw-image-modal-header-label-highlighted":n})})),m&&a.a.createElement("span",{onClick:this.showImageURLOption,className:"rdw-image-modal-header-option"},v["components.controls.image.byURL"],a.a.createElement("span",{className:u()("rdw-image-modal-header-label",{"rdw-image-modal-header-label-highlighted":!n})}))),n?a.a.createElement("div",{onClick:this.fileUploadClick},a.a.createElement("div",{onDragEnter:this.onDragEnter,onDragOver:this.stopPropagation,onDrop:this.onImageDrop,className:u()("rdw-image-modal-upload-option",{"rdw-image-modal-upload-option-highlighted":o})},a.a.createElement("label",{htmlFor:"file",className:"rdw-image-modal-upload-option-label"},_&&t?a.a.createElement("img",{src:t,alt:t,className:"rdw-image-modal-upload-option-image-preview"}):t||v["components.controls.image.dropFileText"])),a.a.createElement("input",{type:"file",id:"file",accept:g,onChange:this.selectImage,className:"rdw-image-modal-upload-option-input"})):a.a.createElement("div",{className:"rdw-image-modal-url-section"},a.a.createElement("input",{className:"rdw-image-modal-url-input",placeholder:v["components.controls.image.enterlink"],name:"imgSrc",onChange:this.updateValue,onBlur:this.updateValue,value:t}),a.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),b.present&&a.a.createElement("div",{className:"rdw-image-modal-size"},a.a.createElement("span",{className:"rdw-image-modal-alt-lbl"},"Alt Text"),a.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:l,name:"alt",className:"rdw-image-modal-alt-input",placeholder:"alt"}),a.a.createElement("span",{className:"rdw-image-mandatory-sign"},b.mandatory&&"*")),a.a.createElement("div",{className:"rdw-image-modal-size"},"↕ ",a.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:i,name:"height",className:"rdw-image-modal-size-input",placeholder:"Height"}),a.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")," ↔ ",a.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:s,name:"width",className:"rdw-image-modal-size-input",placeholder:"Width"}),a.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),a.a.createElement("span",{className:"rdw-image-modal-btn-section"},a.a.createElement("button",{className:"rdw-image-modal-btn",onClick:this.addImageFromState,disabled:!t||!i||!s||b.mandatory&&!l},v["generic.add"]),a.a.createElement("button",{className:"rdw-image-modal-btn",onClick:y},v["generic.cancel"])),r?a.a.createElement("div",{className:"rdw-image-modal-spinner"},a.a.createElement(Dt,null)):void 0)}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,o=t.title,i=e.expanded,s=e.onExpandEvent,l=e.translations;return a.a.createElement("div",{className:"rdw-image-wrapper","aria-haspopup":"true","aria-expanded":i,"aria-label":"rdw-image-control"},a.a.createElement(T,{className:u()(r),value:"unordered-list-item",onClick:s,title:o||l["components.controls.image.image"]},a.a.createElement("img",{src:n,alt:""})),i?this.renderAddImageModal():void 0)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();Mt.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,doCollapse:i.a.func,onChange:i.a.func,config:i.a.object,translations:i.a.object};var Pt=Mt;function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ut=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,It(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.addImage=function(e,t,r,a){var o=n.props,i=o.editorState,l=o.onChange,c={src:e,height:t,width:r};o.config.alt.present&&(c.alt=a);var u=i.getCurrentContent().createEntity("IMAGE","MUTABLE",c).getLastCreatedEntityKey();l(s.AtomicBlockUtils.insertAtomicBlock(i,u," ")),n.doCollapse()};var r=n.props.modalHandler;return n.state={expanded:!1},r.registerCallBack(n.expandCollapse),n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(e,r.Component),(t=[{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,o=t.component||Pt;return a.a.createElement(o,{config:t,translations:n,onChange:this.addImage,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Rt(e){var t=e.config,n=e.onChange,r=e.translations,o=t.icon,i=t.className,s=t.title;return a.a.createElement("div",{className:"rdw-remove-wrapper","aria-label":"rdw-remove-control"},a.a.createElement(T,{className:u()(i),onClick:n,title:s||r["components.controls.remove.remove"]},a.a.createElement("img",{src:o,alt:""})))}Ut.propTypes={editorState:i.a.object.isRequired,onChange:i.a.func.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var Ft=Ut;n(31),Rt.propTypes={onChange:i.a.func,config:i.a.object,translations:i.a.object};var zt=Rt;function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kt=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=Ht(e)).call.apply(t,[this].concat(a)))).state={expanded:!1},n.onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1},n.removeInlineStyles=function(){var e=n.props,t=e.editorState;(0,e.onChange)(n.removeAllInlineStyles(t))},n.removeAllInlineStyles=function(e){var t=e.getCurrentContent();return["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","MONOSPACE","SUPERSCRIPT","SUBSCRIPT"].forEach((function(n){t=s.Modifier.removeInlineStyle(t,e.getSelection(),n)})),v(Object(l.getSelectionCustomInlineStyle)(e,["FONTSIZE","FONTFAMILY","COLOR","BGCOLOR"]),(function(n,r){r&&(t=s.Modifier.removeInlineStyle(t,e.getSelection(),r))})),s.EditorState.push(e,t,"change-inline-style")},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(e,r.Component),(t=[{key:"componentDidMount",value:function(){this.props.modalHandler.registerCallBack(this.expandCollapse)}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,o=t.component||zt;return a.a.createElement(o,{config:t,translations:n,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.removeInlineStyles})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Kt.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object.isRequired,config:i.a.object,translations:i.a.object,modalHandler:i.a.object},n(32);var Vt=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=qt(e)).call.apply(t,[this].concat(a)))).onChange=function(e){(0,n.props.onChange)(e)},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(e,r.Component),(t=[{key:"renderInDropDown",value:function(){var e=this.props,t=e.config,n=e.expanded,r=e.doExpand,o=e.onExpandEvent,i=e.doCollapse,s=e.currentState,l=s.undoDisabled,c=s.redoDisabled,d=e.translations,f=t.options,p=t.undo,h=t.redo,m=t.className,_=t.dropdownClassName,g=t.title;return a.a.createElement(I,{className:u()("rdw-history-dropdown",m),optionWrapperClassName:u()(_),expanded:n,doExpand:r,doCollapse:i,onExpandEvent:o,"aria-label":"rdw-history-control",title:g||d["components.controls.history.history"]},a.a.createElement("img",{src:k(t),alt:""}),0<=f.indexOf("undo")&&a.a.createElement(z,{value:"undo",onClick:this.onChange,disabled:l,className:u()("rdw-history-dropdownoption",p.className),title:p.title||d["components.controls.history.undo"]},a.a.createElement("img",{src:p.icon,alt:""})),0<=f.indexOf("redo")&&a.a.createElement(z,{value:"redo",onClick:this.onChange,disabled:c,className:u()("rdw-history-dropdownoption",h.className),title:h.title||d["components.controls.history.redo"]},a.a.createElement("img",{src:h.icon,alt:""})))}},{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=t.options,r=t.undo,o=t.redo,i=t.className,s=e.currentState,l=s.undoDisabled,c=s.redoDisabled,d=e.translations;return a.a.createElement("div",{className:u()("rdw-history-wrapper",i),"aria-label":"rdw-history-control"},0<=n.indexOf("undo")&&a.a.createElement(T,{value:"undo",onClick:this.onChange,className:u()(r.className),disabled:l,title:r.title||d["components.controls.history.undo"]},a.a.createElement("img",{src:r.icon,alt:""})),0<=n.indexOf("redo")&&a.a.createElement(T,{value:"redo",onClick:this.onChange,className:u()(o.className),disabled:c,title:o.title||d["components.controls.history.redo"]},a.a.createElement("img",{src:o.icon,alt:""})))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Vt.propTypes={expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,config:i.a.object,onChange:i.a.func,currentState:i.a.object,translations:i.a.object};var Zt=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==$t(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,Xt(e).call(this,t))).onExpandEvent=function(){n.signalExpanded=!n.state.expanded},n.onChange=function(e){var t=n.props,r=t.editorState,a=t.onChange,o=s.EditorState[e](r);o&&a(o)},n.doExpand=function(){n.setState({expanded:!0})},n.doCollapse=function(){n.setState({expanded:!1})};var r={expanded:!(n.expandCollapse=function(){n.setState({expanded:n.signalExpanded}),n.signalExpanded=!1}),undoDisabled:!1,redoDisabled:!1},a=t.editorState,o=t.modalHandler;return a&&(r.undoDisabled=0===a.getUndoStack().size,r.redoDisabled=0===a.getRedoStack().size),n.state=r,o.registerCallBack(n.expandCollapse),n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(e,r.Component),(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&e.editorState!==t&&this.setState({undoDisabled:0===t.getUndoStack().size,redoDisabled:0===t.getRedoStack().size})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,o=r.undoDisabled,i=r.redoDisabled,s=r.expanded,l=t.component||Vt;return a.a.createElement(l,{config:t,translations:n,currentState:{undoDisabled:o,redoDisabled:i},expanded:s,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.onChange})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();Zt.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var en={inline:V,blockType:oe,fontSize:pe,fontFamily:we,list:Ne,textAlign:Ue,colorPicker:Ge,link:ct,embedded:yt,emoji:jt,image:Ft,remove:Kt,history:Zt},tn=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,nn=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function rn(e){return String(e).replace(tn,"").match(nn)?e:"#"}function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ln(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()}),t)}function cn(e){var t,n,o=e.showOpenOptionOnHover;return n=t=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=function(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=on(e)).call.apply(t,[this].concat(a)))).state={showPopOver:!1},n.openLink=function(){var e=n.props,t=e.entityKey,r=e.contentState.getEntity(t).getData().url,a=window.open(rn(r),"blank");a&&a.focus()},n.toggleShowPopOver=function(){var e=!n.state.showPopOver;n.setState({showPopOver:e})},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sn(e,t)}(e,r.Component),(t=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.entityKey,r=e.contentState.getEntity(n).getData(),i=r.url,s=r.targetOption,l=this.state.showPopOver;return a.a.createElement("span",{className:"rdw-link-decorator-wrapper",onMouseEnter:this.toggleShowPopOver,onMouseLeave:this.toggleShowPopOver},a.a.createElement("a",{href:rn(i),target:s},t),l&&o?a.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuMDcyIDBIOC45MTVhLjkyNS45MjUgMCAwIDAgMCAxLjg0OWgyLjkyNUw2Ljk2MSA2LjcyN2EuOTE4LjkxOCAwIDAgMC0uMjcuNjU0YzAgLjI0Ny4wOTUuNDguMjcuNjU0YS45MTguOTE4IDAgMCAwIC42NTQuMjcuOTE4LjkxOCAwIDAgMCAuNjUzLS4yN2w0Ljg4LTQuODh2Mi45MjZhLjkyNS45MjUgMCAwIDAgMS44NDggMFYuOTI0QS45MjUuOTI1IDAgMCAwIDE0LjA3MiAweiIvPjxwYXRoIGQ9Ik0xMC42MjMgMTMuNDExSDEuNTg1VjQuMzcyaDYuNzk4bDEuNTg0LTEuNTg0SC43OTJBLjc5Mi43OTIgMCAwIDAgMCAzLjU4djEwLjYyNGMwIC40MzcuMzU1Ljc5Mi43OTIuNzkyaDEwLjYyNGEuNzkyLjc5MiAwIDAgMCAuNzkyLS43OTJWNS4wMjlsLTEuNTg1IDEuNTg0djYuNzk4eiIvPjwvZz48L3N2Zz4=",alt:"",onClick:this.openLink,className:"rdw-link-decorator-icon"}):void 0)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),t.propTypes={entityKey:i.a.string.isRequired,children:i.a.array,contentState:i.a.object},n}function un(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,un),this.getMentionComponent=function(){function e(e){var t=e.entityKey,r=e.children,o=e.contentState.getEntity(t).getData(),i=o.url,s=o.value;return a.a.createElement("a",{href:i||s,className:u()("rdw-mention-link",n)},r)}var n=t.className;return e.propTypes={entityKey:i.a.number,children:i.a.array,contentState:i.a.object},e},this.getMentionDecorator=function(){return{strategy:t.findMentionEntities,component:t.getMentionComponent()}},this.className=e}n(33),n(34),un.prototype.findMentionEntities=function(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"MENTION"===n.getEntity(t).getType()}),t)};var dn=un;function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(35);var _n=function e(t){var n=this;mn(this,e),this.findSuggestionEntities=function(e,t){if(n.config.getEditorState()){var r=n.config,a=r.separator,o=r.trigger,i=r.getSuggestions,s=(0,r.getEditorState)().getSelection();if(s.get("anchorKey")===e.get("key")&&s.get("anchorKey")===s.get("focusKey")){var l=e.getText(),c=(l=l.substr(0,s.get("focusOffset")===l.length-1?l.length:s.get("focusOffset")+1)).lastIndexOf(a+o),u=a+o;if((void 0===c||c<0)&&l[0]===o&&(c=0,u=o),0<=c){var d=l.substr(c+u.length,l.length);i().some((function(e){return!!e.value&&(n.config.caseSensitive?0<=e.value.indexOf(d):0<=e.value.toLowerCase().indexOf(d&&d.toLowerCase()))}))&&t(0===c?0:c+1,l.length)}}}},this.getSuggestionComponent=function(){var e,t,n=this.config;return t=e=function(){function e(){var t,r;mn(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(r=function(e,t){return!t||"object"!==fn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(t=pn(e)).call.apply(t,[this].concat(o)))).state={style:{left:15},activeOption:-1,showSuggestions:!0},r.onEditorKeyDown=function(e){var t=r.state.activeOption,n={};"ArrowDown"===e.key?(e.preventDefault(),t===r.filteredSuggestions.length-1?n.activeOption=0:n.activeOption=t+1):"ArrowUp"===e.key?n.activeOption=t<=0?r.filteredSuggestions.length-1:t-1:"Escape"===e.key?(n.showSuggestions=!1,g()):"Enter"===e.key&&r.addMention(),r.setState(n)},r.onOptionMouseEnter=function(e){var t=e.target.getAttribute("data-index");r.setState({activeOption:t})},r.onOptionMouseLeave=function(){r.setState({activeOption:-1})},r.setSuggestionReference=function(e){r.suggestion=e},r.setDropdownReference=function(e){r.dropdown=e},r.closeSuggestionDropdown=function(){r.setState({showSuggestions:!1})},r.filteredSuggestions=[],r.filterSuggestions=function(e){var t=e.children[0].props.text.substr(1),a=n.getSuggestions();r.filteredSuggestions=a&&a.filter((function(e){return!t||0===t.length||(n.caseSensitive?0<=e.value.indexOf(t):0<=e.value.toLowerCase().indexOf(t&&t.toLowerCase()))}))},r.addMention=function(){var e=r.state.activeOption,t=n.getEditorState(),a=n.onChange,o=n.separator,i=n.trigger,c=r.filteredSuggestions[e];c&&function(e,t,n,r,a){var o=a.value,i=a.url,c=e.getCurrentContent().createEntity("MENTION","IMMUTABLE",{text:"".concat(r).concat(o),value:o,url:i}).getLastCreatedEntityKey(),u=Object(l.getSelectedBlock)(e).getText(),d=e.getSelection().focusOffset,f=(u.lastIndexOf(n+r,d)||0)+1,p=!1;u.length===f+1&&(d=u.length)," "===u[d]&&(p=!0);var h=e.getSelection().merge({anchorOffset:f,focusOffset:d}),m=s.EditorState.acceptSelection(e,h),_=s.Modifier.replaceText(m.getCurrentContent(),h,"".concat(r).concat(o),m.getCurrentInlineStyle(),c);m=s.EditorState.push(m,_,"insert-characters"),p||(h=m.getSelection().merge({anchorOffset:f+o.length+r.length,focusOffset:f+o.length+r.length}),m=s.EditorState.acceptSelection(m,h),_=s.Modifier.insertText(m.getCurrentContent(),h," ",m.getCurrentInlineStyle(),void 0)),t(s.EditorState.push(m,_,"insert-characters"))}(t,a,o,i,c)},r}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(e,r.Component),(t=[{key:"componentDidMount",value:function(){var e,t,r,a=n.getWrapperRef().getBoundingClientRect(),o=this.suggestion.getBoundingClientRect(),i=this.dropdown.getBoundingClientRect();a.width<o.left-a.left+i.width?t=15:e=15,a.bottom<i.bottom&&(r=0),this.setState({style:{left:e,right:t,bottom:r}}),m.registerCallBack(this.onEditorKeyDown),_(),n.modalHandler.setSuggestionCallback(this.closeSuggestionDropdown),this.filterSuggestions(this.props)}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&(this.filterSuggestions(e),this.setState({showSuggestions:!0}))}},{key:"componentWillUnmount",value:function(){m.deregisterCallBack(this.onEditorKeyDown),g(),n.modalHandler.removeSuggestionCallback()}},{key:"render",value:function(){var e=this,t=this.props.children,r=this.state,o=r.activeOption,i=r.showSuggestions,s=n.dropdownClassName,l=n.optionClassName;return a.a.createElement("span",{className:"rdw-suggestion-wrapper",ref:this.setSuggestionReference,onClick:n.modalHandler.onSuggestionClick,"aria-haspopup":"true","aria-label":"rdw-suggestion-popup"},a.a.createElement("span",null,t),i&&a.a.createElement("span",{className:u()("rdw-suggestion-dropdown",s),contentEditable:"false",suppressContentEditableWarning:!0,style:this.state.style,ref:this.setDropdownReference},this.filteredSuggestions.map((function(t,n){return a.a.createElement("span",{key:n,spellCheck:!1,onClick:e.addMention,"data-index":n,onMouseEnter:e.onOptionMouseEnter,onMouseLeave:e.onOptionMouseLeave,className:u()("rdw-suggestion-option",l,{"rdw-suggestion-option-active":n===o})},t.text)}))))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),e.propTypes={children:i.a.array},t}.bind(this),this.getSuggestionDecorator=function(){return{strategy:n.findSuggestionEntities,component:n.getSuggestionComponent()}};var o=t.separator,c=t.trigger,d=t.getSuggestions,f=t.onChange,p=t.getEditorState,h=t.getWrapperRef,b=t.caseSensitive,y=t.dropdownClassName,v=t.optionClassName,A=t.modalHandler;this.config={separator:o,trigger:c,getSuggestions:d,onChange:f,getEditorState:p,getWrapperRef:h,caseSensitive:b,dropdownClassName:y,optionClassName:v,modalHandler:A}};function gn(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,gn),this.getHashtagComponent=function(){function e(e){var t=e.children,r=t[0].props.text;return a.a.createElement("a",{href:r,className:u()("rdw-hashtag-link",n)},t)}var n=t.className;return e.propTypes={children:i.a.object},e},this.findHashtagEntities=function(e,n){for(var r=e.getText(),a=0,o=0;0<r.length&&0<=a;)if(r[0]===t.hashCharacter?(o=a=0,r=r.substr(t.hashCharacter.length)):0<=(a=r.indexOf(t.separator+t.hashCharacter))&&(r=r.substr(a+(t.separator+t.hashCharacter).length),o+=a+t.separator.length),0<=a){var i=0<=r.indexOf(t.separator)?r.indexOf(t.separator):r.length,s=r.substr(0,i);s&&0<s.length&&(n(o,o+s.length+t.hashCharacter.length),o+=t.hashCharacter.length)}},this.getHashtagDecorator=function(){return{strategy:t.findHashtagEntities,component:t.getHashtagComponent()}},this.className=e.className,this.hashCharacter=e.hashCharacter||"#",this.separator=e.separator||" "}function bn(e){var t=e.block,n=e.contentState.getEntity(t.getEntityAt(0)).getData(),r=n.src,o=n.height,i=n.width;return a.a.createElement("iframe",{height:o,width:i,src:r,frameBorder:"0",allowFullScreen:!0,title:"Wysiwyg Embedded Content"})}n(36);bn.propTypes={block:i.a.object,contentState:i.a.object};var yn=bn;function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(37);var kn=function(e){var t,n;return n=t=function(){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(r=function(e,t){return!t||"object"!==vn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,(n=An(t)).call.apply(n,[this].concat(o)))).state={hovered:!1},r.setEntityAlignmentLeft=function(){r.setEntityAlignment("left")},r.setEntityAlignmentRight=function(){r.setEntityAlignment("right")},r.setEntityAlignmentCenter=function(){r.setEntityAlignment("none")},r.setEntityAlignment=function(t){var n=r.props,a=n.block,o=n.contentState,i=a.getEntityAt(0);o.mergeEntityData(i,{alignment:t}),e.onChange(s.EditorState.push(e.getEditorState(),o,"change-block-data")),r.setState({dummy:!0})},r.toggleHovered=function(){var e=!r.state.hovered;r.setState({hovered:e})},r}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(t,r.Component),(n=[{key:"renderAlignmentOptions",value:function(e){return a.a.createElement("div",{className:u()("rdw-image-alignment-options-popup",{"rdw-image-alignment-options-popup-right":"right"===e})},a.a.createElement(T,{onClick:this.setEntityAlignmentLeft,className:"rdw-image-alignment-option"},"L"),a.a.createElement(T,{onClick:this.setEntityAlignmentCenter,className:"rdw-image-alignment-option"},"C"),a.a.createElement(T,{onClick:this.setEntityAlignmentRight,className:"rdw-image-alignment-option"},"R"))}},{key:"render",value:function(){var t=this.props,n=t.block,r=t.contentState,o=this.state.hovered,i=e.isReadOnly,s=e.isImageAlignmentEnabled,l=r.getEntity(n.getEntityAt(0)).getData(),c=l.src,d=l.alignment,f=l.height,p=l.width,h=l.alt;return a.a.createElement("span",{onMouseEnter:this.toggleHovered,onMouseLeave:this.toggleHovered,className:u()("rdw-image-alignment",{"rdw-image-left":"left"===d,"rdw-image-right":"right"===d,"rdw-image-center":!d||"none"===d})},a.a.createElement("span",{className:"rdw-image-imagewrapper"},a.a.createElement("img",{src:c,alt:h,style:{height:f,width:p}}),!i()&&o&&s()?this.renderAlignmentOptions(d):void 0))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}(),t.propTypes={block:i.a.object,contentState:i.a.object},n},En={options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","embedded","emoji","image","remove","history"],inline:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["bold","italic","underline","strikethrough","monospace","superscript","subscript"],bold:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuMjM2IDBjMS42NTIgMCAyLjk0LjI5OCAzLjg2Ni44OTMuOTI1LjU5NSAxLjM4OCAxLjQ4NSAxLjM4OCAyLjY2OSAwIC42MDEtLjE3MyAxLjEzOS0uNTE2IDEuNjEtLjM0My40NzQtLjg0NC44My0xLjQ5OSAxLjA2OC44NDMuMTY3IDEuNDc0LjUyMyAxLjg5NSAxLjA3MS40MTkuNTUuNjMgMS4xODMuNjMgMS45MDMgMCAxLjI0NS0uNDQ0IDIuMTg3LTEuMzMgMi44MjUtLjg4Ni42NDEtMi4xNDQuOTYxLTMuNzY5Ljk2MUgwdi0yLjE2N2gxLjQ5NFYyLjE2N0gwVjBoNi4yMzZ6TTQuMzA4IDUuNDQ2aDIuMDI0Yy43NTIgMCAxLjMzLS4xNDMgMS43MzQtLjQzLjQwNS0uMjg1LjYwOC0uNzAxLjYwOC0xLjI1IDAtLjYtLjIwNC0xLjA0NC0uNjEyLTEuMzMtLjQwOC0uMjg2LTEuMDE2LS40MjctMS44MjYtLjQyN0g0LjMwOHYzLjQzN3ptMCAxLjgwNFYxMWgyLjU5M2MuNzQ3IDAgMS4zMTQtLjE1MiAxLjcwNy0uNDUyLjM5LS4zLjU4OC0uNzQ1LjU4OC0xLjMzNCAwLS42MzYtLjE2OC0xLjEyNC0uNS0xLjQ2LS4zMzYtLjMzNS0uODY0LS41MDQtMS41ODItLjUwNEg0LjMwOHoiIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",className:void 0,title:void 0},italic:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZD0iTTcgM1YyaDR2MUg5Ljc1M2wtMyAxMEg4djFINHYtMWgxLjI0N2wzLTEwSDd6Ii8+PC9zdmc+",className:void 0,title:void 0},underline:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZD0iTTYuMDQ1IDJ2Ljk5Mkw0Ljc4NSAzdjUuMTcyYzAgLjg1OS4yNDMgMS41MTIuNzI3IDEuOTU3czEuMTI0LjY2OCAxLjkxOC42NjhjLjgzNiAwIDEuNTA5LS4yMjEgMi4wMTktLjY2NC41MTEtLjQ0Mi43NjYtMS4wOTYuNzY2LTEuOTYxVjNsLTEuMjYtLjAwOFYySDEzdi45OTJMMTEuNzM5IDN2NS4xNzJjMCAxLjIzNC0uMzk4IDIuMTgxLTEuMTk1IDIuODQtLjc5Ny42NTktMS44MzUuOTg4LTMuMTE0Ljk4OC0xLjI0MiAwLTIuMjQ4LS4zMjktMy4wMTctLjk4OC0uNzY5LS42NTktMS4xNTItMS42MDUtMS4xNTItMi44NFYzTDIgMi45OTJWMmg0LjA0NXpNMiAxM2gxMXYxSDJ6Ii8+PC9zdmc+",className:void 0,title:void 0},strikethrough:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNC4wNCA1Ljk1NGg2LjIxNWE3LjQxMiA3LjQxMiAwIDAgMC0uNzk1LS40MzggMTEuOTA3IDExLjkwNyAwIDAgMC0xLjQ0Ny0uNTU3Yy0xLjE4OC0uMzQ4LTEuOTY2LS43MTEtMi4zMzQtMS4wODgtLjM2OC0uMzc3LS41NTItLjc3LS41NTItMS4xODEgMC0uNDk1LjE4Ny0uOTA2LjU2LTEuMjMyLjM4LS4zMzEuODg3LS40OTcgMS41MjMtLjQ5Ny42OCAwIDEuMjY2LjI1NSAxLjc1Ny43NjcuMjk1LjMxNS41ODIuODkxLjg2MSAxLjczbC4xMTcuMDE2LjcwMy4wNS4xLS4wMjRjLjAyOC0uMTUyLjA0Mi0uMjc5LjA0Mi0uMzggMC0uMzM3LS4wMzktLjg1Mi0uMTE3LTEuNTQ0YTkuMzc0IDkuMzc0IDAgMCAwLS4xNzYtLjk5NUM5Ljg4LjM3OSA5LjM4NS4yNDQgOS4wMTcuMTc2IDguMzY1LjA3IDcuODk5LjAxNiA3LjYyLjAxNmMtMS40NSAwLTIuNTQ1LjM1Ny0zLjI4NyAxLjA3MS0uNzQ3LjcyLTEuMTIgMS41ODktMS4xMiAyLjYwNyAwIC41MTEuMTMzIDEuMDQuNCAxLjU4Ni4xMjkuMjUzLjI3LjQ3OC40MjcuNjc0ek04LjI4IDguMTE0Yy41NzUuMjM2Ljk1Ny40MzYgMS4xNDcuNTk5LjQ1MS40MS42NzcuODUyLjY3NyAxLjMyNCAwIC4zODMtLjEzLjc0NS0uMzkzIDEuMDg4LS4yNS4zMzgtLjU5LjU4LTEuMDIuNzI2YTMuNDE2IDMuNDE2IDAgMCAxLTEuMTYzLjIyOGMtLjQwNyAwLS43NzUtLjA2Mi0xLjEwNC0uMTg2YTIuNjk2IDIuNjk2IDAgMCAxLS44NzgtLjQ4IDMuMTMzIDMuMTMzIDAgMCAxLS42Ny0uNzk0IDEuNTI3IDEuNTI3IDAgMCAxLS4xMDQtLjIyNyA1Ny41MjMgNTcuNTIzIDAgMCAwLS4xODgtLjQ3MyAyMS4zNzEgMjEuMzcxIDAgMCAwLS4yNTEtLjU5OWwtLjg1My4wMTd2LjM3MWwtLjAxNy4zMTNhOS45MiA5LjkyIDAgMCAwIDAgLjU3M2MuMDExLjI3LjAxNy43MDkuMDE3IDEuMzE2di4xMWMwIC4wNzkuMDIyLjE0LjA2Ny4xODUuMDgzLjA2OC4yODQuMTQ3LjYwMi4yMzdsMS4xNy4zMzdjLjQ1Mi4xMy45OTYuMTk0IDEuNjMyLjE5NC42ODYgMCAxLjI1Mi0uMDU5IDEuNjk4LS4xNzdhNC42OTQgNC42OTQgMCAwIDAgMS4yOC0uNTU3Yy40MDEtLjI1OS43MDUtLjQ4Ni45MTEtLjY4My4yNjgtLjI3Ni40NjYtLjU2OC41OTQtLjg3OGE0Ljc0IDQuNzQgMCAwIDAgLjM0My0xLjc4OGMwLS4yOTgtLjAyLS41NTctLjA1OC0uNzc2SDguMjgxek0xNC45MTQgNi41N2EuMjYuMjYgMCAwIDAtLjE5My0uMDc2SC4yNjhhLjI2LjI2IDAgMCAwLS4xOTMuMDc2LjI2NC4yNjQgMCAwIDAtLjA3NS4xOTR2LjU0YzAgLjA3OS4wMjUuMTQzLjA3NS4xOTRhLjI2LjI2IDAgMCAwIC4xOTMuMDc2SDE0LjcyYS4yNi4yNiAwIDAgMCAuMTkzLS4wNzYuMjY0LjI2NCAwIDAgMCAuMDc1LS4xOTR2LS41NGEuMjY0LjI2NCAwIDAgMC0uMDc1LS4xOTR6Ii8+PC9nPjwvc3ZnPg==",className:void 0,title:void 0},monospace:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzQ0NCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMS4wMjEgMi45MDZjLjE4NiAxLjIxOS4zNzIgMS41LjM3MiAyLjcxOUMxLjM5MyA2LjM3NSAwIDcuMDMxIDAgNy4wMzF2LjkzOHMxLjM5My42NTYgMS4zOTMgMS40MDZjMCAxLjIxOS0uMTg2IDEuNS0uMzcyIDIuNzE5Qy43NDMgMTQuMDYzIDEuNzY0IDE1IDIuNjkzIDE1aDEuOTV2LTEuODc1cy0xLjY3Mi4xODgtMS42NzItLjkzOGMwLS44NDMuMTg2LS44NDMuMzcyLTIuNzE4LjA5My0uODQ0LS40NjQtMS41LTEuMDIyLTEuOTY5LjU1OC0uNDY5IDEuMTE1LTEuMDMxIDEuMDIyLTEuODc1QzMuMDY0IDMuNzUgMi45NyAzLjc1IDIuOTcgMi45MDZjMC0xLjEyNSAxLjY3Mi0xLjAzMSAxLjY3Mi0xLjAzMVYwaC0xLjk1QzEuNjcgMCAuNzQzLjkzOCAxLjAyIDIuOTA2ek0xMS45NzkgMi45MDZjLS4xODYgMS4yMTktLjM3MiAxLjUtLjM3MiAyLjcxOSAwIC43NSAxLjM5MyAxLjQwNiAxLjM5MyAxLjQwNnYuOTM4cy0xLjM5My42NTYtMS4zOTMgMS40MDZjMCAxLjIxOS4xODYgMS41LjM3MiAyLjcxOS4yNzggMS45NjktLjc0MyAyLjkwNi0xLjY3MiAyLjkwNmgtMS45NXYtMS44NzVzMS42NzIuMTg4IDEuNjcyLS45MzhjMC0uODQzLS4xODYtLjg0My0uMzcyLTIuNzE4LS4wOTMtLjg0NC40NjQtMS41IDEuMDIyLTEuOTY5LS41NTgtLjQ2OS0xLjExNS0xLjAzMS0xLjAyMi0xLjg3NS4xODYtMS44NzUuMzcyLTEuODc1LjM3Mi0yLjcxOSAwLTEuMTI1LTEuNjcyLTEuMDMxLTEuNjcyLTEuMDMxVjBoMS45NWMxLjAyMiAwIDEuOTUuOTM4IDEuNjcyIDIuOTA2eiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},superscript:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTcuMzA1IDEwLjE2NUwxMS44NjUgMTVIOS4wNTdsLTMuMTkyLTMuNTM2TDIuNzQ2IDE1SDBsNC41MjMtNC44MzVMLjIxOCA1LjYwM2gyLjc3TDUuOTg2IDguOTEgOS4wMSA1LjYwM2gyLjY0OWwtNC4zNTQgNC41NjJ6bTYuMjM0LTMuMjY5bDEuODc5LTEuMzA2Yy42NC0uNDE2IDEuMDYyLS44MDEgMS4yNjQtMS4xNTcuMjAxLS4zNTYuMzAyLS43MzguMzAyLTEuMTQ4IDAtLjY2OS0uMjM3LTEuMjEtLjcxLTEuNjItLjQ3NC0uNDExLTEuMDk3LS42MTctMS44NjgtLjYxNy0uNzQ0IDAtMS4zNC4yMDgtMS43ODUuNjI0LS40NDcuNDE2LS42NyAxLjA0My0uNjcgMS44ODFoMS40MzZjMC0uNS4wOTQtLjg0Ni4yODEtMS4wMzguMTg4LS4xOTEuNDQ1LS4yODcuNzcyLS4yODdzLjU4NS4wOTcuNzc3LjI5MmMuMTkuMTk1LjI4Ni40MzcuMjg2LjcyNiAwIC4yOS0uMDg5LjU1LS4yNjYuNzg1cy0uNjcuNjI4LTEuNDc5IDEuMTg0Yy0uNjkxLjQ3Ny0xLjYyNy45MjctMS45MDggMS4zNWwuMDE0IDEuNTY5SDE3VjYuODk2aC0zLjQ2MXoiLz48L3N2Zz4=",className:void 0,title:void 0},subscript:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjg2NiAxMS42NDZIOS4wNkw1Ljg2NyA3Ljk0MmwtMy4xMjEgMy43MDRIMGw0LjUyNC01LjA2NEwuMjE4IDEuODA0aDIuNzdsMyAzLjQ2NCAzLjAyMy0zLjQ2NGgyLjY1TDcuMzA2IDYuNTgybDQuNTYgNS4wNjR6bTEuNzI1IDIuMDU4bDEuODI3LTEuMzY4Yy42NC0uNDM1IDEuMDYyLS44NCAxLjI2NC0xLjIxMi4yMDItLjM3Mi4zMDItLjc3My4zMDItMS4yMDIgMC0uNy0uMjM3LTEuMjY2LS43MS0xLjY5Ni0uNDc0LS40MzEtMS4wOTctLjY0Ni0xLjg2OS0uNjQ2LS43NDQgMC0xLjM0LjIxOC0xLjc4NS42NTMtLjQ0Ni40MzYtLjY3IDEuMDkyLS42NyAxLjk3aDEuNDM2YzAtLjUyNC4wOTQtLjg4Ni4yODEtMS4wODcuMTg4LS4yLjQ0NS0uMzAxLjc3Mi0uMzAxcy41ODYuMTAyLjc3Ny4zMDZjLjE5LjIwNC4yODYuNDU4LjI4Ni43NiAwIC4zMDMtLjA4OC41NzctLjI2Ni44MjItLjE3Ny4yNDUtLjY3LjY1OC0xLjQ3OCAxLjI0LS42OTIuNS0xLjYyOC45NzEtMS45MSAxLjQxM0wxMS44NjQgMTVIMTd2LTEuMjk2aC0zLjQxeiIvPjwvc3ZnPg==",className:void 0,title:void 0}},blockType:{inDropdown:!0,options:["Normal","H1","H2","H3","H4","H5","H6","Blockquote","Code"],className:void 0,component:void 0,dropdownClassName:void 0,title:void 0},fontSize:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTEuOTIxIDMuMTE5YS40MjcuNDI3IDAgMCAwIC4zMzUuMTY0aC45N2EuNDI2LjQyNiAwIDAgMCAuMzA0LS4xMy40NDEuNDQxIDAgMCAwIC4xMjUtLjMxbC4wMDItMi40MWEuNDM0LjQzNCAwIDAgMC0uNDMtLjQzMkguNDNBLjQzNC40MzQgMCAwIDAgMCAuNDR2Mi40MDZjMCAuMjQyLjE5Mi40MzguNDMuNDM4aC45N2MuMTMgMCAuMjU0LS4wNi4zMzUtLjE2NWwuNzMtLjkzSDUuNTR2MTEuMzZjMCAuMjQxLjE5Mi40MzcuNDMuNDM3aDEuNzE3Yy4yMzcgMCAuNDMtLjE5Ni40My0uNDM3VjIuMTg4aDMuMDdsLjczNC45MzF6TTEzLjg5OCAxMS4yNjNhLjQyNS40MjUgMCAwIDAtLjQ4Mi0uMTQ2bC0uNTQ3LjE5NFY5LjYxN2EuNDQyLjQ0MiAwIDAgMC0uMTI2LS4zMS40MjYuNDI2IDAgMCAwLS4zMDQtLjEyN2gtLjQyOWEuNDM0LjQzNCAwIDAgMC0uNDMuNDM3djEuNjk0bC0uNTQ3LS4xOTRhLjQyNS40MjUgMCAwIDAtLjQ4MS4xNDYuNDQ0LjQ0NCAwIDAgMC0uMDE2LjUxMmwxLjMzMiAyLjAxN2EuNDI3LjQyNyAwIDAgMCAuNzEzIDBsMS4zMzMtMi4wMTdhLjQ0NC40NDQgMCAwIDAtLjAxNi0uNTEyeiIvPjwvZz48L3N2Zz4=",options:[8,9,10,11,12,14,16,18,24,30,36,48,60,72,96],className:void 0,component:void 0,dropdownClassName:void 0,title:void 0},fontFamily:{options:["Arial","Georgia","Impact","Tahoma","Times New Roman","Verdana"],className:void 0,component:void 0,dropdownClassName:void 0,title:void 0},list:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["unordered","ordered","indent","outdent"],unordered:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMS43MiAzLjQyN2MuOTUxIDAgMS43MjItLjc2OCAxLjcyMi0xLjcwOFMyLjY3LjAxIDEuNzIuMDFDLjc3LjAwOCAwIC43NzUgMCAxLjcxNWMwIC45NC43NzQgMS43MTEgMS43MiAxLjcxMXptMC0yLjYyNWMuNTEgMCAuOTIyLjQxMi45MjIuOTE0YS45Mi45MiAwIDAgMS0xLjg0MiAwIC45Mi45MiAwIDAgMSAuOTItLjkxNHpNMS43MiA4LjcwM2MuOTUxIDAgMS43MjItLjc2OCAxLjcyMi0xLjcwOFMyLjY3IDUuMjg3IDEuNzIgNS4yODdDLjc3IDUuMjg3IDAgNi4wNTIgMCA2Ljk5NXMuNzc0IDEuNzA4IDEuNzIgMS43MDh6bTAtMi42MjJjLjUxIDAgLjkyMi40MTIuOTIyLjkxNGEuOTIuOTIgMCAwIDEtMS44NDIgMGMwLS41MDUuNDE1LS45MTQuOTItLjkxNHpNMS43MiAxMy45ODJjLjk1MSAwIDEuNzIyLS43NjggMS43MjItMS43MDggMC0uOTQzLS43NzQtMS43MDgtMS43MjEtMS43MDgtLjk0NyAwLTEuNzIxLjc2OC0xLjcyMSAxLjcwOHMuNzc0IDEuNzA4IDEuNzIgMS43MDh6bTAtMi42MjVjLjUxIDAgLjkyMi40MTIuOTIyLjkxNGEuOTIuOTIgMCAxIDEtMS44NDIgMCAuOTIuOTIgMCAwIDEgLjkyLS45MTR6TTUuNzQ0IDIuMTE1aDkuODQ1YS40LjQgMCAwIDAgLjQwMS0uMzk5LjQuNCAwIDAgMC0uNDAxLS4zOTlINS43NDRhLjQuNCAwIDAgMC0uNDAyLjM5OS40LjQgMCAwIDAgLjQwMi4zOTl6TTUuNzQ0IDcuMzk0aDkuODQ1YS40LjQgMCAwIDAgLjQwMS0uMzk5LjQuNCAwIDAgMC0uNDAxLS4zOThINS43NDRhLjQuNCAwIDAgMC0uNDAyLjM5OC40LjQgMCAwIDAgLjQwMi4zOTl6TTUuNzQ0IDEyLjY3aDkuODQ1YS40LjQgMCAwIDAgLjQwMS0uMzk5LjQuNCAwIDAgMC0uNDAxLS4zOTlINS43NDRhLjQuNCAwIDAgMC0uNDAyLjQuNC40IDAgMCAwIC40MDIuMzk4eiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},ordered:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNC4yMDIgMS40NjZoOC4xNWMuMzM4IDAgLjYxMi0uMzIyLjYxMi0uNzIgMC0uMzk3LS4yNzQtLjcyLS42MTItLjcyaC04LjE1Yy0uMzM4IDAtLjYxMS4zMjMtLjYxMS43MiAwIC4zOTguMjczLjcyLjYxLjcyek0xMi4zNTIgNS43ODNoLTguMTVjLS4zMzggMC0uNjExLjMyMi0uNjExLjcyIDAgLjM5Ny4yNzMuNzIuNjEuNzJoOC4xNTFjLjMzOCAwIC42MTItLjMyMy42MTItLjcyIDAtLjM5OC0uMjc0LS43Mi0uNjEyLS43MnpNMTIuMzUyIDExLjU0aC04LjE1Yy0uMzM4IDAtLjYxMS4zMjItLjYxMS43MiAwIC4zOTYuMjczLjcxOS42MS43MTloOC4xNTFjLjMzOCAwIC42MTItLjMyMy42MTItLjcyIDAtLjM5Ny0uMjc0LS43Mi0uNjEyLS43MnpNLjc2NyAxLjI0OXYxLjgwMmMwIC4xOTUuMTM2LjM0My4zMTUuMzQzLjE3NiAwIC4zMTUtLjE1LjMxNS0uMzQzVi4zNTZjMC0uMTktLjEzMy0uMzM5LS4zMDItLjMzOS0uMTQ4IDAtLjIyMy4xMTgtLjI0Ny4xNTZhLjIyOC4yMjggMCAwIDAtLjAwMy4wMDVMLjU3OS42MjFhLjQ3NC40NzQgMCAwIDAtLjA5OC4yNzNjMCAuMTk0LjEyOC4zNTEuMjg2LjM1NXpNLjM1MiA4LjE5SDEuNTVjLjE1NyAwIC4yODUtLjE2Mi4yODUtLjM2MiAwLS4xOTgtLjEyOC0uMzU5LS4yODUtLjM1OUguNjh2LS4wMDZjMC0uMTA3LjIxLS4yODEuMzc4LS40MjIuMzM2LS4yNzguNzUzLS42MjUuNzUzLTEuMjI2IDAtLjU3LS4zNzYtMS0uODc0LTEtLjQ3NyAwLS44MzYuMzg1LS44MzYuODk3IDAgLjI5Ny4xNjQuNDAyLjMwNS40MDIuMiAwIC4zMjEtLjE3Ni4zMjEtLjM0NiAwLS4xMDYuMDIzLS4yMjguMjA0LS4yMjguMjQzIDAgLjI1LjI1NC4yNS4yODMgMCAuMjI4LS4yNTIuNDQyLS40OTUuNjQ5LS4zMDEuMjU1LS42NDIuNTQ0LS42NDIuOTkydi4zODRjMCAuMjA1LjE1OS4zNDMuMzA4LjM0M3pNMS43NyAxMC41NDNjMC0uNTkyLS4yOTYtLjkzMS0uODE0LS45MzEtLjY4IDAtLjg1OS41Ny0uODU5Ljg3MiAwIC4zNTEuMjIyLjM5LjMxOC4zOS4xODUgMCAuMzEtLjE0OC4zMS0uMzY2IDAtLjA4NC4wMjYtLjE4MS4yMjQtLjE4MS4xNDIgMCAuMi4wMjQuMi4yNjcgMCAuMjM3LS4wNDMuMjYzLS4yMTMuMjYzLS4xNjQgMC0uMjg4LjE1Mi0uMjg4LjM1NCAwIC4yLjEyNS4zNS4yOTEuMzUuMjI1IDAgLjI3LjEwOC4yNy4yODN2LjA3NWMwIC4yOTQtLjA5Ny4zNS0uMjc3LjM1LS4yNDggMC0uMjY3LS4xNS0uMjY3LS4xOTcgMC0uMTc0LS4wOTgtLjM1LS4zMTctLjM1LS4xOTIgMC0uMzA3LjE0MS0uMzA3LjM3OCAwIC40My4zMTMuODg4Ljg5NS44ODguNTY0IDAgLjkwMS0uNC45MDEtMS4wN3YtLjA3NGMwLS4yNzQtLjA3NC0uNTAyLS4yMTQtLjY2Ni4wOTYtLjE2My4xNDgtLjM4LjE0OC0uNjM1eiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},indent:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNS43MTYgMy4yMTFIMTd2MS4xOTdINS43MTZ6TTAgLjAyaDE3djEuMTk3SDB6TTAgMTIuNzgzaDE3djEuMTk3SDB6TTUuNzE2IDkuNTkzSDE3djEuMTk3SDUuNzE2ek01LjcxNiA2LjQwMkgxN3YxLjE5N0g1LjcxNnpNLjE4NyA5LjQ5MUwyLjUyIDcgLjE4NyA0LjUwOXoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},outdent:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNS4zOTYgMy4xOTNoMTAuNTczVjQuMzlINS4zOTZ6TS4wMzkuMDAzaDE1LjkzVjEuMkguMDM5ek0uMDM5IDEyLjc2NmgxNS45M3YxLjE5N0guMDM5ek01LjM5NiA5LjU3NWgxMC41NzN2MS4xOTdINS4zOTZ6TTUuMzk2IDYuMzg0aDEwLjU3M3YxLjE5N0g1LjM5NnpNMi4xODcgNC40OTFMMCA2Ljk4M2wyLjE4NyAyLjQ5MXoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},title:void 0},textAlign:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["left","center","right","justify"],left:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNOC40OTMgMTQuODg3SC4zMjZhLjMyNi4zMjYgMCAwIDEgMC0uNjUyaDguMTY3YS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjE4IDEwLjE2MkguMzI2YS4zMjYuMzI2IDAgMCAxIDAtLjY1M2gxNC4yOTJhLjMyNi4zMjYgMCAwIDEgMCAuNjUzek04LjQ5MyA1LjQzNUguMzI2YS4zMjYuMzI2IDAgMCAxIDAtLjY1Mmg4LjE2N2EuMzI2LjMyNiAwIDAgMSAwIC42NTJ6TTE0LjYxOC43MDlILjMyNmEuMzI2LjMyNiAwIDAgMSAwLS42NTJoMTQuMjkyYS4zMjYuMzI2IDAgMCAxIDAgLjY1MnoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},center:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTEuNTU2IDE0Ljg4N0gzLjM4OGEuMzI2LjMyNiAwIDAgMSAwLS42NTJoOC4xNjdhLjMyNi4zMjYgMCAwIDEgMCAuNjUyek0xNC42MTggMTAuMTYySC4zMjZhLjMyNi4zMjYgMCAwIDEgMC0uNjUzaDE0LjI5MmEuMzI2LjMyNiAwIDAgMSAwIC42NTN6TTExLjU1NiA1LjQzNUgzLjM4OGEuMzI2LjMyNiAwIDAgMSAwLS42NTJoOC4xNjdhLjMyNi4zMjYgMCAwIDEgMCAuNjUyek0xNC42MTguNzA5SC4zMjZhLjMyNi4zMjYgMCAwIDEgMC0uNjUyaDE0LjI5MmEuMzI2LjMyNiAwIDAgMSAwIC42NTJ6Ii8+PC9nPjwvc3ZnPg==",className:void 0,title:void 0},right:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNjE4IDE0Ljg4N0g2LjQ1YS4zMjYuMzI2IDAgMCAxIDAtLjY1Mmg4LjE2N2EuMzI2LjMyNiAwIDAgMSAwIC42NTJ6TTE0LjYxOCAxMC4xNjJILjMyNmEuMzI2LjMyNiAwIDAgMSAwLS42NTNoMTQuMjkyYS4zMjYuMzI2IDAgMCAxIDAgLjY1M3pNMTQuNjE4IDUuNDM1SDYuNDVhLjMyNi4zMjYgMCAwIDEgMC0uNjUyaDguMTY3YS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjE4LjcwOUguMzI2YS4zMjYuMzI2IDAgMCAxIDAtLjY1MmgxNC4yOTJhLjMyNi4zMjYgMCAwIDEgMCAuNjUyeiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},justify:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNjIgMTQuODg4SC4zMjVhLjMyNi4zMjYgMCAwIDEgMC0uNjUySDE0LjYyYS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjIgMTAuMTYySC4zMjVhLjMyNi4zMjYgMCAwIDEgMC0uNjUySDE0LjYyYS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjIgNS40MzZILjMyNWEuMzI2LjMyNiAwIDAgMSAwLS42NTJIMTQuNjJhLjMyNi4zMjYgMCAwIDEgMCAuNjUyek0xNC42Mi43MUguMzI1YS4zMjYuMzI2IDAgMCAxIDAtLjY1M0gxNC42MmEuMzI2LjMyNiAwIDAgMSAwIC42NTN6Ii8+PC9nPjwvc3ZnPg==",className:void 0,title:void 0},title:void 0},colorPicker:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNDA2LjU4NWExLjk5OCAxLjk5OCAwIDAgMC0yLjgyNSAwbC0uNTQuNTRhLjc0MS43NDEgMCAxIDAtMS4wNDggMS4wNDhsLjE3NS4xNzUtNS44MjYgNS44MjUtMi4wMjIgMi4wMjNhLjkxLjkxIDAgMCAwLS4yNjYuNjAybC0uMDA1LjEwOHYuMDAybC0uMDgxIDEuODI5YS4zMDIuMzAyIDAgMCAwIC4zMDIuMzE2aC4wMTNsLjk3LS4wNDQuNTkyLS4wMjYuMjY4LS4wMTJjLjI5Ny0uMDEzLjU3OS0uMTM3Ljc5LS4zNDdsNy43Ny03Ljc3LjE0Ni4xNDRhLjc0Ljc0IDAgMCAwIDEuMDQ4IDBjLjI5LS4yOS4yOS0uNzU5IDAtMS4wNDhsLjU0LS41NGMuNzgtLjc4Ljc4LTIuMDQ0IDAtMi44MjV6TTguNzk1IDcuMzMzbC0yLjczLjUxNSA0LjQ1Mi00LjQ1MiAxLjEwOCAxLjEwNy0yLjgzIDIuODN6TTIuMDggMTMuNjczYy0xLjE0OCAwLTIuMDguMjk1LTIuMDguNjYgMCAuMzYzLjkzMi42NTggMi4wOC42NTggMS4xNSAwIDIuMDgtLjI5NCAyLjA4LS42NTkgMC0uMzY0LS45My0uNjU5LTIuMDgtLjY1OXoiLz48L2c+PC9zdmc+",className:void 0,component:void 0,popupClassName:void 0,colors:["rgb(97,189,109)","rgb(26,188,156)","rgb(84,172,210)","rgb(44,130,201)","rgb(147,101,184)","rgb(71,85,119)","rgb(204,204,204)","rgb(65,168,95)","rgb(0,168,133)","rgb(61,142,185)","rgb(41,105,176)","rgb(85,57,130)","rgb(40,50,78)","rgb(0,0,0)","rgb(247,218,100)","rgb(251,160,38)","rgb(235,107,86)","rgb(226,80,65)","rgb(163,143,132)","rgb(239,239,239)","rgb(255,255,255)","rgb(250,197,28)","rgb(243,121,52)","rgb(209,72,65)","rgb(184,49,47)","rgb(124,112,107)","rgb(209,213,216)"],title:void 0},link:{inDropdown:!1,className:void 0,component:void 0,popupClassName:void 0,dropdownClassName:void 0,showOpenOptionOnHover:!0,defaultTargetOption:"_self",options:["link","unlink"],link:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEzLjk2Ny45NUEzLjIyNiAzLjIyNiAwIDAgMCAxMS42Ny4wMDJjLS44NyAwLTEuNjg2LjMzNy0yLjI5Ny45NDhMNy4xMDUgMy4yMThBMy4yNDcgMy4yNDcgMCAwIDAgNi4yNCA2LjI0YTMuMjI1IDMuMjI1IDAgMCAwLTMuMDIyLjg2NUwuOTUgOS4zNzNhMy4yNTMgMy4yNTMgMCAwIDAgMCA0LjU5NCAzLjIyNiAzLjIyNiAwIDAgMCAyLjI5Ny45NDhjLjg3IDAgMS42ODYtLjMzNiAyLjI5OC0uOTQ4TDcuODEyIDExLjdhMy4yNDcgMy4yNDcgMCAwIDAgLjg2NS0zLjAyMyAzLjIyNSAzLjIyNSAwIDAgMCAzLjAyMi0uODY1bDIuMjY4LTIuMjY3YTMuMjUyIDMuMjUyIDAgMCAwIDAtNC41OTV6TTcuMTA1IDEwLjk5M0w0LjgzNyAxMy4yNmEyLjIzMyAyLjIzMyAwIDAgMS0xLjU5LjY1NSAyLjIzMyAyLjIzMyAwIDAgMS0xLjU5LS42NTUgMi4yNTIgMi4yNTIgMCAwIDEgMC0zLjE4bDIuMjY4LTIuMjY4YTIuMjMyIDIuMjMyIDAgMCAxIDEuNTktLjY1NWMuNDMgMCAuODQxLjEyIDEuMTk1LjM0M0w0Ljc3MiA5LjQzOGEuNS41IDAgMSAwIC43MDcuNzA3bDEuOTM5LTEuOTM4Yy41NDUuODY4LjQ0MiAyLjAzLS4zMTMgMi43ODV6bTYuMTU1LTYuMTU1bC0yLjI2OCAyLjI2N2EyLjIzMyAyLjIzMyAwIDAgMS0xLjU5LjY1NWMtLjQzMSAwLS44NDEtLjEyLTEuMTk1LS4zNDNsMS45MzgtMS45MzhhLjUuNSAwIDEgMC0uNzA3LS43MDdMNy40OTkgNi43MWEyLjI1MiAyLjI1MiAwIDAgMSAuMzEzLTIuNzg1bDIuMjY3LTIuMjY4YTIuMjMzIDIuMjMzIDAgMCAxIDEuNTktLjY1NSAyLjIzMyAyLjIzMyAwIDAgMSAyLjI0NiAyLjI0NWMwIC42MDMtLjIzMiAxLjE2OC0uNjU1IDEuNTl6IiBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",className:void 0,title:void 0},unlink:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTMuOTU2IDEuMDM3YTMuNTUgMy41NSAwIDAgMC01LjAxNCAwTDYuNDM2IDMuNTQ0YS41NDUuNTQ1IDAgMSAwIC43Ny43N2wyLjUwOC0yLjUwNmEyLjQzOCAyLjQzOCAwIDAgMSAxLjczNS0uNzE1Yy42NTggMCAxLjI3NS4yNTQgMS43MzYuNzE1LjQ2LjQ2MS43MTUgMS4wNzguNzE1IDEuNzM2IDAgLjY1OC0uMjU0IDEuMjc0LS43MTUgMS43MzVMOS45MDcgOC41NThhMi40NTggMi40NTggMCAwIDEtMy40NzIgMCAuNTQ1LjU0NSAwIDEgMC0uNzcxLjc3MSAzLjUzNCAzLjUzNCAwIDAgMCAyLjUwNyAxLjAzN2MuOTA4IDAgMS44MTYtLjM0NiAyLjUwNy0xLjAzN2wzLjI3OC0zLjI3OGEzLjUyIDMuNTIgMCAwIDAgMS4wMzUtMi41MDdjMC0uOTUtLjM2Ny0xLjg0LTEuMDM1LTIuNTA3eiIvPjxwYXRoIGQ9Ik03LjQgMTEuMDY1bC0yLjEyMiAyLjEyYTIuNDM3IDIuNDM3IDAgMCAxLTEuNzM1LjcxNiAyLjQzNyAyLjQzNyAwIDAgMS0xLjczNi0uNzE1IDIuNDU3IDIuNDU3IDAgMCAxIDAtMy40NzFsMy4wODYtMy4wODZhMi40MzggMi40MzggMCAwIDEgMS43MzUtLjcxNWMuNjU4IDAgMS4yNzUuMjU0IDEuNzM2LjcxNWEuNTQ1LjU0NSAwIDEgMCAuNzcxLS43NzEgMy41NSAzLjU1IDAgMCAwLTUuMDE0IDBMMS4wMzYgOC45NDRBMy41MiAzLjUyIDAgMCAwIDAgMTEuNDVjMCAuOTUuMzY3IDEuODQgMS4wMzUgMi41MDdhMy41MiAzLjUyIDAgMCAwIDIuNTA2IDEuMDM1Yy45NSAwIDEuODQtLjM2OCAyLjUwNy0xLjAzNWwyLjEyMi0yLjEyMWEuNTQ1LjU0NSAwIDAgMC0uNzcxLS43NzF6TTkuMjc0IDEyLjAwMmEuNTQ2LjU0NiAwIDAgMC0uNTQ2LjU0NXYxLjYzN2EuNTQ2LjU0NiAwIDAgMCAxLjA5MSAwdi0xLjYzN2EuNTQ1LjU0NSAwIDAgMC0uNTQ1LS41NDV6TTExLjIzIDExLjYxNmEuNTQ1LjU0NSAwIDEgMC0uNzcyLjc3MmwxLjE1NyAxLjE1NmEuNTQzLjU0MyAwIDAgMCAuNzcxIDAgLjU0NS41NDUgMCAwIDAgMC0uNzdsLTEuMTU2LTEuMTU4ek0xMi41MzcgOS44MkgxMC45YS41NDYuNTQ2IDAgMCAwIDAgMS4wOTFoMS42MzdhLjU0Ni41NDYgMCAwIDAgMC0xLjA5ek00LjkxIDMuNTQ3YS41NDYuNTQ2IDAgMCAwIC41NDUtLjU0NVYxLjM2NmEuNTQ2LjU0NiAwIDAgMC0xLjA5IDB2MS42MzZjMCAuMzAxLjI0NC41NDUuNTQ1LjU0NXpNMi44ODggMy45MzNhLjU0My41NDMgMCAwIDAgLjc3MSAwIC41NDUuNTQ1IDAgMCAwIDAtLjc3MUwyLjUwMiAyLjAwNWEuNTQ1LjU0NSAwIDEgMC0uNzcxLjc3bDEuMTU3IDEuMTU4ek0xLjYyOCA1LjczaDEuNjM2YS41NDYuNTQ2IDAgMCAwIDAtMS4wOTJIMS42MjhhLjU0Ni41NDYgMCAwIDAgMCAxLjA5MXoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},linkCallback:void 0},emoji:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHZpZXdCb3g9IjE1LjcyOSAyMi4wODIgMTcgMTciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTI5LjcwOCAyNS4xMDRjLTMuMDIxLTMuMDIyLTcuOTM3LTMuMDIyLTEwLjk1OCAwLTMuMDIxIDMuMDItMy4wMiA3LjkzNiAwIDEwLjk1OCAzLjAyMSAzLjAyIDcuOTM3IDMuMDIgMTAuOTU4LS4wMDEgMy4wMi0zLjAyMSAzLjAyLTcuOTM2IDAtMTAuOTU3em0tLjg0NSAxMC4xMTJhNi41NiA2LjU2IDAgMCAxLTkuMjY4IDAgNi41NiA2LjU2IDAgMCAxIDAtOS4yNjcgNi41NiA2LjU2IDAgMCAxIDkuMjY4IDAgNi41NiA2LjU2IDAgMCAxIDAgOS4yNjd6bS03LjUyNC02LjczYS45MDYuOTA2IDAgMSAxIDEuODExIDAgLjkwNi45MDYgMCAwIDEtMS44MTEgMHptNC4xMDYgMGEuOTA2LjkwNiAwIDEgMSAxLjgxMiAwIC45MDYuOTA2IDAgMCAxLTEuODEyIDB6bTIuMTQxIDMuNzA4Yy0uNTYxIDEuMjk4LTEuODc1IDIuMTM3LTMuMzQ4IDIuMTM3LTEuNTA1IDAtMi44MjctLjg0My0zLjM2OS0yLjE0N2EuNDM4LjQzOCAwIDAgMSAuODEtLjMzNmMuNDA1Ljk3NiAxLjQxIDEuNjA3IDIuNTU5IDEuNjA3IDEuMTIzIDAgMi4xMjEtLjYzMSAyLjU0NC0xLjYwOGEuNDM4LjQzOCAwIDAgMSAuODA0LjM0N3oiLz48L3N2Zz4=",className:void 0,component:void 0,popupClassName:void 0,emojis:["😀","😁","😂","😃","😉","😋","😎","😍","😗","🤗","🤔","😣","😫","😴","😌","🤓","😛","😜","😠","😇","😷","😈","👻","😺","😸","😹","😻","😼","😽","🙀","🙈","🙉","🙊","👼","👮","🕵","💂","👳","🎅","👸","👰","👲","🙍","🙇","🚶","🏃","💃","⛷","🏂","🏌","🏄","🚣","🏊","⛹","🏋","🚴","👫","💪","👈","👉","👆","🖕","👇","🖖","🤘","🖐","👌","👍","👎","✊","👊","👏","🙌","🙏","🐵","🐶","🐇","🐥","🐸","🐌","🐛","🐜","🐝","🍉","🍄","🍔","🍤","🍨","🍪","🎂","🍰","🍾","🍷","🍸","🍺","🌍","🚑","⏰","🌙","🌝","🌞","⭐","🌟","🌠","🌨","🌩","⛄","🔥","🎄","🎈","🎉","🎊","🎁","🎗","🏀","🏈","🎲","🔇","🔈","📣","🔔","🎵","🎷","💰","🖊","📅","✅","❎","💯"],title:void 0},embedded:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuNzA4IDYuNjE1YS40MzYuNDM2IDAgMCAwLS41NDMuMjkxbC0xLjgzIDYuMDQ1YS40MzYuNDM2IDAgMCAwIC44MzMuMjUyTDcgNy4xNmEuNDM2LjQzNiAwIDAgMC0uMjktLjU0NHpNOC45MzEgNi42MTVhLjQzNi40MzYgMCAwIDAtLjU0My4yOTFsLTEuODMgNi4wNDVhLjQzNi40MzYgMCAwIDAgLjgzNC4yNTJsMS44My02LjA0NGEuNDM2LjQzNiAwIDAgMC0uMjktLjU0NHoiLz48cGF0aCBkPSJNMTYuNTY0IDBILjQzNkEuNDM2LjQzNiAwIDAgMCAwIC40MzZ2MTYuMTI4YzAgLjI0LjE5NS40MzYuNDM2LjQzNmgxNi4xMjhjLjI0IDAgLjQzNi0uMTk1LjQzNi0uNDM2Vi40MzZBLjQzNi40MzYgMCAwIDAgMTYuNTY0IDB6TTMuNDg3Ljg3MmgxMC4wMjZ2MS43NDNIMy40ODdWLjg3MnptLTIuNjE1IDBoMS43NDN2MS43NDNILjg3MlYuODcyem0xNS4yNTYgMTUuMjU2SC44NzJWMy40ODhoMTUuMjU2djEyLjY0em0wLTEzLjUxM2gtMS43NDNWLjg3MmgxLjc0M3YxLjc0M3oiLz48Y2lyY2xlIGN4PSI5My44NjciIGN5PSIyNDUuMDY0IiByPSIxMy4xMjgiIHRyYW5zZm9ybT0ibWF0cml4KC4wMzMyIDAgMCAuMDMzMiAwIDApIi8+PGNpcmNsZSBjeD0iOTMuODY3IiBjeT0iMzYwLjU5MiIgcj0iMTMuMTI4IiB0cmFuc2Zvcm09Im1hdHJpeCguMDMzMiAwIDAgLjAzMzIgMCAwKSIvPjxwYXRoIGQ9Ik0xNC4yNTQgMTIuNjQxSDEwLjJhLjQzNi40MzYgMCAwIDAgMCAuODcyaDQuMDU0YS40MzYuNDM2IDAgMCAwIDAtLjg3MnoiLz48L3N2Zz4=",className:void 0,component:void 0,popupClassName:void 0,embedCallback:void 0,defaultSize:{height:"auto",width:"auto"},title:void 0},image:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNzQxIDBILjI2Qy4xMTYgMCAwIC4xMzYgMCAuMzA0djEzLjM5MmMwIC4xNjguMTE2LjMwNC4yNTkuMzA0SDE0Ljc0Yy4xNDMgMCAuMjU5LS4xMzYuMjU5LS4zMDRWLjMwNEMxNSAuMTM2IDE0Ljg4NCAwIDE0Ljc0MSAwem0tLjI1OCAxMy4zOTFILjUxN1YuNjFoMTMuOTY2VjEzLjM5eiIvPjxwYXRoIGQ9Ik00LjEzOCA2LjczOGMuNzk0IDAgMS40NC0uNzYgMS40NC0xLjY5NXMtLjY0Ni0xLjY5NS0xLjQ0LTEuNjk1Yy0uNzk0IDAtMS40NC43Ni0xLjQ0IDEuNjk1IDAgLjkzNC42NDYgMS42OTUgMS40NCAxLjY5NXptMC0yLjc4MWMuNTA5IDAgLjkyMy40ODcuOTIzIDEuMDg2IDAgLjU5OC0uNDE0IDEuMDg2LS45MjMgMS4wODYtLjUwOSAwLS45MjMtLjQ4Ny0uOTIzLTEuMDg2IDAtLjU5OS40MTQtMS4wODYuOTIzLTEuMDg2ek0xLjgxIDEyLjE3NGMuMDYgMCAuMTIyLS4wMjUuMTcxLS4wNzZMNi4yIDcuNzI4bDIuNjY0IDMuMTM0YS4yMzIuMjMyIDAgMCAwIC4zNjYgMCAuMzQzLjM0MyAwIDAgMCAwLS40M0w3Ljk4NyA4Ljk2OWwyLjM3NC0zLjA2IDIuOTEyIDMuMTQyYy4xMDYuMTEzLjI3LjEwNS4zNjYtLjAyYS4zNDMuMzQzIDAgMCAwLS4wMTYtLjQzbC0zLjEwNC0zLjM0N2EuMjQ0LjI0NCAwIDAgMC0uMTg2LS4wOC4yNDUuMjQ1IDAgMCAwLS4xOC4xTDcuNjIyIDguNTM3IDYuMzk0IDcuMDk0YS4yMzIuMjMyIDAgMCAwLS4zNTQtLjAxM2wtNC40IDQuNTZhLjM0My4zNDMgMCAwIDAtLjAyNC40My4yNDMuMjQzIDAgMCAwIC4xOTQuMTAzeiIvPjwvZz48L3N2Zz4=",className:void 0,component:void 0,popupClassName:void 0,urlEnabled:!0,uploadEnabled:!0,previewImage:!1,alignmentEnabled:!0,uploadCallback:void 0,inputAccept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",alt:{present:!1,mandatory:!1},defaultSize:{height:"auto",width:"auto"},title:void 0},remove:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNOC4xIDE0bDYuNC03LjJjLjYtLjcuNi0xLjgtLjEtMi41bC0yLjctMi43Yy0uMy0uNC0uOC0uNi0xLjMtLjZIOC42Yy0uNSAwLTEgLjItMS40LjZMLjUgOS4yYy0uNi43LS42IDEuOS4xIDIuNWwyLjcgMi43Yy4zLjQuOC42IDEuMy42SDE2di0xSDguMXptLTEuMy0uMXMwLS4xIDAgMGwtMi43LTIuN2MtLjQtLjQtLjQtLjkgMC0xLjNMNy41IDZoLTFsLTMgMy4zYy0uNi43LS42IDEuNy4xIDIuNEw1LjkgMTRINC42Yy0uMiAwLS40LS4xLS42LS4yTDEuMiAxMWMtLjMtLjMtLjMtLjggMC0xLjFMNC43IDZoMS44TDEwIDJoMUw3LjUgNmwzLjEgMy43LTMuNSA0Yy0uMS4xLS4yLjEtLjMuMnoiLz48L3N2Zz4=",className:void 0,component:void 0,title:void 0},history:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["undo","redo"],undo:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTcgMTQuODc1YzIuNjcyIDAgNC44NDYtMi4xNDUgNC44NDYtNC43ODEgMC0yLjYzNy0yLjE3NC00Ljc4MS00Ljg0Ni00Ljc4MVY4LjVMMS42MTUgNC4yNSA3IDB2My4xODhjMy44NiAwIDcgMy4wOTggNyA2LjkwNlMxMC44NiAxNyA3IDE3cy03LTMuMDk4LTctNi45MDZoMi4xNTRjMCAyLjYzNiAyLjE3NCA0Ljc4MSA0Ljg0NiA0Ljc4MXoiIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",className:void 0,title:void 0},redo:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuNTA0IDEzLjk3N2E0LjQ5NyA0LjQ5NyAwIDAgMS00LjQ5Mi00LjQ5MiA0LjQ5NyA0LjQ5NyAwIDAgMSA0LjQ5Mi00LjQ5M3YyLjk5NWw0Ljk5LTMuOTkzTDYuNTA0IDB2Mi45OTVhNi40OTYgNi40OTYgMCAwIDAtNi40ODggNi40OWMwIDMuNTc4IDIuOTEgNi40OSA2LjQ4OCA2LjQ5YTYuNDk2IDYuNDk2IDAgMCAwIDYuNDg3LTYuNDloLTEuOTk2YTQuNDk3IDQuNDk3IDAgMCAxLTQuNDkxIDQuNDkyeiIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",className:void 0,title:void 0},title:void 0}},xn={en:{"generic.add":"Add","generic.cancel":"Cancel","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Blockquote","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Block Type","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Color Picker","components.controls.colorpicker.text":"Text","components.controls.colorpicker.background":"Highlight","components.controls.embedded.embedded":"Embedded","components.controls.embedded.embeddedlink":"Embedded Link","components.controls.embedded.enterlink":"Enter link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Font","components.controls.fontsize.fontsize":"Font Size","components.controls.history.history":"History","components.controls.history.undo":"Undo","components.controls.history.redo":"Redo","components.controls.image.image":"Image","components.controls.image.fileUpload":"File Upload","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Drop the file or click to upload","components.controls.inline.bold":"Bold","components.controls.inline.italic":"Italic","components.controls.inline.underline":"Underline","components.controls.inline.strikethrough":"Strikethrough","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Superscript","components.controls.inline.subscript":"Subscript","components.controls.link.linkTitle":"Link Title","components.controls.link.linkTarget":"Link Target","components.controls.link.linkTargetOption":"Open link in new window","components.controls.link.link":"Link","components.controls.link.unlink":"Unlink","components.controls.list.list":"List","components.controls.list.unordered":"Unordered","components.controls.list.ordered":"Ordered","components.controls.list.indent":"Indent","components.controls.list.outdent":"Outdent","components.controls.remove.remove":"Remove","components.controls.textalign.textalign":"Text Align","components.controls.textalign.left":"Left","components.controls.textalign.center":"Center","components.controls.textalign.right":"Right","components.controls.textalign.justify":"Justify"},fr:{"generic.add":"Ok","generic.cancel":"Annuler","components.controls.blocktype.h1":"Titre 1","components.controls.blocktype.h2":"Titre 2","components.controls.blocktype.h3":"Titre 3","components.controls.blocktype.h4":"Titre 4","components.controls.blocktype.h5":"Titre 5","components.controls.blocktype.h6":"Titre 6","components.controls.blocktype.blockquote":"Citation","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Type bloc","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Palette de couleur","components.controls.colorpicker.text":"Texte","components.controls.colorpicker.background":"Fond","components.controls.embedded.embedded":"Embedded","components.controls.embedded.embeddedlink":"Lien iFrame","components.controls.embedded.enterlink":"Entrer le lien","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Police","components.controls.fontsize.fontsize":"Taille de police","components.controls.history.history":"Historique","components.controls.history.undo":"Précédent","components.controls.history.redo":"Suivant","components.controls.image.image":"Image","components.controls.image.fileUpload":"Téléchargement","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Glisser une image ou cliquer pour télécharger","components.controls.inline.bold":"Gras","components.controls.inline.italic":"Italique","components.controls.inline.underline":"Souligner","components.controls.inline.strikethrough":"Barrer","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Exposant","components.controls.inline.subscript":"Indice","components.controls.link.linkTitle":"Titre du lien","components.controls.link.linkTarget":"Cible du lien","components.controls.link.linkTargetOption":"Ouvrir le lien dans une nouvelle fenêtre","components.controls.link.link":"Lier","components.controls.link.unlink":"Délier","components.controls.list.list":"Liste","components.controls.list.unordered":"Désordonnée","components.controls.list.ordered":"Ordonnée","components.controls.list.indent":"Augmenter le retrait","components.controls.list.outdent":"Diminuer le retrait","components.controls.remove.remove":"Supprimer","components.controls.textalign.textalign":"Alignement du texte","components.controls.textalign.left":"Gauche","components.controls.textalign.center":"Centre","components.controls.textalign.right":"Droite","components.controls.textalign.justify":"Justifier"},zh:{"generic.add":"添加","generic.cancel":"取消","components.controls.blocktype.h1":"标题1","components.controls.blocktype.h2":"标题2","components.controls.blocktype.h3":"标题3","components.controls.blocktype.h4":"标题4","components.controls.blocktype.h5":"标题5","components.controls.blocktype.h6":"标题6","components.controls.blocktype.blockquote":"引用","components.controls.blocktype.code":"源码","components.controls.blocktype.blocktype":"样式","components.controls.blocktype.normal":"正文","components.controls.colorpicker.colorpicker":"选色器","components.controls.colorpicker.text":"文字","components.controls.colorpicker.background":"背景","components.controls.embedded.embedded":"内嵌","components.controls.embedded.embeddedlink":"内嵌网页","components.controls.embedded.enterlink":"输入网页地址","components.controls.emoji.emoji":"表情符号","components.controls.fontfamily.fontfamily":"字体","components.controls.fontsize.fontsize":"字号","components.controls.history.history":"历史","components.controls.history.undo":"撤销","components.controls.history.redo":"恢复","components.controls.image.image":"图片","components.controls.image.fileUpload":"来自文件","components.controls.image.byURL":"在线图片","components.controls.image.dropFileText":"点击或者拖拽文件上传","components.controls.inline.bold":"粗体","components.controls.inline.italic":"斜体","components.controls.inline.underline":"下划线","components.controls.inline.strikethrough":"删除线","components.controls.inline.monospace":"等宽字体","components.controls.inline.superscript":"上标","components.controls.inline.subscript":"下标","components.controls.link.linkTitle":"超链接","components.controls.link.linkTarget":"输入链接地址","components.controls.link.linkTargetOption":"在新窗口中打开链接","components.controls.link.link":"链接","components.controls.link.unlink":"删除链接","components.controls.list.list":"列表","components.controls.list.unordered":"项目符号","components.controls.list.ordered":"编号","components.controls.list.indent":"增加缩进量","components.controls.list.outdent":"减少缩进量","components.controls.remove.remove":"清除格式","components.controls.textalign.textalign":"文本对齐","components.controls.textalign.left":"文本左对齐","components.controls.textalign.center":"居中","components.controls.textalign.right":"文本右对齐","components.controls.textalign.justify":"两端对齐"},ru:{"generic.add":"Добавить","generic.cancel":"Отменить","components.controls.blocktype.h1":"Заголовок 1","components.controls.blocktype.h2":"Заголовок 2","components.controls.blocktype.h3":"Заголовок 3","components.controls.blocktype.h4":"Заголовок 4","components.controls.blocktype.h5":"Заголовок 5","components.controls.blocktype.h6":"Заголовок 6","components.controls.blocktype.blockquote":"Цитата","components.controls.blocktype.code":"Код","components.controls.blocktype.blocktype":"Форматирование","components.controls.blocktype.normal":"Обычный","components.controls.colorpicker.colorpicker":"Выбор цвета","components.controls.colorpicker.text":"Текст","components.controls.colorpicker.background":"Фон","components.controls.embedded.embedded":"Встраивание","components.controls.embedded.embeddedlink":"Ссылка в iFrame","components.controls.embedded.enterlink":"Вставьте ссылку","components.controls.emoji.emoji":"Эмодзи","components.controls.fontfamily.fontfamily":"Шрифт","components.controls.fontsize.fontsize":"Размер шрифта","components.controls.history.history":"История","components.controls.history.undo":"Отменить","components.controls.history.redo":"Вернуть","components.controls.image.image":"Изображение","components.controls.image.fileUpload":"Файлы","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Переместите в эту область файлы или кликните для загрузки","components.controls.inline.bold":"Жирный","components.controls.inline.italic":"Курсив","components.controls.inline.underline":"Подчеркивание","components.controls.inline.strikethrough":"Зачеркивание","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Верхний индекс","components.controls.inline.subscript":"Нижний индекс","components.controls.link.linkTitle":"Текст","components.controls.link.linkTarget":"Адрес ссылки","components.controls.link.linkTargetOption":"Открывать в новом окне","components.controls.link.link":"Ссылка","components.controls.link.unlink":"Убрать ссылку","components.controls.list.list":"Список","components.controls.list.unordered":"Неупорядоченный","components.controls.list.ordered":"Упорядоченный","components.controls.list.indent":"Отступ","components.controls.list.outdent":"Выступ","components.controls.remove.remove":"Удалить","components.controls.textalign.textalign":"Выравнивание текста","components.controls.textalign.left":"Слева","components.controls.textalign.center":"По центру","components.controls.textalign.right":"Справа","components.controls.textalign.justify":"Выравнить"},pt:{"generic.add":"Ok","generic.cancel":"Cancelar","components.controls.blocktype.h1":"Título 1","components.controls.blocktype.h2":"Título 2","components.controls.blocktype.h3":"Título 3","components.controls.blocktype.h4":"Título 4","components.controls.blocktype.h5":"Título 5","components.controls.blocktype.h6":"Título 6","components.controls.blocktype.blockquote":"Citação","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Estilo","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Paleta de cores","components.controls.colorpicker.text":"Texto","components.controls.colorpicker.background":"Fundo","components.controls.embedded.embedded":"Embarcado","components.controls.embedded.embeddedlink":"Link embarcado","components.controls.embedded.enterlink":"Coloque o link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Fonte","components.controls.fontsize.fontsize":"Tamanho da Fonte","components.controls.history.history":"Histórico","components.controls.history.undo":"Desfazer","components.controls.history.redo":"Refazer","components.controls.image.image":"Imagem","components.controls.image.fileUpload":"Carregar arquivo","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Arraste uma imagem aqui ou clique para carregar","components.controls.inline.bold":"Negrito","components.controls.inline.italic":"Itálico","components.controls.inline.underline":"Sublinhado","components.controls.inline.strikethrough":"Strikethrough","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Sobrescrito","components.controls.inline.subscript":"Subscrito","components.controls.link.linkTitle":"Título do link","components.controls.link.linkTarget":"Alvo do link","components.controls.link.linkTargetOption":"Abrir link em outra janela","components.controls.link.link":"Adicionar Link","components.controls.link.unlink":"Remover link","components.controls.list.list":"Lista","components.controls.list.unordered":"Sem ordenção","components.controls.list.ordered":"Ordenada","components.controls.list.indent":"Aumentar recuo","components.controls.list.outdent":"Diminuir recuo","components.controls.remove.remove":"Remover","components.controls.textalign.textalign":"Alinhamento do texto","components.controls.textalign.left":"À Esquerda","components.controls.textalign.center":"Centralizado","components.controls.textalign.right":"À Direita","components.controls.textalign.justify":"Justificado"},ko:{"generic.add":"입력","generic.cancel":"취소","components.controls.blocktype.h1":"제목1","components.controls.blocktype.h2":"제목2","components.controls.blocktype.h3":"제목3","components.controls.blocktype.h4":"제목4","components.controls.blocktype.h5":"제목5","components.controls.blocktype.h6":"제목6","components.controls.blocktype.blockquote":"인용","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"블록","components.controls.blocktype.normal":"표준","components.controls.colorpicker.colorpicker":"색상 선택","components.controls.colorpicker.text":"글꼴색","components.controls.colorpicker.background":"배경색","components.controls.embedded.embedded":"임베드","components.controls.embedded.embeddedlink":"임베드 링크","components.controls.embedded.enterlink":"주소를 입력하세요","components.controls.emoji.emoji":"이모지","components.controls.fontfamily.fontfamily":"글꼴","components.controls.fontsize.fontsize":"글꼴 크기","components.controls.history.history":"히스토리","components.controls.history.undo":"실행 취소","components.controls.history.redo":"다시 실행","components.controls.image.image":"이미지","components.controls.image.fileUpload":"파일 업로드","components.controls.image.byURL":"주소","components.controls.image.dropFileText":"클릭하거나 파일을 드롭하여 업로드하세요","components.controls.inline.bold":"굵게","components.controls.inline.italic":"기울임꼴","components.controls.inline.underline":"밑줄","components.controls.inline.strikethrough":"취소선","components.controls.inline.monospace":"고정 너비","components.controls.inline.superscript":"위 첨자","components.controls.inline.subscript":"아래 첨자","components.controls.link.linkTitle":"링크 제목","components.controls.link.linkTarget":"링크 타겟","components.controls.link.linkTargetOption":"새창으로 열기","components.controls.link.link":"링크","components.controls.link.unlink":"링크 제거","components.controls.list.list":"리스트","components.controls.list.unordered":"일반 리스트","components.controls.list.ordered":"순서 리스트","components.controls.list.indent":"들여쓰기","components.controls.list.outdent":"내어쓰기","components.controls.remove.remove":"삭제","components.controls.textalign.textalign":"텍스트 정렬","components.controls.textalign.left":"왼쪽","components.controls.textalign.center":"중앙","components.controls.textalign.right":"오른쪽","components.controls.textalign.justify":"양쪽"},it:{"generic.add":"Aggiungi","generic.cancel":"Annulla","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Citazione","components.controls.blocktype.code":"Codice","components.controls.blocktype.blocktype":"Stili","components.controls.blocktype.normal":"Normale","components.controls.colorpicker.colorpicker":"Colore testo","components.controls.colorpicker.text":"Testo","components.controls.colorpicker.background":"Evidenziazione","components.controls.embedded.embedded":"Incorpora","components.controls.embedded.embeddedlink":"Incorpora link","components.controls.embedded.enterlink":"Inserisci link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Carattere","components.controls.fontsize.fontsize":"Dimensione carattere","components.controls.history.history":"Modifiche","components.controls.history.undo":"Annulla","components.controls.history.redo":"Ripristina","components.controls.image.image":"Immagine","components.controls.image.fileUpload":"Carica immagine","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Trascina il file o clicca per caricare","components.controls.inline.bold":"Grassetto","components.controls.inline.italic":"Corsivo","components.controls.inline.underline":"Sottolineato","components.controls.inline.strikethrough":"Barrato","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Apice","components.controls.inline.subscript":"Pedice","components.controls.link.linkTitle":"Testo","components.controls.link.linkTarget":"Link","components.controls.link.linkTargetOption":"Apri link in una nuova finestra","components.controls.link.link":"Inserisci link","components.controls.link.unlink":"Rimuovi link","components.controls.list.list":"Lista","components.controls.list.unordered":"Elenco puntato","components.controls.list.ordered":"Elenco numerato","components.controls.list.indent":"Indent","components.controls.list.outdent":"Outdent","components.controls.remove.remove":"Rimuovi formattazione","components.controls.textalign.textalign":"Allineamento del testo","components.controls.textalign.left":"Allinea a sinistra","components.controls.textalign.center":"Allinea al centro","components.controls.textalign.right":"Allinea a destra","components.controls.textalign.justify":"Giustifica"},nl:{"generic.add":"Toevoegen","generic.cancel":"Annuleren","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Blockquote","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Blocktype","components.controls.blocktype.normal":"Normaal","components.controls.colorpicker.colorpicker":"Kleurkiezer","components.controls.colorpicker.text":"Tekst","components.controls.colorpicker.background":"Achtergrond","components.controls.embedded.embedded":"Ingevoegd","components.controls.embedded.embeddedlink":"Ingevoegde link","components.controls.embedded.enterlink":"Voeg link toe","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Lettertype","components.controls.fontsize.fontsize":"Lettergrootte","components.controls.history.history":"Geschiedenis","components.controls.history.undo":"Ongedaan maken","components.controls.history.redo":"Opnieuw","components.controls.image.image":"Afbeelding","components.controls.image.fileUpload":"Bestand uploaden","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Drop het bestand hier of klik om te uploaden","components.controls.inline.bold":"Dikgedrukt","components.controls.inline.italic":"Schuingedrukt","components.controls.inline.underline":"Onderstrepen","components.controls.inline.strikethrough":"Doorstrepen","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Superscript","components.controls.inline.subscript":"Subscript","components.controls.link.linkTitle":"Linktitel","components.controls.link.linkTarget":"Link bestemming","components.controls.link.linkTargetOption":"Open link in een nieuw venster","components.controls.link.link":"Link","components.controls.link.unlink":"Unlink","components.controls.list.list":"Lijst","components.controls.list.unordered":"Ongeordend","components.controls.list.ordered":"Geordend","components.controls.list.indent":"Inspringen","components.controls.list.outdent":"Inspringen verkleinen","components.controls.remove.remove":"Verwijderen","components.controls.textalign.textalign":"Tekst uitlijnen","components.controls.textalign.left":"Links","components.controls.textalign.center":"Gecentreerd","components.controls.textalign.right":"Rechts","components.controls.textalign.justify":"Uitgelijnd"},de:{"generic.add":"Hinzufügen","generic.cancel":"Abbrechen","components.controls.blocktype.h1":"Überschrift 1","components.controls.blocktype.h2":"Überschrift 2","components.controls.blocktype.h3":"Überschrift 3","components.controls.blocktype.h4":"Überschrift 4","components.controls.blocktype.h5":"Überschrift 5","components.controls.blocktype.h6":"Überschrift 6","components.controls.blocktype.blockquote":"Zitat","components.controls.blocktype.code":"Quellcode","components.controls.blocktype.blocktype":"Blocktyp","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Farbauswahl","components.controls.colorpicker.text":"Text","components.controls.colorpicker.background":"Hintergrund","components.controls.embedded.embedded":"Eingebettet","components.controls.embedded.embeddedlink":"Eingebetteter Link","components.controls.embedded.enterlink":"Link eingeben","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Schriftart","components.controls.fontsize.fontsize":"Schriftgröße","components.controls.history.history":"Historie","components.controls.history.undo":"Zurücknehmen","components.controls.history.redo":"Wiederholen","components.controls.image.image":"Bild","components.controls.image.fileUpload":"Datei-Upload","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Dateien ziehen und ablegen, oder klicken zum Hochladen","components.controls.inline.bold":"Fett","components.controls.inline.italic":"Kursiv","components.controls.inline.underline":"Unterstreichen","components.controls.inline.strikethrough":"Durchstreichen","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Hochgestellt","components.controls.inline.subscript":"Tiefgestellt","components.controls.link.linkTitle":"Link-Titel","components.controls.link.linkTarget":"Link-Ziel","components.controls.link.linkTargetOption":"Link in neuem Fenster öffnen","components.controls.link.link":"Link","components.controls.link.unlink":"Aufheben","components.controls.list.list":"Liste","components.controls.list.unordered":"Aufzählung","components.controls.list.ordered":"Nummerierte Liste","components.controls.list.indent":"Einzug vergrößern","components.controls.list.outdent":"Einzug reduzieren","components.controls.remove.remove":"Entfernen","components.controls.textalign.textalign":"Textausrichtung","components.controls.textalign.left":"Linksbündig","components.controls.textalign.center":"Zentrieren","components.controls.textalign.right":"Rechtsbündig","components.controls.textalign.justify":"Blocksatz"},da:{"generic.add":"Tilføj","generic.cancel":"Annuller","components.controls.blocktype.h1":"Overskrift 1","components.controls.blocktype.h2":"Overskrift 2","components.controls.blocktype.h3":"Overskrift 3","components.controls.blocktype.h4":"Overskrift 4","components.controls.blocktype.h5":"Overskrift 5","components.controls.blocktype.h6":"Overskrift 6","components.controls.blocktype.blockquote":"Blokcitat","components.controls.blocktype.code":"Kode","components.controls.blocktype.blocktype":"Blok Type","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Farver","components.controls.colorpicker.text":"Tekst","components.controls.colorpicker.background":"Baggrund","components.controls.embedded.embedded":"Indlejre","components.controls.embedded.embeddedlink":"Indlejre Link","components.controls.embedded.enterlink":"Indtast link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Fonttype","components.controls.fontsize.fontsize":"Fontstørrelser","components.controls.history.history":"Historie","components.controls.history.undo":"Fortryd","components.controls.history.redo":"Gendan","components.controls.image.image":"Billede","components.controls.image.fileUpload":"Filoverførsel","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Drop filen eller klik for at uploade","components.controls.inline.bold":"Fed","components.controls.inline.italic":"Kursiv","components.controls.inline.underline":"Understrege","components.controls.inline.strikethrough":"Gennemstreget","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Hævet","components.controls.inline.subscript":"Sænket","components.controls.link.linkTitle":"Link Titel","components.controls.link.linkTarget":"Link Mål","components.controls.link.linkTargetOption":"Åbn link i nyt vindue","components.controls.link.link":"Link","components.controls.link.unlink":"Fjern link","components.controls.list.list":"Liste","components.controls.list.unordered":"Uordnet","components.controls.list.ordered":"Ordnet","components.controls.list.indent":"Indrykning","components.controls.list.outdent":"Udrykning","components.controls.remove.remove":"Fjern","components.controls.textalign.textalign":"Tekstjustering","components.controls.textalign.left":"Venstre","components.controls.textalign.center":"Center","components.controls.textalign.right":"Højre","components.controls.textalign.justify":"Margener"},zh_tw:{"generic.add":"新增","generic.cancel":"取消","components.controls.blocktype.h1":"標題1","components.controls.blocktype.h2":"標題2","components.controls.blocktype.h3":"標題3","components.controls.blocktype.h4":"標題4","components.controls.blocktype.h5":"標題5","components.controls.blocktype.h6":"標題6","components.controls.blocktype.blockquote":"引用","components.controls.blocktype.code":"程式碼","components.controls.blocktype.blocktype":"樣式","components.controls.blocktype.normal":"正文","components.controls.colorpicker.colorpicker":"選色器","components.controls.colorpicker.text":"文字","components.controls.colorpicker.background":"背景","components.controls.embedded.embedded":"內嵌","components.controls.embedded.embeddedlink":"內嵌網頁","components.controls.embedded.enterlink":"輸入網頁地址","components.controls.emoji.emoji":"表情符號","components.controls.fontfamily.fontfamily":"字體","components.controls.fontsize.fontsize":"字體大小","components.controls.history.history":"歷史紀錄","components.controls.history.undo":"復原","components.controls.history.redo":"重做","components.controls.image.image":"圖片","components.controls.image.fileUpload":"檔案上傳","components.controls.image.byURL":"網址","components.controls.image.dropFileText":"點擊或拖曳檔案上傳","components.controls.inline.bold":"粗體","components.controls.inline.italic":"斜體","components.controls.inline.underline":"底線","components.controls.inline.strikethrough":"刪除線","components.controls.inline.monospace":"等寬字體","components.controls.inline.superscript":"上標","components.controls.inline.subscript":"下標","components.controls.link.linkTitle":"超連結","components.controls.link.linkTarget":"輸入連結位址","components.controls.link.linkTargetOption":"在新視窗打開連結","components.controls.link.link":"連結","components.controls.link.unlink":"刪除連結","components.controls.list.list":"列表","components.controls.list.unordered":"項目符號","components.controls.list.ordered":"編號","components.controls.list.indent":"增加縮排","components.controls.list.outdent":"減少縮排","components.controls.remove.remove":"清除格式","components.controls.textalign.textalign":"文字對齊","components.controls.textalign.left":"文字向左對齊","components.controls.textalign.center":"文字置中","components.controls.textalign.right":"文字向右對齊","components.controls.textalign.justify":"兩端對齊"},pl:{"generic.add":"Dodaj","generic.cancel":"Anuluj","components.controls.blocktype.h1":"Nagłówek 1","components.controls.blocktype.h2":"Nagłówek 2","components.controls.blocktype.h3":"Nagłówek 3","components.controls.blocktype.h4":"Nagłówek 4","components.controls.blocktype.h5":"Nagłówek 5","components.controls.blocktype.h6":"Nagłówek 6","components.controls.blocktype.blockquote":"Cytat","components.controls.blocktype.code":"Kod","components.controls.blocktype.blocktype":"Format","components.controls.blocktype.normal":"Normalny","components.controls.colorpicker.colorpicker":"Kolor","components.controls.colorpicker.text":"Tekst","components.controls.colorpicker.background":"Tło","components.controls.embedded.embedded":"Osadź","components.controls.embedded.embeddedlink":"Osadź odnośnik","components.controls.embedded.enterlink":"Wprowadź odnośnik","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Krój czcionki","components.controls.fontsize.fontsize":"Rozmiar czcionki","components.controls.history.history":"Historia","components.controls.history.undo":"Cofnij","components.controls.history.redo":"Ponów","components.controls.image.image":"Obrazek","components.controls.image.fileUpload":"Prześlij plik","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Upuść plik lub kliknij, aby przesłać","components.controls.inline.bold":"Pogrubienie","components.controls.inline.italic":"Kursywa","components.controls.inline.underline":"Podkreślenie","components.controls.inline.strikethrough":"Przekreślenie","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Indeks górny","components.controls.inline.subscript":"Indeks dolny","components.controls.link.linkTitle":"Tytuł odnośnika","components.controls.link.linkTarget":"Adres odnośnika","components.controls.link.linkTargetOption":"Otwórz odnośnik w nowej karcie","components.controls.link.link":"Wstaw odnośnik","components.controls.link.unlink":"Usuń odnośnik","components.controls.list.list":"Lista","components.controls.list.unordered":"Lista nieuporządkowana","components.controls.list.ordered":"Lista uporządkowana","components.controls.list.indent":"Zwiększ wcięcie","components.controls.list.outdent":"Zmniejsz wcięcie","components.controls.remove.remove":"Usuń","components.controls.textalign.textalign":"Wyrównaj tekst","components.controls.textalign.left":"Do lewej","components.controls.textalign.center":"Do środka","components.controls.textalign.right":"Do prawej","components.controls.textalign.justify":"Wyjustuj"},es:{"generic.add":"Añadir","generic.cancel":"Cancelar","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Blockquote","components.controls.blocktype.code":"Código","components.controls.blocktype.blocktype":"Tipo de bloque","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Seleccionar color","components.controls.colorpicker.text":"Texto","components.controls.colorpicker.background":"Subrayado","components.controls.embedded.embedded":"Adjuntar","components.controls.embedded.embeddedlink":"Adjuntar Link","components.controls.embedded.enterlink":"Introducir link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Fuente","components.controls.fontsize.fontsize":"Tamaño de fuente","components.controls.history.history":"Histórico","components.controls.history.undo":"Deshacer","components.controls.history.redo":"Rehacer","components.controls.image.image":"Imagen","components.controls.image.fileUpload":"Subir archivo","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Arrastra el archivo o haz click para subirlo","components.controls.inline.bold":"Negrita","components.controls.inline.italic":"Cursiva","components.controls.inline.underline":"Subrayado","components.controls.inline.strikethrough":"Tachado","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Sobreíndice","components.controls.inline.subscript":"Subíndice","components.controls.link.linkTitle":"Título del enlace","components.controls.link.linkTarget":"Objetivo del enlace","components.controls.link.linkTargetOption":"Abrir en nueva ventana","components.controls.link.link":"Enlazar","components.controls.link.unlink":"Desenlazar","components.controls.list.list":"Lista","components.controls.list.unordered":"Desordenada","components.controls.list.ordered":"Ordenada","components.controls.list.indent":"Indentada","components.controls.list.outdent":"Dentada","components.controls.remove.remove":"Eliminar","components.controls.textalign.textalign":"Alineación del texto","components.controls.textalign.left":"Izquierda","components.controls.textalign.center":"Centrado","components.controls.textalign.right":"Derecha","components.controls.textalign.justify":"Justificado"},ja:{"generic.add":"追加","generic.cancel":"キャンセル","components.controls.blocktype.h1":"見出し1","components.controls.blocktype.h2":"見出し2","components.controls.blocktype.h3":"見出し3","components.controls.blocktype.h4":"見出し4","components.controls.blocktype.h5":"見出し5","components.controls.blocktype.h6":"見出し6","components.controls.blocktype.blockquote":"引用","components.controls.blocktype.code":"コード","components.controls.blocktype.blocktype":"スタイル","components.controls.blocktype.normal":"標準テキスト","components.controls.colorpicker.colorpicker":"テキストの色","components.controls.colorpicker.text":"テキスト","components.controls.colorpicker.background":"ハイライト","components.controls.embedded.embedded":"埋め込み","components.controls.embedded.embeddedlink":"埋め込みリンク","components.controls.embedded.enterlink":"リンクを入力してください","components.controls.emoji.emoji":"絵文字","components.controls.fontfamily.fontfamily":"フォント","components.controls.fontsize.fontsize":"フォントサイズ","components.controls.history.history":"履歴","components.controls.history.undo":"元に戻す","components.controls.history.redo":"やり直し","components.controls.image.image":"画像","components.controls.image.fileUpload":"ファイルをアップロード","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"ここに画像をドラッグするか、クリックしてください","components.controls.inline.bold":"太字","components.controls.inline.italic":"斜体","components.controls.inline.underline":"下線","components.controls.inline.strikethrough":"取り消し線","components.controls.inline.monospace":"等幅フォント","components.controls.inline.superscript":"上付き文字","components.controls.inline.subscript":"下付き文字","components.controls.link.linkTitle":"リンクタイトル","components.controls.link.linkTarget":"リンク対象","components.controls.link.linkTargetOption":"新しいウィンドウで開く","components.controls.link.link":"リンク","components.controls.link.unlink":"リンクを解除","components.controls.list.list":"リスト","components.controls.list.unordered":"箇条書き","components.controls.list.ordered":"番号付き","components.controls.list.indent":"インデント増","components.controls.list.outdent":"インデント減","components.controls.remove.remove":"書式をクリア","components.controls.textalign.textalign":"整列","components.controls.textalign.left":"左揃え","components.controls.textalign.center":"中央揃え","components.controls.textalign.right":"右揃え","components.controls.textalign.justify":"両端揃え"}};function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(){return(Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e,t){return(Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(38),n(39);var Pn=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(e,t){return!t||"object"!==On(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,Tn(e).call(this,t))).onEditorBlur=function(){n.setState({editorFocused:!1})},n.onEditorFocus=function(e){var t=n.props.onFocus;n.setState({editorFocused:!0});var r=n.focusHandler.isEditorFocused();t&&r&&t(e)},n.onEditorMouseDown=function(){n.focusHandler.onEditorMouseDown()},n.keyBindingFn=function(e){if("Tab"!==e.key)return"ArrowUp"!==e.key&&"ArrowDown"!==e.key||b()&&e.preventDefault(),Object(s.getDefaultKeyBinding)(e);var t=n.props.onTab;if(!t||!t(e)){var r=Object(l.changeDepth)(n.state.editorState,e.shiftKey?-1:1,4);r&&r!==n.state.editorState&&(n.onChange(r),e.preventDefault())}return null},n.onToolbarFocus=function(e){var t=n.props.onFocus;t&&n.focusHandler.isToolbarFocused()&&t(e)},n.onWrapperBlur=function(e){var t=n.props.onBlur;t&&n.focusHandler.isEditorBlur(e)&&t(e,n.getEditorState())},n.onChange=function(e){var t=n.props,r=t.readOnly,a=t.onEditorStateChange;r||"atomic"===Object(l.getSelectedBlocksType)(e)&&e.getSelection().isCollapsed||(a&&a(e,n.props.wrapperId),A(n.props,"editorState")?n.afterChange(e):n.setState({editorState:e},n.afterChange(e)))},n.setWrapperReference=function(e){n.wrapper=e},n.setEditorReference=function(e){n.props.editorRef&&n.props.editorRef(e),n.editor=e},n.getCompositeDecorator=function(e){var t=[].concat(Sn(n.props.customDecorators),[{strategy:ln,component:cn({showOpenOptionOnHover:e.link.showOpenOptionOnHover})}]);return n.props.mention&&t.push.apply(t,Sn(function(e){return[new dn(e.mentionClassName).getMentionDecorator(),new _n(e).getSuggestionDecorator()]}(Dn({},n.props.mention,{onChange:n.onChange,getEditorState:n.getEditorState,getSuggestions:n.getSuggestions,getWrapperRef:n.getWrapperRef,modalHandler:n.modalHandler})))),n.props.hashtag&&t.push(function(e){return new gn(e).getHashtagDecorator()}(n.props.hashtag)),new s.CompositeDecorator(t)},n.getWrapperRef=function(){return n.wrapper},n.getEditorState=function(){return n.state?n.state.editorState:null},n.getSuggestions=function(){return n.props.mention&&n.props.mention.suggestions},n.afterChange=function(e){setTimeout((function(){var t=n.props,r=t.onChange,a=t.onContentStateChange;r&&r(Object(s.convertToRaw)(e.getCurrentContent())),a&&a(Object(s.convertToRaw)(e.getCurrentContent()))}))},n.isReadOnly=function(){return n.props.readOnly},n.isImageAlignmentEnabled=function(){return n.state.toolbar.image.alignmentEnabled},n.createEditorState=function(e){var t;if(A(n.props,"editorState"))n.props.editorState&&(t=s.EditorState.set(n.props.editorState,{decorator:e}));else if(A(n.props,"defaultEditorState"))n.props.defaultEditorState&&(t=s.EditorState.set(n.props.defaultEditorState,{decorator:e}));else if(A(n.props,"contentState")){if(n.props.contentState){var r=Object(s.convertFromRaw)(n.props.contentState);t=s.EditorState.createWithContent(r,e),t=s.EditorState.moveSelectionToEnd(t)}}else if(A(n.props,"defaultContentState")||A(n.props,"initialContentState")){var a=n.props.defaultContentState||n.props.initialContentState;a&&(a=Object(s.convertFromRaw)(a),t=s.EditorState.createWithContent(a,e),t=s.EditorState.moveSelectionToEnd(t))}return t||s.EditorState.createEmpty(e)},n.filterEditorProps=function(e){return t=e,n=["onChange","onEditorStateChange","onContentStateChange","initialContentState","defaultContentState","contentState","editorState","defaultEditorState","locale","localization","toolbarOnFocus","toolbar","toolbarCustomButtons","toolbarClassName","editorClassName","toolbarHidden","wrapperClassName","toolbarStyle","editorStyle","wrapperStyle","uploadCallback","onFocus","onBlur","onTab","mention","hashtag","ariaLabel","customBlockRenderFunc","customDecorators","handlePastedText","customStyleMap"],r=Object.keys(t).filter((function(e){return n.indexOf(e)<0})),a={},r&&0<r.length&&r.forEach((function(e){a[e]=t[e]})),a;var t,n,r,a},n.getStyleMap=function(e){return Dn({},Object(l.getCustomStyleMap)(),{},e.customStyleMap)},n.changeEditorState=function(e){var t=Object(s.convertFromRaw)(e),r=n.state.editorState;return r=s.EditorState.push(r,t,"insert-characters"),s.EditorState.moveSelectionToEnd(r)},n.focusEditor=function(){setTimeout((function(){n.editor.focus()}))},n.handleKeyCommand=function(e){var t=n.state,r=t.editorState,a=t.toolbar.inline;if(a&&0<=a.options.indexOf(e)){var o=s.RichUtils.handleKeyCommand(r,e);if(o)return n.onChange(o),!0}return!1},n.handleReturn=function(e){if(b())return!0;var t=n.state.editorState,r=Object(l.handleNewLine)(t,e);return!!r&&(n.onChange(r),!0)},n.handlePastedTextFn=function(e,t){var r=n.state.editorState,a=n.props,o=a.handlePastedText,i=a.stripPastedStyles;return o?o(e,t,r,n.onChange):!i&&function(e,t,n,r){var a=Object(l.getSelectedBlock)(n);if(a&&"code"===a.type){var o=s.Modifier.replaceText(n.getCurrentContent(),n.getSelection(),e,n.getCurrentInlineStyle());return r(s.EditorState.push(n,o,"insert-characters")),!0}if(t){var i=O()(t),c=n.getCurrentContent();return i.entityMap.forEach((function(e,t){c=c.mergeEntityData(t,e)})),c=s.Modifier.replaceWithFragment(c,n.getSelection(),new C.List(i.contentBlocks)),r(s.EditorState.push(n,c,"insert-characters")),!0}return!1}(e,t,r,n.onChange)},n.preventDefault=function(e){"INPUT"===e.target.tagName||"LABEL"===e.target.tagName||"TEXTAREA"===e.target.tagName?n.focusHandler.onInputMouseDown():e.preventDefault()};var r=E(En,t.toolbar),a=t.wrapperId?t.wrapperId:Math.floor(1e4*Math.random());n.wrapperId="rdw-wrapper-".concat(a),n.modalHandler=new d,n.focusHandler=new f,n.blockRendererFn=function(e,t){return function(n){if("function"==typeof t){var r=t(n,e,e.getEditorState);if(r)return r}if("atomic"===n.getType()){var a=e.getEditorState().getCurrentContent().getEntity(n.getEntityAt(0));if(a&&"IMAGE"===a.type)return{component:kn(e),editable:!1};if(a&&"EMBEDDED_LINK"===a.type)return{component:yn,editable:!1}}}}({isReadOnly:n.isReadOnly,isImageAlignmentEnabled:n.isImageAlignmentEnabled,getEditorState:n.getEditorState,onChange:n.onChange},t.customBlockRenderFunc),n.editorProps=n.filterEditorProps(t),n.customStyleMap=n.getStyleMap(t),n.compositeDecorator=n.getCompositeDecorator(r);var o=n.createEditorState(n.compositeDecorator);return Object(l.extractInlineStyle)(o),n.state={editorState:o,editorFocused:!1,toolbar:r},n}var t;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}(e,r.Component),(t=[{key:"componentDidMount",value:function(){this.modalHandler.init(this.wrapperId)}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var t={},n=this.props,r=n.editorState,a=n.contentState;if(!this.state.toolbar){var o=E(En,o);t.toolbar=o}if(A(this.props,"editorState")&&r!==e.editorState)t.editorState=r?s.EditorState.set(r,{decorator:this.compositeDecorator}):s.EditorState.createEmpty(this.compositeDecorator);else if(A(this.props,"contentState")&&a!==e.contentState)if(a){var i=this.changeEditorState(a);i&&(t.editorState=i)}else t.editorState=s.EditorState.createEmpty(this.compositeDecorator);e.editorState===r&&e.contentState===a||Object(l.extractInlineStyle)(t.editorState),Object.keys(t).length&&this.setState(t),this.editorProps=this.filterEditorProps(this.props),this.customStyleMap=this.getStyleMap(this.props)}}},{key:"render",value:function(){var e=this.state,t=e.editorState,n=e.editorFocused,r=e.toolbar,o=this.props,i=o.locale,c=o.localization,d=c.locale,f=c.translations,p=o.toolbarCustomButtons,h=o.toolbarOnFocus,_=o.toolbarClassName,g=o.toolbarHidden,b=o.editorClassName,v=o.wrapperClassName,A=o.toolbarStyle,w=o.editorStyle,k=o.wrapperStyle,E=o.uploadCallback,x=o.ariaLabel,O={modalHandler:this.modalHandler,editorState:t,onChange:this.onChange,translations:Dn({},xn[i||d],{},f)},C=n||this.focusHandler.isInputFocused()||!h;return a.a.createElement("div",{id:this.wrapperId,className:u()(v,"rdw-editor-wrapper"),style:k,onClick:this.modalHandler.onEditorClick,onBlur:this.onWrapperBlur,"aria-label":"rdw-wrapper"},!g&&a.a.createElement("div",{className:u()("rdw-editor-toolbar",_),style:Dn({visibility:C?"visible":"hidden"},A),onMouseDown:this.preventDefault,"aria-label":"rdw-toolbar","aria-hidden":(!n&&h).toString(),onFocus:this.onToolbarFocus},r.options.map((function(e,t){var n=en[e],o=r[e];return"image"===e&&E&&(o.uploadCallback=E),a.a.createElement(n,Cn({key:t},O,{config:o}))})),p&&p.map((function(e,t){return a.a.cloneElement(e,Dn({key:t},O))}))),a.a.createElement("div",{ref:this.setWrapperReference,className:u()(b,"rdw-editor-main"),style:w,onClick:this.focusEditor,onFocus:this.onEditorFocus,onBlur:this.onEditorBlur,onKeyDown:m.onKeyDown,onMouseDown:this.onEditorMouseDown},a.a.createElement(s.Editor,Cn({ref:this.setEditorReference,keyBindingFn:this.keyBindingFn,editorState:t,onChange:this.onChange,blockStyleFn:y,customStyleMap:this.getStyleMap(this.props),handleReturn:this.handleReturn,handlePastedText:this.handlePastedTextFn,blockRendererFn:this.blockRendererFn,handleKeyCommand:this.handleKeyCommand,ariaLabel:x||"rdw-editor",blockRenderMap:l.blockRenderMap},this.editorProps))))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();Pn.propTypes={onChange:i.a.func,onEditorStateChange:i.a.func,onContentStateChange:i.a.func,initialContentState:i.a.object,defaultContentState:i.a.object,contentState:i.a.object,editorState:i.a.object,defaultEditorState:i.a.object,toolbarOnFocus:i.a.bool,spellCheck:i.a.bool,stripPastedStyles:i.a.bool,toolbar:i.a.object,toolbarCustomButtons:i.a.array,toolbarClassName:i.a.string,toolbarHidden:i.a.bool,locale:i.a.string,localization:i.a.object,editorClassName:i.a.string,wrapperClassName:i.a.string,toolbarStyle:i.a.object,editorStyle:i.a.object,wrapperStyle:i.a.object,uploadCallback:i.a.func,onFocus:i.a.func,onBlur:i.a.func,onTab:i.a.func,mention:i.a.object,hashtag:i.a.object,textAlignment:i.a.string,readOnly:i.a.bool,tabIndex:i.a.number,placeholder:i.a.string,ariaLabel:i.a.string,ariaOwneeID:i.a.string,ariaActiveDescendantID:i.a.string,ariaAutoComplete:i.a.string,ariaDescribedBy:i.a.string,ariaExpanded:i.a.string,ariaHasPopup:i.a.string,customBlockRenderFunc:i.a.func,wrapperId:i.a.number,customDecorators:i.a.array,editorRef:i.a.func,handlePastedText:i.a.func},Pn.defaultProps={toolbarOnFocus:!1,toolbarHidden:!1,stripPastedStyles:!1,localization:{locale:"en",translations:{}},customDecorators:[]};var Bn=Pn;n.d(t,"Editor",(function(){return Bn}))}],r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8);function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var a,o}(n(0),n(246),n(17))},function(e,t,n){var r=n(795);"string"==typeof r&&(r=[[e.i,r,""]]);n(219)(r,{transform:void 0}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(218)(!1)).push([e.i,'.rdw-option-wrapper {\n  border: 1px solid #F1F1F1;\n  padding: 5px;\n  min-width: 25px;\n  height: 20px;\n  border-radius: 2px;\n  margin: 0 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  background: white;\n  text-transform: capitalize;\n}\n.rdw-option-wrapper:hover {\n  box-shadow: 1px 1px 0px #BFBDBD;\n}\n.rdw-option-wrapper:active {\n  box-shadow: 1px 1px 0px #BFBDBD inset;\n}\n.rdw-option-active {\n  box-shadow: 1px 1px 0px #BFBDBD inset;\n}\n.rdw-option-disabled {\n  opacity: 0.3;\n  cursor: default;\n}\n\n.rdw-dropdown-wrapper {\n  height: 30px;\n  background: white;\n  cursor: pointer;\n  border: 1px solid #F1F1F1;\n  border-radius: 2px;\n  margin: 0 3px;\n  text-transform: capitalize;\n  background: white;\n}\n.rdw-dropdown-wrapper:focus {\n  outline: none;\n}\n.rdw-dropdown-wrapper:hover {\n  box-shadow: 1px 1px 0px #BFBDBD;\n  background-color: #FFFFFF;\n}\n.rdw-dropdown-wrapper:active {\n  box-shadow: 1px 1px 0px #BFBDBD inset;\n}\n.rdw-dropdown-carettoopen {\n  height: 0px;\n  width: 0px;\n  position: absolute;\n  top: 35%;\n  right: 10%;\n  border-top: 6px solid black;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n}\n.rdw-dropdown-carettoclose {\n  height: 0px;\n  width: 0px;\n  position: absolute;\n  top: 35%;\n  right: 10%;\n  border-bottom: 6px solid black;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n}\n.rdw-dropdown-selectedtext {\n  display: flex;\n  position: relative;\n  height: 100%;\n  align-items: center;\n  padding: 0 5px;\n}\n.rdw-dropdown-optionwrapper {\n  z-index: 100;\n  position: relative;\n  border: 1px solid #F1F1F1;\n  width: 98%;\n  background: white;\n  border-radius: 2px;\n  margin: 0;\n  padding: 0;\n  max-height: 250px;\n  overflow-y: scroll;\n}\n.rdw-dropdown-optionwrapper:hover {\n  box-shadow: 1px 1px 0px #BFBDBD;\n  background-color: #FFFFFF;\n}\n\n.rdw-dropdownoption-default {\n  min-height: 25px;\n  display: flex;\n  align-items: center;\n  padding: 0 5px;\n}\n.rdw-dropdownoption-highlighted {\n  background: #F1F1F1;\n}\n.rdw-dropdownoption-active {\n  background: #f5f5f5;\n}\n.rdw-dropdownoption-disabled {\n  opacity: 0.3;\n  cursor: default;\n}\n\n.rdw-inline-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  flex-wrap: wrap\n}\n.rdw-inline-dropdown {\n  width: 50px;\n}\n.rdw-inline-dropdownoption {\n  height: 40px;\n  display: flex;\n  justify-content: center;\n}\n\n.rdw-block-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  flex-wrap: wrap\n}\n.rdw-block-dropdown {\n  width: 110px;\n}\n\n.rdw-fontsize-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  flex-wrap: wrap\n}\n.rdw-fontsize-dropdown {\n  min-width: 40px;\n}\n.rdw-fontsize-option {\n  display: flex;\n  justify-content: center;\n}\n\n.rdw-fontfamily-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  flex-wrap: wrap\n}\n.rdw-fontfamily-dropdown {\n  width: 115px;\n}\n.rdw-fontfamily-placeholder {\n  white-space: nowrap;\n  max-width: 90px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.rdw-fontfamily-optionwrapper {\n  width: 140px;\n}\n\n.rdw-list-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  flex-wrap: wrap\n}\n.rdw-list-dropdown {\n  width: 50px;\n  z-index: 90;\n}\n.rdw-list-dropdownOption {\n  height: 40px;\n  display: flex;\n  justify-content: center;\n}\n\n.rdw-text-align-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  flex-wrap: wrap\n}\n.rdw-text-align-dropdown {\n  width: 50px;\n  z-index: 90;\n}\n.rdw-text-align-dropdownOption {\n  height: 40px;\n  display: flex;\n  justify-content: center;\n}\n.rdw-right-aligned-block {\n  text-align: right;\n}\n.rdw-left-aligned-block {\n  text-align: left !important;\n}\n.rdw-center-aligned-block {\n  text-align: center !important;\n}\n.rdw-justify-aligned-block {\n  text-align: justify !important;\n}\n.rdw-right-aligned-block > div {\n  display: inline-block;\n}\n.rdw-left-aligned-block > div {\n  display: inline-block;\n}\n.rdw-center-aligned-block > div {\n  display: inline-block;\n}\n.rdw-justify-aligned-block > div {\n  display: inline-block;\n}\n\n.rdw-colorpicker-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  position: relative;\n  flex-wrap: wrap\n}\n.rdw-colorpicker-modal {\n  position: absolute;\n  top: 35px;\n  left: 5px;\n  display: flex;\n  flex-direction: column;\n  width: 175px;\n  height: 175px;\n  border: 1px solid #F1F1F1;\n  padding: 15px;\n  border-radius: 2px;\n  z-index: 100;\n  background: white;\n  box-shadow: 3px 3px 5px #BFBDBD;\n}\n.rdw-colorpicker-modal-header {\n  display: flex;\n  padding-bottom: 5px;\n}\n.rdw-colorpicker-modal-style-label {\n  font-size: 15px;\n  width: 50%;\n  text-align: center;\n  cursor: pointer;\n  padding: 0 10px 5px;\n}\n.rdw-colorpicker-modal-style-label-active {\n  border-bottom: 2px solid #0a66b7;\n}\n.rdw-colorpicker-modal-options {\n  margin: 5px auto;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-wrap: wrap;\n  overflow: scroll;\n}\n.rdw-colorpicker-cube {\n  width: 22px;\n  height: 22px;\n  border: 1px solid #F1F1F1;\n}\n.rdw-colorpicker-option {\n  margin: 3px;\n  padding: 0;\n  min-height: 20px;\n  border: none;\n  width: 22px;\n  height: 22px;\n  min-width: 22px;\n  box-shadow: 1px 2px 1px #BFBDBD inset;\n}\n.rdw-colorpicker-option:hover {\n  box-shadow: 1px 2px 1px #BFBDBD;\n}\n.rdw-colorpicker-option:active {\n  box-shadow: -1px -2px 1px #BFBDBD;\n}\n.rdw-colorpicker-option-active {\n  box-shadow: 0px 0px 2px 2px #BFBDBD;\n}\n\n.rdw-link-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  position: relative;\n  flex-wrap: wrap\n}\n.rdw-link-dropdown {\n  width: 50px;\n}\n.rdw-link-dropdownOption {\n  height: 40px;\n  display: flex;\n  justify-content: center;\n}\n.rdw-link-dropdownPlaceholder {\n  margin-left: 8px;\n}\n.rdw-link-modal {\n  position: absolute;\n  top: 35px;\n  left: 5px;\n  display: flex;\n  flex-direction: column;\n  width: 235px;\n  height: 205px;\n  border: 1px solid #F1F1F1;\n  padding: 15px;\n  border-radius: 2px;\n  z-index: 100;\n  background: white;\n  box-shadow: 3px 3px 5px #BFBDBD;\n}\n.rdw-link-modal-label {\n  font-size: 15px;\n}\n.rdw-link-modal-input {\n  margin-top: 5px;\n  border-radius: 2px;\n  border: 1px solid #F1F1F1;\n  height: 25px;\n  margin-bottom: 15px;\n  padding: 0 5px;\n}\n.rdw-link-modal-input:focus {\n  outline: none;\n}\n.rdw-link-modal-buttonsection {\n  margin: 0 auto;\n}\n.rdw-link-modal-target-option {\n  margin-bottom: 20px;\n}\n.rdw-link-modal-target-option > span {\n  margin-left: 5px;\n}\n.rdw-link-modal-btn {\n  margin-left: 10px;\n  width: 75px;\n  height: 30px;\n  border: 1px solid #F1F1F1;\n  border-radius: 2px;\n  cursor: pointer;\n  background: white;\n  text-transform: capitalize;\n}\n.rdw-link-modal-btn:hover {\n  box-shadow: 1px 1px 0px #BFBDBD;\n}\n.rdw-link-modal-btn:active {\n  box-shadow: 1px 1px 0px #BFBDBD inset;\n}\n.rdw-link-modal-btn:focus {\n  outline: none !important;\n}\n.rdw-link-modal-btn:disabled {\n  background: #ece9e9;\n}\n.rdw-link-dropdownoption {\n  height: 40px;\n  display: flex;\n  justify-content: center;\n}\n.rdw-history-dropdown {\n  width: 50px;\n}\n\n.rdw-embedded-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  position: relative;\n  flex-wrap: wrap\n}\n.rdw-embedded-modal {\n  position: absolute;\n  top: 35px;\n  left: 5px;\n  display: flex;\n  flex-direction: column;\n  width: 235px;\n  height: 180px;\n  border: 1px solid #F1F1F1;\n  padding: 15px;\n  border-radius: 2px;\n  z-index: 100;\n  background: white;\n  justify-content: space-between;\n  box-shadow: 3px 3px 5px #BFBDBD;\n}\n.rdw-embedded-modal-header {\n  font-size: 15px;\n  display: flex;\n}\n.rdw-embedded-modal-header-option {\n  width: 50%;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n.rdw-embedded-modal-header-label {\n  width: 95px;\n  border: 1px solid #f1f1f1;\n  margin-top: 5px;\n  background: #6EB8D4;\n  border-bottom: 2px solid #0a66b7;\n}\n.rdw-embedded-modal-link-section {\n  display: flex;\n  flex-direction: column;\n}\n.rdw-embedded-modal-link-input {\n  width: 88%;\n  height: 35px;\n  margin: 10px 0;\n  border: 1px solid #F1F1F1;\n  border-radius: 2px;\n  font-size: 15px;\n  padding: 0 5px;\n}\n.rdw-embedded-modal-link-input-wrapper {\n  display: flex;\n  align-items: center;\n}\n.rdw-embedded-modal-link-input:focus {\n  outline: none;\n}\n.rdw-embedded-modal-btn-section {\n  display: flex;\n  justify-content: center;\n}\n.rdw-embedded-modal-btn {\n  margin: 0 3px;\n  width: 75px;\n  height: 30px;\n  border: 1px solid #F1F1F1;\n  border-radius: 2px;\n  cursor: pointer;\n  background: white;\n  text-transform: capitalize;\n}\n.rdw-embedded-modal-btn:hover {\n  box-shadow: 1px 1px 0px #BFBDBD;\n}\n.rdw-embedded-modal-btn:active {\n  box-shadow: 1px 1px 0px #BFBDBD inset;\n}\n.rdw-embedded-modal-btn:focus {\n  outline: none !important;\n}\n.rdw-embedded-modal-btn:disabled {\n  background: #ece9e9;\n}\n.rdw-embedded-modal-size {\n  align-items: center;\n  display: flex;\n  margin: 8px 0;\n  justify-content: space-between;\n}\n.rdw-embedded-modal-size-input {\n  width: 80%;\n  height: 20px;\n  border: 1px solid #F1F1F1;\n  border-radius: 2px;\n  font-size: 12px;\n}\n.rdw-embedded-modal-size-input:focus {\n  outline: none;\n}\n\n.rdw-emoji-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  position: relative;\n  flex-wrap: wrap\n}\n.rdw-emoji-modal {\n  overflow: auto;\n  position: absolute;\n  top: 35px;\n  left: 5px;\n  display: flex;\n  flex-wrap: wrap;\n  width: 235px;\n  height: 180px;\n  border: 1px solid #F1F1F1;\n  padding: 15px;\n  border-radius: 2px;\n  z-index: 100;\n  background: white;\n  box-shadow: 3px 3px 5px #BFBDBD;\n}\n.rdw-emoji-icon {\n  margin: 2.5px;\n  height: 24px;\n  width: 24px;\n  cursor: pointer;\n  font-size: 22px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.rdw-spinner {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n}\n.rdw-spinner > div {\n  width: 12px;\n  height: 12px;\n  background-color: #333;\n\n  border-radius: 100%;\n  display: inline-block;\n  -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n  animation: sk-bouncedelay 1.4s infinite ease-in-out both;\n}\n.rdw-spinner .rdw-bounce1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n.rdw-spinner .rdw-bounce2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n@-webkit-keyframes sk-bouncedelay {\n  0%, 80%, 100% { -webkit-transform: scale(0) }\n  40% { -webkit-transform: scale(1.0) }\n}\n@keyframes sk-bouncedelay {\n  0%, 80%, 100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  } 40% {\n    -webkit-transform: scale(1.0);\n    transform: scale(1.0);\n  }\n}\n\n.rdw-image-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  position: relative;\n  flex-wrap: wrap\n}\n.rdw-image-modal {\n  position: absolute;\n  top: 35px;\n  left: 5px;\n  display: flex;\n  flex-direction: column;\n  width: 235px;\n  border: 1px solid #F1F1F1;\n  padding: 15px;\n  border-radius: 2px;\n  z-index: 100;\n  background: white;\n  box-shadow: 3px 3px 5px #BFBDBD;\n}\n.rdw-image-modal-header {\n  font-size: 15px;\n  margin: 10px 0;\n  display: flex;\n}\n.rdw-image-modal-header-option {\n  width: 50%;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n.rdw-image-modal-header-label {\n  width: 80px;\n  background: #f1f1f1;\n  border: 1px solid #f1f1f1;\n  margin-top: 5px;\n}\n.rdw-image-modal-header-label-highlighted {\n  background: #6EB8D4;\n  border-bottom: 2px solid #0a66b7;\n}\n.rdw-image-modal-upload-option {\n  width: 100%;\n  color: gray;\n  cursor: pointer;\n  display: flex;\n  border: none;\n  font-size: 15px;\n  align-items: center;\n  justify-content: center;\n  background-color: #f1f1f1;\n  outline: 2px dashed gray;\n  outline-offset: -10px;\n  margin: 10px 0;\n  padding: 9px 0;\n}\n.rdw-image-modal-upload-option-highlighted {\n  outline: 2px dashed #0a66b7;\n}\n.rdw-image-modal-upload-option-label {\n  cursor: pointer;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 15px;\n}\n.rdw-image-modal-upload-option-label span{\n  padding: 0 20px;\n}\n.rdw-image-modal-upload-option-image-preview {\n  max-width: 100%;\n  max-height: 200px;\n}\n.rdw-image-modal-upload-option-input {\n\twidth: 0.1px;\n\theight: 0.1px;\n\topacity: 0;\n\toverflow: hidden;\n\tposition: absolute;\n\tz-index: -1;\n}\n.rdw-image-modal-url-section {\n  display: flex;\n  align-items: center;\n}\n.rdw-image-modal-url-input {\n  width: 90%;\n  height: 35px;\n  margin: 15px 0 12px;\n  border: 1px solid #F1F1F1;\n  border-radius: 2px;\n  font-size: 15px;\n  padding: 0 5px;\n}\n.rdw-image-modal-btn-section {\n  margin: 10px auto 0;\n}\n.rdw-image-modal-url-input:focus {\n  outline: none;\n}\n.rdw-image-modal-btn {\n  margin: 0 5px;\n  width: 75px;\n  height: 30px;\n  border: 1px solid #F1F1F1;\n  border-radius: 2px;\n  cursor: pointer;\n  background: white;\n  text-transform: capitalize;\n}\n.rdw-image-modal-btn:hover {\n  box-shadow: 1px 1px 0px #BFBDBD;\n}\n.rdw-image-modal-btn:active {\n  box-shadow: 1px 1px 0px #BFBDBD inset;\n}\n.rdw-image-modal-btn:focus {\n  outline: none !important;\n}\n.rdw-image-modal-btn:disabled {\n  background: #ece9e9;\n}\n.rdw-image-modal-spinner {\n  position: absolute;\n  top: -3px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n}\n.rdw-image-modal-alt-input {\n  width: 70%;\n  height: 20px;\n  border: 1px solid #F1F1F1;\n  border-radius: 2px;\n  font-size: 12px;\n  margin-left: 5px;\n}\n.rdw-image-modal-alt-input:focus {\n  outline: none;\n}\n.rdw-image-modal-alt-lbl {\n  font-size: 12px;\n}\n.rdw-image-modal-size {\n  align-items: center;\n  display: flex;\n  margin: 8px 0;\n  justify-content: space-between;\n}\n.rdw-image-modal-size-input {\n  width: 40%;\n  height: 20px;\n  border: 1px solid #F1F1F1;\n  border-radius: 2px;\n  font-size: 12px;\n}\n.rdw-image-modal-size-input:focus {\n  outline: none;\n}\n.rdw-image-mandatory-sign {\n  color: red;\n  margin-left: 3px;\n  margin-right: 3px;\n}\n\n.rdw-remove-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  position: relative;\n  flex-wrap: wrap\n}\n\n.rdw-history-wrapper {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n  flex-wrap: wrap\n}\n.rdw-history-dropdownoption {\n  height: 40px;\n  display: flex;\n  justify-content: center;\n}\n.rdw-history-dropdown {\n  width: 50px;\n}\n\n.rdw-link-decorator-wrapper {\n  position: relative;\n}\n.rdw-link-decorator-icon {\n  position: absolute;\n  left: 40%;\n  top: 0;\n  cursor: pointer;\n  background-color: white;\n}\n\n.rdw-mention-link {\n  text-decoration: none;\n  color: #1236ff;\n  background-color: #f0fbff;\n  padding: 1px 2px;\n  border-radius: 2px;\n}\n\n.rdw-suggestion-wrapper {\n  position: relative;\n}\n.rdw-suggestion-dropdown {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  border: 1px solid #F1F1F1;\n  min-width: 100px;\n  max-height: 150px;\n  overflow: auto;\n  background: white;\n  z-index: 100;\n}\n.rdw-suggestion-option {\n  padding: 7px 5px;\n  border-bottom: 1px solid #f1f1f1;\n}\n.rdw-suggestion-option-active {\n  background-color: #F1F1F1;\n}\n\n.rdw-hashtag-link {\n  text-decoration: none;\n  color: #1236ff;\n  background-color: #f0fbff;\n  padding: 1px 2px;\n  border-radius: 2px;\n}\n\n.rdw-image-alignment-options-popup {\n  position: absolute;\n  background: white;\n  display: flex;\n  padding: 5px 2px;\n  border-radius: 2px;\n  border: 1px solid #F1F1F1;\n  width: 105px;\n  cursor: pointer;\n  z-index: 100;\n}\n.rdw-alignment-option-left {\n  justify-content: flex-start;\n}\n.rdw-image-alignment-option {\n  height: 15px;\n  width: 15px;\n  min-width: 15px;\n}\n.rdw-image-alignment {\n  position: relative;\n}\n.rdw-image-imagewrapper {\n  position: relative;\n}\n.rdw-image-center {\n  display: flex;\n  justify-content: center;\n}\n.rdw-image-left {\n  display: flex;\n}\n.rdw-image-right {\n  display: flex;\n  justify-content: flex-end;\n}\n.rdw-image-alignment-options-popup-right {\n  right: 0;\n}\n\n.rdw-editor-main {\n  height: 100%;\n  overflow: auto;\n  box-sizing: border-box;\n}\n.rdw-editor-toolbar {\n  padding: 6px 5px 0;\n  border-radius: 2px;\n  border: 1px solid #F1F1F1;\n  display: flex;\n  justify-content: flex-start;\n  background: white;\n  flex-wrap: wrap;\n  font-size: 15px;\n  margin-bottom: 5px;\n  user-select: none;\n}\n.public-DraftStyleDefault-block {\n  margin: 1em 0;\n}\n.rdw-editor-wrapper:focus {\n  outline: none;\n}\n.rdw-editor-wrapper {\n  box-sizing: content-box;\n}\n.rdw-editor-main blockquote {\n  border-left: 5px solid #f1f1f1;\n  padding-left: 5px;\n}\n.rdw-editor-main pre {\n  background: #f1f1f1;\n  border-radius: 3px;\n  padding: 1px 10px;\n}\n/**\n * Draft v0.9.1\n *\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n.DraftEditor-editorContainer,.DraftEditor-root,.public-DraftEditor-content{height:inherit;text-align:initial}.public-DraftEditor-content[contenteditable=true]{-webkit-user-modify:read-write-plaintext-only}.DraftEditor-root{position:relative}.DraftEditor-editorContainer{background-color:rgba(255,255,255,0);border-left:.1px solid transparent;position:relative;z-index:1}.public-DraftEditor-block{position:relative}.DraftEditor-alignLeft .public-DraftStyleDefault-block{text-align:left}.DraftEditor-alignLeft .public-DraftEditorPlaceholder-root{left:0;text-align:left}.DraftEditor-alignCenter .public-DraftStyleDefault-block{text-align:center}.DraftEditor-alignCenter .public-DraftEditorPlaceholder-root{margin:0 auto;text-align:center;width:100%}.DraftEditor-alignRight .public-DraftStyleDefault-block{text-align:right}.DraftEditor-alignRight .public-DraftEditorPlaceholder-root{right:0;text-align:right}.public-DraftEditorPlaceholder-root{color:#9197a3;position:absolute;z-index:0}.public-DraftEditorPlaceholder-hasFocus{color:#bdc1c9}.DraftEditorPlaceholder-hidden{display:none}.public-DraftStyleDefault-block{position:relative;white-space:pre-wrap}.public-DraftStyleDefault-ltr{direction:ltr;text-align:left}.public-DraftStyleDefault-rtl{direction:rtl;text-align:right}.public-DraftStyleDefault-listLTR{direction:ltr}.public-DraftStyleDefault-listRTL{direction:rtl}.public-DraftStyleDefault-ol,.public-DraftStyleDefault-ul{margin:16px 0;padding:0}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-listLTR{margin-left:1.5em}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-listRTL{margin-right:1.5em}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-listLTR{margin-left:3em}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-listRTL{margin-right:3em}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-listLTR{margin-left:4.5em}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-listRTL{margin-right:4.5em}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-listLTR{margin-left:6em}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-listRTL{margin-right:6em}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-listLTR{margin-left:7.5em}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-listRTL{margin-right:7.5em}.public-DraftStyleDefault-unorderedListItem{list-style-type:square;position:relative}.public-DraftStyleDefault-unorderedListItem.public-DraftStyleDefault-depth0{list-style-type:disc}.public-DraftStyleDefault-unorderedListItem.public-DraftStyleDefault-depth1{list-style-type:circle}.public-DraftStyleDefault-orderedListItem{list-style-type:none;position:relative}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-listLTR:before{left:-36px;position:absolute;text-align:right;width:30px}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-listRTL:before{position:absolute;right:-36px;text-align:left;width:30px}.public-DraftStyleDefault-orderedListItem:before{content:counter(ol0) ". ";counter-increment:ol0}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth1:before{content:counter(ol1) ". ";counter-increment:ol1}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth2:before{content:counter(ol2) ". ";counter-increment:ol2}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth3:before{content:counter(ol3) ". ";counter-increment:ol3}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth4:before{content:counter(ol4) ". ";counter-increment:ol4}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-reset{counter-reset:ol0}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-reset{counter-reset:ol1}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-reset{counter-reset:ol2}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-reset{counter-reset:ol3}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-reset{counter-reset:ol4}',""])},function(e,t,n){e.exports=function(){"use strict";function e(e,t){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&t(n,e[n])}var t={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};function n(e){return e&&t[e]}function r(t){var n="";return e(t,(function(e,t){t&&(n+="".concat(e,":").concat(t,";"))})),n}function a(e,t){var n={};return e.COLOR[t]&&(n.COLOR=e.COLOR[t]),e.BGCOLOR[t]&&(n.BGCOLOR=e.BGCOLOR[t]),e.FONTSIZE[t]&&(n.FONTSIZE=e.FONTSIZE[t]),e.FONTFAMILY[t]&&(n.FONTFAMILY=e.FONTFAMILY[t]),e.UNDERLINE[t]&&(n.UNDERLINE=!0),e.ITALIC[t]&&(n.ITALIC=!0),e.BOLD[t]&&(n.BOLD=!0),e.STRIKETHROUGH[t]&&(n.STRIKETHROUGH=!0),e.CODE[t]&&(n.CODE=!0),e.SUBSCRIPT[t]&&(n.SUBSCRIPT=!0),e.SUPERSCRIPT[t]&&(n.SUPERSCRIPT=!0),n}function o(e,t,n){var r=!0;return n>0&&n<e.length?t.forEach((function(t){r=r&&e[t][n]===e[t][n-1]})):r=!1,r}function i(e,t,n,r){var a=e[t];if("function"==typeof r){var o=r(a,n);if(o)return o}if("MENTION"===a.type)return'<a href="'.concat(a.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(a.data.value,'">').concat(n,"</a>");if("LINK"===a.type){var i=a.data.targetOption||"_self";return'<a href="'.concat(a.data.url,'" target="').concat(i,'">').concat(n,"</a>")}if("IMAGE"===a.type){var s=a.data.alignment;return s&&s.length?'<div style="text-align:'.concat(s,';"><img src="').concat(a.data.src,'" alt="').concat(a.data.alt,'" style="height: ').concat(a.data.height,";width: ").concat(a.data.width,'"/></div>'):'<img src="'.concat(a.data.src,'" alt="').concat(a.data.alt,'" style="height: ').concat(a.data.height,";width: ").concat(a.data.width,'"/>')}return"EMBEDDED_LINK"===a.type?'<iframe width="'.concat(a.data.width,'" height="').concat(a.data.height,'" src="').concat(a.data.src,'" frameBorder="0"></iframe>'):n}function s(e,t,n,r){var i=[],s=Array.from(e.text);if(s.length>0)for(var l,c=function(e){var t=e.text,n=e.inlineStyleRanges,r={BOLD:new Array(t.length),ITALIC:new Array(t.length),UNDERLINE:new Array(t.length),STRIKETHROUGH:new Array(t.length),CODE:new Array(t.length),SUPERSCRIPT:new Array(t.length),SUBSCRIPT:new Array(t.length),COLOR:new Array(t.length),BGCOLOR:new Array(t.length),FONTSIZE:new Array(t.length),FONTFAMILY:new Array(t.length),length:t.length};return n&&n.length>0&&n.forEach((function(e){for(var t=e.offset,n=t+e.length,a=t;a<n;a+=1)0===e.style.indexOf("color-")?r.COLOR[a]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?r.BGCOLOR[a]=e.style.substring(8):0===e.style.indexOf("fontsize-")?r.FONTSIZE[a]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?r.FONTFAMILY[a]=e.style.substring(11):r[e.style]&&(r[e.style][a]=!0)})),r}(e),u=n;u<r;u+=1)u!==n&&o(c,t,u)?(l.text.push(s[u]),l.end=u+1):(l={styles:a(c,u),text:[s[u]],start:u,end:u+1},i.push(l));return i}function l(t,n){var r=s(t,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],n.start,n.end),a="";return r.forEach((function(t){var n,r,o;a+=(r=(n=t).styles,o=function(e){return e&&e.length>0?e.map((function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}})).join(""):""}(n.text),e(r,(function(e,t){o=function(e,t){return"BOLD"===e?"<strong>".concat(t,"</strong>"):"ITALIC"===e?"<em>".concat(t,"</em>"):"UNDERLINE"===e?"<ins>".concat(t,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(t,"</del>"):"CODE"===e?"<code>".concat(t,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(t,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(t,"</sub>"):t}(e,o)})),o)})),a=function(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var n='style="';return e.COLOR&&(n+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(n+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(n+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(n+="font-family: ".concat(e.FONTFAMILY,";")),"<span ".concat(n+='"',">").concat(t,"</span>")}return t}(n.styles,a)}function c(e,t,n,r){var a=[],o=function(e,t){var n=[],r=0,a=e.entityRanges.map((function(e){return{offset:e.offset,length:e.length,key:e.key,type:"ENTITY"}}));return(a=(a=a.concat(function(e,t){var n=[];if(t)for(var r=0,a=0,o=e,i=t.trigger||"#",s=t.separator||" ";o.length>0&&a>=0;)if(o[0]===i?(a=0,r=0,o=o.substr(i.length)):(a=o.indexOf(s+i))>=0&&(o=o.substr(a+(s+i).length),r+=a+s.length),a>=0){var l=o.indexOf(s)>=0?o.indexOf(s):o.length,c=o.substr(0,l);c&&c.length>0&&n.push({offset:r,length:c.length+i.length,type:"HASHTAG"}),r+=i.length}return n}(e.text,t))).sort((function(e,t){return e.offset-t.offset}))).forEach((function(e){e.offset>r&&n.push({start:r,end:e.offset}),n.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),r=e.offset+e.length})),r<e.text.length&&n.push({start:r,end:e.text.length}),n}(e,n);return o.forEach((function(n,c){var u=function(e,t,n,r){var a=[];s(e,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],n.start,n.end).forEach((function(t){a.push(l(e,t))}));var o=a.join("");return"ENTITY"===n.type?void 0!==n.entityKey&&null!==n.entityKey&&(o=i(t,n.entityKey,o,r)):"HASHTAG"===n.type&&(o='<a href="'.concat(o,'" class="wysiwyg-hashtag">').concat(o,"</a>")),o}(e,t,n,r);0===c&&(u=function(e){if(e){for(var t=e,n=0;n<t.length&&" "===e[n];n+=1)t=t.replace(" ","&nbsp;");return t}return e}(u)),c===o.length-1&&(u=function(e){if(e){for(var t=e,n=t.length-1;n>=0&&" "===t[n];n-=1)t="".concat(t.substring(0,n),"&nbsp;").concat(t.substring(n+1));return t}return e}(u)),a.push(u)})),a.join("")}function u(e,t,a,o,i){var s,l=[],d=[];return e.forEach((function(e){var f=!1;if(s?s.type!==e.type?(l.push("</".concat(n(s.type),">\n")),l.push("<".concat(n(e.type),">\n"))):s.depth===e.depth?d&&d.length>0&&(l.push(u(d,t,a,o,i)),d=[]):(f=!0,d.push(e)):l.push("<".concat(n(e.type),">\n")),!f){l.push("<li");var p=r(e.data);p&&l.push(' style="'.concat(p,'"')),o&&l.push(' dir = "auto"'),l.push(">"),l.push(c(e,t,a,i)),l.push("</li>\n"),s=e}})),d&&d.length>0&&l.push(u(d,t,a,o,i)),l.push("</".concat(n(s.type),">\n")),l.join("")}return function(e,t,a,o){var s=[];if(e){var l=e.blocks,d=e.entityMap;if(l&&l.length>0){var f=[];if(l.forEach((function(e){if("unordered-list-item"===(h=e.type)||"ordered-list-item"===h)f.push(e);else{if(f.length>0){var l=u(f,d,t,o);s.push(l),f=[]}var p=function(e,t,a,o,s){var l=[];if(function(e){return!(!(e.entityRanges.length>0)||(t=e.text,null!=t&&0!==t.length&&0!==t.trim().length&&"atomic"!==e.type));var t}(e))l.push(i(t,e.entityRanges[0].key,void 0,s));else{var u=n(e.type);if(u){l.push("<".concat(u));var d=r(e.data);d&&l.push(' style="'.concat(d,'"')),o&&l.push(' dir = "auto"'),l.push(">"),l.push(c(e,t,a,s)),l.push("</".concat(u,">"))}}return l.push("\n"),l.join("")}(e,d,t,a,o);s.push(p)}var h})),f.length>0){var p=u(f,d,t,a,o);s.push(p),f=[]}}}return s.join("")}}()},function(e,t,n){window,e.exports=function(e,t){return a={},n.m=r=[function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),o=function(e,t,n){var r,o=e.textContent;return""===o.trim()?{chunk:(r=n,{text:" ",inlines:[new a.OrderedSet],entities:[r],blocks:[]})}:{chunk:{text:o,inlines:Array(o.length).fill(t),entities:Array(o.length).fill(n),blocks:[]}}},i=function(){return{text:"\n",inlines:[new a.OrderedSet],entities:new Array(1),blocks:[]}},s=function(e,t){return{text:"",inlines:[],entities:[],blocks:[{type:e,depth:0,data:t||new a.Map({})}]}},l=function(e,t,n){return{text:"\r",inlines:[],entities:[],blocks:[{type:e,depth:Math.max(0,Math.min(4,t)),data:n||new a.Map({})}]}},c=function(e){return{text:"\r ",inlines:[new a.OrderedSet],entities:[e],blocks:[{type:"atomic",depth:0,data:new a.Map({})}]}},u=function(e,t){return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},d=new a.Map({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:"ul"},"ordered-list-item":{element:"li",wrapper:"ol"},blockquote:{element:"blockquote"},code:{element:"pre"},atomic:{element:"figure"},unstyled:{element:"p",aliasedElements:["div"]}}),f={code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",strong:"BOLD",ins:"UNDERLINE",sub:"SUBSCRIPT",sup:"SUPERSCRIPT"};function p(e){return e.style.textAlign?new a.Map({"text-align":e.style.textAlign}):e.style.marginLeft?new a.Map({"margin-left":e.style.marginLeft}):void 0}var h=function(e){var t=void 0;if(e instanceof HTMLAnchorElement){var n={};t=e.dataset&&void 0!==e.dataset.mention?(n.url=e.href,n.text=e.innerHTML,n.value=e.dataset.value,r.Entity.__create("MENTION","IMMUTABLE",n)):(n.url=e.getAttribute&&e.getAttribute("href")||e.href,n.title=e.innerHTML,n.targetOption=e.target,r.Entity.__create("LINK","MUTABLE",n))}return t};n.d(t,"default",(function(){return b}));var m=new RegExp("&nbsp;","g"),_=!0;function g(e,t,n,a,m,b){var y=e.nodeName.toLowerCase();if(b){var v=b(y,e);if(v){var A=r.Entity.__create(v.type,v.mutability,v.data||{});return{chunk:c(A)}}}if("#text"===y&&"\n"!==e.textContent)return o(e,t,m);if("br"===y)return{chunk:i()};if("img"===y&&e instanceof HTMLImageElement){var w={};w.src=e.getAttribute&&e.getAttribute("src")||e.src,w.alt=e.alt,w.height=e.style.height,w.width=e.style.width,e.style.float&&(w.alignment=e.style.float);var k=r.Entity.__create("IMAGE","MUTABLE",w);return{chunk:c(k)}}if("video"===y&&e instanceof HTMLVideoElement){var E={};E.src=e.getAttribute&&e.getAttribute("src")||e.src,E.alt=e.alt,E.height=e.style.height,E.width=e.style.width,e.style.float&&(E.alignment=e.style.float);var x=r.Entity.__create("VIDEO","MUTABLE",E);return{chunk:c(x)}}if("iframe"===y&&e instanceof HTMLIFrameElement){var O={};O.src=e.getAttribute&&e.getAttribute("src")||e.src,O.height=e.height,O.width=e.width;var C=r.Entity.__create("EMBEDDED_LINK","MUTABLE",O);return{chunk:c(C)}}var j,D=function(e,t){var n=d.filter((function(n){return n.element===e&&(!n.wrapper||n.wrapper===t)||n.wrapper===e||n.aliasedElements&&-1<n.aliasedElements.indexOf(e)})).keySeq().toSet().toArray();if(1===n.length)return n[0]}(y,a);D&&("ul"===y||"ol"===y?(a=y,n+=1):("unordered-list-item"!==D&&"ordered-list-item"!==D&&(a="",n=-1),_?(j=s(D,p(e)),_=!1):j=l(D,n,p(e)))),j=j||{text:"",inlines:[],entities:[],blocks:[]},t=function(e,t,n){var r,a=f[e];if(a)r=n.add(a).toOrderedSet();else if(t instanceof HTMLElement){var o=t;r=(r=n).withMutations((function(e){var t=o.style.color,n=o.style.backgroundColor,r=o.style.fontSize,a=o.style.fontFamily.replace(/^"|"$/g,""),i=o.style.fontWeight,s=o.style.textDecoration,l=o.style.fontStyle;t&&e.add("color-".concat(t.replace(/ /g,""))),n&&e.add("bgcolor-".concat(n.replace(/ /g,""))),r&&e.add("fontsize-".concat(r.replace(/px$/g,""))),a&&e.add("fontfamily-".concat(a)),"bold"===i&&e.add(f.strong),"underline"===s&&e.add(f.ins),"italic"===l&&e.add(f.em)})).toOrderedSet()}return r}(y,e,t);for(var N=e.firstChild;N;){var S=g(N,t,n,a,h(N)||m,b).chunk;j=u(j,S),N=N.nextSibling}return{chunk:j}}function b(e,t){var n,o,i=(n=t,(o=function(e){var t,n=null;return document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}(e.trim().replace(m," ")))?(_=!0,{chunk:g(o,new a.OrderedSet,-1,"",void 0,n).chunk}):null);if(i){var s=i.chunk,l=new a.OrderedMap({});s.entities&&s.entities.forEach((function(e){e&&(l=l.set(e,r.Entity.__get(e)))}));var c=0;return{contentBlocks:s.text.split("\r").map((function(e,t){var n=c+e.length,o=s&&s.inlines.slice(c,n),i=s&&s.entities.slice(c,n),l=new a.List(o.map((function(e,t){var n={style:e,entity:null};return i[t]&&(n.entity=i[t]),r.CharacterMetadata.create(n)})));return c=n,new r.ContentBlock({key:Object(r.genKey)(),type:s&&s.blocks[t]&&s.blocks[t].type||"unstyled",depth:s&&s.blocks[t]&&s.blocks[t].depth,data:s&&s.blocks[t]&&s.blocks[t].data||new a.Map({}),text:e,characterList:l})})),entityMap:l}}return null}}],n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2);function n(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var r,a}(n(17),n(246))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),h=v(p),m=n(6),_=n(3),g=v(n(420)),b=v(n(9)),y=v(n(94));function v(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var E=(0,m.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return w(n,"new_project_toggle",o,n),w(n,"new_project_value",i,n),w(n,"new_project_creating",s,n),w(n,"new_folder_toggle",l,n),w(n,"new_folder_value",c,n),w(n,"new_folder_creating",u,n),w(n,"selected_folder_id",d,n),n.componentDidUpdate=function(){n.store.uistate.is_mobile||$(n.component).sortable({handle:".drag-handle",axis:"y",items:"li.project-item",scroll:!0,update:(0,_.action)((function(e,t){var r=$(t.item).attr("data-id"),a=t.item.index(),o=$(">li",$(t.item).parent()).filter((function(e,t){return $(t).attr("data-id")})).map((function(e,t){return $(t).attr("data-id")})).toArray(),i="all";n.store&&n.store.user&&"standalone"==n.store.user.type&&(i=n.store.workbooks.selected.id);var s={};s.projects_order=o,s.container_id=i,n.store.user.saveProjectsOrder(s);var l=n.store.projects.get(r),c=l.collection.projectsFolders[r],u=n.store.projects.get(c);a>0&&("group"!=l.type&&"folder"!=l.subtype&&c&&c!==l.collection.projectsFolders[o[a-1]]&&u.removeFromFolder(r),"group"!=l.type&&"folder"!=l.subtype&&l.collection.projectsFolders[o[a-1]]&&(u=l.collection.get(l.collection.projectsFolders[o[a-1]])).addToFolder(r)),u&&u.save(),n.store.projects.force_sort++,$(n.component).sortable("cancel")})),start:function(e,t){var r=$(t.item).attr("data-id");n.store.projects.get(r).type},sort:function(e,t){},stop:function(e,t){n.store.projects.force_sort++},helper:function(){return $("<div class='tooltip-inner ghost'><span class='task-name'>Move here</span></div>")},placeholder:"droppable-position",containment:"ul.projects-list.ui-sortable"})},n.store=n.props.store,n.handleChange=n.handleChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.createProject=n.createProject.bind(n),n.createFolder=n.createFolder.bind(n),n.handleKeyDownFolder=n.handleKeyDownFolder.bind(n),n.createProject=n.createProject.bind(n),n.createFolder=n.createFolder.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),f(t,[{key:"componentDidMount",value:function(){}},{key:"createProject",value:function(){var e=this;this.workbook_projects=new y.default(this.store,[],{workbook_id:this.store.workbooks.selected.id}),this.new_project_creating=!0;var t={name:this.new_project_value,workbook:{id:this.store.workbooks.selected.id,name:this.store.workbooks.selected.name},supplier:"standalone",flags:this.store.projects.model().default_flags()};this.workbook_projects.create(t).then((function(n){if(""!=e.selected_folder_id){var r=e.store.projects.get(e.selected_folder_id);r&&(r.addToFolder(n.id),r.save())}e.new_project_value="",e.new_project_creating=!1,e.new_project_toggle=!1,t.id=n.id,e.store.projects.add([t]),window.utils.inev("app","Create Project","blank"),window.location.hash="projects/"+t.id+"/"+t.id}))}},{key:"createFolder",value:function(){var e=this;this.workbook_projects=new y.default(this.store,[],{workbook_id:this.store.workbooks.selected.id}),this.new_folder_creating=!0;var t={name:this.new_folder_value,workbook:{id:this.store.workbooks.selected.id,name:this.store.workbooks.selected.name},supplier:"standalone",type:"group",subtype:"folder"};this.workbook_projects.create(t).then((function(n){e.new_folder_value="",e.new_folder_creating=!1,e.new_folder_toggle=!1,t.id=n.id,t.type="group",t.subtype="folder",e.store.projects.add([t]),e.store.projects.filteredWorkbook.filter((function(e){return"group"!=e.type&&"folder"!=e.type})).length>0&&(e.store.uistate.current_modal_options={id:n.id},e.store.uistate.current_modal="FOLDER_SETUP")}))}},{key:"handleKeyDown",value:function(e){this.new_project_value=e.target.value,13==e.keyCode?(e.preventDefault(),e.stopPropagation(),this.createProject()):27==e.keyCode&&(this.new_project_toggle=!1,this.new_project_value="")}},{key:"handleKeyDownFolder",value:function(e){this.new_folder_value=e.target.value,13==e.keyCode?(e.preventDefault(),e.stopPropagation(),this.createFolder()):27==e.keyCode&&(this.new_folder_toggle=!1,this.new_folder_value="")}},{key:"handleChange",value:function(e){this.store.projects.filters.query=e.target.value}},{key:"editWorkbook",value:function(e){var t=this.store;e.stopPropagation(),e.preventDefault(),t.uistate.current_modal_options||(t.uistate.current_modal_options={}),t.uistate.current_modal_options.workbook_id=t.workbooks.selected.id,t.uistate.current_modal_options.active_view="projects",t.uistate.current_modal="STANDALONE_EDIT"}},{key:"editMembers",value:function(e){var t=this.store;e.stopPropagation(),e.preventDefault(),t.uistate.current_modal_options||(t.uistate.current_modal_options={}),t.uistate.current_modal_options.workbook_id=t.workbooks.selected.id,t.uistate.current_modal_options.active_view="members",t.uistate.current_modal="STANDALONE_EDIT"}},{key:"inbox",value:function(){window.router.navigate("/inbox",{trigger:!0})}},{key:"toggleCreateProject",value:function(){this.folders=this.store.projects.filteredWorkbook.filter((function(e){return"folder"==e.subtype})),this.new_project_toggle=!0}},{key:"renderStandalone",value:function(){var e,t,n=this;return h.default.createElement("div",{id:"sidebar-toolbar",className:["standalone",this.store.uistate.is_mobile?"mobile":""].join(" "),style:{width:"250px"}},h.default.createElement("div",{className:"sidebar-header",style:{boxShadow:"0 0 15px rgba(0,0,0,0.5)",height:"100px",position:"relative"}},h.default.createElement("div",{id:"",style:{position:"absolute",top:"15px",right:"10px"}},h.default.createElement("div",{id:"user-name"},h.default.createElement("a",{href:"javascript:void(0);",className:"dropdown-toggle","data-toggle":"dropdown",style:{width:"100%",textDecoration:"none"}},h.default.createElement("div",{style:{display:"flex"}},h.default.createElement("div",null,this.store.uistate.user_photo&&h.default.createElement("img",{src:this.store.uistate.user_photo,width:26,style:{borderRadius:15,width:24,marginRight:5,marginTop:"-3px",marginBottom:"-2px",border:"2px solid rgba(255,255,255,0.6)"}}),!this.store.uistate.user_photo&&h.default.createElement("div",{id:"user-name-text",className:"non-photo"},b.default.nameAbbreviation(this.store.user.name))),h.default.createElement("div",null," ",h.default.createElement("i",{className:"fa fa-caret-down"})))),h.default.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdownMenu",style:{zIndex:1e4,fontSize:12,minWidth:"auto",width:"auto",marginLeft:"-75px"}},h.default.createElement("li",null,h.default.createElement("a",{href:"javascript:void(0)"},h.default.createElement("div",null,this.store.user.name),h.default.createElement("span",{className:"muted"},"Logged in as ",this.store.user.email))),h.default.createElement("li",{className:"divider"}),h.default.createElement("li",{className:"profile-link",onClick:function(){return store.uistate.current_modal="PROFILE"}},h.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"javascript:void(0)"},h.default.createElement("i",{className:"far fa-user fa-fw"})," Profile")),h.default.createElement("li",{className:"billing-team-link"},h.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"#/subscriptions/team"},h.default.createElement("i",{className:"fa fa-star fa-fw"})," Billing & Team")),this.store.user.is_staff&&h.default.createElement("li",null,h.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"javascript:void(0)",onClick:function(){return n.store.uistate.management_app=!0}},h.default.createElement("i",{className:"fas fa-fw fa-database"})," Management")),h.default.createElement("li",null,h.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"#/logout"},h.default.createElement("i",{className:"fa fa-fw fa-sign-out-alt"})," Logout"))))),h.default.createElement("div",{className:"logo",style:{padding:"15px"}},h.default.createElement("img",{src:"/img/logo-for-dark-bg.png",width:"120"})),h.default.createElement("div",(A(e={className:"workbook-picker"},"className","dropdown-toggle"),A(e,"data-toggle","dropdown"),A(e,"style",{cursor:"pointer",padding:"0px 15px 0 15px",color:"#ffffff",position:"relative"}),e),h.default.createElement("div",{style:{position:"absolute",left:"20px",top:"0px"}},h.default.createElement("div",null,this.store.workbooks.selected&&this.store.workbooks.selected.name,!this.store.workbooks.selected&&"Loading...","  ",h.default.createElement("i",{className:"fa fa-caret-down"})),h.default.createElement("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.6)"}},this.store.workbooks.selected&&this.store.workbooks.selected.projects&&this.store.workbooks.selected.projects.length||0," Projects."))),h.default.createElement("ul",{className:"dropdown-menu workbooks",role:"menu","aria-labelledby":"dropdownMenu",style:{fontSize:12,minWidth:"auto",width:"230px",left:"10px",height:"auto",maxHeight:"400px",overflowX:"hidden"}},this.store.workbooks.filtered.map((function(e){return h.default.createElement("li",{className:"",onClick:function(){return e.select()}},h.default.createElement("a",{href:"javascript:void(0)"},h.default.createElement("div",{style:{fontSize:"14px"}},e.name),h.default.createElement("div",{style:{fontSize:"12px",fontWeight:300}},e.projects.length," projects")))})),h.default.createElement("li",{className:""},h.default.createElement("a",{href:"javascript:void(0)",onClick:function(e){return store.uistate.current_modal="STANDALONE_CREATE"}},h.default.createElement("i",{className:"fas fa-plus"})," New workbook")))),this.store.workbooks.filtered.length>0&&h.default.createElement("div",{className:"sidebar sidebar-1",style:(t={left:"0px",width:"231px",top:"110px",paddingLeft:"0px",paddingRight:"10px",right:"-10px"},A(t,"width","initial"),A(t,"height","auto"),A(t,"bottom",0),t)},h.default.createElement("div",{className:"tap-small-resolutions"},"Click to show project list"),h.default.createElement("ul",{ref:function(e){return n.component=e},className:"unstyled projects-list"},h.default.createElement("li",{className:"settings non-hover"},h.default.createElement("a",{href:"javascript:void(0)",onClick:function(e){return n.editWorkbook(e)}},h.default.createElement("i",{className:"fa fa-cog"}),"  Workbook Settings")," ",h.default.createElement("a",{href:"javascript:void(0)",style:{marginLeft:"20px"},onClick:function(e){return n.editMembers(e)}},h.default.createElement("i",{className:"fa fa-users"}),"  Team")),h.default.createElement("li",{className:"non-hover"},h.default.createElement("div",{className:"filter-projects-container"},h.default.createElement("i",{className:"fa fa-search"}),"  ",h.default.createElement("input",{type:"text",placeholder:"Filter projects...",className:"projects-search",onChange:this.handleChange,value:this.store.projects.filters.query,style:{width:"100%"}}))),h.default.createElement("li",{className:"inbox"==this.store.uistate.active_view?"selected":"",onClick:function(){return n.inbox()},style:{display:"flex"}},h.default.createElement("div",{style:{padding:"5px 5px 5px 10px"}},h.default.createElement("div",{className:"icon"},h.default.createElement("i",{className:"far fa-fw fa-comment"}))),h.default.createElement("div",{style:{padding:"5px",flexGrow:1}},h.default.createElement("div",{className:"title-inner",style:{whiteSpace:"normal",overflow:"visible",fontSize:"inbox"==this.store.uistate.active_view?"14px":""}},h.default.createElement("span",null,"Inbox")," ",h.default.createElement("span",{className:"inbox-counter"},this.store.inbox.unreads)))),h.default.createElement(g.default,{store:this.store,is_standalone:!0}),h.default.createElement("li",{className:"non-hover"},!this.new_project_toggle&&!this.new_folder_toggle&&h.default.createElement("div",null,h.default.createElement("button",{className:"btn btn-flat btn-success btn-small dropdown-toggle","data-toggle":"dropdown",style:{marginLeft:"10px"}},h.default.createElement("i",{className:"fa fa-plus"})," New ",h.default.createElement("span",{style:{borderLeft:"1px solid rgba(0,0,0,0.3)",padding:"5px 0 5px 5px",marginLeft:"5px"}},h.default.createElement("i",{className:"fa fa-chevron-down"}))),h.default.createElement("ul",{className:"dropdown-menu",style:{overflow:"hidden",marginLeft:"20px"}},h.default.createElement("li",{style:{padding:0}},h.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return n.toggleCreateProject()}},"Blank Project")),h.default.createElement("li",{style:{padding:0}},h.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return n.store.uistate.current_modal="NEW_PROJECT_FROM_TEMPLATE"}},"From template")),h.default.createElement("li",{style:{padding:0}},h.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return n.new_folder_toggle=!0}},"Folder (Organize your projects)")))),this.new_project_toggle&&h.default.createElement("div",{style:{padding:"10px",background:"#fff",boxSizing:"borderBox",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.7)"}},this.folders.length>0&&h.default.createElement("div",null,h.default.createElement("select",{value:this.selected_folder_id,onChange:function(e){return n.selected_folder_id=e.target.value},style:{boxSizing:"border-box",width:"100%",fontSize:"12px"}},h.default.createElement("option",{value:""},"No folder"),this.folders.map((function(e){return h.default.createElement("option",{value:e.id},e.name)})))),h.default.createElement("input",{type:"text",autoFocus:!0,onKeyDown:this.handleKeyDown,onChange:this.handleKeyDown,value:this.new_project_value,style:{width:"126px",fontSize:"12px"},placeholder:"Project name..."}),h.default.createElement("button",{className:"btn btn-flat btn-success",style:{marginTop:"-7px",marginLeft:"5px"},onClick:this.createProject,disabled:this.new_project_creating||this.new_folder_creating},(this.new_project_creating||this.new_folder_creating)&&h.default.createElement("i",{className:"fa fa-spin fa-spinner"}),!(this.new_project_creating||this.new_folder_creating)&&"Create")),this.new_folder_toggle&&h.default.createElement("div",{style:{padding:"10px",background:"#fff",boxSizing:"borderBox",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.7)"}},h.default.createElement("input",{type:"text",autoFocus:!0,onKeyDown:this.handleKeyDownFolder,onChange:this.handleKeyDownFolder,value:this.new_folder_value,style:{width:"126px",fontSize:"12px"},placeholder:"Folder name..."}),h.default.createElement("button",{className:"btn btn-flat btn-success",style:{marginTop:"-7px",marginLeft:"5px"},onClick:this.createFolder},(this.new_project_creating||this.new_folder_creating)&&h.default.createElement("i",{className:"fa fa-spin fa-spinner"}),!(this.new_project_creating||this.new_folder_creating)&&"Create"))),h.default.createElement("li",{className:"non-hover"}))))}},{key:"render",value:function(){var e,t=this;return this.store.uistate.user_resolved?"standalone"==this.store.user.type?this.renderStandalone():h.default.createElement("div",{id:"sidebar-toolbar",className:this.store.uistate.is_mobile?"mobile":""},h.default.createElement("div",{className:"sidebar-header",style:{boxShadow:"0 0 15px rgba(0,0,0,0.5)",height:"100px",position:"relative"}},h.default.createElement("div",{id:"",style:{position:"absolute",top:"15px",right:"10px"}},h.default.createElement("div",{id:"user"},h.default.createElement("div",{id:"user-name"},h.default.createElement("a",{href:"javascript:void(0);",className:"dropdown-toggle","data-toggle":"dropdown",style:{width:"100%",textDecoration:"none"}},h.default.createElement("div",{style:{display:"flex"}},h.default.createElement("div",null,h.default.createElement("img",{src:"/img/user.png",width:26,style:{display:"none",borderRadius:15,width:24,marginRight:5,marginTop:"-3px",marginBottom:"-2px"}}),h.default.createElement("div",{id:"user-name-text",className:"non-photo"})),h.default.createElement("div",null," ",h.default.createElement("i",{className:"fa fa-caret-down"})))),h.default.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdownMenu",style:{fontSize:12,minWidth:"auto",width:"auto",marginLeft:"-75px"}},h.default.createElement("li",{className:"billing-team-link"},h.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"#/subscriptions/team"},h.default.createElement("i",{className:"fa fa-star fa-fw"})," Billing & Team")),this.store.user.type&&"standalone"==this.store.user.type&&h.default.createElement("li",null,h.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"https://app.instagantt.com/logout"},h.default.createElement("i",{className:"fa fa-fw fa-sign-out"})," Logout")),"standalone"!=this.store.user.type&&h.default.createElement("li",null,h.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"#/logout"},h.default.createElement("i",{className:"fa fa-fw fa-sign-out"})," Logout")))))),h.default.createElement("div",{className:"logo",style:{padding:"15px"}},h.default.createElement("img",{src:"/img/logo-for-dark-bg.png",width:"120"})),h.default.createElement("div",(A(e={className:"workbook-picker"},"className","dropdown-toggle"),A(e,"data-toggle","dropdown"),A(e,"style",{cursor:"pointer",padding:"0px 15px 0 15px",color:"#ffffff",position:"relative"}),A(e,"onClick",(function(e){return t.store.uistate.current_modal="ADD_PROJECT_POPUP"})),e),h.default.createElement("div",{style:{position:"absolute",left:"20px",top:"0px",right:"10px"}},h.default.createElement("div",{style:{fontSize:"13px",color:"#fff"}},h.default.createElement("i",{className:"fa fa-plus"})," Manage projects"),h.default.createElement("div",{style:{fontWeight:"300",color:"#efefef",fontSize:"11px"}},h.default.createElement("div",{className:"pull-right"},h.default.createElement("i",{className:"fa fa-circle",style:{color:"#08bd08"}})),"Asana connection established",h.default.createElement("div",{className:"clearfix"}))))),h.default.createElement("div",{className:"sidebar sidebar-1",style:{width:"initial",paddingRight:"15px",boxSizing:"border-box",top:"110px",bottom:"70px",height:"auto",right:"-15px"}},h.default.createElement("div",{className:"tap-small-resolutions"},"Click to show project list"),h.default.createElement("div",{className:"filter-projects-container"},h.default.createElement("i",{className:"fa fa-search"}),"  ",h.default.createElement("input",{type:"text",placeholder:"Filter projects...",className:"projects-search",onChange:this.handleChange,value:this.store.projects.filters.query})),h.default.createElement("ul",{ref:function(e){return t.component=e},className:"unstyled projects-list"},h.default.createElement(g.default,{store:this.store}))),h.default.createElement("div",{style:{position:"absolute",bottom:"0",padding:"10px",height:"60px"}},h.default.createElement("ul",{className:"sidebar-bottom-menu"},h.default.createElement("li",{"data-elevio-module":"articles"},h.default.createElement("i",{className:"fa-fw far fa-lightbulb"})," Help Guide"),h.default.createElement("li",{onClick:function(){return Intercom("show")}},h.default.createElement("i",{className:"fa fa-fw fa-life-ring"})," Support"))),h.default.createElement("div",{className:"modal hide",id:"resync-modal"},h.default.createElement("div",{className:"modal-body",style:{textAlign:"center"}},h.default.createElement("h3",null,"Sync Projects List"),h.default.createElement("p",null,"By doing this action, your ",h.default.createElement("b",null,"connected")," projects will be updated with the last Asana name & colors. This could take a couple of minutes."),h.default.createElement("button",{className:"resync-projects btn btn-success"},"Sync")),h.default.createElement("div",{className:"modal-footer"},h.default.createElement("a",{href:"javascript:void(0);","data-dismiss":"modal",className:"btn"},"Close")))):null}}]),t}(),o=k(a.prototype,"new_project_toggle",[_.observable],{enumerable:!0,initializer:function(){return!1}}),i=k(a.prototype,"new_project_value",[_.observable],{enumerable:!0,initializer:function(){return""}}),s=k(a.prototype,"new_project_creating",[_.observable],{enumerable:!0,initializer:function(){return!1}}),l=k(a.prototype,"new_folder_toggle",[_.observable],{enumerable:!0,initializer:function(){return!1}}),c=k(a.prototype,"new_folder_value",[_.observable],{enumerable:!0,initializer:function(){return""}}),u=k(a.prototype,"new_folder_creating",[_.observable],{enumerable:!0,initializer:function(){return!1}}),d=k(a.prototype,"selected_folder_id",[_.observable],{enumerable:!0,initializer:function(){return""}}),r=a))||r;t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(c(n(800)),c(n(801)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.component=null,n.project=n.props.project,n.standalone=n.props.standalone||!1,n.selectProject=n.selectProject.bind(n),n.projectSetup=n.projectSetup.bind(n),n.standaloneSetup=n.standaloneSetup.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){}},{key:"selectProject",value:function(e){var t=!1,n=this.project.collection.globalstore;if(n.uistate.hideContentSidebar(),e=e||{},!NProgress.status&&"workspace-title"!=this.project.type){if("inbox"==n.uistate.active_view&&(n.uistate.active_view="gantt",n.projects.selected&&(n.projects.selected.selected=!1)),"project"==this.project.type){n.tasks.resetFilters();var r=this.project.supplier_project_id;n&&n.user&&"standalone"==n.user.type&&(r=this.project.id),window.router.navigate("/projects/"+this.project.id+"/"+r)}if("workspace"==this.project.type&&window.router.navigate("/workspace/"+this.project.id+"/"+this.project.supplier_project_id),"group"==this.project.type){var a=this.project.remote_user_id?this.project.remote_user_id:this.project.collection.globalstore.user.id;window.router.navigate("/group/"+this.project.id+"/"+a)}"folder"!=this.project.type&&"folder"!=this.project.subtype||(a=this.project.remote_user_id?this.project.remote_user_id:this.project.collection.globalstore.user.id,window.router.navigate("/group/"+this.project.id+"/"+a)),this.project.collection.selected&&this.project.collection.selected.subtype&&"team"==this.project.collection.selected.subtype&&(t=!0),"workspace-title"!=this.project.type&&this.project.collection.selectProject(this.project),t&&this.project.collection.globalstore.uistate.changeView("gantt")}}},{key:"projectSetup",value:function(e){e.stopPropagation(),e.preventDefault(),this.project.collection.globalstore.uistate.editing_project_id=this.project.id,this.project.collection.globalstore.uistate.current_modal="PROJECT_SETUP"}},{key:"standaloneSetup",value:function(e){e.stopPropagation(),e.preventDefault(),this.project.collection.globalstore.uistate.current_modal="FOLDER_SETUP",this.project.collection.globalstore.uistate.current_modal_options={id:this.project.id}}},{key:"editWorkbook",value:function(e,t){e.stopPropagation(),e.preventDefault(),store.uistate.current_modal_options||(store.uistate.current_modal_options={}),store.uistate.current_modal_options.workbook_id=t.supplier_project_id,store.uistate.current_modal="STANDALONE_EDIT"}},{key:"render",value:function(){var e=this,t=this.project.collection.globalstore,n=this.project,r=(n.selected&&n.selected&&t.uistate.active_view,this.project.collection.projectsFolders[n.id]);this.project.collection.force_sort;var a="inbox"!=t.uistate.active_view&&n.selected;return i.default.createElement("li",{style:{display:"flex"},"data-id":n.id,"data-type":n.type,"data-subtype":n.subtype,onMouseOver:this.onMouseOver,onClick:this.selectProject,ref:function(t){e.component=t},className:["workspace-title"==n.type?"title workspace-title":"",a?"selected":"",r?"in_folder":"",l.default.item,"project-item"].join(" ")},"workspace-title"!=n.type&&"all"!=n.subtype&&i.default.createElement("div",{style:{position:"absolute",left:"5px",top:"4px"},className:["drag-handle",l.default.drag_handle].join(" ")},i.default.createElement("i",{className:"fa fa-bars"})),void 0!==n.type&&"workspace"==n.type&&i.default.createElement("div",{style:{padding:"2px 0px 2px 10px"}},i.default.createElement("div",{className:"icon"},i.default.createElement("i",{className:"fa-fw fa fa-user"}))),void 0!==n.type&&"project"==n.type&&i.default.createElement("div",{style:{padding:"2px 0px 2px 10px"}},i.default.createElement("div",{className:"icon"},i.default.createElement("i",{class:"fa-light fa-file-lines fa-fw"}))),void 0!==n.type&&"group"==n.type&&(void 0===n.subtype||"team"!=n.subtype)&&i.default.createElement("div",{style:{padding:"2px 0px 2px 10px"}},i.default.createElement("div",{className:"icon"},i.default.createElement("i",{className:"fa-fw far fa-folder"}))),void 0!==n.type&&"group"==n.type&&void 0!==n.subtype&&"team"==n.subtype&&i.default.createElement("div",{style:{padding:"2px 0px 2px 10px"}},i.default.createElement("div",{className:"icon"},i.default.createElement("i",{className:"fa-fw fa fa-users"}))),void 0===n.type&&i.default.createElement("div",{style:{padding:"2px 0px 2px 10px"}},i.default.createElement("div",{className:"icon"},i.default.createElement("i",{className:"fa-fw fas fa-file-alt"}))),"workspace-title"==n.type&&i.default.createElement("div",{style:{padding:"2px 5px"}},i.default.createElement("div",{className:"title-inner",style:{whiteSpace:"normal",overflow:"visible"}},n.standalone&&i.default.createElement("div",{onClick:function(t){return e.editWorkbook(t,n)},style:{float:"right"}},i.default.createElement("i",{className:"fa fa-cog"})),n.name)),"workspace-title"!=n.type&&i.default.createElement("div",{style:{padding:"2px 5px",flexGrow:1}},i.default.createElement("div",{className:"title-inner",style:{flexGrow:1,whiteSpace:"normal",overflow:"visible",fontSize:(n.selected&&t.uistate.active_view,"")}},i.default.createElement("span",null,n.name))),void 0!==n.type&&"workspace-title"!=n.type&&"all"!=n.subtype&&!this.standalone&&i.default.createElement("div",{style:{padding:"2px 5px"}},i.default.createElement("div",{className:"options",onClick:this.projectSetup},i.default.createElement("i",{className:"fa-fw fa fa-cog"}))),void 0!==n.type&&"workspace-title"!=n.type&&"all"!=n.subtype&&this.standalone&&i.default.createElement("div",{style:{padding:"2px 5px"}},i.default.createElement("div",{className:"options",onClick:this.standaloneSetup},i.default.createElement("i",{className:"fa-fw fa fa-cog"}))),n.color&&"false"!=n.color&&i.default.createElement("div",{className:"project-color "+n.color}))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(a=i)&&a.__esModule?a:{default:a},l=n(6),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),u=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.project=n.props.project,n.switchToTags=n.switchToTags.bind(n),n.switchToUsers=n.switchToUsers.bind(n),n.selectTag=n.selectTag.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){}},{key:"selectTag",value:function(e){e.stopPropagation();var t=this.project,n=(t.collection.globalstore.tasks.filters.tag_type,t.collection.globalstore.tasks),r=e.target.dataset.tag;-1!=n.filters.tags.indexOf(r)?e.ctrlKey||e.metaKey?n.filters.tags=_.without(n.filters.tags,r):n.filters.tags=[]:e.ctrlKey||e.metaKey?n.filters.tags.push(r):n.filters.tags=[r]}},{key:"renderTags",value:function(){var e=this,t=this.project,n=(t.collection.globalstore.tasks.filters.tag_type,t.collection.globalstore.tasks);return 0==n.tags.length?s.default.createElement("li",{key:0,className:"tag"},s.default.createElement("i",{className:"fa fa-ban fa-fw"})," No tags found"):n.tags.map((function(t,r){var a="";return-1!=n.filters.tags.indexOf(t.name)&&(a="selected-tag"),s.default.createElement("li",{key:r,className:["tag",a].join(" "),"data-tag":t.name,onClick:e.selectTag},s.default.createElement("i",{className:"fa fa-tag"}),t.name)}))}},{key:"renderUsers",value:function(){var e=this;console.log("Rendering users");var t=this.project,n=(t.collection.globalstore.tasks.filters.tag_type,t.collection),r=n.globalstore.tasks;return n.globalstore.users.filtered_project_members.map((function(t){var n="";return-1!=r.filters.tags.indexOf(String(t.id))&&(n="selected-tag"),s.default.createElement("li",{className:["tag",n].join(" "),"data-tag":t.id,onClick:e.selectTag},0!=t.id&&t.photo&&t.photo.image_60x60&&s.default.createElement("img",{src:t.photo.image_60x60,style:{width:"16px",marginRight:"12px"}}),0!=t.id&&(!t.photo||t.photo&&!t.photo.image_60x60)&&s.default.createElement("div",{className:"non-photo pull-left"}," ",c.nameAbbreviation(t.name)," "),0==t.id&&s.default.createElement("div",{className:"unassigned-photo pull-left"},s.default.createElement("i",{className:"icon icon-user"})),t.name)}))}},{key:"switchToTags",value:function(e){e.stopPropagation();var t=this.project,n=(t.collection.globalstore.tasks.filters.tag_type,t.collection.globalstore.tasks);n.filters.tag_type="tag",n.filters.tags=[]}},{key:"switchToUsers",value:function(e){e.stopPropagation();var t=this.project,n=(t.collection.globalstore.tasks.filters.tag_type,t.collection.globalstore.tasks);n.filters.tag_type="user",n.filters.tags=[]}},{key:"render",value:function(){var e=this.project,t=e.collection.globalstore.tasks.filters.tag_type;return e.collection.globalstore.tasks,s.default.createElement("ul",{className:"tags unstyled"},s.default.createElement("li",{className:"tags-header"},s.default.createElement("div",{className:"pull-left",style:{paddingTop:"0px",paddingLeft:0}},s.default.createElement("i",{className:"fa fa-filter",style:{margin:"0 2px",marginRight:"8px"}}),"Filters"),s.default.createElement("div",{onClick:this.switchToUsers,className:["pull-right tab tab-users","user"==t?"selected":""].join(" ")},s.default.createElement("i",{className:"fa fa-user"})),s.default.createElement("div",{onClick:this.switchToTags,className:["pull-right tab tab-tags","tag"==t?"selected":""].join(" ")},s.default.createElement("i",{className:"fa fa-tag"}))),"tag"==t&&this.renderTags(),"user"==t&&this.renderUsers())}}]),t}())||r;t.default=u},function(e,t,n){e.exports={item:"_32AWpOHuVapfx2jS2omul_",drag_handle:"_3i5iXg341dfLvDnumqbPMU"}},function(e,t,n){e.exports={title:"_1Xe8X_g7QDnXAJ1-bJwyJZ",subtitle:"_2eJn98k5aSXRyAChlya6oD",grid_row:"l9w0YlWn5UTViC2ZqClQH",grid_item:"_2eAG41RiDWyYlDz27ktANc",grid_item_inner:"_3R5-UyU6BrbvLuxbHkLkfP",grid_item_title:"l2bWgo6vGNGzsHQvHPvxs"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),s=n(6),l=(n(3),u(n(53))),c=u(n(256));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.change_grouping=n.change_grouping.bind(n),n.sorting_by_date=n.sorting_by_date.bind(n),n.importTasks=n.importTasks.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"change_grouping",value:function(e){"group_by_project"==e?(this.store.tasks.sort_options.group_by_project=!0,this.store.tasks.sort_options.group_by_priority_heading=!1):"group_by_priority_heading"==e?(this.store.tasks.sort_options.group_by_project=!0,this.store.tasks.sort_options.group_by_priority_heading=!0):(this.store.tasks.sort_options.group_by_project=!1,this.store.tasks.sort_options.group_by_priority_heading=!1)}},{key:"sorting_by_date",value:function(e){this.store.tasks.sort_options.sort_by_date=!!e}},{key:"importTasks",value:function(){this.store.uistate.current_modal="LOAD_CSV"}},{key:"render",value:function(){return store.projects.selected&&"group"==store.projects.selected.type&&store.projects.selected.subtype,this.store.uistate.is_mobile?this.renderInner():i.default.createElement("ul",{className:"dropdown-menu gantt-options"},this.renderInner())}},{key:"renderInner",value:function(){var e=this,t=store.projects.selected&&"group"==store.projects.selected.type&&"team"==store.projects.selected.subtype,n=t?"hide":"";return i.default.createElement(i.default.Fragment,null,i.default.createElement("li",{className:["subtitle",n].join(" ")},"Group tasks"),i.default.createElement("li",{className:["group-by group-by-priority-headings",n].join(" "),style:{display:"flex"}},i.default.createElement(c.default,{clickFunc:function(){return e.change_grouping("group_by_priority_heading")},activationBoolean:function(){return e.store.tasks.sort_options.group_by_project&&e.store.tasks.sort_options.group_by_priority_heading},text:"Group tasks by sections"}),store.projects.selected&&("group"==store.projects.selected.type||"workspace"==store.projects.selected.type)&&i.default.createElement(c.default,{clickFunc:function(){return e.change_grouping("group_by_project")},activationBoolean:function(){return e.store.tasks.sort_options.group_by_project&&!e.store.tasks.sort_options.group_by_priority_heading},text:"Group tasks by project"}),i.default.createElement(c.default,{clickFunc:function(){return e.change_grouping("dont_group")},activationBoolean:function(){return!e.store.tasks.sort_options.group_by_project&&!e.store.tasks.sort_options.group_by_priority_heading},text:"Don't group tasks"})),i.default.createElement("li",{className:["divider",n].join(" ")}),i.default.createElement("li",{className:["subtitle",n].join(" ")},"Sorting"),i.default.createElement("li",{className:["sort-by sort-by-date",n].join(" "),style:{display:"flex"}},i.default.createElement("a",{onClick:function(){return e.sorting_by_date(!0)},className:"radio-btn"},i.default.createElement("i",{className:["fa-circle",this.store.tasks.sort_options.sort_by_date?"fas":"far"].join(" ")}),"   By date (recommended)"),i.default.createElement("a",{onClick:function(){return e.sorting_by_date(!1)},className:"radio-btn"},i.default.createElement("i",{className:["fa-circle",this.store.tasks.sort_options.sort_by_date?"far":"fas"].join(" ")}),"   Manually")),i.default.createElement("li",{className:"divider"}),i.default.createElement("li",{className:"subtitle"},"Display"),i.default.createElement("li",{className:"show-real-completion",style:{}},i.default.createElement(l.default,{clickFunc:function(){return e.store.uistate.show_completion_date=!e.store.uistate.show_completion_date},activationBoolean:function(){return e.store.uistate.show_completion_date},text:"Show real completion date along with original due date"})),i.default.createElement("li",{className:"show-subtasks",style:{}},i.default.createElement(l.default,{clickFunc:function(){return e.store.uistate.show_subtasks=!e.store.uistate.show_subtasks},activationBoolean:function(){return e.store.uistate.show_subtasks},text:"Show subtasks"})),!t&&!this.store.uistate.is_mobile&&i.default.createElement("li",{className:"dropdown-submenu"},i.default.createElement("a",{tabIndex:-1,href:"#"},i.default.createElement("i",{className:"fa fa-fw fa-calendar-check"}),"  Completed tasks since:   ",i.default.createElement("span",{disabled:!0,className:"label label-info",style:{fontSize:10,fontWeight:"normal"},id:"completed-since-text"})),i.default.createElement("ul",{className:"dropdown-menu"},i.default.createElement("li",null,Object.keys(this.store.uistate.completed_since_options).map((function(t){return i.default.createElement(c.default,{key:t,clickFunc:function(){return e.store.uistate.completed_since=t},activationBoolean:function(){return e.store.uistate.completed_since==t},text:e.store.uistate.completed_since_options[t].name})}))))),t&&i.default.createElement("li",{className:"dropdown-submenu"},i.default.createElement("a",{tabIndex:-1,href:"#"},i.default.createElement("i",{className:"fa fa-fw fa-calendar-check-o"}),"  Completed tasks since:   ",i.default.createElement("span",{disabled:!0,className:"label label-info",style:{fontSize:10,fontWeight:"normal"},id:"completed-since-text"})),i.default.createElement("ul",{className:"dropdown-menu"},i.default.createElement("li",null,i.default.createElement("a",{href:"javascript:void(0)"},"Team workload only allows completed tasks since last 2 weeks.")))),i.default.createElement("li",{className:"task-names-on-bars"},i.default.createElement(l.default,{clickFunc:function(){return e.store.uistate.append_task_names=!e.store.uistate.append_task_names},activationBoolean:function(){return e.store.uistate.append_task_names},text:"Show task names next to bars"})),i.default.createElement("li",{className:"divider"}),i.default.createElement("li",{className:"subtitle"},"Scheduling"),i.default.createElement("li",{style:{}},i.default.createElement(l.default,{clickFunc:function(){return e.store.uistate.keep_gap_locked=!e.store.uistate.keep_gap_locked},activationBoolean:function(){return e.store.uistate.keep_gap_locked},text:"Keep lag between dependencies when dragging"})),i.default.createElement("li",{className:"divider"}),!this.store.uistate.is_mobile&&i.default.createElement("li",null,i.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return store.uistate.current_modal="CHANGE_TIMELINE"},className:"change-timeline-length"},i.default.createElement("i",{className:"fa fa-fw fa-calendar"}),"   Change timeline length")),i.default.createElement("li",{className:!0},i.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return store.uistate.current_modal="WORKING_DAYS"},className:"change-workingdays"},i.default.createElement("i",{className:"far fa-fw fa-calendar-alt"}),"   Working days")),i.default.createElement("li",{className:!0},i.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return store.uistate.current_modal="WORKING_DAYS"},className:"change-workingdays"},i.default.createElement("i",{className:"fas fa-fw fa-dollar-sign"}),"   Currency")),i.default.createElement("li",{className:!0},i.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return store.uistate.current_modal="WORKING_DAYS"},className:"change-workingdays"},i.default.createElement("i",{className:"fas fa-fw fa-cash-register"}),"   Hourly rate ($/hr) per member")),!this.store.uistate.is_mobile&&i.default.createElement(i.default.Fragment,null,i.default.createElement("li",{className:"divider"}),i.default.createElement("li",null,i.default.createElement("a",{href:"javascript:void(0);",className:"import-image",onClick:this.importTasks},i.default.createElement("i",{className:"fas fa-plus fa-fw"})," Import CSV ",i.default.createElement("br",null)))))}}]),t}())||r;t.default=d},function(e,t,n){e.exports={container:"e3EfLafsZiQZx5v10MGbx"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=_(c),d=n(6),f=n(3),p=_(n(53)),h=_(n(111)),m=_(n(265));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g(n,"dropdown_visibility",o,n),g(n,"configure_custom_field",i,n),g(n,"custom_fields_manager_open",s,n),n.store=n.props.store,n.handleKeyboard=n.handleKeyboard.bind(n),n.handleClickOutside=n.handleClickOutside.bind(n),n.handleEsc=n.handleEsc.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"howToSync",value:function(){this.store.uistate.current_modal="HOW_TO_SYNC_COLUMNS"}},{key:"handleKeyboard",value:function(e){27==e.keyCode&&(this.dropdown_visibility=!1)}},{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),document.addEventListener("keydown",this.handleEsc)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside),document.removeEventListener("keydown",this.handleEsc)}},{key:"handleClickOutside",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&(this.dropdown_visibility=!1)}},{key:"handleEsc",value:function(e){27==e.keyCode&&(this.dropdown_visibility=!1)}},{key:"showCustomFieldSetup",value:function(e){this.configure_custom_field=e}},{key:"hideCustomFieldSetup",value:function(){this.configure_custom_field=!1}},{key:"manageCustomFields",value:function(){this.custom_fields_manager_open=!0}},{key:"hideCustomFieldsManager",value:function(){this.custom_fields_manager_open=!1}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"gantt-columns btn-group pull-left green-tooltip",style:{paddingRight:0,marginTop:0},"data-toggle":"tooltip","data-placement":"bottom","data-html":"true","data-title":"You can customize the columns in the task list. We also have an Estimated Hours field now! <br> <button class='tooltip-button close-tooltip'>Got it</button>"},u.default.createElement("a",{href:"javascript:void(0);",className:!0,style:{},onClick:function(){return e.dropdown_visibility=!e.dropdown_visibility}},"Columns",u.default.createElement("i",{style:{marginLeft:2},className:"fa fa-caret-down"})),u.default.createElement("ul",{ref:function(t){return e.wrapper=t},className:"dropdown-menu",style:{display:this.dropdown_visibility?"block":"none"}},u.default.createElement("li",null,Object.keys(this.store.uistate.columns).filter((function(t){return"custom_fields"!=t&&(void 0===e.store.uistate.columns[t].selectable||e.store.uistate.columns[t].selectable)})).map((function(t,n){return u.default.createElement("a",{style:{display:"flex"}},u.default.createElement("div",{style:{flexGrow:1}},u.default.createElement(p.default,{key:n,clickFunc:function(n){n.preventDefault(),n.stopPropagation(),e.store.uistate.columns[t].active=!e.store.uistate.columns[t].active},activationBoolean:function(){return e.store.uistate.columns[t].active},text:e.store.uistate.columns[t].name,tag:"div"})),u.default.createElement("div",{className:"dropdown-cog",style:{padding:"0 0 0 10px",borderLeft:"0px solid #ccc",width:"25px"}}))})),this.store.uistate.columns.custom_fields.filter((function(e){return"_status"==e.id})).map((function(t,n){return u.default.createElement("a",{style:{display:"flex"}},u.default.createElement("div",{style:{flexGrow:1}},u.default.createElement(p.default,{key:t.id,clickFunc:function(n){n.preventDefault(),n.stopPropagation();var r=e.store.uistate.columns.custom_fields.filter((function(e){return e.id==t.id}));r&&(r[0].active=!r[0].active,r[0].active?r[0].visible=!0:r[0].visible=!1)},activationBoolean:function(){return e.store.uistate.columns.custom_fields.filter((function(e){return e.id==t.id}))[0].active},status:t.active,text:t.name,tag:"div"})),u.default.createElement("div",{className:"dropdown-cog",onClick:function(){return e.showCustomFieldSetup(t.id)},style:{cursor:"pointer",padding:"0 0 0 10px",borderLeft:"1px solid #ccc"}},u.default.createElement("i",{className:"fa fa-cog"})))}))),"standalone"!=this.store.user.type&&u.default.createElement(u.default.Fragment,null,u.default.createElement("li",{className:"divider"}),u.default.createElement("li",null,u.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.howToSync()}},"How to sync columns with Asana"))),"standalone"==this.store.user.type&&u.default.createElement(u.default.Fragment,null,u.default.createElement("li",{className:"divider"}),u.default.createElement("li",null,u.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.manageCustomFields()}},"Manage Custom Fields")))),this.configure_custom_field&&u.default.createElement(h.default,{cf:this.store.workbooksettings.customField(this.configure_custom_field),store:this.store,close:function(){return e.hideCustomFieldSetup()}}),this.custom_fields_manager_open&&u.default.createElement(m.default,{store:this.store,close:function(){return e.hideCustomFieldsManager()},workbook:this.store.workbooks.selected}))}}]),t}(),o=b(a.prototype,"dropdown_visibility",[f.observable],{enumerable:!0,initializer:function(){return!1}}),i=b(a.prototype,"configure_custom_field",[f.observable],{enumerable:!0,initializer:function(){return!1}}),s=b(a.prototype,"custom_fields_manager_open",[f.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=p(l),u=n(6),d=n(3),f=p(n(807));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h(n,"creating",o,n),h(n,"view_all_state",i,n),n.store=n.props.store,n.create=n.create.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"loadBaseline",value:function(e){e.loadAsBaseline()}},{key:"restoreToBaseline",value:function(e,t){e.stopPropagation(),e.preventDefault(),confirm("Are you sure you want to restore your chart to this Baseline?")&&t.restore()}},{key:"create",value:function(e){this.store.uistate.current_modal="NEW_BASELINE"}},{key:"deleteBaseline",value:function(e,t){void 0===t.created_by||""==t.created_by||t.created_by==this.store.user.id?(e.stopPropagation(),e.preventDefault(),confirm("Are you sure you want to delete it?")&&t.destroy()):alert("Only the person who created this snapshot can delete it")}},{key:"viewAll",value:function(){this.view_all_state=!0}},{key:"hideViewAll",value:function(){this.view_all_state=!1}},{key:"render",value:function(){var e=this;if(this.store.uistate.is_mobile)return this.renderMobile();var t=this.store.snapshots.baselines;return c.default.createElement("ul",{className:"dropdown-menu baselines-dropdown",style:{}},c.default.createElement("li",null,!this.creating&&c.default.createElement("a",{href:"javascript:void(0);",className:"create-baseline",onClick:this.create},c.default.createElement("i",{className:"fa fa-fw fa-plus-square"})," Create a new Control Point (Baseline)",c.default.createElement("span",{className:"muted small"},c.default.createElement("h6",{style:{fontWeight:"normal",margin:0,fontSize:10}},"Baselines are captures of your gantt chart's current state. ",c.default.createElement("br",null)," You can load it over your Chart in the future to compare timelines."))),this.creating&&c.default.createElement("a",{href:"javascript:void(0);",className:"create-baseline"},c.default.createElement("i",{className:"fa fa-fw fa-spin fa-spinner"})," Creating...",c.default.createElement("span",{className:"muted small"},c.default.createElement("h6",{style:{fontWeight:"normal",margin:0,fontSize:10}},"Baselines are captures of your gantt chart's current state. ",c.default.createElement("br",null)," You can load it over your Chart in the future to compare timelines.")))),c.default.createElement("li",{className:"divider"}),0==t.length&&c.default.createElement("div",{id:"no-baselines"},c.default.createElement("li",{className:"baseline",style:{padding:"10px 20px"}},"There are no Control Points (Baselines)")),t.slice(0,10).map((function(t){return c.default.createElement("li",{className:"dropdown-submenu",key:t.id},c.default.createElement("a",{href:"javascript:void(0);"},c.default.createElement("div",{className:"muted hover-ignore-muted",style:{position:"absolute",right:"22px"}},moment(t.date).format("DD MMM YYYY HH:mm")),c.default.createElement("i",{className:"far fa-fw fa-clock"}),"  ",t.name||"Control Point"),c.default.createElement("ul",{className:"dropdown-menu"},c.default.createElement("li",{onClick:function(){e.loadBaseline(t)}},c.default.createElement("a",{href:"javascript:void(0)"},c.default.createElement("i",{className:"fa-fw fa fa-download"})," Load")),c.default.createElement("li",{onClick:function(n){e.restoreToBaseline(n,t)}},c.default.createElement("a",{href:"javascript:void(0)"},c.default.createElement("i",{className:"fa-fw fa fa-history"})," Restore dates to this Baseline")),c.default.createElement("li",{className:"divider"}),c.default.createElement("li",{onClick:function(n){return e.deleteBaseline(n,t)}},c.default.createElement("a",{href:"javascript:void(0)"},c.default.createElement("i",{className:"fa-fw fa fa-trash"})," Delete"))))})),t.length>10&&c.default.createElement(c.default.Fragment,null,c.default.createElement("li",{className:"divider"}),c.default.createElement("li",{onClick:function(t){return e.viewAll()}},c.default.createElement("a",{href:"javascript:void(0)"},c.default.createElement("i",{className:"fa-fw fal fa-file-search"})," View all (",t.length,")"))),this.view_all_state&&c.default.createElement(f.default,{store:this.store,close:function(){return e.hideViewAll()}}))}},{key:"renderMobile",value:function(){var e=this,t=this.store.snapshots.baselines;return c.default.createElement(c.default.Fragment,null,c.default.createElement("li",null,!this.creating&&c.default.createElement("a",{href:"javascript:void(0);",className:"create-baseline",onClick:this.create},c.default.createElement("i",{className:"fa fa-fw fa-plus-square"})," Create a new Control Point (Baseline)",c.default.createElement("span",{className:"muted small"},c.default.createElement("h6",{style:{fontWeight:"normal",margin:0,fontSize:10}},"Baselines are captures of your gantt chart's current state. ",c.default.createElement("br",null)," You can load it over your Chart in the future to compare timelines."))),this.creating&&c.default.createElement("a",{href:"javascript:void(0);",className:"create-baseline"},c.default.createElement("i",{className:"fa fa-fw fa-spin fa-spinner"})," Creating...",c.default.createElement("span",{className:"muted small"},c.default.createElement("h6",{style:{fontWeight:"normal",margin:0,fontSize:10}},"Baselines are captures of your gantt chart's current state. ",c.default.createElement("br",null)," You can load it over your Chart in the future to compare timelines.")))),0==t.length&&c.default.createElement("div",{id:"no-baselines"},c.default.createElement("li",{className:"baseline",style:{padding:"10px 20px"}},"There are no Control Points (Baselines)")),t.slice(0,10).map((function(t){return c.default.createElement("li",{className:"dropdown-submenu",key:t.id,onClick:function(){e.loadBaseline(t)}},c.default.createElement("a",{href:"javascript:void(0);"},c.default.createElement("div",{className:"muted hover-ignore-muted",style:{position:"absolute",right:"22px"}},moment(t.date).format("DD MMM YYYY HH:mm")),c.default.createElement("i",{className:"far fa-fw fa-clock"}),"  ",t.name||"Control Point"))})))}}]),t}(),o=m(a.prototype,"creating",[d.observable],{enumerable:!0,initializer:function(){return!1}}),i=m(a.prototype,"view_all_state",[d.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),s=n(6),l=(n(3),u(n(78))),c=u(n(808));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){$(this.node).modal("show"),this.store.uistate.is_mobile||$(this.node).css("top","5%")}},{key:"componentWillUnmount",value:function(){$(this.node).modal("hide")}},{key:"loadBaseline",value:function(e){e.loadAsBaseline(),this.props.close()}},{key:"restoreToBaseline",value:function(e,t){e.stopPropagation(),e.preventDefault(),confirm("Are you sure you want to restore your chart to this Baseline?")&&(t.restore(),this.props.close())}},{key:"deleteBaseline",value:function(e,t){void 0===t.created_by||""==t.created_by||t.created_by==this.store.user.id?(e.stopPropagation(),e.preventDefault(),confirm("Are you sure you want to delete it?")&&t.destroy()):alert("Only the person who created this snapshot can delete it")}},{key:"render",value:function(){var e=this,t=this.store.snapshots.baselines;return i.default.createElement(l.default,{title:"Baselines",successButton:!1,closeButton:!0,closeButtonCallback:this.props.close,store:this.props.store,bodyStyle:{height:"500px"}},t.map((function(t){return i.default.createElement("div",{className:c.default.field_row},i.default.createElement("div",{className:c.default.field_expanded},i.default.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"180px",whiteSpace:"nowrap"}},i.default.createElement("i",{className:"far fa-fw fa-clock"}),"  ",t.name||"Control Point")),i.default.createElement("div",{className:c.default.field},i.default.createElement("span",null,moment(t.date).format("DD MMM YYYY HH:mm"))),i.default.createElement("div",{className:c.default.field_link},i.default.createElement("div",{className:"btn btn-flat btn-mini",onClick:function(){e.loadBaseline(t)}},i.default.createElement("i",{className:"fa-fw fa fa-download"})," Load")),i.default.createElement("div",{className:c.default.field_link},i.default.createElement("div",{className:"btn btn-flat btn-mini",onClick:function(n){e.restoreToBaseline(n,t)}},i.default.createElement("i",{className:"fa-fw fa fa-history"})," Restore")),i.default.createElement("div",{className:c.default.field_link},i.default.createElement("div",{className:"btn btn-flat btn-mini",onClick:function(n){e.deleteBaseline(n,t)}},i.default.createElement("i",{className:"fa-fw fa fa-trash"})," Delete")))})))}}]),t}())||r;t.default=d},function(e,t,n){e.exports={field_row:"_1lEtwgsE42qD1CFEw0qNA3",field_expanded:"Dr1TK-eTZ49vtMo4t5lC",field:"IOZNT6ovl66yMFcJMZ-9f",field_link:"OGb3IiAEXqc3Gi2e-ye_P"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=se(o),s=n(6),l=(n(3),se(n(810))),c=se(n(811)),u=se(n(813)),d=se(n(814)),f=se(n(815)),p=se(n(398)),h=se(n(828)),m=se(n(829)),_=se(n(830)),g=se(n(831)),b=se(n(832)),y=se(n(833)),v=se(n(837)),A=se(n(838)),w=se(n(839)),k=se(n(840)),E=se(n(841)),x=se(n(842)),O=se(n(843)),C=se(n(844)),j=se(n(845)),D=se(n(846)),N=se(n(847)),S=se(n(848)),T=se(n(849)),M=se(n(855)),P=se(n(856)),B=se(n(858)),I=se(n(859)),L=se(n(868)),U=se(n(869)),R=se(n(871)),F=se(n(872)),z=se(n(873)),Q=se(n(874)),H=se(n(875)),Y=se(n(876)),K=se(n(877)),W=se(n(880)),q=se(n(881)),G=se(n(886)),V=se(n(887)),$=se(n(888)),X=se(n(890)),J=se(n(891)),Z=se(n(892)),ee=se(n(893)),te=se(n(894)),ne=se(n(895)),re=se(n(421)),ae=se(n(898)),oe=se(n(899)),ie=se(n(902));function se(e){return e&&e.__esModule?e:{default:e}}var le=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){switch(this.store.uistate.current_modal){case"SNAPSHOTS":return i.default.createElement(l.default,{store:this.store});case"NEW_SNAPSHOT":return i.default.createElement(c.default,{store:this.store});case"IMAGE_EXPORT":return i.default.createElement(u.default,{store:this.store});case"CHANGE_TIMELINE":return i.default.createElement(d.default,{store:this.store});case"CHANGE_DEFAULT_SETTINGS":return i.default.createElement(m.default,{store:this.store});case"SPREADSHEET_EXPORT":return i.default.createElement(f.default,{store:this.store});case"HIGHLIGHT_DATES":return i.default.createElement(p.default,{store:this.store});case"HIGHLIGHT_HOLIDAYS":return i.default.createElement(p.default,{is_holiday:1,store:this.store});case"TIME_OFF":return i.default.createElement(p.default,{is_holiday:1,store:this.store,user_picker:!0});case"NEW_TASK":return i.default.createElement(h.default,{store:this.store});case"CREATE_DEPENDENCY":return i.default.createElement(_.default,{store:this.store});case"RECTIFY_PROMPT":return i.default.createElement(g.default,{store:this.store});case"PROJECT_SETUP":return i.default.createElement(b.default,{store:this.store});case"ADD_PROJECT_POPUP":return i.default.createElement(y.default,{store:this.store});case"RESYNC_POPUP":return i.default.createElement(w.default,{store:this.store});case"CREATE_GROUP":return i.default.createElement(v.default,{store:this.store});case"CREATE_TEAM":return i.default.createElement(A.default,{store:this.store});case"NEWS":return i.default.createElement(k.default,{store:this.store});case"GETTING_STARTED":return i.default.createElement(E.default,{store:this.store});case"GETTING_STARTED_STANDALONE":return i.default.createElement(x.default,{store:this.store});case"QUICK_GUIDE":return i.default.createElement(O.default,{store:this.store});case"SERVER_ISSUE":return i.default.createElement(C.default,{store:this.store});case"CREDENTIALS_ISSUE":return i.default.createElement(j.default,{store:this.store});case"DUPLICATE_PROJECT":return i.default.createElement(D.default,{store:this.store});case"SHARE_GROUP":return i.default.createElement(N.default,{store:this.store});case"SYNC_START_DATES":return i.default.createElement(M.default,{store:this.store});case"FILTER_WORKLOAD_USERS":return i.default.createElement(P.default,{store:this.store});case"STANDALONE_CREATE":return i.default.createElement(S.default,{store:this.store});case"STANDALONE_EDIT":return i.default.createElement(T.default,{store:this.store});case"DELETE_DATES":return i.default.createElement(B.default,{store:this.store});case"STANDALONE_WIZARD":return i.default.createElement(I.default,{store:this.store});case"SORT_SECTIONS":return i.default.createElement(L.default,{store:this.store});case"LOADING_CURTAIN":return i.default.createElement(U.default,{store:this.store});case"NEW_BASELINE":return i.default.createElement(R.default,{store:this.store});case"TABLE_COLUMNS":return i.default.createElement(F.default,{store:this.store});case"DRAW_DATES":return i.default.createElement(z.default,{store:this.store});case"CONVERT_TO_MEMBER":return i.default.createElement(Q.default,{store:this.store});case"DELETE_ALL_SELECTED":return i.default.createElement(H.default,{store:this.store});case"HOW_TO_SYNC_COLUMNS":return i.default.createElement(Y.default,{store:this.store});case"LOAD_CSV":return i.default.createElement(K.default,{store:this.store});case"NOTIFICATIONS":return i.default.createElement(W.default,{store:this.store});case"WORKING_DAYS":return i.default.createElement(q.default,{store:this.store});case"MESSAGE":return i.default.createElement(G.default,{store:this.store});case"NOTIFICATION":return i.default.createElement(V.default,{store:this.store});case"NEW_PROJECT_FROM_TEMPLATE":return i.default.createElement($.default,{store:this.store});case"SPLASH":return i.default.createElement(X.default,{store:this.store});case"TASK_DETAILS":return i.default.createElement(J.default,{store:this.store});case"COVID":return i.default.createElement(Z.default,{store:this.store});case"FOLDER_SETUP":return i.default.createElement(ee.default,{store:this.store});case"OVERVIEW_COLORS":return i.default.createElement(te.default,{store:this.store});case"OVERVIEW_IMAGE":return i.default.createElement(ne.default,{store:this.store});case"HELP_ROUTER":return i.default.createElement(re.default,{store:this.store});case"WELCOME_VIDEO":return i.default.createElement(ae.default,{store:this.store});case"PROFILE":return i.default.createElement(oe.default,{store:this.store});case"DEPENDENCIES_MANAGER":return i.default.createElement(ie.default,{store:this.store});default:return null}}}]),t}())||r;t.default=le},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.newSnapshot=n.newSnapshot.bind(n),n.loadAsBaseline=n.loadAsBaseline.bind(n),n.destroy=n.destroy.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"newSnapshot",value:function(){this.store.uistate.current_modal="NEW_SNAPSHOT"}},{key:"loadAsBaseline",value:function(e){e.loadAsBaseline(),this.store.uistate.current_modal=!1}},{key:"destroy",value:function(e){void 0===e.created_by||""==e.created_by||e.created_by==this.store.user.id?confirm("Are you sure you want to delete this snapshot?")&&e.destroy():alert("Only the person who created this snapshot can delete it")}},{key:"render",value:function(){var e=this,t=this.store.projects.selected;if("project"!=t.type)var n="/shared/"+t.id+"/latest";else n="/shared/s/"+t.supplier_project_id+"/latest";"standalone"==this.store.user.type&&(n=window.location.origin+"/shared/s/"+t.id+"/latest");var r=this.store.snapshots;return i.default.createElement(l.default,{width:"700",height:"400",title:"Public Snapshots",closeButton:"true",store:this.store},i.default.createElement("div",null,i.default.createElement("p",null,"Public Snapshots are shareable ",i.default.createElement("b",null,"read only")," links to your Gantt chart on a given state. They don't require an account. Changes made to the project will not modify them."),!this.store.uistate.is_mobile&&i.default.createElement("div",null,i.default.createElement("div",{className:"pull-right",style:{paddingTop:"5px"}},r.snapshots.length>0&&i.default.createElement("span",null,i.default.createElement("a",{href:n,target:"_blank",className:"btn btn-info btn-flat"},"Master Link"),"  "),i.default.createElement("a",{href:"javascript:void(0);",className:"btn btn-success btn-flat",onClick:this.newSnapshot},"New snapshot")),i.default.createElement("h3",null,"List of Public Snapshots")),this.store.uistate.is_mobile&&i.default.createElement("div",{style:{marginBottom:"10px"},className:"clearfix"},i.default.createElement("div",{className:"pull-left",style:{paddingTop:"5px"}},r.snapshots.length>0&&i.default.createElement("span",null,i.default.createElement("a",{href:n,target:"_blank",className:"btn btn-info btn-flat"},"Master Link"),"  ")),i.default.createElement("div",{className:"pull-right",style:{paddingTop:"5px"}},i.default.createElement("a",{href:"javascript:void(0);",className:"btn btn-success btn-flat",onClick:this.newSnapshot},"New snapshot"))),i.default.createElement("table",{className:"table table-snapshots",style:{fontSize:12}},r.snapshots.map((function(t){return i.default.createElement("tr",{key:t.id},i.default.createElement("td",null,moment(t.date).format("DD MMM YYYY HH:mm")),i.default.createElement("td",{style:{maxWidth:"280px"}},t.name&&"Snapshot"!=t.name&&t.name),i.default.createElement("td",{style:{textAlign:"right"}},i.default.createElement("a",{href:"/shared/"+t.id,target:"_blank",className:"btn btn-mini btn-info btn-info-bordered btn-flat"},"Open")," ",i.default.createElement("button",{className:"btn btn-mini btn-info-bordered btn-info btn-flat",onClick:function(){return e.loadAsBaseline(t)}},"Load as Baseline")," ",i.default.createElement("button",{className:"btn btn-mini btn-danger btn-danger-bordered btn-flat",onClick:function(){e.destroy(t)}}," ",i.default.createElement("i",{className:"fa fa-trash fa-fw"})," ")))})))))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),h=v(p),m=n(6),_=n(3),g=v(n(13)),b=v(n(53)),y=v(n(812));function v(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var k=(0,m.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return A(n,"logo",o,n),A(n,"values",i,n),A(n,"loading_setup",s,n),A(n,"status",l,n),A(n,"snapshot",c,n),n.store=n.props.store,n.create=n.create.bind(n),n.close=n.close.bind(n),n.changeLogo=n.changeLogo.bind(n),n.handleChange=n.handleChange.bind(n),n.removeLogo=n.removeLogo.bind(n),n.values.columns=(0,_.toJS)(store.uistate.columns),n.overview_available="workspace"==(n.store.projects.selected||{}).type||"team"==(n.store.projects.selected||{}).subtype?0:1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),f(t,[{key:"componentWillMount",value:function(){var e=this;if(this.store.snapshots.snapshots.length>0){this.loading_setup=!0;var t=store.snapshots.snapshots[0];$.get("/shared/"+t.id+".json",(function(t){t.logo&&(e.logo=t.logo),t.baseline_id&&(e.values.baseline_id=t.baseline_id),t.enable_workload&&(e.values.enable_workload=t.enable_workload),t.include_collapsed&&(e.values.include_collapsed=t.include_collapsed),t.include_nonworking_highlighted_days&&(e.values.include_nonworking_highlighted_days=t.include_nonworking_highlighted_days),t.config&&t.config.include_timeoff&&(e.values.include_timeoff=t.config.include_timeoff),t.columns_config&&"object"==d(t.columns_config.due)&&(e.values.snapshot_data=t,Object.entries(t.columns_config).forEach((function(t){var n=u(t,2),r=n[0],a=n[1];e.values.columns[r]&&"custom_fields"!=r&&(e.values.columns[r].active=a.active)})),(t.columns_config.custom_fields||[]).forEach((function(t){if(e.values.columns&&e.values.columns.custom_fields){var n=e.values.columns.custom_fields.filter((function(e){return e.id==t.id&&t.enabled}))[0];n&&(n.active=t.active)}}))),e.loading_setup=!1}),"json")}}},{key:"handleChange",value:function(e){"checkbox"===e.target.type?this.values[e.target.name]=e.target.checked:this.values[e.target.name]=e.target.value}},{key:"create",value:function(){var e=this,t=this.store;t.uistate,this.status="CREATING";var n=moment().format("YYYY-MM-DD HH:mm:ssZ"),r=this.values.baseline_id,a=this.values.include_assignees,o=this.values.enable_workload,i=0!=r?this.store.snapshots.get(r).date:"",s=this.values.name,l={};Object.keys(this.values.columns).forEach((function(t){e.values.columns[t].active?l[t]=!0:l[t]=!1}));var c=t.uistate.column_length,u=t.uistate.export();u.current_tag=(0,_.toJS)(t.tasks.filters.tags),u.current_tag_type=t.tasks.filters.tag_type,0==u.current_tag.length&&(u.current_tag=""),l.custom_fields=[],void 0!==this.values.columns.custom_fields&&this.values.columns.custom_fields.forEach((function(e){e.active&&l.custom_fields.push(e)}));var d=(0,_.toJS)(this.store.workbooksettings.getSetting("custom_fields")||{});if(u.custom_fields=d,this.values.include_highlighted_days&&this.values.include_nonworking_highlighted_days)var f=t.dates.exportFiltered();this.values.include_highlighted_days&&!this.values.include_nonworking_highlighted_days&&(f=t.dates.exportFiltered().filter((function(e){return!e.is_holiday}))),!this.values.include_highlighted_days&&this.values.include_nonworking_highlighted_days&&(f=t.dates.exportFiltered().filter((function(e){return e.is_holiday})));var p=!1;if(this.logo&&(p=this.logo),1==this.values.include_collapsed){var h=t.tasks.models;u.active_filters_arr=(0,_.toJS)(t.tasks.active_filters_arr)}else h=t.tasks.filtered,u.active_filters_arr=[];var m=[];u.collapsed_sections={},u.working_days=(0,_.toJS)(t.projectsettings.working_days),u.currency=(0,_.toJS)(t.projectsettings.getSetting("currency")),u.rates=(0,_.toJS)(t.projectsettings.getSetting("rates")),u.overview_colors=(0,_.toJS)(t.projectsettings.getSetting("overview_colors")),u.group_settings_per_project=(0,_.toJS)(t.projectsettings.group_settings_per_project),h.forEach((function(t){if(!t.is_new_task_handler){var n=t.getJSON();n.estimated_hours=t.get_estimated_hours.estimated_hours,n.actual_hours=t.get_actual_hours.actual_hours,n.estimated_cost=t.get_estimated_cost.estimated_cost,n.actual_cost=t.get_actual_cost.actual_cost,n.priority_user=t.get_priority.priority,n.risk=t.get_risk.risk,n.collapsed=t.collapsed,n.subtasks=t.raw_childrens.length,n.container=t.container,n.user=t.get_user,n.users=t.get_users,n.progress=t.calculated_progress,n.parent_priority_heading=t.get_parent_priority_heading,n.priority_heading_id=t.get_priority_heading_id,t.is_priority_heading||(n.priority=t.local_priority),t.is_priority_heading&&t.container&&t.container.start&&(n.start=t.container.start,n.due=t.container.due),t.collapsed&&(u.collapsed_sections[t.id]=!0),1!=e.values.include_collapsed&&t.collapsed&&(t.is_priority_heading?(console.log("Found a collapsed priority heading"),t.container&&(n.start=t.container.start,n.due=t.container.due),n.color="dark-blue",n.progress=t.calculated_progress):t.container&&(n.start=t.container.start,n.due=t.container.due,n.color=t.color?t.color:"dark-blue",n.completed&&(n.color=""),n.progress=t.calculated_progress)),t.is_project&&t.container&&t.container.start&&(n.start=t.container.start,n.due=t.container.due),l.estimatedhours||(n.estimated_hours=""),l.estimatedcost||(n.estimated_cost=""),l.actualhours||(n.actual_hours=""),l.actualcost||(n.atual_cost=""),l.assignee||(n.assignee="",n.user="",n.users=[]),void 0!==e.values.columns.custom_fields&&e.values.columns.custom_fields.forEach((function(e){e.active||n.custom_fields[e.id]&&(n.custom_fields[e.id]="")})),"0"==e.values.task_descriptions&&delete n.notes,m.push(n)}}));var g=m,b=t.projects.selected;u.project_id=b.id,u.include_timeoff=this.values.include_timeoff;var y={include_assignees:a,columns_config:this.values.columns,enable_workload:o,views:{gantt:this.values.include_gantt_view,workload:this.values.include_workload_view,overview:this.values.include_overview_view},logo:p,tasks:g,project:b.getJSON(),column_length:c,dates:f,config:u,background:1==t.uistate.column_length&&t.uistate.get_background_image},v=t.projects.selected.supplier_project_id;"standalone"==this.store.user.type&&(v=b.id);var A=function(n,r,a){t.snapshots.create({date:a,name:r,data:n,supplier_project_id:v,created_by:e.store.user.id}).then((function(t){e.status="CREATED",e.snapshot=t}))};""!=r&&0!=r?$.get("/shared/"+r+".json",(function(e){y.baseline={date:i,tasks:e.tasks},A(y,s,n)}),"json"):A(y,s,n),this.store.uistate.trackAnalytics("Project:Export:Snapshot")}},{key:"close",value:function(){this.store.uistate.current_modal="SNAPSHOTS"}},{key:"changeLogo",value:function(e){var t=this,n=e.target;if(n.files&&n.files[0]){var r=new FileReader;r.onload=function(e){t.logo=e.target.result,localStorage.setItem("last_custom_logo",e.target.result)},r.readAsDataURL(n.files[0])}}},{key:"removeLogo",value:function(e){this.logo=!1,localStorage.removeItem("last_custom_logo")}},{key:"render",value:function(){var e=this,t=this.store.projects.selected,n=this.store.snapshots.baselines,r="CREATED"==this.status&&window.location.origin+"/shared/"+this.snapshot.id,a="CREATING"!=this.status,o="CREATED"!=this.status;if("project"!=t.type)var i=window.location.origin+"/shared/"+t.id+"/latest";else i=window.location.origin+"/shared/s/"+t.supplier_project_id+"/latest";return"standalone"==this.store.user.type&&(i=window.location.origin+"/shared/s/"+t.id+"/latest"),h.default.createElement(g.default,{width:"900",height:"500",title:"Create Public Snapshot",closeButton:"true",closeButtonCallback:this.close,store:this.store,successButton:o,successButtonEnabled:a,successButtonName:"Create",successButtonCallback:this.create},h.default.createElement("div",null,h.default.createElement("div",null,h.default.createElement("div",{className:"body-create"},h.default.createElement("p",null,"Public Snapshots are captures of the current state of this project."),h.default.createElement("p",null,"You can use it to share with everybody, as it doesn't require login. All changes made to the project will not affect this snapshot."),h.default.createElement("p",null,"To share this, we will provide you with a public address (url) that you can share."),h.default.createElement("hr",null),this.loading_setup&&h.default.createElement("div",null,h.default.createElement("i",{className:"fa fa-spin fa-spinner"})," Loading last configuration"),!this.status&&!this.loading_setup&&h.default.createElement("div",{style:{display:"flex",flexDirection:this.store.uistate.is_mobile?"column":"row"}},h.default.createElement("div",{style:{width:this.store.uistate.is_mobile?"100%":"70%",marginRight:"20px"}},h.default.createElement("table",{className:y.default.options_table,style:{width:"100%",textAlign:"left"}},h.default.createElement("tbody",null,h.default.createElement("tr",null,h.default.createElement("td",{style:{width:200}},h.default.createElement("label",{className:"control-label"},"Name for this snapshot:")),h.default.createElement("td",null,h.default.createElement("input",{type:"text",name:"name",placeholder:"(Optional) Name or description",className:"snapshot-name",style:{width:"95%"},defaultValue:"",onChange:this.handleChange}))),h.default.createElement("tr",null,h.default.createElement("td",null,h.default.createElement("label",{className:"control-label"},"Views:")),h.default.createElement("td",{style:{paddingBottom:"10px"}},h.default.createElement("label",{className:"checkbox inline",style:{marginRight:"10px"}},h.default.createElement("input",{type:"checkbox",name:"include_gantt_view",onChange:this.handleChange,defaultValue:"1",defaultChecked:1==this.values.include_gantt_view})," Gantt"),h.default.createElement("label",{className:"checkbox inline",style:{marginRight:"10px"}},h.default.createElement("input",{type:"checkbox",name:"include_workload_view",onChange:this.handleChange,defaultValue:"1",defaultChecked:1==this.values.include_workload_view})," Workload"),h.default.createElement("label",{className:"checkbox inline",style:{display:this.overview_available?"inline-block":"none"}},h.default.createElement("input",{type:"checkbox",name:"include_overview_view",onChange:this.handleChange,defaultValue:"1",defaultChecked:1==this.values.include_overview_view})," Overview"))),h.default.createElement("tr",null,h.default.createElement("td",null,h.default.createElement("label",{className:"control-label"},"Include comparison with a baseline:")),h.default.createElement("td",null,h.default.createElement("select",{className:"snapshot-baseline",value:this.values.baseline_id,name:"baseline_id",onChange:this.handleChange,style:{width:"100%"}},[{id:0}].concat(n).map((function(e){return 0==e.id?h.default.createElement("option",{value:"0"},"Don't include comparison with a baseline"):h.default.createElement("option",{key:e.id,value:e.id},moment(e.date).format("DD MMMM YYYY HH:mm"))}))))),h.default.createElement("tr",null,h.default.createElement("td",null,h.default.createElement("label",{className:"control-label"},"Highlighted Days")),h.default.createElement("td",{style:{paddingBottom:"15px"}},h.default.createElement("label",{className:"checkbox inline",style:{marginRight:"10px"}},h.default.createElement("input",{type:"checkbox",name:"include_highlighted_days",onChange:this.handleChange,defaultValue:"1",defaultChecked:1==this.values.include_highlighted_days})," Include Highlights"),h.default.createElement("label",{className:"checkbox inline"},h.default.createElement("input",{type:"checkbox",name:"include_nonworking_highlighted_days",onChange:this.handleChange,defaultValue:"1",defaultChecked:1==this.values.include_nonworking_highlighted_days})," Include Non-Working Days"))),"standalone"==this.store.user.type&&h.default.createElement("tr",null,h.default.createElement("td",null,h.default.createElement("label",{className:"control-label"},"Show users time off")),h.default.createElement("td",null,h.default.createElement("select",{className:"snapshot-include-collapsed-tasks",name:"include_timeoff",value:this.values.include_timeoff,onChange:this.handleChange,style:{width:"100%"}},h.default.createElement("option",{value:"1"},"Yes"),h.default.createElement("option",{value:"0"},"No")))),h.default.createElement("tr",null,h.default.createElement("td",null,h.default.createElement("label",{className:"control-label"},"Include collapsed/hidden tasks")),h.default.createElement("td",null,h.default.createElement("select",{className:"snapshot-include-collapsed-tasks",name:"include_collapsed",value:this.values.include_collapsed,onChange:this.handleChange,style:{width:"100%"}},h.default.createElement("option",{value:"1"},"Yes"),h.default.createElement("option",{value:"0"},"No")))),h.default.createElement("tr",null,h.default.createElement("td",null,h.default.createElement("label",{className:"control-label"},"Task descriptions")),h.default.createElement("td",null,h.default.createElement("select",{className:"snapshot-include-collapsed-tasks",name:"task_descriptions",value:this.values.task_descriptions,onChange:this.handleChange,style:{width:"100%"}},h.default.createElement("option",{value:"1"},"Yes"),h.default.createElement("option",{value:"0"},"No")))),h.default.createElement("tr",null,h.default.createElement("td",null,h.default.createElement("label",{className:"control-label"},"Custom Branding (optional) ",h.default.createElement("br",null),h.default.createElement("span",{className:"muted"},"Your company or customer's logo"))),h.default.createElement("td",null,h.default.createElement("div",{id:"snapshot-image-logo"},this.logo&&h.default.createElement("img",{src:this.logo,style:{maxHeight:100}})),h.default.createElement("div",{className:"btn btn-file btn-flat"},"Browse... ",h.default.createElement("input",{id:"custom-branding",type:"file",onChange:this.changeLogo})),h.default.createElement("button",{style:{display:this.logo?"":"none"},className:"btn btn-danger btn-flat",id:"remove-logo",onClick:this.removeLogo},h.default.createElement("i",{className:"fa fa-trash"}," ")," Remove")))))),h.default.createElement("div",null,h.default.createElement("table",{style:{width:"100%",textAlign:"left"}},h.default.createElement("tbody",null,h.default.createElement("tr",null,h.default.createElement("td",{style:{display:this.store.uistate.is_mobile?"flex":"block"}},h.default.createElement("label",{className:"control-label"},"Columns to include"),h.default.createElement("ul",{style:{marginLeft:0}},Object.keys(this.values.columns).filter((function(t){return"custom_fields"!=t&&(void 0===e.values.columns[t].selectable||!1!==e.values.columns[t].selectable)})).map((function(t,n){return h.default.createElement("li",{className:"new-snapshot-column-li"},h.default.createElement(b.default,{key:n,clickFunc:function(n){n.preventDefault(),n.stopPropagation(),e.values.columns[t].active=!e.values.columns[t].active},activationBoolean:function(){return e.values.columns[t].active},text:e.values.columns[t].name}))})),(this.values.columns.custom_fields||[]).filter((function(e){return(void 0===e.selectable||!1!==e.selectable)&&e.enabled&&e.active})).map((function(e,t){return h.default.createElement("li",{className:"new-snapshot-column-li"},h.default.createElement(b.default,{key:t,clickFunc:function(t){t.preventDefault(),t.stopPropagation(),e.visible=!e.visible},activationBoolean:function(){return e.visible},text:e.name}))}))))))))),"CREATING"==this.status&&h.default.createElement("p",{style:{textAlign:"center"}},h.default.createElement("img",{src:"/img/gears.gif"})),"CREATED"==this.status&&h.default.createElement("div",null,h.default.createElement("p",{style:{marginTop:20,textAlign:"center"}},h.default.createElement("div",{style:{fontSize:"20px",color:"green"}},h.default.createElement("i",{className:"fa fa-check-circle"}),"  Your snapshot has been successfully created."),h.default.createElement("br",null),h.default.createElement("br",null),h.default.createElement("a",{href:r,target:"_blank",className:"btn btn-info btn-flat btn-info-bordered"},"Share ",h.default.createElement("b",null,"DIRECT")," link ",h.default.createElement("br",null),"(loads this snapshot)",!this.store.uistate.is_mobile&&h.default.createElement("div",{style:{fontSize:"10px"}},r)),"  ",this.store.uistate.is_mobile&&h.default.createElement("div",null,h.default.createElement("br",null)),h.default.createElement("a",{href:i,target:"_blank",className:"btn btn-info btn-flat btn-info-bordered"},"Share ",h.default.createElement("b",null,"MASTER")," link ",h.default.createElement("br",null),"(always loads the newest snapshot)",!this.store.uistate.is_mobile&&h.default.createElement("div",{style:{fontSize:"10px"}},i)),"  "))),h.default.createElement("div",{className:"body-success"}))))}}]),t}(),o=w(a.prototype,"logo",[_.observable],{enumerable:!0,initializer:function(){return!1}}),i=w(a.prototype,"values",[_.observable],{enumerable:!0,initializer:function(){return{baseline_id:0,include_assignees:1,enable_workload:1,include_collapsed:1,include_highlighted_days:1,include_nonworking_highlighted_days:1,columns:{},task_descriptions:!0,include_gantt_view:1,include_workload_view:1,include_overview_view:"workspace"==(this.store.projects.selected||{}).type||"team"==(this.store.projects.selected||{}).subtype?0:1,include_timeoff:1,name:""}}}),s=w(a.prototype,"loading_setup",[_.observable],{enumerable:!0,initializer:function(){return!1}}),l=w(a.prototype,"status",[_.observable],{enumerable:!0,initializer:function(){return!1}}),c=w(a.prototype,"snapshot",[_.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=k},function(e,t,n){e.exports={options_table:"_2ZOVH5NrgWA0Q-VWsvtHvt"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=_(l),u=n(15),d=n(6),f=n(3),p=_(n(13)),h=_(n(30)),m=_(n(44));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=function(e){var t=e.children,n=document.getElementById("react-datepicker-container");return(0,u.createPortal)(t,n)},v=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g(n,"created",o,n),g(n,"logo",i,n),n.store=n.props.store,n.options=n.store.uistate.image_export_options,n.generate=n.generate.bind(n),n.handleChange=n.handleChange.bind(n),n.handleChangeDateStart=n.handleChangeDateStart.bind(n),n.handleChangeDateEnd=n.handleChangeDateEnd.bind(n),n.options.selected_tasks=n.store.tasks.selected.length>1?1:0,n.options.name=n.store.projects.selected.name,n.changeLogo=n.changeLogo.bind(n),n.removeLogo=n.removeLogo.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("last_custom_logo");e&&(this.logo=e)}},{key:"changeLogo",value:function(e){var t=this,n=e.target;if(n.files&&n.files[0]){var r=new FileReader;r.onload=function(e){t.logo=e.target.result,localStorage.setItem("last_custom_logo",e.target.result)},r.readAsDataURL(n.files[0])}}},{key:"removeLogo",value:function(e){this.logo=!1,localStorage.removeItem("last_custom_logo")}},{key:"generate",value:function(){var e=this.store,t=this,n=this.options.time_scale,r=(this.options.view_type,e.uistate.append_task_names),a=this.options.file_type,o={},i=$("#gantt-pane .sidebar-2").width(),s=this.options.include_tasklist,l=this.options.export_range;if("full"!=l&&this.options.export_range_start&&this.options.export_range_end)var c={start:moment(this.options.export_range_start).format("YYYY-MM-DD"),end:moment(this.options.export_range_end).format("YYYY-MM-DD")};else c={start:"",end:""};Object.keys(e.uistate.columns).forEach((function(t){o[t]=e.uistate.columns[t]}));var u=e.tasks.selected.length>0&&1==this.options.selected_tasks?e.tasks.selected:e.tasks.models,d=[],p=e.uistate.export();p.collapsed_sections={},p.Holidays=e.dates.holidays,p.working_days=(0,f.toJS)(e.projectsettings.working_days),p.currency=(0,f.toJS)(e.projectsettings.getSetting("currency")),p.rates=(0,f.toJS)(e.projectsettings.getSetting("rates")),p.group_settings_per_project=(0,f.toJS)(e.projectsettings.group_settings_per_project),p.active_filters_arr=(0,f.toJS)(e.tasks.active_filters_arr),p.filtered_users=e.users.filtered_users,p.baseline=e.tasks.baseline;var h=(0,f.toJS)(this.store.workbooksettings.getSetting("custom_fields")||{});p.custom_fields=h,u.forEach((function(e){if(!e.is_new_task_handler){var t=e.getJSON();t.estimated_hours=e.get_estimated_hours.estimated_hours,t.actual_hours=e.get_actual_hours.actual_hours,t.estimated_cost=e.get_estimated_cost.estimated_cost,t.actual_cost=e.get_actual_cost.actual_cost,t.priority_user=e.get_priority.priority,t.risk=e.get_risk.risk,t.collapsed=e.collapsed,t.subtasks=e.raw_childrens.length,t.container=e.container,t.user=e.get_user,t.users=e.get_users,t.progress=e.calculated_progress,t.parent_priority_heading=e.get_parent_priority_heading,t.priority_heading_id=e.get_priority_heading_id,e.is_priority_heading||(t.priority=e.local_priority),e.is_priority_heading&&e.container&&e.container.start&&(t.start=e.container.start,t.due=e.container.due),e.collapsed&&(p.collapsed_sections[e.id]=!0),e.collapsed&&(e.is_priority_heading?(console.log("Found a collapsed priority heading"),e.container&&(t.start=e.container.start,t.due=e.container.due),t.color="dark-blue",t.progress=e.calculated_progress):e.container&&(t.start=e.container.start,t.due=e.container.due,t.color=e.color?e.color:"dark-blue",t.completed&&(t.color=""),t.progress=e.calculated_progress)),e.is_project&&e.container&&e.container.start&&(t.start=e.container.start,t.due=e.container.due),o.estimatedhours||(t.estimated_hours=""),o.estimatedcost||(t.estimated_cost=""),o.actualhours||(t.actual_hours=""),o.actualcost||(t.atual_cost=""),o.assignee||(t.assignee="",t.user="",t.users=[]),t.name=t.name.replace(/\\n/g,"\\n").replace(/\\'/g,"").replace(/\'/g,"").replace(/\\'/g,"").replace(/\’/g,"").replace(/\\’/g,"").replace(/\"/g,"").replace(/\\"/g,"").replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f").replace(/\\f/g,"\\f"),t.name=t.name.replace(/[\u0000-\u0019]+/g,""),t.name=t.name.replace(/[\u2028]+/g,""),d.push(t)}}));var m=e.projects.selected.getJSON();if("group"==m.type&&"standalone"==m.supplier&&("all"==m.subtype?m.projects=e.workbooks.selected.projects.filter((function(e){return"group"!=e.type})).map((function(e){return{supplier_project_id:e.id,name:e.name}})):m.projects=m.projects_in_folder.map((function(t){return e.projects.get(t)})).map((function(e){return{supplier_project_id:e.id,name:e.name,id:e.id}}))),m.name=this.options.name,e.tasks.selected.length>0&&1==this.options.selected_tasks&&delete m.projects,this.options.include_highlighted_days&&this.options.include_nonworking_highlighted_days)var _=e.dates.exportFiltered();this.options.include_highlighted_days&&!this.options.include_nonworking_highlighted_days&&(_=e.dates.exportFiltered().filter((function(e){return!e.is_holiday}))),!this.options.include_highlighted_days&&this.options.include_nonworking_highlighted_days&&(_=e.dates.exportFiltered().filter((function(e){return e.is_holiday})));var g=!1;this.logo&&(g=this.logo,p.logo=g);var b={project:m,tasks:d,current_tag:0==e.tasks.filters.tags.length?"":e.tasks.filters.tags,current_tag_type:e.tasks.filters.tag_type,column_length:n,group_by_priority_heading:e.tasks.sort_options.group_by_priority_heading,group_by_project:e.tasks.sort_options.group_by_project,sort_by_date:e.tasks.sort_options.sort_by_date,include_assignees:!0,view_type:"workload"==e.uistate.active_view?"1":0,columns_config:o,include_labels:r,include_tasklist:s,sidebar_width:i,dates:_,config:p,filetype:a,daterange:l,range:c,background:""};"user"==b.current_tag_type&&0!=e.tasks.filters.tags.length&&(b.current_tag=e.tasks.filters.tags.map((function(e){return Number(e)}))),this.created="CREATING",$.ajax({type:"POST",url:"/projects/"+e.projects.selected.id+"/image",data:JSON.stringify(b),success:function(e){t.created="CREATED"},contentType:"application/json"}).error((function(e){t.created="FAILED"})),this.store.uistate.trackAnalytics("Project:Export:ImagePDF")}},{key:"handleChange",value:function(e){"checkbox"===e.target.type?this.options[e.target.name]=e.target.checked:this.options[e.target.name]=e.target.value}},{key:"handleChangeDateStart",value:function(e){this.options.export_range_start=e}},{key:"handleChangeDateEnd",value:function(e){this.options.export_range_end=e}},{key:"render",value:function(){this.store.projects.selected;var e="CREATED"!=this.created&&"FAILED"!=this.created,t="CREATING"!=this.created;return c.default.createElement(p.default,{width:"550",title:"Image Export",id:"image-export-modal",closeButton:"true",successButton:e,successButtonEnabled:t,successButtonName:"Generate",successButtonCallback:this.generate,store:this.store},c.default.createElement("div",null,c.default.createElement("p",null,"Create an image of this chart with all your tasks. Use it for presentations, printing, or for sharing with anybody that could be interested in your project's gantt."),!this.created&&c.default.createElement("div",{className:"default"},c.default.createElement("table",{className:"table not-mobilize"},c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",null,"Project name"),c.default.createElement("td",{style:{minWidth:"250px"}},c.default.createElement("input",{type:"text",className:"input-editable-cell",name:"name",onChange:this.handleChange,value:this.options.name,autoFocus:!0}))),c.default.createElement("tr",{style:{display:this.store.uistate.is_mobile?"none":""}},c.default.createElement("td",null,"Tasks"),c.default.createElement("td",null,c.default.createElement("label",{className:"radio inline",style:{}},c.default.createElement("input",{type:"radio",name:"selected_tasks",onChange:this.handleChange,defaultValue:"0",defaultChecked:0==this.options.selected_tasks})," Entire project"),c.default.createElement("label",{className:"radio inline"},c.default.createElement("input",{type:"radio",name:"selected_tasks",disabled:0==this.store.tasks.selected.length,onChange:this.handleChange,defaultValue:"1",defaultChecked:1==this.options.selected_tasks}),c.default.createElement("span",{className:0==this.store.tasks.selected.length?"muted":""},"Selected tasks")))),c.default.createElement("tr",null,c.default.createElement("td",null,"Highlighted Days"),c.default.createElement("td",null,c.default.createElement("label",{className:"checkbox inline",style:{width:80}},c.default.createElement("input",{type:"checkbox",name:"include_highlighted_days",onChange:this.handleChange,defaultValue:"1",defaultChecked:1==this.options.include_highlighted_days})," Include ",c.default.createElement("br",null),"Highlights"),c.default.createElement("label",{className:"checkbox inline"},c.default.createElement("input",{type:"checkbox",name:"include_nonworking_highlighted_days",onChange:this.handleChange,defaultValue:"1",defaultChecked:1==this.options.include_nonworking_highlighted_days})," Include ",c.default.createElement("br",null),"Non-Working Days"))),c.default.createElement("tr",null,c.default.createElement("td",null,"Task list"),c.default.createElement("td",null,c.default.createElement("div",{style:{display:"inline-block",width:"110px"}},c.default.createElement("img",{src:"/img/export-with-task-list.png",style:{width:100}}),c.default.createElement("br",null),c.default.createElement("label",{className:"radio"},c.default.createElement("input",{type:"radio",name:"include_tasklist",onChange:this.handleChange,defaultValue:1,defaultChecked:1==this.options.include_tasklist})," Include")),c.default.createElement("div",{style:{display:"inline-block"}},c.default.createElement("img",{src:"/img/export-without-task-list.png",style:{width:100}}),c.default.createElement("br",null),c.default.createElement("label",{className:"radio"},c.default.createElement("input",{type:"radio",name:"include_tasklist",onChange:this.handleChange,defaultValue:0,defaultChecked:0==this.options.include_tasklist})," Exclude")))),c.default.createElement("tr",{style:{display:this.store.uistate.is_mobile?"none":""}},c.default.createElement("td",null,"Date Range"),c.default.createElement("td",null,c.default.createElement("label",{className:"radio inline",style:{width:80,verticalAlign:"top"}},c.default.createElement("input",{type:"radio",name:"export_range",defaultChecked:"full"==this.options.export_range,defaultValue:"full",onChange:this.handleChange})," Full"),c.default.createElement("label",{className:"radio inline"},c.default.createElement("input",{type:"radio",name:"export_range",defaultChecked:"custom"==this.options.export_range,defaultValue:"custom",onChange:this.handleChange}),c.default.createElement("div",{style:{display:"inline-block"}},c.default.createElement(m.default,{popperContainer:y,dateFormat:"yyyy-MM-dd",selected:this.options.export_range_start?(0,h.default)(this.options.export_range_start).toDate():"",onSelect:this.handleChangeDateStart,name:"export_range_start",popoverTargetOffset:"0px -30px",style:{width:"60px"},className:"daterange-input"})),c.default.createElement("div",{style:{display:"inline-block"}},c.default.createElement(m.default,{popperContainer:y,dateFormat:"yyyy-MM-dd",selected:this.options.export_range_end?(0,h.default)(this.options.export_range_end).toDate():"",name:"export_range_end",onSelect:this.handleChangeDateEnd,popoverTargetOffset:"0px -30px",style:{width:"60px"},className:"daterange-input"}))))),c.default.createElement("tr",null,c.default.createElement("td",null,"File type"),c.default.createElement("td",null,c.default.createElement("label",{className:"radio inline",style:{width:80}},c.default.createElement("input",{type:"radio",name:"file_type",onChange:this.handleChange,defaultValue:"jpeg",defaultChecked:"jpeg"==this.options.file_type})," Image"),c.default.createElement("label",{className:"radio inline"},c.default.createElement("input",{type:"radio",name:"file_type",onChange:this.handleChange,defaultValue:"pdf",defaultChecked:"pdf"==this.options.file_type})," PDF (High resolution)"))),c.default.createElement("tr",null,c.default.createElement("td",null,"Logo"),c.default.createElement("td",null,c.default.createElement("div",{id:"export-image-logo"},this.logo&&c.default.createElement("img",{src:this.logo,style:{maxHeight:100}})),c.default.createElement("div",{className:"btn btn-file btn-flat"},"Browse... ",c.default.createElement("input",{id:"custom-branding",type:"file",onChange:this.changeLogo})),c.default.createElement("button",{style:{display:this.logo?"":"none"},className:"btn btn-danger btn-flat",id:"remove-logo",onClick:this.removeLogo},c.default.createElement("i",{className:"fa fa-trash"}," ")," Remove")))))),"CREATING"==this.created&&c.default.createElement("p",{style:{textAlign:"center"}},c.default.createElement("img",{src:"/img/gears.gif"})),"CREATED"==this.created&&c.default.createElement("div",null,c.default.createElement("p",{style:{textAlign:"center"}},"pdf"!=this.options.file_type&&c.default.createElement("img",{src:"/projects/"+this.store.projects.selected.id+"/image?download=now&filetype="+this.options.file_type,style:{border:"2px solid #008ACA",width:"350px",borderRadius:"5px"}}),"pdf"==this.options.file_type&&c.default.createElement("i",{style:{fontSize:"100px",color:"#2f96b4"},className:"fa fa-file-pdf-o"})),c.default.createElement("p",{style:{textAlign:"center"}},c.default.createElement("a",{href:"/projects/"+this.store.projects.selected.id+"/image?download=now&filetype="+this.options.file_type,className:"btn btn-info btn-info-bordered btn-flat",target:"_blank"},"Download"))),"FAILED"==this.created&&c.default.createElement("div",null,c.default.createElement("div",{className:"alert alert-danger"},"Something went wrong. Please try again."))))}}]),t}(),o=b(a.prototype,"created",[f.observable],{enumerable:!0,initializer:function(){return!1}}),i=b(a.prototype,"logo",[f.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}f(n(44));var p,h,m,g,b,y=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.options={months_before_current:i.store.uistate.months_before_current,months_after_current:i.store.uistate.months_after_current},i.handleChange=i.handleChange.bind(i),i.saveChanges=i.saveChanges.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"handleChange",value:function(e){this.options[e.target.name]=parseInt(e.target.value,10)}},{key:"saveChanges",value:function(){var e=this;_.each(this.options,(function(t,n){e.store.uistate[n]=t})),this.store.uistate.current_modal=!1}},{key:"render",value:function(){return this.store.projects.selected,l.default.createElement(d.default,{width:"550",height:"500",title:"Change timeline length",id:"change-timeline-modal",closeButton:"true",successButton:"true",successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.saveChanges,store:this.store},l.default.createElement("div",{className:"default"},l.default.createElement("table",{className:""},l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,"Months before current date"),l.default.createElement("td",null,l.default.createElement("select",{id:"months-before",value:this.options.months_before_current,onChange:this.handleChange,name:"months_before_current",style:{width:"auto",margin:20}},l.default.createElement("option",{value:12},"12"),l.default.createElement("option",{value:24},"24"),l.default.createElement("option",{value:36},"36"),l.default.createElement("option",{value:48},"48"),l.default.createElement("option",{value:60},"60"),l.default.createElement("option",{value:72},"72"),l.default.createElement("option",{value:84},"84"),l.default.createElement("option",{value:96},"96"),l.default.createElement("option",{value:108},"108"),l.default.createElement("option",{value:120},"120")))),l.default.createElement("tr",null,l.default.createElement("td",null,"Months after current date"),l.default.createElement("td",null,l.default.createElement("select",{id:"months-after",value:this.options.months_after_current,onChange:this.handleChange,name:"months_after_current",style:{width:"auto",margin:20}},">",l.default.createElement("option",{value:12},"12"),l.default.createElement("option",{value:24},"24"),l.default.createElement("option",{value:36},"36"),l.default.createElement("option",{value:48},"48"),l.default.createElement("option",{value:60},"60"),l.default.createElement("option",{value:72},"72"),l.default.createElement("option",{value:84},"84"),l.default.createElement("option",{value:96},"96"),l.default.createElement("option",{value:108},"108"),l.default.createElement("option",{value:120},"120"))))))))}}]),t}(),p=a.prototype,h="options",m=[u.observable],g={enumerable:!0,initializer:function(){return{}}},b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),void 0===(b=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),b)).initializer&&(Object.defineProperty(p,h,b),b=null),o=b,r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=_(c),d=n(6),f=n(3),p=_(n(13)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),m=(_(n(44)),_(n(816)));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.download_file_name="",g(n,"active_pane",o,n),g(n,"created",i,n),g(n,"options",s,n),n.column_names={id:"ID",name:"Name",level:"Level",assignee:"Assignee",start:"Start",due:"Due",progress:"Progress",estimated_hours:"Estimated Hours",actual_hours:"Actual Hours",estimated_cost:"Estimated Cost",actual_cost:"Actual Cost",priority:"Priority",risk:"Risk",completion_date:"Completion Date",baseline:"Baseline",calendar_days:"Duration (calendar days)",working_days:"Working days",tags:"Tags"},n.colors={"color-ontime":"008ACA",overdue:"cc2727",completed:"56cc27","dark-pink":"B13F94","dark-green":"427E53","dark-blue":"3C68BB","dark-red":"C73F27","dark-teal":"008EAA","dark-brown":"906461","dark-orange":"E17000","dark-purple":"6743B3","dark-warm-gray":"493C3D","light-pink":"F4B6DB","light-green":"B7D086","light-blue":"B6C3DB","light-red":"EFBDBD","light-teal":"AAD1EB","light-yellow":"FFEDA4","light-orange":"FACDAA","light-purple":"D7BEE4","light-warm-gray":"CEC5C6"},n.store=n.props.store,n.generate=n.generate.bind(n),n.handleChange=n.handleChange.bind(n),n.handleChangeDateStart=n.handleChangeDateStart.bind(n),n.handleChangeDateEnd=n.handleChangeDateEnd.bind(n),n.download=n.download.bind(n),n.handleColumns=n.handleColumns.bind(n);var r=localStorage.getItem("spreadsheet_export_options");return r&&(n.options=JSON.parse(r)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"handleColumns",value:function(e){this.options[e]=!this.options[e],localStorage.setItem("spreadsheet_export_options",JSON.stringify(this.options))}},{key:"getColumns",value:function(){var e=this,t=[];return Object.keys(this.column_names).forEach((function(n){void 0===e.options[n]||e.options[n]||t.push(n)})),this.options.chart||t.push("chart"),t}},{key:"generateWorkload",value:function(){var e=this,t=this.store.tasks;this.store.uistate.column_width,this.created="CREATING";var n=this.options.date_format,r=this.store.tasks.filtered,a=this.canvasDates(r);console.log({canvas_dates:a});var o=this.store.users.unfiltered_project_members.map((function(e){return e.getAttributes?e.getAttributes():e})),i={};o.forEach((function(n){var r;r="global"==e.store.uistate.workload_type?t.globalWorkload[n.id]?t.globalWorkload[n.id]:{}:t.hoursByUsers[n.id]?t.hoursByUsers[n.id]:{};var o=[];Object.keys(r).forEach((function(e){var t=r[e],n=h.metrics(moment(Number(e)).toDate(),moment(Number(e)).toDate(),{column_width:1,column_length:1,first_month_first_date:a.first_start});if(t>0)var i=t;else i="-";o.push({left:n.initial_margin,output:i})})),i[n.id]=o})),o.forEach((function(e){i[e.id]&&(e.hours=i[e.id])}));var s={canvas_dates:a,users:o,user_hours:i};$.ajax({url:"/projects/"+store.projects.selected.id+"/xls?type=workload&dayformat="+n,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(s),success:function(t){e.download_file_name=t.filename,e.created="CREATED"},error:function(){e.created="FAILED"}})}},{key:"generate",value:function(){var e=this;if("workload"==this.active_pane)return this.generateWorkload();this.created="CREATING";var t=this.store,n=this.options.date_format,r=t.tasks.selected.length>0?t.tasks.selected:t.tasks.filtered,a=[],o=this.canvasDates(r);r.forEach((function(n){if(!n.is_new_task_handler){var r=n.get_estimated_hours.estimated_hours,i=n.get_users.map((function(e){return{name:e&&e.name?e.name:""}}));i.forEach((function(e){e&&e.name&&e.name.split("VU: ").length>1&&(e.name=e.name.split("VU: ")[1])}));var s={id:n.id,name:n.name,users:i,start:n.container&&n.container.start?n.container.start:n.start,due:n.container&&n.container.due?n.container.due:n.due,progress:n.calculated_progress?n.calculated_progress:"0%",estimated_hours:n.get_estimated_hours.estimated_hours,actual_hours:n.get_actual_hours.actual_hours,estimated_cost:n.get_total_estimated_cost.estimated_cost,actual_cost:n.get_total_actual_cost.actual_cost,priority:n.get_priority.priority,risk:n.get_risk.risk,completed_at:n.completed_at,calendar_duration:n.calendar_duration,working_duration:n.working_duration,priority_heading_id:n.get_priority_heading_id,is_priority_heading:n.is_priority_heading,is_project:n.is_project,tags:n.get_tags.map((function(e){return e.name})),projects:n.projects,custom_fields:n.custom_fields};s.parents=n.parents,s.estimated_hours=r,s.status_class=e.colors[n.status_class],s.completion_status_class=e.colors[n.completion_status_class],s.container=n.container,t.tasks.baseline[n.id]&&(s.baseline={start:t.tasks.baseline[n.id].start,due:t.tasks.baseline[n.id].due});var l=e.metrics(n,o);s.initial_margin=l.initial_margin,s.duration=l.duration,s.first_start=o.first_start,s.last_due=o.last_due,s.custom_fields={},t.uistate.columns.custom_fields.filter((function(e){return e.active})).map((function(e){s.custom_fields[e.id]=n.decorateCustomField(e,n.calculatedCustomField(e.id))})),a.push(s)}}));var i=this.getColumns().join(","),s=(t.uistate.columns.custom_fields.filter((function(e){return e.active})).map((function(e){return e.name}))||[]).join(","),l="";t.projects.selected&&"project"==t.projects.selected.type&&(l="asana"==t.projects.selected.supplier?parseFloat(t.tasks.infoByProject[t.projects.selected.supplier_project_id].progress):parseFloat(t.tasks.infoByProject[t.projects.selected.id].progress)),$.ajax({url:"/projects/"+t.projects.selected.id+"/xls?include_gantt=true&dayformat="+n+"&disabled_columns="+i+"&project_type="+t.projects.selected.type+"&progress="+l+"&custom_fields="+s,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),success:function(t){e.created="CREATED"},error:function(){e.created="FAILED"}})}},{key:"metrics",value:function(e,t){if(!e.start&&!e.container&&!e.container.start)return{initial_margin:!1,duration:!1};var n=h.getDateSafely(e.start),r=h.getDateSafely(e.due);return e.container&&e.container.start&&(n=h.getDateSafely(e.container.start),r=h.getDateSafely(e.container.due)),h.metrics(n,r,{first_month_first_date:t.first_start,column_width:1,column_length:1})}},{key:"canvasDates",value:function(e){var t=moment().format("YYYY-MM-DD"),n="1";e.forEach((function(e){e.start&&e.start<t&&(t=e.start),e.container&&e.container.start<t&&(t=e.container.start),e.due&&"null"!=e.due&&e.due>n&&(n=e.due),e.container&&e.container.due>n&&(n=e.container.due)})),"1"===n&&t&&(n=t),7==this.store.uistate.column_length&&t&&(t=h.getMonday(t));var r=Math.ceil(h.daysDiff(n,t)/Number(this.store.uistate.column_length));return{first_start:t,last_due:n,width:r}}},{key:"download",value:function(){window.open("/projects/"+this.store.projects.selected.id+"/xls?include_gantt=true&filename="+this.download_file_name)}},{key:"handleChange",value:function(e){this.options[e.target.name]=e.target.value}},{key:"handleChangeDateStart",value:function(e){this.options.export_range_start=e}},{key:"handleChangeDateEnd",value:function(e){this.options.export_range_end=e}},{key:"render",value:function(){var e=this,t=(this.store.projects.selected,"CREATED"!=this.created&&"FAILED"!=this.created),n="CREATING"!=this.created;return u.default.createElement(p.default,{width:"650",height:"500",title:"Spreadsheet export",id:"image-export-modal",closeButton:"true",successButton:t,successButtonEnabled:n,successButtonName:"Generate",successButtonCallback:this.generate,store:this.store},u.default.createElement("div",null,u.default.createElement("div",{className:"navigation-container"},u.default.createElement("ul",{className:"nav nav-tabs",id:"edit-workbook",role:"tablist"},u.default.createElement("li",{className:["nav-item active"].join(" "),onClick:function(){return e.active_pane="gantt"}},u.default.createElement("a",{className:"nav-link ",id:"gantt-tab","data-toggle":"tab",href:"#gantt",role:"tab","aria-controls":"resources","aria-selected":"false"},"Gantt")),u.default.createElement("li",{className:["nav-item"].join(" "),onClick:function(){return e.active_pane="workload"}},u.default.createElement("a",{className:"nav-link",id:"workload-tab","data-toggle":"tab",href:"#workload",role:"tab","aria-controls":"resources","aria-selected":"false"},"Workload"))),u.default.createElement("div",{className:"tab-content",id:""},u.default.createElement("div",{className:["tab-pane active"].join(" "),id:"gantt",role:"tabpanel","aria-labelledby":"resources-tab"},!this.created&&u.default.createElement("div",null,u.default.createElement("p",null,"Create a Spreadsheet representation of your Gantt Chart"),u.default.createElement("p",null,"Choose the columns you want to include in your Spreadsheet. You can also include the Chart."),u.default.createElement("div",{className:"default",style:{marginTop:"20px",marginBottom:"20px"}},u.default.createElement("div",{className:"pull-left",style:{padding:"0 20px",display:"none"}},Object.keys(this.column_names).map((function(t,n){return u.default.createElement("div",{key:n+20,style:{cursor:"pointer"},onClick:function(n){return e.handleColumns(t)}},e.options[t]&&u.default.createElement("span",null,u.default.createElement("i",{className:"far fa-check-square"}),"  ",e.column_names[t]),!e.options[t]&&u.default.createElement("span",null,u.default.createElement("i",{className:"far fa-square"}),"  ",e.column_names[t]))})),u.default.createElement("div",{key:"list-chart",style:{cursor:"pointer"},onClick:function(t){return e.handleColumns("chart")}},this.options.chart&&u.default.createElement("span",null,u.default.createElement("i",{className:"far fa-check-square"}),"   Chart"),!this.options.chart&&u.default.createElement("span",null,u.default.createElement("i",{className:"far fa-square"}),"   Chart"))),u.default.createElement("div",{style:{marginLeft:"20px",marginRight:"20px",marginBottom:"20px",display:"flex"}},Object.keys(this.column_names).map((function(t,n){return u.default.createElement("div",{key:n,className:[m.default.column,e.options[t]?"":m.default.column_inactive].join(" "),onClick:function(n){return e.handleColumns(t)}},u.default.createElement("div",{className:m.default.table_header},e.column_names[t]),u.default.createElement("div",{style:{position:"absolute",bottom:0,left:"5px"}},e.options[t]&&u.default.createElement("i",{className:"far fa-check-square"}),!e.options[t]&&u.default.createElement("i",{className:"far fa-square"})))})),u.default.createElement("div",{key:"chart",className:[m.default.column,this.options.chart?"":m.default.column_inactive].join(" "),style:{flex:1,overflow:"hidden"},onClick:function(t){return e.handleColumns("chart")}},u.default.createElement("div",{className:m.default.table_header,style:{transformOrigin:"bottom left",marginTop:"-20px"}},"Chart"),u.default.createElement("div",{style:{position:"absolute",bottom:0,left:"5px"}},this.options.chart&&u.default.createElement("i",{className:"far fa-check-square"}),!this.options.chart&&u.default.createElement("i",{className:"far fa-square"})),this.options.chart&&u.default.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0}},u.default.createElement("div",{style:{background:"#e0e0e0",borderRadius:"3px",height:"15px",width:"50px",left:"25px",top:"10px",position:"absolute"}}),u.default.createElement("div",{style:{background:"#e0e0e0",borderRadius:"3px",height:"15px",width:"15px",left:"75px",top:"30px",position:"absolute"}}),u.default.createElement("div",{style:{background:"#e0e0e0",borderRadius:"3px",height:"15px",width:"15px",left:"75px",top:"50px",position:"absolute"}}),u.default.createElement("div",{style:{background:"#e0e0e0",borderRadius:"3px",height:"15px",width:"15px",left:"75px",top:"70px",position:"absolute"}}),u.default.createElement("div",{style:{background:"#e0e0e0",borderRadius:"3px",height:"15px",width:"15px",left:"75px",top:"90px",position:"absolute"}}),u.default.createElement("div",{style:{background:"#e0e0e0",borderRadius:"3px",height:"15px",width:"40px",left:"90px",top:"110px",position:"absolute"}}),u.default.createElement("div",{style:{background:"#e0e0e0",borderRadius:"3px",height:"15px",width:"40px",left:"130px",top:"130px",position:"absolute"}}),u.default.createElement("div",{style:{background:"#e0e0e0",borderRadius:"3px",height:"15px",width:"40px",left:"170px",top:"150px",position:"absolute"}}),u.default.createElement("div",{style:{background:"#e0e0e0",borderRadius:"3px",height:"15px",width:"40px",left:"210px",top:"170px",position:"absolute"}})))),u.default.createElement("div",{style:{marginLeft:"20px",marginBottom:"20px"}},u.default.createElement("div",null,"Day format"),u.default.createElement("div",null,u.default.createElement("select",{className:"day-format",value:this.options.date_format,onChange:function(t){return e.options.date_format=t.target.value}},u.default.createElement("option",{value:"DD/MM/YYYY"},"DD/MM/YYYY"),u.default.createElement("option",{value:"MM/DD/YYYY"},"MM/DD/YYYY")))),u.default.createElement("div",{className:"clearfix"}))),"FAILED"==this.created&&u.default.createElement("div",{className:"error alert alert-danger hide"},"An error ocurred while generating the spreadsheet. Please try again."),"CREATING"==this.created&&u.default.createElement("div",{className:"",style:{textAlign:"center"}},u.default.createElement("img",{src:"/img/gears.gif"})),"CREATED"==this.created&&u.default.createElement("div",{className:"",style:{textAlign:"center"}},u.default.createElement("span",{style:{fontSize:"20px",color:"green"}},u.default.createElement("i",{className:"fa fa-check-circle",style:{fontSize:20}}),"  Spreedsheet generated successfully"),u.default.createElement("br",null),u.default.createElement("br",null),u.default.createElement("button",{className:"btn btn-info btn-info-bordered btn-flat",onClick:this.download},"Download"))),u.default.createElement("div",{className:["tab-pane "].join(" "),id:"workload",role:"tabpanel","aria-labelledby":""},!this.created&&u.default.createElement("div",null,u.default.createElement("p",null,"Bars won't be included. We only include your estimated hours."),u.default.createElement("div",{style:{marginLeft:"0px",marginBottom:"20px"}},u.default.createElement("div",null,"Day format"),u.default.createElement("div",null,u.default.createElement("select",{className:"day-format",value:this.options.date_format,onChange:function(t){return e.options.date_format=t.target.value}},u.default.createElement("option",{value:"DD/MM/YYYY"},"DD/MM/YYYY"),u.default.createElement("option",{value:"MM/DD/YYYY"},"MM/DD/YYYY"))))),"FAILED"==this.created&&u.default.createElement("div",{className:"error alert alert-danger hide"},"An error ocurred while generating the spreadsheet. Please try again."),"CREATING"==this.created&&u.default.createElement("div",{className:"",style:{textAlign:"center"}},u.default.createElement("img",{src:"/img/gears.gif"})),"CREATED"==this.created&&u.default.createElement("div",{className:"",style:{textAlign:"center"}},u.default.createElement("span",{style:{fontSize:"20px",color:"green"}},u.default.createElement("i",{className:"fa fa-check-circle",style:{fontSize:20}}),"  Spreedsheet generated successfully"),u.default.createElement("br",null),u.default.createElement("br",null),u.default.createElement("button",{className:"btn btn-info btn-info-bordered btn-flat",onClick:this.download},"Download")))))))}}]),t}(),o=b(a.prototype,"active_pane",[f.observable],{enumerable:!0,initializer:function(){return"gantt"}}),i=b(a.prototype,"created",[f.observable],{enumerable:!0,initializer:function(){return!1}}),s=b(a.prototype,"options",[f.observable],{enumerable:!0,initializer:function(){return{date_format:"MM/DD/YYYY",id:!0,level:!0,name:!0,assignee:!0,start:!0,due:!0,progress:!0,estimated_hours:!0,actual_hours:!0,estimated_cost:!0,actual_cost:!0,priority:!0,risk:!0,completion_date:!0,baseline:!0,calendar_days:!0,working_days:!0,chart:!0,tags:!0}}}),r=a))||r;t.default=y},function(e,t,n){e.exports={table_header:"_3ba3c6uXIbvxkp2mk2jctZ",column:"_2B4Zkb3GBLPEhP2bcuUmU3",column_inactive:"_2BSysvMGQ1-1iSIh0u0PpU"}},function(e,t,n){var r=n(818),a=n(819),o=n(399),i=n(820);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(259);e.exports=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(823),a=n(824),o=n(399),i=n(825);e.exports=function(e){return r(e)||a(e)||o(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(400);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=p(s),c=n(6),u=n(3),d=p(n(13)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9));function p(e){return e&&e.__esModule?e:{default:e}}var h,m,_,g,b,y=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.handleChange=i.handleChange.bind(i),i.handleAction=i.handleAction.bind(i),i.save=i.save.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.inputNode.focus()}),400)}},{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"handleAction",value:function(e){27==e.keyCode&&(this.store.uistate.current_modal=""),13==e.keyCode&&this.save()}},{key:"save",value:function(){var e=this.store;if(this.store.projects.selected){var t=parseInt(this.store.uistate.context_menu.left);t=Math.floor(t/this.store.uistate.column_width)*this.store.uistate.column_width;var n=parseInt(this.store.uistate.context_menu.right);if(n&&n>0)var r=(n=Math.ceil(n/this.store.uistate.column_width)*this.store.uistate.column_width)-t;else r=this.store.uistate.column_width;var a=this.store.uistate.context_menu.ref,o=this.buildDates(t,r),i=o.start,s=o.end,l=[],c="",d="";if(o.start,new Date,this.store.tasks.filters.tags.length>0&&"tag"==this.store.tasks.filters.tag_type){var f=this.store.tasks.filters.tags[0];console.log("current_tag_string",f);var p=this.store.tasks.tags.filter((function(e){return e.name==f}))[0];console.log("current tag",p),p&&(l=[(0,u.toJS)(p)],console.log("Creating task with tag",l))}if(this.store.tasks.filters.tags.length>0&&"user"==this.store.tasks.filters.tag_type){var h=this.store.users.getWithVirtuals(this.store.tasks.filters.tags[0]);h&&(c=(d=h.getJSON()).id)}if(e.tasks.active_filters.assignee&&e.tasks.active_filters.assignee.selected[0]&&e.tasks.active_filters.assignee.selected[0].id){var m=e.users.get(e.tasks.active_filters.assignee.selected[0].id);m&&(d=m.getAttributes(),c=m.id)}if(e.tasks.active_filters.tags&&e.tasks.active_filters.tags.selected[0]&&e.tasks.active_filters.tags.selected[0].id){var _=e.tags.get(e.tasks.active_filters.tags.selected[0].id);_||(_=e.tasks.tags.filter((function(t){return t.id==e.tasks.active_filters.tags.selected[0].id}))[0]),_&&(l=[{id:_.id,name:_.name}])}if(this.store.projects.selected,a.projects&&a.projects.length>0)var g=[(0,u.toJS)(a.projects[0])];else g=[];var b=[],y=a.parent_priority_heading,v=a.priority_heading_id;v&&a.projects.length>0&&(b=[{project:Number(a.projects[0].id),section:Number(v)}]),this.store.tasks.setLocalPositions({trigger_model:a,silent:!0});var A={name:this.options.name,due:s,start:i,tags:l,projects:g,project_id:g&&g[0]&&g[0].id?g[0].id:"",assignee:c,user:d,parent_priority_heading:y,priority_heading_id:v,memberships:b,parent:(0,u.toJS)(a.parent),previous_task_id:a.id,project_priority:a.project_priority,priority:parseFloat(a.priority)+.01,local_priority:parseFloat(a.local_priority)+.01};this.store.projects.selected&&this.store.projects.selected.id&&(A.ig_project_id=this.store.projects.selected.id),a.parent&&(delete A.memberships,delete A.projects),"standalone"==this.store.user.type&&(A.projects=[{id:a.projects[0].id}]),this.store.tasks.create(A),this.store.uistate.current_modal=""}else alert("You must select a project to highlight dates")}},{key:"buildDates",value:function(e,t){var n=Math.floor(e/this.store.uistate.column_width),r=Math.floor(n+t/this.store.uistate.column_width)-1;if(1==this.store.uistate.column_length)var a=moment(moment(this.store.uistate.calendar.first_month_first_date)).add("days",n).format("YYYY-MM-DD"),o=moment(moment(this.store.uistate.calendar.first_month_first_date)).add("days",r).format("YYYY-MM-DD");else{var i=f.getMonday(this.store.uistate.calendar.first_month_first_date);a=moment(moment(i)).add("days",7*n).format("YYYY-MM-DD"),o=moment(moment(i)).add("days",7*r+4).format("YYYY-MM-DD")}return{start:a,end:o}}},{key:"render",value:function(){var e=this;return this.store.projects.selected,l.default.createElement(d.default,{width:"400",height:"500",title:"New Task",id:"highlight-date",closeButton:"true",successButton:"true",successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.save,store:this.store},l.default.createElement("div",null,l.default.createElement("table",{className:"",style:{width:"100%"}},l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",null,l.default.createElement("input",{ref:function(t){return e.inputNode=t},name:"name",type:"text",onKeyUp:this.handleAction,onChange:this.handleChange,placeholder:"Task name...",style:{width:"100%",marginLeft:"-5px"},value:this.options.name,autoFocus:"true",className:"input-editable-cell"})))))))}}]),t}(),h=a.prototype,m="options",_=[u.observable],g={enumerable:!0,initializer:function(){return{name:""}}},b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),void 0===(b=_.slice().reverse().reduce((function(e,t){return t(h,m,e)||e}),b)).initializer&&(Object.defineProperty(h,m,b),b=null),o=b,r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=h(s),c=n(6),u=n(3),d=h(n(13)),f=h(n(53)),p=h(n(256));function h(e){return e&&e.__esModule?e:{default:e}}var m,_,g,b,y,v=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.options=i.store.projectsettings.get_defaults(),i.saveChanges=i.saveChanges.bind(i),i.close=i.close.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"saveChanges",value:function(){store.projectsettings.save_defaults(this.options),this.store.uistate.current_modal=!1}},{key:"close",value:function(){this.options=this.store.projectsettings.get_defaults(),this.store.uistate.current_modal=!1}},{key:"render",value:function(){var e=this;return this.store.projects.selected,l.default.createElement(d.default,{width:"550",height:"500",title:"Default options for other projects",id:"change-default-settings-modal",closeButton:"true",successButton:"true",successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.saveChanges,closeButtonCallback:this.close,store:this.store},l.default.createElement("div",null,l.default.createElement("ul",{className:"inline-menu unstyled"},l.default.createElement("li",{className:"subtitle"},"Grouping"),l.default.createElement("li",{className:"group-by group-by-priority-headings"},l.default.createElement(p.default,{clickFunc:function(){return e.options.group_by_project=!0},activationBoolean:function(){return e.options.group_by_project},text:"Group tasks by sections"})),l.default.createElement("li",{className:"group-by dont-group"},l.default.createElement(p.default,{clickFunc:function(){return e.options.group_by_project=!1},activationBoolean:function(){return!e.options.group_by_project},text:"Don't group tasks"})),l.default.createElement("li",{className:"divider"}),l.default.createElement("li",{className:"subtitle"},"Sorting"),l.default.createElement("li",{className:"sort-by sort-by-date"},l.default.createElement("a",{onClick:function(){return e.options.sorting_by_date=!0},className:"radio-btn"},l.default.createElement("i",{className:["fa-circle",this.options.sorting_by_date?"fas":"far"].join(" ")}),"   Sort tasks by date (recommended)")),l.default.createElement("li",{className:"sort-by sort-by-priority"},l.default.createElement("a",{onClick:function(){return e.options.sorting_by_date=!1},className:"radio-btn"},l.default.createElement("i",{className:["fa-circle",this.options.sorting_by_date?"far":"fas"].join(" ")}),"   Sort tasks by priority ",l.default.createElement("span",{className:"label label-info",style:{fontSize:10,color:"#fff",fontWeight:300}},"Beta"),l.default.createElement("br",null),"      ",l.default.createElement("span",{className:"muted"},"Reordering subtasks is not supported yet"))),l.default.createElement("li",{className:"divider"}),l.default.createElement("li",{className:"subtitle"},"Display"),l.default.createElement("li",{className:"show-real-completion",style:{}},l.default.createElement(f.default,{clickFunc:function(){return e.options.show_completion_date=!e.options.show_completion_date},activationBoolean:function(){return e.options.show_completion_date},text:"Show real completion date along with original due date"})),l.default.createElement("li",{className:"show-subtasks",style:{}},l.default.createElement(f.default,{clickFunc:function(){return e.options.show_subtasks=!e.options.show_subtasks},activationBoolean:function(){return e.options.show_subtasks},text:"Show subtasks"})),l.default.createElement("li",{className:"dropdown-submenu"},l.default.createElement("a",{tabIndex:-1,href:"#"},l.default.createElement("i",{className:"fa fa-fw fa-calendar-check-o"}),"  Show completed tasks since:   ",l.default.createElement("i",{className:"fa fa-caret-right"})," ",l.default.createElement("span",{disabled:!0,className:"label label-info",style:{fontSize:10,fontWeight:"normal"},id:"completed-since-text"})),l.default.createElement("ul",{className:"dropdown-menu"},l.default.createElement("li",null,Object.keys(this.store.uistate.completed_since_options).map((function(t){return l.default.createElement(p.default,{key:t,clickFunc:function(){return e.options.completed_since=t},activationBoolean:function(){return e.options.completed_since==t},text:e.store.uistate.completed_since_options[t].name})}))))),l.default.createElement("li",{className:"task-names-on-bars"},l.default.createElement(f.default,{clickFunc:function(){return e.options.append_task_names=!e.options.append_task_names},activationBoolean:function(){return e.options.append_task_names},text:"Show task names next to bars"})),l.default.createElement("li",{className:"divider"}),l.default.createElement("li",{className:"subtitle"},"Scheduling"),l.default.createElement("li",{style:{}},l.default.createElement(f.default,{clickFunc:function(){return e.options.keep_gap_locked=!e.options.keep_gap_locked},activationBoolean:function(){return e.options.keep_gap_locked},text:"Keep lag between dependencies when dragging"})),l.default.createElement("li",null,l.default.createElement(f.default,{clickFunc:function(){return e.options.skip_weekends=!e.options.skip_weekends},activationBoolean:function(){return e.options.skip_weekends},text:"Skip Weekends (Sat & Sun) and Holidays"})))))}}]),t}(),m=a.prototype,_="options",g=[u.observable],b={enumerable:!0,initializer:function(){return{}}},y={},Object.keys(b).forEach((function(e){y[e]=b[e]})),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),void 0===(y=g.slice().reverse().reduce((function(e,t){return t(m,_,e)||e}),y)).initializer&&(Object.defineProperty(m,_,y),y=null),o=y,r=a))||r;t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var p,h,m,g,b,y=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.handleChange=i.handleChange.bind(i),i.save=i.save.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.inputNode.focus()}),400);var t=this.store.tasks.filtered;t=_.filter(t,(function(e){return e.start&&""!=e.start&&e.due&&""!=e.due&&!e.is_priority_heading&&!e.is_new_task_handler&&!e.is_project})),t=_.map(t,(function(e){return{id:e.id,name:e.name}})),App.Utils.Typeaheads.Tasks({object:$(this.inputNode),workspace_id:!1,remote:!1,allowCreate:!1,local:t,selectCallback:function(t){var n=e.store.tasks.get(t.id);n&&(e.store.uistate.drawing_dependency={id:n.id},e.store.tasks.get(e.store.uistate.set_dependency_for).setDependent(),e.store.tasks.unsetDrawingDependency(),e.store.uistate.set_dependency_for=!1,e.store.uistate.current_modal=!1)},createCallback:function(e,t){},closeCallback:function(e){}})}},{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"save",value:function(){}},{key:"render",value:function(){var e=this;return this.store.projects.selected,l.default.createElement(d.default,{width:"400",height:"500",title:"Set predecessor task",id:"highlight-date",closeButton:"true",successButton:!1,successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.save,store:this.store},l.default.createElement("div",null,l.default.createElement("table",{className:"create-dependency-modal",style:{width:"100%",height:"200px"}},l.default.createElement("tbody",null,l.default.createElement("tr",null,l.default.createElement("td",{style:{verticalAlign:"top"}},l.default.createElement("input",{ref:function(t){return e.inputNode=t},name:"name",type:"text",onChange:this.handleChange,placeholder:"Task name...",style:{width:"100%",marginLeft:"-5px"},value:this.options.name,autoFocus:"true",className:"input-editable-cell"})))))))}}]),t}(),p=a.prototype,h="options",m=[u.observable],g={enumerable:!0,initializer:function(){return{name:"",task_id:!1}}},b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),void 0===(b=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),b)).initializer&&(Object.defineProperty(p,h,b),b=null),o=b,r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var h=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.handleChange=i.handleChange.bind(i),i.save=i.save.bind(i),i.cancel=i.cancel.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"save",value:function(){moment().format("YYYY-MM-DD HH:mm:ss"),this.store.projects.selected,this.store.tasks.to_rectify.forEach((function(e){e.rectify()}));var e=store.tasks.filtered.map((function(e){return{id:e.id,start:e.start,due:e.due}})),t={};e.forEach((function(e){t[e.id]=e})),this.store.tasks.baseline=t,$(".light-cover").css({width:$(".bars-list").width()+"px",height:25*$(".bars-list li").length+15+"px"}),$(".light-cover").show(),this.store.uistate.review_rectify=!0,this.store.tasks.to_rectify.forEach((function(e){e.rectify()})),this.store.uistate.current_modal=!1}},{key:"cancel",value:function(){this.store.tasks.to_rectify.forEach((function(e){e.save()})),this.store.uistate.current_modal=!1}},{key:"render",value:function(){this.store.projects.selected;var e=this.store.tasks.to_rectify,t=this.store.tasks;return l.default.createElement(d.default,{width:"500",height:"500",title:"Attention needed",id:"highlight-date",closeButton:!0,closeButtonName:"Dismiss",closeButtonCallback:this.cancel,successButton:!0,successButtonEnabled:"true",successButtonName:"Show me a Proposal",successButtonCallback:this.save,store:this.store},l.default.createElement("div",null,l.default.createElement("div",{className:"one-column-fields"},l.default.createElement("h4",null,"Some tasks were re-scheduled outside of Instagantt and they have dependent tasks that need to be adjusted"),l.default.createElement("p",null,"Would you like Instagantt to re-schedule dependent tasks?"),l.default.createElement("p",{style:{textAlign:"center"}},l.default.createElement("img",{src:"/img/reschedule.png",alt:!0,style:{width:"70%"}})),l.default.createElement("p",null,"Ghost bars will represent the schedule without our proposed adjustments."),l.default.createElement("p",null,"The following tasks have changed, and should affect other tasks."),l.default.createElement("table",{className:"table table-bordered to-rectify"},l.default.createElement("tbody",null,e.map((function(e){return l.default.createElement("tr",{key:e.id},l.default.createElement("td",null,t.filtered.indexOf(e)),l.default.createElement("td",null,e.name))})))))))}}]),t}(),o=p(a.prototype,"options",[u.observable],{enumerable:!0,initializer:function(){return{name:""}}}),p(a.prototype,"cancel",[u.action],Object.getOwnPropertyDescriptor(a.prototype,"cancel"),a.prototype),r=a))||r;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=h(c),d=n(6),f=n(3),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function g(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var b=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"options",o,n),m(n,"editing_name",i,n),m(n,"adding_projects",s,n),n.store=n.props.store,n.current_project=n.store.projects.get(n.store.uistate.editing_project_id),n.handleChange=n.handleChange.bind(n),n.save=n.save.bind(n),n.disconnect=n.disconnect.bind(n),n.options.name=n.current_project.name,n.close=n.close.bind(n),n.updateOrder=n.updateOrder.bind(n),n.addProjectToGroup=n.addProjectToGroup.bind(n),n.removeProject=n.removeProject.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){this.ul_node&&$(this.ul_node).sortable({handle:".fa-bars",update:this.updateOrder})}},{key:"componentDidUpdate",value:function(){this.adding_projects&&(this.delegated_typeahead||(this.loadInputTypeahead(),this.delegated_typeahead=!0))}},{key:"disconnect",value:function(){var e=!1;("group"!=this.current_project.type||confirm("Are you sure?"))&&(this.current_project.selected&&(e=!0),this.current_project.set({connected:!1}),this.current_project.destroy(),this.current_project.set({id:""}),e&&(window.location.hash="",window.location.reload()),this.close())}},{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"save",value:function(){this.current_project.name=this.options.name,this.current_project.save(),this.close()}},{key:"close",value:function(){this.store.uistate.editing_project_id=!1,this.store.uistate.current_modal=!1}},{key:"updateOrder",value:function(){var e=this.current_project.projects,t=$(this.ul_node).sortable("toArray",{attribute:"data-original-index"}),n=[];_.each(t,(function(t){n.push(e[t])})),this.current_project.projects=n}},{key:"addProjectToGroup",value:function(e){this.adding_projects=!this.adding_projects}},{key:"removeProject",value:function(e,t){if("team"!=this.current_project.subtype){var n=_.reject(this.current_project.projects,(function(e){return e.supplier_project_id==t}));this.current_project.set({projects:n})}else{var r=_.reject(this.current_project.users,(function(e){return e.id==t}));this.current_project.set({users:r})}}},{key:"loadInputTypeahead",value:function(e){var t=this,n=this.current_project,r=this.current_project.workspace.id;"team"!=n.subtype?App.Utils.Typeaheads.Projects({object:$(this.input_node),workspace_id:r,local:[],remote:!0,allowCreate:!1,selectCallback:function(e){if(!(-1!=t.current_project.projects.map((function(e){return e.supplier_project_id})).indexOf(Number(e.supplier_project_id))||-1!=t.current_project.projects.map((function(e){return e.supplier_project_id})).indexOf(String(e.supplier_project_id))||n.projects.length.length>=t.store.uistate.group_max_projects)){var r=n.projects,a={name:e.name,supplier_project_id:e.supplier_project_id};e.color&&(a.color=e.color),r.push(a),n.set({projects:r}),setTimeout((function(){return t.input_node.value=""}),0)}},createCallback:function(e,t){},closeCallback:function(e){t.store.uistate.current_modal=!1}}):App.Utils.Typeaheads.Users({object:$(this.input_node),workspace_id:r,local:function(){return[]},remote:!0,allowCreate:!1,selectCallback:function(e){if(e.id,!(-1!=t.current_project.users.map((function(e){return e.supplier_project_id})).indexOf(Number(e.supplier_project_id))||-1!=t.current_project.users.map((function(e){return e.supplier_project_id})).indexOf(String(e.supplier_project_id))||t.current_project.users.length.length>=t.store.uistate.group_max_projects)){var r=n.users,a={name:e.name,id:e.id,type:e.type};r.push(a),setTimeout((function(){return t.input_node.value=""}),0)}},createCallback:function(e,t){},closeCallback:function(e){this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}}),$(this.input_node).focus()}},{key:"renderRemoteGroup",value:function(){var e=this,t=this.store.projects.get(this.store.uistate.editing_project_id),n="team"==t.subtype?t.users.length:t.projects.length;return u.default.createElement(p.default,{width:"500",height:"500",title:this.renderName(),id:"",closeButton:!0,closeButtonName:"Close",closeButtonCallback:this.close,successButton:!0,successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.save,dangerButton:!0,dangerButtonEnabled:!0,dangerButtonCallback:this.disconnect,dangerButtonName:"Disconnect Group",store:this.store},u.default.createElement("div",null,u.default.createElement("div",{className:"one-column-fields"},u.default.createElement("div",{className:"group-config"},u.default.createElement("p",null,"This is a shared Group and you're not the owner. You can't delete this Projct Group, but you can disconnect it from your account.")),u.default.createElement("div",{className:"one-column-fields"},u.default.createElement("div",{className:"group-config"},"team"==t.subtype&&u.default.createElement("p",null,"Drag the list to change Users order."),"team"!=t.subtype&&u.default.createElement("p",null,"Drag the list to change order. Tasks are sorted by start date, but sections and projects are sorted by projects order"),u.default.createElement("ul",{key:1,className:"nav nav-tabs nav-stacked",ref:function(t){return e.ul_node=t}},"team"!=t.subtype&&t.projects.map((function(t,n){return u.default.createElement("li",{key:t.supplier_project_id,"data-id":t.supplier_project_id,"data-original-index":n,className:"active"},u.default.createElement("div",{className:"pull-right btn-remove-project-from-group"},u.default.createElement("i",{className:"icon icon-trash",onClick:function(n){return e.removeProject(n,t.supplier_project_id)}})),u.default.createElement("a",{href:"javascript:void(0)"},u.default.createElement("i",{className:"fa fa-bars"}),"  ",t.name))})),"team"==t.subtype&&t.users.map((function(t,n){return u.default.createElement("li",{key:t.id,"data-id":t.id,"data-original-index":n,className:"active"},u.default.createElement("div",{className:"pull-right btn-remove-project-from-group"},u.default.createElement("i",{className:"icon icon-trash",onClick:function(n){return e.removeProject(n,t.id)}})),u.default.createElement("a",{href:"javascript:void(0)"},u.default.createElement("i",{className:"fa fa-bars"}),"  ",t.name))}))),u.default.createElement("div",null,n<this.store.uistate.group_max_projects&&u.default.createElement("div",{className:"counter-status"},u.default.createElement("small",null,"You can still add ",this.store.uistate.group_max_projects-n," elements to this group.",u.default.createElement("br",null),!this.adding_projects&&u.default.createElement("a",{href:"javascript:void(0)",className:"add-project-to-group",onClick:this.addProjectToGroup},"Add"),this.adding_projects&&[u.default.createElement("input",{autoFocus:!0,className:"typeahead",type:"text",placeholder:"Search projects",ref:function(t){return e.input_node=t}}),u.default.createElement("div",{style:{height:"200px"}})]))))))))}},{key:"renderGroup",value:function(){var e=this,t=this.store.projects.get(this.store.uistate.editing_project_id),n="team"==t.subtype?t.users.length:t.projects.length;return u.default.createElement(p.default,{width:"500",height:"500",title:this.renderName(),id:"",closeButton:!0,closeButtonName:"Close",closeButtonCallback:this.close,successButton:!0,successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.save,dangerButton:!0,dangerButtonEnabled:!0,dangerButtonCallback:this.disconnect,dangerButtonName:"Delete Group",store:this.store},u.default.createElement("div",null,u.default.createElement("div",{className:"one-column-fields"},u.default.createElement("div",{className:"group-config"},"team"==t.subtype&&u.default.createElement("p",null,"Drag the list to change Users order."),"team"!=t.subtype&&u.default.createElement("p",null,"Drag the list to change order. Tasks are sorted by start date, but sections and projects are sorted by projects order"),u.default.createElement("ul",{key:1,className:"nav nav-tabs nav-stacked",ref:function(t){return e.ul_node=t}},"team"!=t.subtype&&t.projects.map((function(t,n){return u.default.createElement("li",{key:t.supplier_project_id,"data-id":t.supplier_project_id,"data-original-index":n,className:"active"},u.default.createElement("div",{className:"pull-right btn-remove-project-from-group"},u.default.createElement("i",{className:"icon icon-trash",onClick:function(n){return e.removeProject(n,t.supplier_project_id)}})),u.default.createElement("a",{href:"javascript:void(0)"},u.default.createElement("i",{className:"fa fa-bars"}),"  ",t.name))})),"team"==t.subtype&&t.users.map((function(t,n){return u.default.createElement("li",{key:t.id,"data-id":t.id,"data-original-index":n,className:"active"},u.default.createElement("div",{className:"pull-right btn-remove-project-from-group"},u.default.createElement("i",{className:"icon icon-trash",onClick:function(n){return e.removeProject(n,t.id)}})),u.default.createElement("a",{href:"javascript:void(0)"},u.default.createElement("i",{className:"fa fa-bars"}),"  ",t.name))}))),u.default.createElement("div",null,n<this.store.uistate.group_max_projects&&u.default.createElement("div",{className:"counter-status"},u.default.createElement("small",null,"You can still add ",this.store.uistate.group_max_projects-n," elements to this group.",u.default.createElement("br",null),!this.adding_projects&&u.default.createElement("a",{href:"javascript:void(0)",className:"add-project-to-group",onClick:this.addProjectToGroup},"Add"),this.adding_projects&&[u.default.createElement("input",{autoFocus:!0,className:"typeahead",type:"text",placeholder:"Search projects",ref:function(t){return e.input_node=t}}),u.default.createElement("div",{style:{height:"200px"}})])))))))}},{key:"renderProject",value:function(){var e=this.store.projects.get(this.store.uistate.editing_project_id);return u.default.createElement(p.default,{width:"500",height:"500",title:this.renderName(),id:"",closeButton:!0,closeButtonName:"Close",successButton:!0,successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.save,store:this.store,footerHTML:u.default.createElement("button",{className:"btn btn-danger",style:{float:"left"},onClick:this.disconnect},"standalone"==e.supplier?"Archive ":"Disconnect")})}},{key:"renderName",value:function(){var e=this;return u.default.createElement("div",null,!this.editing_name&&u.default.createElement("div",null,this.options.name,"  ",u.default.createElement("i",{className:"fa fa-edit fa-fw",style:{cursor:"pointer"},onClick:function(){return e.editing_name=!0}})),this.editing_name&&u.default.createElement("div",null,u.default.createElement("input",{autoFocus:!0,value:this.options.name,type:"text",onChange:this.handleChange,name:"name",onKeyDown:function(t){13!=t.keyCode&&27!=t.keyCode||(e.editing_name=!1)}})))}},{key:"render",value:function(){var e=this.store.projects.get(this.store.uistate.editing_project_id);return"group"==e.type?e.remote_user_id?this.renderRemoteGroup():this.renderGroup():"project"==e.type||"workspace"==e.type?this.renderProject():void 0}}]),t}(),o=g(a.prototype,"options",[f.observable],{enumerable:!0,initializer:function(){return{name:""}}}),i=g(a.prototype,"editing_name",[f.observable],{enumerable:!0,initializer:function(){return!1}}),s=g(a.prototype,"adding_projects",[f.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=h(s),c=n(6),u=n(3),d=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),h(n(401))),f=h(n(835)),p=h(n(95));function h(e){return e&&e.__esModule?e:{default:e}}var m,_,g,b,y,v=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.connect=i.connect.bind(i),i.close=i.close.bind(i),i.handleChange=i.handleChange.bind(i),i.createProject=i.createProject.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){this.options[e.target.name]=e.target.value,"workspace"==e.target.name&&this.needTeam()}},{key:"needTeam",value:function(){var e=this,t=this.workspaces.models.filter((function(t){return e.options.workspace==t.supplier_workspace_id}))[0];if(!t.is_organization||"Personal Projects"==t.name)return this.options.require_team=!1,!1;this.options.require_team=!0,this.fetchTeams(t)}},{key:"fetchTeams",value:function(e){this.teams=new f.default(this.store,[],{supplier:"asana",workspace_id:e.supplier_workspace_id}),this.teams.fetch(),window.teams=this.teams}},{key:"connect",value:function(e){this.store.uistate.connect=e,this.close()}},{key:"close",value:function(){this.store.uistate.current_modal=""}},{key:"create",value:function(){this.options.type="create",this.workspaces=new d.default(this.store,[],{supplier:"asana"}),this.workspaces.fetch({})}},{key:"createProject",value:function(e){var t=this,n=this.options.workspace,r=this.options.team,a=this.options.name;if(0!=n)if(this.options.require_team&&0==r)alert("Please select a team");else if(""!=a){var o={name:a,workspace_id:n,supplier:"asana"};0!=r&&(o.team_id=r),$(e.target).addCog(),$.post("/suppliers/asana/projects",o,(function(e){var n={name:e.name,supplier_project_id:e.id,workspace:e.workspace,color:e.color,type:"project",supplier:"asana"};e.team&&(n.team=e.team),t.store.projects.create(n).then((function(){t.store.uistate.help_message=l.default.createElement("span",null,l.default.createElement("i",{className:"fa fa-check fa-fw"})," Project created correctly"),t.close()}))}))}else alert("Project name can't be blank");else alert("Please select a workspace")}},{key:"renderConnect",value:function(){var e=this;return l.default.createElement("ul",{className:"unstyled"},!this.store.uistate.is_mobile&&l.default.createElement("li",{className:"title",onClick:function(t){return e.store.uistate.current_modal=""}},l.default.createElement("div",{className:"pull-right"},l.default.createElement("i",{className:"fa fa-times"})),"Manage projects",l.default.createElement("div",{className:"clearfix"})),l.default.createElement("li",{className:"navigation-container"},l.default.createElement("ul",{className:"nav nav-tabs",id:"myTab"},l.default.createElement("li",{style:{padding:0},className:"active"},l.default.createElement("a",{href:"#asana","data-toggle":"tab"},l.default.createElement("img",{src:"/img/asana-new-icon.png",style:{width:"12px"}}),"  Asana")))),l.default.createElement("div",{className:"tab-content"},l.default.createElement("div",{className:"tab-pane active",id:"asana"},l.default.createElement("li",{className:"import-projects",role:"single-project",onClick:function(t){return e.connect({supplier:"asana",type:"projects"})}},l.default.createElement("div",{className:"img-container"},l.default.createElement("i",{className:"fa fa-list-alt fa-fw"})),l.default.createElement("div",{className:"text-container"},l.default.createElement("h3",null,"Connect an Asana Project"),l.default.createElement("span",{className:"muted"},"Single Asana Project"))),l.default.createElement("li",{className:"import-projects",role:"projects-group",onClick:function(t){return e.connect({supplier:"asana",type:"groups"})}},l.default.createElement("div",{className:"img-container"},l.default.createElement("i",{className:"far fa-folder fa-fw"})),l.default.createElement("div",{className:"text-container"},l.default.createElement("h3",null,"Create Group of Projects"),l.default.createElement("span",{className:"muted"},"Multiple projects in one Chart"))),l.default.createElement("li",{className:"import-projects",role:"single-user",onClick:function(t){return e.connect({supplier:"asana",type:"users"})}},l.default.createElement("div",{className:"img-container"},l.default.createElement("i",{className:"far fa-user fa-fw"})),l.default.createElement("div",{className:"text-container"},l.default.createElement("h3",null,"Single User Workload"),l.default.createElement("span",{className:"muted"},"Single User tasks across all Projects"))),l.default.createElement("li",{className:"import-projects",role:"users-group",onClick:function(t){return e.connect({supplier:"asana",type:"team"})}},l.default.createElement("div",{className:"img-container"},l.default.createElement("i",{className:"far fa-user fa-fw",style:{marginLeft:"-5px"}}),l.default.createElement("i",{className:"far fa-user fa-fw",style:{marginLeft:"-40px",marginRight:"-5px"}})),l.default.createElement("div",{className:"text-container"},l.default.createElement("h3",null,"Group of Users (Team Workload) ",l.default.createElement("span",{className:"label label-warning"},"Beta")),l.default.createElement("span",{className:"muted"},"Workload for a group of users across all projects"))),l.default.createElement("li",{className:"import-projects",role:"single-user",onClick:function(t){return e.create({supplier:"asana",type:"project"})}},l.default.createElement("div",{className:"img-container"},l.default.createElement("i",{className:"fa fa-magic fa-fw"})),l.default.createElement("div",{className:"text-container"},l.default.createElement("h3",null,"Create new Project"),l.default.createElement("span",{className:"muted"},"Create a new project inside Asana"))),l.default.createElement("li",{className:"import-projects",role:"single-user",onClick:function(t){return e.store.uistate.current_modal="RESYNC_POPUP"}},l.default.createElement("div",{className:"img-container"},l.default.createElement("i",{className:"fa fa-sync fa-fw"})),l.default.createElement("div",{className:"text-container"},l.default.createElement("h3",null,"Update your Project's Names"),l.default.createElement("span",{className:"muted"},"Fetch from Asana updated project's names"))))))}},{key:"renderCreate",value:function(){var e=this;return l.default.createElement(l.default.Fragment,null,0==this.workspaces.models.length&&l.default.createElement("ul",{className:"unstyled"},!this.store.uistate.is_mobile&&l.default.createElement("li",{className:"title",onClick:function(t){return e.store.uistate.current_modal=""}},l.default.createElement("div",{className:"pull-right"},l.default.createElement("i",{className:"fa fa-times"})),"Manage projects",l.default.createElement("div",{className:"clearfix"})),l.default.createElement("li",null,l.default.createElement("p",{style:{textAlign:"center"}},l.default.createElement("img",{src:"/img/spinner.gif"})))),0!=this.workspaces.models.length&&l.default.createElement("ul",{className:"unstyled"},!this.store.uistate.is_mobile&&l.default.createElement("li",{className:"title",onClick:function(t){return e.store.uistate.current_modal=""}},l.default.createElement("div",{className:"pull-right"},l.default.createElement("i",{className:"fa fa-times"})),"Manage projects",l.default.createElement("div",{className:"clearfix"})),l.default.createElement("li",{className:"color-static"},l.default.createElement("div",{className:"create-project-data-container",style:{display:"flex",flexDirection:"column",gap:"10px"}},l.default.createElement("select",{className:"workspace-selector",onChange:this.handleChange,name:"workspace",value:this.options.workspace},l.default.createElement("option",{value:"0"},"Select a workspace..."),this.workspaces.filtered.map((function(e){return l.default.createElement("option",{value:e.supplier_workspace_id},e.name)}))),this.options.require_team&&this.teams&&0==this.teams.models.length&&l.default.createElement("p",{style:{textAlign:"center"}},l.default.createElement("img",{src:"/img/spinner.gif",style:{width:"16px"}})),this.options.require_team&&this.teams&&this.teams.models.length>0&&l.default.createElement("select",{className:"team-selector",onChange:this.handleChange,name:"team"},l.default.createElement("option",{value:0},"Select a team..."),this.teams.filtered.map((function(e){return l.default.createElement("option",{value:e.id},e.name)}))),l.default.createElement("input",{type:"text",className:"new-project-name",name:"name",onChange:this.handleChange,value:this.options.name,placeholder:"Project name..."}),l.default.createElement("button",{className:"btn btn-success btn-create-project btn-flat",onClick:this.createProject},"Create")))))}},{key:"render",value:function(){var e=this;return"connect"==this.options.type?this.store.uistate.is_mobile?l.default.createElement(p.default,{title:"Manage Projects",onClose:function(){return e.store.uistate.current_modal=""}},l.default.createElement("div",{className:"floating-menu open-menu",style:{position:"relative"}},this.renderConnect())):l.default.createElement("div",{id:"new-project-selector",className:"floating-menu animated fadeInLeft open-menu",style:{minWidth:"400px"}},this.renderConnect()):"create"==this.options.type?this.store.uistate.is_mobile?l.default.createElement(p.default,{title:"Create Project",onClose:function(){return e.store.uistate.current_modal=""}},l.default.createElement("div",{className:"floating-menu open-menu",style:{position:"relative"}},this.renderCreate())):l.default.createElement("div",{id:"new-project-selector",className:"floating-menu animated fadeInLeft open-menu",style:{width:"250px"}},this.renderCreate()):void 0}}]),t}(),m=a.prototype,_="options",g=[u.observable],b={enumerable:!0,initializer:function(){return{name:"",type:"connect",workspace:!1,team:!1,require_team:!1}}},y={},Object.keys(b).forEach((function(e){y[e]=b[e]})),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),void 0===(y=g.slice().reverse().reduce((function(e,t){return t(m,_,e)||e}),y)).initializer&&(Object.defineProperty(m,_,y),y=null),o=y,r=a))||r;t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),p=(o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&o.__esModule?o:{default:o},h=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,o,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"name",o=i,(r=a)&&Object.defineProperty(n,"name",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),d(t,[{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{name:"",supplier_workspace_id:""}}}]),t}(),i=r.prototype,s="name",l=[f.observable],c={enumerable:!0,initializer:null},u={},Object.keys(c).forEach((function(e){u[e]=c[e]})),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),void 0===(u=l.slice().reverse().reduce((function(e,t){return t(i,s,e)||e}),u)).initializer&&(Object.defineProperty(i,s,u),u=null),a=u,r);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),l(n(20))),s=l(n(836));function l(e){return e&&e.__esModule?e:{default:e}}var c,u,d,f,p,h,m=(r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return a.globalstore=e,a.options=r,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"model",value:function(){return s.default}},{key:"url",value:function(){return"/suppliers/"+this.options.supplier+"/workspaces/"+this.options.workspace_id+"/teams"}},{key:"prefill",value:function(e){return e.forEach((function(e){e.id||(e.id=e._id?e._id:e.supplier_project_id)})),e}},{key:"filtered",get:function(){return this.models}}]),t}(),c=r.prototype,u="filtered",d=[o.computed],f=Object.getOwnPropertyDescriptor(r.prototype,"filtered"),p=r.prototype,h={},Object.keys(f).forEach((function(e){h[e]=f[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=d.slice().reverse().reduce((function(e,t){return t(c,u,e)||e}),h),p&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(p):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(c,u,h),h=null),r);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),p=(o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&o.__esModule?o:{default:o},h=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,o,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"name",o=i,(r=a)&&Object.defineProperty(n,"name",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),d(t,[{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{name:"",id:""}}}]),t}(),i=r.prototype,s="name",l=[f.observable],c={enumerable:!0,initializer:null},u={},Object.keys(c).forEach((function(e){u[e]=c[e]})),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),void 0===(u=l.slice().reverse().reduce((function(e,t){return t(i,s,e)||e}),u)).initializer&&(Object.defineProperty(i,s,u),u=null),a=u,r);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=p(l),u=n(6),d=n(3),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var g=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h(n,"options",o,n),h(n,"adding_projects",i,n),n.store=n.props.store,n.current_modal_options=n.store.uistate.current_modal_options,n.handleChange=n.handleChange.bind(n),n.save=n.save.bind(n),n.updateOrder=n.updateOrder.bind(n),n.removeProject=n.removeProject.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentDidMount",value:function(){this.ul_node&&($(this.ul_node).sortable({handle:".icon-th",update:this.updateOrder}),this.loadInputTypeahead(),this.delegated_typeahead=!0)}},{key:"componentDidUpdate",value:function(){this.adding_projects&&(this.delegated_typeahead||(this.loadInputTypeahead(),this.delegated_typeahead=!0))}},{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"save",value:function(){var e={name:this.options.name,type:"group",subtype:"",supplier:"asana",projects:(0,d.toJS)(this.options.projects),users:[],workspace:{id:this.current_modal_options.workspace_id}};this.store.projects.create(e),this.close()}},{key:"close",value:function(){this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}},{key:"updateOrder",value:function(){var e=this.options.projects,t=$(this.ul_node).sortable("toArray",{attribute:"data-original-index"}),n=[];_.each(t,(function(t){n.push(e[t])})),this.options.projects=n}},{key:"removeProject",value:function(e,t){var n=_.reject(this.options.projects,(function(e){return e.supplier_project_id==t}));this.options.projects=n}},{key:"loadInputTypeahead",value:function(e){var t=this,n=this.current_modal_options.workspace_id;App.Utils.Typeaheads.Projects({object:$(this.input_node),workspace_id:n,local:[],remote:!0,allowCreate:!1,selectCallback:function(e){if(!(-1!=t.options.projects.map((function(e){return e.supplier_project_id})).indexOf(Number(e.supplier_project_id))||-1!=t.options.projects.map((function(e){return e.supplier_project_id})).indexOf(String(e.supplier_project_id))||t.options.projects.length.length>=t.store.uistate.group_max_projects)){var n=t.options.projects,r={name:e.name,supplier_project_id:e.supplier_project_id};e.color&&(r.color=e.color),n.push(r),setTimeout((function(){return t.input_node.value=""}),0)}},createCallback:function(e,t){},closeCallback:function(e){t.store.uistate.current_modal=!1,t.store.uistate.current_modal_options=!1}}),$(this.input_node).focus()}},{key:"render",value:function(){var e=this,t=this.options.projects,n=t.length;return this.current_modal_options.workspace_id?c.default.createElement(f.default,{width:"500",height:"500",title:"Create Group of Projects",id:"",closeButton:!0,closeButtonName:"Cancel",successButton:!0,successButtonEnabled:"true",successButtonName:"Create",successButtonCallback:this.save,store:this.store},c.default.createElement("div",null,c.default.createElement("div",{className:"one-column-fields"},c.default.createElement("div",{className:"group-config"},c.default.createElement("b",null,"Group Name"),c.default.createElement("input",{autoFocus:!0,placeholder:"Group name...",type:"text",name:"name",className:"input-editable-cell",onChange:this.handleChange,style:{marginTop:"10px"}}),c.default.createElement("b",{style:{marginTop:"15px",display:"block"}},"Projects List"),c.default.createElement("div",null,n<this.store.uistate.group_max_projects&&c.default.createElement("div",{className:"counter-status"},c.default.createElement("small",null,"You can still add ",this.store.uistate.group_max_projects-n," elements to this group."),c.default.createElement("br",null),c.default.createElement("input",{style:{marginBottom:"15px"},className:"typeahead input-editable-cell",type:"text",placeholder:"Search projects...",ref:function(t){return e.input_node=t}}),c.default.createElement("ul",{key:1,className:"nav nav-tabs nav-stacked",ref:function(t){return e.ul_node=t}},t.map((function(t,n){return c.default.createElement("li",{key:t.supplier_project_id,"data-id":t.supplier_project_id,"data-original-index":n,className:"active"},c.default.createElement("div",{className:"pull-right btn-remove-project-from-group"},c.default.createElement("i",{className:"icon icon-trash",onClick:function(n){return e.removeProject(n,t.supplier_project_id)}})),c.default.createElement("a",{href:"javascript:void(0)"},c.default.createElement("i",{className:"icon icon-th"}),"  ",t.name))}))),c.default.createElement("div",{style:{height:"200px"}}))))))):(alert("You need to choose a workspace first"),this.current_modal_options=!1,this.current_modal=!1,null)}}]),t}(),o=m(a.prototype,"options",[d.observable],{enumerable:!0,initializer:function(){return{name:"",projects:[]}}}),i=m(a.prototype,"adding_projects",[d.observable],{enumerable:!0,initializer:function(){return!0}}),r=a))||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=p(l),u=n(6),d=n(3),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var g=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h(n,"options",o,n),h(n,"adding_projects",i,n),n.store=n.props.store,n.current_modal_options=n.store.uistate.current_modal_options,n.handleChange=n.handleChange.bind(n),n.save=n.save.bind(n),n.updateOrder=n.updateOrder.bind(n),n.removeProject=n.removeProject.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentDidMount",value:function(){this.ul_node&&($(this.ul_node).sortable({handle:".icon-th",update:this.updateOrder}),this.loadInputTypeahead(),this.delegated_typeahead=!0)}},{key:"componentDidUpdate",value:function(){this.adding_projects&&(this.delegated_typeahead||(this.loadInputTypeahead(),this.delegated_typeahead=!0))}},{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"save",value:function(){console.log(this.options);var e={name:this.options.name,type:"group",subtype:"team",supplier:"asana",projects:[],users:(0,d.toJS)(this.options.users),workspace:{id:this.current_modal_options.workspace_id}};this.store.projects.create(e),this.close()}},{key:"close",value:function(){this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}},{key:"updateOrder",value:function(){var e=this.options.users,t=$(this.ul_node).sortable("toArray",{attribute:"data-original-index"}),n=[];_.each(t,(function(t){n.push(e[t])})),this.options.users=n}},{key:"removeProject",value:function(e,t){var n=_.reject(this.options.projects,(function(e){return e.supplier_project_id==t}));this.options.projects=n}},{key:"loadInputTypeahead",value:function(e){var t=this,n=this.current_modal_options.workspace_id;App.Utils.Typeaheads.Users({object:$(this.input_node),workspace_id:n,local:function(){return[]},remote:!0,allowCreate:!1,selectCallback:function(e){if(e.id,!(-1!=t.options.users.map((function(e){return e.supplier_project_id})).indexOf(Number(e.supplier_project_id))||-1!=t.options.users.map((function(e){return e.supplier_project_id})).indexOf(String(e.supplier_project_id))||t.options.users.length.length>=t.store.uistate.group_max_projects)){var n=t.options.users,r={name:e.name,id:e.id,type:e.type};n.push(r),setTimeout((function(){return t.input_node.value=""}),0)}},createCallback:function(e,t){},closeCallback:function(e){this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}}),$(this.input_node).focus()}},{key:"render",value:function(){var e=this,t=this.options.users,n=t.length;return this.current_modal_options.workspace_id?c.default.createElement(f.default,{width:"500",height:"500",title:"Create a Team Workload",id:"",closeButton:!0,closeButtonName:"Cancel",successButton:!0,successButtonEnabled:"true",successButtonName:"Create",successButtonCallback:this.save,store:this.store},c.default.createElement("div",null,c.default.createElement("div",{className:"one-column-fields"},c.default.createElement("div",{className:"group-config"},c.default.createElement("div",{className:"alert alert-info"},"This functionality is in beta. Please have in mind that it could take significant time to load, depending on the amount of tasks each user has assigned."),c.default.createElement("b",null,"Team Name"),c.default.createElement("input",{autoFocus:!0,placeholder:"Group name...",type:"text",name:"name",className:"input-editable-cell",onChange:this.handleChange,style:{marginTop:"10px"}}),c.default.createElement("b",{style:{marginTop:"15px",display:"block"}},"Users List"),c.default.createElement("div",null,n<this.store.uistate.group_max_projects&&c.default.createElement("div",{className:"counter-status"},c.default.createElement("small",null,"You can still add ",this.store.uistate.group_max_projects-n," elements to this group."),c.default.createElement("br",null),c.default.createElement("input",{style:{marginBottom:"15px"},className:"typeahead input-editable-cell",type:"text",placeholder:"Search projects...",ref:function(t){return e.input_node=t}}),c.default.createElement("ul",{key:1,className:"nav nav-tabs nav-stacked",ref:function(t){return e.ul_node=t}},t.map((function(t,n){return c.default.createElement("li",{key:t.supplier_project_id,"data-id":t.supplier_project_id,"data-original-index":n,className:"active"},c.default.createElement("div",{className:"pull-right btn-remove-project-from-group"},c.default.createElement("i",{className:"icon icon-trash",onClick:function(n){return e.removeProject(n,t.supplier_project_id)}})),c.default.createElement("a",{href:"javascript:void(0)"},c.default.createElement("i",{className:"icon icon-th"}),"  ",t.name))}))),c.default.createElement("div",{style:{height:"200px"}}))))))):(alert("You need to choose a workspace first"),this.current_modal_options=!1,this.current_modal=!1,null)}}]),t}(),o=m(a.prototype,"options",[d.observable],{enumerable:!0,initializer:function(){return{name:"",projects:[],users:[]}}}),i=m(a.prototype,"adding_projects",[d.observable],{enumerable:!0,initializer:function(){return!0}}),r=a))||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=(i=l)&&i.__esModule?i:{default:i},u=n(6),d=n(3);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var f,p,h,m,_,g=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.resync=i.resync.bind(i),i.close=i.close.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){0==this.store.projects.models.length&&(this.store.uistate.connect={supplier:"asana",type:"projects"},this.close())}},{key:"connect",value:function(e){this.store.uistate.connect=e,this.close()}},{key:"close",value:function(){this.store.uistate.current_modal=""}},{key:"resync",value:function(e){var t=this;$(e.target).addCog(),this.store.projects.resync().then((function(){t.store.uistate.help_message=c.default.createElement("span",null,c.default.createElement("i",{className:"fa fa-check"})," Projects Synchronized correctly"),t.close()}))}},{key:"renderSync",value:function(){var e=this;return c.default.createElement("div",{id:"new-project-selector",className:"floating-menu animated fadeInLeft open-menu",style:{width:"250px"}},c.default.createElement("ul",{className:"unstyled"},c.default.createElement("li",{className:"title close-menu",onClick:function(t){return e.close()}},c.default.createElement("div",{className:"pull-right"},c.default.createElement("i",{className:"fa fa-times"})),"Sync projects list",c.default.createElement("div",{className:"clearfix"})),c.default.createElement("li",{className:"color-static"},c.default.createElement("div",{className:"text-container",style:{width:200,textAlign:"center"}},c.default.createElement("span",{className:"muted"},"By doing this action, your ",c.default.createElement("b",null,"connected")," projects will be updated with the last Asana name & colors.",c.default.createElement("br",null),c.default.createElement("br",null)," This could take a couple of minutes."),c.default.createElement("br",null),c.default.createElement("br",null),c.default.createElement("button",{className:"resync-projects btn btn-success btn-flat",onClick:this.resync},"Sync")))))}},{key:"cantResync",value:function(){return c.default.createElement("div",{id:"new-project-selector",className:"floating-menu animated fadeInLeft open-menu",style:{width:"250px"}},c.default.createElement("ul",{className:"unstyled"},c.default.createElement("li",{className:"title close-menu"},c.default.createElement("div",{className:"pull-right"},c.default.createElement("i",{className:"fa fa-times"})),"Sync projects list",c.default.createElement("div",{className:"clearfix"})),c.default.createElement("li",{className:"color-static"},c.default.createElement("div",{className:"text-container",style:{width:200,textAlign:"center"}},c.default.createElement("span",{className:"muted"},"By doing this action, your ",c.default.createElement("b",null,"connected")," projects will be updated with the last Asana name & colors.",c.default.createElement("br",null),c.default.createElement("br",null)," This could take a couple of minutes."),c.default.createElement("br",null),c.default.createElement("br",null),c.default.createElement("button",{className:"resync-projects btn btn-success btn-flat",onClick:this.resync},"Sync")))))}},{key:"render",value:function(){return 0==this.store.projects.models.length?this.cantResync():this.store.projects.models.length>0?this.renderSync():void 0}}]),t}(),f=a.prototype,p="options",h=[d.observable],m={enumerable:!0,initializer:function(){return{name:""}}},_={},Object.keys(m).forEach((function(e){_[e]=m[e]})),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),void 0===(_=h.slice().reverse().reduce((function(e,t){return t(f,p,e)||e}),_)).initializer&&(Object.defineProperty(f,p,_),_=null),o=_,r=a))||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.close=n.close.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"strip",value:function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}},{key:"close",value:function(){this.store.uistate.current_modal="",this.store.news.setLastRead(moment().toDate().getTime())}},{key:"render",value:function(){var e=this,t=(this.store.snapshots,localStorage.getItem("news_last_read")||moment("2017-01-01").toDate().getTime());return i.default.createElement(l.default,{width:"500",height:"500",title:"News",closeButton:"true",closeButtonCallback:this.close,store:this.store},i.default.createElement("div",{className:"help-tips-white"},i.default.createElement("ul",{className:"unstyled"},this.store.news.models.map((function(n){return i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header",t>=n.created?"read":""].join(" ")},i.default.createElement("div",{style:{padding:"5px 5px 0 0"}},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"})),i.default.createElement("div",{style:{flexGrow:1}},i.default.createElement("a",{href:n.link,target:"_blank"}," ",n.title," "),i.default.createElement("span",{className:"label label-warning"},"New!"))),i.default.createElement("div",{className:"news-header-date"},moment(n.created).format("ddd DD MMM YYYY")),i.default.createElement("div",{className:"news-body"},n.media&&n.media.thumbnail&&n.media.thumbnail[0].url[0]&&i.default.createElement("img",{src:n.media&&n.media.thumbnail&&n.media.thumbnail[0].url[0],alt:""}),e.strip(n.description)))})))))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.GettingStarted=[{title:"Welcome to Instagantt!",image_style:{margin:"40px 0"},image:"/img/gs-welcome.png",text:i.default.createElement("div",null,i.default.createElement("h4",null,"Follow our 5 starter tips"),"This quick 5 tips that will guide you to get started with Instagantt. This tips requires less than a minute!.")},{title:"",image_style:{},gif:"/img/Connect.gif",text:i.default.createElement("div",null,i.default.createElement("h3",null,"Choose the projects you want to connect")," You need to manually choose which of your Asana projects you want to connect. When new projects are created in Asana, you need to follow the same process.")},{title:"",image_style:{},gif:"/img/gs-schedule.gif",text:i.default.createElement("div",null,i.default.createElement("h3",null,"Adding and Changing dates with Drag & Drop")," Add dates to non-scheduled tasks by clicking and dragging in the chart. Change dates by dragging the bars!")},{title:"Sort order",image:"/img/gs-sort-order.png",image_style:{width:"40%"},text:i.default.createElement("div",null,i.default.createElement("h3",null,"Tasks are sorted automatically by Start date")," This is the best way to keep a Gantt chart ordered and easy to read. To change vertical order, just change the task dates by dragging them around and they will automatically re sort. ",i.default.createElement("br",null),i.default.createElement("br",null),"Use the vertical Drag & Drop on the task list only if you need to change the order of tasks that have ",i.default.createElement("b",null,"  same dates "),", or for moving ",i.default.createElement("b",null,"unscheduled tasks"),".")},{title:"",gif:"/img/gs-customize-columns.gif",image_style:{},text:i.default.createElement("div",null,i.default.createElement("h3",null,"Customize columns")," By clicking on the Columns icon, you can choose which fields will be shown on the task list, like Estimated Hours, Assignee, and more. You can double click on a field on the task list to change its value just as if you were editing a Spreadsheet.")},{title:"",gif:"/img/gs-share.gif",image_style:{},text:i.default.createElement("div",null,i.default.createElement("h3",null,"Sharing"),"To share with your team and coworkers, they just need to login with their Asana account and connect the same projects. ",i.default.createElement("b",null,"To share with a client"),", you can use the Public Snapshots (read only shots of your Chart, shared through a public link).")}],n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.store.uistate.is_mobile&&(this.store.uistate.current_modal="")}},{key:"close",value:function(){this.store.uistate.current_modal="",window.location.hash="/import-projects/asana"}},{key:"render",value:function(){var e=this;return this.store.snapshots,localStorage.getItem("news_last_read")||moment("2017-01-01").toDate().getTime(),i.default.createElement(l.default,{width:"700",height:"500",title:!1,closeButton:!1,bodyStyle:{overflow:"hidden"},id:"getting-started-tips",className:"help-tips help-tips-light",style:{textAlign:"center"},store:this.store},i.default.createElement("div",{className:"carousel slide",id:"carousel-gs","data-interval":"false",style:{lineHeight:"20px",margin:"-15px"}},i.default.createElement("div",{className:"carousel-inner"},this.GettingStarted.map((function(t,n){return i.default.createElement("div",{key:n,className:["item",0==n?"active":""].join(" ")},i.default.createElement("div",{className:"gs-header"},t.title&&i.default.createElement("h2",null,t.title),t.gif&&i.default.createElement("div",{className:"gif-container"},i.default.createElement("img",{src:t.gif})),t.image&&i.default.createElement("div",{className:"image-container"},i.default.createElement("img",{className:"static",src:t.image,style:t.image_style}))),i.default.createElement("div",{style:{fontSize:"10px"}},Array.from(new Array(e.GettingStarted.length),(function(e,t){return t})).map((function(e){e==n&&i.default.createElement("span",null,i.default.createElement("i",{className:"fa fa-circle"}),"  "),e!=n&&i.default.createElement("span",null,i.default.createElement("i",{className:"fa fa-circle-o"}),"  ")}))),i.default.createElement("div",{className:"gs-body"},t.text),e.GettingStarted.length-1==n&&i.default.createElement("p",null,i.default.createElement("a",{className:"btn btn-success btn-finish-tour",href:"","data-slide":"next",onClick:function(){return e.close()}},"Finish")),e.GettingStarted.length-1!=n&&i.default.createElement("p",null,i.default.createElement("a",{className:"btn btn-primary right",href:"#carousel-gs","data-slide":"next"},"Next")),i.default.createElement("br",null),i.default.createElement("br",null),i.default.createElement("br",null))})))))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.GettingStarted=[{title:"Welcome to Instagantt!",image_style:{margin:"40px 0"},image:"/img/gs-welcome.png",text:i.default.createElement("div",null,i.default.createElement("h4",null,"Follow our 4 starter tips"),"This quick 4 tips that will guide you to get started with Instagantt. This tips requires less than a minute!.")},{title:"",image_style:{},gif:"/img/gs-schedule.gif",text:i.default.createElement("div",null,i.default.createElement("h3",null,"Adding and Changing dates with Drag & Drop")," Add dates to non-scheduled tasks by clicking and dragging in the chart. Change dates by dragging the bars!")},{title:"Sort order",image:"/img/gs-sort-order.png",image_style:{width:"40%"},text:i.default.createElement("div",null,i.default.createElement("h3",null,"Tasks are sorted automatically by Start date")," This is the best way to keep a Gantt chart ordered and easy to read. To change vertical order, just change the task dates by dragging them around and they will automatically re sort. ",i.default.createElement("br",null),i.default.createElement("br",null),"Use the vertical Drag & Drop on the task list only if you need to change the order of tasks that have ",i.default.createElement("b",null,"  same dates "),", or for moving ",i.default.createElement("b",null,"unscheduled tasks"),".")},{title:"",gif:"/img/gs-customize-columns.gif",image_style:{},text:i.default.createElement("div",null,i.default.createElement("h3",null,"Customize columns")," By clicking on the Columns icon, you can choose which fields will be shown on the task list, like Estimated Hours, Assignee, and more. You can double click on a field on the task list to change its value just as if you were editing a Spreadsheet.")},{title:"",gif:"/img/gs-share.gif",image_style:{},text:i.default.createElement("div",null,i.default.createElement("h3",null,"Sharing"),"To share with your team and coworkers, invite them to your workbook. ",i.default.createElement("b",null,"To share with a client"),", you can use the Public Snapshots (read only shots of your Chart, shared through a public link).")}],n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.store.uistate.is_mobile&&this.close(),this.store.uistate.trackAnalytics("Onboarding Guide Started")}},{key:"close",value:function(){this.store.uistate.trackAnalytics("Onboarding Guide Finished"),this.store.uistate.current_modal="",$.get("/hello")}},{key:"render",value:function(){var e=this;return this.store.snapshots,localStorage.getItem("news_last_read")||moment("2017-01-01").toDate().getTime(),i.default.createElement(l.default,{width:"700",height:"500",title:!1,closeButton:!1,bodyStyle:{overflow:"hidden"},id:"getting-started-tips",className:"help-tips help-tips-light",style:{textAlign:"center",zIndex:1101},store:this.store},i.default.createElement("div",{className:"carousel slide",id:"carousel-gs","data-interval":"false",style:{lineHeight:"20px",margin:"-15px"}},i.default.createElement("div",{className:"carousel-inner"},this.GettingStarted.map((function(t,n){return i.default.createElement("div",{key:n,className:["item",0==n?"active":""].join(" ")},i.default.createElement("div",{className:"gs-header"},t.title&&i.default.createElement("h2",null,t.title),t.gif&&i.default.createElement("div",{className:"gif-container"},i.default.createElement("img",{src:t.gif})),t.image&&i.default.createElement("div",{className:"image-container"},i.default.createElement("img",{className:"static",src:t.image,style:t.image_style}))),i.default.createElement("div",{style:{fontSize:"10px"}},Array.from(new Array(e.GettingStarted.length),(function(e,t){return t})).map((function(e){e==n&&i.default.createElement("span",null,i.default.createElement("i",{className:"fa fa-circle"}),"  "),e!=n&&i.default.createElement("span",null,i.default.createElement("i",{className:"fa fa-circle-o"}),"  ")}))),i.default.createElement("div",{className:"gs-body"},t.text),e.GettingStarted.length-1==n&&i.default.createElement("p",null,i.default.createElement("a",{className:"btn btn-success btn-finish-tour",href:"","data-slide":"next",onClick:function(){return e.close()}},"Finish")),e.GettingStarted.length-1!=n&&i.default.createElement("p",null,i.default.createElement("a",{className:"btn btn-primary right",href:"#carousel-gs","data-slide":"next"},"Next")),i.default.createElement("br",null),i.default.createElement("br",null),i.default.createElement("br",null))})))))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=p(l),u=n(6),d=n(3),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h,m,_,g,b,y=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n=i,"QuickGuide",a=i,(r=o)&&Object.defineProperty(n,"QuickGuide",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.store.uistate.quick_guide_slug){var s=i.QuickGuide.filter((function(e){return e.slug==i.store.uistate.quick_guide_slug}));s[0]&&i.selectArticle(s[0])}return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"close",value:function(){this.store.uistate.current_modal="",this.store.uistate.quick_guide_slug=""}},{key:"selectArticle",value:function(e){console.log("Selecting article"),window.qg=this.QuickGuide,this.QuickGuide.map((function(e){return e.selected=!1})),e.selected=!0}},{key:"render",value:function(){var e=this;console.log("render"),this.store.snapshots,localStorage.getItem("news_last_read")||moment("2017-01-01").toDate().getTime();var t=this.QuickGuide.filter((function(e){return e.selected}))[0],n=Object.assign({selected:!1,gif:"",image:"",image_style:{},title:"",text:"",gif_style:{}},t),r=this.QuickGuide;return this.store.user&&"standalone"==this.store.user.type&&(r=r.filter((function(e){return"multiple-projects"!=e.slug}))),c.default.createElement(f.default,{width:"700",height:"500",title:"Quick Guide",closeButton:!1,upperCloseButton:!0,id:"quick-guide",className:"help-tips help-tips-light",store:this.store},c.default.createElement("div",{className:"content",style:{margin:"-15px"}},c.default.createElement("div",{className:"article-list"},c.default.createElement("ul",null,r.map((function(t,n){return c.default.createElement("li",{key:n,onClick:function(n){return e.selectArticle(t)},className:t.selected?"selected":"","data-slug":t.slug},t.title,c.default.createElement("i",{className:"fa fa-circle"}))})))),c.default.createElement("div",{className:"body"},(n.gif||n.image)&&c.default.createElement("div",{className:"gs-header"},n.gif&&c.default.createElement("div",{className:"gif-container"},c.default.createElement("img",{src:n.gif,style:i({},n.gif_style)})),n.image&&c.default.createElement("div",{className:"image-container"},c.default.createElement("img",{className:"static",src:n.image,style:i({},n.image_style)}))),c.default.createElement("div",{className:"gs-body"},n.title&&c.default.createElement("h2",null,n.title),n.template))),c.default.createElement("div",{className:"clear"}))}}]),t}(),h=a.prototype,m="QuickGuide",_=[d.observable],g={enumerable:!0,initializer:function(){return[{selected:!0,slug:"add-or-change-dates",image:"",title:"Add or Change Dates",gif:"/img/gs-schedule.gif",template:c.default.createElement("div",null,c.default.createElement("h4",null,"Add dates to existing tasks"),"To add dates to existing tasks, simply position your mouse on the horizontal line of the same task on the chart, and click (or drag) the dates you want it to be. ",c.default.createElement("h4",null,"Change dates on an already scheduled task"),"You can drag the edges of the task bar to change its duration, or simply drag the entire bar to move it to another date")},{selected:!1,title:"Task order and sorting",slug:"sort-tasks",image:"",image_style:{},text:"",template:c.default.createElement("div",null,c.default.createElement("p",{style:{textAlign:"center"}},c.default.createElement("img",{src:"/img/chronological.png",style:{width:"200px"}})),"Tasks are sorted automatically by chronological order (start date). This is the best visuaization to keep a Gantt Chart ",c.default.createElement("b",null,"organized")," and ",c.default.createElement("b",null,"easy to read")," with a cascade effect. When you drag a task bar around, it's automatically reordered. ",c.default.createElement("br",null),c.default.createElement("br",null)," Use the task list Drag & Drop to re-order tasks that starts on the ",c.default.createElement("b",null,"same day"),", or to reorder ",c.default.createElement("b",null,"unscheduled tasks."),c.default.createElement("br",null),c.default.createElement("br",null),c.default.createElement("b",null,"When you change the vertical position manually")," and it doesn't fit the chronological order, the \"Free edit\" mode is enabled, which won't re-order your tasks ",c.default.createElement("b",null,"while you make adjustments"),'. It\'s not a permanent state, so when finished, click on "Done, sort now".')},{selected:!1,title:"Create new tasks",slug:"create-new-tasks",image:"",image_style:{},gif:"/img/gs-create-new-tasks.gif",gif_style:{marginTop:"-100px"},template:c.default.createElement("div",null,c.default.createElement("p",null,"You can create new tasks in three different and simple steps:"),c.default.createElement("p",null,'1.- Hover your mouse on the task list, and start typing on the "Create new task" row located at the bottom'),c.default.createElement("p",null,'2.- Or you can click on the green "+" icon that appears when you hover your mouse on another task (so you\'ll create a task in the middle of those tasks)'),c.default.createElement("p",null,"3.- Or you can just right click (or drag a lasso) on an empty space on the chart. A popover menu will appear."))},{selected:!1,title:"Create subtasks",slug:"create-subtasks",image:"",gif:"/img/gs-create-subtasks.gif",gif_style:{marginTop:"-100px"},template:"To create a subtask, simply click on the parent task name to open the details, and you'll find a section to create new subtasks."},{selected:!1,title:"Dependencies",slug:"dependencies",image:"",gif:"/img/gs-dependencies.gif",gif_style:{marginTop:"-100px"},template:'To create dependencies between tasks, drag the small circle icon that appears on the left of a task bar when you hover your mouse on it. By the default, the lag between tasks is fixed. You can change it on the "Options" menu by unchecking the "Keep lag between tasks".'},{selected:!1,title:"Milestones, Progress and Colors",slug:"milestones",image:"",gif:"/img/gs-milestones.gif",template:c.default.createElement("div",null,"There are many options you can change from the task details pane. On the top side, you'll find an icon for:",c.default.createElement("ul",null,c.default.createElement("li",null,"Changing colors"),c.default.createElement("li",null,"Changing progress"),c.default.createElement("li",null,"Convert to Milestone"),c.default.createElement("li",null,"Add Tags"),c.default.createElement("li",null,"Duplicate")))},{selected:!1,title:"Holidays and Highlight days",slug:"holidays",image:"",gif:"/img/gs-holidays.gif",gif_style:{marginTop:"-50px"},template:c.default.createElement("div",null,c.default.createElement("p",null,"You can highlight days (to mark milestones, or company important dates) and you can also mark days as non-working (company holidays)."),c.default.createElement("p",null,'It\'s important to note that you can turn on the "Skip weekends and holidays" feature on the Options menu, so whenever you drag a task, it will skip those days.'))},{selected:!1,title:"Baselines",slug:"baselines",image:"",gif:"/img/gs-baselines.gif",template:c.default.createElement("div",null,c.default.createElement("p",null,"Baselines are the perfect tool to keep track of changes on a schedule. They are extremely useful for reporting too."),c.default.createElement("p",null,"A Baseline is a snapshot of your Gantt on a given time. You can create a baseline whenever you feel your plan is stable and ready. In the future, after making changes to the chart, you can load a previous baseline on top of the new schedule to see the differences and how it has changed."))},{selected:!1,title:"Workload view and Estimated hours",slug:"workload-view",image:"",gif:"/img/gs-workload.gif",template:c.default.createElement("div",null,c.default.createElement("p",null,"The workload view is the best tool to balance your team's workload. On each row you'll see a team member, and task bars will be allocated on each member's lane."),c.default.createElement("h4",null,"Estimated hours"),'If you want a more accurate workload view, enter the estimated hours for each task and Instagantt will convert them to "hours per day" automatically. Hours will appear summed up in the workload view for each day.',c.default.createElement("h4",null,"Double click on items to quickly edit them"),'On the task list, double click on a field to quickly edit them. You can click on the "Columns" icon on the top of the list to customize which fields appears on the task list.')},{selected:!1,title:"Sharing with external People",slug:"sharing",image:"",gif:"/img/gs-share.gif",template:c.default.createElement("div",null,c.default.createElement("p",null,"There are 3 easy ways to share a Gantt Chart"),c.default.createElement("h4",null,"PUBLIC SNAPSHOTS"),"Public snapshots are a static read-only version of your chart on a given time (when you take the snapshot). They don't require an account to access, they just need the link we provide you. This are perfect for sharing with your clients.",c.default.createElement("p",null,c.default.createElement("b",null,"TIP"),'You can send the "Master link" to your client. It always will redirect to the newest Snapshot you take.'),c.default.createElement("h4",null,"EXPORT AS IMAGE"),"You can download your chart as an image, to include it on a keynote or just for printing. If your chart is too large, we recommend printing the image in multiple pages.",c.default.createElement("h4",null,"SPREADSHEET"),"If you need to manipulate the data contained in your chart, you can export is as a Spreadsheet and chart it in your spreadsheet software.")},{selected:!1,title:"Multiple projects on the same chart",slug:"multiple-projects",image:"/img/gs-multiple-projects.png",gif:"",template:c.default.createElement("div",null,c.default.createElement("p",null,'By clicking on the "+" icon on the left sidbar ("Connect Projects"), you will be prompted to create a new "Group of projects".'),c.default.createElement("p",null,"Project groups let you mix up to 20 projects on the same chart. This is great for managing workload across many projects, or for creating a big picture of many projects simultaneously."))},{selected:!1,title:"Multiple selection",slug:"multiple-selection",image:"",gif:"/img/gs-multiple-selection.gif",template:c.default.createElement("div",null,"You can use the multiple selection for 2 useful things:",c.default.createElement("ul",null,c.default.createElement("li",null,"Move multiple tasks simultaneously"),c.default.createElement("li",null,"Create new tasks or holidays")))}]}},b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),void 0===(b=_.slice().reverse().reduce((function(e,t){return t(h,m,e)||e}),b)).initializer&&(Object.defineProperty(h,m,b),b=null),o=b,r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.close=n.close.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"close",value:function(){this.store.uistate.current_modal=!1}},{key:"render",value:function(){return i.default.createElement(l.default,{width:"550",height:"500",title:"We are having troubles to connect with Asana",id:"server-issue-modal",closeButton:"true",successButton:!1,successButtonEnabled:!1,closeButtonCallback:this.close,store:this.store},i.default.createElement("div",null,i.default.createElement("div",{className:"body-create"},i.default.createElement("p",null,"It seems that Asana is having troubles with their API (the interface we use to get your tasks and projects)."),i.default.createElement("p",null,"Please try again later. We apologize for the inconvenience."))))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.login=n.login.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"login",value:function(){window.location="https://app.instagantt.com/logout"}},{key:"render",value:function(){return i.default.createElement(l.default,{width:"550",height:"500",title:"You have been signed off",id:"credentials-issue-modal",closeButton:!1,successButton:!0,successButtonEnabled:!0,successButtonName:"Log in again",successButtonCallback:this.login,store:this.store},i.default.createElement("div",null,i.default.createElement("p",null,"You have been signed out of Instagantt or your Asana session has been terminated"),i.default.createElement("p",null,"Please log in again")))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=k(d),p=n(15),h=n(6),m=n(3),g=k(n(13)),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),y=k(n(44)),v=k(n(30)),A=k(n(145)),w=(k(n(53)),k(n(94)));function k(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function x(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var O=function(e){var t=e.children,n=document.getElementById("react-datepicker-container");return(0,p.createPortal)(t,n)},C=(0,h.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));E(n,"options",o,n),E(n,"fields_to_duplicate",i,n),E(n,"selecting_fields",s,n),n.store=n.props.store,n.handleChange=n.handleChange.bind(n),n.save=n.save.bind(n);var r=[];return n.store.tasks.filtered.forEach((function(e){if(e.start){var t=(0,v.default)(e.start).toDate().getTime();r.push(t)}})),r.sort(),n.options.original_start_date=(0,v.default)(r[0]).format("YYYY-MM-DD"),n.options.original_name=n.store.projects.selected.name,n.options.new_start_date=(0,v.default)(r[0]),n.options.name=n.store.projects.selected.name+" Copy",Object.keys(n.attributes).forEach((function(e){return n.fields_to_duplicate.push(e)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.inputNode.focus()}),400)}},{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"createNewProject",value:function(e,t){var n=this;if("standalone"===e.supplier){var r=new w.default(this.store,[],{workbook_id:this.store.workbooks.selected.id}),a={name:e.name,workbook:{id:this.store.workbooks.selected.id,name:this.store.workbooks.selected.name},supplier:"standalone",flags:this.store.projects.model().default_flags()};r.create(a).then((function(e){a.id=e.id,n.store.projects.add([a]),t(a)}))}else $.post("/suppliers/asana/projects",e,(function(r){var a={name:r.name,supplier_project_id:r.id,workspace:r.workspace,color:r.color,supplier:e.supplier};r.team&&(a.team=r.team),n.store.projects.create(a).then(t)}))}},{key:"prepare_task_data",value:function(e,t,n){var r,a,o=this;r=e.due&&"null"!=e.due?(0,v.default)(e.due).add("days",n).format("YYYY-MM-DD"):"standalone"!=this.store.projects.selected.supplier?"null":"",a=e.start&&"null"!=e.start?(0,v.default)(e.start).add("days",n).format("YYYY-MM-DD"):"";var i=A.default.duplicationAttributes(e);return i.start=a,i.due=r,i.projects=[{name:t.name,id:t.id}],e.is_priority_heading&&(i.is_priority_heading=!0,i.estimated_hours=""),Object.entries(this.attributes).forEach((function(e){var t=c(e,2),n=t[0],r=t[1];-1==o.fields_to_duplicate.indexOf(n)&&r.forEach((function(e){return delete i[e]}))})),i}},{key:"save",value:function(){var e=this;_.each(this.store.tasks.filtered,(function(e){e.raw_childrens.length>0&&e.setCollapsed(!1)}));var t=!1,n={},r=0,a=this.options.name,o=this.store.projects.selected,i=o.workspace.id,s=!!o.team&&o.team.id,c=_.filter(this.store.tasks.filtered,(function(e){return!e.parent&&!e.is_new_task_handler})),u=[],d=_.filter(this.store.tasks.filtered,(function(e){return!e.is_new_task_handler})).length,f=c.length,p=(0,v.default)(this.options.new_start_date).diff((0,v.default)(this.options.original_start_date),"days"),h={name:a,workspace_id:i,supplier:o.supplier};if(s&&(h.team_id=s),0!=c.length)if(o){this.options.duplicating=!0;var m=function(e){$(".duplicate-status").html("<i class='fa fa-spin fa-spinner'></i> "+e)},g=function(t){e.options.duplicating=!1,e.store.uistate.current_modal=!1,window.router.navigate("/projects/"+t.id+"/"+t.supplier_project_id),e.store.projects.selectProject(t)},b=function(e){m("Updating dependencies..."),_.each(u,(function(t){var a=[];if("object"==l(t.dependent_of))_.each(t.dependent_of,(function(e){a.push(n[e])}));else{if(!t.dependent_of)return void(++r==u.length&&g(e));a=n[t.dependent_of]}t.dependent_of=a,$.ajax({url:"/projects/"+e.id+"/tasks/"+t.id,type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(t),success:function(){++r==u.length&&g(e)}})}))},y=function r(a,o,i){var s=a.is_priority_heading?[]:a.raw_childrens_models;d!=u.length?0==s.length&&i?i():(s.reverse(),function a(i,s){var l,c,f=_.clone(i),h=f.shift();l=h.due?(0,v.default)(h.due).add("days",p).format("YYYY-MM-DD"):"null",c=h.start?(0,v.default)(h.start).add("days",p).format("YYYY-MM-DD"):"";var g=h.user&&"tag"!=h.user.type?h.user.id:"null",y=e.options.keep_progress?h.progress:"",A={name:h.name,parent:{id:o.id},completed:"",start:c,tags:h.tags.slice(),due:l,color:h.color,is_milestone:h.is_milestone,progress:y,dependent_of:h.dependent_of,notes:h.notes,assignee:g,estimated_hours:h.estimated_hours};delete(A=e.prepare_task_data(A,{name:!1,id:!1},p)).projects,A.parent={id:o.id},$.post("/tasks/"+o.id+"/subtasks",A,(function(e){m("Created '"+A.name+"'"),n[h.id]=e.id,A.id=e.id,u.push(A),f.length>0?r(h,e,(function(){a(f,s)})):d==u.length?b(t):r(h,e,s)}))}(s,i)):b(t)};m("Creating project"),$.post("/suppliers/asana/projects",h,(function(r){var a={name:r.name,supplier_project_id:r.id,workspace:r.workspace,color:r.color,supplier:o.supplier};r.team&&(a.team=r.team),e.store.projects.create(a).then((function(r){!function t(r,a){var o=_.clone(a),i=o.shift(),s=e.prepare_task_data(i,r,p);$.post("/projects/"+r.id+"/tasks",s,(function(e){var a=parseInt(f)-parseInt(o.length);m("Created "+a+"/"+f+" '"+s.name+"'"),n[i.id]=e.id,s.id=e.id,u.push(s),o.length>0?y(i,e,(function(){t(r,o)})):y(i,e,null)}))}(t=e.store.projects.get(r.id),c)}))}))}else alert("You have to select a project first");else alert("This project does not have any tasks to clone")}},{key:"saveStandalone",value:function(){var e=this,t=void 0,n=void 0,r={};this.options.duplicating=!0,_.each(this.store.tasks.filtered,(function(e){e.raw_childrens.length>0&&e.setCollapsed(!1)}));var a=function(e){$(".duplicate-status").html("<i class='fa fa-spin fa-spinner'></i> "+e)},o={name:this.options.name,workbook:this.store.projects.selected.workbook,supplier:this.store.projects.selected.supplier,type:this.store.projects.selected.type};a("Creating project..."),this.createNewProject(o,(function(o){t=e.store.projects.get(o.id),n=e.store.tasks.filtered.filter((function(e){return!e.is_new_task_handler})).map((function(e){var t=e.getAttributes();return r[t.id]=null,t})),window.router.navigate("/projects/"+t.id+"/"+t.id),e.store.projects.selectProject(t);var i=function(t){var n=0;e.store.tasks.filtered.forEach((function(o){if(!o.is_new_task_handler){var i=[];"object"==l(o.dependent_of)?_.each(o.dependent_of.toJS(),(function(e){e&&r[e]&&i.push(r[e])})):o.dependent_of&&void 0!==r[o.dependent_of]&&(i=r[o.dependent_of]),o.dependent_of=i,o.parent&&o.parent.id&&void 0!==r[o.parent.id]&&(o.parent.id=r[o.parent.id]),o.priority_heading_id&&void 0!==r[o.priority_heading_id]&&(o.priority_heading_id=r[o.priority_heading_id]),o.save().then((function(){a("Updating task: "+o.name),++n==t&&(e.store.tasks.saveLocalPositions(),NProgress.done(),e.options.duplicating=!1,e.store.uistate.current_modal=!1)})).catch((function(e){}))}}))},s=0;setTimeout((function(){n.map((function(o){var l=(0,v.default)(e.options.new_start_date).diff((0,v.default)(e.options.original_start_date),"days"),c=o.id,u=e.prepare_task_data(o,t,l);o.parent&&(u.parent=o.parent),u.local_priority=o.local_priority,u.priority=o.priority,u.priority_heading_id=o.priority_heading_id,u.priority_heading=o.priority_heading,u.is_priority_heading=o.is_priority_heading,delete u.id,e.store.tasks.create(u).then((function(t){u.is_priority_heading&&e.store.tasks.add([{id:parseInt(1e14*Math.random()),name:"Create task...",is_project:!1,is_priority_heading:!1,is_for_section:!0,dependent_of:[],parent_priority_heading:u.priority,priority_heading_id:t.id,priority:1e4,projects:u.projects,local_priority:1e4,completed:!1,is_new_task_handler:!0,project_priority:u.project_priority,collection:e}]),a("Creating task: "+u.name),r[c]=t.id,++s==n.length&&i(n.length)})).catch((function(e){}))}))}),0)}))}},{key:"buildDates",value:function(e,t){var n,r,a=Math.floor(e/this.store.uistate.column_width),o=Math.floor(a+t/this.store.uistate.column_width)-1;if(1==this.store.uistate.column_length)n=(0,v.default)((0,v.default)(this.store.uistate.calendar.first_month_first_date)).add("days",a).format("YYYY-MM-DD"),r=(0,v.default)((0,v.default)(this.store.uistate.calendar.first_month_first_date)).add("days",o).format("YYYY-MM-DD");else{var i=b.getMonday(this.store.uistate.calendar.first_month_first_date);n=(0,v.default)((0,v.default)(i)).add("days",7*a).format("YYYY-MM-DD"),r=(0,v.default)((0,v.default)(i)).add("days",7*o+4).format("YYYY-MM-DD")}return{start:n,end:r}}},{key:"selectField",value:function(e){this.fields_to_duplicate.push(e)}},{key:"unSelectField",value:function(e){this.fields_to_duplicate=this.fields_to_duplicate.filter((function(t){return t!=e}))}},{key:"renderFieldsSelection",value:function(){var e=this;return f.default.createElement(g.default,{width:"400",height:"500",title:"Select fields to duplicate",id:"duplicate-project",closeButton:!0,closeButtonCallback:function(){return e.selecting_fields=!1},successButton:!1,successButtonEnabled:!1,successButtonName:"Continue",successButtonCallback:function(){return e.selecting_fields=!1},store:this.store},f.default.createElement("div",null,f.default.createElement("table",{className:"table"},f.default.createElement("tbody",null,Object.entries(this.attributes).map((function(t){var n=c(t,2),r=n[0];return n[1],f.default.createElement("tr",null,f.default.createElement("td",null,r),f.default.createElement("td",{style:{textAlign:"right",cursor:"pointer",fontSize:"21px"}},-1!=e.fields_to_duplicate.indexOf(r)&&f.default.createElement("i",{onClick:function(){e.unSelectField(r)},className:"far fa-toggle-on",style:{color:"#008ACA",cursor:"pointer"}}),-1==e.fields_to_duplicate.indexOf(r)&&f.default.createElement("i",{onClick:function(){e.selectField(r)},className:"far fa-toggle-on fa-flip-horizontal",style:{cursor:"pointer"}})))})))),f.default.createElement("div",{className:"duplicate-status"})))}},{key:"render",value:function(){var e=this;return this.selecting_fields?this.renderFieldsSelection():f.default.createElement(g.default,{width:"400",height:"500",title:"Duplicate Project",id:"duplicate-project",closeButton:!this.options.duplicating,successButton:"true",successButtonEnabled:!this.options.duplicating,successButtonName:"Duplicate",successButtonLoading:this.options.duplicating,successButtonCallback:function(){e.store.projects.selected&&"standalone"!==e.store.projects.selected.supplier?e.save():e.saveStandalone()},store:this.store},f.default.createElement("div",null,f.default.createElement("table",{className:"table"},f.default.createElement("tbody",null,"standalone"==this.store.projects.selected.supplier&&f.default.createElement("tr",null,f.default.createElement("td",null,"Destination Workbook"),f.default.createElement("td",null,f.default.createElement("select",{value:this.store.workbooks.selected.id,onChange:function(t){return e.store.workbooks.get(t.target.value).select()}},this.store.workbooks.filtered.map((function(e){return f.default.createElement("option",{value:e.id},e.name)}))))),f.default.createElement("tr",null,f.default.createElement("td",null,"Original project"),f.default.createElement("td",null,f.default.createElement("span",{className:"original-project-name"},this.options.original_name))),f.default.createElement("tr",null,f.default.createElement("td",null,"Original Start Date"),f.default.createElement("td",null,f.default.createElement("span",{className:"original-start-date"},(0,v.default)(this.options.original_start_date).format("DD MMM YYYY")))),f.default.createElement("tr",null,f.default.createElement("td",null,"Fields"),f.default.createElement("td",null,this.fields_to_duplicate.length," fields selected",f.default.createElement("br",null),f.default.createElement("button",{className:"btn btn-small btn-flat btn-primary",onClick:function(){return e.selecting_fields=!0},style:{marginTop:"5px"}},"Select fields"))),f.default.createElement("tr",null,f.default.createElement("td",null,"New project name"),f.default.createElement("td",null,f.default.createElement("input",{ref:function(t){return e.inputNode=t},type:"text",onChange:function(t){return e.options.name=t.target.value},className:"input-editable-cell new-project-name",value:this.options.name,style:{marginBottom:0}}))),f.default.createElement("tr",null,f.default.createElement("td",null,"New start date"),f.default.createElement("td",null,f.default.createElement(y.default,{popperContainer:O,dateFormat:"dd MMM yyyy",selected:(0,v.default)(this.options.new_start_date).toDate(),onSelect:function(t){e.options.new_start_date=t},className:"input-editable-cell",popoverTargetOffset:"0px -30px",style:{width:"30px"}}))))),f.default.createElement("div",{className:"duplicate-status"})))}},{key:"attributes",get:function(){return this.store.projects.selected.supplier,{Progress:["progress"],Tags:["tags"],Assignee:["assignee","user","users"],Milestone:["is_milestone"],Color:["color"],Dependencies:["dependent_of"],Notes:["notes"],"Estimated Hours":["estimated_hours"],"Estimated Cost":["estimated_cost"],"Actual Hours":["actual_hours"],"Actual Cost":["actual_cost"],Priority:["priority_user"],Risk:["risk"]}}}]),t}(),o=x(a.prototype,"options",[m.observable],{enumerable:!0,initializer:function(){return{name:"",new_start_date:"",original_start_date:"",origina_name:"",duplicating:!1,keep_assignees:!1,keep_progress:!1}}}),i=x(a.prototype,"fields_to_duplicate",[m.observable],{enumerable:!0,initializer:function(){return[]}}),s=x(a.prototype,"selecting_fields",[m.observable],{enumerable:!0,initializer:function(){return!1}}),x(a.prototype,"attributes",[m.computed],Object.getOwnPropertyDescriptor(a.prototype,"attributes"),a.prototype),r=a))||r;t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=window.location.href;return i.default.createElement(l.default,{width:"700",height:"400",title:"Share Group",closeButton:!0,store:this.store},i.default.createElement("div",null,i.default.createElement("p",null," Send the following URL to your colleagues. By clicking on it, the Project Group will be added to their accounts"),i.default.createElement("p",{style:{background:"#b0ecb0",padding:"5px",fontSize:"12px",border:"1px solid #27cc27",borderRadius:"3px"}},e)))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=h(s),c=n(6),u=n(3),d=h(n(13)),f=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),h(n(67))),p=h(n(94));function h(e){return e&&e.__esModule?e:{default:e}}var m,_,g,b,y,v=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.createWorkbook=i.createWorkbook.bind(i),i.handleChange=i.handleChange.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"freeTrialOver",value:function(){var e=this.store.uistate.userCreatedSince();return this.store.subscriptions.models.length>0||e>=this.store.uistate.free_trial_days}},{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"createWorkbook",value:function(e){var t=this;if(!this.freeTrialOver()||this.options.subscription){var n={name:this.options.workbook_name,owner:this.store.user.id};this.options.enabled=!1,this.options.loading=!0,this.store.workbooks.create(n).then((function(e){if(n.id=e.id,t.options.subscription&&"NEW"!=t.options.subscription){var r=t.store.subscriptions.get(t.options.subscription);r&&r.addWorkbook({id:n.id})}var a=new f.default(t.store,[],{workbook_id:e.id}),o=new p.default(t.store,[],{workbook_id:e.id}),i={name:"My project",workbook:{id:e.id,name:t.options.workbook_name},supplier:"standalone",flags:t.store.projects.model().default_flags()};o.create(i).then((function(e){i.id=e.id,t.store.projects.add([i]),t.store.projects.add([{name:"All Projects",supplier:"standalone",id:n.id,type:"group",subtype:"all",workbook:{name:n.name,id:n.id}}]),a.create({name:t.store.user.name,user_id:t.store.user.id,id:t.store.user.id,email:t.store.user.email,owner:!0}).then((function(){t.options.workbook_id=n.id,t.store.uistate.current_modal_options||(t.store.uistate.current_modal_options={}),t.store.uistate.current_modal_options.workbook_id=n.id,store.uistate.current_modal_options.new_modal="projects",t.store.uistate.current_modal="STANDALONE_EDIT",t.store.workbooks.get(n.id).select(),"NEW"==t.options.subscription&&(t.store.uistate.subscription_modal="UPGRADE_WORKBOOK_CREATE_SUBSCRIPTION")}))}))}))}else alert("Please select a subscription or create a new one")}},{key:"render",value:function(){var e=this,t=this.store.subscriptions.active();return l.default.createElement(d.default,{width:"500",height:"500",title:"Create Workbook",id:"",closeButton:!0,closeButtonName:"Cancel",successButton:!0,successButtonEnabled:this.options.enabled,successButtonLoading:this.options.loading,successButtonName:"Create",successButtonCallback:function(){return e.createWorkbook()},store:this.store},l.default.createElement("div",null,l.default.createElement("div",{className:"one-column-fields workbook-edit-section"},l.default.createElement("div",{className:"workbook-config"},l.default.createElement("b",null,"Workbook Name"),l.default.createElement("input",{autoFocus:!0,placeholder:"Workbook name...",type:"text",name:"workbook_name",className:"input-editable-cell "+(this.options.send&&!this.options.workbook_name?"input-required":""),onChange:this.handleChange})),this.freeTrialOver()&&l.default.createElement("div",{className:"workbook-config",style:{marginTop:"20px"}},l.default.createElement("b",null,"Subscription plan"),l.default.createElement("select",{name:"subscription",onChange:function(t){return e.options.subscription=t.target.value},value:this.options.subscription,style:{marginTop:"10px"}},l.default.createElement("option",{value:!1},"Select a subscription"),t.map((function(e){return l.default.createElement("option",{value:e.id},e.name?e.name:"No name"," (owned by ",e.owner.name,")")})),l.default.createElement("option",{value:"NEW"},"+ New Subscription"))))))}}]),t}(),m=a.prototype,_="options",g=[u.observable],b={enumerable:!0,initializer:function(){return{workbook_name:"",workbook_id:"",send:!1,enabled:!0,loading:!1,subscription:!1}}},y={},Object.keys(b).forEach((function(e){y[e]=b[e]})),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),void 0===(y=g.slice().reverse().reduce((function(e,t){return t(m,_,e)||e}),y)).initializer&&(Object.defineProperty(m,_,y),y=null),o=y,r=a))||r;t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),d=k(u),f=n(6),p=n(3),h=k(n(13)),m=k(n(850)),_=k(n(851)),g=k(n(852)),b=k(n(853)),y=k(n(67)),v=k(n(94)),A=k(n(272)),w=k(n(271));function k(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function x(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var O=(0,f.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return E(n,"options",o,n),E(n,"loaded",i,n),E(n,"is_owner",s,n),E(n,"is_admin",l,n),n.store=n.props.store,n.options.workbook_id=store.uistate.current_modal_options.workbook_id,n.workbook=n.store.workbooks.get(store.uistate.current_modal_options.workbook_id),n.options.workbook_name=n.workbook.name,n.options.is_new=store.uistate.current_modal_options.new_modal,n.workbook_projects=new v.default(n.store,[],{workbook_id:n.options.workbook_id}),n.workbook_resources=new y.default(n.store,[],{workbook_id:n.options.workbook_id}),n.workbook_tags=new A.default(n.store,[],{workbook_id:n.options.workbook_id}),n.workbook_timeoff=new w.default(n.store,[],{workbook_id:n.options.workbook_id}),n.handleWorkbookName=n.handleWorkbookName.bind(n),n.workbook_resources.fetch().then((function(){n.loaded=!0,n.is_owner=n.workbook_resources.models.filter((function(e){return(e.email==n.store.user.email||e.email==n.store.user.email+" ")&&e.owner})).length>0,n.is_admin=n.workbook_resources.models.filter((function(e){return(e.email==n.store.user.email||e.email==n.store.user.email+" ")&&e.admin})).length>0})),n.workbook_tags.fetch(),n.workbook_timeoff.fetch(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"handleWorkbookName",value:function(e){if(27!=e.keyCode)return 13==e.keyCode?(this.workbook.save({name:this.options.workbook_name}),void(this.options.name_editing=!1)):void(this.options.workbook_name=e.target.value);this.options.name_editing=!1}},{key:"renderWorkbookTitle",value:function(){var e=this;return d.default.createElement("div",null,!this.options.name_editing&&d.default.createElement("div",{style:{height:"28px"},className:"cell cell-editable",onClick:function(){return e.options.name_editing=!0}},"Workbook: ",this.options.workbook_name," ",d.default.createElement("i",{className:"fas fa-pencil-alt",style:{fontSize:"12px"}})),this.options.name_editing&&d.default.createElement("input",{type:"text",className:"input-editable-cell",onKeyUp:this.handleWorkbookName,onChange:this.handleWorkbookName,value:this.options.workbook_name,autoFocus:!0}),this.workbook.archived&&d.default.createElement("span",{className:"label label-warning",style:{padding:"5px 15px",marginLeft:"12px",fontWeight:"normal"}},"Archived"),d.default.createElement("div",{className:"clearfix"}))}},{key:"archiveWorkbook",value:function(){1!=this.store.workbooks.models.filter((function(e){return!e.archived})).length?confirm("Are you sure you want to delete this workbook? It can't be recovered and will be permanently deleted")&&(this.workbook.archive(),this.workbook.save()):alert("You can't archive the only existing workbook. Please create a new one first")}},{key:"settings",value:function(){this.store.uistate.current_modal_options={only_workbook:!0},this.store.uistate.current_modal="WORKING_DAYS"}},{key:"render",value:function(){var e=this,t="active show in",n="";return this.store.uistate.current_modal_options.active_view&&"members"==this.store.uistate.current_modal_options.active_view&&(t="",n="active show in"),d.default.createElement("div",null,d.default.createElement(h.default,{width:"600",height:"500",title:this.renderWorkbookTitle(),id:"",closeButton:!0,successButton:!1,store:this.store},d.default.createElement("div",null,d.default.createElement("div",{className:"navigation-container"},d.default.createElement("ul",{className:"nav nav-tabs",id:"edit-workbook",role:"tablist"},d.default.createElement("li",{className:["nav-item",t].join(" ")},d.default.createElement("a",{className:"nav-link active",id:"projects-tab","data-toggle":"tab",href:"#projects",role:"tab","aria-controls":"projects","aria-selected":"true"},"Projects")),d.default.createElement("li",{className:["nav-item",n].join(" ")},d.default.createElement("a",{className:"nav-link",id:"members-tab","data-toggle":"tab",href:"#members",role:"tab","aria-controls":"members","aria-selected":"false"},"Members")),d.default.createElement("li",{className:["nav-item"].join(" ")},d.default.createElement("a",{className:"nav-link",id:"resources-tab","data-toggle":"tab",href:"#resources",role:"tab","aria-controls":"resources","aria-selected":"false"},"Resources")),d.default.createElement("li",{className:["nav-item"].join(" ")},d.default.createElement("a",{className:"nav-link",id:"tags-tab","data-toggle":"tab",href:"#tags",role:"tab","aria-controls":"resources","aria-selected":"false"},"Tags")),d.default.createElement("li",{className:["nav-item"].join(" ")},d.default.createElement("a",{className:"nav-link",id:"timeoff-tab","data-toggle":"tab",href:"#timeoff",role:"tab","aria-controls":"resources","aria-selected":"false"},"Time off")),this.is_owner&&d.default.createElement("li",{className:["nav-item"].join(" ")},d.default.createElement("a",{className:"nav-link",id:"settings-tab","data-toggle":"tab",href:"#settings",role:"tab","aria-controls":"settings","aria-selected":"false"},"Settings"))),d.default.createElement("div",{className:"tab-content",id:"edit-workbook-content"},d.default.createElement("div",{className:["tab-pane fade",t].join(" "),id:"projects",role:"tabpanel","aria-labelledby":"projects-tab"},d.default.createElement(b.default,{store:this.store,ref:function(t){e._project_instance=t},workbook:this.workbook,projects:this.workbook_projects})),d.default.createElement("div",{className:["tab-pane fade",n].join(" "),id:"members",role:"tabpanel","aria-labelledby":"members-tab"},d.default.createElement(m.default,{type:"members",store:this.store,ref:function(t){e._members_instance=t},workbook:this.workbook,resources:this.workbook_resources,is_owner:this.is_owner,is_admin:this.is_admin,loaded:this.loaded})),d.default.createElement("div",{className:["tab-pane fade"].join(" "),id:"resources",role:"tabpanel","aria-labelledby":"resources-tab"},d.default.createElement(m.default,{type:"resources",store:this.store,ref:function(t){e._resources_instance=t},workbook:this.workbook,resources:this.workbook_resources,is_owner:this.is_owner,is_admin:this.is_admin,loaded:this.loaded})),d.default.createElement("div",{className:["tab-pane fade"].join(" "),id:"tags",role:"tabpanel","aria-labelledby":"resources-tab"},d.default.createElement(_.default,{store:this.store,workbook:this.workbook,tags:this.workbook_tags})),d.default.createElement("div",{className:["tab-pane fade"].join(" "),id:"timeoff",role:"tabpanel","aria-labelledby":"resources-tab"},d.default.createElement(g.default,{store:this.store,workbook:this.workbook,dates:this.workbook_timeoff,resources:this.workbook_resources,loaded:this.loaded})),d.default.createElement("div",{className:["tab-pane fade"].join(" "),id:"settings",role:"tabpanel","aria-labelledby":"settings-tab"},d.default.createElement("div",null,d.default.createElement("table",{className:"table"},d.default.createElement("tr",null,d.default.createElement("td",{style:{}},"Working days"),d.default.createElement("td",{style:{textAlign:"right",width:"180px"}},d.default.createElement("a",{onClick:function(){return e.settings()},href:"javascript:void(0)",className:"btn btn-flat btn-small"},d.default.createElement("i",{className:"fas fa-pen-square"})," Configure"))),d.default.createElement("tr",null,d.default.createElement("td",{style:{}},"Currency Symbol"),d.default.createElement("td",{style:{textAlign:"right",width:"180px"}},d.default.createElement("a",{onClick:function(){return e.settings()},href:"javascript:void(0)",className:"btn btn-flat btn-small"},d.default.createElement("i",{className:"fas fa-pen-square"})," Configure"))),d.default.createElement("tr",null,d.default.createElement("td",{style:{}},"Rate per member per hour ($/hr)"),d.default.createElement("td",{style:{textAlign:"right",width:"180px"}},d.default.createElement("a",{onClick:function(){return e.settings()},href:"javascript:void(0)",className:"btn btn-flat btn-small"},d.default.createElement("i",{className:"fas fa-pen-square"})," Configure"))),this.is_owner&&d.default.createElement("tr",null,d.default.createElement("td",null,"Archive Workbook ",d.default.createElement("span",null,"(Be careful, it can't be recovered)")),d.default.createElement("td",{style:{textAlign:"right",width:"180px"}},d.default.createElement("a",{className:"btn btn-danger btn-flat btn-small",onClick:function(){return e.archiveWorkbook()}},"Archive")))))))))))}}]),t}(),o=x(a.prototype,"options",[p.observable],{enumerable:!0,initializer:function(){return{workbook_name:"",workbook_id:"",resources:[],projects:[],send:!1,loaded:!1,name_editing:!1}}}),i=x(a.prototype,"loaded",[p.observable],{enumerable:!0,initializer:function(){return!1}}),s=x(a.prototype,"is_owner",[p.observable],{enumerable:!0,initializer:function(){return!1}}),l=x(a.prototype,"is_admin",[p.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f,p,h,m,_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(0),b=(m=g)&&m.__esModule?m:{default:m},y=n(6),v=n(3);function A(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var k=(0,y.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return A(n,"options",o,n),A(n,"loaded",i,n),A(n,"upgrade_screen",s,n),A(n,"cant_upgrade_screen",l,n),A(n,"creating",c,n),A(n,"upgrading",u,n),A(n,"editing_permission",d,n),A(n,"new_member_admin",f,n),A(n,"edit_resource_name_id",p,n),A(n,"edit_resource_name_value",h,n),n.limitNumber=150,n.type=n.props.type,n.store=n.props.store,n.resources=n.props.resources,n.workbook=n.props.workbook,n.removeResource=n.removeResource.bind(n),n._handleKeyPress=n._handleKeyPress.bind(n),n.options.send=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g.Component),_(t,[{key:"validateEmail",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"sanitize",value:function(e){return e.replace(/&/g,"and").replace(/</g,"").replace(/"/g,"")}},{key:"reachLimit",value:function(){return this.resources.members.length>this.limitNumber}},{key:"addMember",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.upgrading=!0,""!=this.options.email&&""!=this.options.name){var n={name:this.sanitize(this.options.name),email:this.options.email};if(this.resources.inUse(this.options.email).length>0)alert("E-mail already in use");else if(this.validateEmail(n.email))if(this.reachLimit())alert("You can't have more than "+this.limitNumber+" members");else if(0==this.resources.findByName(n.name).length){var r=this.store.subscriptions.getByWorkbook(this.workbook);if(r&&r.missingMembers({},[n]).length>0)if(r.available_licenses()>0)this.creating=!0,r.addMembers([n]).then((function(t){console.log("Adding member to the subscription"),e.new_member_admin&&(n.admin=!0),e.resources.create(n).then((function(){e.creating=!1,e.options.name="",e.options.email="",jQuery("#new-member-name").val(""),jQuery("#new-member-email").val(""),e.store.users?e.store.users.fetch().then((function(){e.upgrading=!1})):e.upgrading=!1}))})).catch((function(t){alert("An error ocurred. Please contact our support team"),e.upgrading=!1}));else if(t)this.creating=!0,r.changeQuantity(r.max_users+1).then((function(t){r.addMembers([n]).then((function(t){e.new_member_admin&&(n.admin=!0),e.resources.create(n).then((function(){e.store.subscriptions.fetch(),e.creating=!1,e.options.name="",e.options.email="",jQuery("#new-member-name").val(""),jQuery("#new-member-email").val(""),e.upgrade_screen=!1,e.store.users?e.store.users.fetch().then((function(){e.upgrading=!1})):e.upgrading=!1}))})).catch((function(t){alert("An error ocurred. Please contact our support team"),e.upgrading=!1}))})).catch((function(t){alert("An error ocurred. Please contact our support team"),e.upgrading=!1}));else{if(r.canAddMembers(this.store.user,this.resources.members.filter((function(e){return e.owner||e.admin}))))return this.upgrade_screen=!0,void(this.upgrading=!1);if(r.owner._id==this.store.user.id)return this.upgrade_screen=!0,void(this.upgrading=!1);if(r.owner._id!=this.store.user.id)return this.options.name="",this.options.email="",this.cant_upgrade_screen=!0,void(this.upgrading=!1)}else this.options.name="",this.options.email="",this.creating=!0,this.new_member_admin&&(n.admin=!0),this.resources.create(n).then((function(){e.creating=!1,jQuery("#new-member-name").val(""),jQuery("#new-member-email").val(""),e.store.users?e.store.users.fetch().then((function(){e.upgrading=!1})):e.upgrading=!1}))}else alert("Name already exists");else alert("Invalid e-mail")}else alert("E-mail can't be blank")}},{key:"addResource",value:function(){var e=this;if(""!=this.options.name){var t={name:this.options.name};0==this.resources.findByName(t.name).length?(this.options.name="",this.resources.resources.filter((function(e){return e.name==t.name})).length>0?alert("Resource already exists"):this.resources.create(t).then((function(){jQuery("#new-member-name").val(""),jQuery("#new-member-email").val(""),e.store.users&&e.store.users.fetch()}))):alert("Name already exists")}else alert("Name can't be blank")}},{key:"_handleKeyPress",value:function(e){"Enter"===e.key&&this.addResource()}},{key:"removeResource",value:function(e){confirm("Are you sure you want to remove this user/resource from this workbook?")&&e.destroy()}},{key:"render_upgrade_screen",value:function(){var e=this,t=this.store.subscriptions.getByWorkbook(this.workbook),n="month"==t.frequency?"Month":"Year",r=t.price/t.max_users;return b.default.createElement("div",null,b.default.createElement("div",{className:"one-column-fields workbook-edit-section"},b.default.createElement("div",{className:"workbook-config"},b.default.createElement("h3",{style:{marginTop:0,fontWeight:"bold !important"}},"You need to add one more license to your subscription"),!this.upgrading&&b.default.createElement("div",null,b.default.createElement("p",null,"Your subscription doesn't have available licenses to assign to this new user."),b.default.createElement("p",null,"Would you like to add an extra license? The cost will increase in $",r," per ",n),b.default.createElement("p",null)),b.default.createElement("button",{disabled:!!this.creating,className:"btn btn-flat btn-success",onClick:function(){e.addMember(!0)}},this.creating?b.default.createElement("i",{className:"fa fa-spin fa-spinner"}):"Proceed"))))}},{key:"render_cant_upgrade_screen",value:function(){var e=this,t=this.store.subscriptions.getByWorkbook(this.workbook);return b.default.createElement("div",null,b.default.createElement("div",{className:"one-column-fields workbook-edit-section"},b.default.createElement("div",{className:"workbook-config"},b.default.createElement("h3",{style:{marginTop:0,fontWeight:"bold !important"}},"Your subscription doesn't have available licenses. Please contact your administrator (",t.owner.name,")"),b.default.createElement("p",null,b.default.createElement("strong",null,"Why can't I do it by myself?")),b.default.createElement("p",null,"You can't change it because it will increase the subscription cost."),b.default.createElement("p",null,"Please tell your administrator to add this user's e-mail address to the subscription list."),b.default.createElement("p",null,b.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){return e.cant_upgrade_screen=!1}},"Go Back")))))}},{key:"editResourceName",value:function(e){this.edit_resource_name_id=e.id,this.edit_resource_name_value=e.name}},{key:"closeEditResourceName",value:function(e){this.edit_resource_name_id=!1,this.edit_resource_name_value=""}},{key:"saveResourceName",value:function(e){var t=this.edit_resource_name_value;""!=t.trim()?(e.save({name:t}),this.edit_resource_name_value="",this.edit_resource_name_id=!1):alert("Name can't be empty")}},{key:"render",value:function(){var e=this;return this.upgrade_screen?this.render_upgrade_screen():this.cant_upgrade_screen?this.render_cant_upgrade_screen():this.props.loaded?b.default.createElement("div",{className:"member_list"},!this.props.is_owner&&!this.props.is_admin&&"members"==this.type&&b.default.createElement("div",null,"Only workbook owners can edit the members list"),(this.props.is_owner||this.props.is_admin||!this.props.is_owner&&!this.props.is_admin&&"resources"==this.type)&&b.default.createElement("div",null,b.default.createElement("div",{className:"one-column-fields workbook-edit-section"},b.default.createElement("div",{className:"workbook-config"},"members"==this.type&&b.default.createElement("div",{style:{display:"flex",flexGrow:1}},b.default.createElement("input",{id:"new-member-name",placeholder:"User name",type:"text",name:"member_name",className:"input-editable-cell "+(this.options.send&&!this.options.member_name?"input-required":""),onChange:function(t){return e.options.name=t.target.value},value:this.options.name,onKeyPress:function(t){return e._handleKeyPress(t)}}),b.default.createElement("input",{id:"new-member-email",placeholder:"User email (required)",type:"text",name:"member_email",className:"input-editable-cell "+(this.options.send&&!this.options.member_email?"input-required":""),onChange:function(t){return e.options.email=t.target.value},value:this.options.email,onKeyPress:function(t){return e._handleKeyPress(t)}}),b.default.createElement("select",{className:"new_member_rights",value:this.new_member_admin,onChange:function(t){!0===t.target.value||"true"===t.target.value?e.new_member_admin=!0:e.new_member_admin=!1}},b.default.createElement("option",{value:!1},"User level"),b.default.createElement("option",{value:!0},"Admin level")),b.default.createElement("button",{disabled:!!this.creating,style:{height:"30px"},className:"btn btn-info btn-flat",onClick:function(){return e.addMember()}},this.creating?b.default.createElement("i",{className:"fa fa-spin fa-spinner"}):"Create")),"resources"==this.type&&b.default.createElement("div",{style:{display:"flex",flexGrow:1}},b.default.createElement("input",{id:"new-member-name",placeholder:"Resource name",type:"text",name:"member_name",className:"input-editable-cell grow"+(this.options.send&&!this.options.member_name?"input-required":""),onChange:function(t){return e.options.name=t.target.value},value:this.options.name,onKeyPress:function(t){return e._handleKeyPress(t)}}),b.default.createElement("button",{className:"btn btn-info-bordered btn-info btn-flat",onClick:function(){return e.addResource()}},"Create")))),b.default.createElement("div",null,b.default.createElement("table",{className:"table",style:{fontSize:"12px"}},"members"==this.type&&b.default.createElement("thead",null,b.default.createElement("th",null,"Name"),b.default.createElement("th",null,"E-Mail"),b.default.createElement("th",{style:{textAlign:"right"}},"Actions")),"resources"==this.type&&b.default.createElement("thead",null,b.default.createElement("th",null,"Name"),b.default.createElement("th",{style:{textAlign:"right"}},"Actions")),"members"==this.type&&this.resources.members.map((function(t,n){return b.default.createElement("tr",null,b.default.createElement("td",{style:{width:"35%"}},e.edit_resource_name_id==t.id&&b.default.createElement("div",null,b.default.createElement("input",{type:"text",value:e.edit_resource_name_value,onChange:function(t){return e.edit_resource_name_value=t.target.value},style:{marginBottom:"10px",width:"160px"}})," ",b.default.createElement("button",{className:"btn btn-flat btn-success",onClick:function(){return e.saveResourceName(t)}},"Save")," ",b.default.createElement("button",{className:"btn btn-flat ",onClick:function(){return e.closeEditResourceName(t)}},"Dismiss")),e.edit_resource_name_id!=t.id&&b.default.createElement("span",null,t.name," ",b.default.createElement("a",{href:"javascript:void(0)"},b.default.createElement("i",{className:"fa fa-pen",onClick:function(){return e.editResourceName(t)},style:{cursor:"pointer"}})))),b.default.createElement("td",{style:{width:"35%"}},t.email),b.default.createElement("td",{style:{width:"30%",textAlign:"right"}},e.editing_permission==t.id&&b.default.createElement("select",{style:{margin:0,fontSize:"12px",width:"90px"},value:t.admin,onChange:function(n){t.save({admin:!(!n.target.value||!0!==n.target.value&&"true"!==n.target.value)}),e.editing_permission=!1}},b.default.createElement("option",{value:!1},"User level"),b.default.createElement("option",{value:!0},"Admin level")),e.editing_permission!=t.id&&!t.owner&&b.default.createElement("button",{href:"javascript:void(0)",className:"btn-small btn btn-flat",onClick:function(){return e.editing_permission=t.id}},b.default.createElement("span",null,t.admin?"Admin level":"User level","   ",b.default.createElement("i",{className:"fa fa-pen",onClick:function(){return e.editPermissions(t)}}))),!t.owner&&b.default.createElement("span",null,"  ",b.default.createElement("button",{href:"javascript:void(0)",className:"btn-small btn btn-flat btn-danger"},b.default.createElement("i",{className:"fa fa-trash",onClick:function(){return e.removeResource(t)}})))))})),"resources"==this.type&&this.resources.resources.map((function(t,n){if(!t.owner)return b.default.createElement("tr",null,b.default.createElement("td",{style:{width:"35%"}},e.edit_resource_name_id==t.id&&b.default.createElement("div",null,b.default.createElement("input",{type:"text",value:e.edit_resource_name_value,onChange:function(t){return e.edit_resource_name_value=t.target.value},style:{marginBottom:0}})," ",b.default.createElement("button",{className:"btn btn-flat btn-success",onClick:function(){return e.saveResourceName(t)}},"Save")," ",b.default.createElement("button",{className:"btn btn-flat ",onClick:function(){return e.closeEditResourceName(t)}},"Dismiss")),e.edit_resource_name_id!=t.id&&b.default.createElement("span",null,t.name)),b.default.createElement("td",{style:{width:"20%",textAlign:"right"}},b.default.createElement("button",{href:"javascript:void(0)",className:"btn-flat btn",onClick:function(){return e.editResourceName(t)}},b.default.createElement("i",{className:"fa fa-pen"}))," ",b.default.createElement("button",{href:"javascript:void(0)",className:"btn-flat btn btn-danger",onClick:function(){return e.removeResource(t)}},b.default.createElement("i",{className:"fa fa-trash",style:{color:"#ffffff"}}))))})))))):b.default.createElement("div",{className:"member_list"},b.default.createElement("p",{style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/gears.gif"})))}}]),t}(),o=w(a.prototype,"options",[v.observable],{enumerable:!0,initializer:function(){return{loaded:!1,name:"",email:""}}}),i=w(a.prototype,"loaded",[v.observable],{enumerable:!0,initializer:function(){return!0}}),s=w(a.prototype,"upgrade_screen",[v.observable],{enumerable:!0,initializer:function(){return!1}}),l=w(a.prototype,"cant_upgrade_screen",[v.observable],{enumerable:!0,initializer:function(){return!1}}),c=w(a.prototype,"creating",[v.observable],{enumerable:!0,initializer:function(){return!1}}),u=w(a.prototype,"upgrading",[v.observable],{enumerable:!0,initializer:function(){return!1}}),d=w(a.prototype,"editing_permission",[v.observable],{enumerable:!0,initializer:function(){return!1}}),f=w(a.prototype,"new_member_admin",[v.observable],{enumerable:!0,initializer:function(){return!1}}),p=w(a.prototype,"edit_resource_name_id",[v.observable],{enumerable:!0,initializer:function(){return!1}}),h=w(a.prototype,"edit_resource_name_value",[v.observable],{enumerable:!0,initializer:function(){return""}}),r=a))||r;t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),p=(u=f)&&u.__esModule?u:{default:u},h=n(6),m=n(3);function _(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function g(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var b=(0,h.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return _(n,"options",o,n),_(n,"loaded",i,n),_(n,"creating",s,n),_(n,"edit_tag_id",l,n),_(n,"edit_tag_value",c,n),n.type=n.props.type,n.store=n.props.store,n.tags=n.props.tags,n.removeTag=n.removeTag.bind(n),n._handleKeyPress=n._handleKeyPress.bind(n),n.options.send=!1,n.tags.fetch().then((function(){return n.loaded=!0})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),d(t,[{key:"validateEmail",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"sanitize",value:function(e){return e.replace(/&/g,"and").replace(/</g,"").replace(/"/g,"")}},{key:"reachLimit",value:function(){return this.resources.members.length>this.limitNumber}},{key:"addMember",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.upgrading=!0,""!=this.options.email&&""!=this.options.name){var n={name:this.sanitize(this.options.name),email:this.options.email};if(this.resources.inUse(this.options.email).length>0)alert("E-mail already in use");else if(this.validateEmail(n.email))if(this.reachLimit())alert("You can't have more than "+this.limitNumber+" members");else{var r=this.store.subscriptions.getByWorkbook(this.workbook);if(r&&r.missingMembers({},[n]).length>0)if(r.available_licenses()>0)this.creating=!0,r.addMembers([n]).then((function(t){console.log("Adding member to the subscription"),e.new_member_admin&&(n.admin=!0),e.resources.create(n).then((function(){e.creating=!1,e.options.name="",e.options.email="",jQuery("#new-member-name").val(""),jQuery("#new-member-email").val(""),e.store.users?e.store.users.fetch().then((function(){e.upgrading=!1})):e.upgrading=!1}))})).catch((function(t){alert("An error ocurred. Please contact our support team"),e.upgrading=!1}));else if(t)this.creating=!0,r.changeQuantity(r.max_users+1).then((function(t){r.addMembers([n]).then((function(t){e.new_member_admin&&(n.admin=!0),e.resources.create(n).then((function(){e.store.subscriptions.fetch(),e.creating=!1,e.options.name="",e.options.email="",jQuery("#new-member-name").val(""),jQuery("#new-member-email").val(""),e.upgrade_screen=!1,e.store.users?e.store.users.fetch().then((function(){e.upgrading=!1})):e.upgrading=!1}))})).catch((function(t){alert("An error ocurred. Please contact our support team"),e.upgrading=!1}))})).catch((function(t){alert("An error ocurred. Please contact our support team"),e.upgrading=!1}));else{if(r.canAddMembers(this.store.user,this.resources.members.filter((function(e){return e.owner||e.admin}))))return this.upgrade_screen=!0,void(this.upgrading=!1);if(r.owner._id==this.store.user.id)return this.upgrade_screen=!0,void(this.upgrading=!1);if(r.owner._id!=this.store.user.id)return this.options.name="",this.options.email="",this.cant_upgrade_screen=!0,void(this.upgrading=!1)}else this.options.name="",this.options.email="",this.creating=!0,this.new_member_admin&&(n.admin=!0),this.resources.create(n).then((function(){e.creating=!1,jQuery("#new-member-name").val(""),jQuery("#new-member-email").val(""),e.store.users?e.store.users.fetch().then((function(){e.upgrading=!1})):e.upgrading=!1}))}else alert("Invalid e-mail")}else alert("E-mail can't be blank")}},{key:"addTag",value:function(){if(""!=this.options.name){var e={name:this.options.name};this.options.name="",this.tags.filtered.filter((function(t){return t.name.toLowerCase()==e.name.toLowerCase()})).length>0?alert("Tag already exists"):this.tags.create(e).then((function(){jQuery("#new-tag-name").val("")}))}else alert("Name can't be blank")}},{key:"_handleKeyPress",value:function(e){"Enter"===e.key&&this.addTag()}},{key:"removeTag",value:function(e){confirm("Are you sure you want to remove this tag from this workbook?")&&e.destroy()}},{key:"editTagName",value:function(e){this.edit_tag_id=e.id,this.edit_tag_value=e.name}},{key:"closeEditTagName",value:function(e){this.edit_tag_id=!1,this.edit_tag_value=""}},{key:"saveTagName",value:function(e){var t=this.edit_tag_value;""!=t.trim()?(e.save({name:t}),this.edit_tag_value="",this.edit_tag_id=!1):alert("Name can't be empty")}},{key:"render",value:function(){var e=this;return this.loaded?p.default.createElement("div",{className:"tags_list"},p.default.createElement("div",null,p.default.createElement("div",{className:"one-column-fields workbook-edit-section"},p.default.createElement("div",{className:"workbook-config"},p.default.createElement("div",{style:{display:"flex",flexGrow:1}},p.default.createElement("input",{id:"new-tag-name",placeholder:"Tag name",type:"text",name:"tag_name",className:"input-editable-cell grow"+(this.options.send&&!this.options.member_name?"input-required":""),onChange:function(t){return e.options.name=t.target.value},value:this.options.name,onKeyPress:function(t){return e._handleKeyPress(t)}}),p.default.createElement("button",{className:"btn btn-info-bordered btn-info btn-flat",onClick:function(){return e.addTag()}},"Create")))),p.default.createElement("div",null,p.default.createElement("table",{className:"table",style:{fontSize:"12px"}},p.default.createElement("thead",null,p.default.createElement("th",null,"Name"),p.default.createElement("th",{style:{textAlign:"right"}},"Actions")),this.tags.filtered.map((function(t,n){return p.default.createElement("tr",null,p.default.createElement("td",{style:{width:"35%"}},e.edit_tag_id==t.id&&p.default.createElement("div",null,p.default.createElement("input",{type:"text",value:e.edit_tag_value,onChange:function(t){return e.edit_tag_value=t.target.value},style:{marginBottom:0}})," ",p.default.createElement("button",{className:"btn btn-flat btn-success",onClick:function(){return e.saveTagName(t)}},"Save")," ",p.default.createElement("button",{className:"btn btn-flat ",onClick:function(){return e.closeEditTagName(t)}},"Dismiss")),e.edit_tag_id!=t.id&&p.default.createElement("span",null,t.name)),p.default.createElement("td",{style:{width:"20%",textAlign:"right"}},p.default.createElement("button",{href:"javascript:void(0)",className:"btn-flat btn",onClick:function(){return e.editTagName(t)}},p.default.createElement("i",{className:"fa fa-pen"}))," ",p.default.createElement("button",{href:"javascript:void(0)",className:"btn-flat btn btn-danger",onClick:function(){return e.removeTag(t)}},p.default.createElement("i",{className:"fa fa-trash",style:{color:"#ffffff"}}))))})))))):p.default.createElement("div",{className:"member_list"},p.default.createElement("p",{style:{textAlign:"center"}},p.default.createElement("img",{src:"/img/gears.gif"})))}}]),t}(),o=g(a.prototype,"options",[m.observable],{enumerable:!0,initializer:function(){return{loaded:!1,name:"",email:""}}}),i=g(a.prototype,"loaded",[m.observable],{enumerable:!0,initializer:function(){return!1}}),s=g(a.prototype,"creating",[m.observable],{enumerable:!0,initializer:function(){return!1}}),l=g(a.prototype,"edit_tag_id",[m.observable],{enumerable:!0,initializer:function(){return!1}}),c=g(a.prototype,"edit_tag_value",[m.observable],{enumerable:!0,initializer:function(){return""}}),r=a))||r;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=p(s),c=n(6),u=n(3),d=p(n(398)),f=p(n(30));function p(e){return e&&e.__esModule?e:{default:e}}var h,m,_,g,b,y=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.type=i.props.type,i.store=i.props.store,i.dates=i.props.dates,i.resources=i.props.resources,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"addTimeOff",value:function(){this.options.add_timeoff_modal=!0}},{key:"editHoliday",value:function(e){this.options.editing_holiday=e.id}},{key:"cancelEdit",value:function(){this.options.editing_holiday=!1}},{key:"saveHoliday",value:function(e){e.save(),this.cancelEdit()}},{key:"removeHoliday",value:function(e){confirm("Are you sure you want to delete this holiday?")&&e.destroy()}},{key:"sorted",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return-1!=[1,-1].indexOf(e)&&function(t,n){return t&&n&&t.start<n.start?-1*e:t&&n&&t.start>n.start?e:0}}},{key:"renderRow",value:function(e){var t=this;return this.options.editing_holiday&&this.options.editing_holiday==e.id?l.default.createElement("tr",{key:e.id},l.default.createElement("td",{colspan:4},l.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.default.createElement("div",null,l.default.createElement("input",{type:"date",value:e.start,onChange:function(t){return e.start=t.target.value}})),l.default.createElement("div",null,"to"),l.default.createElement("div",null,l.default.createElement("input",{type:"date",value:e.end,onChange:function(t){return e.end=t.target.value}})),l.default.createElement("div",null,l.default.createElement("button",{href:"javascript:void(0)",className:"btn-flat btn btn-success",onClick:function(){return t.saveHoliday(e)}},"Save")," ",l.default.createElement("button",{href:"javascript:void(0)",className:"btn-flat btn",onClick:function(){return t.cancelEdit()}},"Cancel"))))):l.default.createElement("tr",{key:e.id},l.default.createElement("td",{style:{width:"25%"}},e.name),l.default.createElement("td",{style:{width:"25%"}},(this.resources.get(e.user_id)||{name:""}).name),l.default.createElement("td",{style:{width:"25%"}},(0,f.default)(e.start).format("MMM DD, YYYY")," to ",(0,f.default)(e.end).format("MMM DD, YYYY")),l.default.createElement("td",{style:{width:"20%",textAlign:"right"}},l.default.createElement("button",{href:"javascript:void(0)",className:"btn-flat btn",onClick:function(){return t.editHoliday(e)}},l.default.createElement("i",{className:"fa fa-pen"}))," ",l.default.createElement("button",{href:"javascript:void(0)",className:"btn-flat btn btn-danger",onClick:function(){return t.removeHoliday(e)}},l.default.createElement("i",{className:"fa fa-trash",style:{color:"#ffffff"}}))))}},{key:"render",value:function(){var e=this;return this.props.loaded?l.default.createElement("div",{className:"timeoff_list"},l.default.createElement("div",null,l.default.createElement("div",{className:"one-column-fields workbook-edit-section"},l.default.createElement("div",{className:"workbook-config"},l.default.createElement("div",{style:{display:"flex",alignItems:"right"}},l.default.createElement("button",{className:"btn btn-info-bordered btn-info btn-flat",onClick:function(){return e.addTimeOff()}},"Add User Time Off"))),this.options.add_timeoff_modal&&l.default.createElement(d.default,{dates_collection:this.dates,users_collection:this.resources,workbook_id:this.store.workbooks.selected.id,is_holiday:1,store:this.store,user_picker:!0,embedded:!0,onClose:function(){return e.options.add_timeoff_modal=!1}})),l.default.createElement("div",null,l.default.createElement("table",{className:"table",style:{fontSize:"12px"}},l.default.createElement("thead",null,l.default.createElement("th",null,"Description"),l.default.createElement("th",null,"User"),l.default.createElement("th",null,"Dates"),l.default.createElement("th",{style:{textAlign:"right"}},"Actions")),l.default.createElement("tr",null,l.default.createElement("td",{colspan:4},l.default.createElement("b",null,"Upcoming"))),this.dates.filtered_assigned_total_upcoming.sort(this.sorted()).map((function(t,n){return e.renderRow(t)})),0==this.dates.filtered_assigned_total_upcoming.length&&l.default.createElement("tr",null,l.default.createElement("td",{colspan:4},"No upcoming time off")),l.default.createElement("tr",null,l.default.createElement("td",{colspan:4},l.default.createElement("b",null,"Past"))),this.dates.filtered_assigned_total_past.sort(this.sorted(-1)).map((function(t,n){return e.renderRow(t)})),0==this.dates.filtered_assigned_total_past.length&&l.default.createElement("tr",null,l.default.createElement("td",{colspan:4},"No past time off")))))):l.default.createElement("div",{className:""},l.default.createElement("p",{style:{textAlign:"center"}},l.default.createElement("img",{src:"/img/gears.gif"})))}}]),t}(),h=a.prototype,m="options",_=[u.observable],g={enumerable:!0,initializer:function(){return{loaded:!1,name:"",email:"",add_timeoff_modal:!1,editing_holiday:!1}}},b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),void 0===(b=_.slice().reverse().reduce((function(e,t){return t(h,m,e)||e}),b)).initializer&&(Object.defineProperty(h,m,b),b=null),o=b,r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=h(c),d=n(6),f=n(3),p=h(n(854));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"archived",o,n),m(n,"options",i,n),m(n,"loaded",s,n),n.store=n.props.store,n.projects=n.props.projects,n.workbook=n.props.workbook,n.handleChange=n.handleChange.bind(n),n.save=n.save.bind(n),n.projects.fetch().then((function(){n.options.loaded=!0,n.loaded=!0})),window.pjs=n.projects,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"createProject",value:function(e){var t=this;this.options.send=!0;var n={name:this.options.project_name,workbook:{id:this.workbook.id,name:this.workbook.name},supplier:"standalone",flags:this.store.projects.model().default_flags()};this.props.projects.create(n).then((function(e){n.id=e.id,t.store.projects.add([n])}))}},{key:"save",value:function(e,t,n){var r=this;this.options.send=!0,t&&(e.name=t),n&&(e.archived=n),e.save().then((function(){r.store.projects.get(e.id).set({name:e.name,archived:e.archived})}))}},{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"handleProject",value:function(e){var t=parseInt(e.target.attributes["data-index"].value,10);this.props.projects[t][e.target.name]=e.target.value}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.createProject()}},{key:"restore",value:function(e){e.save({archived:!1}),this.store.projects.get(e.id).set({archived:!1})}},{key:"render",value:function(){var e=this;return this.loaded?u.default.createElement("div",{className:"project_list"},u.default.createElement("div",{className:"one-column-fields workbook-edit-section "+(this.props.opaque?"opaque":"")},u.default.createElement("div",{className:"workbook-config"},u.default.createElement("input",{id:"new-project-name",placeholder:"Project name...",type:"text",name:"project_name",className:"input-editable-cell grow"+(this.options.send&&!this.options.project_name?"input-required":""),onChange:this.handleChange,onKeyPress:function(t){return e.handleKeyPress(t)}}),u.default.createElement("button",{className:"btn btn-info-bordered btn-info btn-flat",onClick:function(){return e.createProject()}},"Create"))),this.props.projects.filtered.map((function(t,n){return u.default.createElement("div",{key:n,style:{marginBottom:"10px"},"data-id":t.id},u.default.createElement(p.default,{content:t.name,save:function(n){return e.save(t,n,!1)},archive:function(){return e.save(t,!1,!0)}}))})),this.options.show_archived&&this.props.projects.archived_projects.map((function(t,n){return u.default.createElement("div",{key:n,style:{marginBottom:"10px"},"data-id":t.id},u.default.createElement("div",{className:"pull-right"},u.default.createElement("button",{className:"btn btn-flat btn-success btn-small",onClick:function(){return e.restore(t)}},"Restore")),u.default.createElement("div",null,t.name))})),!this.options.show_archived&&this.props.projects.archived_projects.length>0&&u.default.createElement("div",null,u.default.createElement("a",{href:"javascript:void(0)",className:"",onClick:function(){return e.options.show_archived=!e.options.show_archived}},"Show archived projects"))):u.default.createElement("div",{className:"project_list"},u.default.createElement("p",{style:{textAlign:"center"}},u.default.createElement("img",{src:"/img/gears.gif"})))}}]),t}(),o=_(a.prototype,"archived",[f.observable],{enumerable:!0,initializer:function(){return[]}}),i=_(a.prototype,"options",[f.observable],{enumerable:!0,initializer:function(){return{loaded:!1,show_archived:!1}}}),s=_(a.prototype,"loaded",[f.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=(s=c)&&s.__esModule?s:{default:s},d=n(6),f=n(3),p=n(63);function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h(n,"editing",o,n),h(n,"content",i,n),n.content=n.props.content,n.handleChange=n.handleChange.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.delete=n.delete.bind(n),n.save=n.save.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"delete",value:function(e){confirm("Are you sure you want to archive this project? It can be restored later")&&(this.props.archive(),window.location.hash="")}},{key:"handleChange",value:function(e){this.content=e.target.value}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.save(),"Escape"===e.key&&(this.editing=!1)}},{key:"save",value:function(){this.editing=!1,this.props.save(this.content)}},{key:"render",value:function(){var e=this;return u.default.createElement("div",null,this.editing&&u.default.createElement("div",null,u.default.createElement("input",{type:"text",autoFocus:!0,className:"input-editable-cell",onKeyDown:this.handleKeyPress,onChange:this.handleChange,value:this.content})),!this.editing&&u.default.createElement("div",null,u.default.createElement("div",{className:"pull-right"},u.default.createElement(p.Tooltip,{arrow:!0,title:"Edit",position:"left",size:"small"},u.default.createElement("a",{href:"javascript:void(0)",className:"icon-container"},u.default.createElement("i",{className:"fas fa-edit",onClick:function(){return e.editing=!0}}))),u.default.createElement(p.Tooltip,{arrow:!0,title:"Archive Project",position:"left",size:"small"},u.default.createElement("a",{href:"javascript:void(0)",className:"icon-container"},u.default.createElement("i",{className:"fas fa-archive",onClick:this.delete})),"  ")),u.default.createElement("span",{onClick:function(){return e.editing=!0}},this.props.content)))}}]),t}(),o=m(a.prototype,"editing",[f.observable],{enumerable:!0,initializer:function(){return!1}}),i=m(a.prototype,"content",[f.observable],{enumerable:!0,initializer:function(){return""}}),r=a))||r;t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.sync=n.sync.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"sync",value:function(){this.store.tasks.syncAll(),this.store.uistate.current_modal=!1}},{key:"render",value:function(){return i.default.createElement(l.default,{width:"700",height:"400",successButton:!0,successButtonEnabled:!0,successButtonName:"Yes, Sync!",successButtonCallback:this.sync,title:"Start Dates",closeButton:!0,store:this.store},i.default.createElement("div",null,i.default.createElement("p",null,'We have detected that your Asana account now supports a native "Start date" field. Would you like us to Sync all your tasks with the Asana Start Date field?')))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=h(l),u=n(6),d=n(3),f=h(n(13)),p=(h(n(53)),h(n(256)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),h(n(857)));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"options",o,n),m(n,"users",i,n),n.store=n.props.store,n.saveChanges=n.saveChanges.bind(n),n.close=n.close.bind(n),n.users=n.store.users.filtered.filter((function(e){return e.id})).map((function(e){return{belongs_to_project:e.belongs_to_project,email:e.email,name:e.name,photo:e.photo,type:e.type,id:e.id}})),n.options.selected_users=n.store.users.filtered_users.map((function(e){return e})),n.toggleUser=n.toggleUser.bind(n),n.renderUser=n.renderUser.bind(n),n.selectAll=n.selectAll.bind(n),n.handleQuery=n.handleQuery.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"filtered_users_list",get:function(){var e=this,t=this.users.filter((function(t){return t.name.toLowerCase().indexOf(e.options.query.toLowerCase())>-1}));return t.push({id:0,name:"Unassigned"}),t}}]),s(t,[{key:"handleQuery",value:function(e){this.options.query=e.target.value}},{key:"saveChanges",value:function(){0==this.options.selected_users.length?alert("You need to pick at least 1 team member"):this.options.selected_users.length==this.users.length?(this.store.users.filtered_users=[],this.close()):(this.store.users.filtered_users=this.options.selected_users.map((function(e){return e})),this.close())}},{key:"close",value:function(){this.store.uistate.current_modal=!1}},{key:"selectAll",value:function(){this.options.selected_users.length==this.users.length?this.options.selected_users=[]:this.options.selected_users=this.users.map((function(e){return e.id}))}},{key:"toggleUser",value:function(e){-1!=this.options.selected_users.indexOf(e.id)?this.options.selected_users.splice(this.options.selected_users.indexOf(e.id),1):this.options.selected_users.push(e.id)}},{key:"renderUser",value:function(e){var t=this,n=void 0!==e.photo&&e.photo&&void 0!==e.photo.image_60x60&&""!=e.photo.image_60x60,r=0!=this.options.selected_users.length&&-1!=this.options.selected_users.indexOf(e.id);return c.default.createElement("li",{className:[p.default.row_option].join(" "),onClick:function(n){return t.toggleUser(e)}},c.default.createElement("div",{className:"cell"},r&&c.default.createElement("i",{className:"fa fa-check-square"}),!r&&c.default.createElement("i",{className:"far fa-square"})),c.default.createElement("div",{className:"cell cell-photo",style:{paddingLeft:"10px",paddingRight:"10px"}},n&&c.default.createElement("a",{href:"#"},c.default.createElement("img",{src:e.photo.image_60x60,className:"assigned-photo"})),!n&&e.name&&c.default.createElement("a",{href:"#"},c.default.createElement("i",{style:{fontSize:"16px"},className:"fa fa-user-circle"})),!n&&!e.name&&e.id&&c.default.createElement("i",{style:{fontSize:"16px"},className:"fa fa-user-circle"}),!n&&!e.name&&!e.id&&c.default.createElement("i",{style:{fontSize:"16px"},className:"fa fa-user-circle"})),c.default.createElement("div",{className:"",style:{flex:"1"}},e.name?e.name:e.id?e.email||e.id:"Unassigned"))}},{key:"render",value:function(){var e=this;return this.store.projects.selected,c.default.createElement(f.default,{width:"350",height:"350",title:"Filter workload users",id:"filter-workload-users",closeButton:"true",successButton:"true",successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.saveChanges,closeButtonCallback:this.close,store:this.store},c.default.createElement("div",null,c.default.createElement("div",{style:{margin:"-15px -15px 10px",padding:"7px 25px",display:"flex",borderBottom:"1px solid #eee"}},c.default.createElement("div",{style:{width:"20px"}},c.default.createElement("i",{className:"fal fa-search"})),c.default.createElement("input",{autoFocus:!0,style:{flexGrow:1,marginBottom:"0px",border:"0"},onChange:this.handleQuery,className:"",placeholder:"Search users..."})),c.default.createElement("ul",{className:"inline-menu unstyled"},c.default.createElement("li",{className:p.default.row_option,onClick:this.selectAll},c.default.createElement("div",{className:"cell"},this.options.selected_users.length==this.users.length&&c.default.createElement("i",{className:"fa fa-check-square"}),this.options.selected_users.length!=this.users.length&&c.default.createElement("i",{className:"far fa-square"})),c.default.createElement("div",{className:"",style:{flex:1,paddingLeft:"10px"}},"Select all")),this.filtered_users_list.map((function(t){return e.renderUser(t)})))))}}]),t}(),o=_(a.prototype,"options",[d.observable],{enumerable:!0,initializer:function(){return{selected_users:[],query:""}}}),i=_(a.prototype,"users",[d.observable],{enumerable:!0,initializer:function(){return[]}}),_(a.prototype,"filtered_users_list",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"filtered_users_list"),a.prototype),r=a))||r;t.default=g},function(e,t,n){e.exports={row_option:"TI6N6LcLJXvmXnq9wp_a9",selected:"_2DRDFKWZN-hL1B9k60FtKm"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var p,h,m,_,g,b=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.handleChange=i.handleChange.bind(i),i.delete=i.delete.bind(i),i.date=i.store.uistate.current_modal_options,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"delete",value:function(){if(console.log(this.options.remove_type),1==this.options.remove_type)this.date._save({disabled:!0,tooltip_status:"closed"});else{var e=this.date.getJSON();e.on_workspace=!1,e.disabled=!0,e._id=e.id,delete e.id,this.date.set({on_workspace:!1,disabled:!0,tooltip_status:"closed"}),this.store.dates.create(e)}this.store.uistate.current_modal="",this.store.uistate.current_modal_options=""}},{key:"render",value:function(){return this.store.projects.selected,l.default.createElement(d.default,{width:"400",height:"500",title:"Delete Date",id:"delete-date",closeButton:"true",successButton:"true",successButtonEnabled:"true",successButtonName:"Delete",successButtonCallback:this.delete,store:this.store},l.default.createElement("div",{className:"one-column-fields"},l.default.createElement("p",{style:{textAlign:"center"}},"This date is saved at workspace level ",l.default.createElement("br",null),"(affect all projects)"),l.default.createElement("p",null,l.default.createElement("select",{name:"remove_type",className:"remove-type",value:this.options.remove_type,onChange:this.handleChange},l.default.createElement("option",{value:0},"Remove only for this project"),l.default.createElement("option",{value:1},"Remove from workspace (all projects)")))))}}]),t}(),p=a.prototype,h="options",m=[u.observable],_={enumerable:!0,initializer:function(){return{remove_type:0}}},g={},Object.keys(_).forEach((function(e){g[e]=_[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),void 0===(g=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),g)).initializer&&(Object.defineProperty(p,h,g),g=null),o=g,r=a))||r;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=m(s),c=n(6),u=n(3),d=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),m(n(860))),f=m(n(67)),p=m(n(94)),h=n(257);function m(e){return e&&e.__esModule?e:{default:e}}var _,g,b,y,v,A=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.handleChange=i.handleChange.bind(i),i.handleChangeProject=i.handleChangeProject.bind(i),i.handleAction=i.handleAction.bind(i),i.store.uistate.toggleSidebarPin(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"handleAction",value:function(e){}},{key:"handleChange",value:function(e){this.options.workbook_name=e.target.value}},{key:"handleChangeProject",value:function(e){this.options.project_name=e.target.value}},{key:"step1",value:function(){var e=this,t=this.store.user&&this.store.user.name?this.store.user.name.split(" ")[0]:"friend";return this.store.uistate.trackAnalytics("Onboarding Started"),l.default.createElement(h.CSSTransition,{key:1,timeout:500,classNames:"fade",transitionDelay:{enter:400,leave:0}},l.default.createElement("div",{className:d.default.step},l.default.createElement("img",{src:"/img/logo-for-white-bg.png",width:"200"}),l.default.createElement("p",{className:d.default.title},l.default.createElement("h2",null,"Welcome, ",t,"!"),"We will guide you through 2 simple steps to get you started.",l.default.createElement("br",null),"You'll be ready to ",l.default.createElement("i",null,"Gantt")," in less than 30 seconds."),l.default.createElement("div",{className:"pull-right"},l.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){return e.options.step=e.options.step+1}},"Continue"))))}},{key:"step2",value:function(){var e=this;return this.store.uistate.trackAnalytics("Onboarding Enriched Workbook OK"),l.default.createElement(h.CSSTransition,{key:2,timeout:500,classNames:"fade",transitionDelay:{enter:400,leave:0}},l.default.createElement("div",{className:d.default.step},l.default.createElement("img",{src:"/img/logo-for-white-bg.png",width:"200"}),l.default.createElement("p",{className:d.default.title},l.default.createElement("h2",null,"Your first Workbook"),"A Workbook is a container for your Projects. Think of it like a Team, a Department, or a Small Organization.",l.default.createElement("br",null),"Workbooks can be shared with your colleagues for collaboration and task assignment."),l.default.createElement("p",{className:d.default.body},l.default.createElement("h3",null,"Workbook name"),l.default.createElement("div",{className:d.default.form_container},l.default.createElement("div",{className:d.default.grow},l.default.createElement("input",{id:"workbook_name",className:[d.default.input_editable_cell,d.default[this.options.workbook_required_alert]].join(" "),placeholder:"Product team at Acme, Inc",type:"text",autoFocus:!0,onChange:this.handleChange,value:this.options.workbook_name})),l.default.createElement("div",null,l.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){if(""==e.options.workbook_name)return e.options.workbook_required_alert="required_highlight",void $("#workbook_name").focus();e.options.step=e.options.step+1}},"Continue"))))))}},{key:"step3",value:function(){var e=this;return this.store.uistate.trackAnalytics("Onboarding Enriched Project OK"),l.default.createElement(h.CSSTransition,{key:3,timeout:500,classNames:"fade",transitionDelay:{enter:400,leave:0}},l.default.createElement("div",{className:d.default.step},l.default.createElement("img",{src:"/img/logo-for-white-bg.png",width:"200"}),l.default.createElement("p",{className:d.default.title},l.default.createElement("h2",null,"Let's create your first Project for your \"",this.options.workbook_name,'" Workbook'),"You can create as many projects as you want for this Workbook"),l.default.createElement("p",{className:d.default.body},l.default.createElement("h3",null,"Project name"),l.default.createElement("div",{className:d.default.form_container},l.default.createElement("div",{className:d.default.grow},l.default.createElement("input",{id:"project_name",placeholder:"",type:"text",autoFocus:!0,className:[d.default.input_editable_cell,d.default[this.options.project_required_alert]].join(" "),onChange:this.handleChangeProject,value:this.options.project_name})),l.default.createElement("div",null,l.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){if(""==e.options.project_name)return e.options.project_required_alert="required_highlight",void $("#project_name").focus();e.create()}},"Continue"))))))}},{key:"create",value:function(){var e=this;this.options.step=this.options.step+1;var t,n,r={name:this.options.workbook_name,owner:this.store.user.id,access:(t={},n=this.store.user.id,!0,n in t?Object.defineProperty(t,n,{value:!0,enumerable:!0,configurable:!0,writable:!0}):t[n]=!0,t)};this.store.workbooks.create(r).then((function(t){r.id=t.id;var n=new f.default(e.store,[],{workbook_id:t.id}),a=new p.default(e.store,[],{workbook_id:t.id}),o={name:e.options.project_name,workbook:{id:t.id,name:e.options.workbook_name},supplier:"standalone",flags:e.store.projects.model().default_flags()};a.create(o).then((function(t){o.id=t.id,e.store.projects.add([o]),e.store.projects.add([{name:"All Projects",supplier:"standalone",id:r.id,type:"group",subtype:"all",workbook:{name:r.name,id:r.id}}]),n.create({name:e.store.user.name,user_id:e.store.user.id,id:e.store.user.id,email:e.store.user.email,owner:!0}).then((function(){e.options.workbook_id=r.id,e.store.workbooks.get(r.id).select(),e.options.step=e.options.step+1,e.store.uistate.is_mobile||e.store.projects.selectProject(e.store.projects.get(o.id))}))}))}))}},{key:"step4",value:function(){return l.default.createElement(h.CSSTransition,{key:3,timeout:500,classNames:"fade",transitionDelay:{enter:400,leave:0}},l.default.createElement("div",{className:d.default.step},l.default.createElement("img",{src:"/img/logo-for-white-bg.png",width:"200"}),l.default.createElement("p",{className:d.default.title},l.default.createElement("h2",null,"Creating... ",l.default.createElement("i",{className:"fa fa-spin fa-spinner"})))))}},{key:"step5",value:function(){var e=this;return l.default.createElement(h.CSSTransition,{key:3,timeout:500,classNames:"fade",transitionDelay:{enter:400,leave:0}},l.default.createElement("div",{className:d.default.step},l.default.createElement("img",{src:"/img/logo-for-white-bg.png",width:"200"}),l.default.createElement("p",{className:d.default.title},l.default.createElement("h2",null,"We're done. Would you like to create an Example Project with sample data?"),"It's a good idea to load sample data so you can play around and get familiarized with Instagantt"),l.default.createElement("div",{className:"pull-right"},l.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){return e.finish()}},"No, thanks"),"  ",l.default.createElement("button",{className:"btn btn-flat btn-success",onClick:function(){e.createSampleData()}},"Yes, please!"),"  ")))}},{key:"createSampleData",value:function(){var e=this;this.store.uistate.trackAnalytics("Onboarding Create Sample Data"),this.options.step=this.options.step+1;var t=new p.default(this.store,[],{workbook_id:this.store.workbooks.selected.id}),n={name:"Example Project",workbook:{id:this.store.workbooks.selected.id,name:this.store.workbooks.selected.name},supplier:"standalone",flags:this.store.projects.model().default_flags()};t.create(n).then((function(t){n.id=t.id,e.store.projects.add([n]),e.store.projects.selectProject(e.store.projects.get(n.id)),e.store.tasks.createTemplate().then((function(){NProgress.done(),e.finish()}))}))}},{key:"step6",value:function(){var e=this.store.uistate.connections.length>0?this.store.uistate.connections.length:"";return l.default.createElement(h.CSSTransition,{key:3,timeout:500,classNames:"fade",transitionDelay:{enter:400,leave:0}},l.default.createElement("div",{className:d.default.step},l.default.createElement("img",{src:"/img/logo-for-white-bg.png",width:"200"}),l.default.createElement("p",{className:d.default.title},l.default.createElement("h2",null,"Creating Sample data ",e,"... ",l.default.createElement("i",{className:"fa fa-spin fa-spinner"})))))}},{key:"step7",value:function(){var e=this;return l.default.createElement(h.CSSTransition,{key:3,timeout:500,classNames:"fade",transitionDelay:{enter:400,leave:0}},l.default.createElement("div",{className:d.default.step},l.default.createElement("img",{src:"/img/logo-for-white-bg.png",width:"200"}),l.default.createElement("p",{className:d.default.title},l.default.createElement("h2",null,"We're done!"),"We have successfully created your first Workbook and your first Project. Now you can invite users and start creating tasks!"),l.default.createElement("div",{className:"pull-right"},l.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){return e.finish()}},"Finish"))))}},{key:"finish",value:function(){this.store.uistate.current_modal=!1,router.gettingStarted()}},{key:"render",value:function(){return l.default.createElement("div",{className:[d.default.standalone_wizard,this.store.uistate.is_mobile?d.default.mobile:""].join(" ")},l.default.createElement("div",{className:this.store.uistate.is_mobile?"":d.default.container,style:{position:"relative"}},l.default.createElement(h.TransitionGroup,null,this["step"+this.options.step]())))}}]),t}(),_=a.prototype,g="options",b=[u.observable],y={enumerable:!0,initializer:function(){return{workbook_name:"",project_name:"",step:1,workbook_required_alert:"",project_required_alert:""}}},v={},Object.keys(y).forEach((function(e){v[e]=y[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),void 0===(v=b.slice().reverse().reduce((function(e,t){return t(_,g,e)||e}),v)).initializer&&(Object.defineProperty(_,g,v),v=null),o=v,r=a))||r;t.default=A},function(e,t,n){e.exports={standalone_wizard:"y53XPOajpB85SpIBd4DAc",container:"_3b4BF0XU-TIo1A0ibuGTY5",mobile:"MI7OnYKW8_ZuVdjM6VXF5",body:"_1ExB9Y0IN-0zyet2le4LC5",step:"_1cv-b4-pGf6oPQ6JIYaHfw",title:"_2cl8IUJO2EvRCuTA7ErOpq",input_editable_cell:"_4_A_YQ_-ivGLebL51_H1P",required_highlight:"_1YlkCeKOQmN1uogaZ64yTB",form_container:"_1nbmfMtGCg02yUdhOv6Hla",grow:"_1vbdGGV7sMorqmPxXs980I"}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(1));var r=s(n(862)),a=s(n(865)),o=s(n(0)),i=s(n(403));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n(404);var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,a=t.getClassNames("enter").doneClassName,o=n?r+" "+a:a;t.removeClasses(e,n?"appear":"enter"),c(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,a=r?(r&&n?n+"-":"")+e:n[e];return{className:a,activeClassName:r?a+"-active":n[e+"Active"],doneClassName:r?a+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,a=n.activeClassName,o=n.doneClassName;r&&u(e,r),a&&u(e,a),o&&u(e,o)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},a.render=function(){var e=l({},this.props);return delete e.classNames,o.default.createElement(i.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);d.defaultProps={classNames:""},d.propTypes={};var f=d;t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r=n(863);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=r(n(864));e.exports=t.default},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,i(n(1));var r=i(n(0)),a=n(15),o=i(n(405));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.handleLifecycle=function(e,t,n){var o,i=this.props.children,s=r.default.Children.toArray(i)[t];s.props[e]&&(o=s.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","in"]),i=r.default.Children.toArray(t),s=i[0],l=i[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,r.default.createElement(o.default,a,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},i}(r.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return a(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:i(n,"appear",e),enter:i(n,"enter",e),exit:i(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=a(e.children),l=o(t,s);return Object.keys(l).forEach((function(a){var o=l[a];if((0,r.isValidElement)(o)){var c=a in t,u=a in s,d=t[a],f=(0,r.isValidElement)(d)&&!d.props.in;!u||c&&!f?u||!c||f?u&&c&&(0,r.isValidElement)(d)&&(l[a]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:d.props.in,exit:i(o,"exit",e),enter:i(o,"enter",e)})):l[a]=(0,r.cloneElement)(o,{in:!1}):l[a]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:i(o,"exit",e),enter:i(o,"enter",e)})}})),l};var r=n(0);function a(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),o=[];for(var i in e)i in t?o.length&&(a[i]=o,o=[]):o.push(i);var s={};for(var l in t){if(a[l])for(r=0;r<a[l].length;r++){var c=a[l][r];s[a[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function i(e,t,n){return null!=n[t]?n[t]:e.props[t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=d(i),l=n(6),c=n(3),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var f,p,h,m,_,g,b=(0,l.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.current_project=n.store.uistate.current_modal_options.projects[0].id,n.close=n.close.bind(n),n.updateOrder=n.updateOrder.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.ul_node&&$(this.ul_node).sortable({handle:".fa-bars",update:this.updateOrder})}},{key:"componentDidUpdate",value:function(){}},{key:"close",value:function(){this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}},{key:"updateOrder",value:function(e,t){var n=this,r=t.item.attr("data-id"),a=$(this.ul_node).sortable("toArray",{attribute:"data-id"});a.forEach((function(e,t){"standalone"==n.store.projects.selected.supplier?n.store.tasks.get(e).save({priority:t+1}):n.store.tasks.get(e).set({priority:t+1})})),0==a.indexOf(r)&&a[1]&&this.store.tasks.get(r).changePosition({is_priority_heading:!0,insert_before:this.store.tasks.get(a[1]).id}),a.indexOf(r)>0&&this.store.tasks.get(r).changePosition({is_priority_heading:!0,insert_after:this.store.tasks.get(a[a.indexOf(r)-1]).id})}},{key:"render",value:function(){var e=this,t=this.store.tasks.sections({project_id:this.current_project});return s.default.createElement(u.default,{width:"500",height:"500",title:"Sort your sections",id:"",closeButton:!0,closeButtonName:"Close",closeButtonCallback:this.close,successButton:!1,dangerButton:!1,store:this.store},s.default.createElement("div",null,s.default.createElement("div",{className:"one-column-fields"},s.default.createElement("div",{className:"group-config"},s.default.createElement("p",null,"Drag the list to change Sections order."),s.default.createElement("ul",{key:1,className:"nav nav-tabs nav-stacked",ref:function(t){return e.ul_node=t}},t.map((function(e,t){return s.default.createElement("li",{key:e.id,"data-id":e.id,"data-original-index":t,className:"active"},s.default.createElement("a",{href:"javascript:void(0)"},s.default.createElement("i",{className:"fa fa-bars"}),"  ",e.name))})))))))}}]),t}(),f=a.prototype,p="updateOrder",h=[c.action],m=Object.getOwnPropertyDescriptor(a.prototype,"updateOrder"),_=a.prototype,g={},Object.keys(m).forEach((function(e){g[e]=m[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=h.slice().reverse().reduce((function(e,t){return t(f,p,e)||e}),g),_&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(_):void 0,g.initializer=void 0),void 0===g.initializer&&(Object.defineProperty(f,p,g),g=null),r=a))||r;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),f(n(870)));function f(e){return e&&e.__esModule?e:{default:e}}var p,h,m,_,g,b=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.default.createElement("div",{className:d.default.loading_curtain},l.default.createElement("div",{className:"container",style:{position:"relative"}},l.default.createElement("img",{src:"/img/logo-for-white-bg.png",width:"200"}),l.default.createElement("p",null,l.default.createElement("i",{className:"fa fa-spin fa-spinner"}))))}}]),t}(),p=a.prototype,h="options",m=[u.observable],_={enumerable:!0,initializer:function(){return{workbook_name:"",project_name:"",step:1}}},g={},Object.keys(_).forEach((function(e){g[e]=_[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),void 0===(g=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),g)).initializer&&(Object.defineProperty(p,h,g),g=null),o=g,r=a))||r;t.default=b},function(e,t,n){e.exports={loading_curtain:"_1VZvM6FFJ95xq9wRbBWBkx",body:"_1gLjut3aBY2wbyIN-ztesg"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var p,h,m,_,g,b=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.handleChange=i.handleChange.bind(i),i.save=i.save.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;this.options[e.target.name]=t}},{key:"save",value:function(){var e=this;this.options.creating=!0;var t=moment().format("YYYY-MM-DDTHH:mm:ssZ"),n={tasks:JSON.parse(this.store.tasks.getJSON())},r=this.store.projects.selected,a=r.supplier_project_id;"standalone"==this.store.user.type&&(a=r.id),this.store.snapshots.create({date:t,name:this.options.name,data:n,baseline:!0,supplier_project_id:a,created_by:this.store.user.id}).then((function(){e.options.creating=!1,e.options.created=!0}))}},{key:"render",value:function(){return this.store.projects.selected,l.default.createElement(d.default,{width:"400",height:"500",title:"New Baseline",id:"new-baseline",closeButton:"true",successButton:!this.options.created,successButtonEnabled:!this.options.creating,successButtonName:"Create",successButtonCallback:this.save,store:this.store},l.default.createElement("div",{className:"one-column-fields"},!this.options.creating&&!this.options.created&&l.default.createElement("input",{type:"text",className:"input-editable-cell",autoFocus:!0,name:"name",value:this.options.name,onChange:this.handleChange,placeholder:"Baseline Name... (optional)"}),this.options.creating&&l.default.createElement("p",null,"Creating.... ",l.default.createElement("i",{className:"fa fa-spin fa-spinner"})),this.options.created&&l.default.createElement("p",null,"Baseline created successfully!")))}}]),t}(),p=a.prototype,h="options",m=[u.observable],_={enumerable:!0,initializer:function(){return{name:"",creating:!1,created:!1}}},g={},Object.keys(_).forEach((function(e){g[e]=_[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),void 0===(g=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),g)).initializer&&(Object.defineProperty(p,h,g),g=null),o=g,r=a))||r;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=f(i),l=n(6),c=n(3),u=f(n(13)),d=f(n(53));function f(e){return e&&e.__esModule?e:{default:e}}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var p,h,m,_,g,b,y=(0,l.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.close=n.close.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"close",value:function(){var e=this;0==this.store.uistate.visible_table_columns.length&&(this.store.uistate.visible_table_columns=Object.keys(this.store.uistate.table_columns).filter((function(t){return e.store.uistate.table_columns[t].active}))),this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}},{key:"save",value:function(e){var t=this;this.store.uistate.visible_table_columns=Object.keys(this.store.uistate.table_columns).filter((function(n){return!(!t.store.uistate.table_columns[n].active||e.key==n)||!(e.key!=n||!e.active)||void 0}))}},{key:"render",value:function(){var e=this;return s.default.createElement(u.default,{width:"500",height:"500",title:"Columns to show on Table View",id:"",closeButton:!0,closeButtonName:"Done",closeButtonCallback:this.close,className:"table-columns",successButton:!1,successButtonCallback:this.save,dangerButton:!1,store:this.store},s.default.createElement("div",null,s.default.createElement("div",{className:"one-column-fields"},s.default.createElement("div",{className:"group-config"},s.default.createElement("p",null,"Which columns would you like to show on the Table View?"),s.default.createElement("ul",{className:"unstyled"},Object.keys(this.store.uistate.table_columns).map((function(t,n){return s.default.createElement("li",null,s.default.createElement(d.default,{key:n,clickFunc:function(n){return e.save({key:t,active:!e.store.uistate.table_columns[t].active})},activationBoolean:function(){return e.store.uistate.table_columns[t].active},text:e.store.uistate.table_columns[t].name}))})))))))}}]),t}(),p=a.prototype,h="save",m=[c.action],_=Object.getOwnPropertyDescriptor(a.prototype,"save"),g=a.prototype,b={},Object.keys(_).forEach((function(e){b[e]=_[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),b),g&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(g):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(p,h,b),b=null),r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){return this.store.projects.selected,i.default.createElement(l.default,{width:"700",height:"500",id:"delete-date",closeButton:"true",successButton:!1,store:this.store},i.default.createElement("div",{className:"help-tips-white"},i.default.createElement("b",{style:{fontSize:"28px",marginBottom:"12px",display:"block",marginTop:"0px",color:"#406a8a !important"}},"Drawing dates for tasks"),i.default.createElement("p",null,"When a task does not have dates, just put your mouse on the chart and click & drag on the desired dates"),i.default.createElement("img",{src:"/img/gs-drawdates2.gif"})))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(0),m=v(h),_=n(6),g=n(3),b=v(n(67)),y=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var k=(0,_.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return A(n,"options",o,n),A(n,"loaded",i,n),A(n,"isOwner",s,n),A(n,"upgrade_screen",l,n),A(n,"cant_upgrade_screen",c,n),A(n,"creating",u,n),A(n,"upgrading",d,n),A(n,"warn_cost",f,n),n.limitNumber=40,n.store=n.props.store,n.workbook=n.store.workbooks.selected,n.resources=new b.default(n.store,[],{workbook_id:n.workbook.id}),n.handleKeyUp=n.handleKeyUp.bind(n),n.close=n.close.bind(n),n.options.send=!1,n.resources.fetch().then((function(){n.loaded=!0,n.isOwner=n.resources.models.filter((function(e){return(e.email==n.store.user.email||e.email==n.store.user.email+" ")&&e.owner})).length>0})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.Component),p(t,[{key:"validateEmail",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"sanitize",value:function(e){return e.replace(/&/g,"and").replace(/</g,"").replace(/"/g,"")}},{key:"reachLimit",value:function(){return this.resources.members.length>this.limitNumber}},{key:"handleKeyUp",value:function(e){this.options.email=e.target.value}},{key:"save",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.upgrading=!0,""!=this.options.email){var n=this.store.uistate.current_modal_options.resource,r=this.store.uistate.current_modal_options.warn_cost,a=this.options.email;if(this.resources.inUse(a).length>0)alert("E-mail already in use");else if(this.validateEmail(a)){if(r&&!t)return console.log("I should warn"),void(this.warn_cost=!0);var o=this.store.subscriptions.getByWorkbook(this.workbook);o&&o.missingMembers({},[{name:n.name,email:a}]).length>0?o.available_licenses()>0?(this.creating=!0,o.addMembers([{name:n.name,email:a}]).then((function(t){console.log("Adding member to the subscription"),n.save({email:a}).then((function(){e.options.email="",e.store.users?e.store.users.fetch().then((function(){e.close(),e.upgrading=!1})):(e.close(),e.upgrading=!1)}))})).catch((function(t){alert("An error ocurred. Please contact our support team"),e.upgrading=!1}))):t&&(this.creating=!0,o.changeQuantity(o.max_users+1).then((function(t){o.addMembers([{name:n.name,email:a}]).then((function(t){n.save({email:a}).then((function(){e.store.subscriptions.fetch(),e.options.email="",e.upgrade_screen=!1,e.store.users?e.store.users.fetch().then((function(){e.close(),e.upgrading=!1})):(e.close(),e.upgrading=!1)}))})).catch((function(t){alert("An error ocurred. Please contact our support team"),e.upgrading=!1}))})).catch((function(t){alert("An error ocurred. Please contact our support team"),e.upgrading=!1}))):(this.options.email="",this.creating=!0,n.save({email:a}).then((function(){e.options.email="",e.store.users?e.store.users.fetch().then((function(){e.close(),e.upgrading=!1})):(e.close(),e.upgrading=!1)})))}else alert("Invalid e-mail")}else alert("E-mail can't be blank")}},{key:"close",value:function(){this.store.uistate.current_modal_options=!1,this.store.uistate.current_modal=!1}},{key:"_handleKeyPress",value:function(e){"Enter"===e.key&&this.addResource()}},{key:"render_upgrade_screen",value:function(){var e=this,t=this.store.subscriptions.getByWorkbook(this.workbook),n="month"==t.frequency?"Month":"Year",r=t.price/t.max_users;return m.default.createElement("div",null,m.default.createElement("div",{className:"one-column-fields workbook-edit-section"},m.default.createElement("div",{className:"workbook-config"},m.default.createElement("h3",{style:{marginTop:0,fontWeight:"bold !important"}},"You need to add one more license to your subscription"),!this.upgrading&&m.default.createElement("div",null,m.default.createElement("p",null,"Your subscription doesn't have available licenses to assign to this new user."),m.default.createElement("p",null,"Would you like to add an extra license? The cost will increase in $",r," per ",n),m.default.createElement("p",null)),m.default.createElement("button",{disabled:!!this.creating,className:"btn btn-flat btn-success",onClick:function(){e.addMember(!0)}},this.creating?m.default.createElement("i",{className:"fa fa-spin fa-spinner"}):"Proceed"))))}},{key:"render_cant_upgrade_screen",value:function(){var e=this,t=this.store.subscriptions.getByWorkbook(this.workbook);return m.default.createElement("div",null,m.default.createElement("div",{className:"one-column-fields workbook-edit-section"},m.default.createElement("div",{className:"workbook-config"},m.default.createElement("h3",{style:{marginTop:0,fontWeight:"bold !important"}},"Your subscription doesn't have available licenses. Please contact your administrator (",t.owner.name,")"),m.default.createElement("p",null,m.default.createElement("strong",null,"Why can't I do it by myself?")),m.default.createElement("p",null,"You can't change it because it will increase the subscription cost."),m.default.createElement("p",null,"Please tell your administrator to add this user's e-mail address to the subscription list."),m.default.createElement("p",null,m.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){return e.cant_upgrade_screen=!1}},"Go Back")))))}},{key:"render",value:function(){var e=this;return m.default.createElement(y.default,{width:"400",height:"500",title:"New Resource",id:"highlight-date",closeButton:!this.creating,closeButtonName:"No, thanks",successButton:!this.warn_cost&&!this.creating,successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:function(){return e.save()},store:this.store},m.default.createElement("div",{className:""},m.default.createElement("div",{className:"one-column-fields workbook-edit-section"},m.default.createElement("div",{className:"workbook-config"},!this.creating&&m.default.createElement("div",null,!this.warn_cost&&m.default.createElement("div",null,m.default.createElement("h4",null,"Would you like to invite this person to collaborate?"),"By adding an e-mail address, an invitation to access Instagantt will be sent.",m.default.createElement("p",null,m.default.createElement("input",{autoFocus:!0,className:"input-editable-cell",placeholder:"Email address",value:this.options.email,onChange:this.handleKeyUp,style:{marginTop:"10px",width:"100%"}}))),this.warn_cost&&m.default.createElement("div",null,m.default.createElement("p",{style:{textAlign:"center"}},"You don't have enough licenses available and your subscription will be increased in (1). Do you accept this cost increase?",m.default.createElement("br",null),m.default.createElement("br",null),m.default.createElement("button",{className:"btn btn-success btn-flat",onClick:function(){e.save(!0)}},"Proceed")))),this.creating&&m.default.createElement("div",null,"Saving... ",m.default.createElement("i",{className:"fa fa-spin fa-spinner"}))))))}}]),t}(),o=w(a.prototype,"options",[g.observable],{enumerable:!0,initializer:function(){return{loaded:!1,email:""}}}),i=w(a.prototype,"loaded",[g.observable],{enumerable:!0,initializer:function(){return!0}}),s=w(a.prototype,"isOwner",[g.observable],{enumerable:!0,initializer:function(){return!1}}),l=w(a.prototype,"upgrade_screen",[g.observable],{enumerable:!0,initializer:function(){return!1}}),c=w(a.prototype,"cant_upgrade_screen",[g.observable],{enumerable:!0,initializer:function(){return!1}}),u=w(a.prototype,"creating",[g.observable],{enumerable:!0,initializer:function(){return!1}}),d=w(a.prototype,"upgrading",[g.observable],{enumerable:!0,initializer:function(){return!1}}),f=w(a.prototype,"warn_cost",[g.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.delete=n.delete.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){}},{key:"delete",value:function(){this.store.tasks.deleteSelected(),this.store.uistate.current_modal=!1}},{key:"render",value:function(){return i.default.createElement(l.default,{width:"400",height:"500",title:"Warning",id:"new-baseline",closeButton:!0,successButton:!0,successButtonEnabled:!0,successButtonName:"Proceed",successButtonCallback:this.delete,store:this.store},i.default.createElement("div",{className:"one-column-fields"},i.default.createElement("p",null,"All selected tasks will be permanently deleted."),i.default.createElement("p",null,"If you have selected parent tasks, ",i.default.createElement("b",null,"all")," subtasks will be also deleted")))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"sync",value:function(){this.store.tasks.syncAll(),this.store.uistate.current_modal=!1}},{key:"render",value:function(){return i.default.createElement(l.default,{width:"700",height:"400",successButton:!1,title:"How to sync columns with Asana Custom Fields",closeButton:!0,store:this.store},i.default.createElement("div",null,i.default.createElement("p",null,"To sync with Asana Custom Fields, you need to create the specific custom field for your projects in Asana with the following name. "),i.default.createElement("table",{className:"table table-bordered",style:{width:"100%"}},i.default.createElement("thead",null,i.default.createElement("th",null,"Instagantt field"),i.default.createElement("th",null,"Name for custom field in Asana"),i.default.createElement("th",null,"Type in Asana")),i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("td",null,"Estimated Hours"),i.default.createElement("td",null,'"Estimated Hours"'),i.default.createElement("td",null,"Number")),i.default.createElement("tr",null,i.default.createElement("td",null,"Actual Hours"),i.default.createElement("td",null,'"Actual Hours"'),i.default.createElement("td",null,"Number")),i.default.createElement("tr",null,i.default.createElement("td",null,"Estimated Cost"),i.default.createElement("td",null,'"Estimated Cost"'),i.default.createElement("td",null,"Number")),i.default.createElement("tr",null,i.default.createElement("td",null,"Actual Cost"),i.default.createElement("td",null,'"Actual Cost"'),i.default.createElement("td",null,"Number")),i.default.createElement("tr",null,i.default.createElement("td",null,"Priority"),i.default.createElement("td",null,'"Priority"'),i.default.createElement("td",null,"Number")),i.default.createElement("tr",null,i.default.createElement("td",null,"Risk"),i.default.createElement("td",null,'"Risk"'),i.default.createElement("td",null,"Number"))))))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),h=v(p),m=n(6),_=n(3),g=v(n(13)),b=v(n(878)),y=v(n(879));function v(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var k=(0,m.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));A(n,"loaded_result",o,n),A(n,"found_headers",i,n),A(n,"similar_headers",s,n),A(n,"final_headers",l,n),A(n,"loading",c,n),A(n,"dateFormat",u,n),A(n,"import_status",d,n),n.store=n.props.store,n.import_status="Importing tasks",n.fields=[{id:"name",name:"Name"},{id:"description",name:"Description"},{id:"start",name:"Start date"},{id:"due",name:"Due date"},{id:"progress",name:"Progress"},{id:"estimated_hours",name:"Estimated Hours"},{id:"actual_hours",name:"Actual Hours"},{id:"estimated_cost",name:"Estimated Cost"},{id:"actual_cost",name:"Actual Cost"},{id:"priority_user",name:"Priority"},{id:"risk",name:"Risk"}],n.loading=!1;var r="(0[1-9]|1[0-9]|2[0-9]|3[01])",a="[12][0-9]{3}",f="(0[1-9]|1[0-2])",p="([1-9]|1[0-2])",h="([1-9]|1[0-9]|2[0-9]|3[01])";return n.dateFormats={iso_int:["YYYY-MM-DD","^"+a+"-"+f+"-"+r+"$"],short_date:["DD/MM/YYYY","^"+r+"/"+f+"/"+a+"$"],short_date_1:["d/MM/YYYY","^"+h+"/"+f+"/"+a+"$"],short_date_2:["DD/m/YYYY","^"+r+"/"+p+"/"+a+"$"],short_date_3:["d/m/YYYY","^"+h+"/"+p+"/"+a+"$"],iso_date_time:["YYYY-MM-DDTHH:MM:SS","^"+a+"-"+f+"-"+r+"T.*[0-9]$"],iso_date_time_utc:["YYYY-MM-DDTHH:MM:SSZ","^"+a+"-"+f+"-"+r+"T.*Z$"],short_date_other:["MM/DD/YYYY","^"+f+"/"+r+"/"+a+"$"],short_date_other_1:["m/DD/YYYY","^"+p+"/"+r+"/"+a+"$"],short_date_other_2:["MM/d/YYYY","^"+f+"/"+h+"/"+a+"$"],short_date_other_3:["m/d/YYYY","^"+p+"/"+h+"/"+a+"$"]},n.dateFormat="iso_int",window.csv=n,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),f(t,[{key:"levDist",value:function(e,t){var n=[],r=e.length,a=t.length;if(0==r)return a;if(0==a)return r;for(var o=r;o>=0;o--)n[o]=[];for(var i=r;i>=0;i--)n[i][0]=i;for(var s=a;s>=0;s--)n[0][s]=s;for(var l=1;l<=r;l++)for(var c=e.charAt(l-1),u=1;u<=a;u++){if(l==u&&n[l][u]>4)return r;var d=t.charAt(u-1),f=c==d?0:1,p=n[l-1][u]+1,h=n[l][u-1]+1,m=n[l-1][u-1]+f;h<p&&(p=h),m<p&&(p=m),n[l][u]=p,l>1&&u>1&&c==t.charAt(u-2)&&e.charAt(l-2)==d&&(n[l][u]=Math.min(n[l][u],n[l-2][u-2]+f))}return n[r][a]}},{key:"matchIndex",value:function(e){for(var t={},n=0;n<this.fields.length;n++){for(var r=1e4,a=-1,o=0;o<e.length;o++){var i=this.levDist(e[o].toLowerCase(),this.fields[n].name.toLowerCase());i<r&&(r=i,a=o)}r<5&&(t[n]=a)}for(var s=0;s<this.fields.length;s++)t[s]>=0||(t[s]=-1);return t}},{key:"getDateFormat",value:function(e){for(var t in this.dateFormats){var n=this.dateFormats[t];if(new RegExp(n[1]).test(e))return t}return"not_found"}},{key:"findRightDateFormat",value:function(e,t){var n=this;try{var r=0,a={};for(var o in this.dateFormats)a[o]=0;for(var i in this.fields)if("start"==this.fields[i].id){r=i;break}return a.not_found=0,e.data.map((function(e){var o=n.getDateFormat(e[t[r]]);a[o]++})),Object.keys(a).filter((function(e){return"not_found"!=e})).map((function(e){return[e,a[e]]})).sort((function(e,t){return e[1]-t[1]})).pop()[0]}catch(e){return"not_found"}}},{key:"readFile",value:function(e){var t=this;e.target.files[0],b.default.parse(e.target.files[0],{complete:function(e){t.loaded_result=e,t.loaded_result.data.splice(0,1),t.found_headers=e.data[0];var n=t.matchIndex(t.found_headers);t.similar_headers=n,t.final_headers=JSON.parse(JSON.stringify(n)),t.dateFormat=t.findRightDateFormat(t.loaded_result,t.final_headers)}})}},{key:"createEachTask",value:function(e,t,n){var r=this,a=[],o=this.loaded_result.data.length,i=0;this.loaded_result.data.map((function(s){for(var l={},c=1+ ++e,u=0;u<r.fields.length;u++)if(r.final_headers&&r.final_headers[u]>=0)if("description"===r.fields[u].id)r.final_headers[u]<=s.length&&(l.notes=s[r.final_headers[u]]);else if("start"===r.fields[u].id||"due"===r.fields[u].id)if("not_found"!==r.dateFormat)try{var d=null;r.final_headers[u]<=s.length&&(d=moment(s[r.final_headers[u]],r.dateFormats[r.dateFormat][0]))>moment.unix(0)?l[r.fields[u].id]=d.format(r.dateFormats.iso_int[0]):l[r.fields[u].id]=""}catch(e){l[r.fields[u].id]=""}else l[r.fields[u].id]="";else r.final_headers[u]<=s.length?l[r.fields[u].id]=s[r.final_headers[u]]:l[r.fields[u].id]="";else l[r.fields[u].id]="";t&&(l.parent_priority_heading=n,l.priority_heading_id=t.id),l.priority=c,l.local_priority=c,l.progress&&l.progress.length>0&&l.progress.indexOf("%")<0&&(l.progress=l.progress+"%"),l.name&&("standalone"==r.store.user.type||r.store.tasks.create(l),a.push(l)),r.import_status="Importing "+i+"/"+o,i++})),"standalone"==this.store.user.type?this.store.tasks.createBatch(a).then((function(e){r.store.uistate.current_modal=null})):this.store.uistate.current_modal=null}},{key:"getPriority",value:function(e,t){var n=e.map((function(e){return e[t]})).filter((function(e){return 1e4!==e&&e>0}));return n.length>0?Math.max.apply(Math,n)+1:1}},{key:"generateTasks",value:function(){var e=this;this.loading=!0,this.dateFormat=this.findRightDateFormat(this.loaded_result,this.final_headers);var t=this.store.tasks.filtered.filter((function(e){return e.is_priority_heading})),n=1;t.length>0&&(n=this.getPriority(store.tasks.filtered,"priority"));var r=this.getPriority(store.tasks.filtered,"local_priority");"standalone"===this.store.user.type?this.store.tasks.create({name:"Imported tasks",due:"",start:"",tags:[],dependent_of:"",is_priority_heading:!0,local_priority:r,priority:r,projects:[{id:this.store.projects.selected.id}],parent_priority_heading:this.store.tasks.models.length+1,priority_heading_id:"",memberships:[],parent:""}).then((function(t){var a=parseInt(1e14*Math.random());e.store.tasks.add([{id:a,name:"Create task...",is_project:!1,is_priority_heading:!1,is_for_section:!0,dependent_of:[],parent_priority_heading:r,priority_heading_id:t.id,priority:1e4,local_priority:1e4,projects:[{id:e.store.projects.selected.id}],completed:!1,is_new_task_handler:!0,collection:self}]),e.createEachTask(r,t,n)})):(this.createEachTask(r,null,null),store.uistate.current_modal=null)}},{key:"render",value:function(){var e=this,t=!this.loading&&this.loaded_result&&this.loaded_result.data.length>0;return this.store.projects.selected&&"group"==this.store.projects.selected.type?h.default.createElement(g.default,{width:"700",height:"400",successButton:!1,title:"Import csv",closeButton:!0,store:this.store},"You can't import tasks into a multi-project view. Please load a single project to import a CSV file."):h.default.createElement(g.default,{width:"700",height:"400",successButton:!0,successButtonEnabled:t,successButtonName:"Import tasks",successButtonCallback:t?this.generateTasks.bind(this):function(){},title:"Import csv",closeButton:!0,store:this.store},h.default.createElement("div",null,this.loading&&h.default.createElement("div",null,h.default.createElement("i",{className:"fa fa-spinner fa-spin"})," ",this.import_status,"..."),!this.loading&&h.default.createElement("div",null,h.default.createElement("p",null,"You can ",h.default.createElement("a",{href:"/example_file.csv"},h.default.createElement("b",null,"download our example CSV file"))," to populate it with your tasks and upload it to Instagantt"),h.default.createElement("div",{className:y.default.upload_btn_wrapper},h.default.createElement("button",{className:y.default.btn},"Upload file"),h.default.createElement("input",{onChange:function(t){e.readFile(t)},style:{display:"block"},placeholder:"",type:"file",name:"file"})),this.loaded_result&&h.default.createElement("div",null,h.default.createElement("div",{style:{float:"right"}},"Total tasks found: ",this.loaded_result.data.length),h.default.createElement("table",{className:["table table-bordered",y.default.table].join(" "),style:{width:"100%"}},h.default.createElement("thead",null,h.default.createElement("th",{style:{width:"25%"}},"Instagantt field"),h.default.createElement("th",null,"CSV column"),h.default.createElement("th",{style:{width:"50%"}},"Example")),h.default.createElement("tbody",null,this.final_headers&&this.fields.map((function(t,n){return h.default.createElement("tr",null,h.default.createElement("td",null,t.name),h.default.createElement("td",{className:y.default.select_container},h.default.createElement("select",{className:y.default.select,onChange:function(t){e.final_headers[n]=t.target.value},value:e.final_headers[n]>=0?e.final_headers[n]:""},h.default.createElement("option",{value:""}),e.found_headers.map((function(e,t){return h.default.createElement("option",{value:t},e)})))),h.default.createElement("td",null,e.final_headers&&e.final_headers[n]>=0?e.loaded_result.data[0][e.final_headers[n]]:""))}))))))))}}]),t}(),o=w(a.prototype,"loaded_result",[_.observable],{enumerable:!0,initializer:null}),i=w(a.prototype,"found_headers",[_.observable],{enumerable:!0,initializer:null}),s=w(a.prototype,"similar_headers",[_.observable],{enumerable:!0,initializer:null}),l=w(a.prototype,"final_headers",[_.observable],{enumerable:!0,initializer:null}),c=w(a.prototype,"loading",[_.observable],{enumerable:!0,initializer:null}),u=w(a.prototype,"dateFormat",[_.observable],{enumerable:!0,initializer:null}),d=w(a.prototype,"import_status",[_.observable],{enumerable:!0,initializer:null}),r=a))||r;t.default=k},function(e,t,n){var r,a;
/* @license
Papa Parse
v4.6.3
https://github.com/mholt/PapaParse
License: MIT
*/Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),void 0===(a="function"==typeof(r=function(){"use strict";var e,t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,a=r&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),o=!1,i={},s=0,l={parse:function(t,r){var a=(r=r||{}).dynamicTyping||!1;if(k(a)&&(r.dynamicTypingFunction=a,a={}),r.dynamicTyping=a,r.transform=!!k(r.transform)&&r.transform,r.worker&&l.WORKERS_SUPPORTED){var c=function(){if(!l.WORKERS_SUPPORTED)return!1;if(!o&&null===l.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=l.SCRIPT_PATH||e;t+=(-1!==t.indexOf("?")?"&":"?")+"papaworker";var r=new n.Worker(t);return r.onmessage=b,r.id=s++,i[r.id]=r}();return c.userStep=r.step,c.userChunk=r.chunk,c.userComplete=r.complete,c.userError=r.error,r.step=k(r.step),r.chunk=k(r.chunk),r.complete=k(r.complete),r.error=k(r.error),delete r.worker,void c.postMessage({input:t,config:r,workerId:c.id})}var u=null;return l.NODE_STREAM_INPUT,"string"==typeof t?u=r.download?new d(r):new p(r):!0===t.readable&&k(t.read)&&k(t.on)?u=new h(r):(n.File&&t instanceof File||t instanceof Object)&&(u=new f(r)),u.stream(t)},unparse:function(e,t){var n=!1,r=!0,a=",",o="\r\n",i='"',s=!1;"object"==typeof t&&("string"!=typeof t.delimiter||l.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(a=t.delimiter),("boolean"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(s=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(i=t.quoteChar),"boolean"==typeof t.header&&(r=t.header));var c=new RegExp(_(i),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return d(null,e,s);if("object"==typeof e[0])return d(u(e[0]),e,s)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:u(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),d(e.fields||[],e.data||[],s);throw"exception: Unable to serialize unrecognized input";function u(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function d(e,t,n){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(s&&r){for(var c=0;c<e.length;c++)0<c&&(i+=a),i+=f(e[c],c);0<t.length&&(i+=o)}for(var u=0;u<t.length;u++){var d=s?e.length:t[u].length,p=!1,h=s?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!s&&(p="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&s){for(var m=[],_=0;_<d;_++){var g=l?e[_]:_;m.push(t[u][g])}p=""===m.join("").trim()}if(!p){for(var b=0;b<d;b++){0<b&&!h&&(i+=a);var y=s&&l?e[b]:b;i+=f(t[u][y],b)}u<t.length-1&&(!n||0<d&&!h)&&(i+=o)}}return i}function f(e,t){return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(e=e.toString().replace(c,i+i),"boolean"==typeof n&&n||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(e,l.BAD_DELIMITERS)||-1<e.indexOf(a)||" "===e.charAt(0)||" "===e.charAt(e.length-1)?i+e+i:e)}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!n.Worker,l.SCRIPT_PATH=null,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=g,l.ParserHandle=m,l.NetworkStreamer=d,l.FileStreamer=f,l.StringStreamer=p,l.ReadableStreamStreamer=h,n.jQuery){var c=n.jQuery;c.fn.parse=function(e){var t=e.config||{},r=[];return this.each((function(e){if("INPUT"!==c(this).prop("tagName").toUpperCase()||"file"!==c(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)r.push({file:this.files[a],inputElem:this,instanceConfig:c.extend({},t)})})),a(),this;function a(){if(0!==r.length){var t,n,a,i=r[0];if(k(e.before)){var s=e.before(i.file,i.inputElem);if("object"==typeof s){if("abort"===s.action)return t=i.file,n=i.inputElem,a=s.reason,void(k(e.error)&&e.error({name:"AbortError"},t,n,a));if("skip"===s.action)return void o();"object"==typeof s.config&&(i.instanceConfig=c.extend(i.instanceConfig,s.config))}else if("skip"===s)return void o()}var u=i.instanceConfig.complete;i.instanceConfig.complete=function(e){k(u)&&u(e,i.file,i.inputElem),o()},l.parse(i.file,i.instanceConfig)}else k(e.complete)&&e.complete()}function o(){r.splice(0,1),a()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=A(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new m(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1;var o=this._partialLine+e;this._partialLine="";var i=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=i.meta.cursor;this._finished||(this._partialLine=o.substring(s-this._baseIndex),this._baseIndex=s),i&&i.data&&(this._rowCount+=i.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)n.postMessage({results:i,workerId:l.WORKER_ID,finished:c});else if(k(this._config.chunk)&&!t){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return;i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!c||!k(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(e){k(this._config.error)?this._config.error(e):a&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function d(e){var t;(e=e||{}).chunkSize||(e.chunkSize=l.RemoteChunkSize),u.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open("GET",this._input,!r),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+a),t.setRequestHeader("If-None-Match","webkit-no-cache")}try{t.send()}catch(e){this._chunkError(e.message)}r&&0===t.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substr(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function f(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=l.LocalChunkSize),u.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,a)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function p(e){var t;u.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,n=e?t.substr(0,e):t;return t=e?t.substr(e):"",this._finished=!t,this.parseChunk(n)}}}function h(e){u.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=w((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=w((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=w((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function m(e){var t,n,r,a=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,i=this,s=0,c=0,u=!1,d=!1,f=[],p={data:[],errors:[],meta:{}};if(k(e.step)){var h=e.step;e.step=function(t){if(p=t,y())b();else{if(b(),0===p.data.length)return;s+=t.data.length,e.preview&&s>e.preview?n.abort():h(p,i)}}}function m(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function b(){if(p&&r&&(w("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<p.data.length;t++)m(p.data[t])&&p.data.splice(t--,1);return y()&&function(){if(p){for(var t=0;y()&&t<p.data.length;t++)for(var n=0;n<p.data[t].length;n++){var r=p.data[t][n];e.trimHeaders&&(r=r.trim()),f.push(r)}p.data.splice(0,1)}}(),function(){if(!p||!e.header&&!e.dynamicTyping&&!e.transform)return p;for(var t=0;t<p.data.length;t++){var n,r=e.header?{}:[];for(n=0;n<p.data[t].length;n++){var a=n,o=p.data[t][n];e.header&&(a=n>=f.length?"__parsed_extra":f[n]),e.transform&&(o=e.transform(o,a)),o=v(a,o),"__parsed_extra"===a?(r[a]=r[a]||[],r[a].push(o)):r[a]=o}p.data[t]=r,e.header&&(n>f.length?w("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+n,c+t):n<f.length&&w("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+n,c+t))}return e.header&&p.meta&&(p.meta.fields=f),c+=p.data.length,p}()}function y(){return e.header&&0===f.length}function v(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(a.test(n)?parseFloat(n):o.test(n)?new Date(n):""===n?null:n):n;var r}function w(e,t,n,r){p.errors.push({type:e,code:t,message:n,row:r})}this.parse=function(a,o,i){var s=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substr(0,1048576);var n=new RegExp(_(t)+"([^]*?)"+_(t),"gm"),r=(e=e.replace(n,"")).split("\r"),a=e.split("\n"),o=1<a.length&&a[0].length<r[0].length;if(1===r.length||o)return"\n";for(var i=0,s=0;s<r.length;s++)"\n"===r[s][0]&&i++;return i>=r.length/2?"\r\n":"\r"}(a,s)),r=!1,e.delimiter)k(e.delimiter)&&(e.delimiter=e.delimiter(a),p.meta.delimiter=e.delimiter);else{var c=function(t,n,r,a){for(var o,i,s,c=[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP],u=0;u<c.length;u++){var d=c[u],f=0,p=0,h=0;s=void 0;for(var _=new g({comments:a,delimiter:d,newline:n,preview:10}).parse(t),b=0;b<_.data.length;b++)if(r&&m(_.data[b]))h++;else{var y=_.data[b].length;p+=y,void 0!==s?1<y&&(f+=Math.abs(y-s),s=y):s=0}0<_.data.length&&(p/=_.data.length-h),(void 0===i||i<f)&&1.99<p&&(i=f,o=d)}return{successful:!!(e.delimiter=o),bestDelimiter:o}}(a,e.newline,e.skipEmptyLines,e.comments);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=l.DefaultDelimiter),p.meta.delimiter=e.delimiter}var d=A(e);return e.preview&&e.header&&d.preview++,t=a,n=new g(d),p=n.parse(t,o,i),b(),u?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,n.abort(),t=t.substr(n.getCharIndex())},this.resume=function(){u=!1,i.streamer.parseChunk(t,!0)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),p.meta.aborted=!0,k(e.complete)&&e.complete(p),t=""}}function _(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t,n=(e=e||{}).delimiter,r=e.newline,a=e.comments,o=e.step,i=e.preview,s=e.fastMode,c=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<l.BAD_DELIMITERS.indexOf(n))&&(n=","),a===n)throw"Comment character same as delimiter";!0===a?a="#":("string"!=typeof a||-1<l.BAD_DELIMITERS.indexOf(a))&&(a=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(e,l,f){if("string"!=typeof e)throw"Input must be a string";var p=e.length,h=n.length,m=r.length,g=a.length,b=k(o),y=[],v=[],A=[],w=u=0;if(!e)return I();if(s||!1!==s&&-1===e.indexOf(t)){for(var E=e.split(r),x=0;x<E.length;x++){if(A=E[x],u+=A.length,x!==E.length-1)u+=r.length;else if(f)return I();if(!a||A.substr(0,g)!==a){if(b){if(y=[],T(A.split(n)),L(),d)return I()}else T(A.split(n));if(i&&i<=x)return y=y.slice(0,i),I(!0)}}return I()}for(var O,C=e.indexOf(n,u),j=e.indexOf(r,u),D=new RegExp(_(c)+_(t),"g");;)if(e[u]!==t)if(a&&0===A.length&&e.substr(u,g)===a){if(-1===j)return I();u=j+m,j=e.indexOf(r,u),C=e.indexOf(n,u)}else if(-1!==C&&(C<j||-1===j))A.push(e.substring(u,C)),u=C+h,C=e.indexOf(n,u);else{if(-1===j)break;if(A.push(e.substring(u,j)),B(j+m),b&&(L(),d))return I();if(i&&y.length>=i)return I(!0)}else for(O=u,u++;;){if(-1===(O=e.indexOf(t,O+1)))return f||v.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:u}),P();if(O===p-1)return P(e.substring(u,O).replace(D,t));if(t!==c||e[O+1]!==c){if(t===c||0===O||e[O-1]!==c){var N=M(-1===j?C:Math.min(C,j));if(e[O+1+N]===n){A.push(e.substring(u,O).replace(D,t)),u=O+1+N+h,C=e.indexOf(n,u),j=e.indexOf(r,u);break}var S=M(j);if(e.substr(O+1+S,m)===r){if(A.push(e.substring(u,O).replace(D,t)),B(O+1+S+m),C=e.indexOf(n,u),b&&(L(),d))return I();if(i&&y.length>=i)return I(!0);break}v.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:y.length,index:u}),O++}}else O++}return P();function T(e){y.push(e),w=u}function M(t){var n=0;if(-1!==t){var r=e.substring(O+1,t);r&&""===r.trim()&&(n=r.length)}return n}function P(t){return f||(void 0===t&&(t=e.substr(u)),A.push(t),u=p,T(A),b&&L()),I()}function B(t){u=t,T(A),A=[],j=e.indexOf(r,u)}function I(e){return{data:y,errors:v,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:w+(l||0)}}}function L(){o(I()),y=[],v=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function b(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){r=!0,y(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(k(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:[t.results.data[o]],errors:t.results.errors,meta:t.results.meta},a),!r);o++);delete t.results}else k(n.userChunk)&&(n.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!r&&y(t.workerId,t.results)}function y(e,t){var n=i[e];k(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function v(){throw"Not implemented."}function A(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=A(e[n]);return t}function w(e,t){return function(){e.apply(t,arguments)}}function k(e){return"function"==typeof e}return a?n.onmessage=function(e){var t=e.data;if(void 0===l.WORKER_ID&&t&&(l.WORKER_ID=t.workerId),"string"==typeof t.input)n.postMessage({workerId:l.WORKER_ID,results:l.parse(t.input,t.config),finished:!0});else if(n.File&&t.input instanceof File||t.input instanceof Object){var r=l.parse(t.input,t.config);r&&n.postMessage({workerId:l.WORKER_ID,results:r,finished:!0})}}:l.WORKERS_SUPPORTED&&(t=document.getElementsByTagName("script"),e=t.length?t[t.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",(function(){o=!0}),!0):o=!0),(d.prototype=Object.create(u.prototype)).constructor=d,(f.prototype=Object.create(u.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(h.prototype=Object.create(u.prototype)).constructor=h,l})?r.apply(t,[]):r)||(e.exports=a)},function(e,t,n){e.exports={upload_btn_wrapper:"_16FgkAf-5nk6UejMnWWm90",btn:"_1CyhJ53atAzGnmuNXYbP8j",select:"_2-oVcNJPuV7nr0vbH0dJpM",select_container:"_3EIpMxOEFYC4URYQVTKiAL"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),s=n(6),l=u(n(13)),c=u(n(406));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.profile_model=n.store.profile,n.toggleNotification=n.toggleNotification.bind(n),n.profile_model.fetch(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"toggleNotification",value:function(e){!e.workbook_id||!1 in e||this.profile_model.saveNotification(e)}},{key:"render",value:function(){var e=this;return i.default.createElement(l.default,{width:"700",height:"400",successButton:!1,title:"Configure your notifications",closeButton:!0,store:this.store},i.default.createElement("div",null,i.default.createElement("table",{className:"table table-bordered notifications-table not-mobilize",style:{width:"100%"}},i.default.createElement("thead",null,i.default.createElement("th",{style:{width:"60%"}},"Workbook"),i.default.createElement("th",{style:{width:"20%"}},"When a task is assigned to me"),i.default.createElement("th",{style:{width:"20%"}},"When there's a new comment I'm involved in")),i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("td",null,"Default (for any new workbook)"),Object.keys(this.profile_model.notifications_per_workbook.default).map((function(t){return i.default.createElement("td",{className:"notification-setup"},i.default.createElement(c.default,{clickFunc:function(){return e.toggleNotification({workbook_id:"default",settings:{name:t,value:!e.profile_model.notifications_per_workbook.default[t]}})},activationBoolean:function(){return!!e.profile_model.notifications_per_workbook.default[t]}}))}))),store.workbooks.filtered.map((function(t){return i.default.createElement("tr",null,i.default.createElement("td",null,t.name),Object.keys(e.profile_model.notifications_per_workbook[t.id]).map((function(n){return i.default.createElement("td",{className:"notification-setup"},i.default.createElement(c.default,{clickFunc:function(){return e.toggleNotification({workbook_id:t.id,settings:{name:n,value:!e.profile_model.notifications_per_workbook[t.id][n]}})},activationBoolean:function(){return!!e.profile_model.notifications_per_workbook[t.id][n]}}))})))})),i.default.createElement("tr",null)))))}}]),t}())||r;t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),d=b(u),f=n(6),p=n(3),h=(b(n(13)),b(n(53))),m=b(n(882)),_=(n(883),b(n(407))),g=b(n(78));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function A(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var w=(0,f.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));v(n,"loading",o,n),v(n,"projectsettings",i,n),v(n,"workbooksettings",s,n),v(n,"has_to_confirm_workbook_save",l,n),n.store=n.props.store,n.close=n.close.bind(n),n.working_days={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},n.working_days_order=[1,2,3,4,5,6,0],n.loading=!1,n.workbook_name="standalone"==n.store.user.type?"This workbook":"This organization";var r=(0,p.toJS)(n.store.projectsettings.getSetting("rates"))||{},a=(0,p.toJS)(n.store.workbooksettings.getSetting("rates"))||{},c=(0,p.toJS)(n.store.projectsettings.getSetting("capacity"))||{},u=(0,p.toJS)(n.store.workbooksettings.getSetting("capacity"))||{};return n.store.users.models.forEach((function(e){void 0===r[e.id]&&(r[e.id]=0),void 0===c[e.id]&&(c[e.id]=8),void 0===u[e.id]&&(u[e.id]=8)})),(0,p.extendObservable)(n.projectsettings,{currency:n.store.projectsettings.getSetting("currency")||"$",rates:r,capacity:c}),(0,p.extendObservable)(n.workbooksettings,{currency:n.store.workbooksettings.getSetting("currency")||"$",rates:a,capacity:u}),window.testSettings=n,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"only_workbook",value:function(){return this.store.uistate.current_modal_options&&!0===this.store.uistate.current_modal_options.only_workbook||"group"==this.store.projects.selected.type||!this.store.projects.selected}},{key:"savePreferences",value:function(e){if(!this.only_workbook()){if(1==e.active_tab_index&&!e.forced)return console.log("Saving for workbook"),void(this.has_to_confirm_workbook_save=!0);e.forced&&e.override&&(this.projectsettings.rates=(0,p.toJS)(this.workbooksettings.rates),this.projectsettings.currency=(0,p.toJS)(this.workbooksettings.currency),this.projectsettings.capacity=(0,p.toJS)(this.workbooksettings.capacity)),this.store.projectsettings._set_setting("currency",this.projectsettings.currency),this.store.projectsettings._set_setting("rates",(0,p.toJS)(this.projectsettings.rates)),this.store.projectsettings._set_setting("capacity",(0,p.toJS)(this.projectsettings.capacity)),this.store.projectsettings._save()}this.store.workbooksettings._set_setting("currency",this.workbooksettings.currency),this.store.workbooksettings._set_setting("rates",(0,p.toJS)(this.workbooksettings.rates)),this.store.workbooksettings._set_setting("capacity",(0,p.toJS)(this.workbooksettings.capacity)),this.store.workbooksettings._save(),this.close()}},{key:"close",value:function(){this.has_to_confirm_workbook_save=!1,this.closeFn&&this.closeFn()}},{key:"renderWorkbook",value:function(){var e=this;return d.default.createElement("div",{className:m.default.body},this.has_to_confirm_workbook_save&&d.default.createElement(g.default,{width:"500",height:"300",title:"Settings",successButton:!1,closeButton:!0,closeButtonCallback:function(){return e.has_to_confirm_workbook_save=!1},store:this.store},d.default.createElement("div",null,"Overwrite project settings? ",d.default.createElement("br",null),d.default.createElement("br",null)),d.default.createElement("div",{style:{textAlign:"center"}},d.default.createElement("a",{className:"btn btn-info btn-small btn-flat",href:"javascript:void(0)",onClick:function(){return e.savePreferences({forced:!0,override:!1})}},"Don't overwrite")," ",d.default.createElement("a",{className:"btn btn-success btn-small btn-flat",href:"javascript:void(0)",onClick:function(){return e.savePreferences({forced:!0,override:!0})}},"Overwrite"))),d.default.createElement("div",{className:m.default.title},"Working days"),d.default.createElement("div",{className:m.default.item},d.default.createElement("div",{className:m.default.settings_selector},d.default.createElement("div",{style:{display:"flex"}},this.working_days_order.map((function(t){return d.default.createElement("div",{className:m.default.option_container},d.default.createElement("div",null,e.working_days[t].substr(0,3)),d.default.createElement(h.default,{key:"workbook-wd-"+t,clickFunc:function(){e.store.workbooksettings.set_working_days(null,y({},t,!(e.store.workbooksettings.working_days||workbook_defaults_wd)[t]))},activationBoolean:function(){return(e.store.workbooksettings.working_days||workbook_defaults_wd)[t]},text:""}))}))))),d.default.createElement("div",{className:m.default.title},"Currency"),d.default.createElement("div",{className:m.default.item},d.default.createElement("select",{onChange:function(t){return e.workbooksettings.currency=t.target.value},value:this.workbooksettings.currency},d.default.createElement("option",{value:"$"},"$"),d.default.createElement("option",{value:"B"},"B"),d.default.createElement("option",{value:"€"},"€"),d.default.createElement("option",{value:"¥"},"¥"),d.default.createElement("option",{value:"£"},"£"),d.default.createElement("option",{value:"R$"},"R$"),d.default.createElement("option",{value:"₣"},"₣"),d.default.createElement("option",{value:"₽"},"₽"),d.default.createElement("option",{value:"zł"},"zł"),d.default.createElement("option",{value:"Rp"},"Rp"),d.default.createElement("option",{value:"₩"},"₩"),d.default.createElement("option",{value:"R"},"R"),d.default.createElement("option",{value:"CHf"},"CHf"))),d.default.createElement("div",{className:m.default.title},"Rates and Capacity"),d.default.createElement("div",{className:m.default.item},d.default.createElement("table",{className:"table",style:{fontSize:"12px"}},d.default.createElement("thead",null,d.default.createElement("th",null,"Name"),d.default.createElement("th",null,"Rate/hr"),d.default.createElement("th",null,"Capacity/day")),d.default.createElement("tbody",null,this.store.users.filtered.filter((function(e){return e.id})).map((function(t){var n,r;return d.default.createElement("tr",null,d.default.createElement("td",null,t.name),d.default.createElement("td",{style:{verticalAlign:"middle",width:"30%"}},d.default.createElement("div",null,e.workbooksettings.currency," ",d.default.createElement("input",{onChange:function(n){e.workbooksettings.rates[t.id]=n.target.value},type:"text",value:e.workbooksettings.rates[t.id],style:(n={width:"30px",margin:0},y(n,"width","20px"),y(n,"fontSize","12px"),n)})," per hour")),d.default.createElement("td",null,d.default.createElement("div",null,d.default.createElement("input",{onChange:function(n){e.workbooksettings.capacity[t.id]=n.target.value},type:"text",value:e.workbooksettings.capacity[t.id],style:(r={width:"30px",margin:0},y(r,"width","20px"),y(r,"fontSize","12px"),r)})," hrs per day")))}))))))}},{key:"renderProject",value:function(){var e=this;return d.default.createElement("div",{className:m.default.body},d.default.createElement("div",{className:m.default.title},"Working days"),d.default.createElement("div",{className:m.default.item},d.default.createElement("div",{className:m.default.settings_selector},d.default.createElement("div",{style:{display:"flex"}},this.working_days_order.map((function(t){return d.default.createElement("div",{className:m.default.option_container},d.default.createElement("div",null,e.working_days[t].substr(0,3)),d.default.createElement(h.default,{key:"project-wd-"+t,clickFunc:function(){e.store.projectsettings.set_working_days(null,y({},t,!e.store.projectsettings.get_working_days()[t]))},activationBoolean:function(){return e.store.projectsettings.get_working_days()[t]},text:""}))}))))),d.default.createElement("div",{className:m.default.title},"Currency"),d.default.createElement("div",{className:m.default.item},d.default.createElement("select",{onChange:function(t){return e.projectsettings.currency=t.target.value},value:this.projectsettings.currency},d.default.createElement("option",{value:"$"},"$"),d.default.createElement("option",{value:"B"},"B"),d.default.createElement("option",{value:"€"},"€"),d.default.createElement("option",{value:"¥"},"¥"),d.default.createElement("option",{value:"£"},"£"),d.default.createElement("option",{value:"R$"},"R$"),d.default.createElement("option",{value:"₣"},"₣"),d.default.createElement("option",{value:"₽"},"₽"),d.default.createElement("option",{value:"zł"},"zł"),d.default.createElement("option",{value:"Rp"},"Rp"),d.default.createElement("option",{value:"₩"},"₩"),d.default.createElement("option",{value:"R"},"R"),d.default.createElement("option",{value:"CHf"},"CHf"))),d.default.createElement("div",{className:m.default.title},"Rates and Capacity"),d.default.createElement("div",{className:m.default.item},d.default.createElement("table",{className:"table",style:{fontSize:"12px"}},d.default.createElement("thead",null,d.default.createElement("th",null,"Name"),d.default.createElement("th",null,"Rate/hr"),d.default.createElement("th",null,"Capacity/day")),d.default.createElement("tbody",null,this.store.users.unfiltered_project_members.filter((function(e){return e.id})).map((function(t){var n,r;return d.default.createElement("tr",null,d.default.createElement("td",null,t.name),d.default.createElement("td",{style:{verticalAlign:"middle",width:"30%"}},d.default.createElement("div",null,e.projectsettings.currency," ",d.default.createElement("input",{onChange:function(n){e.projectsettings.rates[t.id]=n.target.value},type:"text",value:e.projectsettings.rates[t.id],style:(n={width:"30px",margin:0},y(n,"width","20px"),y(n,"fontSize","12px"),n)})," per hour")),d.default.createElement("td",null,d.default.createElement("div",null,d.default.createElement("input",{onChange:function(n){e.projectsettings.capacity[t.id]=n.target.value},type:"text",value:e.projectsettings.capacity[t.id],style:(r={width:"30px",margin:0},y(r,"width","20px"),y(r,"fontSize","12px"),r)})," hrs per day")))})))),0==this.store.users.unfiltered_project_members.filter((function(e){return e.id})).length&&d.default.createElement("p",{class:"alert alert-info"},"Your tasks have no assignees. Once you assign your tasks, you'll see the list of assignees here.")))}},{key:"render",value:function(){var e=this;return this.only_workbook()?d.default.createElement(_.default,{width:"700",height:"400",successButton:!0,successButtonEnabled:!0,successButtonName:"Save preferences",successButtonCallback:function(t){e.savePreferences(t)},title:"Settings",closeButton:!0,store:this.store,inheritClose:function(t){return e.closeFn=t},tabNames:["This Workbook"],tabContent:[this.renderWorkbook()]}):d.default.createElement(_.default,{width:"700",height:"400",successButton:!0,successButtonEnabled:!0,successButtonName:"Save preferences",successButtonCallback:function(t){e.savePreferences(t)},title:"Settings",closeButton:!0,store:this.store,inheritClose:function(t){return e.closeFn=t},tabNames:["This Project","This Workbook"],tabContent:[this.renderProject(),this.renderWorkbook()]})}}]),t}(),o=A(a.prototype,"loading",[p.observable],{enumerable:!0,initializer:null}),i=A(a.prototype,"projectsettings",[p.observable],{enumerable:!0,initializer:function(){return{}}}),s=A(a.prototype,"workbooksettings",[p.observable],{enumerable:!0,initializer:function(){return{}}}),l=A(a.prototype,"has_to_confirm_workbook_save",[p.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=w},function(e,t,n){e.exports={settings_selector:"_3FvIRNBkBPyuqg8j8oKqcM",option_container:"_3m7H6BrmUBNLqU5MrXo5P9",title:"_2zYolsfvzSa23fiSlHGaFg",item:"_3iw6wBDKMFLC-0157y-g47",body:"_3KBYrIiD8y6KVHuLBmME06"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabPanel=t.TabContainer=void 0;var r,a,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=p(l),u=n(3),d=n(6),f=p(n(884));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var b=(0,d.observer)((a=function(e){function t(e){h(this,t);var n,r,a,i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n=i,a=i,(r=o)&&Object.defineProperty(n,"active_tab",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0});var s=c.default.Children.map(i.props.children,(function(e){return{title:e.props.title,id:e.props.id,active:e.props.active}}));return i.active_tab=s.filter((function(e){return e.active}))[0].id,i.navStyle=i.props.navStyle?i.props.navStyle:{},i}return _(t,l.Component),s(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:f.default.container,style:i({},this.props.style)},c.default.createElement("div",{style:this.navStyle},this.tabs.map((function(t){return c.default.createElement("div",{onClick:function(){e.active_tab=t.id},className:[t.active?f.default.selected:"",f.default.navlink].join(" ")},t.title)}))),c.default.createElement("div",{className:f.default.container_body},this.tabs.map((function(e){return e.active?e.child:null}))))}},{key:"tabs",get:function(){var e=this;return c.default.Children.map(this.props.children,(function(t){return{title:t.props.title,id:t.props.id,active:t.props.id==e.active_tab,child:c.default.cloneElement(t,i({},t.props,{active:t.props.id==e.active_tab}))}}))}}]),t}(),o=g(a.prototype,"active_tab",[u.observable],{enumerable:!0,initializer:null}),g(a.prototype,"tabs",[u.computed],Object.getOwnPropertyDescriptor(a.prototype,"tabs"),a.prototype),r=a))||r,y=function(e){function t(e){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return _(t,l.Component),s(t,[{key:"render",value:function(){var e=this.props.active?"block":"none";return c.default.createElement("div",{className:"panel",style:{display:e}},this.props.children)}}]),t}();t.TabContainer=b,t.TabPanel=y},function(e,t,n){e.exports={navlink:"BG1a1jAh7lXPkkvS7RnPa",selected:"oqbEtS0ckxRGKnWHyUJj0",container:"TLPz-Wp7EDXamBnNHxvni",container_body:"DhjYlceTkgIaw9JrxBi3K"}},function(e,t,n){e.exports={container:"_1_ykL0c-O-QiuXFsfv6leO",visible:"b73b6q6yWIyZvtREqnbsJ",container_inner:"_1OcqnsD9vt0oanMUV3Qb8W",content:"_2uYJnm9V-DJAA-S7ccb8ih",header:"_2cBw51Bf9q5fJ_Q__RaKJ",close:"_1KnOLextJHTUMCIk7F42VM",tabs:"wW0ceRtJtEFLRx1Xxn8v9",tab:"_1utanrffnvRypHfJaOsWSX",active:"b6gkioZFUHaAQigYPjz-Y",body:"AJNaqHgFxVtrDEZy70ex0",footer:"_2LirmCFb2kK4xHeYCMIyCL",header_background:"_1LTaXc1EO18sGXEkvrzD3G"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.default.createElement(l.default,{width:"400",height:"500",title:this.store.uistate.current_modal_options.title,id:"global-message",closeButton:void 0===this.store.uistate.current_modal_options.closeButton||this.store.uistate.current_modal_options.closeButton,store:this.store},i.default.createElement("div",{className:"one-column-fields"},i.default.createElement("p",null,this.store.uistate.current_modal_options.message,this.store.uistate.current_modal_options.loading&&i.default.createElement("i",{className:"fa fa-spin fa-spinner"}))))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=_(d),p=n(6),h=n(3),m=_(n(13));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}_(n(53));var y=(0,p.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g(n,"logo",o,n),g(n,"values",i,n),g(n,"loading_setup",s,n),g(n,"status",l,n),g(n,"snapshot",c,n),n.store=n.props.store,n.close=n.close.bind(n),window.values=n.values,n.feedback=n.feedback.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"componentDidMount",value:function(){this.notification=this.store.notifications.get(this.store.uistate.current_modal_options.id),this.ref.innerHTML=this.notification.content}},{key:"componentWillMount",value:function(){}},{key:"close",value:function(){this.notification.is_preview?(this.store.uistate.current_modal="",this.store.uistate.current_modal_options=!1,this.store.notifications.remove([this.notification.id]),this.store.uistate.management_app=!0):($.post("/read-news"),this.store.uistate.current_modal="",this.store.uistate.current_modal_options=!1,this.notification.markRead())}},{key:"feedback",value:function(){Intercom("show"),this.close()}},{key:"render",value:function(){var e=this,t=this.store.notifications.get(this.store.uistate.current_modal_options.id),n="👋 Hi "+this.store.user.name.split(" ")[0]+", we have some news!";return"tooltip"==t.widget&&(n=" "),"helper"==t.widget&&(n="Help"),f.default.createElement(m.default,{width:"600",height:"500",style:{top:"10%",botttom:"10%"},title:n,closeButton:!0,closeButtonCallback:this.close,titleStyle:{fontSize:"24px",fontWeight:"bold",lineHeight:"50px"},headerStyle:{borderBottom:"none"},footerStyle:{borderTop:"none"},store:this.store,successButton:!!t.send_feedback,successButtonEnabled:!0,successButtonName:"Send us your feedback",successButtonCallback:this.feedback},f.default.createElement("div",{className:"notification-content",ref:function(t){return e.ref=t}}))}}]),t}(),o=b(a.prototype,"logo",[h.observable],{enumerable:!0,initializer:function(){return!1}}),i=b(a.prototype,"values",[h.observable],{enumerable:!0,initializer:function(){return{baseline_id:0,include_assignees:1,enable_workload:1,include_collapsed:1,include_highlighted_days:1,include_nonworking_highlighted_days:1,columns:{}}}}),s=b(a.prototype,"loading_setup",[h.observable],{enumerable:!0,initializer:function(){return!1}}),l=b(a.prototype,"status",[h.observable],{enumerable:!0,initializer:function(){return!1}}),c=b(a.prototype,"snapshot",[h.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),d=A(u),f=n(15),p=n(6),h=n(3),m=A(n(13)),g=A(n(30)),b=A(n(44)),y=A(n(889)),v=A(n(145));function A(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var E=function(e){var t=e.children,n=document.getElementById("react-datepicker-container");return(0,f.createPortal)(t,n)},x=(0,p.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return w(n,"selectedTemplate",o,n),w(n,"showOptions",i,n),w(n,"options",s,n),n.close=function(){n.store.uistate.current_modal=!1},n.store=n.props.store,n.options={name:"",duplicating:!1,new_start_date:void 0,original_start_date:"",active_menu:"templates",copy_from_public_snapshot_link:"",loading:!1,creating:!1},n.snapshotProjectData=null,n.showOptions=!1,n.options.creating=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"componentDidMount",value:function(){this.store.templates.fetch(),console.log("fetching templates")}},{key:"getTasksFirstDate",value:function(e){var t=[];return e.forEach((function(e){if(e.start){var n=(0,g.default)(e.start).toDate().getTime();t.push(n)}})),t.sort(),{original_start_date:(0,g.default)(t[0]).format("YYYY-MM-DD"),new_start_date:(0,g.default)(t[0])}}},{key:"projectOptions",value:function(){var e=this;if("custom_templates"==this.options.active_menu&&this.close(),"copy_from_snapshot"==this.options.active_menu){if(this.options.name="",""==(t=this.options.copy_from_public_snapshot_link))return void alert("Link can't be empty");1==t.split(".json").length&&(t+=".json")}else{var t;this.options.name=this.selectedTemplate.name,1==(t=this.selectedTemplate.snapshotUrl).split(".json").length&&(t+=".json")}this.options.creating=!0,fetch(t,{method:"GET",credentials:"include"}).then((function(t){e.options.creating=!1,t.json().then((function(t){e.snapshotProjectData=t;var n={};t.tasks.forEach((function(e){n[e.id]=e}));var r=e.getTasksFirstDate(t.tasks);e.options.original_start_date=r.original_start_date,e.showOptions=!0}))})).catch((function(t){e.options.creating=!1,alert("An error ocurred while fetching the data")}))}},{key:"createProject",value:function(){""!=this.options.name?(this.snapshotProjectData.name=this.options.name,this.createStandaloneProject(this.snapshotProjectData),window.utils.inev("app","Create Project",this.options.active_menu)):alert("Name can't be empty")}},{key:"prepare_task_data",value:function(e,t,n){var r,a;r=e.due?(0,g.default)(e.due).add("days",n).format("YYYY-MM-DD"):"standalone"!=this.store.projects.selected.supplier?"null":"",a=e.start?(0,g.default)(e.start).add("days",n).format("YYYY-MM-DD"):"";var o=v.default.duplicationAttributes(e);return delete o.user,delete o.users,delete o.assignee,delete o.progress,o.start=a,o.due=r,o.projects=[{name:t.name,id:t.id}],e.is_priority_heading&&(o.is_priority_heading=!0,o.estimated_hours=""),o}},{key:"createStandaloneProject",value:function(e){var t=this,n=void 0,r=void 0,a={};this.options.creating=!0;var o=function(e){$(".duplicate-status").html("<i class='fa fa-spin fa-spinner'></i> "+e)},i={name:e.name,workbook:{id:this.store.workbooks.selected.id,name:this.store.workbooks.selected.name},supplier:this.store.workbooks.selected.projects[0].supplier,type:this.store.workbooks.selected.projects[0].type};o("Creating project..."),this.store.workbooks.selected.createNewProject(i,(function(i){n=t.store.projects.get(i.id),r=e.tasks.filter((function(e){return!e.is_new_task_handler})).map((function(e){return a[e.id]=null,e})),window.router.navigate("/projects/"+n.id+"/"+n.id),t.store.projects.selectProject(n);setTimeout((function(){Promise.all(r.map((function(e){var r=(0,g.default)(t.options.new_start_date).diff((0,g.default)(t.options.original_start_date),"days"),o=e.id,i=t.prepare_task_data(e,n,r);return console.log(i),e.parent&&(i.parent=e.parent),i.local_priority=e.local_priority,i.priority=e.priority,i.priority_heading_id=e.priority_heading_id,i.priority_heading=e.priority_heading,i.is_priority_heading=e.is_priority_heading,delete i.id,new Promise((function(e,n){t.store.tasks.create(i).then((function(n){i.is_priority_heading&&t.store.tasks.add([{id:parseInt(1e14*Math.random()),name:"Create task...",is_project:!1,is_priority_heading:!1,is_for_section:!0,dependent_of:[],parent_priority_heading:i.priority,priority_heading_id:n.id,priority:1e4,projects:i.projects,local_priority:1e4,completed:!1,is_new_task_handler:!0,project_priority:i.project_priority,collection:t}]),a[o]=n.id,e()}))}))}))).then((function(e){!function(e){var n=0;e=0,t.store.tasks.filtered.forEach((function(r){if(!r.is_new_task_handler){var i=[];"object"==l(r.dependent_of)?_.each(r.dependent_of.toJS(),(function(e){e&&a[e]&&i.push(a[e])})):r.dependent_of&&void 0!==a[r.dependent_of]&&(i=a[r.dependent_of]),r.dependent_of=i,r.parent&&r.parent.id&&void 0!==a[r.parent.id]&&(r.parent.id=a[r.parent.id]),r.priority_heading_id&&void 0!==a[r.priority_heading_id]&&(r.priority_heading_id=a[r.priority_heading_id]),e++,r.save().then((function(){o("Updating task: "+r.name),++n==e&&(t.store.tasks.saveLocalPositions(),NProgress.done(),t.options.creating=!1,t.store.uistate.current_modal=!1,t.store.tasks.scroll_to=t.store.tasks.locateScroll())})).catch((function(e){}))}}))}(r.length)})).catch((function(e){}))}),0)}))}},{key:"render",value:function(){var e=this;return this.store.snapshots,d.default.createElement(m.default,{width:this.showOptions?"450":"900",height:"500",title:this.showOptions?"New Project settings":"Templates",closeButton:!this.options.creating,closeButtonCallback:this.close,successButton:"true",successButtonEnabled:!this.options.creating,successButtonLoading:this.options.creating,successButtonName:this.showOptions?"Create project":"Continue",successButtonCallback:function(){e.showOptions?e.createProject():e.projectOptions()},store:this.store},d.default.createElement("div",{className:"help-tips-white"},!this.showOptions&&d.default.createElement("div",null,d.default.createElement("div",{className:y.default.nav},d.default.createElement("a",{href:"javascript:void(0)",onClick:function(){e.options.active_menu="templates"},className:"templates"==this.options.active_menu?y.default.selected:""},"Templates"),d.default.createElement("a",{href:"javascript:void(0)",onClick:function(){e.options.active_menu="custom_templates"},className:"custom_templates"==this.options.active_menu?y.default.selected:""},"Custom templates"),d.default.createElement("a",{href:"javascript:void(0)",onClick:function(){e.options.active_menu="copy_from_snapshot"},className:"copy_from_snapshot"==this.options.active_menu?y.default.selected:""},"Copy from Public Snapshot")),"templates"==this.options.active_menu&&d.default.createElement("div",{className:[y.default.grid_row,this.store.uistate.is_mobile?y.default.grid_row_mobile:""].join(" ")},this.store.templates.models.map((function(t){return d.default.createElement("div",{className:[y.default.grid_item,e.selectedTemplate&&e.selectedTemplate.id==t.id?y.default.active:""].join(" "),onClick:function(n){e.selectedTemplate=t}},t.icon&&d.default.createElement("div",{className:y.default.grid_icon},d.default.createElement("i",{className:["fa",t.icon].join(" ")})),d.default.createElement("div",{className:y.default.template_header},d.default.createElement("div",{style:{flexGrow:1}},d.default.createElement("span",null,t.name))),d.default.createElement("div",{className:y.default.template_description},t.description),d.default.createElement("div",{className:y.default.template_action},d.default.createElement("a",{className:"btn btn-flat btn-small",href:t.snapshotUrl,target:"_blank"},d.default.createElement("i",{className:"fas fa-eye"})," Preview"),"  "))}))),"custom_templates"==this.options.active_menu&&d.default.createElement("div",null,d.default.createElement("h4",null,"Custom Templates"),d.default.createElement("p",null,"There's no need to create custom templates, because ",d.default.createElement("b",null,"any project can be used as a template!")),d.default.createElement("p",null,'To create a new project based on another one, open the base project and then click on the "Duplicate" icon located on the right toolbar.')),"copy_from_snapshot"==this.options.active_menu&&d.default.createElement("div",null,d.default.createElement("h4",null,"Public snapshot URL to copy from"),d.default.createElement("input",{value:this.options.copy_from_public_snapshot_link,onChange:function(t){return e.options.copy_from_public_snapshot_link=t.target.value},placeholder:"Example: https://app.instagantt.com/shared/ob38ucx284...",type:"text",style:{width:"100%",marginRight:"10px",boxSizing:"border-box",height:"30px"}}))),this.showOptions&&d.default.createElement("div",null,d.default.createElement("table",{className:"table"},d.default.createElement("tbody",null,d.default.createElement("tr",null,d.default.createElement("td",null,"New Project name"),d.default.createElement("td",null,d.default.createElement("input",{ref:function(t){return e.inputNode=t},type:"text",onChange:function(t){return e.options.name=t.target.value},className:"input-editable-cell new-project-name",value:this.options.name,style:{marginBottom:0}}))),d.default.createElement("tr",null,d.default.createElement("td",null,"New start date"),d.default.createElement("td",null,d.default.createElement(b.default,{popperContainer:E,dateFormat:"dd MMM yyyy",selected:(0,g.default)(this.options.new_start_date).toDate(),onSelect:function(t){e.options.new_start_date=moment(t).format("YYYY-MM-DD")},className:"input-editable-cell",popoverTargetOffset:"0px -30px",style:{width:"30px"}}))))),d.default.createElement("div",{className:"duplicate-status"}))))}}]),t}(),o=k(a.prototype,"selectedTemplate",[h.observable],{enumerable:!0,initializer:null}),i=k(a.prototype,"showOptions",[h.observable],{enumerable:!0,initializer:null}),s=k(a.prototype,"options",[h.observable],{enumerable:!0,initializer:null}),r=a))||r;t.default=x},function(e,t,n){e.exports={active:"_3lIxIs47lW2W2VfB-gZjxB",template_header:"_2WQrrkyL5ztprpiTC02CYn",grid_row:"_2M9q51XaajI5eAhgMjiAtD",grid_row_mobile:"_2V2gVcjmEc3k-QZo3cv-LS",grid_item:"_1bw8Mh1wdYU4__Slu2MOaz",grid_icon:"KSdGR_Sq7D4aXOcSoIvd_",template_description:"kvOUoW-fn3H-SUs25BZDr",template_action:"_11ByVMxiXaOinzDgCv6ezo",nav:"_2_sypNB6ckDsqJLaucVtMm",selected:"_1Q6QN1oHws2LmcqR9xUmSz"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(15),l=n(6);function c(e){return e&&e.__esModule?e:{default:e}}n(3),c(n(13)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var u=function(e){var t=e.children;return(0,s.createPortal)(t,document.body)},d=(0,l.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.node.style.opacity=1,setTimeout((function(){e.node.style.opacity=0,setTimeout((function(){e.store.uistate.current_modal="",e.store.uistate.current_modal_options=!1}),500)}),600)}},{key:"render",value:function(){var e=this;return i.default.createElement(u,null,i.default.createElement("div",{style:{position:"fixed",top:"20%",left:"50%",marginLeft:"-250px",padding:"50px",fontSize:"32px",background:"rgba(0,0,0,0.7)",borderRadius:"15px",color:"#ffffff",zIndex:"10000",width:"500px",textAlign:"center",opacity:0,transition:"opacity 0.5s linear"},ref:function(t){return e.node=t}},i.default.createElement("div",{className:"one-column-fields"},i.default.createElement("p",null,this.store.uistate.current_modal_options.message))))}}]),t}())||r;t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),s=n(6),l=(n(3),u(n(13))),c=(u(n(53)),u(n(298)));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.close=n.close.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){}},{key:"close",value:function(){this.store.uistate.current_modal="",this.store.uistate.current_modal_options=!1,this.store.uistate.task_details_open=!1}},{key:"render",value:function(){return i.default.createElement(l.default,{width:"600",height:"500",style:{top:"10%",botttom:"10%"},title:"Task Details",closeButton:!0,closeButtonCallback:this.close,store:this.store,footerStyle:{display:"none"},headerStyle:{display:"none"},bodyStyle:{maxHeight:"none",position:"absolute",top:0,bottom:0,left:0,right:0,overflowX:"hidden"}},i.default.createElement(c.default,{store:this.store}))}}]),t}())||r;t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}f(n(44));var p,h,m,g,b,y=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.handleChange=i.handleChange.bind(i),i.saveChanges=i.saveChanges.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"handleChange",value:function(e){this.options[e.target.name]=parseInt(e.target.value,10)}},{key:"saveChanges",value:function(){var e=this;_.each(this.options,(function(t,n){e.store.uistate[n]=t})),this.store.uistate.current_modal=!1}},{key:"cancelAnyway",value:function(){var e=this.store.uistate.current_modal_options.selected_subscription;return this.options.cancelling=!0,"standalone"==this.store.user.type?fetch("/subscriptions/"+e.id+"/cancel",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return window.location.reload(),e.json()})):fetch("/subscriptions/current",{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return window.location.reload(),e.json()}))}},{key:"redeem",value:function(){Intercom("showNewMessage","Hi Instagantt team, we would like to redeem the 90% off for the next 3 months offer. Thanks!"),this.store.uistate.current_modal="",this.store.uistate.current_modal_options=!1}},{key:"close",value:function(){this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}},{key:"render",value:function(){var e=this;return this.store.projects.selected,l.default.createElement(d.default,{width:"750",height:"500",title:"Wait!",id:"change-timeline-modal",closeButton:"true",successButton:!1,successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.saveChanges,store:this.store},l.default.createElement("h3",null,"We know these are difficult times. Let's help each other!"),l.default.createElement("div",{className:"default",style:{display:"flex",textAlign:"center"}},l.default.createElement("div",{style:{padding:"30px"}},l.default.createElement("h2",null,"90% off during COVID-19"),l.default.createElement("p",null,"We would like to help you by offering 3 months with 90% off"),l.default.createElement("p",null,l.default.createElement("button",{onClick:function(){return e.redeem()},className:"btn btn-flat btn-success"},"Request discount"))),l.default.createElement("div",{style:{padding:"30px"}},l.default.createElement("h2",null,"No thanks"),l.default.createElement("p",null,"Cancel account immediately"),l.default.createElement("p",null,l.default.createElement("button",{disabled:!!this.options.cancelling,className:"btn btn-flat btn-danger",onClick:function(){return e.cancelAnyway()}},l.default.createElement("i",{className:"fas fa-trash"})," ",this.options.cancelling?l.default.createElement("i",{className:"fa fa-spin fa-spinner"}):" Cancel")))))}}]),t}(),p=a.prototype,h="options",m=[u.observable],g={enumerable:!0,initializer:function(){return{cancelling:!1}}},b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),void 0===(b=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),b)).initializer&&(Object.defineProperty(p,h,b),b=null),o=b,r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}f(n(44)),n(409);var p,h,m,g,b,y=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.toggleEditName=function(e){i.options.editing_name=!0,i.options.name=i.project.name},i.saveEditName=function(e){i.project.name=i.options.name,i.project.save(),i.options.editing_name=!1},i.handleKeyDown=function(e){27==e.keyCode?i.options.editing_name=!1:13==e.keyCode&&(i.saveEditName(),i.options.eiting_name=!1)},i.store=i.props.store,i.handleChange=i.handleChange.bind(i),i.saveChanges=i.saveChanges.bind(i),i.addOrRemove=i.addOrRemove.bind(i),i.project=i.store.projects.get(i.store.uistate.current_modal_options.id),i.deleteFolder=i.deleteFolder.bind(i),i.current_projects=i.project.projects_in_folder.map((function(e){return store.projects.get(e)})),i.other_projects=i.store.projects.filteredWorkbook.filter((function(e){return!i.store.projects.projectsFolders[e.id]&&"folder"!=e.subtype&&"folder"!=e.type&&"group"!=e.type})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"handleChange",value:function(e){this.options[e.target.name]=parseInt(e.target.value,10)}},{key:"saveChanges",value:function(){var e=this;_.each(this.options,(function(t,n){e.store.uistate[n]=t})),this.store.uistate.current_modal=!1}},{key:"close",value:function(){this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}},{key:"addOrRemove",value:function(e){console.log(e),this.store.projects.projectsFolders[e.id]?this.project.removeFromFolder(e.id):this.project.addToFolder(e.id),this.project.save()}},{key:"renderProjectItem",value:function(e){var t=this;return l.default.createElement("div",{style:{display:"flex",fontSize:"14px"}},l.default.createElement("div",{style:{flexGrow:1,padding:"5px",fontSize:"14px"}},e.name),l.default.createElement("div",{style:{padding:"5px",fontSize:"24px",cursor:"pointer"},onClick:function(){return t.addOrRemove(e)}},this.store.projects.projectsFolders[e.id]&&this.store.projects.projectsFolders[e.id]==this.project.id&&l.default.createElement("i",{className:"fas fa-toggle-on",style:{color:"#008ACA"}}),!this.store.projects.projectsFolders[e.id]&&l.default.createElement("i",{className:"fas fa-toggle-off"})))}},{key:"deleteFolder",value:function(){confirm("Are you sure?")&&("folder"==this.project.type||"folder"==this.project.subtype?(this.project.destroy(),this.store.uistate.current_modal="",this.store.uistate.current_modal_options=""):(this.project.save({archived:!0}),this.store.uistate.current_modal="",this.store.uistate.current_modal_options=""))}},{key:"render",value:function(){var e=this;return this.store.projects.selected,l.default.createElement(d.default,{width:"500",height:"500",title:"folder"==this.project.type||"folder"==this.project.subtype?"Folder settings":"Project Settings",id:"change-timeline-modal",closeButton:"true",successButton:!1,successButtonEnabled:"true",successButtonName:"Save",successButtonCallback:this.saveChanges,dangerButton:!0,dangerButtonName:"folder"==this.project.type||"folder"==this.project.subtype?"Delete folder":"Archive Project",dangerButtonCallback:this.deleteFolder,dangerButtonEnabled:!0,store:this.store},l.default.createElement("div",null,l.default.createElement("div",null,l.default.createElement("b",null,"Name")),!this.options.editing_name&&l.default.createElement("div",null,this.project.name," ",l.default.createElement("i",{style:{cursor:"pointer"},className:"fa fa-pen",onClick:this.toggleEditName})),this.options.editing_name&&l.default.createElement("div",null,l.default.createElement("input",{autoFocus:!0,type:"text",value:this.options.name,onChange:function(t){return e.options.name=t.target.value},onKeyDown:this.handleKeyDown,style:{marginBottom:0}})," ",l.default.createElement("button",{className:"btn btn-flat btn-success",onClick:this.saveEditName},"Save"))),"folder"==this.project.type||"folder"==this.project.subtype&&l.default.createElement("div",{className:"default"},l.default.createElement("div",{style:{margin:"30px 0 10px 0",fontWeight:"bold"}},"Projects in this folder"),this.current_projects.map((function(t){return e.renderProjectItem(t)})),this.other_projects.map((function(t){return e.renderProjectItem(t)}))))}}]),t}(),p=a.prototype,h="options",m=[u.observable],g={enumerable:!0,initializer:function(){return{cancelling:!1,editing_name:!1,name:""}}},b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),void 0===(b=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),b)).initializer&&(Object.defineProperty(p,h,b),b=null),o=b,r=a))||r;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),h=b(p),m=n(6),_=n(3),g=b(n(13));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function E(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var x=(0,m.observer)((a=function(e){function t(e){A(this,t);var n=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return v(n,"option",o,n),v(n,"editing",i,n),v(n,"colors",s,n),n.project=n.props.project,n.colors=n.props.colors,n}return k(t,p.Component),f(t,[{key:"setColor",value:function(e){void 0!==this.colors[this.project.id]?this.colors[this.project.id]=e:(0,_.extendObservable)(this.colors,y({},this.project.id,e)),this.store.uistate.trackAnalytics("Overview:Timeline:ChangeColors")}},{key:"render",value:function(){var e=this;return h.default.createElement("div",{style:{borderBottom:"1px solid #ccc",display:"flex"}},h.default.createElement("div",{style:{padding:"10px",flexGrow:1}},this.project.name),h.default.createElement("div",{style:{padding:"10px",cursor:"pointer"},className:"dropdown"},this.colors[this.project.id]&&h.default.createElement("div",{"data-toggle":"dropdown",className:"dropdown-toggle palette palette-"+this.colors[this.project.id],style:{padding:"3px 5px",borderRadius:"3px"}},h.default.createElement("i",{className:"fa fa-chevron-down"})),!this.colors[this.project.id]&&h.default.createElement("div",{"data-toggle":"dropdown",className:"dropdown-toggle",style:{padding:"3px 5px",borderRadius:"3px"}},h.default.createElement("i",{className:"fa fa-chevron-down"})," Default"),h.default.createElement("ul",{className:"dropdown-menu",style:{minWidth:"auto",marginLeft:"-50px"}},h.default.createElement("li",{onClick:function(){return e.setColor(null)},style:{padding:"3px 10px"}},h.default.createElement("i",{className:"fal fa-wand-magic"})," Default"),[1,2,3,4,5,6,7,8,9,10,11,12,13].map((function(t){return h.default.createElement("li",{onClick:function(){return e.setColor(t)}},h.default.createElement("a",{href:"javascript:void(0);"},h.default.createElement("div",{style:{width:"17px",height:"17px",borderRadius:"3px"},className:"palette palette-"+t})))})))))}}]),t}(),o=E(a.prototype,"option",[_.observable],{enumerable:!0,initializer:null}),i=E(a.prototype,"editing",[_.observable],{enumerable:!0,initializer:function(){return!1}}),s=E(a.prototype,"colors",[_.observable],{enumerable:!0,initializer:null}),r=a))||r,O=(0,m.observer)(l=function(e){function t(e){A(this,t);var n=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.projects=n.props.projects,n.colors=n.props.colors,n}return k(t,p.Component),f(t,[{key:"render",value:function(){var e=this;return h.default.createElement(h.default.Fragment,null,this.projects.map((function(t,n){return h.default.createElement(x,{project:t,colors:e.colors})})))}}]),t}())||l,C=(0,m.observer)((u=function(e){function t(e){A(this,t);var n=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));v(n,"colors",d,n),n.close=function(){n.store.uistate.current_modal=""},n.store=n.props.store,n.save=n.save.bind(n),n.projects=n.store.tasks.timeline;var r=n.store.projectsettings.getSetting("overview_colors")||{};return n.projects.forEach((function(e){void 0===r[e.id]&&(0,_.extendObservable)(r,y({},e.id,!1))})),n.colors=r,n}return k(t,p.Component),f(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"save",value:function(){this.store.projectsettings._set_setting("overview_colors",(0,_.toJS)(this.colors)),this.store.projectsettings._save(),this.store.uistate.trackAnalytics("Overview:Timeline:ChangeColors"),this.close()}},{key:"render",value:function(){return h.default.createElement(g.default,{width:"500",height:"450",successButton:!0,successButtonEnabled:!0,successButtonName:"Save",successButtonCallback:this.save,title:"Colors",closeButton:!0,store:this.store},h.default.createElement(h.default.Fragment,null,h.default.createElement("div",null,'Default colors are red for "overdue", blue for "on time", and green for "done".'),h.default.createElement("div",{style:{paddingBottom:"300px"}},h.default.createElement(O,{projects:this.projects,colors:this.colors,store:this.store}))))}}]),t}(),d=E(u.prototype,"colors",[_.observable],{enumerable:!0,initializer:null}),c=u))||c;t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=_(c),d=n(6),f=n(3),p=_(n(13)),h=_(n(896)),m=_(n(897));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function b(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));g(n,"colors",o,n),g(n,"copying",i,n),g(n,"copy_text",s,n),n.close=function(){n.store.uistate.current_modal=""},n.copy=function(){n.copying=!0,n.canvas.toBlob((function(e){navigator.clipboard.write([new ClipboardItem({"image/png":e})]),setTimeout((function(){n.copying=!1,n.copy_text="Copied!",setTimeout((function(){n.copying=!1,n.copy_text="Copy to clipboard"}),1e3)}),500)}))},n.store=n.props.store,n.save=n.save.bind(n),n.projects=n.store.tasks.timeline;var r=n.store.projectsettings.getSetting("overview_colors")||{};return n.projects.forEach((function(e){var t,n;void 0===r[e.id]&&(0,f.extendObservable)(r,(t={},!1,(n=e.id)in t?Object.defineProperty(t,n,{value:!1,enumerable:!0,configurable:!0,writable:!0}):t[n]=!1,t))})),n.colors=r,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){(0,h.default)(document.querySelector("#timeline-container")).then((function(t){e.canvas=t,document.querySelector("#image-container").innerHTML="",document.querySelector("#image-container").appendChild(t)}))}),500),this.store.uistate.trackAnalytics("Overview:Timeline:CopyToClipboard")}},{key:"componentWillUnmount",value:function(){}},{key:"save",value:function(){this.store.projectsettings._set_setting("overview_colors",(0,f.toJS)(this.colors)),this.store.projectsettings._save(),this.close()}},{key:"render",value:function(){var e=this;return u.default.createElement(p.default,{width:"900",height:"500",successButton:!1,successButtonEnabled:!0,successButtonName:"Save",successButtonCallback:this.save,title:"Copy image",closeButton:!0,store:this.store},u.default.createElement(u.default.Fragment,null,u.default.createElement("div",null,"Right click on this image and copy it to your clipboard or click here: ",u.default.createElement("button",{className:"btn btn-flat btn-success btn-small",onClick:function(){return e.copy()},disabled:this.copying},u.default.createElement("i",{className:"far fa-copy"}),this.copying&&u.default.createElement("i",{className:"fa fa-spin fa-spinner"})," ",this.copy_text)),u.default.createElement("div",null,"Then you can paste it (ctrl+v) on your Keynote presentation, Powerpoint, or any other document."),u.default.createElement("div",{id:"image-container",className:m.default.image_container,style:{padding:20}},u.default.createElement("i",{className:"fa fa-spin fa-spinner"}))))}}]),t}(),o=b(a.prototype,"colors",[f.observable],{enumerable:!0,initializer:null}),i=b(a.prototype,"copying",[f.observable],{enumerable:!0,initializer:function(){return!1}}),s=b(a.prototype,"copy_text",[f.observable],{enumerable:!0,initializer:function(){return"Copy to clipboard"}}),r=a))||r;t.default=y},function(module,exports,__webpack_require__){
/*!
 * html2canvas 1.0.0-rc.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
var factory;window,factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.js")}({"./node_modules/css-line-break/dist/LineBreak.js":
/*!*******************************************************!*\
  !*** ./node_modules/css-line-break/dist/LineBreak.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.LineBreaker = exports.inlineBreakOpportunities = exports.lineBreakAtIndex = exports.codePointsToCharacterClasses = exports.UnicodeTrie = exports.BREAK_ALLOWED = exports.BREAK_NOT_ALLOWED = exports.BREAK_MANDATORY = exports.classes = exports.LETTER_NUMBER_MODIFIER = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _Trie = __webpack_require__(/*! ./Trie */ \"./node_modules/css-line-break/dist/Trie.js\");\n\nvar _linebreakTrie = __webpack_require__(/*! ./linebreak-trie */ \"./node_modules/css-line-break/dist/linebreak-trie.js\");\n\nvar _linebreakTrie2 = _interopRequireDefault(_linebreakTrie);\n\nvar _Util = __webpack_require__(/*! ./Util */ \"./node_modules/css-line-break/dist/Util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LETTER_NUMBER_MODIFIER = exports.LETTER_NUMBER_MODIFIER = 50;\n\n// Non-tailorable Line Breaking Classes\nvar BK = 1; //  Cause a line break (after)\nvar CR = 2; //  Cause a line break (after), except between CR and LF\nvar LF = 3; //  Cause a line break (after)\nvar CM = 4; //  Prohibit a line break between the character and the preceding character\nvar NL = 5; //  Cause a line break (after)\nvar SG = 6; //  Do not occur in well-formed text\nvar WJ = 7; //  Prohibit line breaks before and after\nvar ZW = 8; //  Provide a break opportunity\nvar GL = 9; //  Prohibit line breaks before and after\nvar SP = 10; // Enable indirect line breaks\nvar ZWJ = 11; // Prohibit line breaks within joiner sequences\n// Break Opportunities\nvar B2 = 12; //  Provide a line break opportunity before and after the character\nvar BA = 13; //  Generally provide a line break opportunity after the character\nvar BB = 14; //  Generally provide a line break opportunity before the character\nvar HY = 15; //  Provide a line break opportunity after the character, except in numeric context\nvar CB = 16; //   Provide a line break opportunity contingent on additional information\n// Characters Prohibiting Certain Breaks\nvar CL = 17; //  Prohibit line breaks before\nvar CP = 18; //  Prohibit line breaks before\nvar EX = 19; //  Prohibit line breaks before\nvar IN = 20; //  Allow only indirect line breaks between pairs\nvar NS = 21; //  Allow only indirect line breaks before\nvar OP = 22; //  Prohibit line breaks after\nvar QU = 23; //  Act like they are both opening and closing\n// Numeric Context\nvar IS = 24; //  Prevent breaks after any and before numeric\nvar NU = 25; //  Form numeric expressions for line breaking purposes\nvar PO = 26; //  Do not break following a numeric expression\nvar PR = 27; //  Do not break in front of a numeric expression\nvar SY = 28; //  Prevent a break before; and allow a break after\n// Other Characters\nvar AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\nvar AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\nvar CJ = 31; //  Treat as NS or ID for strict or normal breaking.\nvar EB = 32; //  Do not break from following Emoji Modifier\nvar EM = 33; //  Do not break from preceding Emoji Base\nvar H2 = 34; //  Form Korean syllable blocks\nvar H3 = 35; //  Form Korean syllable blocks\nvar HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\nvar ID = 37; //  Break before or after; except in some numeric context\nvar JL = 38; //  Form Korean syllable blocks\nvar JV = 39; //  Form Korean syllable blocks\nvar JT = 40; //  Form Korean syllable blocks\nvar RI = 41; //  Keep pairs together. For pairs; break before and after other classes\nvar SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\nvar XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\n\nvar classes = exports.classes = {\n    BK: BK,\n    CR: CR,\n    LF: LF,\n    CM: CM,\n    NL: NL,\n    SG: SG,\n    WJ: WJ,\n    ZW: ZW,\n    GL: GL,\n    SP: SP,\n    ZWJ: ZWJ,\n    B2: B2,\n    BA: BA,\n    BB: BB,\n    HY: HY,\n    CB: CB,\n    CL: CL,\n    CP: CP,\n    EX: EX,\n    IN: IN,\n    NS: NS,\n    OP: OP,\n    QU: QU,\n    IS: IS,\n    NU: NU,\n    PO: PO,\n    PR: PR,\n    SY: SY,\n    AI: AI,\n    AL: AL,\n    CJ: CJ,\n    EB: EB,\n    EM: EM,\n    H2: H2,\n    H3: H3,\n    HL: HL,\n    ID: ID,\n    JL: JL,\n    JV: JV,\n    JT: JT,\n    RI: RI,\n    SA: SA,\n    XX: XX\n};\n\nvar BREAK_MANDATORY = exports.BREAK_MANDATORY = '!';\nvar BREAK_NOT_ALLOWED = exports.BREAK_NOT_ALLOWED = '×';\nvar BREAK_ALLOWED = exports.BREAK_ALLOWED = '÷';\nvar UnicodeTrie = exports.UnicodeTrie = (0, _Trie.createTrieFromBase64)(_linebreakTrie2.default);\n\nvar ALPHABETICS = [AL, HL];\nvar HARD_LINE_BREAKS = [BK, CR, LF, NL];\nvar SPACE = [SP, ZW];\nvar PREFIX_POSTFIX = [PR, PO];\nvar LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\nvar KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\nvar HYPHEN = [HY, BA];\n\nvar codePointsToCharacterClasses = exports.codePointsToCharacterClasses = function codePointsToCharacterClasses(codePoints) {\n    var lineBreak = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'strict';\n\n    var types = [];\n    var indicies = [];\n    var categories = [];\n    codePoints.forEach(function (codePoint, index) {\n        var classType = UnicodeTrie.get(codePoint);\n        if (classType > LETTER_NUMBER_MODIFIER) {\n            categories.push(true);\n            classType -= LETTER_NUMBER_MODIFIER;\n        } else {\n            categories.push(false);\n        }\n\n        if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\n            // U+2010, – U+2013, 〜 U+301C, ゠ U+30A0\n            if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\n                indicies.push(index);\n                return types.push(CB);\n            }\n        }\n\n        if (classType === CM || classType === ZWJ) {\n            // LB10 Treat any remaining combining mark or ZWJ as AL.\n            if (index === 0) {\n                indicies.push(index);\n                return types.push(AL);\n            }\n\n            // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\n            // the base character in all of the following rules. Treat ZWJ as if it were CM.\n            var prev = types[index - 1];\n            if (LINE_BREAKS.indexOf(prev) === -1) {\n                indicies.push(indicies[index - 1]);\n                return types.push(prev);\n            }\n            indicies.push(index);\n            return types.push(AL);\n        }\n\n        indicies.push(index);\n\n        if (classType === CJ) {\n            return types.push(lineBreak === 'strict' ? NS : ID);\n        }\n\n        if (classType === SA) {\n            return types.push(AL);\n        }\n\n        if (classType === AI) {\n            return types.push(AL);\n        }\n\n        // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\n        // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\n        // to take into account the actual line breaking properties for these characters.\n        if (classType === XX) {\n            if (codePoint >= 0x20000 && codePoint <= 0x2fffd || codePoint >= 0x30000 && codePoint <= 0x3fffd) {\n                return types.push(ID);\n            } else {\n                return types.push(AL);\n            }\n        }\n\n        types.push(classType);\n    });\n\n    return [indicies, types, categories];\n};\n\nvar isAdjacentWithSpaceIgnored = function isAdjacentWithSpaceIgnored(a, b, currentIndex, classTypes) {\n    var current = classTypes[currentIndex];\n    if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\n        var i = currentIndex;\n        while (i <= classTypes.length) {\n            i++;\n            var next = classTypes[i];\n\n            if (next === b) {\n                return true;\n            }\n\n            if (next !== SP) {\n                break;\n            }\n        }\n    }\n\n    if (current === SP) {\n        var _i = currentIndex;\n\n        while (_i > 0) {\n            _i--;\n            var prev = classTypes[_i];\n\n            if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\n                var n = currentIndex;\n                while (n <= classTypes.length) {\n                    n++;\n                    var _next = classTypes[n];\n\n                    if (_next === b) {\n                        return true;\n                    }\n\n                    if (_next !== SP) {\n                        break;\n                    }\n                }\n            }\n\n            if (prev !== SP) {\n                break;\n            }\n        }\n    }\n    return false;\n};\n\nvar previousNonSpaceClassType = function previousNonSpaceClassType(currentIndex, classTypes) {\n    var i = currentIndex;\n    while (i >= 0) {\n        var type = classTypes[i];\n        if (type === SP) {\n            i--;\n        } else {\n            return type;\n        }\n    }\n    return 0;\n};\n\nvar _lineBreakAtIndex = function _lineBreakAtIndex(codePoints, classTypes, indicies, index, forbiddenBreaks) {\n    if (indicies[index] === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    var currentIndex = index - 1;\n    if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    var beforeIndex = currentIndex - 1;\n    var afterIndex = currentIndex + 1;\n    var current = classTypes[currentIndex];\n\n    // LB4 Always break after hard line breaks.\n    // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\n    var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\n    var next = classTypes[afterIndex];\n\n    if (current === CR && next === LF) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\n        return BREAK_MANDATORY;\n    }\n\n    // LB6 Do not break before hard line breaks.\n    if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB7 Do not break before spaces or zero width space.\n    if (SPACE.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.\n    if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB11 Do not break before or after Word joiner and related characters.\n    if (current === WJ || next === WJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12 Do not break after NBSP and related characters.\n    if (current === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\n    if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB13 Do not break before ‘]’ or ‘!’ or ‘;’ or ‘/’, even after spaces.\n    if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB14 Do not break after ‘[’, even after spaces.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB15 Do not break within ‘”[’, even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB17 Do not break within ‘——’, even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB18 Break after spaces.\n    if (current === SP) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB19 Do not break before or after quotation marks, such as ‘ ” ’.\n    if (current === QU || next === QU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB20 Break before and after unresolved CB.\n    if (next === CB || current === CB) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\n    if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21a Don't break after Hebrew + Hyphen.\n    if (before === HL && HYPHEN.indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21b Don’t break between Solidus and Hebrew letters.\n    if (current === SY && next === HL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.\n    if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23 Do not break between digits and letters.\n    if (ALPHABETICS.indexOf(next) !== -1 && current === NU || ALPHABETICS.indexOf(current) !== -1 && next === NU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\n    if (current === PR && [ID, EB, EM].indexOf(next) !== -1 || [ID, EB, EM].indexOf(current) !== -1 && next === PO) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\n    if (ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1 || PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB25 Do not break between the following pairs of classes relevant to numbers:\n    if (\n    // (PR | PO) × ( OP | HY )? NU\n    [PR, PO].indexOf(current) !== -1 && (next === NU || [OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU) ||\n    // ( OP | HY ) × NU\n    [OP, HY].indexOf(current) !== -1 && next === NU ||\n    // NU ×\t(NU | SY | IS)\n    current === NU && [NU, SY, IS].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // NU (NU | SY | IS)* × (NU | SY | IS | CL | CP)\n    if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\n        var prevIndex = currentIndex;\n        while (prevIndex >= 0) {\n            var type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // NU (NU | SY | IS)* (CL | CP)? × (PO | PR))\n    if ([PR, PO].indexOf(next) !== -1) {\n        var _prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\n        while (_prevIndex >= 0) {\n            var _type = classTypes[_prevIndex];\n            if (_type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(_type) !== -1) {\n                _prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // LB26 Do not break a Korean syllable.\n    if (JL === current && [JL, JV, H2, H3].indexOf(next) !== -1 || [JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1 || [JT, H3].indexOf(current) !== -1 && next === JT) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB27 Treat a Korean Syllable Block the same as ID.\n    if (KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1 || KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB28 Do not break between alphabetics (“at”).\n    if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB29 Do not break between numeric punctuation and alphabetics (“e.g.”).\n    if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\n    if (ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP || ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\n    // indicators preceding the position of the break.\n    if (current === RI && next === RI) {\n        var i = indicies[currentIndex];\n        var count = 1;\n        while (i > 0) {\n            i--;\n            if (classTypes[i] === RI) {\n                count++;\n            } else {\n                break;\n            }\n        }\n        if (count % 2 !== 0) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    // LB30b Do not break between an emoji base and an emoji modifier.\n    if (current === EB && next === EM) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    return BREAK_ALLOWED;\n};\n\nvar lineBreakAtIndex = exports.lineBreakAtIndex = function lineBreakAtIndex(codePoints, index) {\n    // LB2 Never break at the start of text.\n    if (index === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB3 Always break at the end of text.\n    if (index >= codePoints.length) {\n        return BREAK_MANDATORY;\n    }\n\n    var _codePointsToCharacte = codePointsToCharacterClasses(codePoints),\n        _codePointsToCharacte2 = _slicedToArray(_codePointsToCharacte, 2),\n        indicies = _codePointsToCharacte2[0],\n        classTypes = _codePointsToCharacte2[1];\n\n    return _lineBreakAtIndex(codePoints, classTypes, indicies, index);\n};\n\nvar cssFormattedClasses = function cssFormattedClasses(codePoints, options) {\n    if (!options) {\n        options = { lineBreak: 'normal', wordBreak: 'normal' };\n    }\n\n    var _codePointsToCharacte3 = codePointsToCharacterClasses(codePoints, options.lineBreak),\n        _codePointsToCharacte4 = _slicedToArray(_codePointsToCharacte3, 3),\n        indicies = _codePointsToCharacte4[0],\n        classTypes = _codePointsToCharacte4[1],\n        isLetterNumber = _codePointsToCharacte4[2];\n\n    if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\n        classTypes = classTypes.map(function (type) {\n            return [NU, AL, SA].indexOf(type) !== -1 ? ID : type;\n        });\n    }\n\n    var forbiddenBreakpoints = options.wordBreak === 'keep-all' ? isLetterNumber.map(function (isLetterNumber, i) {\n        return isLetterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\n    }) : null;\n\n    return [indicies, classTypes, forbiddenBreakpoints];\n};\n\nvar inlineBreakOpportunities = exports.inlineBreakOpportunities = function inlineBreakOpportunities(str, options) {\n    var codePoints = (0, _Util.toCodePoints)(str);\n    var output = BREAK_NOT_ALLOWED;\n\n    var _cssFormattedClasses = cssFormattedClasses(codePoints, options),\n        _cssFormattedClasses2 = _slicedToArray(_cssFormattedClasses, 3),\n        indicies = _cssFormattedClasses2[0],\n        classTypes = _cssFormattedClasses2[1],\n        forbiddenBreakpoints = _cssFormattedClasses2[2];\n\n    codePoints.forEach(function (codePoint, i) {\n        output += (0, _Util.fromCodePoint)(codePoint) + (i >= codePoints.length - 1 ? BREAK_MANDATORY : _lineBreakAtIndex(codePoints, classTypes, indicies, i + 1, forbiddenBreakpoints));\n    });\n\n    return output;\n};\n\nvar Break = function () {\n    function Break(codePoints, lineBreak, start, end) {\n        _classCallCheck(this, Break);\n\n        this._codePoints = codePoints;\n        this.required = lineBreak === BREAK_MANDATORY;\n        this.start = start;\n        this.end = end;\n    }\n\n    _createClass(Break, [{\n        key: 'slice',\n        value: function slice() {\n            return _Util.fromCodePoint.apply(undefined, _toConsumableArray(this._codePoints.slice(this.start, this.end)));\n        }\n    }]);\n\n    return Break;\n}();\n\nvar LineBreaker = exports.LineBreaker = function LineBreaker(str, options) {\n    var codePoints = (0, _Util.toCodePoints)(str);\n\n    var _cssFormattedClasses3 = cssFormattedClasses(codePoints, options),\n        _cssFormattedClasses4 = _slicedToArray(_cssFormattedClasses3, 3),\n        indicies = _cssFormattedClasses4[0],\n        classTypes = _cssFormattedClasses4[1],\n        forbiddenBreakpoints = _cssFormattedClasses4[2];\n\n    var length = codePoints.length;\n    var lastEnd = 0;\n    var nextIndex = 0;\n\n    return {\n        next: function next() {\n            if (nextIndex >= length) {\n                return { done: true };\n            }\n            var lineBreak = BREAK_NOT_ALLOWED;\n            while (nextIndex < length && (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) === BREAK_NOT_ALLOWED) {}\n\n            if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\n                var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\n                lastEnd = nextIndex;\n                return { value: value, done: false };\n            }\n\n            return { done: true };\n        }\n    };\n};\n\n//# sourceURL=webpack://html2canvas/./node_modules/css-line-break/dist/LineBreak.js?")},"./node_modules/css-line-break/dist/Trie.js":
/*!**************************************************!*\
  !*** ./node_modules/css-line-break/dist/Trie.js ***!
  \**************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.Trie = exports.createTrieFromBase64 = exports.UTRIE2_INDEX_2_MASK = exports.UTRIE2_INDEX_2_BLOCK_LENGTH = exports.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = exports.UTRIE2_INDEX_1_OFFSET = exports.UTRIE2_UTF8_2B_INDEX_2_LENGTH = exports.UTRIE2_UTF8_2B_INDEX_2_OFFSET = exports.UTRIE2_INDEX_2_BMP_LENGTH = exports.UTRIE2_LSCP_INDEX_2_LENGTH = exports.UTRIE2_DATA_MASK = exports.UTRIE2_DATA_BLOCK_LENGTH = exports.UTRIE2_LSCP_INDEX_2_OFFSET = exports.UTRIE2_SHIFT_1_2 = exports.UTRIE2_INDEX_SHIFT = exports.UTRIE2_SHIFT_1 = exports.UTRIE2_SHIFT_2 = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Util = __webpack_require__(/*! ./Util */ "./node_modules/css-line-break/dist/Util.js");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/** Shift size for getting the index-2 table offset. */\nvar UTRIE2_SHIFT_2 = exports.UTRIE2_SHIFT_2 = 5;\n\n/** Shift size for getting the index-1 table offset. */\nvar UTRIE2_SHIFT_1 = exports.UTRIE2_SHIFT_1 = 6 + 5;\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nvar UTRIE2_INDEX_SHIFT = exports.UTRIE2_INDEX_SHIFT = 2;\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nvar UTRIE2_SHIFT_1_2 = exports.UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nvar UTRIE2_LSCP_INDEX_2_OFFSET = exports.UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\n\n/** Number of entries in a data block. 32=0x20 */\nvar UTRIE2_DATA_BLOCK_LENGTH = exports.UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\n/** Mask for getting the lower bits for the in-data-block offset. */\nvar UTRIE2_DATA_MASK = exports.UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\n\nvar UTRIE2_LSCP_INDEX_2_LENGTH = exports.UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nvar UTRIE2_INDEX_2_BMP_LENGTH = exports.UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nvar UTRIE2_UTF8_2B_INDEX_2_OFFSET = exports.UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\nvar UTRIE2_UTF8_2B_INDEX_2_LENGTH = exports.UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nvar UTRIE2_INDEX_1_OFFSET = exports.UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nvar UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = exports.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\n\n/** Number of entries in an index-2 block. 64=0x40 */\nvar UTRIE2_INDEX_2_BLOCK_LENGTH = exports.UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nvar UTRIE2_INDEX_2_MASK = exports.UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\n\nvar createTrieFromBase64 = exports.createTrieFromBase64 = function createTrieFromBase64(base64) {\n    var buffer = (0, _Util.decode)(base64);\n    var view32 = Array.isArray(buffer) ? (0, _Util.polyUint32Array)(buffer) : new Uint32Array(buffer);\n    var view16 = Array.isArray(buffer) ? (0, _Util.polyUint16Array)(buffer) : new Uint16Array(buffer);\n    var headerLength = 24;\n\n    var index = view16.slice(headerLength / 2, view32[4] / 2);\n    var data = view32[5] === 2 ? view16.slice((headerLength + view32[4]) / 2) : view32.slice(Math.ceil((headerLength + view32[4]) / 4));\n\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\n};\n\nvar Trie = exports.Trie = function () {\n    function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {\n        _classCallCheck(this, Trie);\n\n        this.initialValue = initialValue;\n        this.errorValue = errorValue;\n        this.highStart = highStart;\n        this.highValueIndex = highValueIndex;\n        this.index = index;\n        this.data = data;\n    }\n\n    /**\n     * Get the value for a code point as stored in the Trie.\n     *\n     * @param codePoint the code point\n     * @return the value\n     */\n\n\n    _createClass(Trie, [{\n        key: \'get\',\n        value: function get(codePoint) {\n            var ix = void 0;\n            if (codePoint >= 0) {\n                if (codePoint < 0x0d800 || codePoint > 0x0dbff && codePoint <= 0x0ffff) {\n                    // Ordinary BMP code point, excluding leading surrogates.\n                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n                    // 16 bit data is stored in the index array itself.\n                    ix = this.index[codePoint >> UTRIE2_SHIFT_2];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n\n                if (codePoint <= 0xffff) {\n                    // Lead Surrogate Code Point.  A Separate index section is stored for\n                    // lead surrogate code units and code points.\n                    //   The main index has the code unit data.\n                    //   For this function, we need the code point data.\n                    // Note: this expression could be refactored for slightly improved efficiency, but\n                    //       surrogate code points will be so rare in practice that it\'s not worth it.\n                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + (codePoint - 0xd800 >> UTRIE2_SHIFT_2)];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n\n                if (codePoint < this.highStart) {\n                    // Supplemental code point, use two-level lookup.\n                    ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\n                    ix = this.index[ix];\n                    ix += codePoint >> UTRIE2_SHIFT_2 & UTRIE2_INDEX_2_MASK;\n                    ix = this.index[ix];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n                if (codePoint <= 0x10ffff) {\n                    return this.data[this.highValueIndex];\n                }\n            }\n\n            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n            return this.errorValue;\n        }\n    }]);\n\n    return Trie;\n}();\n\n//# sourceURL=webpack://html2canvas/./node_modules/css-line-break/dist/Trie.js?')},"./node_modules/css-line-break/dist/Util.js":
/*!**************************************************!*\
  !*** ./node_modules/css-line-break/dist/Util.js ***!
  \**************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar toCodePoints = exports.toCodePoints = function toCodePoints(str) {\n    var codePoints = [];\n    var i = 0;\n    var length = str.length;\n    while (i < length) {\n        var value = str.charCodeAt(i++);\n        if (value >= 0xd800 && value <= 0xdbff && i < length) {\n            var extra = str.charCodeAt(i++);\n            if ((extra & 0xfc00) === 0xdc00) {\n                codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\n            } else {\n                codePoints.push(value);\n                i--;\n            }\n        } else {\n            codePoints.push(value);\n        }\n    }\n    return codePoints;\n};\n\nvar fromCodePoint = exports.fromCodePoint = function fromCodePoint() {\n    if (String.fromCodePoint) {\n        return String.fromCodePoint.apply(String, arguments);\n    }\n\n    var length = arguments.length;\n    if (!length) {\n        return '';\n    }\n\n    var codeUnits = [];\n\n    var index = -1;\n    var result = '';\n    while (++index < length) {\n        var codePoint = arguments.length <= index ? undefined : arguments[index];\n        if (codePoint <= 0xffff) {\n            codeUnits.push(codePoint);\n        } else {\n            codePoint -= 0x10000;\n            codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);\n        }\n        if (index + 1 === length || codeUnits.length > 0x4000) {\n            result += String.fromCharCode.apply(String, codeUnits);\n            codeUnits.length = 0;\n        }\n    }\n    return result;\n};\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nvar lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nvar decode = exports.decode = function decode(base64) {\n    var bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i = void 0,\n        p = 0,\n        encoded1 = void 0,\n        encoded2 = void 0,\n        encoded3 = void 0,\n        encoded4 = void 0;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = typeof ArrayBuffer !== 'undefined' && typeof Uint8Array !== 'undefined' && typeof Uint8Array.prototype.slice !== 'undefined' ? new ArrayBuffer(bufferLength) : new Array(bufferLength);\n    var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n\n    return buffer;\n};\n\nvar polyUint16Array = exports.polyUint16Array = function polyUint16Array(buffer) {\n    var length = buffer.length;\n    var bytes = [];\n    for (var _i = 0; _i < length; _i += 2) {\n        bytes.push(buffer[_i + 1] << 8 | buffer[_i]);\n    }\n    return bytes;\n};\n\nvar polyUint32Array = exports.polyUint32Array = function polyUint32Array(buffer) {\n    var length = buffer.length;\n    var bytes = [];\n    for (var _i2 = 0; _i2 < length; _i2 += 4) {\n        bytes.push(buffer[_i2 + 3] << 24 | buffer[_i2 + 2] << 16 | buffer[_i2 + 1] << 8 | buffer[_i2]);\n    }\n    return bytes;\n};\n\n//# sourceURL=webpack://html2canvas/./node_modules/css-line-break/dist/Util.js?")},"./node_modules/css-line-break/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/css-line-break/dist/index.js ***!
  \***************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Util = __webpack_require__(/*! ./Util */ \"./node_modules/css-line-break/dist/Util.js\");\n\nObject.defineProperty(exports, 'toCodePoints', {\n  enumerable: true,\n  get: function get() {\n    return _Util.toCodePoints;\n  }\n});\nObject.defineProperty(exports, 'fromCodePoint', {\n  enumerable: true,\n  get: function get() {\n    return _Util.fromCodePoint;\n  }\n});\n\nvar _LineBreak = __webpack_require__(/*! ./LineBreak */ \"./node_modules/css-line-break/dist/LineBreak.js\");\n\nObject.defineProperty(exports, 'LineBreaker', {\n  enumerable: true,\n  get: function get() {\n    return _LineBreak.LineBreaker;\n  }\n});\n\n//# sourceURL=webpack://html2canvas/./node_modules/css-line-break/dist/index.js?")},"./node_modules/css-line-break/dist/linebreak-trie.js":
/*!************************************************************!*\
  !*** ./node_modules/css-line-break/dist/linebreak-trie.js ***!
  \************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nmodule.exports = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';\n\n//# sourceURL=webpack://html2canvas/./node_modules/css-line-break/dist/linebreak-trie.js?")},"./src/Angle.js":
/*!**********************!*\
  !*** ./src/Angle.js ***!
  \**********************/
/*! exports provided: parseAngle */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseAngle\", function() { return parseAngle; });\n\n\nvar ANGLE = /([+-]?\\d*\\.?\\d+)(deg|grad|rad|turn)/i;\nvar parseAngle = function parseAngle(angle) {\n  var match = angle.match(ANGLE);\n\n  if (match) {\n    var value = parseFloat(match[1]);\n\n    switch (match[2].toLowerCase()) {\n      case 'deg':\n        return Math.PI * value / 180;\n\n      case 'grad':\n        return Math.PI / 200 * value;\n\n      case 'rad':\n        return value;\n\n      case 'turn':\n        return Math.PI * 2 * value;\n    }\n  }\n\n  return null;\n};\n\n//# sourceURL=webpack://html2canvas/./src/Angle.js?")},"./src/Bounds.js":
/*!***********************!*\
  !*** ./src/Bounds.js ***!
  \***********************/
/*! exports provided: Bounds, parseBounds, calculatePaddingBox, calculateContentBox, parseDocumentSize, parsePathForBorder, calculateBorderBoxPath, calculatePaddingBoxPath, parseBoundCurves */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Bounds", function() { return Bounds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBounds", function() { return parseBounds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculatePaddingBox", function() { return calculatePaddingBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateContentBox", function() { return calculateContentBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseDocumentSize", function() { return parseDocumentSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parsePathForBorder", function() { return parsePathForBorder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBorderBoxPath", function() { return calculateBorderBoxPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculatePaddingBoxPath", function() { return calculatePaddingBoxPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBoundCurves", function() { return parseBoundCurves; });\n/* harmony import */ var _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./drawing/Vector */ "./src/drawing/Vector.js");\n/* harmony import */ var _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./drawing/BezierCurve */ "./src/drawing/BezierCurve.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar TOP = 0;\nvar RIGHT = 1;\nvar BOTTOM = 2;\nvar LEFT = 3;\nvar H = 0;\nvar V = 1;\nvar Bounds =\n/*#__PURE__*/\nfunction () {\n  function Bounds(x, y, w, h) {\n    _classCallCheck(this, Bounds);\n\n    this.left = x;\n    this.top = y;\n    this.width = w;\n    this.height = h;\n  }\n\n  _createClass(Bounds, null, [{\n    key: "fromClientRect",\n    value: function fromClientRect(clientRect, scrollX, scrollY) {\n      return new Bounds(clientRect.left + scrollX, clientRect.top + scrollY, clientRect.width, clientRect.height);\n    }\n  }]);\n\n  return Bounds;\n}();\nvar parseBounds = function parseBounds(node, scrollX, scrollY) {\n  return Bounds.fromClientRect(node.getBoundingClientRect(), scrollX, scrollY);\n};\nvar calculatePaddingBox = function calculatePaddingBox(bounds, borders) {\n  return new Bounds(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth));\n};\nvar calculateContentBox = function calculateContentBox(bounds, padding, borders) {\n  // TODO support percentage paddings\n  var paddingTop = padding[TOP].value;\n  var paddingRight = padding[RIGHT].value;\n  var paddingBottom = padding[BOTTOM].value;\n  var paddingLeft = padding[LEFT].value;\n  return new Bounds(bounds.left + paddingLeft + borders[LEFT].borderWidth, bounds.top + paddingTop + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth + paddingLeft + paddingRight), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth + paddingTop + paddingBottom));\n};\nvar parseDocumentSize = function parseDocumentSize(document) {\n  var body = document.body;\n  var documentElement = document.documentElement;\n\n  if (!body || !documentElement) {\n    throw new Error( true ? "Unable to get document size" : undefined);\n  }\n\n  var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));\n  var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));\n  return new Bounds(0, 0, width, height);\n};\nvar parsePathForBorder = function parsePathForBorder(curves, borderSide) {\n  switch (borderSide) {\n    case TOP:\n      return createPathFromCurves(curves.topLeftOuter, curves.topLeftInner, curves.topRightOuter, curves.topRightInner);\n\n    case RIGHT:\n      return createPathFromCurves(curves.topRightOuter, curves.topRightInner, curves.bottomRightOuter, curves.bottomRightInner);\n\n    case BOTTOM:\n      return createPathFromCurves(curves.bottomRightOuter, curves.bottomRightInner, curves.bottomLeftOuter, curves.bottomLeftInner);\n\n    case LEFT:\n    default:\n      return createPathFromCurves(curves.bottomLeftOuter, curves.bottomLeftInner, curves.topLeftOuter, curves.topLeftInner);\n  }\n};\n\nvar createPathFromCurves = function createPathFromCurves(outer1, inner1, outer2, inner2) {\n  var path = [];\n\n  if (outer1 instanceof _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"]) {\n    path.push(outer1.subdivide(0.5, false));\n  } else {\n    path.push(outer1);\n  }\n\n  if (outer2 instanceof _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"]) {\n    path.push(outer2.subdivide(0.5, true));\n  } else {\n    path.push(outer2);\n  }\n\n  if (inner2 instanceof _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"]) {\n    path.push(inner2.subdivide(0.5, true).reverse());\n  } else {\n    path.push(inner2);\n  }\n\n  if (inner1 instanceof _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"]) {\n    path.push(inner1.subdivide(0.5, false).reverse());\n  } else {\n    path.push(inner1);\n  }\n\n  return path;\n};\n\nvar calculateBorderBoxPath = function calculateBorderBoxPath(curves) {\n  return [curves.topLeftOuter, curves.topRightOuter, curves.bottomRightOuter, curves.bottomLeftOuter];\n};\nvar calculatePaddingBoxPath = function calculatePaddingBoxPath(curves) {\n  return [curves.topLeftInner, curves.topRightInner, curves.bottomRightInner, curves.bottomLeftInner];\n};\nvar parseBoundCurves = function parseBoundCurves(bounds, borders, borderRadius) {\n  var tlh = borderRadius[CORNER.TOP_LEFT][H].getAbsoluteValue(bounds.width);\n  var tlv = borderRadius[CORNER.TOP_LEFT][V].getAbsoluteValue(bounds.height);\n  var trh = borderRadius[CORNER.TOP_RIGHT][H].getAbsoluteValue(bounds.width);\n  var trv = borderRadius[CORNER.TOP_RIGHT][V].getAbsoluteValue(bounds.height);\n  var brh = borderRadius[CORNER.BOTTOM_RIGHT][H].getAbsoluteValue(bounds.width);\n  var brv = borderRadius[CORNER.BOTTOM_RIGHT][V].getAbsoluteValue(bounds.height);\n  var blh = borderRadius[CORNER.BOTTOM_LEFT][H].getAbsoluteValue(bounds.width);\n  var blv = borderRadius[CORNER.BOTTOM_LEFT][V].getAbsoluteValue(bounds.height);\n  var factors = [];\n  factors.push((tlh + trh) / bounds.width);\n  factors.push((blh + brh) / bounds.width);\n  factors.push((tlv + blv) / bounds.height);\n  factors.push((trv + brv) / bounds.height);\n  var maxFactor = Math.max.apply(Math, factors);\n\n  if (maxFactor > 1) {\n    tlh /= maxFactor;\n    tlv /= maxFactor;\n    trh /= maxFactor;\n    trv /= maxFactor;\n    brh /= maxFactor;\n    brv /= maxFactor;\n    blh /= maxFactor;\n    blv /= maxFactor;\n  }\n\n  var topWidth = bounds.width - trh;\n  var rightHeight = bounds.height - brv;\n  var bottomWidth = bounds.width - brh;\n  var leftHeight = bounds.height - blv;\n  return {\n    topLeftOuter: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left, bounds.top),\n    topLeftInner: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, Math.max(0, tlh - borders[LEFT].borderWidth), Math.max(0, tlv - borders[TOP].borderWidth), CORNER.TOP_LEFT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth),\n    topRightOuter: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + bounds.width, bounds.top),\n    topRightInner: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borders[LEFT].borderWidth), bounds.top + borders[TOP].borderWidth, topWidth > bounds.width + borders[LEFT].borderWidth ? 0 : trh - borders[LEFT].borderWidth, trv - borders[TOP].borderWidth, CORNER.TOP_RIGHT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + borders[TOP].borderWidth),\n    bottomRightOuter: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + bounds.width, bounds.top + bounds.height),\n    bottomRightInner: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borders[LEFT].borderWidth), bounds.top + Math.min(rightHeight, bounds.height + borders[TOP].borderWidth), Math.max(0, brh - borders[RIGHT].borderWidth), brv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_RIGHT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth),\n    bottomLeftOuter: blh > 0 || blv > 0 ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left, bounds.top + bounds.height),\n    bottomLeftInner: blh > 0 || blv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + leftHeight, Math.max(0, blh - borders[LEFT].borderWidth), blv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_LEFT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + borders[LEFT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth)\n  };\n};\nvar CORNER = {\n  TOP_LEFT: 0,\n  TOP_RIGHT: 1,\n  BOTTOM_RIGHT: 2,\n  BOTTOM_LEFT: 3\n};\n\nvar getCurvePoints = function getCurvePoints(x, y, r1, r2, position) {\n  var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n  var ox = r1 * kappa; // control point offset horizontal\n\n  var oy = r2 * kappa; // control point offset vertical\n\n  var xm = x + r1; // x-middle\n\n  var ym = y + r2; // y-middle\n\n  switch (position) {\n    case CORNER.TOP_LEFT:\n      return new _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"](new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, ym), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, ym - oy), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm - ox, y), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, y));\n\n    case CORNER.TOP_RIGHT:\n      return new _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"](new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, y), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x + ox, y), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, ym - oy), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, ym));\n\n    case CORNER.BOTTOM_RIGHT:\n      return new _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"](new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, y), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, y + oy), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x + ox, ym), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, ym));\n\n    case CORNER.BOTTOM_LEFT:\n    default:\n      return new _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"](new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, ym), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm - ox, ym), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, y + oy), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, y));\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/Bounds.js?')},"./src/Clone.js":
/*!**********************!*\
  !*** ./src/Clone.js ***!
  \**********************/
/*! exports provided: DocumentCloner, cloneWindow */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentCloner", function() { return DocumentCloner; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cloneWindow", function() { return cloneWindow; });\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _Proxy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Proxy */ "./src/Proxy.js");\n/* harmony import */ var _ResourceLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ResourceLoader */ "./src/ResourceLoader.js");\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Util */ "./src/Util.js");\n/* harmony import */ var _parsing_background__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parsing/background */ "./src/parsing/background.js");\n/* harmony import */ var _renderer_CanvasRenderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./renderer/CanvasRenderer */ "./src/renderer/CanvasRenderer.js");\n/* harmony import */ var _PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PseudoNodeContent */ "./src/PseudoNodeContent.js");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar IGNORE_ATTRIBUTE = \'data-html2canvas-ignore\';\nvar DocumentCloner =\n/*#__PURE__*/\nfunction () {\n  function DocumentCloner(element, options, logger, copyInline, renderer) {\n    _classCallCheck(this, DocumentCloner);\n\n    this.referenceElement = element;\n    this.scrolledElements = [];\n    this.copyStyles = copyInline;\n    this.inlineImages = copyInline;\n    this.logger = logger;\n    this.options = options;\n    this.renderer = renderer;\n    this.resourceLoader = new _ResourceLoader__WEBPACK_IMPORTED_MODULE_2__["default"](options, logger, window);\n    this.pseudoContentData = {\n      counters: {},\n      quoteDepth: 0\n    }; // $FlowFixMe\n\n    this.documentElement = this.cloneNode(element.ownerDocument.documentElement);\n  }\n\n  _createClass(DocumentCloner, [{\n    key: "inlineAllImages",\n    value: function inlineAllImages(node) {\n      var _this = this;\n\n      if (this.inlineImages && node) {\n        var style = node.style;\n        Promise.all(Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["parseBackgroundImage"])(style.backgroundImage).map(function (backgroundImage) {\n          if (backgroundImage.method === \'url\') {\n            return _this.resourceLoader.inlineImage(backgroundImage.args[0]).then(function (img) {\n              return img && typeof img.src === \'string\' ? "url(\\"".concat(img.src, "\\")") : \'none\';\n            }).catch(function (e) {\n              if (true) {\n                _this.logger.log("Unable to load image", e);\n              }\n            });\n          }\n\n          return Promise.resolve("".concat(backgroundImage.prefix).concat(backgroundImage.method, "(").concat(backgroundImage.args.join(\',\'), ")"));\n        })).then(function (backgroundImages) {\n          if (backgroundImages.length > 1) {\n            // TODO Multiple backgrounds somehow broken in Chrome\n            style.backgroundColor = \'\';\n          }\n\n          style.backgroundImage = backgroundImages.join(\',\');\n        });\n\n        if (node instanceof HTMLImageElement) {\n          this.resourceLoader.inlineImage(node.src).then(function (img) {\n            if (img && node instanceof HTMLImageElement && node.parentNode) {\n              var parentNode = node.parentNode;\n              var clonedChild = Object(_Util__WEBPACK_IMPORTED_MODULE_3__["copyCSSStyles"])(node.style, img.cloneNode(false));\n              parentNode.replaceChild(clonedChild, node);\n            }\n          }).catch(function (e) {\n            if (true) {\n              _this.logger.log("Unable to load image", e);\n            }\n          });\n        }\n      }\n    }\n  }, {\n    key: "inlineFonts",\n    value: function inlineFonts(document) {\n      var _this2 = this;\n\n      return Promise.all(Array.from(document.styleSheets).map(function (sheet) {\n        if (sheet.href) {\n          return fetch(sheet.href).then(function (res) {\n            return res.text();\n          }).then(function (text) {\n            return createStyleSheetFontsFromText(text, sheet.href);\n          }).catch(function (e) {\n            if (true) {\n              _this2.logger.log("Unable to load stylesheet", e);\n            }\n\n            return [];\n          });\n        }\n\n        return getSheetFonts(sheet, document);\n      })).then(function (fonts) {\n        return fonts.reduce(function (acc, font) {\n          return acc.concat(font);\n        }, []);\n      }).then(function (fonts) {\n        return Promise.all(fonts.map(function (font) {\n          return fetch(font.formats[0].src).then(function (response) {\n            return response.blob();\n          }).then(function (blob) {\n            return new Promise(function (resolve, reject) {\n              var reader = new FileReader();\n              reader.onerror = reject;\n\n              reader.onload = function () {\n                // $FlowFixMe\n                var result = reader.result;\n                resolve(result);\n              };\n\n              reader.readAsDataURL(blob);\n            });\n          }).then(function (dataUri) {\n            font.fontFace.setProperty(\'src\', "url(\\"".concat(dataUri, "\\")"));\n            return "@font-face {".concat(font.fontFace.cssText, " ");\n          });\n        }));\n      }).then(function (fontCss) {\n        var style = document.createElement(\'style\');\n        style.textContent = fontCss.join(\'\\n\');\n\n        _this2.documentElement.appendChild(style);\n      });\n    }\n  }, {\n    key: "createElementClone",\n    value: function createElementClone(node) {\n      var _this3 = this;\n\n      if (this.copyStyles && node instanceof HTMLCanvasElement) {\n        var img = node.ownerDocument.createElement(\'img\');\n\n        try {\n          img.src = node.toDataURL();\n          return img;\n        } catch (e) {\n          if (true) {\n            this.logger.log("Unable to clone canvas contents, canvas is tainted");\n          }\n        }\n      }\n\n      if (node instanceof HTMLIFrameElement) {\n        var tempIframe = node.cloneNode(false);\n        var iframeKey = generateIframeKey();\n        tempIframe.setAttribute(\'data-html2canvas-internal-iframe-key\', iframeKey);\n\n        var _parseBounds = Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["parseBounds"])(node, 0, 0),\n            width = _parseBounds.width,\n            height = _parseBounds.height;\n\n        this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(node, this.options).then(function (documentElement) {\n          return _this3.renderer(documentElement, {\n            allowTaint: _this3.options.allowTaint,\n            backgroundColor: \'#ffffff\',\n            canvas: null,\n            imageTimeout: _this3.options.imageTimeout,\n            logging: _this3.options.logging,\n            proxy: _this3.options.proxy,\n            removeContainer: _this3.options.removeContainer,\n            scale: _this3.options.scale,\n            foreignObjectRendering: _this3.options.foreignObjectRendering,\n            useCORS: _this3.options.useCORS,\n            target: new _renderer_CanvasRenderer__WEBPACK_IMPORTED_MODULE_5__["default"](),\n            width: width,\n            height: height,\n            x: 0,\n            y: 0,\n            windowWidth: documentElement.ownerDocument.defaultView.innerWidth,\n            windowHeight: documentElement.ownerDocument.defaultView.innerHeight,\n            scrollX: documentElement.ownerDocument.defaultView.pageXOffset,\n            scrollY: documentElement.ownerDocument.defaultView.pageYOffset\n          }, _this3.logger.child(iframeKey));\n        }).then(function (canvas) {\n          return new Promise(function (resolve, reject) {\n            var iframeCanvas = document.createElement(\'img\');\n\n            iframeCanvas.onload = function () {\n              return resolve(canvas);\n            };\n\n            iframeCanvas.onerror = function (event) {\n              // Empty iframes may result in empty "data:," URLs, which are invalid from the <img>\'s point of view\n              // and instead of `onload` cause `onerror` and unhandled rejection warnings\n              // https://github.com/niklasvh/html2canvas/issues/1502\n              iframeCanvas.src == \'data:,\' ? resolve(canvas) : reject(event);\n            };\n\n            iframeCanvas.src = canvas.toDataURL();\n\n            if (tempIframe.parentNode) {\n              tempIframe.parentNode.replaceChild(Object(_Util__WEBPACK_IMPORTED_MODULE_3__["copyCSSStyles"])(node.ownerDocument.defaultView.getComputedStyle(node), iframeCanvas), tempIframe);\n            }\n          });\n        });\n        return tempIframe;\n      }\n\n      try {\n        if (node instanceof HTMLStyleElement && node.sheet && node.sheet.cssRules) {\n          var css = [].slice.call(node.sheet.cssRules, 0).reduce(function (css, rule) {\n            if (rule && rule.cssText) {\n              return css + rule.cssText;\n            }\n\n            return css;\n          }, \'\');\n          var style = node.cloneNode(false);\n          style.textContent = css;\n          return style;\n        }\n      } catch (e) {\n        // accessing node.sheet.cssRules throws a DOMException\n        this.logger.log(\'Unable to access cssRules property\');\n\n        if (e.name !== \'SecurityError\') {\n          this.logger.log(e);\n          throw e;\n        }\n      }\n\n      return node.cloneNode(false);\n    }\n  }, {\n    key: "cloneNode",\n    value: function cloneNode(node) {\n      var clone = node.nodeType === Node.TEXT_NODE ? document.createTextNode(node.nodeValue) : this.createElementClone(node);\n      var window = node.ownerDocument.defaultView;\n      var style = node instanceof window.HTMLElement ? window.getComputedStyle(node) : null;\n      var styleBefore = node instanceof window.HTMLElement ? window.getComputedStyle(node, \':before\') : null;\n      var styleAfter = node instanceof window.HTMLElement ? window.getComputedStyle(node, \':after\') : null;\n\n      if (this.referenceElement === node && clone instanceof window.HTMLElement) {\n        this.clonedReferenceElement = clone;\n      }\n\n      if (clone instanceof window.HTMLBodyElement) {\n        createPseudoHideStyles(clone);\n      }\n\n      var counters = Object(_PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["parseCounterReset"])(style, this.pseudoContentData);\n      var contentBefore = Object(_PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["resolvePseudoContent"])(node, styleBefore, this.pseudoContentData);\n\n      for (var child = node.firstChild; child; child = child.nextSibling) {\n        if (child.nodeType !== Node.ELEMENT_NODE || child.nodeName !== \'SCRIPT\' && // $FlowFixMe\n        !child.hasAttribute(IGNORE_ATTRIBUTE) && (typeof this.options.ignoreElements !== \'function\' || // $FlowFixMe\n        !this.options.ignoreElements(child))) {\n          if (!this.copyStyles || child.nodeName !== \'STYLE\') {\n            clone.appendChild(this.cloneNode(child));\n          }\n        }\n      }\n\n      var contentAfter = Object(_PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["resolvePseudoContent"])(node, styleAfter, this.pseudoContentData);\n      Object(_PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["popCounters"])(counters, this.pseudoContentData);\n\n      if (node instanceof window.HTMLElement && clone instanceof window.HTMLElement) {\n        if (styleBefore) {\n          this.inlineAllImages(inlinePseudoElement(node, clone, styleBefore, contentBefore, PSEUDO_BEFORE));\n        }\n\n        if (styleAfter) {\n          this.inlineAllImages(inlinePseudoElement(node, clone, styleAfter, contentAfter, PSEUDO_AFTER));\n        }\n\n        if (style && this.copyStyles && !(node instanceof HTMLIFrameElement)) {\n          Object(_Util__WEBPACK_IMPORTED_MODULE_3__["copyCSSStyles"])(style, clone);\n        }\n\n        this.inlineAllImages(clone);\n\n        if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\n          this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\n        }\n\n        switch (node.nodeName) {\n          case \'CANVAS\':\n            if (!this.copyStyles) {\n              cloneCanvasContents(node, clone);\n            }\n\n            break;\n\n          case \'TEXTAREA\':\n          case \'SELECT\':\n            clone.value = node.value;\n            break;\n        }\n      }\n\n      return clone;\n    }\n  }]);\n\n  return DocumentCloner;\n}();\n\nvar getSheetFonts = function getSheetFonts(sheet, document) {\n  // $FlowFixMe\n  return (sheet.cssRules ? Array.from(sheet.cssRules) : []).filter(function (rule) {\n    return rule.type === CSSRule.FONT_FACE_RULE;\n  }).map(function (rule) {\n    var src = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["parseBackgroundImage"])(rule.style.getPropertyValue(\'src\'));\n    var formats = [];\n\n    for (var i = 0; i < src.length; i++) {\n      if (src[i].method === \'url\' && src[i + 1] && src[i + 1].method === \'format\') {\n        var a = document.createElement(\'a\');\n        a.href = src[i].args[0];\n\n        if (document.body) {\n          document.body.appendChild(a);\n        }\n\n        var font = {\n          src: a.href,\n          format: src[i + 1].args[0]\n        };\n        formats.push(font);\n      }\n    }\n\n    return {\n      // TODO select correct format for browser),\n      formats: formats.filter(function (font) {\n        return /^woff/i.test(font.format);\n      }),\n      fontFace: rule.style\n    };\n  }).filter(function (font) {\n    return font.formats.length;\n  });\n};\n\nvar createStyleSheetFontsFromText = function createStyleSheetFontsFromText(text, baseHref) {\n  var doc = document.implementation.createHTMLDocument(\'\');\n  var base = document.createElement(\'base\'); // $FlowFixMe\n\n  base.href = baseHref;\n  var style = document.createElement(\'style\');\n  style.textContent = text;\n\n  if (doc.head) {\n    doc.head.appendChild(base);\n  }\n\n  if (doc.body) {\n    doc.body.appendChild(style);\n  }\n\n  return style.sheet ? getSheetFonts(style.sheet, doc) : [];\n};\n\nvar restoreOwnerScroll = function restoreOwnerScroll(ownerDocument, x, y) {\n  if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\n    ownerDocument.defaultView.scrollTo(x, y);\n  }\n};\n\nvar cloneCanvasContents = function cloneCanvasContents(canvas, clonedCanvas) {\n  try {\n    if (clonedCanvas) {\n      clonedCanvas.width = canvas.width;\n      clonedCanvas.height = canvas.height;\n      var ctx = canvas.getContext(\'2d\');\n      var clonedCtx = clonedCanvas.getContext(\'2d\');\n\n      if (ctx) {\n        clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n      } else {\n        clonedCtx.drawImage(canvas, 0, 0);\n      }\n    }\n  } catch (e) {}\n};\n\nvar inlinePseudoElement = function inlinePseudoElement(node, clone, style, contentItems, pseudoElt) {\n  if (!style || !style.content || style.content === \'none\' || style.content === \'-moz-alt-content\' || style.display === \'none\') {\n    return;\n  }\n\n  var anonymousReplacedElement = clone.ownerDocument.createElement(\'html2canvaspseudoelement\');\n  Object(_Util__WEBPACK_IMPORTED_MODULE_3__["copyCSSStyles"])(style, anonymousReplacedElement);\n\n  if (contentItems) {\n    var len = contentItems.length;\n\n    for (var i = 0; i < len; i++) {\n      var item = contentItems[i];\n\n      switch (item.type) {\n        case _PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["PSEUDO_CONTENT_ITEM_TYPE"].IMAGE:\n          var img = clone.ownerDocument.createElement(\'img\');\n          img.src = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["parseBackgroundImage"])("url(".concat(item.value, ")"))[0].args[0];\n          img.style.opacity = \'1\';\n          anonymousReplacedElement.appendChild(img);\n          break;\n\n        case _PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["PSEUDO_CONTENT_ITEM_TYPE"].TEXT:\n          anonymousReplacedElement.appendChild(clone.ownerDocument.createTextNode(item.value));\n          break;\n      }\n    }\n  }\n\n  anonymousReplacedElement.className = "".concat(PSEUDO_HIDE_ELEMENT_CLASS_BEFORE, " ").concat(PSEUDO_HIDE_ELEMENT_CLASS_AFTER);\n  clone.className += pseudoElt === PSEUDO_BEFORE ? " ".concat(PSEUDO_HIDE_ELEMENT_CLASS_BEFORE) : " ".concat(PSEUDO_HIDE_ELEMENT_CLASS_AFTER);\n\n  if (pseudoElt === PSEUDO_BEFORE) {\n    clone.insertBefore(anonymousReplacedElement, clone.firstChild);\n  } else {\n    clone.appendChild(anonymousReplacedElement);\n  }\n\n  return anonymousReplacedElement;\n};\n\nvar URL_REGEXP = /^url\\((.+)\\)$/i;\nvar PSEUDO_BEFORE = \':before\';\nvar PSEUDO_AFTER = \':after\';\nvar PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = \'___html2canvas___pseudoelement_before\';\nvar PSEUDO_HIDE_ELEMENT_CLASS_AFTER = \'___html2canvas___pseudoelement_after\';\nvar PSEUDO_HIDE_ELEMENT_STYLE = "{\\n    content: \\"\\" !important;\\n    display: none !important;\\n}";\n\nvar createPseudoHideStyles = function createPseudoHideStyles(body) {\n  createStyles(body, ".".concat(PSEUDO_HIDE_ELEMENT_CLASS_BEFORE).concat(PSEUDO_BEFORE).concat(PSEUDO_HIDE_ELEMENT_STYLE, "\\n         .").concat(PSEUDO_HIDE_ELEMENT_CLASS_AFTER).concat(PSEUDO_AFTER).concat(PSEUDO_HIDE_ELEMENT_STYLE));\n};\n\nvar createStyles = function createStyles(body, styles) {\n  var style = body.ownerDocument.createElement(\'style\');\n  style.innerHTML = styles;\n  body.appendChild(style);\n};\n\nvar initNode = function initNode(_ref) {\n  var _ref2 = _slicedToArray(_ref, 3),\n      element = _ref2[0],\n      x = _ref2[1],\n      y = _ref2[2];\n\n  element.scrollLeft = x;\n  element.scrollTop = y;\n};\n\nvar generateIframeKey = function generateIframeKey() {\n  return Math.ceil(Date.now() + Math.random() * 10000000).toString(16);\n};\n\nvar DATA_URI_REGEXP = /^data:text\\/(.+);(base64)?,(.*)$/i;\n\nvar getIframeDocumentElement = function getIframeDocumentElement(node, options) {\n  try {\n    return Promise.resolve(node.contentWindow.document.documentElement);\n  } catch (e) {\n    return options.proxy ? Object(_Proxy__WEBPACK_IMPORTED_MODULE_1__["Proxy"])(node.src, options).then(function (html) {\n      var match = html.match(DATA_URI_REGEXP);\n\n      if (!match) {\n        return Promise.reject();\n      }\n\n      return match[2] === \'base64\' ? window.atob(decodeURIComponent(match[3])) : decodeURIComponent(match[3]);\n    }).then(function (html) {\n      return createIframeContainer(node.ownerDocument, Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["parseBounds"])(node, 0, 0)).then(function (cloneIframeContainer) {\n        var cloneWindow = cloneIframeContainer.contentWindow;\n        var documentClone = cloneWindow.document;\n        documentClone.open();\n        documentClone.write(html);\n        var iframeLoad = iframeLoader(cloneIframeContainer).then(function () {\n          return documentClone.documentElement;\n        });\n        documentClone.close();\n        return iframeLoad;\n      });\n    }) : Promise.reject();\n  }\n};\n\nvar createIframeContainer = function createIframeContainer(ownerDocument, bounds) {\n  var cloneIframeContainer = ownerDocument.createElement(\'iframe\');\n  cloneIframeContainer.className = \'html2canvas-container\';\n  cloneIframeContainer.style.visibility = \'hidden\';\n  cloneIframeContainer.style.position = \'fixed\';\n  cloneIframeContainer.style.left = \'-10000px\';\n  cloneIframeContainer.style.top = \'0px\';\n  cloneIframeContainer.style.border = \'0\';\n  cloneIframeContainer.width = bounds.width.toString();\n  cloneIframeContainer.height = bounds.height.toString();\n  cloneIframeContainer.scrolling = \'no\'; // ios won\'t scroll without it\n\n  cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, \'true\');\n\n  if (!ownerDocument.body) {\n    return Promise.reject( true ? "Body element not found in Document that is getting rendered" : undefined);\n  }\n\n  ownerDocument.body.appendChild(cloneIframeContainer);\n  return Promise.resolve(cloneIframeContainer);\n};\n\nvar iframeLoader = function iframeLoader(cloneIframeContainer) {\n  var cloneWindow = cloneIframeContainer.contentWindow;\n  var documentClone = cloneWindow.document;\n  return new Promise(function (resolve, reject) {\n    cloneWindow.onload = cloneIframeContainer.onload = documentClone.onreadystatechange = function () {\n      var interval = setInterval(function () {\n        if (documentClone.body.childNodes.length > 0 && documentClone.readyState === \'complete\') {\n          clearInterval(interval);\n          resolve(cloneIframeContainer);\n        }\n      }, 50);\n    };\n  });\n};\n\nvar cloneWindow = function cloneWindow(ownerDocument, bounds, referenceElement, options, logger, renderer) {\n  var cloner = new DocumentCloner(referenceElement, options, logger, false, renderer);\n  var scrollX = ownerDocument.defaultView.pageXOffset;\n  var scrollY = ownerDocument.defaultView.pageYOffset;\n  return createIframeContainer(ownerDocument, bounds).then(function (cloneIframeContainer) {\n    var cloneWindow = cloneIframeContainer.contentWindow;\n    var documentClone = cloneWindow.document;\n    /* Chrome doesn\'t detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n         if window url is about:blank, we can assign the url to current by writing onto the document\n         */\n\n    var iframeLoad = iframeLoader(cloneIframeContainer).then(function () {\n      cloner.scrolledElements.forEach(initNode);\n      cloneWindow.scrollTo(bounds.left, bounds.top);\n\n      if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) && (cloneWindow.scrollY !== bounds.top || cloneWindow.scrollX !== bounds.left)) {\n        documentClone.documentElement.style.top = -bounds.top + \'px\';\n        documentClone.documentElement.style.left = -bounds.left + \'px\';\n        documentClone.documentElement.style.position = \'absolute\';\n      }\n\n      var result = Promise.resolve([cloneIframeContainer, cloner.clonedReferenceElement, cloner.resourceLoader]);\n      var onclone = options.onclone;\n      return cloner.clonedReferenceElement instanceof cloneWindow.HTMLElement || cloner.clonedReferenceElement instanceof ownerDocument.defaultView.HTMLElement || cloner.clonedReferenceElement instanceof HTMLElement ? typeof onclone === \'function\' ? Promise.resolve().then(function () {\n        return onclone(documentClone);\n      }).then(function () {\n        return result;\n      }) : result : Promise.reject( true ? "Error finding the ".concat(referenceElement.nodeName, " in the cloned document") : undefined);\n    });\n    documentClone.open();\n    documentClone.write("".concat(serializeDoctype(document.doctype), "<html></html>")); // Chrome scrolls the parent document for some reason after the write to the cloned window???\n\n    restoreOwnerScroll(referenceElement.ownerDocument, scrollX, scrollY);\n    documentClone.replaceChild(documentClone.adoptNode(cloner.documentElement), documentClone.documentElement);\n    documentClone.close();\n    return iframeLoad;\n  });\n};\n\nvar serializeDoctype = function serializeDoctype(doctype) {\n  var str = \'\';\n\n  if (doctype) {\n    str += \'<!DOCTYPE \';\n\n    if (doctype.name) {\n      str += doctype.name;\n    }\n\n    if (doctype.internalSubset) {\n      str += doctype.internalSubset;\n    }\n\n    if (doctype.publicId) {\n      str += "\\"".concat(doctype.publicId, "\\"");\n    }\n\n    if (doctype.systemId) {\n      str += "\\"".concat(doctype.systemId, "\\"");\n    }\n\n    str += \'>\';\n  }\n\n  return str;\n};\n\n//# sourceURL=webpack://html2canvas/./src/Clone.js?')},"./src/Color.js":
/*!**********************!*\
  !*** ./src/Color.js ***!
  \**********************/
/*! exports provided: default, TRANSPARENT */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRANSPARENT", function() { return TRANSPARENT; });\n // http://dev.w3.org/csswg/css-color/\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar HEX3 = /^#([a-f0-9]{3})$/i;\n\nvar hex3 = function hex3(value) {\n  var match = value.match(HEX3);\n\n  if (match) {\n    return [parseInt(match[1][0] + match[1][0], 16), parseInt(match[1][1] + match[1][1], 16), parseInt(match[1][2] + match[1][2], 16), null];\n  }\n\n  return false;\n};\n\nvar HEX6 = /^#([a-f0-9]{6})$/i;\n\nvar hex6 = function hex6(value) {\n  var match = value.match(HEX6);\n\n  if (match) {\n    return [parseInt(match[1].substring(0, 2), 16), parseInt(match[1].substring(2, 4), 16), parseInt(match[1].substring(4, 6), 16), null];\n  }\n\n  return false;\n};\n\nvar RGB = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;\n\nvar rgb = function rgb(value) {\n  var match = value.match(RGB);\n\n  if (match) {\n    return [Number(match[1]), Number(match[2]), Number(match[3]), null];\n  }\n\n  return false;\n};\n\nvar RGBA = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d?\\.?\\d+)\\s*\\)$/;\n\nvar rgba = function rgba(value) {\n  var match = value.match(RGBA);\n\n  if (match && match.length > 4) {\n    return [Number(match[1]), Number(match[2]), Number(match[3]), Number(match[4])];\n  }\n\n  return false;\n};\n\nvar fromArray = function fromArray(array) {\n  return [Math.min(array[0], 255), Math.min(array[1], 255), Math.min(array[2], 255), array.length > 3 ? array[3] : null];\n};\n\nvar namedColor = function namedColor(name) {\n  var color = NAMED_COLORS[name.toLowerCase()];\n  return color ? color : false;\n};\n\nvar Color =\n/*#__PURE__*/\nfunction () {\n  function Color(value) {\n    _classCallCheck(this, Color);\n\n    var _ref = Array.isArray(value) ? fromArray(value) : hex3(value) || rgb(value) || rgba(value) || namedColor(value) || hex6(value) || [0, 0, 0, null],\n        _ref2 = _slicedToArray(_ref, 4),\n        r = _ref2[0],\n        g = _ref2[1],\n        b = _ref2[2],\n        a = _ref2[3];\n\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a;\n  }\n\n  _createClass(Color, [{\n    key: "isTransparent",\n    value: function isTransparent() {\n      return this.a === 0;\n    }\n  }, {\n    key: "toString",\n    value: function toString() {\n      return this.a !== null && this.a !== 1 ? "rgba(".concat(this.r, ",").concat(this.g, ",").concat(this.b, ",").concat(this.a, ")") : "rgb(".concat(this.r, ",").concat(this.g, ",").concat(this.b, ")");\n    }\n  }]);\n\n  return Color;\n}();\n\n\nvar NAMED_COLORS = {\n  transparent: [0, 0, 0, 0],\n  aliceblue: [240, 248, 255, null],\n  antiquewhite: [250, 235, 215, null],\n  aqua: [0, 255, 255, null],\n  aquamarine: [127, 255, 212, null],\n  azure: [240, 255, 255, null],\n  beige: [245, 245, 220, null],\n  bisque: [255, 228, 196, null],\n  black: [0, 0, 0, null],\n  blanchedalmond: [255, 235, 205, null],\n  blue: [0, 0, 255, null],\n  blueviolet: [138, 43, 226, null],\n  brown: [165, 42, 42, null],\n  burlywood: [222, 184, 135, null],\n  cadetblue: [95, 158, 160, null],\n  chartreuse: [127, 255, 0, null],\n  chocolate: [210, 105, 30, null],\n  coral: [255, 127, 80, null],\n  cornflowerblue: [100, 149, 237, null],\n  cornsilk: [255, 248, 220, null],\n  crimson: [220, 20, 60, null],\n  cyan: [0, 255, 255, null],\n  darkblue: [0, 0, 139, null],\n  darkcyan: [0, 139, 139, null],\n  darkgoldenrod: [184, 134, 11, null],\n  darkgray: [169, 169, 169, null],\n  darkgreen: [0, 100, 0, null],\n  darkgrey: [169, 169, 169, null],\n  darkkhaki: [189, 183, 107, null],\n  darkmagenta: [139, 0, 139, null],\n  darkolivegreen: [85, 107, 47, null],\n  darkorange: [255, 140, 0, null],\n  darkorchid: [153, 50, 204, null],\n  darkred: [139, 0, 0, null],\n  darksalmon: [233, 150, 122, null],\n  darkseagreen: [143, 188, 143, null],\n  darkslateblue: [72, 61, 139, null],\n  darkslategray: [47, 79, 79, null],\n  darkslategrey: [47, 79, 79, null],\n  darkturquoise: [0, 206, 209, null],\n  darkviolet: [148, 0, 211, null],\n  deeppink: [255, 20, 147, null],\n  deepskyblue: [0, 191, 255, null],\n  dimgray: [105, 105, 105, null],\n  dimgrey: [105, 105, 105, null],\n  dodgerblue: [30, 144, 255, null],\n  firebrick: [178, 34, 34, null],\n  floralwhite: [255, 250, 240, null],\n  forestgreen: [34, 139, 34, null],\n  fuchsia: [255, 0, 255, null],\n  gainsboro: [220, 220, 220, null],\n  ghostwhite: [248, 248, 255, null],\n  gold: [255, 215, 0, null],\n  goldenrod: [218, 165, 32, null],\n  gray: [128, 128, 128, null],\n  green: [0, 128, 0, null],\n  greenyellow: [173, 255, 47, null],\n  grey: [128, 128, 128, null],\n  honeydew: [240, 255, 240, null],\n  hotpink: [255, 105, 180, null],\n  indianred: [205, 92, 92, null],\n  indigo: [75, 0, 130, null],\n  ivory: [255, 255, 240, null],\n  khaki: [240, 230, 140, null],\n  lavender: [230, 230, 250, null],\n  lavenderblush: [255, 240, 245, null],\n  lawngreen: [124, 252, 0, null],\n  lemonchiffon: [255, 250, 205, null],\n  lightblue: [173, 216, 230, null],\n  lightcoral: [240, 128, 128, null],\n  lightcyan: [224, 255, 255, null],\n  lightgoldenrodyellow: [250, 250, 210, null],\n  lightgray: [211, 211, 211, null],\n  lightgreen: [144, 238, 144, null],\n  lightgrey: [211, 211, 211, null],\n  lightpink: [255, 182, 193, null],\n  lightsalmon: [255, 160, 122, null],\n  lightseagreen: [32, 178, 170, null],\n  lightskyblue: [135, 206, 250, null],\n  lightslategray: [119, 136, 153, null],\n  lightslategrey: [119, 136, 153, null],\n  lightsteelblue: [176, 196, 222, null],\n  lightyellow: [255, 255, 224, null],\n  lime: [0, 255, 0, null],\n  limegreen: [50, 205, 50, null],\n  linen: [250, 240, 230, null],\n  magenta: [255, 0, 255, null],\n  maroon: [128, 0, 0, null],\n  mediumaquamarine: [102, 205, 170, null],\n  mediumblue: [0, 0, 205, null],\n  mediumorchid: [186, 85, 211, null],\n  mediumpurple: [147, 112, 219, null],\n  mediumseagreen: [60, 179, 113, null],\n  mediumslateblue: [123, 104, 238, null],\n  mediumspringgreen: [0, 250, 154, null],\n  mediumturquoise: [72, 209, 204, null],\n  mediumvioletred: [199, 21, 133, null],\n  midnightblue: [25, 25, 112, null],\n  mintcream: [245, 255, 250, null],\n  mistyrose: [255, 228, 225, null],\n  moccasin: [255, 228, 181, null],\n  navajowhite: [255, 222, 173, null],\n  navy: [0, 0, 128, null],\n  oldlace: [253, 245, 230, null],\n  olive: [128, 128, 0, null],\n  olivedrab: [107, 142, 35, null],\n  orange: [255, 165, 0, null],\n  orangered: [255, 69, 0, null],\n  orchid: [218, 112, 214, null],\n  palegoldenrod: [238, 232, 170, null],\n  palegreen: [152, 251, 152, null],\n  paleturquoise: [175, 238, 238, null],\n  palevioletred: [219, 112, 147, null],\n  papayawhip: [255, 239, 213, null],\n  peachpuff: [255, 218, 185, null],\n  peru: [205, 133, 63, null],\n  pink: [255, 192, 203, null],\n  plum: [221, 160, 221, null],\n  powderblue: [176, 224, 230, null],\n  purple: [128, 0, 128, null],\n  rebeccapurple: [102, 51, 153, null],\n  red: [255, 0, 0, null],\n  rosybrown: [188, 143, 143, null],\n  royalblue: [65, 105, 225, null],\n  saddlebrown: [139, 69, 19, null],\n  salmon: [250, 128, 114, null],\n  sandybrown: [244, 164, 96, null],\n  seagreen: [46, 139, 87, null],\n  seashell: [255, 245, 238, null],\n  sienna: [160, 82, 45, null],\n  silver: [192, 192, 192, null],\n  skyblue: [135, 206, 235, null],\n  slateblue: [106, 90, 205, null],\n  slategray: [112, 128, 144, null],\n  slategrey: [112, 128, 144, null],\n  snow: [255, 250, 250, null],\n  springgreen: [0, 255, 127, null],\n  steelblue: [70, 130, 180, null],\n  tan: [210, 180, 140, null],\n  teal: [0, 128, 128, null],\n  thistle: [216, 191, 216, null],\n  tomato: [255, 99, 71, null],\n  turquoise: [64, 224, 208, null],\n  violet: [238, 130, 238, null],\n  wheat: [245, 222, 179, null],\n  white: [255, 255, 255, null],\n  whitesmoke: [245, 245, 245, null],\n  yellow: [255, 255, 0, null],\n  yellowgreen: [154, 205, 50, null]\n};\nvar TRANSPARENT = new Color([0, 0, 0, 0]);\n\n//# sourceURL=webpack://html2canvas/./src/Color.js?')},"./src/Feature.js":
/*!************************!*\
  !*** ./src/Feature.js ***!
  \************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer/ForeignObjectRenderer */ \"./src/renderer/ForeignObjectRenderer.js\");\n\n\n\n\nvar testRangeBounds = function testRangeBounds(document) {\n  var TEST_HEIGHT = 123;\n\n  if (document.createRange) {\n    var range = document.createRange();\n\n    if (range.getBoundingClientRect) {\n      var testElement = document.createElement('boundtest');\n      testElement.style.height = \"\".concat(TEST_HEIGHT, \"px\");\n      testElement.style.display = 'block';\n      document.body.appendChild(testElement);\n      range.selectNode(testElement);\n      var rangeBounds = range.getBoundingClientRect();\n      var rangeHeight = Math.round(rangeBounds.height);\n      document.body.removeChild(testElement);\n\n      if (rangeHeight === TEST_HEIGHT) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\nvar testCORS = function testCORS() {\n  return typeof new Image().crossOrigin !== 'undefined';\n};\n\nvar testResponseType = function testResponseType() {\n  return typeof new XMLHttpRequest().responseType === 'string';\n};\n\nvar testSVG = function testSVG(document) {\n  var img = new Image();\n  var canvas = document.createElement('canvas');\n  var ctx = canvas.getContext('2d');\n  img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\n\n  try {\n    ctx.drawImage(img, 0, 0);\n    canvas.toDataURL();\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isGreenPixel = function isGreenPixel(data) {\n  return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\n};\n\nvar testForeignObject = function testForeignObject(document) {\n  var canvas = document.createElement('canvas');\n  var size = 100;\n  canvas.width = size;\n  canvas.height = size;\n  var ctx = canvas.getContext('2d');\n  ctx.fillStyle = 'rgb(0, 255, 0)';\n  ctx.fillRect(0, 0, size, size);\n  var img = new Image();\n  var greenImageSrc = canvas.toDataURL();\n  img.src = greenImageSrc;\n  var svg = Object(_renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_0__[\"createForeignObjectSVG\"])(size, size, 0, 0, img);\n  ctx.fillStyle = 'red';\n  ctx.fillRect(0, 0, size, size);\n  return Object(_renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_0__[\"loadSerializedSVG\"])(svg).then(function (img) {\n    ctx.drawImage(img, 0, 0);\n    var data = ctx.getImageData(0, 0, size, size).data;\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, size, size);\n    var node = document.createElement('div');\n    node.style.backgroundImage = \"url(\".concat(greenImageSrc, \")\");\n    node.style.height = \"\".concat(size, \"px\"); // Firefox 55 does not render inline <img /> tags\n\n    return isGreenPixel(data) ? Object(_renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_0__[\"loadSerializedSVG\"])(Object(_renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_0__[\"createForeignObjectSVG\"])(size, size, 0, 0, node)) : Promise.reject(false);\n  }).then(function (img) {\n    ctx.drawImage(img, 0, 0); // Edge does not render background-images\n\n    return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\n  }).catch(function (e) {\n    return false;\n  });\n};\n\nvar FEATURES = {\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_RANGE_BOUNDS() {\n    'use strict';\n\n    var value = testRangeBounds(document);\n    Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_SVG_DRAWING() {\n    'use strict';\n\n    var value = testSVG(document);\n    Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_FOREIGNOBJECT_DRAWING() {\n    'use strict';\n\n    var value = typeof Array.from === 'function' && typeof window.fetch === 'function' ? testForeignObject(document) : Promise.resolve(false);\n    Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_CORS_IMAGES() {\n    'use strict';\n\n    var value = testCORS();\n    Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_RESPONSE_TYPE() {\n    'use strict';\n\n    var value = testResponseType();\n    Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_CORS_XHR() {\n    'use strict';\n\n    var value = 'withCredentials' in new XMLHttpRequest();\n    Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', {\n      value: value\n    });\n    return value;\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FEATURES);\n\n//# sourceURL=webpack://html2canvas/./src/Feature.js?")},"./src/Font.js":
/*!*********************!*\
  !*** ./src/Font.js ***!
  \*********************/
/*! exports provided: FontMetrics */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FontMetrics\", function() { return FontMetrics; });\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SAMPLE_TEXT = 'Hidden Text';\n\nvar FontMetrics =\n/*#__PURE__*/\nfunction () {\n  function FontMetrics(document) {\n    _classCallCheck(this, FontMetrics);\n\n    this._data = {};\n    this._document = document;\n  }\n\n  _createClass(FontMetrics, [{\n    key: \"_parseMetrics\",\n    value: function _parseMetrics(font) {\n      var container = this._document.createElement('div');\n\n      var img = this._document.createElement('img');\n\n      var span = this._document.createElement('span');\n\n      var body = this._document.body;\n\n      if (!body) {\n        throw new Error( true ? 'No document found for font metrics' : undefined);\n      }\n\n      container.style.visibility = 'hidden';\n      container.style.fontFamily = font.fontFamily;\n      container.style.fontSize = font.fontSize;\n      container.style.margin = '0';\n      container.style.padding = '0';\n      body.appendChild(container);\n      img.src = _Util__WEBPACK_IMPORTED_MODULE_0__[\"SMALL_IMAGE\"];\n      img.width = 1;\n      img.height = 1;\n      img.style.margin = '0';\n      img.style.padding = '0';\n      img.style.verticalAlign = 'baseline';\n      span.style.fontFamily = font.fontFamily;\n      span.style.fontSize = font.fontSize;\n      span.style.margin = '0';\n      span.style.padding = '0';\n      span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n      container.appendChild(span);\n      container.appendChild(img);\n      var baseline = img.offsetTop - span.offsetTop + 2;\n      container.removeChild(span);\n      container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n      container.style.lineHeight = 'normal';\n      img.style.verticalAlign = 'super';\n      var middle = img.offsetTop - container.offsetTop + 2;\n      body.removeChild(container);\n      return {\n        baseline: baseline,\n        middle: middle\n      };\n    }\n  }, {\n    key: \"getMetrics\",\n    value: function getMetrics(font) {\n      var key = \"\".concat(font.fontFamily, \" \").concat(font.fontSize);\n\n      if (this._data[key] === undefined) {\n        this._data[key] = this._parseMetrics(font);\n      }\n\n      return this._data[key];\n    }\n  }]);\n\n  return FontMetrics;\n}();\n\n//# sourceURL=webpack://html2canvas/./src/Font.js?")},"./src/Gradient.js":
/*!*************************!*\
  !*** ./src/Gradient.js ***!
  \*************************/
/*! exports provided: GRADIENT_TYPE, RADIAL_GRADIENT_SHAPE, LinearGradient, RadialGradient, parseGradient, transformWebkitRadialGradientArgs */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GRADIENT_TYPE\", function() { return GRADIENT_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RADIAL_GRADIENT_SHAPE\", function() { return RADIAL_GRADIENT_SHAPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LinearGradient\", function() { return LinearGradient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RadialGradient\", function() { return RadialGradient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseGradient\", function() { return parseGradient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"transformWebkitRadialGradientArgs\", function() { return transformWebkitRadialGradientArgs; });\n/* harmony import */ var _NodeContainer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NodeContainer */ \"./src/NodeContainer.js\");\n/* harmony import */ var _Angle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Angle */ \"./src/Angle.js\");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Color */ \"./src/Color.js\");\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Length */ \"./src/Length.js\");\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar SIDE_OR_CORNER = /^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i;\nvar PERCENTAGE_ANGLES = /^([+-]?\\d*\\.?\\d+)% ([+-]?\\d*\\.?\\d+)%$/i;\nvar ENDS_WITH_LENGTH = /(px)|%|( 0)$/i;\nvar FROM_TO_COLORSTOP = /^(from|to|color-stop)\\((?:([\\d.]+)(%)?,\\s*)?(.+?)\\)$/i;\nvar RADIAL_SHAPE_DEFINITION = /^\\s*(circle|ellipse)?\\s*((?:([\\d.]+)(px|r?em|%)\\s*(?:([\\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\\s*(?:at\\s*(?:(left|center|right)|([\\d.]+)(px|r?em|%))\\s+(?:(top|center|bottom)|([\\d.]+)(px|r?em|%)))?(?:\\s|$)/i;\nvar GRADIENT_TYPE = {\n  LINEAR_GRADIENT: 0,\n  RADIAL_GRADIENT: 1\n};\nvar RADIAL_GRADIENT_SHAPE = {\n  CIRCLE: 0,\n  ELLIPSE: 1\n};\nvar LENGTH_FOR_POSITION = {\n  left: new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('0%'),\n  top: new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('0%'),\n  center: new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('50%'),\n  right: new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('100%'),\n  bottom: new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('100%')\n};\nvar LinearGradient = function LinearGradient(colorStops, direction) {\n  _classCallCheck(this, LinearGradient);\n\n  this.type = GRADIENT_TYPE.LINEAR_GRADIENT;\n  this.colorStops = colorStops;\n  this.direction = direction;\n};\nvar RadialGradient = function RadialGradient(colorStops, shape, center, radius) {\n  _classCallCheck(this, RadialGradient);\n\n  this.type = GRADIENT_TYPE.RADIAL_GRADIENT;\n  this.colorStops = colorStops;\n  this.shape = shape;\n  this.center = center;\n  this.radius = radius;\n};\nvar parseGradient = function parseGradient(container, _ref, bounds) {\n  var args = _ref.args,\n      method = _ref.method,\n      prefix = _ref.prefix;\n\n  if (method === 'linear-gradient') {\n    return parseLinearGradient(args, bounds, !!prefix);\n  } else if (method === 'gradient' && args[0] === 'linear') {\n    // TODO handle correct angle\n    return parseLinearGradient(['to bottom'].concat(transformObsoleteColorStops(args.slice(3))), bounds, !!prefix);\n  } else if (method === 'radial-gradient') {\n    return parseRadialGradient(container, prefix === '-webkit-' ? transformWebkitRadialGradientArgs(args) : args, bounds);\n  } else if (method === 'gradient' && args[0] === 'radial') {\n    return parseRadialGradient(container, transformObsoleteColorStops(transformWebkitRadialGradientArgs(args.slice(1))), bounds);\n  }\n};\n\nvar parseColorStops = function parseColorStops(args, firstColorStopIndex, lineLength) {\n  var colorStops = [];\n\n  for (var i = firstColorStopIndex; i < args.length; i++) {\n    var value = args[i];\n    var HAS_LENGTH = ENDS_WITH_LENGTH.test(value);\n    var lastSpaceIndex = value.lastIndexOf(' ');\n    var color = new _Color__WEBPACK_IMPORTED_MODULE_2__[\"default\"](HAS_LENGTH ? value.substring(0, lastSpaceIndex) : value);\n    var stop = HAS_LENGTH ? new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"](value.substring(lastSpaceIndex + 1)) : i === firstColorStopIndex ? new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('0%') : i === args.length - 1 ? new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('100%') : null;\n    colorStops.push({\n      color: color,\n      stop: stop\n    });\n  }\n\n  var absoluteValuedColorStops = colorStops.map(function (_ref2) {\n    var color = _ref2.color,\n        stop = _ref2.stop;\n    var absoluteStop = lineLength === 0 ? 0 : stop ? stop.getAbsoluteValue(lineLength) / lineLength : null;\n    return {\n      color: color,\n      // $FlowFixMe\n      stop: absoluteStop\n    };\n  });\n  var previousColorStop = absoluteValuedColorStops[0].stop;\n\n  for (var _i = 0; _i < absoluteValuedColorStops.length; _i++) {\n    if (previousColorStop !== null) {\n      var _stop = absoluteValuedColorStops[_i].stop;\n\n      if (_stop === null) {\n        var n = _i;\n\n        while (absoluteValuedColorStops[n].stop === null) {\n          n++;\n        }\n\n        var steps = n - _i + 1;\n        var nextColorStep = absoluteValuedColorStops[n].stop;\n        var stepSize = (nextColorStep - previousColorStop) / steps;\n\n        for (; _i < n; _i++) {\n          previousColorStop = absoluteValuedColorStops[_i].stop = previousColorStop + stepSize;\n        }\n      } else {\n        previousColorStop = _stop;\n      }\n    }\n  }\n\n  return absoluteValuedColorStops;\n};\n\nvar parseLinearGradient = function parseLinearGradient(args, bounds, hasPrefix) {\n  var angle = Object(_Angle__WEBPACK_IMPORTED_MODULE_1__[\"parseAngle\"])(args[0]);\n  var HAS_SIDE_OR_CORNER = SIDE_OR_CORNER.test(args[0]);\n  var HAS_DIRECTION = HAS_SIDE_OR_CORNER || angle !== null || PERCENTAGE_ANGLES.test(args[0]);\n  var direction = HAS_DIRECTION ? angle !== null ? calculateGradientDirection( // if there is a prefix, the 0° angle points due East (instead of North per W3C)\n  hasPrefix ? angle - Math.PI * 0.5 : angle, bounds) : HAS_SIDE_OR_CORNER ? parseSideOrCorner(args[0], bounds) : parsePercentageAngle(args[0], bounds) : calculateGradientDirection(Math.PI, bounds);\n  var firstColorStopIndex = HAS_DIRECTION ? 1 : 0; // TODO: Fix some inaccuracy with color stops with px values\n\n  var lineLength = Math.min(Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(Math.abs(direction.x0) + Math.abs(direction.x1), Math.abs(direction.y0) + Math.abs(direction.y1)), bounds.width * 2, bounds.height * 2);\n  return new LinearGradient(parseColorStops(args, firstColorStopIndex, lineLength), direction);\n};\n\nvar parseRadialGradient = function parseRadialGradient(container, args, bounds) {\n  var m = args[0].match(RADIAL_SHAPE_DEFINITION);\n  var shape = m && (m[1] === 'circle' || // explicit shape specification\n  m[3] !== undefined && m[5] === undefined) // only one radius coordinate\n  ? RADIAL_GRADIENT_SHAPE.CIRCLE : RADIAL_GRADIENT_SHAPE.ELLIPSE;\n  var radius = {};\n  var center = {};\n\n  if (m) {\n    // Radius\n    if (m[3] !== undefined) {\n      radius.x = Object(_Length__WEBPACK_IMPORTED_MODULE_3__[\"calculateLengthFromValueWithUnit\"])(container, m[3], m[4]).getAbsoluteValue(bounds.width);\n    }\n\n    if (m[5] !== undefined) {\n      radius.y = Object(_Length__WEBPACK_IMPORTED_MODULE_3__[\"calculateLengthFromValueWithUnit\"])(container, m[5], m[6]).getAbsoluteValue(bounds.height);\n    } // Position\n\n\n    if (m[7]) {\n      center.x = LENGTH_FOR_POSITION[m[7].toLowerCase()];\n    } else if (m[8] !== undefined) {\n      center.x = Object(_Length__WEBPACK_IMPORTED_MODULE_3__[\"calculateLengthFromValueWithUnit\"])(container, m[8], m[9]);\n    }\n\n    if (m[10]) {\n      center.y = LENGTH_FOR_POSITION[m[10].toLowerCase()];\n    } else if (m[11] !== undefined) {\n      center.y = Object(_Length__WEBPACK_IMPORTED_MODULE_3__[\"calculateLengthFromValueWithUnit\"])(container, m[11], m[12]);\n    }\n  }\n\n  var gradientCenter = {\n    x: center.x === undefined ? bounds.width / 2 : center.x.getAbsoluteValue(bounds.width),\n    y: center.y === undefined ? bounds.height / 2 : center.y.getAbsoluteValue(bounds.height)\n  };\n  var gradientRadius = calculateRadius(m && m[2] || 'farthest-corner', shape, gradientCenter, radius, bounds);\n  return new RadialGradient(parseColorStops(args, m ? 1 : 0, Math.min(gradientRadius.x, gradientRadius.y)), shape, gradientCenter, gradientRadius);\n};\n\nvar calculateGradientDirection = function calculateGradientDirection(radian, bounds) {\n  var width = bounds.width;\n  var height = bounds.height;\n  var HALF_WIDTH = width * 0.5;\n  var HALF_HEIGHT = height * 0.5;\n  var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\n  var HALF_LINE_LENGTH = lineLength / 2;\n  var x0 = HALF_WIDTH + Math.sin(radian) * HALF_LINE_LENGTH;\n  var y0 = HALF_HEIGHT - Math.cos(radian) * HALF_LINE_LENGTH;\n  var x1 = width - x0;\n  var y1 = height - y0;\n  return {\n    x0: x0,\n    x1: x1,\n    y0: y0,\n    y1: y1\n  };\n};\n\nvar parseTopRight = function parseTopRight(bounds) {\n  return Math.acos(bounds.width / 2 / (Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(bounds.width, bounds.height) / 2));\n};\n\nvar parseSideOrCorner = function parseSideOrCorner(side, bounds) {\n  switch (side) {\n    case 'bottom':\n    case 'to top':\n      return calculateGradientDirection(0, bounds);\n\n    case 'left':\n    case 'to right':\n      return calculateGradientDirection(Math.PI / 2, bounds);\n\n    case 'right':\n    case 'to left':\n      return calculateGradientDirection(3 * Math.PI / 2, bounds);\n\n    case 'top right':\n    case 'right top':\n    case 'to bottom left':\n    case 'to left bottom':\n      return calculateGradientDirection(Math.PI + parseTopRight(bounds), bounds);\n\n    case 'top left':\n    case 'left top':\n    case 'to bottom right':\n    case 'to right bottom':\n      return calculateGradientDirection(Math.PI - parseTopRight(bounds), bounds);\n\n    case 'bottom left':\n    case 'left bottom':\n    case 'to top right':\n    case 'to right top':\n      return calculateGradientDirection(parseTopRight(bounds), bounds);\n\n    case 'bottom right':\n    case 'right bottom':\n    case 'to top left':\n    case 'to left top':\n      return calculateGradientDirection(2 * Math.PI - parseTopRight(bounds), bounds);\n\n    case 'top':\n    case 'to bottom':\n    default:\n      return calculateGradientDirection(Math.PI, bounds);\n  }\n};\n\nvar parsePercentageAngle = function parsePercentageAngle(angle, bounds) {\n  var _angle$split$map = angle.split(' ').map(parseFloat),\n      _angle$split$map2 = _slicedToArray(_angle$split$map, 2),\n      left = _angle$split$map2[0],\n      top = _angle$split$map2[1];\n\n  var ratio = left / 100 * bounds.width / (top / 100 * bounds.height);\n  return calculateGradientDirection(Math.atan(isNaN(ratio) ? 1 : ratio) + Math.PI / 2, bounds);\n};\n\nvar findCorner = function findCorner(bounds, x, y, closest) {\n  var corners = [{\n    x: 0,\n    y: 0\n  }, {\n    x: 0,\n    y: bounds.height\n  }, {\n    x: bounds.width,\n    y: 0\n  }, {\n    x: bounds.width,\n    y: bounds.height\n  }]; // $FlowFixMe\n\n  return corners.reduce(function (stat, corner) {\n    var d = Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x - corner.x, y - corner.y);\n\n    if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\n      return {\n        optimumCorner: corner,\n        optimumDistance: d\n      };\n    }\n\n    return stat;\n  }, {\n    optimumDistance: closest ? Infinity : -Infinity,\n    optimumCorner: null\n  }).optimumCorner;\n};\n\nvar calculateRadius = function calculateRadius(extent, shape, center, radius, bounds) {\n  var x = center.x;\n  var y = center.y;\n  var rx = 0;\n  var ry = 0;\n\n  switch (extent) {\n    case 'closest-side':\n      // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradient’s center.\n      // If the shape is an ellipse, it exactly meets the closest side in each dimension.\n      if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n        rx = ry = Math.min(Math.abs(x), Math.abs(x - bounds.width), Math.abs(y), Math.abs(y - bounds.height));\n      } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n        rx = Math.min(Math.abs(x), Math.abs(x - bounds.width));\n        ry = Math.min(Math.abs(y), Math.abs(y - bounds.height));\n      }\n\n      break;\n\n    case 'closest-corner':\n      // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradient’s center.\n      // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\n      if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n        rx = ry = Math.min(Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x, y), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x, y - bounds.height), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x - bounds.width, y), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x - bounds.width, y - bounds.height));\n      } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n        // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\n        var c = Math.min(Math.abs(y), Math.abs(y - bounds.height)) / Math.min(Math.abs(x), Math.abs(x - bounds.width));\n        var corner = findCorner(bounds, x, y, true);\n        rx = Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(corner.x - x, (corner.y - y) / c);\n        ry = c * rx;\n      }\n\n      break;\n\n    case 'farthest-side':\n      // Same as closest-side, except the ending shape is sized based on the farthest side(s)\n      if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n        rx = ry = Math.max(Math.abs(x), Math.abs(x - bounds.width), Math.abs(y), Math.abs(y - bounds.height));\n      } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n        rx = Math.max(Math.abs(x), Math.abs(x - bounds.width));\n        ry = Math.max(Math.abs(y), Math.abs(y - bounds.height));\n      }\n\n      break;\n\n    case 'farthest-corner':\n      // Same as closest-corner, except the ending shape is sized based on the farthest corner.\n      // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\n      if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n        rx = ry = Math.max(Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x, y), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x, y - bounds.height), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x - bounds.width, y), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x - bounds.width, y - bounds.height));\n      } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n        // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\n        var _c = Math.max(Math.abs(y), Math.abs(y - bounds.height)) / Math.max(Math.abs(x), Math.abs(x - bounds.width));\n\n        var _corner = findCorner(bounds, x, y, false);\n\n        rx = Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(_corner.x - x, (_corner.y - y) / _c);\n        ry = _c * rx;\n      }\n\n      break;\n\n    default:\n      // pixel or percentage values\n      rx = radius.x || 0;\n      ry = radius.y !== undefined ? radius.y : rx;\n      break;\n  }\n\n  return {\n    x: rx,\n    y: ry\n  };\n};\n\nvar transformWebkitRadialGradientArgs = function transformWebkitRadialGradientArgs(args) {\n  var shape = '';\n  var radius = '';\n  var extent = '';\n  var position = '';\n  var idx = 0;\n  var POSITION = /^(left|center|right|\\d+(?:px|r?em|%)?)(?:\\s+(top|center|bottom|\\d+(?:px|r?em|%)?))?$/i;\n  var SHAPE_AND_EXTENT = /^(circle|ellipse)?\\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i;\n  var RADIUS = /^\\d+(px|r?em|%)?(?:\\s+\\d+(px|r?em|%)?)?$/i;\n  var matchStartPosition = args[idx].match(POSITION);\n\n  if (matchStartPosition) {\n    idx++;\n  }\n\n  var matchShapeExtent = args[idx].match(SHAPE_AND_EXTENT);\n\n  if (matchShapeExtent) {\n    shape = matchShapeExtent[1] || '';\n    extent = matchShapeExtent[2] || '';\n\n    if (extent === 'contain') {\n      extent = 'closest-side';\n    } else if (extent === 'cover') {\n      extent = 'farthest-corner';\n    }\n\n    idx++;\n  }\n\n  var matchStartRadius = args[idx].match(RADIUS);\n\n  if (matchStartRadius) {\n    idx++;\n  }\n\n  var matchEndPosition = args[idx].match(POSITION);\n\n  if (matchEndPosition) {\n    idx++;\n  }\n\n  var matchEndRadius = args[idx].match(RADIUS);\n\n  if (matchEndRadius) {\n    idx++;\n  }\n\n  var matchPosition = matchEndPosition || matchStartPosition;\n\n  if (matchPosition && matchPosition[1]) {\n    position = matchPosition[1] + (/^\\d+$/.test(matchPosition[1]) ? 'px' : '');\n\n    if (matchPosition[2]) {\n      position += ' ' + matchPosition[2] + (/^\\d+$/.test(matchPosition[2]) ? 'px' : '');\n    }\n  }\n\n  var matchRadius = matchEndRadius || matchStartRadius;\n\n  if (matchRadius) {\n    radius = matchRadius[0];\n\n    if (!matchRadius[1]) {\n      radius += 'px';\n    }\n  }\n\n  if (position && !shape && !radius && !extent) {\n    radius = position;\n    position = '';\n  }\n\n  if (position) {\n    position = \"at \".concat(position);\n  }\n\n  return [[shape, extent, radius, position].filter(function (s) {\n    return !!s;\n  }).join(' ')].concat(args.slice(idx));\n};\n\nvar transformObsoleteColorStops = function transformObsoleteColorStops(args) {\n  return args.map(function (color) {\n    return color.match(FROM_TO_COLORSTOP);\n  }) // $FlowFixMe\n  .map(function (v, index) {\n    if (!v) {\n      return args[index];\n    }\n\n    switch (v[1]) {\n      case 'from':\n        return \"\".concat(v[4], \" 0%\");\n\n      case 'to':\n        return \"\".concat(v[4], \" 100%\");\n\n      case 'color-stop':\n        if (v[3] === '%') {\n          return \"\".concat(v[4], \" \").concat(v[2]);\n        }\n\n        return \"\".concat(v[4], \" \").concat(parseFloat(v[2]) * 100, \"%\");\n    }\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/Gradient.js?")},"./src/Input.js":
/*!**********************!*\
  !*** ./src/Input.js ***!
  \**********************/
/*! exports provided: INPUT_COLOR, INPUT_BORDERS, INPUT_BACKGROUND, getInputBorderRadius, inlineInputElement, inlineTextAreaElement, inlineSelectElement, reformatInputBounds */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INPUT_COLOR", function() { return INPUT_COLOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INPUT_BORDERS", function() { return INPUT_BORDERS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INPUT_BACKGROUND", function() { return INPUT_BACKGROUND; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getInputBorderRadius", function() { return getInputBorderRadius; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inlineInputElement", function() { return inlineInputElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inlineTextAreaElement", function() { return inlineTextAreaElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inlineSelectElement", function() { return inlineSelectElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reformatInputBounds", function() { return reformatInputBounds; });\n/* harmony import */ var _TextContainer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextContainer */ "./src/TextContainer.js");\n/* harmony import */ var _parsing_background__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsing/background */ "./src/parsing/background.js");\n/* harmony import */ var _parsing_border__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parsing/border */ "./src/parsing/border.js");\n/* harmony import */ var _drawing_Circle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./drawing/Circle */ "./src/drawing/Circle.js");\n/* harmony import */ var _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./drawing/Vector */ "./src/drawing/Vector.js");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Color */ "./src/Color.js");\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Length */ "./src/Length.js");\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _TextBounds__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TextBounds */ "./src/TextBounds.js");\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Util */ "./src/Util.js");\n\n\n\n\n\n\n\n\n\n\n\n\nvar INPUT_COLOR = new _Color__WEBPACK_IMPORTED_MODULE_5__["default"]([42, 42, 42]);\nvar INPUT_BORDER_COLOR = new _Color__WEBPACK_IMPORTED_MODULE_5__["default"]([165, 165, 165]);\nvar INPUT_BACKGROUND_COLOR = new _Color__WEBPACK_IMPORTED_MODULE_5__["default"]([222, 222, 222]);\nvar INPUT_BORDER = {\n  borderWidth: 1,\n  borderColor: INPUT_BORDER_COLOR,\n  borderStyle: _parsing_border__WEBPACK_IMPORTED_MODULE_2__["BORDER_STYLE"].SOLID\n};\nvar INPUT_BORDERS = [INPUT_BORDER, INPUT_BORDER, INPUT_BORDER, INPUT_BORDER];\nvar INPUT_BACKGROUND = {\n  backgroundColor: INPUT_BACKGROUND_COLOR,\n  backgroundImage: [],\n  backgroundClip: _parsing_background__WEBPACK_IMPORTED_MODULE_1__["BACKGROUND_CLIP"].PADDING_BOX,\n  backgroundOrigin: _parsing_background__WEBPACK_IMPORTED_MODULE_1__["BACKGROUND_ORIGIN"].PADDING_BOX\n};\nvar RADIO_BORDER_RADIUS = new _Length__WEBPACK_IMPORTED_MODULE_6__["default"](\'50%\');\nvar RADIO_BORDER_RADIUS_TUPLE = [RADIO_BORDER_RADIUS, RADIO_BORDER_RADIUS];\nvar INPUT_RADIO_BORDER_RADIUS = [RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE];\nvar CHECKBOX_BORDER_RADIUS = new _Length__WEBPACK_IMPORTED_MODULE_6__["default"](\'3px\');\nvar CHECKBOX_BORDER_RADIUS_TUPLE = [CHECKBOX_BORDER_RADIUS, CHECKBOX_BORDER_RADIUS];\nvar INPUT_CHECKBOX_BORDER_RADIUS = [CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE];\nvar getInputBorderRadius = function getInputBorderRadius(node) {\n  return node.type === \'radio\' ? INPUT_RADIO_BORDER_RADIUS : INPUT_CHECKBOX_BORDER_RADIUS;\n};\nvar inlineInputElement = function inlineInputElement(node, container) {\n  if (node.type === \'radio\' || node.type === \'checkbox\') {\n    if (node.checked) {\n      var size = Math.min(container.bounds.width, container.bounds.height);\n      container.childNodes.push(node.type === \'checkbox\' ? [new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)] : new _drawing_Circle__WEBPACK_IMPORTED_MODULE_3__["default"](container.bounds.left + size / 4, container.bounds.top + size / 4, size / 4));\n    }\n  } else {\n    inlineFormElement(getInputValue(node), node, container, false);\n  }\n};\nvar inlineTextAreaElement = function inlineTextAreaElement(node, container) {\n  inlineFormElement(node.value, node, container, true);\n};\nvar inlineSelectElement = function inlineSelectElement(node, container) {\n  var option = node.options[node.selectedIndex || 0];\n  inlineFormElement(option ? option.text || \'\' : \'\', node, container, false);\n};\nvar reformatInputBounds = function reformatInputBounds(bounds) {\n  if (bounds.width > bounds.height) {\n    bounds.left += (bounds.width - bounds.height) / 2;\n    bounds.width = bounds.height;\n  } else if (bounds.width < bounds.height) {\n    bounds.top += (bounds.height - bounds.width) / 2;\n    bounds.height = bounds.width;\n  }\n\n  return bounds;\n};\n\nvar inlineFormElement = function inlineFormElement(value, node, container, allowLinebreak) {\n  var body = node.ownerDocument.body;\n\n  if (value.length > 0 && body) {\n    var wrapper = node.ownerDocument.createElement(\'html2canvaswrapper\');\n    Object(_Util__WEBPACK_IMPORTED_MODULE_9__["copyCSSStyles"])(node.ownerDocument.defaultView.getComputedStyle(node, null), wrapper);\n    wrapper.style.position = \'absolute\';\n    wrapper.style.left = "".concat(container.bounds.left, "px");\n    wrapper.style.top = "".concat(container.bounds.top, "px");\n\n    if (!allowLinebreak) {\n      wrapper.style.whiteSpace = \'nowrap\';\n    }\n\n    var text = node.ownerDocument.createTextNode(value);\n    wrapper.appendChild(text);\n    body.appendChild(wrapper);\n    container.childNodes.push(_TextContainer__WEBPACK_IMPORTED_MODULE_0__["default"].fromTextNode(text, container));\n    body.removeChild(wrapper);\n  }\n};\n\nvar getInputValue = function getInputValue(node) {\n  var value = node.type === \'password\' ? new Array(node.value.length + 1).join("\\u2022") : node.value;\n  return value.length === 0 ? node.placeholder || \'\' : value;\n};\n\n//# sourceURL=webpack://html2canvas/./src/Input.js?')},"./src/Length.js":
/*!***********************!*\
  !*** ./src/Length.js ***!
  \***********************/
/*! exports provided: LENGTH_TYPE, default, calculateLengthFromValueWithUnit */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LENGTH_TYPE", function() { return LENGTH_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Length; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateLengthFromValueWithUnit", function() { return calculateLengthFromValueWithUnit; });\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar LENGTH_WITH_UNIT = /([\\d.]+)(px|r?em|%)/i;\nvar LENGTH_TYPE = {\n  PX: 0,\n  PERCENTAGE: 1\n};\n\nvar Length =\n/*#__PURE__*/\nfunction () {\n  function Length(value) {\n    _classCallCheck(this, Length);\n\n    this.type = value.substr(value.length - 1) === \'%\' ? LENGTH_TYPE.PERCENTAGE : LENGTH_TYPE.PX;\n    var parsedValue = parseFloat(value);\n\n    if ( true && isNaN(parsedValue)) {\n      console.error("Invalid value given for Length: \\"".concat(value, "\\""));\n    }\n\n    this.value = isNaN(parsedValue) ? 0 : parsedValue;\n  }\n\n  _createClass(Length, [{\n    key: "isPercentage",\n    value: function isPercentage() {\n      return this.type === LENGTH_TYPE.PERCENTAGE;\n    }\n  }, {\n    key: "getAbsoluteValue",\n    value: function getAbsoluteValue(parentLength) {\n      return this.isPercentage() ? parentLength * (this.value / 100) : this.value;\n    }\n  }], [{\n    key: "create",\n    value: function create(v) {\n      return new Length(v);\n    }\n  }]);\n\n  return Length;\n}();\n\n\n\nvar getRootFontSize = function getRootFontSize(container) {\n  var parent = container.parent;\n  return parent ? getRootFontSize(parent) : parseFloat(container.style.font.fontSize);\n};\n\nvar calculateLengthFromValueWithUnit = function calculateLengthFromValueWithUnit(container, value, unit) {\n  switch (unit) {\n    case \'px\':\n    case \'%\':\n      return new Length(value + unit);\n\n    case \'em\':\n    case \'rem\':\n      var length = new Length(value);\n      length.value *= unit === \'em\' ? parseFloat(container.style.font.fontSize) : getRootFontSize(container);\n      return length;\n\n    default:\n      // TODO: handle correctly if unknown unit is used\n      return new Length(\'0\');\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/Length.js?')},"./src/ListItem.js":
/*!*************************!*\
  !*** ./src/ListItem.js ***!
  \*************************/
/*! exports provided: getListOwner, inlineListItemElement, createCounterText */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getListOwner\", function() { return getListOwner; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inlineListItemElement\", function() { return inlineListItemElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createCounterText\", function() { return createCounterText; });\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n/* harmony import */ var _NodeContainer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NodeContainer */ \"./src/NodeContainer.js\");\n/* harmony import */ var _TextContainer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TextContainer */ \"./src/TextContainer.js\");\n/* harmony import */ var _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parsing/listStyle */ \"./src/parsing/listStyle.js\");\n/* harmony import */ var _Unicode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Unicode */ \"./src/Unicode.js\");\n\n\n\n\n\n\n // Margin between the enumeration and the list item content\n\nvar MARGIN_RIGHT = 7;\nvar ancestorTypes = ['OL', 'UL', 'MENU'];\nvar getListOwner = function getListOwner(container) {\n  var parent = container.parent;\n\n  if (!parent) {\n    return null;\n  }\n\n  do {\n    var isAncestor = ancestorTypes.indexOf(parent.tagName) !== -1;\n\n    if (isAncestor) {\n      return parent;\n    }\n\n    parent = parent.parent;\n  } while (parent);\n\n  return container.parent;\n};\nvar inlineListItemElement = function inlineListItemElement(node, container, resourceLoader) {\n  var listStyle = container.style.listStyle;\n\n  if (!listStyle) {\n    return;\n  }\n\n  var style = node.ownerDocument.defaultView.getComputedStyle(node, null);\n  var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n  Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"copyCSSStyles\"])(style, wrapper);\n  wrapper.style.position = 'absolute';\n  wrapper.style.bottom = 'auto';\n  wrapper.style.display = 'block';\n  wrapper.style.letterSpacing = 'normal';\n\n  switch (listStyle.listStylePosition) {\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_POSITION\"].OUTSIDE:\n      wrapper.style.left = 'auto';\n      wrapper.style.right = \"\".concat(node.ownerDocument.defaultView.innerWidth - container.bounds.left - container.style.margin[1].getAbsoluteValue(container.bounds.width) + MARGIN_RIGHT, \"px\");\n      wrapper.style.textAlign = 'right';\n      break;\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_POSITION\"].INSIDE:\n      wrapper.style.left = \"\".concat(container.bounds.left - container.style.margin[3].getAbsoluteValue(container.bounds.width), \"px\");\n      wrapper.style.right = 'auto';\n      wrapper.style.textAlign = 'left';\n      break;\n  }\n\n  var text;\n  var MARGIN_TOP = container.style.margin[0].getAbsoluteValue(container.bounds.width);\n  var styleImage = listStyle.listStyleImage;\n\n  if (styleImage) {\n    if (styleImage.method === 'url') {\n      var image = node.ownerDocument.createElement('img');\n      image.src = styleImage.args[0];\n      wrapper.style.top = \"\".concat(container.bounds.top - MARGIN_TOP, \"px\");\n      wrapper.style.width = 'auto';\n      wrapper.style.height = 'auto';\n      wrapper.appendChild(image);\n    } else {\n      var size = parseFloat(container.style.font.fontSize) * 0.5;\n      wrapper.style.top = \"\".concat(container.bounds.top - MARGIN_TOP + container.bounds.height - 1.5 * size, \"px\");\n      wrapper.style.width = \"\".concat(size, \"px\");\n      wrapper.style.height = \"\".concat(size, \"px\");\n      wrapper.style.backgroundImage = style.listStyleImage;\n    }\n  } else if (typeof container.listIndex === 'number') {\n    text = node.ownerDocument.createTextNode(createCounterText(container.listIndex, listStyle.listStyleType, true));\n    wrapper.appendChild(text);\n    wrapper.style.top = \"\".concat(container.bounds.top - MARGIN_TOP, \"px\");\n  } // $FlowFixMe\n\n\n  var body = node.ownerDocument.body;\n  body.appendChild(wrapper);\n\n  if (text) {\n    container.childNodes.push(_TextContainer__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fromTextNode(text, container));\n    body.removeChild(wrapper);\n  } else {\n    // $FlowFixMe\n    container.childNodes.push(new _NodeContainer__WEBPACK_IMPORTED_MODULE_1__[\"default\"](wrapper, container, resourceLoader, 0));\n  }\n};\nvar ROMAN_UPPER = {\n  integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\n  values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\n};\nvar ARMENIAN = {\n  integers: [9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n  values: ['Ք', 'Փ', 'Ւ', 'Ց', 'Ր', 'Տ', 'Վ', 'Ս', 'Ռ', 'Ջ', 'Պ', 'Չ', 'Ո', 'Շ', 'Ն', 'Յ', 'Մ', 'Ճ', 'Ղ', 'Ձ', 'Հ', 'Կ', 'Ծ', 'Խ', 'Լ', 'Ի', 'Ժ', 'Թ', 'Ը', 'Է', 'Զ', 'Ե', 'Դ', 'Գ', 'Բ', 'Ա']\n};\nvar HEBREW = {\n  integers: [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n  values: ['י׳', 'ט׳', 'ח׳', 'ז׳', 'ו׳', 'ה׳', 'ד׳', 'ג׳', 'ב׳', 'א׳', 'ת', 'ש', 'ר', 'ק', 'צ', 'פ', 'ע', 'ס', 'נ', 'מ', 'ל', 'כ', 'יט', 'יח', 'יז', 'טז', 'טו', 'י', 'ט', 'ח', 'ז', 'ו', 'ה', 'ד', 'ג', 'ב', 'א']\n};\nvar GEORGIAN = {\n  integers: [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n  values: ['ჵ', 'ჰ', 'ჯ', 'ჴ', 'ხ', 'ჭ', 'წ', 'ძ', 'ც', 'ჩ', 'შ', 'ყ', 'ღ', 'ქ', 'ფ', 'ჳ', 'ტ', 'ს', 'რ', 'ჟ', 'პ', 'ო', 'ჲ', 'ნ', 'მ', 'ლ', 'კ', 'ი', 'თ', 'ჱ', 'ზ', 'ვ', 'ე', 'დ', 'გ', 'ბ', 'ა']\n};\n\nvar createAdditiveCounter = function createAdditiveCounter(value, min, max, symbols, fallback, suffix) {\n  if (value < min || value > max) {\n    return createCounterText(value, fallback, suffix.length > 0);\n  }\n\n  return symbols.integers.reduce(function (string, integer, index) {\n    while (value >= integer) {\n      value -= integer;\n      string += symbols.values[index];\n    }\n\n    return string;\n  }, '') + suffix;\n};\n\nvar createCounterStyleWithSymbolResolver = function createCounterStyleWithSymbolResolver(value, codePointRangeLength, isNumeric, resolver) {\n  var string = '';\n\n  do {\n    if (!isNumeric) {\n      value--;\n    }\n\n    string = resolver(value) + string;\n    value /= codePointRangeLength;\n  } while (value * codePointRangeLength >= codePointRangeLength);\n\n  return string;\n};\n\nvar createCounterStyleFromRange = function createCounterStyleFromRange(value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {\n  var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\n  return (value < 0 ? '-' : '') + (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {\n    return Object(_Unicode__WEBPACK_IMPORTED_MODULE_4__[\"fromCodePoint\"])(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);\n  }) + suffix);\n};\n\nvar createCounterStyleFromSymbols = function createCounterStyleFromSymbols(value, symbols) {\n  var suffix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '. ';\n  var codePointRangeLength = symbols.length;\n  return createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) {\n    return symbols[Math.floor(codePoint % codePointRangeLength)];\n  }) + suffix;\n};\n\nvar CJK_ZEROS = 1 << 0;\nvar CJK_TEN_COEFFICIENTS = 1 << 1;\nvar CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\nvar CJK_HUNDRED_COEFFICIENTS = 1 << 3;\n\nvar createCJKCounter = function createCJKCounter(value, numbers, multipliers, negativeSign, suffix, flags) {\n  if (value < -9999 || value > 9999) {\n    return createCounterText(value, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CJK_DECIMAL, suffix.length > 0);\n  }\n\n  var tmp = Math.abs(value);\n  var string = suffix;\n\n  if (tmp === 0) {\n    return numbers[0] + string;\n  }\n\n  for (var digit = 0; tmp > 0 && digit <= 4; digit++) {\n    var coefficient = tmp % 10;\n\n    if (coefficient === 0 && Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"contains\"])(flags, CJK_ZEROS) && string !== '') {\n      string = numbers[coefficient] + string;\n    } else if (coefficient > 1 || coefficient === 1 && digit === 0 || coefficient === 1 && digit === 1 && Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"contains\"])(flags, CJK_TEN_COEFFICIENTS) || coefficient === 1 && digit === 1 && Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"contains\"])(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100 || coefficient === 1 && digit > 1 && Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"contains\"])(flags, CJK_HUNDRED_COEFFICIENTS)) {\n      string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\n    } else if (coefficient === 1 && digit > 0) {\n      string = multipliers[digit - 1] + string;\n    }\n\n    tmp = Math.floor(tmp / 10);\n  }\n\n  return (value < 0 ? negativeSign : '') + string;\n};\n\nvar CHINESE_INFORMAL_MULTIPLIERS = '十百千萬';\nvar CHINESE_FORMAL_MULTIPLIERS = '拾佰仟萬';\nvar JAPANESE_NEGATIVE = 'マイナス';\nvar KOREAN_NEGATIVE = '마이너스';\nvar createCounterText = function createCounterText(value, type, appendSuffix) {\n  var defaultSuffix = appendSuffix ? '. ' : '';\n  var cjkSuffix = appendSuffix ? '、' : '';\n  var koreanSuffix = appendSuffix ? ', ' : '';\n\n  switch (type) {\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DISC:\n      return '•';\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CIRCLE:\n      return '◦';\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].SQUARE:\n      return '◾';\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL_LEADING_ZERO:\n      var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n      return string.length < 4 ? \"0\".concat(string) : string;\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CJK_DECIMAL:\n      return createCounterStyleFromSymbols(value, '〇一二三四五六七八九', cjkSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].LOWER_ROMAN:\n      return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix).toLowerCase();\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].UPPER_ROMAN:\n      return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].LOWER_GREEK:\n      return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].LOWER_ALPHA:\n      return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].UPPER_ALPHA:\n      return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].ARABIC_INDIC:\n      return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].ARMENIAN:\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].UPPER_ARMENIAN:\n      return createAdditiveCounter(value, 1, 9999, ARMENIAN, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].LOWER_ARMENIAN:\n      return createAdditiveCounter(value, 1, 9999, ARMENIAN, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix).toLowerCase();\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].BENGALI:\n      return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CAMBODIAN:\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KHMER:\n      return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CJK_EARTHLY_BRANCH:\n      return createCounterStyleFromSymbols(value, '子丑寅卯辰巳午未申酉戌亥', cjkSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CJK_HEAVENLY_STEM:\n      return createCounterStyleFromSymbols(value, '甲乙丙丁戊己庚辛壬癸', cjkSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CJK_IDEOGRAPHIC:\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].TRAD_CHINESE_INFORMAL:\n      return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].TRAD_CHINESE_FORMAL:\n      return createCJKCounter(value, '零壹貳參肆伍陸柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].SIMP_CHINESE_INFORMAL:\n      return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].SIMP_CHINESE_FORMAL:\n      return createCJKCounter(value, '零壹贰叁肆伍陆柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].JAPANESE_INFORMAL:\n      return createCJKCounter(value, '〇一二三四五六七八九', '十百千万', JAPANESE_NEGATIVE, cjkSuffix, 0);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].JAPANESE_FORMAL:\n      return createCJKCounter(value, '零壱弐参四伍六七八九', '拾百千万', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KOREAN_HANGUL_FORMAL:\n      return createCJKCounter(value, '영일이삼사오육칠팔구', '십백천만', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KOREAN_HANJA_INFORMAL:\n      return createCJKCounter(value, '零一二三四五六七八九', '十百千萬', KOREAN_NEGATIVE, koreanSuffix, 0);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KOREAN_HANJA_FORMAL:\n      return createCJKCounter(value, '零壹貳參四五六七八九', '拾百千', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DEVANAGARI:\n      return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].GEORGIAN:\n      return createAdditiveCounter(value, 1, 19999, GEORGIAN, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].GUJARATI:\n      return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].GURMUKHI:\n      return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].HEBREW:\n      return createAdditiveCounter(value, 1, 10999, HEBREW, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].HIRAGANA:\n      return createCounterStyleFromSymbols(value, 'あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん');\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].HIRAGANA_IROHA:\n      return createCounterStyleFromSymbols(value, 'いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす');\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KANNADA:\n      return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KATAKANA:\n      return createCounterStyleFromSymbols(value, 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン', cjkSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KATAKANA_IROHA:\n      return createCounterStyleFromSymbols(value, 'イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス', cjkSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].LAO:\n      return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].MONGOLIAN:\n      return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].MYANMAR:\n      return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].ORIYA:\n      return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].PERSIAN:\n      return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].TAMIL:\n      return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].TELUGU:\n      return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].THAI:\n      return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].TIBETAN:\n      return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL:\n    default:\n      return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/ListItem.js?")},"./src/Logger.js":
/*!***********************!*\
  !*** ./src/Logger.js ***!
  \***********************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Logger; });\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Logger =\n/*#__PURE__*/\nfunction () {\n  function Logger(enabled, id, start) {\n    _classCallCheck(this, Logger);\n\n    this.enabled = typeof window !== \'undefined\' && enabled;\n    this.start = start ? start : Date.now();\n    this.id = id;\n  }\n\n  _createClass(Logger, [{\n    key: "child",\n    value: function child(id) {\n      return new Logger(this.enabled, id, this.start);\n    } // eslint-disable-next-line flowtype/no-weak-types\n\n  }, {\n    key: "log",\n    value: function log() {\n      if (this.enabled && window.console && window.console.log) {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        Function.prototype.bind.call(window.console.log, window.console).apply(window.console, [Date.now() - this.start + \'ms\', this.id ? "html2canvas (".concat(this.id, "):") : \'html2canvas:\'].concat([].slice.call(args, 0)));\n      }\n    } // eslint-disable-next-line flowtype/no-weak-types\n\n  }, {\n    key: "error",\n    value: function error() {\n      if (this.enabled && window.console && window.console.error) {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        Function.prototype.bind.call(window.console.error, window.console).apply(window.console, [Date.now() - this.start + \'ms\', this.id ? "html2canvas (".concat(this.id, "):") : \'html2canvas:\'].concat([].slice.call(args, 0)));\n      }\n    }\n  }]);\n\n  return Logger;\n}();\n\n\n\n//# sourceURL=webpack://html2canvas/./src/Logger.js?')},"./src/NodeContainer.js":
/*!******************************!*\
  !*** ./src/NodeContainer.js ***!
  \******************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return NodeContainer; });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Color */ "./src/Color.js");\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Util */ "./src/Util.js");\n/* harmony import */ var _parsing_background__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parsing/background */ "./src/parsing/background.js");\n/* harmony import */ var _parsing_border__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parsing/border */ "./src/parsing/border.js");\n/* harmony import */ var _parsing_borderRadius__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parsing/borderRadius */ "./src/parsing/borderRadius.js");\n/* harmony import */ var _parsing_display__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parsing/display */ "./src/parsing/display.js");\n/* harmony import */ var _parsing_float__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parsing/float */ "./src/parsing/float.js");\n/* harmony import */ var _parsing_font__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parsing/font */ "./src/parsing/font.js");\n/* harmony import */ var _parsing_letterSpacing__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parsing/letterSpacing */ "./src/parsing/letterSpacing.js");\n/* harmony import */ var _parsing_lineBreak__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parsing/lineBreak */ "./src/parsing/lineBreak.js");\n/* harmony import */ var _parsing_listStyle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./parsing/listStyle */ "./src/parsing/listStyle.js");\n/* harmony import */ var _parsing_margin__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./parsing/margin */ "./src/parsing/margin.js");\n/* harmony import */ var _parsing_overflow__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./parsing/overflow */ "./src/parsing/overflow.js");\n/* harmony import */ var _parsing_overflowWrap__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./parsing/overflowWrap */ "./src/parsing/overflowWrap.js");\n/* harmony import */ var _parsing_padding__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./parsing/padding */ "./src/parsing/padding.js");\n/* harmony import */ var _parsing_position__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./parsing/position */ "./src/parsing/position.js");\n/* harmony import */ var _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./parsing/textDecoration */ "./src/parsing/textDecoration.js");\n/* harmony import */ var _parsing_textShadow__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./parsing/textShadow */ "./src/parsing/textShadow.js");\n/* harmony import */ var _parsing_textTransform__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./parsing/textTransform */ "./src/parsing/textTransform.js");\n/* harmony import */ var _parsing_transform__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./parsing/transform */ "./src/parsing/transform.js");\n/* harmony import */ var _parsing_visibility__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./parsing/visibility */ "./src/parsing/visibility.js");\n/* harmony import */ var _parsing_word_break__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./parsing/word-break */ "./src/parsing/word-break.js");\n/* harmony import */ var _parsing_zIndex__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./parsing/zIndex */ "./src/parsing/zIndex.js");\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Input */ "./src/Input.js");\n/* harmony import */ var _ListItem__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ListItem */ "./src/ListItem.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar INPUT_TAGS = [\'INPUT\', \'TEXTAREA\', \'SELECT\'];\n\nvar NodeContainer =\n/*#__PURE__*/\nfunction () {\n  function NodeContainer(node, parent, resourceLoader, index) {\n    var _this = this;\n\n    _classCallCheck(this, NodeContainer);\n\n    this.parent = parent;\n    this.tagName = node.tagName;\n    this.index = index;\n    this.childNodes = [];\n    this.listItems = [];\n\n    if (typeof node.start === \'number\') {\n      this.listStart = node.start;\n    }\n\n    var defaultView = node.ownerDocument.defaultView;\n    var scrollX = defaultView.pageXOffset;\n    var scrollY = defaultView.pageYOffset;\n    var style = defaultView.getComputedStyle(node, null);\n    var display = Object(_parsing_display__WEBPACK_IMPORTED_MODULE_5__["parseDisplay"])(style.display);\n    var IS_INPUT = node.type === \'radio\' || node.type === \'checkbox\';\n    var position = Object(_parsing_position__WEBPACK_IMPORTED_MODULE_15__["parsePosition"])(style.position);\n    this.style = {\n      background: IS_INPUT ? _Input__WEBPACK_IMPORTED_MODULE_24__["INPUT_BACKGROUND"] : Object(_parsing_background__WEBPACK_IMPORTED_MODULE_2__["parseBackground"])(style, resourceLoader),\n      border: IS_INPUT ? _Input__WEBPACK_IMPORTED_MODULE_24__["INPUT_BORDERS"] : Object(_parsing_border__WEBPACK_IMPORTED_MODULE_3__["parseBorder"])(style),\n      borderRadius: (node instanceof defaultView.HTMLInputElement || node instanceof HTMLInputElement) && IS_INPUT ? Object(_Input__WEBPACK_IMPORTED_MODULE_24__["getInputBorderRadius"])(node) : Object(_parsing_borderRadius__WEBPACK_IMPORTED_MODULE_4__["parseBorderRadius"])(style),\n      color: IS_INPUT ? _Input__WEBPACK_IMPORTED_MODULE_24__["INPUT_COLOR"] : new _Color__WEBPACK_IMPORTED_MODULE_0__["default"](style.color),\n      display: display,\n      float: Object(_parsing_float__WEBPACK_IMPORTED_MODULE_6__["parseCSSFloat"])(style.float),\n      font: Object(_parsing_font__WEBPACK_IMPORTED_MODULE_7__["parseFont"])(style),\n      letterSpacing: Object(_parsing_letterSpacing__WEBPACK_IMPORTED_MODULE_8__["parseLetterSpacing"])(style.letterSpacing),\n      listStyle: display === _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].LIST_ITEM ? Object(_parsing_listStyle__WEBPACK_IMPORTED_MODULE_10__["parseListStyle"])(style) : null,\n      lineBreak: Object(_parsing_lineBreak__WEBPACK_IMPORTED_MODULE_9__["parseLineBreak"])(style.lineBreak),\n      margin: Object(_parsing_margin__WEBPACK_IMPORTED_MODULE_11__["parseMargin"])(style),\n      opacity: parseFloat(style.opacity),\n      overflow: INPUT_TAGS.indexOf(node.tagName) === -1 ? Object(_parsing_overflow__WEBPACK_IMPORTED_MODULE_12__["parseOverflow"])(style.overflow) : _parsing_overflow__WEBPACK_IMPORTED_MODULE_12__["OVERFLOW"].HIDDEN,\n      overflowWrap: Object(_parsing_overflowWrap__WEBPACK_IMPORTED_MODULE_13__["parseOverflowWrap"])(style.overflowWrap ? style.overflowWrap : style.wordWrap),\n      padding: Object(_parsing_padding__WEBPACK_IMPORTED_MODULE_14__["parsePadding"])(style),\n      position: position,\n      textDecoration: Object(_parsing_textDecoration__WEBPACK_IMPORTED_MODULE_16__["parseTextDecoration"])(style),\n      textShadow: Object(_parsing_textShadow__WEBPACK_IMPORTED_MODULE_17__["parseTextShadow"])(style.textShadow),\n      textTransform: Object(_parsing_textTransform__WEBPACK_IMPORTED_MODULE_18__["parseTextTransform"])(style.textTransform),\n      transform: Object(_parsing_transform__WEBPACK_IMPORTED_MODULE_19__["parseTransform"])(style),\n      visibility: Object(_parsing_visibility__WEBPACK_IMPORTED_MODULE_20__["parseVisibility"])(style.visibility),\n      wordBreak: Object(_parsing_word_break__WEBPACK_IMPORTED_MODULE_21__["parseWordBreak"])(style.wordBreak),\n      zIndex: Object(_parsing_zIndex__WEBPACK_IMPORTED_MODULE_22__["parseZIndex"])(position !== _parsing_position__WEBPACK_IMPORTED_MODULE_15__["POSITION"].STATIC ? style.zIndex : \'auto\')\n    };\n\n    if (this.isTransformed()) {\n      // getBoundingClientRect provides values post-transform, we want them without the transformation\n      node.style.transform = \'matrix(1,0,0,1,0,0)\';\n    }\n\n    if (display === _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].LIST_ITEM) {\n      var listOwner = Object(_ListItem__WEBPACK_IMPORTED_MODULE_25__["getListOwner"])(this);\n\n      if (listOwner) {\n        var listIndex = listOwner.listItems.length;\n        listOwner.listItems.push(this);\n        this.listIndex = node.hasAttribute(\'value\') && typeof node.value === \'number\' ? node.value : listIndex === 0 ? typeof listOwner.listStart === \'number\' ? listOwner.listStart : 1 : listOwner.listItems[listIndex - 1].listIndex + 1;\n      }\n    } // TODO move bound retrieval for all nodes to a later stage?\n\n\n    if (node.tagName === \'IMG\') {\n      node.addEventListener(\'load\', function () {\n        _this.bounds = Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["parseBounds"])(node, scrollX, scrollY);\n        _this.curvedBounds = Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["parseBoundCurves"])(_this.bounds, _this.style.border, _this.style.borderRadius);\n      });\n    }\n\n    this.image = getImage(node, resourceLoader);\n    this.bounds = IS_INPUT ? Object(_Input__WEBPACK_IMPORTED_MODULE_24__["reformatInputBounds"])(Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["parseBounds"])(node, scrollX, scrollY)) : Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["parseBounds"])(node, scrollX, scrollY);\n    this.curvedBounds = Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["parseBoundCurves"])(this.bounds, this.style.border, this.style.borderRadius);\n\n    if (true) {\n      this.name = "".concat(node.tagName.toLowerCase()).concat(node.id ? "#".concat(node.id) : \'\').concat(node.className.toString().split(\' \').map(function (s) {\n        return s.length ? ".".concat(s) : \'\';\n      }).join(\'\'));\n    }\n  }\n\n  _createClass(NodeContainer, [{\n    key: "getClipPaths",\n    value: function getClipPaths() {\n      var parentClips = this.parent ? this.parent.getClipPaths() : [];\n      var isClipped = this.style.overflow !== _parsing_overflow__WEBPACK_IMPORTED_MODULE_12__["OVERFLOW"].VISIBLE;\n      return isClipped ? parentClips.concat([Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["calculatePaddingBoxPath"])(this.curvedBounds)]) : parentClips;\n    }\n  }, {\n    key: "isInFlow",\n    value: function isInFlow() {\n      return this.isRootElement() && !this.isFloating() && !this.isAbsolutelyPositioned();\n    }\n  }, {\n    key: "isVisible",\n    value: function isVisible() {\n      return !Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].NONE) && this.style.opacity > 0 && this.style.visibility === _parsing_visibility__WEBPACK_IMPORTED_MODULE_20__["VISIBILITY"].VISIBLE;\n    }\n  }, {\n    key: "isAbsolutelyPositioned",\n    value: function isAbsolutelyPositioned() {\n      return this.style.position !== _parsing_position__WEBPACK_IMPORTED_MODULE_15__["POSITION"].STATIC && this.style.position !== _parsing_position__WEBPACK_IMPORTED_MODULE_15__["POSITION"].RELATIVE;\n    }\n  }, {\n    key: "isPositioned",\n    value: function isPositioned() {\n      return this.style.position !== _parsing_position__WEBPACK_IMPORTED_MODULE_15__["POSITION"].STATIC;\n    }\n  }, {\n    key: "isFloating",\n    value: function isFloating() {\n      return this.style.float !== _parsing_float__WEBPACK_IMPORTED_MODULE_6__["FLOAT"].NONE;\n    }\n  }, {\n    key: "isRootElement",\n    value: function isRootElement() {\n      return this.parent === null;\n    }\n  }, {\n    key: "isTransformed",\n    value: function isTransformed() {\n      return this.style.transform !== null;\n    }\n  }, {\n    key: "isPositionedWithZIndex",\n    value: function isPositionedWithZIndex() {\n      return this.isPositioned() && !this.style.zIndex.auto;\n    }\n  }, {\n    key: "isInlineLevel",\n    value: function isInlineLevel() {\n      return Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_BLOCK) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_FLEX) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_GRID) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_LIST_ITEM) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_TABLE);\n    }\n  }, {\n    key: "isInlineBlockOrInlineTable",\n    value: function isInlineBlockOrInlineTable() {\n      return Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_BLOCK) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_TABLE);\n    }\n  }]);\n\n  return NodeContainer;\n}();\n\n\n\nvar getImage = function getImage(node, resourceLoader) {\n  if (node instanceof node.ownerDocument.defaultView.SVGSVGElement || node instanceof SVGSVGElement) {\n    var s = new XMLSerializer();\n    return resourceLoader.loadImage("data:image/svg+xml,".concat(encodeURIComponent(s.serializeToString(node))));\n  }\n\n  switch (node.tagName) {\n    case \'IMG\':\n      // $FlowFixMe\n      var img = node;\n      return resourceLoader.loadImage(img.currentSrc || img.src);\n\n    case \'CANVAS\':\n      // $FlowFixMe\n      var canvas = node;\n      return resourceLoader.loadCanvas(canvas);\n\n    case \'IFRAME\':\n      var iframeKey = node.getAttribute(\'data-html2canvas-internal-iframe-key\');\n\n      if (iframeKey) {\n        return iframeKey;\n      }\n\n      break;\n  }\n\n  return null;\n};\n\n//# sourceURL=webpack://html2canvas/./src/NodeContainer.js?')},"./src/NodeParser.js":
/*!***************************!*\
  !*** ./src/NodeParser.js ***!
  \***************************/
/*! exports provided: NodeParser */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NodeParser", function() { return NodeParser; });\n/* harmony import */ var _StackingContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StackingContext */ "./src/StackingContext.js");\n/* harmony import */ var _NodeContainer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NodeContainer */ "./src/NodeContainer.js");\n/* harmony import */ var _TextContainer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TextContainer */ "./src/TextContainer.js");\n/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Input */ "./src/Input.js");\n/* harmony import */ var _ListItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ListItem */ "./src/ListItem.js");\n/* harmony import */ var _parsing_listStyle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parsing/listStyle */ "./src/parsing/listStyle.js");\n\n\n\n\n\n\n\n\nvar NodeParser = function NodeParser(node, resourceLoader, logger) {\n  if (true) {\n    logger.log("Starting node parsing");\n  }\n\n  var index = 0;\n  var container = new _NodeContainer__WEBPACK_IMPORTED_MODULE_1__["default"](node, null, resourceLoader, index++);\n  var stack = new _StackingContext__WEBPACK_IMPORTED_MODULE_0__["default"](container, null, true);\n  parseNodeTree(node, container, stack, resourceLoader, index);\n\n  if (true) {\n    logger.log("Finished parsing node tree");\n  }\n\n  return stack;\n};\nvar IGNORED_NODE_NAMES = [\'SCRIPT\', \'HEAD\', \'TITLE\', \'OBJECT\', \'BR\', \'OPTION\'];\n\nvar parseNodeTree = function parseNodeTree(node, parent, stack, resourceLoader, index) {\n  if ( true && index > 50000) {\n    throw new Error("Recursion error while parsing node tree");\n  }\n\n  for (var childNode = node.firstChild, nextNode; childNode; childNode = nextNode) {\n    nextNode = childNode.nextSibling;\n    var defaultView = childNode.ownerDocument.defaultView;\n\n    if (childNode instanceof defaultView.Text || childNode instanceof Text || defaultView.parent && childNode instanceof defaultView.parent.Text) {\n      if (childNode.data.trim().length > 0) {\n        parent.childNodes.push(_TextContainer__WEBPACK_IMPORTED_MODULE_2__["default"].fromTextNode(childNode, parent));\n      }\n    } else if (childNode instanceof defaultView.HTMLElement || childNode instanceof HTMLElement || defaultView.parent && childNode instanceof defaultView.parent.HTMLElement) {\n      if (IGNORED_NODE_NAMES.indexOf(childNode.nodeName) === -1) {\n        var container = new _NodeContainer__WEBPACK_IMPORTED_MODULE_1__["default"](childNode, parent, resourceLoader, index++);\n\n        if (container.isVisible()) {\n          if (childNode.tagName === \'INPUT\') {\n            // $FlowFixMe\n            Object(_Input__WEBPACK_IMPORTED_MODULE_3__["inlineInputElement"])(childNode, container);\n          } else if (childNode.tagName === \'TEXTAREA\') {\n            // $FlowFixMe\n            Object(_Input__WEBPACK_IMPORTED_MODULE_3__["inlineTextAreaElement"])(childNode, container);\n          } else if (childNode.tagName === \'SELECT\') {\n            // $FlowFixMe\n            Object(_Input__WEBPACK_IMPORTED_MODULE_3__["inlineSelectElement"])(childNode, container);\n          } else if (container.style.listStyle && container.style.listStyle.listStyleType !== _parsing_listStyle__WEBPACK_IMPORTED_MODULE_5__["LIST_STYLE_TYPE"].NONE) {\n            Object(_ListItem__WEBPACK_IMPORTED_MODULE_4__["inlineListItemElement"])(childNode, container, resourceLoader);\n          }\n\n          var SHOULD_TRAVERSE_CHILDREN = childNode.tagName !== \'TEXTAREA\';\n          var treatAsRealStackingContext = createsRealStackingContext(container, childNode);\n\n          if (treatAsRealStackingContext || createsStackingContext(container)) {\n            // for treatAsRealStackingContext:false, any positioned descendants and descendants\n            // which actually create a new stacking context should be considered part of the parent stacking context\n            var parentStack = treatAsRealStackingContext || container.isPositioned() ? stack.getRealParentStackingContext() : stack;\n            var childStack = new _StackingContext__WEBPACK_IMPORTED_MODULE_0__["default"](container, parentStack, treatAsRealStackingContext);\n            parentStack.contexts.push(childStack);\n\n            if (SHOULD_TRAVERSE_CHILDREN) {\n              parseNodeTree(childNode, container, childStack, resourceLoader, index);\n            }\n          } else {\n            stack.children.push(container);\n\n            if (SHOULD_TRAVERSE_CHILDREN) {\n              parseNodeTree(childNode, container, stack, resourceLoader, index);\n            }\n          }\n        }\n      }\n    } else if (childNode instanceof defaultView.SVGSVGElement || childNode instanceof SVGSVGElement || defaultView.parent && childNode instanceof defaultView.parent.SVGSVGElement) {\n      var _container = new _NodeContainer__WEBPACK_IMPORTED_MODULE_1__["default"](childNode, parent, resourceLoader, index++);\n\n      var _treatAsRealStackingContext = createsRealStackingContext(_container, childNode);\n\n      if (_treatAsRealStackingContext || createsStackingContext(_container)) {\n        // for treatAsRealStackingContext:false, any positioned descendants and descendants\n        // which actually create a new stacking context should be considered part of the parent stacking context\n        var _parentStack = _treatAsRealStackingContext || _container.isPositioned() ? stack.getRealParentStackingContext() : stack;\n\n        var _childStack = new _StackingContext__WEBPACK_IMPORTED_MODULE_0__["default"](_container, _parentStack, _treatAsRealStackingContext);\n\n        _parentStack.contexts.push(_childStack);\n      } else {\n        stack.children.push(_container);\n      }\n    }\n  }\n};\n\nvar createsRealStackingContext = function createsRealStackingContext(container, node) {\n  return container.isRootElement() || container.isPositionedWithZIndex() || container.style.opacity < 1 || container.isTransformed() || isBodyWithTransparentRoot(container, node);\n};\n\nvar createsStackingContext = function createsStackingContext(container) {\n  return container.isPositioned() || container.isFloating();\n};\n\nvar isBodyWithTransparentRoot = function isBodyWithTransparentRoot(container, node) {\n  return node.nodeName === \'BODY\' && container.parent instanceof _NodeContainer__WEBPACK_IMPORTED_MODULE_1__["default"] && container.parent.style.background.backgroundColor.isTransparent();\n};\n\n//# sourceURL=webpack://html2canvas/./src/NodeParser.js?')},"./src/Proxy.js":
/*!**********************!*\
  !*** ./src/Proxy.js ***!
  \**********************/
/*! exports provided: Proxy */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Proxy", function() { return Proxy; });\n/* harmony import */ var _Feature__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Feature */ "./src/Feature.js");\n\n\n\nvar Proxy = function Proxy(src, options) {\n  if (!options.proxy) {\n    return Promise.reject( true ? \'No proxy defined\' : undefined);\n  }\n\n  var proxy = options.proxy;\n  return new Promise(function (resolve, reject) {\n    var responseType = _Feature__WEBPACK_IMPORTED_MODULE_0__["default"].SUPPORT_CORS_XHR && _Feature__WEBPACK_IMPORTED_MODULE_0__["default"].SUPPORT_RESPONSE_TYPE ? \'blob\' : \'text\';\n    var xhr = _Feature__WEBPACK_IMPORTED_MODULE_0__["default"].SUPPORT_CORS_XHR ? new XMLHttpRequest() : new XDomainRequest();\n\n    xhr.onload = function () {\n      if (xhr instanceof XMLHttpRequest) {\n        if (xhr.status === 200) {\n          if (responseType === \'text\') {\n            resolve(xhr.response);\n          } else {\n            var reader = new FileReader(); // $FlowFixMe\n\n            reader.addEventListener(\'load\', function () {\n              return resolve(reader.result);\n            }, false); // $FlowFixMe\n\n            reader.addEventListener(\'error\', function (e) {\n              return reject(e);\n            }, false);\n            reader.readAsDataURL(xhr.response);\n          }\n        } else {\n          reject( true ? "Failed to proxy resource ".concat(src.substring(0, 256), " with status code ").concat(xhr.status) : undefined);\n        }\n      } else {\n        resolve(xhr.responseText);\n      }\n    };\n\n    xhr.onerror = reject;\n    xhr.open(\'GET\', "".concat(proxy, "?url=").concat(encodeURIComponent(src), "&responseType=").concat(responseType));\n\n    if (responseType !== \'text\' && xhr instanceof XMLHttpRequest) {\n      xhr.responseType = responseType;\n    }\n\n    if (options.imageTimeout) {\n      var timeout = options.imageTimeout;\n      xhr.timeout = timeout;\n\n      xhr.ontimeout = function () {\n        return reject( true ? "Timed out (".concat(timeout, "ms) proxying ").concat(src.substring(0, 256)) : undefined);\n      };\n    }\n\n    xhr.send();\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/Proxy.js?')},"./src/PseudoNodeContent.js":
/*!**********************************!*\
  !*** ./src/PseudoNodeContent.js ***!
  \**********************************/
/*! exports provided: PSEUDO_CONTENT_ITEM_TYPE, TOKEN_TYPE, parseCounterReset, popCounters, resolvePseudoContent, parseContent */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PSEUDO_CONTENT_ITEM_TYPE\", function() { return PSEUDO_CONTENT_ITEM_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TOKEN_TYPE\", function() { return TOKEN_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseCounterReset\", function() { return parseCounterReset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"popCounters\", function() { return popCounters; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resolvePseudoContent\", function() { return resolvePseudoContent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseContent\", function() { return parseContent; });\n/* harmony import */ var _ListItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ListItem */ \"./src/ListItem.js\");\n/* harmony import */ var _parsing_listStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsing/listStyle */ \"./src/parsing/listStyle.js\");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\nvar PSEUDO_CONTENT_ITEM_TYPE = {\n  TEXT: 0,\n  IMAGE: 1\n};\nvar TOKEN_TYPE = {\n  STRING: 0,\n  ATTRIBUTE: 1,\n  URL: 2,\n  COUNTER: 3,\n  COUNTERS: 4,\n  OPENQUOTE: 5,\n  CLOSEQUOTE: 6\n};\nvar parseCounterReset = function parseCounterReset(style, data) {\n  if (!style || !style.counterReset || style.counterReset === 'none') {\n    return [];\n  }\n\n  var counterNames = [];\n  var counterResets = style.counterReset.split(/\\s*,\\s*/);\n  var lenCounterResets = counterResets.length;\n\n  for (var i = 0; i < lenCounterResets; i++) {\n    var _counterResets$i$spli = counterResets[i].split(/\\s+/),\n        _counterResets$i$spli2 = _slicedToArray(_counterResets$i$spli, 2),\n        counterName = _counterResets$i$spli2[0],\n        initialValue = _counterResets$i$spli2[1];\n\n    counterNames.push(counterName);\n    var counter = data.counters[counterName];\n\n    if (!counter) {\n      counter = data.counters[counterName] = [];\n    }\n\n    counter.push(parseInt(initialValue || 0, 10));\n  }\n\n  return counterNames;\n};\nvar popCounters = function popCounters(counterNames, data) {\n  var lenCounters = counterNames.length;\n\n  for (var i = 0; i < lenCounters; i++) {\n    data.counters[counterNames[i]].pop();\n  }\n};\nvar resolvePseudoContent = function resolvePseudoContent(node, style, data) {\n  if (!style || !style.content || style.content === 'none' || style.content === '-moz-alt-content' || style.display === 'none') {\n    return null;\n  }\n\n  var tokens = parseContent(style.content);\n  var len = tokens.length;\n  var contentItems = [];\n  var s = ''; // increment the counter (if there is a \"counter-increment\" declaration)\n\n  var counterIncrement = style.counterIncrement;\n\n  if (counterIncrement && counterIncrement !== 'none') {\n    var _counterIncrement$spl = counterIncrement.split(/\\s+/),\n        _counterIncrement$spl2 = _slicedToArray(_counterIncrement$spl, 2),\n        counterName = _counterIncrement$spl2[0],\n        incrementValue = _counterIncrement$spl2[1];\n\n    var counter = data.counters[counterName];\n\n    if (counter) {\n      counter[counter.length - 1] += incrementValue === undefined ? 1 : parseInt(incrementValue, 10);\n    }\n  } // build the content string\n\n\n  for (var i = 0; i < len; i++) {\n    var token = tokens[i];\n\n    switch (token.type) {\n      case TOKEN_TYPE.STRING:\n        s += token.value || '';\n        break;\n\n      case TOKEN_TYPE.ATTRIBUTE:\n        if (node instanceof HTMLElement && token.value) {\n          s += node.getAttribute(token.value) || '';\n        }\n\n        break;\n\n      case TOKEN_TYPE.COUNTER:\n        var _counter = data.counters[token.name || ''];\n\n        if (_counter) {\n          s += formatCounterValue([_counter[_counter.length - 1]], '', token.format);\n        }\n\n        break;\n\n      case TOKEN_TYPE.COUNTERS:\n        var counters = data.counters[token.name || ''];\n\n        if (counters) {\n          s += formatCounterValue(counters, token.glue, token.format);\n        }\n\n        break;\n\n      case TOKEN_TYPE.OPENQUOTE:\n        s += getQuote(style, true, data.quoteDepth);\n        data.quoteDepth++;\n        break;\n\n      case TOKEN_TYPE.CLOSEQUOTE:\n        data.quoteDepth--;\n        s += getQuote(style, false, data.quoteDepth);\n        break;\n\n      case TOKEN_TYPE.URL:\n        if (s) {\n          contentItems.push({\n            type: PSEUDO_CONTENT_ITEM_TYPE.TEXT,\n            value: s\n          });\n          s = '';\n        }\n\n        contentItems.push({\n          type: PSEUDO_CONTENT_ITEM_TYPE.IMAGE,\n          value: token.value || ''\n        });\n        break;\n    }\n  }\n\n  if (s) {\n    contentItems.push({\n      type: PSEUDO_CONTENT_ITEM_TYPE.TEXT,\n      value: s\n    });\n  }\n\n  return contentItems;\n};\nvar parseContent = function parseContent(content, cache) {\n  if (cache && cache[content]) {\n    return cache[content];\n  }\n\n  var tokens = [];\n  var len = content.length;\n  var isString = false;\n  var isEscaped = false;\n  var isFunction = false;\n  var str = '';\n  var functionName = '';\n  var args = [];\n\n  for (var i = 0; i < len; i++) {\n    var c = content.charAt(i);\n\n    switch (c) {\n      case \"'\":\n      case '\"':\n        if (isEscaped) {\n          str += c;\n        } else {\n          isString = !isString;\n\n          if (!isFunction && !isString) {\n            tokens.push({\n              type: TOKEN_TYPE.STRING,\n              value: str\n            });\n            str = '';\n          }\n        }\n\n        break;\n\n      case '\\\\':\n        if (isEscaped) {\n          str += c;\n          isEscaped = false;\n        } else {\n          isEscaped = true;\n        }\n\n        break;\n\n      case '(':\n        if (isString) {\n          str += c;\n        } else {\n          isFunction = true;\n          functionName = str;\n          str = '';\n          args = [];\n        }\n\n        break;\n\n      case ')':\n        if (isString) {\n          str += c;\n        } else if (isFunction) {\n          if (str) {\n            args.push(str);\n          }\n\n          switch (functionName) {\n            case 'attr':\n              if (args.length > 0) {\n                tokens.push({\n                  type: TOKEN_TYPE.ATTRIBUTE,\n                  value: args[0]\n                });\n              }\n\n              break;\n\n            case 'counter':\n              if (args.length > 0) {\n                var counter = {\n                  type: TOKEN_TYPE.COUNTER,\n                  name: args[0]\n                };\n\n                if (args.length > 1) {\n                  counter.format = args[1];\n                }\n\n                tokens.push(counter);\n              }\n\n              break;\n\n            case 'counters':\n              if (args.length > 0) {\n                var counters = {\n                  type: TOKEN_TYPE.COUNTERS,\n                  name: args[0]\n                };\n\n                if (args.length > 1) {\n                  counters.glue = args[1];\n                }\n\n                if (args.length > 2) {\n                  counters.format = args[2];\n                }\n\n                tokens.push(counters);\n              }\n\n              break;\n\n            case 'url':\n              if (args.length > 0) {\n                tokens.push({\n                  type: TOKEN_TYPE.URL,\n                  value: args[0]\n                });\n              }\n\n              break;\n          }\n\n          isFunction = false;\n          str = '';\n        }\n\n        break;\n\n      case ',':\n        if (isString) {\n          str += c;\n        } else if (isFunction) {\n          args.push(str);\n          str = '';\n        }\n\n        break;\n\n      case ' ':\n      case '\\t':\n        if (isString) {\n          str += c;\n        } else if (str) {\n          addOtherToken(tokens, str);\n          str = '';\n        }\n\n        break;\n\n      default:\n        str += c;\n    }\n\n    if (c !== '\\\\') {\n      isEscaped = false;\n    }\n  }\n\n  if (str) {\n    addOtherToken(tokens, str);\n  }\n\n  if (cache) {\n    cache[content] = tokens;\n  }\n\n  return tokens;\n};\n\nvar addOtherToken = function addOtherToken(tokens, identifier) {\n  switch (identifier) {\n    case 'open-quote':\n      tokens.push({\n        type: TOKEN_TYPE.OPENQUOTE\n      });\n      break;\n\n    case 'close-quote':\n      tokens.push({\n        type: TOKEN_TYPE.CLOSEQUOTE\n      });\n      break;\n  }\n};\n\nvar getQuote = function getQuote(style, isOpening, quoteDepth) {\n  var quotes = style.quotes ? style.quotes.split(/\\s+/) : [\"'\\\"'\", \"'\\\"'\"];\n  var idx = quoteDepth * 2;\n\n  if (idx >= quotes.length) {\n    idx = quotes.length - 2;\n  }\n\n  if (!isOpening) {\n    ++idx;\n  }\n\n  return quotes[idx].replace(/^[\"']|[\"']$/g, '');\n};\n\nvar formatCounterValue = function formatCounterValue(counter, glue, format) {\n  var len = counter.length;\n  var result = '';\n\n  for (var i = 0; i < len; i++) {\n    if (i > 0) {\n      result += glue || '';\n    }\n\n    result += Object(_ListItem__WEBPACK_IMPORTED_MODULE_0__[\"createCounterText\"])(counter[i], Object(_parsing_listStyle__WEBPACK_IMPORTED_MODULE_1__[\"parseListStyleType\"])(format || 'decimal'), false);\n  }\n\n  return result;\n};\n\n//# sourceURL=webpack://html2canvas/./src/PseudoNodeContent.js?")},"./src/Renderer.js":
/*!*************************!*\
  !*** ./src/Renderer.js ***!
  \*************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Renderer; });\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _Font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Font */ "./src/Font.js");\n/* harmony import */ var _Gradient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Gradient */ "./src/Gradient.js");\n/* harmony import */ var _TextContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TextContainer */ "./src/TextContainer.js");\n/* harmony import */ var _parsing_background__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parsing/background */ "./src/parsing/background.js");\n/* harmony import */ var _parsing_border__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parsing/border */ "./src/parsing/border.js");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar Renderer =\n/*#__PURE__*/\nfunction () {\n  function Renderer(target, options) {\n    _classCallCheck(this, Renderer);\n\n    this.target = target;\n    this.options = options;\n    target.render(options);\n  }\n\n  _createClass(Renderer, [{\n    key: "renderNode",\n    value: function renderNode(container) {\n      if (container.isVisible()) {\n        this.renderNodeBackgroundAndBorders(container);\n        this.renderNodeContent(container);\n      }\n    }\n  }, {\n    key: "renderNodeContent",\n    value: function renderNodeContent(container) {\n      var _this = this;\n\n      var callback = function callback() {\n        if (container.childNodes.length) {\n          container.childNodes.forEach(function (child) {\n            if (child instanceof _TextContainer__WEBPACK_IMPORTED_MODULE_3__["default"]) {\n              var style = child.parent.style;\n\n              _this.target.renderTextNode(child.bounds, style.color, style.font, style.textDecoration, style.textShadow);\n            } else {\n              _this.target.drawShape(child, container.style.color);\n            }\n          });\n        }\n\n        if (container.image) {\n          var _image = _this.options.imageStore.get(container.image);\n\n          if (_image) {\n            var contentBox = Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["calculateContentBox"])(container.bounds, container.style.padding, container.style.border);\n\n            var _width = typeof _image.width === \'number\' && _image.width > 0 ? _image.width : contentBox.width;\n\n            var _height = typeof _image.height === \'number\' && _image.height > 0 ? _image.height : contentBox.height;\n\n            if (_width > 0 && _height > 0) {\n              _this.target.clip([Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["calculatePaddingBoxPath"])(container.curvedBounds)], function () {\n                _this.target.drawImage(_image, new _Bounds__WEBPACK_IMPORTED_MODULE_0__["Bounds"](0, 0, _width, _height), contentBox);\n              });\n            }\n          }\n        }\n      };\n\n      var paths = container.getClipPaths();\n\n      if (paths.length) {\n        this.target.clip(paths, callback);\n      } else {\n        callback();\n      }\n    }\n  }, {\n    key: "renderNodeBackgroundAndBorders",\n    value: function renderNodeBackgroundAndBorders(container) {\n      var _this2 = this;\n\n      var HAS_BACKGROUND = !container.style.background.backgroundColor.isTransparent() || container.style.background.backgroundImage.length;\n      var hasRenderableBorders = container.style.border.some(function (border) {\n        return border.borderStyle !== _parsing_border__WEBPACK_IMPORTED_MODULE_5__["BORDER_STYLE"].NONE && !border.borderColor.isTransparent();\n      });\n\n      var callback = function callback() {\n        var backgroundPaintingArea = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroungPaintingArea"])(container.curvedBounds, container.style.background.backgroundClip);\n\n        if (HAS_BACKGROUND) {\n          _this2.target.clip([backgroundPaintingArea], function () {\n            if (!container.style.background.backgroundColor.isTransparent()) {\n              _this2.target.fill(container.style.background.backgroundColor);\n            }\n\n            _this2.renderBackgroundImage(container);\n          });\n        }\n\n        container.style.border.forEach(function (border, side) {\n          if (border.borderStyle !== _parsing_border__WEBPACK_IMPORTED_MODULE_5__["BORDER_STYLE"].NONE && !border.borderColor.isTransparent()) {\n            _this2.renderBorder(border, side, container.curvedBounds);\n          }\n        });\n      };\n\n      if (HAS_BACKGROUND || hasRenderableBorders) {\n        var paths = container.parent ? container.parent.getClipPaths() : [];\n\n        if (paths.length) {\n          this.target.clip(paths, callback);\n        } else {\n          callback();\n        }\n      }\n    }\n  }, {\n    key: "renderBackgroundImage",\n    value: function renderBackgroundImage(container) {\n      var _this3 = this;\n\n      container.style.background.backgroundImage.slice(0).reverse().forEach(function (backgroundImage) {\n        if (backgroundImage.source.method === \'url\' && backgroundImage.source.args.length) {\n          _this3.renderBackgroundRepeat(container, backgroundImage);\n        } else if (/gradient/i.test(backgroundImage.source.method)) {\n          _this3.renderBackgroundGradient(container, backgroundImage);\n        }\n      });\n    }\n  }, {\n    key: "renderBackgroundRepeat",\n    value: function renderBackgroundRepeat(container, background) {\n      var image = this.options.imageStore.get(background.source.args[0]);\n\n      if (image) {\n        var backgroundPositioningArea = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroungPositioningArea"])(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n        var backgroundImageSize = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroundSize"])(background, image, backgroundPositioningArea);\n        var position = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroundPosition"])(background.position, backgroundImageSize, backgroundPositioningArea);\n\n        var _path = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroundRepeatPath"])(background, position, backgroundImageSize, backgroundPositioningArea, container.bounds);\n\n        var _offsetX = Math.round(backgroundPositioningArea.left + position.x);\n\n        var _offsetY = Math.round(backgroundPositioningArea.top + position.y);\n\n        this.target.renderRepeat(_path, image, backgroundImageSize, _offsetX, _offsetY);\n      }\n    }\n  }, {\n    key: "renderBackgroundGradient",\n    value: function renderBackgroundGradient(container, background) {\n      var backgroundPositioningArea = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroungPositioningArea"])(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n      var backgroundImageSize = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateGradientBackgroundSize"])(background, backgroundPositioningArea);\n      var position = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroundPosition"])(background.position, backgroundImageSize, backgroundPositioningArea);\n      var gradientBounds = new _Bounds__WEBPACK_IMPORTED_MODULE_0__["Bounds"](Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y), backgroundImageSize.width, backgroundImageSize.height);\n      var gradient = Object(_Gradient__WEBPACK_IMPORTED_MODULE_2__["parseGradient"])(container, background.source, gradientBounds);\n\n      if (gradient) {\n        switch (gradient.type) {\n          case _Gradient__WEBPACK_IMPORTED_MODULE_2__["GRADIENT_TYPE"].LINEAR_GRADIENT:\n            // $FlowFixMe\n            this.target.renderLinearGradient(gradientBounds, gradient);\n            break;\n\n          case _Gradient__WEBPACK_IMPORTED_MODULE_2__["GRADIENT_TYPE"].RADIAL_GRADIENT:\n            // $FlowFixMe\n            this.target.renderRadialGradient(gradientBounds, gradient);\n            break;\n        }\n      }\n    }\n  }, {\n    key: "renderBorder",\n    value: function renderBorder(border, side, curvePoints) {\n      this.target.drawShape(Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["parsePathForBorder"])(curvePoints, side), border.borderColor);\n    }\n  }, {\n    key: "renderStack",\n    value: function renderStack(stack) {\n      var _this4 = this;\n\n      if (stack.container.isVisible()) {\n        var _opacity = stack.getOpacity();\n\n        if (_opacity !== this._opacity) {\n          this.target.setOpacity(stack.getOpacity());\n          this._opacity = _opacity;\n        }\n\n        var transform = stack.container.style.transform;\n\n        if (transform !== null) {\n          this.target.transform(stack.container.bounds.left + transform.transformOrigin[0].value, stack.container.bounds.top + transform.transformOrigin[1].value, transform.transform, function () {\n            return _this4.renderStackContent(stack);\n          });\n        } else {\n          this.renderStackContent(stack);\n        }\n      }\n    }\n  }, {\n    key: "renderStackContent",\n    value: function renderStackContent(stack) {\n      var _splitStackingContext = splitStackingContexts(stack),\n          _splitStackingContext2 = _slicedToArray(_splitStackingContext, 5),\n          negativeZIndex = _splitStackingContext2[0],\n          zeroOrAutoZIndexOrTransformedOrOpacity = _splitStackingContext2[1],\n          positiveZIndex = _splitStackingContext2[2],\n          nonPositionedFloats = _splitStackingContext2[3],\n          nonPositionedInlineLevel = _splitStackingContext2[4];\n\n      var _splitDescendants = splitDescendants(stack),\n          _splitDescendants2 = _slicedToArray(_splitDescendants, 2),\n          inlineLevel = _splitDescendants2[0],\n          nonInlineLevel = _splitDescendants2[1]; // https://www.w3.org/TR/css-position-3/#painting-order\n      // 1. the background and borders of the element forming the stacking context.\n\n\n      this.renderNodeBackgroundAndBorders(stack.container); // 2. the child stacking contexts with negative stack levels (most negative first).\n\n      negativeZIndex.sort(sortByZIndex).forEach(this.renderStack, this); // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\n\n      this.renderNodeContent(stack.container);\n      nonInlineLevel.forEach(this.renderNode, this); // 4. All non-positioned floating descendants, in tree order. For each one of these,\n      // treat the element as if it created a new stacking context, but any positioned descendants and descendants\n      // which actually create a new stacking context should be considered part of the parent stacking context,\n      // not this new one.\n\n      nonPositionedFloats.forEach(this.renderStack, this); // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n\n      nonPositionedInlineLevel.forEach(this.renderStack, this);\n      inlineLevel.forEach(this.renderNode, this); // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:\n      //  All positioned descendants with \'z-index: auto\' or \'z-index: 0\', in tree order.\n      //  For those with \'z-index: auto\', treat the element as if it created a new stacking context,\n      //  but any positioned descendants and descendants which actually create a new stacking context should be\n      //  considered part of the parent stacking context, not this new one. For those with \'z-index: 0\',\n      //  treat the stacking context generated atomically.\n      //\n      //  All opacity descendants with opacity less than 1\n      //\n      //  All transform descendants with transform other than none\n\n      zeroOrAutoZIndexOrTransformedOrOpacity.forEach(this.renderStack, this); // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index\n      // order (smallest first) then tree order.\n\n      positiveZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n    }\n  }, {\n    key: "render",\n    value: function render(stack) {\n      var _this5 = this;\n\n      if (this.options.backgroundColor) {\n        this.target.rectangle(this.options.x, this.options.y, this.options.width, this.options.height, this.options.backgroundColor);\n      }\n\n      this.renderStack(stack);\n      var target = this.target.getTarget();\n\n      if (true) {\n        return target.then(function (output) {\n          _this5.options.logger.log("Render completed");\n\n          return output;\n        });\n      }\n\n      return target;\n    }\n  }]);\n\n  return Renderer;\n}();\n\n\n\nvar splitDescendants = function splitDescendants(stack) {\n  var inlineLevel = [];\n  var nonInlineLevel = [];\n  var length = stack.children.length;\n\n  for (var i = 0; i < length; i++) {\n    var child = stack.children[i];\n\n    if (child.isInlineLevel()) {\n      inlineLevel.push(child);\n    } else {\n      nonInlineLevel.push(child);\n    }\n  }\n\n  return [inlineLevel, nonInlineLevel];\n};\n\nvar splitStackingContexts = function splitStackingContexts(stack) {\n  var negativeZIndex = [];\n  var zeroOrAutoZIndexOrTransformedOrOpacity = [];\n  var positiveZIndex = [];\n  var nonPositionedFloats = [];\n  var nonPositionedInlineLevel = [];\n  var length = stack.contexts.length;\n\n  for (var i = 0; i < length; i++) {\n    var child = stack.contexts[i];\n\n    if (child.container.isPositioned() || child.container.style.opacity < 1 || child.container.isTransformed()) {\n      if (child.container.style.zIndex.order < 0) {\n        negativeZIndex.push(child);\n      } else if (child.container.style.zIndex.order > 0) {\n        positiveZIndex.push(child);\n      } else {\n        zeroOrAutoZIndexOrTransformedOrOpacity.push(child);\n      }\n    } else {\n      if (child.container.isFloating()) {\n        nonPositionedFloats.push(child);\n      } else {\n        nonPositionedInlineLevel.push(child);\n      }\n    }\n  }\n\n  return [negativeZIndex, zeroOrAutoZIndexOrTransformedOrOpacity, positiveZIndex, nonPositionedFloats, nonPositionedInlineLevel];\n};\n\nvar sortByZIndex = function sortByZIndex(a, b) {\n  if (a.container.style.zIndex.order > b.container.style.zIndex.order) {\n    return 1;\n  } else if (a.container.style.zIndex.order < b.container.style.zIndex.order) {\n    return -1;\n  }\n\n  return a.container.index > b.container.index ? 1 : -1;\n};\n\n//# sourceURL=webpack://html2canvas/./src/Renderer.js?')},"./src/ResourceLoader.js":
/*!*******************************!*\
  !*** ./src/ResourceLoader.js ***!
  \*******************************/
/*! exports provided: default, ResourceStore */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ResourceLoader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResourceStore", function() { return ResourceStore; });\n/* harmony import */ var _Feature__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Feature */ "./src/Feature.js");\n/* harmony import */ var _Proxy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Proxy */ "./src/Proxy.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar ResourceLoader =\n/*#__PURE__*/\nfunction () {\n  function ResourceLoader(options, logger, window) {\n    _classCallCheck(this, ResourceLoader);\n\n    this.options = options;\n    this._window = window;\n    this.origin = this.getOrigin(window.location.href);\n    this.cache = {};\n    this.logger = logger;\n    this._index = 0;\n  }\n\n  _createClass(ResourceLoader, [{\n    key: "loadImage",\n    value: function loadImage(src) {\n      var _this = this;\n\n      if (this.hasResourceInCache(src)) {\n        return src;\n      }\n\n      if (isBlobImage(src)) {\n        this.cache[src] = _loadImage(src, this.options.imageTimeout || 0);\n        return src;\n      }\n\n      if (!isSVG(src) || _Feature__WEBPACK_IMPORTED_MODULE_0__["default"].SUPPORT_SVG_DRAWING) {\n        if (this.options.allowTaint === true || isInlineImage(src) || this.isSameOrigin(src)) {\n          return this.addImage(src, src, false);\n        } else if (!this.isSameOrigin(src)) {\n          if (typeof this.options.proxy === \'string\') {\n            this.cache[src] = Object(_Proxy__WEBPACK_IMPORTED_MODULE_1__["Proxy"])(src, this.options).then(function (src) {\n              return _loadImage(src, _this.options.imageTimeout || 0);\n            });\n            return src;\n          } else if (this.options.useCORS === true && _Feature__WEBPACK_IMPORTED_MODULE_0__["default"].SUPPORT_CORS_IMAGES) {\n            return this.addImage(src, src, true);\n          }\n        }\n      }\n    }\n  }, {\n    key: "inlineImage",\n    value: function inlineImage(src) {\n      var _this2 = this;\n\n      if (isInlineImage(src)) {\n        return _loadImage(src, this.options.imageTimeout || 0);\n      }\n\n      if (this.hasResourceInCache(src)) {\n        return this.cache[src];\n      }\n\n      if (!this.isSameOrigin(src) && typeof this.options.proxy === \'string\') {\n        return this.cache[src] = Object(_Proxy__WEBPACK_IMPORTED_MODULE_1__["Proxy"])(src, this.options).then(function (src) {\n          return _loadImage(src, _this2.options.imageTimeout || 0);\n        });\n      }\n\n      return this.xhrImage(src);\n    }\n  }, {\n    key: "xhrImage",\n    value: function xhrImage(src) {\n      var _this3 = this;\n\n      this.cache[src] = new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            if (xhr.status !== 200) {\n              reject("Failed to fetch image ".concat(src.substring(0, 256), " with status code ").concat(xhr.status));\n            } else {\n              var reader = new FileReader();\n              reader.addEventListener(\'load\', function () {\n                // $FlowFixMe\n                var result = reader.result;\n                resolve(result);\n              }, false);\n              reader.addEventListener(\'error\', function (e) {\n                return reject(e);\n              }, false);\n              reader.readAsDataURL(xhr.response);\n            }\n          }\n        };\n\n        xhr.responseType = \'blob\';\n\n        if (_this3.options.imageTimeout) {\n          var timeout = _this3.options.imageTimeout;\n          xhr.timeout = timeout;\n\n          xhr.ontimeout = function () {\n            return reject( true ? "Timed out (".concat(timeout, "ms) fetching ").concat(src.substring(0, 256)) : undefined);\n          };\n        }\n\n        xhr.open(\'GET\', src, true);\n        xhr.send();\n      }).then(function (src) {\n        return _loadImage(src, _this3.options.imageTimeout || 0);\n      });\n      return this.cache[src];\n    }\n  }, {\n    key: "loadCanvas",\n    value: function loadCanvas(node) {\n      var key = String(this._index++);\n      this.cache[key] = Promise.resolve(node);\n      return key;\n    }\n  }, {\n    key: "hasResourceInCache",\n    value: function hasResourceInCache(key) {\n      return typeof this.cache[key] !== \'undefined\';\n    }\n  }, {\n    key: "addImage",\n    value: function addImage(key, src, useCORS) {\n      var _this4 = this;\n\n      if (true) {\n        this.logger.log("Added image ".concat(key.substring(0, 256)));\n      }\n\n      this.cache[key] = new Promise(function (resolve, reject) {\n        var img = new Image();\n\n        img.onload = function () {\n          return resolve(img);\n        }; //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\n\n\n        if (isInlineBase64Image(src) || useCORS) {\n          img.crossOrigin = \'anonymous\';\n        }\n\n        img.onerror = reject;\n        img.src = src;\n\n        if (img.complete === true) {\n          // Inline XML images may fail to parse, throwing an Error later on\n          setTimeout(function () {\n            resolve(img);\n          }, 500);\n        }\n\n        if (_this4.options.imageTimeout) {\n          var timeout = _this4.options.imageTimeout;\n          setTimeout(function () {\n            return reject( true ? "Timed out (".concat(timeout, "ms) fetching ").concat(src.substring(0, 256)) : undefined);\n          }, timeout);\n        }\n      });\n      return key;\n    }\n  }, {\n    key: "isSameOrigin",\n    value: function isSameOrigin(url) {\n      return this.getOrigin(url) === this.origin;\n    }\n  }, {\n    key: "getOrigin",\n    value: function getOrigin(url) {\n      var link = this._link || (this._link = this._window.document.createElement(\'a\'));\n\n      link.href = url;\n      link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n\n      return link.protocol + link.hostname + link.port;\n    }\n  }, {\n    key: "ready",\n    value: function ready() {\n      var _this5 = this;\n\n      var keys = Object.keys(this.cache);\n      var values = keys.map(function (str) {\n        return _this5.cache[str].catch(function (e) {\n          if (true) {\n            _this5.logger.log("Unable to load image", e);\n          }\n\n          return null;\n        });\n      });\n      return Promise.all(values).then(function (images) {\n        if (true) {\n          _this5.logger.log("Finished loading ".concat(images.length, " images"), images);\n        }\n\n        return new ResourceStore(keys, images);\n      });\n    }\n  }]);\n\n  return ResourceLoader;\n}();\n\n\nvar ResourceStore =\n/*#__PURE__*/\nfunction () {\n  function ResourceStore(keys, resources) {\n    _classCallCheck(this, ResourceStore);\n\n    this._keys = keys;\n    this._resources = resources;\n  }\n\n  _createClass(ResourceStore, [{\n    key: "get",\n    value: function get(key) {\n      var index = this._keys.indexOf(key);\n\n      return index === -1 ? null : this._resources[index];\n    }\n  }]);\n\n  return ResourceStore;\n}();\nvar INLINE_SVG = /^data:image\\/svg\\+xml/i;\nvar INLINE_BASE64 = /^data:image\\/.*;base64,/i;\nvar INLINE_IMG = /^data:image\\/.*/i;\n\nvar isInlineImage = function isInlineImage(src) {\n  return INLINE_IMG.test(src);\n};\n\nvar isInlineBase64Image = function isInlineBase64Image(src) {\n  return INLINE_BASE64.test(src);\n};\n\nvar isBlobImage = function isBlobImage(src) {\n  return src.substr(0, 4) === \'blob\';\n};\n\nvar isSVG = function isSVG(src) {\n  return src.substr(-3).toLowerCase() === \'svg\' || INLINE_SVG.test(src);\n};\n\nvar _loadImage = function _loadImage(src, timeout) {\n  return new Promise(function (resolve, reject) {\n    var img = new Image();\n\n    img.onload = function () {\n      return resolve(img);\n    };\n\n    img.onerror = reject;\n    img.src = src;\n\n    if (img.complete === true) {\n      // Inline XML images may fail to parse, throwing an Error later on\n      setTimeout(function () {\n        resolve(img);\n      }, 500);\n    }\n\n    if (timeout) {\n      setTimeout(function () {\n        return reject( true ? "Timed out (".concat(timeout, "ms) loading image") : undefined);\n      }, timeout);\n    }\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/ResourceLoader.js?')},"./src/StackingContext.js":
/*!********************************!*\
  !*** ./src/StackingContext.js ***!
  \********************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return StackingContext; });\n/* harmony import */ var _NodeContainer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NodeContainer */ "./src/NodeContainer.js");\n/* harmony import */ var _parsing_position__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsing/position */ "./src/parsing/position.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar StackingContext =\n/*#__PURE__*/\nfunction () {\n  function StackingContext(container, parent, treatAsRealStackingContext) {\n    _classCallCheck(this, StackingContext);\n\n    this.container = container;\n    this.parent = parent;\n    this.contexts = [];\n    this.children = [];\n    this.treatAsRealStackingContext = treatAsRealStackingContext;\n  }\n\n  _createClass(StackingContext, [{\n    key: "getOpacity",\n    value: function getOpacity() {\n      return this.parent ? this.container.style.opacity * this.parent.getOpacity() : this.container.style.opacity;\n    }\n  }, {\n    key: "getRealParentStackingContext",\n    value: function getRealParentStackingContext() {\n      return !this.parent || this.treatAsRealStackingContext ? this : this.parent.getRealParentStackingContext();\n    }\n  }]);\n\n  return StackingContext;\n}();\n\n\n\n//# sourceURL=webpack://html2canvas/./src/StackingContext.js?')},"./src/TextBounds.js":
/*!***************************!*\
  !*** ./src/TextBounds.js ***!
  \***************************/
/*! exports provided: TextBounds, parseTextBounds */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextBounds", function() { return TextBounds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseTextBounds", function() { return parseTextBounds; });\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsing/textDecoration */ "./src/parsing/textDecoration.js");\n/* harmony import */ var _Feature__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Feature */ "./src/Feature.js");\n/* harmony import */ var _Unicode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Unicode */ "./src/Unicode.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n\n\n\n\nvar TextBounds = function TextBounds(text, bounds) {\n  _classCallCheck(this, TextBounds);\n\n  this.text = text;\n  this.bounds = bounds;\n};\nvar parseTextBounds = function parseTextBounds(value, parent, node) {\n  var letterRendering = parent.style.letterSpacing !== 0;\n  var textList = letterRendering ? Object(_Unicode__WEBPACK_IMPORTED_MODULE_3__["toCodePoints"])(value).map(function (i) {\n    return Object(_Unicode__WEBPACK_IMPORTED_MODULE_3__["fromCodePoint"])(i);\n  }) : Object(_Unicode__WEBPACK_IMPORTED_MODULE_3__["breakWords"])(value, parent);\n  var length = textList.length;\n  var defaultView = node.parentNode ? node.parentNode.ownerDocument.defaultView : null;\n  var scrollX = defaultView ? defaultView.pageXOffset : 0;\n  var scrollY = defaultView ? defaultView.pageYOffset : 0;\n  var textBounds = [];\n  var offset = 0;\n\n  for (var i = 0; i < length; i++) {\n    var text = textList[i];\n\n    if (parent.style.textDecoration !== _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__["TEXT_DECORATION"].NONE || text.trim().length > 0) {\n      if (_Feature__WEBPACK_IMPORTED_MODULE_2__["default"].SUPPORT_RANGE_BOUNDS) {\n        textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length, scrollX, scrollY)));\n      } else {\n        var replacementNode = node.splitText(text.length);\n        textBounds.push(new TextBounds(text, getWrapperBounds(node, scrollX, scrollY)));\n        node = replacementNode;\n      }\n    } else if (!_Feature__WEBPACK_IMPORTED_MODULE_2__["default"].SUPPORT_RANGE_BOUNDS) {\n      node = node.splitText(text.length);\n    }\n\n    offset += text.length;\n  }\n\n  return textBounds;\n};\n\nvar getWrapperBounds = function getWrapperBounds(node, scrollX, scrollY) {\n  var wrapper = node.ownerDocument.createElement(\'html2canvaswrapper\');\n  wrapper.appendChild(node.cloneNode(true));\n  var parentNode = node.parentNode;\n\n  if (parentNode) {\n    parentNode.replaceChild(wrapper, node);\n    var bounds = Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["parseBounds"])(wrapper, scrollX, scrollY);\n\n    if (wrapper.firstChild) {\n      parentNode.replaceChild(wrapper.firstChild, wrapper);\n    }\n\n    return bounds;\n  }\n\n  return new _Bounds__WEBPACK_IMPORTED_MODULE_0__["Bounds"](0, 0, 0, 0);\n};\n\nvar getRangeBounds = function getRangeBounds(node, offset, length, scrollX, scrollY) {\n  var range = node.ownerDocument.createRange();\n  range.setStart(node, offset);\n  range.setEnd(node, offset + length);\n  return _Bounds__WEBPACK_IMPORTED_MODULE_0__["Bounds"].fromClientRect(range.getBoundingClientRect(), scrollX, scrollY);\n};\n\n//# sourceURL=webpack://html2canvas/./src/TextBounds.js?')},"./src/TextContainer.js":
/*!******************************!*\
  !*** ./src/TextContainer.js ***!
  \******************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TextContainer; });\n/* harmony import */ var _parsing_textTransform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsing/textTransform */ "./src/parsing/textTransform.js");\n/* harmony import */ var _TextBounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TextBounds */ "./src/TextBounds.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar TextContainer =\n/*#__PURE__*/\nfunction () {\n  function TextContainer(text, parent, bounds) {\n    _classCallCheck(this, TextContainer);\n\n    this.text = text;\n    this.parent = parent;\n    this.bounds = bounds;\n  }\n\n  _createClass(TextContainer, null, [{\n    key: "fromTextNode",\n    value: function fromTextNode(node, parent) {\n      var text = transform(node.data, parent.style.textTransform);\n      return new TextContainer(text, parent, Object(_TextBounds__WEBPACK_IMPORTED_MODULE_1__["parseTextBounds"])(text, parent, node));\n    }\n  }]);\n\n  return TextContainer;\n}();\n\n\nvar CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\n\nvar transform = function transform(text, _transform) {\n  switch (_transform) {\n    case _parsing_textTransform__WEBPACK_IMPORTED_MODULE_0__["TEXT_TRANSFORM"].LOWERCASE:\n      return text.toLowerCase();\n\n    case _parsing_textTransform__WEBPACK_IMPORTED_MODULE_0__["TEXT_TRANSFORM"].CAPITALIZE:\n      return text.replace(CAPITALIZE, capitalize);\n\n    case _parsing_textTransform__WEBPACK_IMPORTED_MODULE_0__["TEXT_TRANSFORM"].UPPERCASE:\n      return text.toUpperCase();\n\n    default:\n      return text;\n  }\n};\n\nfunction capitalize(m, p1, p2) {\n  if (m.length > 0) {\n    return p1 + p2.toUpperCase();\n  }\n\n  return m;\n}\n\n//# sourceURL=webpack://html2canvas/./src/TextContainer.js?')},"./src/Unicode.js":
/*!************************!*\
  !*** ./src/Unicode.js ***!
  \************************/
/*! exports provided: toCodePoints, fromCodePoint, breakWords */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "breakWords", function() { return breakWords; });\n/* harmony import */ var css_line_break__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! css-line-break */ "./node_modules/css-line-break/dist/index.js");\n/* harmony import */ var css_line_break__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(css_line_break__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _parsing_overflowWrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsing/overflowWrap */ "./src/parsing/overflowWrap.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "toCodePoints", function() { return css_line_break__WEBPACK_IMPORTED_MODULE_0__["toCodePoints"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fromCodePoint", function() { return css_line_break__WEBPACK_IMPORTED_MODULE_0__["fromCodePoint"]; });\n\n\n\n\n\n\nvar breakWords = function breakWords(str, parent) {\n  var breaker = Object(css_line_break__WEBPACK_IMPORTED_MODULE_0__["LineBreaker"])(str, {\n    lineBreak: parent.style.lineBreak,\n    wordBreak: parent.style.overflowWrap === _parsing_overflowWrap__WEBPACK_IMPORTED_MODULE_1__["OVERFLOW_WRAP"].BREAK_WORD ? \'break-word\' : parent.style.wordBreak\n  });\n  var words = [];\n  var bk;\n\n  while (!(bk = breaker.next()).done) {\n    words.push(bk.value.slice());\n  }\n\n  return words;\n};\n\n//# sourceURL=webpack://html2canvas/./src/Unicode.js?')},"./src/Util.js":
/*!*********************!*\
  !*** ./src/Util.js ***!
  \*********************/
/*! exports provided: contains, distance, copyCSSStyles, SMALL_IMAGE */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "contains", function() { return contains; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "distance", function() { return distance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "copyCSSStyles", function() { return copyCSSStyles; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SMALL_IMAGE", function() { return SMALL_IMAGE; });\n\n\nvar contains = function contains(bit, value) {\n  return (bit & value) !== 0;\n};\nvar distance = function distance(a, b) {\n  return Math.sqrt(a * a + b * b);\n};\nvar copyCSSStyles = function copyCSSStyles(style, target) {\n  // Edge does not provide value for cssText\n  for (var i = style.length - 1; i >= 0; i--) {\n    var property = style.item(i); // Safari shows pseudoelements if content is set\n\n    if (property !== \'content\') {\n      target.style.setProperty(property, style.getPropertyValue(property));\n    }\n  }\n\n  return target;\n};\nvar SMALL_IMAGE = \'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\';\n\n//# sourceURL=webpack://html2canvas/./src/Util.js?')},"./src/Window.js":
/*!***********************!*\
  !*** ./src/Window.js ***!
  \***********************/
/*! exports provided: renderElement */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderElement", function() { return renderElement; });\n/* harmony import */ var _Logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Logger */ "./src/Logger.js");\n/* harmony import */ var _NodeParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NodeParser */ "./src/NodeParser.js");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Renderer */ "./src/Renderer.js");\n/* harmony import */ var _renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./renderer/ForeignObjectRenderer */ "./src/renderer/ForeignObjectRenderer.js");\n/* harmony import */ var _Feature__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Feature */ "./src/Feature.js");\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _Clone__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Clone */ "./src/Clone.js");\n/* harmony import */ var _Font__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Font */ "./src/Font.js");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Color */ "./src/Color.js");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\n\n\nvar renderElement = function renderElement(element, options, logger) {\n  var ownerDocument = element.ownerDocument;\n  var windowBounds = new _Bounds__WEBPACK_IMPORTED_MODULE_5__["Bounds"](options.scrollX, options.scrollY, options.windowWidth, options.windowHeight); // http://www.w3.org/TR/css3-background/#special-backgrounds\n\n  var documentBackgroundColor = ownerDocument.documentElement ? new _Color__WEBPACK_IMPORTED_MODULE_8__["default"](getComputedStyle(ownerDocument.documentElement).backgroundColor) : _Color__WEBPACK_IMPORTED_MODULE_8__["TRANSPARENT"];\n  var bodyBackgroundColor = ownerDocument.body ? new _Color__WEBPACK_IMPORTED_MODULE_8__["default"](getComputedStyle(ownerDocument.body).backgroundColor) : _Color__WEBPACK_IMPORTED_MODULE_8__["TRANSPARENT"];\n  var backgroundColor = element === ownerDocument.documentElement ? documentBackgroundColor.isTransparent() ? bodyBackgroundColor.isTransparent() ? options.backgroundColor ? new _Color__WEBPACK_IMPORTED_MODULE_8__["default"](options.backgroundColor) : null : bodyBackgroundColor : documentBackgroundColor : options.backgroundColor ? new _Color__WEBPACK_IMPORTED_MODULE_8__["default"](options.backgroundColor) : null;\n  return (options.foreignObjectRendering ? // $FlowFixMe\n  _Feature__WEBPACK_IMPORTED_MODULE_4__["default"].SUPPORT_FOREIGNOBJECT_DRAWING : Promise.resolve(false)).then(function (supportForeignObject) {\n    return supportForeignObject ? function (cloner) {\n      if (true) {\n        logger.log("Document cloned, using foreignObject rendering");\n      }\n\n      return cloner.inlineFonts(ownerDocument).then(function () {\n        return cloner.resourceLoader.ready();\n      }).then(function () {\n        var renderer = new _renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_3__["default"](cloner.documentElement);\n        var defaultView = ownerDocument.defaultView;\n        var scrollX = defaultView.pageXOffset;\n        var scrollY = defaultView.pageYOffset;\n        var isDocument = element.tagName === \'HTML\' || element.tagName === \'BODY\';\n\n        var _ref = isDocument ? Object(_Bounds__WEBPACK_IMPORTED_MODULE_5__["parseDocumentSize"])(ownerDocument) : Object(_Bounds__WEBPACK_IMPORTED_MODULE_5__["parseBounds"])(element, scrollX, scrollY),\n            width = _ref.width,\n            height = _ref.height,\n            left = _ref.left,\n            top = _ref.top;\n\n        return renderer.render({\n          backgroundColor: backgroundColor,\n          logger: logger,\n          scale: options.scale,\n          x: typeof options.x === \'number\' ? options.x : left,\n          y: typeof options.y === \'number\' ? options.y : top,\n          width: typeof options.width === \'number\' ? options.width : Math.ceil(width),\n          height: typeof options.height === \'number\' ? options.height : Math.ceil(height),\n          windowWidth: options.windowWidth,\n          windowHeight: options.windowHeight,\n          scrollX: options.scrollX,\n          scrollY: options.scrollY\n        });\n      });\n    }(new _Clone__WEBPACK_IMPORTED_MODULE_6__["DocumentCloner"](element, options, logger, true, renderElement)) : Object(_Clone__WEBPACK_IMPORTED_MODULE_6__["cloneWindow"])(ownerDocument, windowBounds, element, options, logger, renderElement).then(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 3),\n          container = _ref3[0],\n          clonedElement = _ref3[1],\n          resourceLoader = _ref3[2];\n\n      if (true) {\n        logger.log("Document cloned, using computed rendering");\n      }\n\n      var stack = Object(_NodeParser__WEBPACK_IMPORTED_MODULE_1__["NodeParser"])(clonedElement, resourceLoader, logger);\n      var clonedDocument = clonedElement.ownerDocument;\n\n      if (backgroundColor === stack.container.style.background.backgroundColor) {\n        stack.container.style.background.backgroundColor = _Color__WEBPACK_IMPORTED_MODULE_8__["TRANSPARENT"];\n      }\n\n      return resourceLoader.ready().then(function (imageStore) {\n        var fontMetrics = new _Font__WEBPACK_IMPORTED_MODULE_7__["FontMetrics"](clonedDocument);\n\n        if (true) {\n          logger.log("Starting renderer");\n        }\n\n        var defaultView = clonedDocument.defaultView;\n        var scrollX = defaultView.pageXOffset;\n        var scrollY = defaultView.pageYOffset;\n        var isDocument = clonedElement.tagName === \'HTML\' || clonedElement.tagName === \'BODY\';\n\n        var _ref4 = isDocument ? Object(_Bounds__WEBPACK_IMPORTED_MODULE_5__["parseDocumentSize"])(ownerDocument) : Object(_Bounds__WEBPACK_IMPORTED_MODULE_5__["parseBounds"])(clonedElement, scrollX, scrollY),\n            width = _ref4.width,\n            height = _ref4.height,\n            left = _ref4.left,\n            top = _ref4.top;\n\n        var renderOptions = {\n          backgroundColor: backgroundColor,\n          fontMetrics: fontMetrics,\n          imageStore: imageStore,\n          logger: logger,\n          scale: options.scale,\n          x: typeof options.x === \'number\' ? options.x : left,\n          y: typeof options.y === \'number\' ? options.y : top,\n          width: typeof options.width === \'number\' ? options.width : Math.ceil(width),\n          height: typeof options.height === \'number\' ? options.height : Math.ceil(height)\n        };\n\n        if (Array.isArray(options.target)) {\n          return Promise.all(options.target.map(function (target) {\n            var renderer = new _Renderer__WEBPACK_IMPORTED_MODULE_2__["default"](target, renderOptions);\n            return renderer.render(stack);\n          }));\n        } else {\n          var renderer = new _Renderer__WEBPACK_IMPORTED_MODULE_2__["default"](options.target, renderOptions);\n          var canvas = renderer.render(stack);\n\n          if (options.removeContainer === true) {\n            if (container.parentNode) {\n              container.parentNode.removeChild(container);\n            } else if (true) {\n              logger.log("Cannot detach cloned iframe as it is not in the DOM anymore");\n            }\n          }\n\n          return canvas;\n        }\n      });\n    });\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/Window.js?')},"./src/drawing/BezierCurve.js":
/*!************************************!*\
  !*** ./src/drawing/BezierCurve.js ***!
  \************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BezierCurve; });\n/* harmony import */ var _Path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Path */ "./src/drawing/Path.js");\n/* harmony import */ var _Vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Vector */ "./src/drawing/Vector.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar lerp = function lerp(a, b, t) {\n  return new _Vector__WEBPACK_IMPORTED_MODULE_1__["default"](a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\n};\n\nvar BezierCurve =\n/*#__PURE__*/\nfunction () {\n  function BezierCurve(start, startControl, endControl, end) {\n    _classCallCheck(this, BezierCurve);\n\n    this.type = _Path__WEBPACK_IMPORTED_MODULE_0__["PATH"].BEZIER_CURVE;\n    this.start = start;\n    this.startControl = startControl;\n    this.endControl = endControl;\n    this.end = end;\n  }\n\n  _createClass(BezierCurve, [{\n    key: "subdivide",\n    value: function subdivide(t, firstHalf) {\n      var ab = lerp(this.start, this.startControl, t);\n      var bc = lerp(this.startControl, this.endControl, t);\n      var cd = lerp(this.endControl, this.end, t);\n      var abbc = lerp(ab, bc, t);\n      var bccd = lerp(bc, cd, t);\n      var dest = lerp(abbc, bccd, t);\n      return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\n    }\n  }, {\n    key: "reverse",\n    value: function reverse() {\n      return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\n    }\n  }]);\n\n  return BezierCurve;\n}();\n\n\n\n//# sourceURL=webpack://html2canvas/./src/drawing/BezierCurve.js?')},"./src/drawing/Circle.js":
/*!*******************************!*\
  !*** ./src/drawing/Circle.js ***!
  \*******************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Circle; });\n/* harmony import */ var _Path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Path */ "./src/drawing/Path.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n\n\nvar Circle = function Circle(x, y, radius) {\n  _classCallCheck(this, Circle);\n\n  this.type = _Path__WEBPACK_IMPORTED_MODULE_0__["PATH"].CIRCLE;\n  this.x = x;\n  this.y = y;\n  this.radius = radius;\n\n  if (true) {\n    if (isNaN(x)) {\n      console.error("Invalid x value given for Circle");\n    }\n\n    if (isNaN(y)) {\n      console.error("Invalid y value given for Circle");\n    }\n\n    if (isNaN(radius)) {\n      console.error("Invalid radius value given for Circle");\n    }\n  }\n};\n\n\n\n//# sourceURL=webpack://html2canvas/./src/drawing/Circle.js?')},"./src/drawing/Path.js":
/*!*****************************!*\
  !*** ./src/drawing/Path.js ***!
  \*****************************/
/*! exports provided: PATH */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PATH", function() { return PATH; });\n\n\nvar PATH = {\n  VECTOR: 0,\n  BEZIER_CURVE: 1,\n  CIRCLE: 2\n};\n\n//# sourceURL=webpack://html2canvas/./src/drawing/Path.js?')},"./src/drawing/Size.js":
/*!*****************************!*\
  !*** ./src/drawing/Size.js ***!
  \*****************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Size; });\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Size = function Size(width, height) {\n  _classCallCheck(this, Size);\n\n  this.width = width;\n  this.height = height;\n};\n\n\n\n//# sourceURL=webpack://html2canvas/./src/drawing/Size.js?')},"./src/drawing/Vector.js":
/*!*******************************!*\
  !*** ./src/drawing/Vector.js ***!
  \*******************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Vector; });\n/* harmony import */ var _Path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Path */ "./src/drawing/Path.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n\n\nvar Vector = function Vector(x, y) {\n  _classCallCheck(this, Vector);\n\n  this.type = _Path__WEBPACK_IMPORTED_MODULE_0__["PATH"].VECTOR;\n  this.x = x;\n  this.y = y;\n\n  if (true) {\n    if (isNaN(x)) {\n      console.error("Invalid x value given for Vector");\n    }\n\n    if (isNaN(y)) {\n      console.error("Invalid y value given for Vector");\n    }\n  }\n};\n\n\n\n//# sourceURL=webpack://html2canvas/./src/drawing/Vector.js?')},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _renderer_CanvasRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer/CanvasRenderer */ "./src/renderer/CanvasRenderer.js");\n/* harmony import */ var _Logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Logger */ "./src/Logger.js");\n/* harmony import */ var _Window__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Window */ "./src/Window.js");\n\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar html2canvas = function html2canvas(element, conf) {\n  var config = conf || {};\n  var logger = new _Logger__WEBPACK_IMPORTED_MODULE_1__["default"](typeof config.logging === \'boolean\' ? config.logging : true);\n  logger.log("html2canvas ".concat("1.0.0-rc.1"));\n\n  if ( true && typeof config.onrendered === \'function\') {\n    logger.error("onrendered option is deprecated, html2canvas returns a Promise with the canvas as the value");\n  }\n\n  var ownerDocument = element.ownerDocument;\n\n  if (!ownerDocument) {\n    return Promise.reject("Provided element is not within a Document");\n  }\n\n  var defaultView = ownerDocument.defaultView;\n  var defaultOptions = {\n    allowTaint: false,\n    backgroundColor: \'#ffffff\',\n    imageTimeout: 15000,\n    logging: true,\n    proxy: null,\n    removeContainer: true,\n    foreignObjectRendering: false,\n    scale: defaultView.devicePixelRatio || 1,\n    target: new _renderer_CanvasRenderer__WEBPACK_IMPORTED_MODULE_0__["default"](config.canvas),\n    useCORS: false,\n    windowWidth: defaultView.innerWidth,\n    windowHeight: defaultView.innerHeight,\n    scrollX: defaultView.pageXOffset,\n    scrollY: defaultView.pageYOffset\n  };\n  var result = Object(_Window__WEBPACK_IMPORTED_MODULE_2__["renderElement"])(element, _objectSpread({}, defaultOptions, config), logger);\n\n  if (true) {\n    return result.catch(function (e) {\n      logger.error(e);\n      throw e;\n    });\n  }\n\n  return result;\n};\n\nhtml2canvas.CanvasRenderer = _renderer_CanvasRenderer__WEBPACK_IMPORTED_MODULE_0__["default"];\n/* harmony default export */ __webpack_exports__["default"] = (html2canvas);\n\n//# sourceURL=webpack://html2canvas/./src/index.js?')},"./src/parsing/background.js":
/*!***********************************!*\
  !*** ./src/parsing/background.js ***!
  \***********************************/
/*! exports provided: BACKGROUND_REPEAT, BACKGROUND_SIZE, BACKGROUND_CLIP, BACKGROUND_ORIGIN, calculateBackgroundSize, calculateGradientBackgroundSize, calculateBackgroungPaintingArea, calculateBackgroungPositioningArea, calculateBackgroundPosition, calculateBackgroundRepeatPath, parseBackground, parseBackgroundImage */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKGROUND_REPEAT", function() { return BACKGROUND_REPEAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKGROUND_SIZE", function() { return BACKGROUND_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKGROUND_CLIP", function() { return BACKGROUND_CLIP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKGROUND_ORIGIN", function() { return BACKGROUND_ORIGIN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBackgroundSize", function() { return calculateBackgroundSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateGradientBackgroundSize", function() { return calculateGradientBackgroundSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBackgroungPaintingArea", function() { return calculateBackgroungPaintingArea; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBackgroungPositioningArea", function() { return calculateBackgroungPositioningArea; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBackgroundPosition", function() { return calculateBackgroundPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBackgroundRepeatPath", function() { return calculateBackgroundRepeatPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBackground", function() { return parseBackground; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBackgroundImage", function() { return parseBackgroundImage; });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Color */ "./src/Color.js");\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Length */ "./src/Length.js");\n/* harmony import */ var _drawing_Size__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../drawing/Size */ "./src/drawing/Size.js");\n/* harmony import */ var _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../drawing/Vector */ "./src/drawing/Vector.js");\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Bounds */ "./src/Bounds.js");\n/* harmony import */ var _padding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./padding */ "./src/parsing/padding.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n\n\n\n\n\n\nvar BACKGROUND_REPEAT = {\n  REPEAT: 0,\n  NO_REPEAT: 1,\n  REPEAT_X: 2,\n  REPEAT_Y: 3\n};\nvar BACKGROUND_SIZE = {\n  AUTO: 0,\n  CONTAIN: 1,\n  COVER: 2,\n  LENGTH: 3\n};\nvar BACKGROUND_CLIP = {\n  BORDER_BOX: 0,\n  PADDING_BOX: 1,\n  CONTENT_BOX: 2\n};\nvar BACKGROUND_ORIGIN = BACKGROUND_CLIP;\nvar AUTO = \'auto\';\n\nvar BackgroundSize = function BackgroundSize(size) {\n  _classCallCheck(this, BackgroundSize);\n\n  switch (size) {\n    case \'contain\':\n      this.size = BACKGROUND_SIZE.CONTAIN;\n      break;\n\n    case \'cover\':\n      this.size = BACKGROUND_SIZE.COVER;\n      break;\n\n    case \'auto\':\n      this.size = BACKGROUND_SIZE.AUTO;\n      break;\n\n    default:\n      this.value = new _Length__WEBPACK_IMPORTED_MODULE_1__["default"](size);\n  }\n};\n\nvar calculateBackgroundSize = function calculateBackgroundSize(backgroundImage, image, bounds) {\n  var width = 0;\n  var height = 0;\n  var size = backgroundImage.size;\n\n  if (size[0].size === BACKGROUND_SIZE.CONTAIN || size[0].size === BACKGROUND_SIZE.COVER) {\n    var targetRatio = bounds.width / bounds.height;\n    var currentRatio = image.width / image.height;\n    return targetRatio < currentRatio !== (size[0].size === BACKGROUND_SIZE.COVER) ? new _drawing_Size__WEBPACK_IMPORTED_MODULE_2__["default"](bounds.width, bounds.width / currentRatio) : new _drawing_Size__WEBPACK_IMPORTED_MODULE_2__["default"](bounds.height * currentRatio, bounds.height);\n  }\n\n  if (size[0].value) {\n    width = size[0].value.getAbsoluteValue(bounds.width);\n  }\n\n  if (size[0].size === BACKGROUND_SIZE.AUTO && size[1].size === BACKGROUND_SIZE.AUTO) {\n    height = image.height;\n  } else if (size[1].size === BACKGROUND_SIZE.AUTO) {\n    height = width / image.width * image.height;\n  } else if (size[1].value) {\n    height = size[1].value.getAbsoluteValue(bounds.height);\n  }\n\n  if (size[0].size === BACKGROUND_SIZE.AUTO) {\n    width = height / image.height * image.width;\n  }\n\n  return new _drawing_Size__WEBPACK_IMPORTED_MODULE_2__["default"](width, height);\n};\nvar calculateGradientBackgroundSize = function calculateGradientBackgroundSize(backgroundImage, bounds) {\n  var size = backgroundImage.size;\n  var width = size[0].value ? size[0].value.getAbsoluteValue(bounds.width) : bounds.width;\n  var height = size[1].value ? size[1].value.getAbsoluteValue(bounds.height) : size[0].value ? width : bounds.height;\n  return new _drawing_Size__WEBPACK_IMPORTED_MODULE_2__["default"](width, height);\n};\nvar AUTO_SIZE = new BackgroundSize(AUTO);\nvar calculateBackgroungPaintingArea = function calculateBackgroungPaintingArea(curves, clip) {\n  switch (clip) {\n    case BACKGROUND_CLIP.BORDER_BOX:\n      return Object(_Bounds__WEBPACK_IMPORTED_MODULE_4__["calculateBorderBoxPath"])(curves);\n\n    case BACKGROUND_CLIP.PADDING_BOX:\n    default:\n      return Object(_Bounds__WEBPACK_IMPORTED_MODULE_4__["calculatePaddingBoxPath"])(curves);\n  }\n};\nvar calculateBackgroungPositioningArea = function calculateBackgroungPositioningArea(backgroundOrigin, bounds, padding, border) {\n  var paddingBox = Object(_Bounds__WEBPACK_IMPORTED_MODULE_4__["calculatePaddingBox"])(bounds, border);\n\n  switch (backgroundOrigin) {\n    case BACKGROUND_ORIGIN.BORDER_BOX:\n      return bounds;\n\n    case BACKGROUND_ORIGIN.CONTENT_BOX:\n      var paddingLeft = padding[_padding__WEBPACK_IMPORTED_MODULE_5__["PADDING_SIDES"].LEFT].getAbsoluteValue(bounds.width);\n      var paddingRight = padding[_padding__WEBPACK_IMPORTED_MODULE_5__["PADDING_SIDES"].RIGHT].getAbsoluteValue(bounds.width);\n      var paddingTop = padding[_padding__WEBPACK_IMPORTED_MODULE_5__["PADDING_SIDES"].TOP].getAbsoluteValue(bounds.width);\n      var paddingBottom = padding[_padding__WEBPACK_IMPORTED_MODULE_5__["PADDING_SIDES"].BOTTOM].getAbsoluteValue(bounds.width);\n      return new _Bounds__WEBPACK_IMPORTED_MODULE_4__["Bounds"](paddingBox.left + paddingLeft, paddingBox.top + paddingTop, paddingBox.width - paddingLeft - paddingRight, paddingBox.height - paddingTop - paddingBottom);\n\n    case BACKGROUND_ORIGIN.PADDING_BOX:\n    default:\n      return paddingBox;\n  }\n};\nvar calculateBackgroundPosition = function calculateBackgroundPosition(position, size, bounds) {\n  return new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](position[0].getAbsoluteValue(bounds.width - size.width), position[1].getAbsoluteValue(bounds.height - size.height));\n};\nvar calculateBackgroundRepeatPath = function calculateBackgroundRepeatPath(background, position, size, backgroundPositioningArea, bounds) {\n  var repeat = background.repeat;\n\n  switch (repeat) {\n    case BACKGROUND_REPEAT.REPEAT_X:\n      return [new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left), Math.round(backgroundPositioningArea.top + position.y)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left + bounds.width), Math.round(backgroundPositioningArea.top + position.y)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left + bounds.width), Math.round(size.height + backgroundPositioningArea.top + position.y)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left), Math.round(size.height + backgroundPositioningArea.top + position.y))];\n\n    case BACKGROUND_REPEAT.REPEAT_Y:\n      return [new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.height + bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.height + bounds.top))];\n\n    case BACKGROUND_REPEAT.NO_REPEAT:\n      return [new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y + size.height)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y + size.height))];\n\n    default:\n      return [new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left), Math.round(bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left + bounds.width), Math.round(bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left + bounds.width), Math.round(bounds.height + bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left), Math.round(bounds.height + bounds.top))];\n  }\n};\nvar parseBackground = function parseBackground(style, resourceLoader) {\n  return {\n    backgroundColor: new _Color__WEBPACK_IMPORTED_MODULE_0__["default"](style.backgroundColor),\n    backgroundImage: parseBackgroundImages(style, resourceLoader),\n    backgroundClip: parseBackgroundClip(style.backgroundClip),\n    backgroundOrigin: parseBackgroundOrigin(style.backgroundOrigin)\n  };\n};\n\nvar parseBackgroundClip = function parseBackgroundClip(backgroundClip) {\n  switch (backgroundClip) {\n    case \'padding-box\':\n      return BACKGROUND_CLIP.PADDING_BOX;\n\n    case \'content-box\':\n      return BACKGROUND_CLIP.CONTENT_BOX;\n  }\n\n  return BACKGROUND_CLIP.BORDER_BOX;\n};\n\nvar parseBackgroundOrigin = function parseBackgroundOrigin(backgroundOrigin) {\n  switch (backgroundOrigin) {\n    case \'padding-box\':\n      return BACKGROUND_ORIGIN.PADDING_BOX;\n\n    case \'content-box\':\n      return BACKGROUND_ORIGIN.CONTENT_BOX;\n  }\n\n  return BACKGROUND_ORIGIN.BORDER_BOX;\n};\n\nvar parseBackgroundRepeat = function parseBackgroundRepeat(backgroundRepeat) {\n  switch (backgroundRepeat.trim()) {\n    case \'no-repeat\':\n      return BACKGROUND_REPEAT.NO_REPEAT;\n\n    case \'repeat-x\':\n    case \'repeat no-repeat\':\n      return BACKGROUND_REPEAT.REPEAT_X;\n\n    case \'repeat-y\':\n    case \'no-repeat repeat\':\n      return BACKGROUND_REPEAT.REPEAT_Y;\n\n    case \'repeat\':\n      return BACKGROUND_REPEAT.REPEAT;\n  }\n\n  if (true) {\n    console.error("Invalid background-repeat value \\"".concat(backgroundRepeat, "\\""));\n  }\n\n  return BACKGROUND_REPEAT.REPEAT;\n};\n\nvar parseBackgroundImages = function parseBackgroundImages(style, resourceLoader) {\n  var sources = parseBackgroundImage(style.backgroundImage).map(function (backgroundImage) {\n    if (backgroundImage.method === \'url\') {\n      var key = resourceLoader.loadImage(backgroundImage.args[0]);\n      backgroundImage.args = key ? [key] : [];\n    }\n\n    return backgroundImage;\n  });\n  var positions = style.backgroundPosition.split(\',\');\n  var repeats = style.backgroundRepeat.split(\',\');\n  var sizes = style.backgroundSize.split(\',\');\n  return sources.map(function (source, index) {\n    var size = (sizes[index] || AUTO).trim().split(\' \').map(parseBackgroundSize);\n    var position = (positions[index] || AUTO).trim().split(\' \').map(parseBackgoundPosition);\n    return {\n      source: source,\n      repeat: parseBackgroundRepeat(typeof repeats[index] === \'string\' ? repeats[index] : repeats[0]),\n      size: size.length < 2 ? [size[0], AUTO_SIZE] : [size[0], size[1]],\n      position: position.length < 2 ? [position[0], position[0]] : [position[0], position[1]]\n    };\n  });\n};\n\nvar parseBackgroundSize = function parseBackgroundSize(size) {\n  return size === \'auto\' ? AUTO_SIZE : new BackgroundSize(size);\n};\n\nvar parseBackgoundPosition = function parseBackgoundPosition(position) {\n  switch (position) {\n    case \'bottom\':\n    case \'right\':\n      return new _Length__WEBPACK_IMPORTED_MODULE_1__["default"](\'100%\');\n\n    case \'left\':\n    case \'top\':\n      return new _Length__WEBPACK_IMPORTED_MODULE_1__["default"](\'0%\');\n\n    case \'auto\':\n      return new _Length__WEBPACK_IMPORTED_MODULE_1__["default"](\'0\');\n  }\n\n  return new _Length__WEBPACK_IMPORTED_MODULE_1__["default"](position);\n};\n\nvar parseBackgroundImage = function parseBackgroundImage(image) {\n  var whitespace = /^\\s$/;\n  var results = [];\n  var args = [];\n  var method = \'\';\n  var quote = null;\n  var definition = \'\';\n  var mode = 0;\n  var numParen = 0;\n\n  var appendResult = function appendResult() {\n    var prefix = \'\';\n\n    if (method) {\n      if (definition.substr(0, 1) === \'"\') {\n        definition = definition.substr(1, definition.length - 2);\n      }\n\n      if (definition) {\n        args.push(definition.trim());\n      }\n\n      var prefix_i = method.indexOf(\'-\', 1) + 1;\n\n      if (method.substr(0, 1) === \'-\' && prefix_i > 0) {\n        prefix = method.substr(0, prefix_i).toLowerCase();\n        method = method.substr(prefix_i);\n      }\n\n      method = method.toLowerCase();\n\n      if (method !== \'none\') {\n        results.push({\n          prefix: prefix,\n          method: method,\n          args: args\n        });\n      }\n    }\n\n    args = [];\n    method = definition = \'\';\n  };\n\n  image.split(\'\').forEach(function (c) {\n    if (mode === 0 && whitespace.test(c)) {\n      return;\n    }\n\n    switch (c) {\n      case \'"\':\n        if (!quote) {\n          quote = c;\n        } else if (quote === c) {\n          quote = null;\n        }\n\n        break;\n\n      case \'(\':\n        if (quote) {\n          break;\n        } else if (mode === 0) {\n          mode = 1;\n          return;\n        } else {\n          numParen++;\n        }\n\n        break;\n\n      case \')\':\n        if (quote) {\n          break;\n        } else if (mode === 1) {\n          if (numParen === 0) {\n            mode = 0;\n            appendResult();\n            return;\n          } else {\n            numParen--;\n          }\n        }\n\n        break;\n\n      case \',\':\n        if (quote) {\n          break;\n        } else if (mode === 0) {\n          appendResult();\n          return;\n        } else if (mode === 1) {\n          if (numParen === 0 && !method.match(/^url$/i)) {\n            args.push(definition.trim());\n            definition = \'\';\n            return;\n          }\n        }\n\n        break;\n    }\n\n    if (mode === 0) {\n      method += c;\n    } else {\n      definition += c;\n    }\n  });\n  appendResult();\n  return results;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/background.js?')},"./src/parsing/border.js":
/*!*******************************!*\
  !*** ./src/parsing/border.js ***!
  \*******************************/
/*! exports provided: BORDER_STYLE, BORDER_SIDES, parseBorder */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BORDER_STYLE", function() { return BORDER_STYLE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BORDER_SIDES", function() { return BORDER_SIDES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBorder", function() { return parseBorder; });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Color */ "./src/Color.js");\n\n\n\nvar BORDER_STYLE = {\n  NONE: 0,\n  SOLID: 1\n};\nvar BORDER_SIDES = {\n  TOP: 0,\n  RIGHT: 1,\n  BOTTOM: 2,\n  LEFT: 3\n};\nvar SIDES = Object.keys(BORDER_SIDES).map(function (s) {\n  return s.toLowerCase();\n});\n\nvar parseBorderStyle = function parseBorderStyle(style) {\n  switch (style) {\n    case \'none\':\n      return BORDER_STYLE.NONE;\n  }\n\n  return BORDER_STYLE.SOLID;\n};\n\nvar parseBorder = function parseBorder(style) {\n  return SIDES.map(function (side) {\n    var borderColor = new _Color__WEBPACK_IMPORTED_MODULE_0__["default"](style.getPropertyValue("border-".concat(side, "-color")));\n    var borderStyle = parseBorderStyle(style.getPropertyValue("border-".concat(side, "-style")));\n    var borderWidth = parseFloat(style.getPropertyValue("border-".concat(side, "-width")));\n    return {\n      borderColor: borderColor,\n      borderStyle: borderStyle,\n      borderWidth: isNaN(borderWidth) ? 0 : borderWidth\n    };\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/border.js?')},"./src/parsing/borderRadius.js":
/*!*************************************!*\
  !*** ./src/parsing/borderRadius.js ***!
  \*************************************/
/*! exports provided: parseBorderRadius */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBorderRadius", function() { return parseBorderRadius; });\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Length */ "./src/Length.js");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\nvar SIDES = [\'top-left\', \'top-right\', \'bottom-right\', \'bottom-left\'];\nvar parseBorderRadius = function parseBorderRadius(style) {\n  return SIDES.map(function (side) {\n    var value = style.getPropertyValue("border-".concat(side, "-radius"));\n\n    var _value$split$map = value.split(\' \').map(_Length__WEBPACK_IMPORTED_MODULE_0__["default"].create),\n        _value$split$map2 = _slicedToArray(_value$split$map, 2),\n        horizontal = _value$split$map2[0],\n        vertical = _value$split$map2[1];\n\n    return typeof vertical === \'undefined\' ? [horizontal, horizontal] : [horizontal, vertical];\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/borderRadius.js?')},"./src/parsing/display.js":
/*!********************************!*\
  !*** ./src/parsing/display.js ***!
  \********************************/
/*! exports provided: DISPLAY, parseDisplay */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DISPLAY\", function() { return DISPLAY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseDisplay\", function() { return parseDisplay; });\n\n\nvar DISPLAY = {\n  NONE: 1 << 0,\n  BLOCK: 1 << 1,\n  INLINE: 1 << 2,\n  RUN_IN: 1 << 3,\n  FLOW: 1 << 4,\n  FLOW_ROOT: 1 << 5,\n  TABLE: 1 << 6,\n  FLEX: 1 << 7,\n  GRID: 1 << 8,\n  RUBY: 1 << 9,\n  SUBGRID: 1 << 10,\n  LIST_ITEM: 1 << 11,\n  TABLE_ROW_GROUP: 1 << 12,\n  TABLE_HEADER_GROUP: 1 << 13,\n  TABLE_FOOTER_GROUP: 1 << 14,\n  TABLE_ROW: 1 << 15,\n  TABLE_CELL: 1 << 16,\n  TABLE_COLUMN_GROUP: 1 << 17,\n  TABLE_COLUMN: 1 << 18,\n  TABLE_CAPTION: 1 << 19,\n  RUBY_BASE: 1 << 20,\n  RUBY_TEXT: 1 << 21,\n  RUBY_BASE_CONTAINER: 1 << 22,\n  RUBY_TEXT_CONTAINER: 1 << 23,\n  CONTENTS: 1 << 24,\n  INLINE_BLOCK: 1 << 25,\n  INLINE_LIST_ITEM: 1 << 26,\n  INLINE_TABLE: 1 << 27,\n  INLINE_FLEX: 1 << 28,\n  INLINE_GRID: 1 << 29\n};\n\nvar parseDisplayValue = function parseDisplayValue(display) {\n  switch (display) {\n    case 'block':\n      return DISPLAY.BLOCK;\n\n    case 'inline':\n      return DISPLAY.INLINE;\n\n    case 'run-in':\n      return DISPLAY.RUN_IN;\n\n    case 'flow':\n      return DISPLAY.FLOW;\n\n    case 'flow-root':\n      return DISPLAY.FLOW_ROOT;\n\n    case 'table':\n      return DISPLAY.TABLE;\n\n    case 'flex':\n      return DISPLAY.FLEX;\n\n    case 'grid':\n      return DISPLAY.GRID;\n\n    case 'ruby':\n      return DISPLAY.RUBY;\n\n    case 'subgrid':\n      return DISPLAY.SUBGRID;\n\n    case 'list-item':\n      return DISPLAY.LIST_ITEM;\n\n    case 'table-row-group':\n      return DISPLAY.TABLE_ROW_GROUP;\n\n    case 'table-header-group':\n      return DISPLAY.TABLE_HEADER_GROUP;\n\n    case 'table-footer-group':\n      return DISPLAY.TABLE_FOOTER_GROUP;\n\n    case 'table-row':\n      return DISPLAY.TABLE_ROW;\n\n    case 'table-cell':\n      return DISPLAY.TABLE_CELL;\n\n    case 'table-column-group':\n      return DISPLAY.TABLE_COLUMN_GROUP;\n\n    case 'table-column':\n      return DISPLAY.TABLE_COLUMN;\n\n    case 'table-caption':\n      return DISPLAY.TABLE_CAPTION;\n\n    case 'ruby-base':\n      return DISPLAY.RUBY_BASE;\n\n    case 'ruby-text':\n      return DISPLAY.RUBY_TEXT;\n\n    case 'ruby-base-container':\n      return DISPLAY.RUBY_BASE_CONTAINER;\n\n    case 'ruby-text-container':\n      return DISPLAY.RUBY_TEXT_CONTAINER;\n\n    case 'contents':\n      return DISPLAY.CONTENTS;\n\n    case 'inline-block':\n      return DISPLAY.INLINE_BLOCK;\n\n    case 'inline-list-item':\n      return DISPLAY.INLINE_LIST_ITEM;\n\n    case 'inline-table':\n      return DISPLAY.INLINE_TABLE;\n\n    case 'inline-flex':\n      return DISPLAY.INLINE_FLEX;\n\n    case 'inline-grid':\n      return DISPLAY.INLINE_GRID;\n  }\n\n  return DISPLAY.NONE;\n};\n\nvar setDisplayBit = function setDisplayBit(bit, display) {\n  return bit | parseDisplayValue(display);\n};\n\nvar parseDisplay = function parseDisplay(display) {\n  return display.split(' ').reduce(setDisplayBit, 0);\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/display.js?")},"./src/parsing/float.js":
/*!******************************!*\
  !*** ./src/parsing/float.js ***!
  \******************************/
/*! exports provided: FLOAT, parseCSSFloat */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FLOAT\", function() { return FLOAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseCSSFloat\", function() { return parseCSSFloat; });\n\n\nvar FLOAT = {\n  NONE: 0,\n  LEFT: 1,\n  RIGHT: 2,\n  INLINE_START: 3,\n  INLINE_END: 4\n};\nvar parseCSSFloat = function parseCSSFloat(float) {\n  switch (float) {\n    case 'left':\n      return FLOAT.LEFT;\n\n    case 'right':\n      return FLOAT.RIGHT;\n\n    case 'inline-start':\n      return FLOAT.INLINE_START;\n\n    case 'inline-end':\n      return FLOAT.INLINE_END;\n  }\n\n  return FLOAT.NONE;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/float.js?")},"./src/parsing/font.js":
/*!*****************************!*\
  !*** ./src/parsing/font.js ***!
  \*****************************/
/*! exports provided: parseFont */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseFont\", function() { return parseFont; });\n\n\nvar parseFontWeight = function parseFontWeight(weight) {\n  switch (weight) {\n    case 'normal':\n      return 400;\n\n    case 'bold':\n      return 700;\n  }\n\n  var value = parseInt(weight, 10);\n  return isNaN(value) ? 400 : value;\n};\n\nvar parseFont = function parseFont(style) {\n  var fontFamily = style.fontFamily;\n  var fontSize = style.fontSize;\n  var fontStyle = style.fontStyle;\n  var fontVariant = style.fontVariant;\n  var fontWeight = parseFontWeight(style.fontWeight);\n  return {\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fontStyle: fontStyle,\n    fontVariant: fontVariant,\n    fontWeight: fontWeight\n  };\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/font.js?")},"./src/parsing/letterSpacing.js":
/*!**************************************!*\
  !*** ./src/parsing/letterSpacing.js ***!
  \**************************************/
/*! exports provided: parseLetterSpacing */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseLetterSpacing\", function() { return parseLetterSpacing; });\n\n\nvar parseLetterSpacing = function parseLetterSpacing(letterSpacing) {\n  if (letterSpacing === 'normal') {\n    return 0;\n  }\n\n  var value = parseFloat(letterSpacing);\n  return isNaN(value) ? 0 : value;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/letterSpacing.js?")},"./src/parsing/lineBreak.js":
/*!**********************************!*\
  !*** ./src/parsing/lineBreak.js ***!
  \**********************************/
/*! exports provided: LINE_BREAK, parseLineBreak */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LINE_BREAK\", function() { return LINE_BREAK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseLineBreak\", function() { return parseLineBreak; });\n\n\nvar LINE_BREAK = {\n  NORMAL: 'normal',\n  STRICT: 'strict'\n};\nvar parseLineBreak = function parseLineBreak(wordBreak) {\n  switch (wordBreak) {\n    case 'strict':\n      return LINE_BREAK.STRICT;\n\n    case 'normal':\n    default:\n      return LINE_BREAK.NORMAL;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/lineBreak.js?")},"./src/parsing/listStyle.js":
/*!**********************************!*\
  !*** ./src/parsing/listStyle.js ***!
  \**********************************/
/*! exports provided: LIST_STYLE_POSITION, LIST_STYLE_TYPE, parseListStyleType, parseListStyle */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LIST_STYLE_POSITION\", function() { return LIST_STYLE_POSITION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LIST_STYLE_TYPE\", function() { return LIST_STYLE_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseListStyleType\", function() { return parseListStyleType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseListStyle\", function() { return parseListStyle; });\n/* harmony import */ var _background__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./background */ \"./src/parsing/background.js\");\n\n\n\nvar LIST_STYLE_POSITION = {\n  INSIDE: 0,\n  OUTSIDE: 1\n};\nvar LIST_STYLE_TYPE = {\n  NONE: -1,\n  DISC: 0,\n  CIRCLE: 1,\n  SQUARE: 2,\n  DECIMAL: 3,\n  CJK_DECIMAL: 4,\n  DECIMAL_LEADING_ZERO: 5,\n  LOWER_ROMAN: 6,\n  UPPER_ROMAN: 7,\n  LOWER_GREEK: 8,\n  LOWER_ALPHA: 9,\n  UPPER_ALPHA: 10,\n  ARABIC_INDIC: 11,\n  ARMENIAN: 12,\n  BENGALI: 13,\n  CAMBODIAN: 14,\n  CJK_EARTHLY_BRANCH: 15,\n  CJK_HEAVENLY_STEM: 16,\n  CJK_IDEOGRAPHIC: 17,\n  DEVANAGARI: 18,\n  ETHIOPIC_NUMERIC: 19,\n  GEORGIAN: 20,\n  GUJARATI: 21,\n  GURMUKHI: 22,\n  HEBREW: 22,\n  HIRAGANA: 23,\n  HIRAGANA_IROHA: 24,\n  JAPANESE_FORMAL: 25,\n  JAPANESE_INFORMAL: 26,\n  KANNADA: 27,\n  KATAKANA: 28,\n  KATAKANA_IROHA: 29,\n  KHMER: 30,\n  KOREAN_HANGUL_FORMAL: 31,\n  KOREAN_HANJA_FORMAL: 32,\n  KOREAN_HANJA_INFORMAL: 33,\n  LAO: 34,\n  LOWER_ARMENIAN: 35,\n  MALAYALAM: 36,\n  MONGOLIAN: 37,\n  MYANMAR: 38,\n  ORIYA: 39,\n  PERSIAN: 40,\n  SIMP_CHINESE_FORMAL: 41,\n  SIMP_CHINESE_INFORMAL: 42,\n  TAMIL: 43,\n  TELUGU: 44,\n  THAI: 45,\n  TIBETAN: 46,\n  TRAD_CHINESE_FORMAL: 47,\n  TRAD_CHINESE_INFORMAL: 48,\n  UPPER_ARMENIAN: 49,\n  DISCLOSURE_OPEN: 50,\n  DISCLOSURE_CLOSED: 51\n};\nvar parseListStyleType = function parseListStyleType(type) {\n  switch (type) {\n    case 'disc':\n      return LIST_STYLE_TYPE.DISC;\n\n    case 'circle':\n      return LIST_STYLE_TYPE.CIRCLE;\n\n    case 'square':\n      return LIST_STYLE_TYPE.SQUARE;\n\n    case 'decimal':\n      return LIST_STYLE_TYPE.DECIMAL;\n\n    case 'cjk-decimal':\n      return LIST_STYLE_TYPE.CJK_DECIMAL;\n\n    case 'decimal-leading-zero':\n      return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\n\n    case 'lower-roman':\n      return LIST_STYLE_TYPE.LOWER_ROMAN;\n\n    case 'upper-roman':\n      return LIST_STYLE_TYPE.UPPER_ROMAN;\n\n    case 'lower-greek':\n      return LIST_STYLE_TYPE.LOWER_GREEK;\n\n    case 'lower-alpha':\n      return LIST_STYLE_TYPE.LOWER_ALPHA;\n\n    case 'upper-alpha':\n      return LIST_STYLE_TYPE.UPPER_ALPHA;\n\n    case 'arabic-indic':\n      return LIST_STYLE_TYPE.ARABIC_INDIC;\n\n    case 'armenian':\n      return LIST_STYLE_TYPE.ARMENIAN;\n\n    case 'bengali':\n      return LIST_STYLE_TYPE.BENGALI;\n\n    case 'cambodian':\n      return LIST_STYLE_TYPE.CAMBODIAN;\n\n    case 'cjk-earthly-branch':\n      return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\n\n    case 'cjk-heavenly-stem':\n      return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\n\n    case 'cjk-ideographic':\n      return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\n\n    case 'devanagari':\n      return LIST_STYLE_TYPE.DEVANAGARI;\n\n    case 'ethiopic-numeric':\n      return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\n\n    case 'georgian':\n      return LIST_STYLE_TYPE.GEORGIAN;\n\n    case 'gujarati':\n      return LIST_STYLE_TYPE.GUJARATI;\n\n    case 'gurmukhi':\n      return LIST_STYLE_TYPE.GURMUKHI;\n\n    case 'hebrew':\n      return LIST_STYLE_TYPE.HEBREW;\n\n    case 'hiragana':\n      return LIST_STYLE_TYPE.HIRAGANA;\n\n    case 'hiragana-iroha':\n      return LIST_STYLE_TYPE.HIRAGANA_IROHA;\n\n    case 'japanese-formal':\n      return LIST_STYLE_TYPE.JAPANESE_FORMAL;\n\n    case 'japanese-informal':\n      return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\n\n    case 'kannada':\n      return LIST_STYLE_TYPE.KANNADA;\n\n    case 'katakana':\n      return LIST_STYLE_TYPE.KATAKANA;\n\n    case 'katakana-iroha':\n      return LIST_STYLE_TYPE.KATAKANA_IROHA;\n\n    case 'khmer':\n      return LIST_STYLE_TYPE.KHMER;\n\n    case 'korean-hangul-formal':\n      return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\n\n    case 'korean-hanja-formal':\n      return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\n\n    case 'korean-hanja-informal':\n      return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\n\n    case 'lao':\n      return LIST_STYLE_TYPE.LAO;\n\n    case 'lower-armenian':\n      return LIST_STYLE_TYPE.LOWER_ARMENIAN;\n\n    case 'malayalam':\n      return LIST_STYLE_TYPE.MALAYALAM;\n\n    case 'mongolian':\n      return LIST_STYLE_TYPE.MONGOLIAN;\n\n    case 'myanmar':\n      return LIST_STYLE_TYPE.MYANMAR;\n\n    case 'oriya':\n      return LIST_STYLE_TYPE.ORIYA;\n\n    case 'persian':\n      return LIST_STYLE_TYPE.PERSIAN;\n\n    case 'simp-chinese-formal':\n      return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\n\n    case 'simp-chinese-informal':\n      return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\n\n    case 'tamil':\n      return LIST_STYLE_TYPE.TAMIL;\n\n    case 'telugu':\n      return LIST_STYLE_TYPE.TELUGU;\n\n    case 'thai':\n      return LIST_STYLE_TYPE.THAI;\n\n    case 'tibetan':\n      return LIST_STYLE_TYPE.TIBETAN;\n\n    case 'trad-chinese-formal':\n      return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\n\n    case 'trad-chinese-informal':\n      return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\n\n    case 'upper-armenian':\n      return LIST_STYLE_TYPE.UPPER_ARMENIAN;\n\n    case 'disclosure-open':\n      return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\n\n    case 'disclosure-closed':\n      return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\n\n    case 'none':\n    default:\n      return LIST_STYLE_TYPE.NONE;\n  }\n};\nvar parseListStyle = function parseListStyle(style) {\n  var listStyleImage = Object(_background__WEBPACK_IMPORTED_MODULE_0__[\"parseBackgroundImage\"])(style.getPropertyValue('list-style-image'));\n  return {\n    listStyleType: parseListStyleType(style.getPropertyValue('list-style-type')),\n    listStyleImage: listStyleImage.length ? listStyleImage[0] : null,\n    listStylePosition: parseListStylePosition(style.getPropertyValue('list-style-position'))\n  };\n};\n\nvar parseListStylePosition = function parseListStylePosition(position) {\n  switch (position) {\n    case 'inside':\n      return LIST_STYLE_POSITION.INSIDE;\n\n    case 'outside':\n    default:\n      return LIST_STYLE_POSITION.OUTSIDE;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/listStyle.js?")},"./src/parsing/margin.js":
/*!*******************************!*\
  !*** ./src/parsing/margin.js ***!
  \*******************************/
/*! exports provided: parseMargin */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseMargin\", function() { return parseMargin; });\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Length */ \"./src/Length.js\");\n\n\n\nvar SIDES = ['top', 'right', 'bottom', 'left'];\nvar parseMargin = function parseMargin(style) {\n  return SIDES.map(function (side) {\n    return new _Length__WEBPACK_IMPORTED_MODULE_0__[\"default\"](style.getPropertyValue(\"margin-\".concat(side)));\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/margin.js?")},"./src/parsing/overflow.js":
/*!*********************************!*\
  !*** ./src/parsing/overflow.js ***!
  \*********************************/
/*! exports provided: OVERFLOW, parseOverflow */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OVERFLOW\", function() { return OVERFLOW; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseOverflow\", function() { return parseOverflow; });\n\n\nvar OVERFLOW = {\n  VISIBLE: 0,\n  HIDDEN: 1,\n  SCROLL: 2,\n  AUTO: 3\n};\nvar parseOverflow = function parseOverflow(overflow) {\n  switch (overflow) {\n    case 'hidden':\n      return OVERFLOW.HIDDEN;\n\n    case 'scroll':\n      return OVERFLOW.SCROLL;\n\n    case 'auto':\n      return OVERFLOW.AUTO;\n\n    case 'visible':\n    default:\n      return OVERFLOW.VISIBLE;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/overflow.js?")},"./src/parsing/overflowWrap.js":
/*!*************************************!*\
  !*** ./src/parsing/overflowWrap.js ***!
  \*************************************/
/*! exports provided: OVERFLOW_WRAP, parseOverflowWrap */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OVERFLOW_WRAP\", function() { return OVERFLOW_WRAP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseOverflowWrap\", function() { return parseOverflowWrap; });\n\n\nvar OVERFLOW_WRAP = {\n  NORMAL: 0,\n  BREAK_WORD: 1\n};\nvar parseOverflowWrap = function parseOverflowWrap(overflow) {\n  switch (overflow) {\n    case 'break-word':\n      return OVERFLOW_WRAP.BREAK_WORD;\n\n    case 'normal':\n    default:\n      return OVERFLOW_WRAP.NORMAL;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/overflowWrap.js?")},"./src/parsing/padding.js":
/*!********************************!*\
  !*** ./src/parsing/padding.js ***!
  \********************************/
/*! exports provided: PADDING_SIDES, parsePadding */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PADDING_SIDES", function() { return PADDING_SIDES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parsePadding", function() { return parsePadding; });\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Length */ "./src/Length.js");\n\n\n\nvar PADDING_SIDES = {\n  TOP: 0,\n  RIGHT: 1,\n  BOTTOM: 2,\n  LEFT: 3\n};\nvar SIDES = [\'top\', \'right\', \'bottom\', \'left\'];\nvar parsePadding = function parsePadding(style) {\n  return SIDES.map(function (side) {\n    return new _Length__WEBPACK_IMPORTED_MODULE_0__["default"](style.getPropertyValue("padding-".concat(side)));\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/padding.js?')},"./src/parsing/position.js":
/*!*********************************!*\
  !*** ./src/parsing/position.js ***!
  \*********************************/
/*! exports provided: POSITION, parsePosition */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POSITION\", function() { return POSITION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parsePosition\", function() { return parsePosition; });\n\n\nvar POSITION = {\n  STATIC: 0,\n  RELATIVE: 1,\n  ABSOLUTE: 2,\n  FIXED: 3,\n  STICKY: 4\n};\nvar parsePosition = function parsePosition(position) {\n  switch (position) {\n    case 'relative':\n      return POSITION.RELATIVE;\n\n    case 'absolute':\n      return POSITION.ABSOLUTE;\n\n    case 'fixed':\n      return POSITION.FIXED;\n\n    case 'sticky':\n      return POSITION.STICKY;\n  }\n\n  return POSITION.STATIC;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/position.js?")},"./src/parsing/textDecoration.js":
/*!***************************************!*\
  !*** ./src/parsing/textDecoration.js ***!
  \***************************************/
/*! exports provided: TEXT_DECORATION_STYLE, TEXT_DECORATION, TEXT_DECORATION_LINE, parseTextDecoration */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TEXT_DECORATION_STYLE\", function() { return TEXT_DECORATION_STYLE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TEXT_DECORATION\", function() { return TEXT_DECORATION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TEXT_DECORATION_LINE\", function() { return TEXT_DECORATION_LINE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseTextDecoration\", function() { return parseTextDecoration; });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Color */ \"./src/Color.js\");\n\n\n\nvar TEXT_DECORATION_STYLE = {\n  SOLID: 0,\n  DOUBLE: 1,\n  DOTTED: 2,\n  DASHED: 3,\n  WAVY: 4\n};\nvar TEXT_DECORATION = {\n  NONE: null\n};\nvar TEXT_DECORATION_LINE = {\n  UNDERLINE: 1,\n  OVERLINE: 2,\n  LINE_THROUGH: 3,\n  BLINK: 4\n};\n\nvar parseLine = function parseLine(line) {\n  switch (line) {\n    case 'underline':\n      return TEXT_DECORATION_LINE.UNDERLINE;\n\n    case 'overline':\n      return TEXT_DECORATION_LINE.OVERLINE;\n\n    case 'line-through':\n      return TEXT_DECORATION_LINE.LINE_THROUGH;\n  }\n\n  return TEXT_DECORATION_LINE.BLINK;\n};\n\nvar parseTextDecorationLine = function parseTextDecorationLine(line) {\n  if (line === 'none') {\n    return null;\n  }\n\n  return line.split(' ').map(parseLine);\n};\n\nvar parseTextDecorationStyle = function parseTextDecorationStyle(style) {\n  switch (style) {\n    case 'double':\n      return TEXT_DECORATION_STYLE.DOUBLE;\n\n    case 'dotted':\n      return TEXT_DECORATION_STYLE.DOTTED;\n\n    case 'dashed':\n      return TEXT_DECORATION_STYLE.DASHED;\n\n    case 'wavy':\n      return TEXT_DECORATION_STYLE.WAVY;\n  }\n\n  return TEXT_DECORATION_STYLE.SOLID;\n};\n\nvar parseTextDecoration = function parseTextDecoration(style) {\n  var textDecorationLine = parseTextDecorationLine(style.textDecorationLine ? style.textDecorationLine : style.textDecoration);\n\n  if (textDecorationLine === null) {\n    return TEXT_DECORATION.NONE;\n  }\n\n  var textDecorationColor = style.textDecorationColor ? new _Color__WEBPACK_IMPORTED_MODULE_0__[\"default\"](style.textDecorationColor) : null;\n  var textDecorationStyle = parseTextDecorationStyle(style.textDecorationStyle);\n  return {\n    textDecorationLine: textDecorationLine,\n    textDecorationColor: textDecorationColor,\n    textDecorationStyle: textDecorationStyle\n  };\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/textDecoration.js?")},"./src/parsing/textShadow.js":
/*!***********************************!*\
  !*** ./src/parsing/textShadow.js ***!
  \***********************************/
/*! exports provided: parseTextShadow */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseTextShadow\", function() { return parseTextShadow; });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Color */ \"./src/Color.js\");\n\n\n\nvar NUMBER = /^([+-]|\\d|\\.)$/i;\nvar parseTextShadow = function parseTextShadow(textShadow) {\n  if (textShadow === 'none' || typeof textShadow !== 'string') {\n    return null;\n  }\n\n  var currentValue = '';\n  var isLength = false;\n  var values = [];\n  var shadows = [];\n  var numParens = 0;\n  var color = null;\n\n  var appendValue = function appendValue() {\n    if (currentValue.length) {\n      if (isLength) {\n        values.push(parseFloat(currentValue));\n      } else {\n        color = new _Color__WEBPACK_IMPORTED_MODULE_0__[\"default\"](currentValue);\n      }\n    }\n\n    isLength = false;\n    currentValue = '';\n  };\n\n  var appendShadow = function appendShadow() {\n    if (values.length && color !== null) {\n      shadows.push({\n        color: color,\n        offsetX: values[0] || 0,\n        offsetY: values[1] || 0,\n        blur: values[2] || 0\n      });\n    }\n\n    values.splice(0, values.length);\n    color = null;\n  };\n\n  for (var i = 0; i < textShadow.length; i++) {\n    var c = textShadow[i];\n\n    switch (c) {\n      case '(':\n        currentValue += c;\n        numParens++;\n        break;\n\n      case ')':\n        currentValue += c;\n        numParens--;\n        break;\n\n      case ',':\n        if (numParens === 0) {\n          appendValue();\n          appendShadow();\n        } else {\n          currentValue += c;\n        }\n\n        break;\n\n      case ' ':\n        if (numParens === 0) {\n          appendValue();\n        } else {\n          currentValue += c;\n        }\n\n        break;\n\n      default:\n        if (currentValue.length === 0 && NUMBER.test(c)) {\n          isLength = true;\n        }\n\n        currentValue += c;\n    }\n  }\n\n  appendValue();\n  appendShadow();\n\n  if (shadows.length === 0) {\n    return null;\n  }\n\n  return shadows;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/textShadow.js?")},"./src/parsing/textTransform.js":
/*!**************************************!*\
  !*** ./src/parsing/textTransform.js ***!
  \**************************************/
/*! exports provided: TEXT_TRANSFORM, parseTextTransform */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TEXT_TRANSFORM\", function() { return TEXT_TRANSFORM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseTextTransform\", function() { return parseTextTransform; });\n\n\nvar TEXT_TRANSFORM = {\n  NONE: 0,\n  LOWERCASE: 1,\n  UPPERCASE: 2,\n  CAPITALIZE: 3\n};\nvar parseTextTransform = function parseTextTransform(textTransform) {\n  switch (textTransform) {\n    case 'uppercase':\n      return TEXT_TRANSFORM.UPPERCASE;\n\n    case 'lowercase':\n      return TEXT_TRANSFORM.LOWERCASE;\n\n    case 'capitalize':\n      return TEXT_TRANSFORM.CAPITALIZE;\n  }\n\n  return TEXT_TRANSFORM.NONE;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/textTransform.js?")},"./src/parsing/transform.js":
/*!**********************************!*\
  !*** ./src/parsing/transform.js ***!
  \**********************************/
/*! exports provided: parseTransform */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseTransform\", function() { return parseTransform; });\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Length */ \"./src/Length.js\");\n\n\n\n\nvar toFloat = function toFloat(s) {\n  return parseFloat(s.trim());\n};\n\nvar MATRIX = /(matrix|matrix3d)\\((.+)\\)/;\nvar parseTransform = function parseTransform(style) {\n  var transform = parseTransformMatrix(style.transform || style.webkitTransform || style.mozTransform || // $FlowFixMe\n  style.msTransform || // $FlowFixMe\n  style.oTransform);\n\n  if (transform === null) {\n    return null;\n  }\n\n  return {\n    transform: transform,\n    transformOrigin: parseTransformOrigin(style.transformOrigin || style.webkitTransformOrigin || style.mozTransformOrigin || // $FlowFixMe\n    style.msTransformOrigin || // $FlowFixMe\n    style.oTransformOrigin)\n  };\n}; // $FlowFixMe\n\nvar parseTransformOrigin = function parseTransformOrigin(origin) {\n  if (typeof origin !== 'string') {\n    var v = new _Length__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('0');\n    return [v, v];\n  }\n\n  var values = origin.split(' ').map(_Length__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create);\n  return [values[0], values[1]];\n}; // $FlowFixMe\n\n\nvar parseTransformMatrix = function parseTransformMatrix(transform) {\n  if (transform === 'none' || typeof transform !== 'string') {\n    return null;\n  }\n\n  var match = transform.match(MATRIX);\n\n  if (match) {\n    if (match[1] === 'matrix') {\n      var matrix = match[2].split(',').map(toFloat);\n      return [matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]];\n    } else {\n      var matrix3d = match[2].split(',').map(toFloat);\n      return [matrix3d[0], matrix3d[1], matrix3d[4], matrix3d[5], matrix3d[12], matrix3d[13]];\n    }\n  }\n\n  return null;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/transform.js?")},"./src/parsing/visibility.js":
/*!***********************************!*\
  !*** ./src/parsing/visibility.js ***!
  \***********************************/
/*! exports provided: VISIBILITY, parseVisibility */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VISIBILITY\", function() { return VISIBILITY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseVisibility\", function() { return parseVisibility; });\n\n\nvar VISIBILITY = {\n  VISIBLE: 0,\n  HIDDEN: 1,\n  COLLAPSE: 2\n};\nvar parseVisibility = function parseVisibility(visibility) {\n  switch (visibility) {\n    case 'hidden':\n      return VISIBILITY.HIDDEN;\n\n    case 'collapse':\n      return VISIBILITY.COLLAPSE;\n\n    case 'visible':\n    default:\n      return VISIBILITY.VISIBLE;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/visibility.js?")},"./src/parsing/word-break.js":
/*!***********************************!*\
  !*** ./src/parsing/word-break.js ***!
  \***********************************/
/*! exports provided: WORD_BREAK, parseWordBreak */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WORD_BREAK\", function() { return WORD_BREAK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseWordBreak\", function() { return parseWordBreak; });\n\n\nvar WORD_BREAK = {\n  NORMAL: 'normal',\n  BREAK_ALL: 'break-all',\n  KEEP_ALL: 'keep-all'\n};\nvar parseWordBreak = function parseWordBreak(wordBreak) {\n  switch (wordBreak) {\n    case 'break-all':\n      return WORD_BREAK.BREAK_ALL;\n\n    case 'keep-all':\n      return WORD_BREAK.KEEP_ALL;\n\n    case 'normal':\n    default:\n      return WORD_BREAK.NORMAL;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/word-break.js?")},"./src/parsing/zIndex.js":
/*!*******************************!*\
  !*** ./src/parsing/zIndex.js ***!
  \*******************************/
/*! exports provided: parseZIndex */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseZIndex\", function() { return parseZIndex; });\n\n\nvar parseZIndex = function parseZIndex(zIndex) {\n  var auto = zIndex === 'auto';\n  return {\n    auto: auto,\n    order: auto ? 0 : parseInt(zIndex, 10)\n  };\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/zIndex.js?")},"./src/renderer/CanvasRenderer.js":
/*!****************************************!*\
  !*** ./src/renderer/CanvasRenderer.js ***!
  \****************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CanvasRenderer; });\n/* harmony import */ var _drawing_Path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../drawing/Path */ "./src/drawing/Path.js");\n/* harmony import */ var _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parsing/textDecoration */ "./src/parsing/textDecoration.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar addColorStops = function addColorStops(gradient, canvasGradient) {\n  var maxStop = Math.max.apply(null, gradient.colorStops.map(function (colorStop) {\n    return colorStop.stop;\n  }));\n  var f = 1 / Math.max(1, maxStop);\n  gradient.colorStops.forEach(function (colorStop) {\n    canvasGradient.addColorStop(Math.floor(Math.max(0, f * colorStop.stop)), colorStop.color.toString());\n  });\n};\n\nvar CanvasRenderer =\n/*#__PURE__*/\nfunction () {\n  function CanvasRenderer(canvas) {\n    _classCallCheck(this, CanvasRenderer);\n\n    this.canvas = canvas ? canvas : document.createElement(\'canvas\');\n  }\n\n  _createClass(CanvasRenderer, [{\n    key: "render",\n    value: function render(options) {\n      this.ctx = this.canvas.getContext(\'2d\');\n      this.options = options;\n      this.canvas.width = Math.floor(options.width * options.scale);\n      this.canvas.height = Math.floor(options.height * options.scale);\n      this.canvas.style.width = "".concat(options.width, "px");\n      this.canvas.style.height = "".concat(options.height, "px");\n      this.ctx.scale(this.options.scale, this.options.scale);\n      this.ctx.translate(-options.x, -options.y);\n      this.ctx.textBaseline = \'bottom\';\n      options.logger.log("Canvas renderer initialized (".concat(options.width, "x").concat(options.height, " at ").concat(options.x, ",").concat(options.y, ") with scale ").concat(this.options.scale));\n    }\n  }, {\n    key: "clip",\n    value: function clip(clipPaths, callback) {\n      var _this = this;\n\n      if (clipPaths.length) {\n        this.ctx.save();\n        clipPaths.forEach(function (path) {\n          _this.path(path);\n\n          _this.ctx.clip();\n        });\n      }\n\n      callback();\n\n      if (clipPaths.length) {\n        this.ctx.restore();\n      }\n    }\n  }, {\n    key: "drawImage",\n    value: function drawImage(image, source, destination) {\n      this.ctx.drawImage(image, source.left, source.top, source.width, source.height, destination.left, destination.top, destination.width, destination.height);\n    }\n  }, {\n    key: "drawShape",\n    value: function drawShape(path, color) {\n      this.path(path);\n      this.ctx.fillStyle = color.toString();\n      this.ctx.fill();\n    }\n  }, {\n    key: "fill",\n    value: function fill(color) {\n      this.ctx.fillStyle = color.toString();\n      this.ctx.fill();\n    }\n  }, {\n    key: "getTarget",\n    value: function getTarget() {\n      this.canvas.getContext(\'2d\').setTransform(1, 0, 0, 1, 0, 0);\n      return Promise.resolve(this.canvas);\n    }\n  }, {\n    key: "path",\n    value: function path(_path) {\n      var _this2 = this;\n\n      this.ctx.beginPath();\n\n      if (Array.isArray(_path)) {\n        _path.forEach(function (point, index) {\n          var start = point.type === _drawing_Path__WEBPACK_IMPORTED_MODULE_0__["PATH"].VECTOR ? point : point.start;\n\n          if (index === 0) {\n            _this2.ctx.moveTo(start.x, start.y);\n          } else {\n            _this2.ctx.lineTo(start.x, start.y);\n          }\n\n          if (point.type === _drawing_Path__WEBPACK_IMPORTED_MODULE_0__["PATH"].BEZIER_CURVE) {\n            _this2.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);\n          }\n        });\n      } else {\n        this.ctx.arc(_path.x + _path.radius, _path.y + _path.radius, _path.radius, 0, Math.PI * 2, true);\n      }\n\n      this.ctx.closePath();\n    }\n  }, {\n    key: "rectangle",\n    value: function rectangle(x, y, width, height, color) {\n      this.ctx.fillStyle = color.toString();\n      this.ctx.fillRect(x, y, width, height);\n    }\n  }, {\n    key: "renderLinearGradient",\n    value: function renderLinearGradient(bounds, gradient) {\n      var linearGradient = this.ctx.createLinearGradient(bounds.left + gradient.direction.x1, bounds.top + gradient.direction.y1, bounds.left + gradient.direction.x0, bounds.top + gradient.direction.y0);\n      addColorStops(gradient, linearGradient);\n      this.ctx.fillStyle = linearGradient;\n      this.ctx.fillRect(bounds.left, bounds.top, bounds.width, bounds.height);\n    }\n  }, {\n    key: "renderRadialGradient",\n    value: function renderRadialGradient(bounds, gradient) {\n      var _this3 = this;\n\n      var x = bounds.left + gradient.center.x;\n      var y = bounds.top + gradient.center.y;\n      var radialGradient = this.ctx.createRadialGradient(x, y, 0, x, y, gradient.radius.x);\n\n      if (!radialGradient) {\n        return;\n      }\n\n      addColorStops(gradient, radialGradient);\n      this.ctx.fillStyle = radialGradient;\n\n      if (gradient.radius.x !== gradient.radius.y) {\n        // transforms for elliptical radial gradient\n        var midX = bounds.left + 0.5 * bounds.width;\n        var midY = bounds.top + 0.5 * bounds.height;\n        var f = gradient.radius.y / gradient.radius.x;\n        var invF = 1 / f;\n        this.transform(midX, midY, [1, 0, 0, f, 0, 0], function () {\n          return _this3.ctx.fillRect(bounds.left, invF * (bounds.top - midY) + midY, bounds.width, bounds.height * invF);\n        });\n      } else {\n        this.ctx.fillRect(bounds.left, bounds.top, bounds.width, bounds.height);\n      }\n    }\n  }, {\n    key: "renderRepeat",\n    value: function renderRepeat(path, image, imageSize, offsetX, offsetY) {\n      this.path(path);\n      this.ctx.fillStyle = this.ctx.createPattern(this.resizeImage(image, imageSize), \'repeat\');\n      this.ctx.translate(offsetX, offsetY);\n      this.ctx.fill();\n      this.ctx.translate(-offsetX, -offsetY);\n    }\n  }, {\n    key: "renderTextNode",\n    value: function renderTextNode(textBounds, color, font, textDecoration, textShadows) {\n      var _this4 = this;\n\n      this.ctx.font = [font.fontStyle, font.fontVariant, font.fontWeight, font.fontSize, font.fontFamily].join(\' \');\n      textBounds.forEach(function (text) {\n        _this4.ctx.fillStyle = color.toString();\n\n        if (textShadows && text.text.trim().length) {\n          textShadows.slice(0).reverse().forEach(function (textShadow) {\n            _this4.ctx.shadowColor = textShadow.color.toString();\n            _this4.ctx.shadowOffsetX = textShadow.offsetX * _this4.options.scale;\n            _this4.ctx.shadowOffsetY = textShadow.offsetY * _this4.options.scale;\n            _this4.ctx.shadowBlur = textShadow.blur;\n\n            _this4.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n          });\n          _this4.ctx.shadowColor = \'\';\n          _this4.ctx.shadowOffsetX = 0;\n          _this4.ctx.shadowOffsetY = 0;\n          _this4.ctx.shadowBlur = 0;\n        } else {\n          _this4.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n        }\n\n        if (textDecoration !== null) {\n          var textDecorationColor = textDecoration.textDecorationColor || color;\n          textDecoration.textDecorationLine.forEach(function (textDecorationLine) {\n            switch (textDecorationLine) {\n              case _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__["TEXT_DECORATION_LINE"].UNDERLINE:\n                // Draws a line at the baseline of the font\n                // TODO As some browsers display the line as more than 1px if the font-size is big,\n                // need to take that into account both in position and size\n                var _this4$options$fontMe = _this4.options.fontMetrics.getMetrics(font),\n                    baseline = _this4$options$fontMe.baseline;\n\n                _this4.rectangle(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1, textDecorationColor);\n\n                break;\n\n              case _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__["TEXT_DECORATION_LINE"].OVERLINE:\n                _this4.rectangle(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1, textDecorationColor);\n\n                break;\n\n              case _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__["TEXT_DECORATION_LINE"].LINE_THROUGH:\n                // TODO try and find exact position for line-through\n                var _this4$options$fontMe2 = _this4.options.fontMetrics.getMetrics(font),\n                    middle = _this4$options$fontMe2.middle;\n\n                _this4.rectangle(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1, textDecorationColor);\n\n                break;\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: "resizeImage",\n    value: function resizeImage(image, size) {\n      if (image.width === size.width && image.height === size.height) {\n        return image;\n      }\n\n      var canvas = this.canvas.ownerDocument.createElement(\'canvas\');\n      canvas.width = size.width;\n      canvas.height = size.height;\n      var ctx = canvas.getContext(\'2d\');\n      ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height);\n      return canvas;\n    }\n  }, {\n    key: "setOpacity",\n    value: function setOpacity(opacity) {\n      this.ctx.globalAlpha = opacity;\n    }\n  }, {\n    key: "transform",\n    value: function transform(offsetX, offsetY, matrix, callback) {\n      this.ctx.save();\n      this.ctx.translate(offsetX, offsetY);\n      this.ctx.transform(matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\n      this.ctx.translate(-offsetX, -offsetY);\n      callback();\n      this.ctx.restore();\n    }\n  }]);\n\n  return CanvasRenderer;\n}();\n\n\n\n//# sourceURL=webpack://html2canvas/./src/renderer/CanvasRenderer.js?')},"./src/renderer/ForeignObjectRenderer.js":
/*!***********************************************!*\
  !*** ./src/renderer/ForeignObjectRenderer.js ***!
  \***********************************************/
/*! exports provided: default, createForeignObjectSVG, loadSerializedSVG */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ForeignObjectRenderer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createForeignObjectSVG", function() { return createForeignObjectSVG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadSerializedSVG", function() { return loadSerializedSVG; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ForeignObjectRenderer =\n/*#__PURE__*/\nfunction () {\n  function ForeignObjectRenderer(element) {\n    _classCallCheck(this, ForeignObjectRenderer);\n\n    this.element = element;\n  }\n\n  _createClass(ForeignObjectRenderer, [{\n    key: "render",\n    value: function render(options) {\n      var _this = this;\n\n      this.options = options;\n      this.canvas = document.createElement(\'canvas\');\n      this.ctx = this.canvas.getContext(\'2d\');\n      this.canvas.width = Math.floor(options.width) * options.scale;\n      this.canvas.height = Math.floor(options.height) * options.scale;\n      this.canvas.style.width = "".concat(options.width, "px");\n      this.canvas.style.height = "".concat(options.height, "px");\n      this.ctx.scale(options.scale, options.scale);\n      options.logger.log("ForeignObject renderer initialized (".concat(options.width, "x").concat(options.height, " at ").concat(options.x, ",").concat(options.y, ") with scale ").concat(options.scale));\n      var svg = createForeignObjectSVG(Math.max(options.windowWidth, options.width) * options.scale, Math.max(options.windowHeight, options.height) * options.scale, options.scrollX * options.scale, options.scrollY * options.scale, this.element);\n      return loadSerializedSVG(svg).then(function (img) {\n        if (options.backgroundColor) {\n          _this.ctx.fillStyle = options.backgroundColor.toString();\n\n          _this.ctx.fillRect(0, 0, options.width * options.scale, options.height * options.scale);\n        }\n\n        _this.ctx.drawImage(img, -options.x * options.scale, -options.y * options.scale);\n\n        return _this.canvas;\n      });\n    }\n  }]);\n\n  return ForeignObjectRenderer;\n}();\n\n\nvar createForeignObjectSVG = function createForeignObjectSVG(width, height, x, y, node) {\n  var xmlns = \'http://www.w3.org/2000/svg\';\n  var svg = document.createElementNS(xmlns, \'svg\');\n  var foreignObject = document.createElementNS(xmlns, \'foreignObject\');\n  svg.setAttributeNS(null, \'width\', width);\n  svg.setAttributeNS(null, \'height\', height);\n  foreignObject.setAttributeNS(null, \'width\', \'100%\');\n  foreignObject.setAttributeNS(null, \'height\', \'100%\');\n  foreignObject.setAttributeNS(null, \'x\', x);\n  foreignObject.setAttributeNS(null, \'y\', y);\n  foreignObject.setAttributeNS(null, \'externalResourcesRequired\', \'true\');\n  svg.appendChild(foreignObject);\n  foreignObject.appendChild(node);\n  return svg;\n};\nvar loadSerializedSVG = function loadSerializedSVG(svg) {\n  return new Promise(function (resolve, reject) {\n    var img = new Image();\n\n    img.onload = function () {\n      return resolve(img);\n    };\n\n    img.onerror = reject;\n    img.src = "data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(new XMLSerializer().serializeToString(svg)));\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/renderer/ForeignObjectRenderer.js?')}}).default},module.exports=factory()},function(e,t,n){e.exports={image_container:"_3NET8B1wqERaK6lnu4-IgF"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(13)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"close",value:function(){this.store.uistate.current_modal=!1,this.store.uistate.current_modal_options=!1}},{key:"render",value:function(){return this.store.projects.selected,i.default.createElement(l.default,{width:"890",height:"520",title:"Help",id:"help-router",closeButton:!1,upperCloseButton:!0,successButton:!1,store:this.store},i.default.createElement("iframe",{width:"860",height:"485",src:this.store.uistate.current_modal_options.url,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}))}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=g(l),u=n(6),d=n(3),f=g(n(407)),p=g(n(406)),h=g(n(149)),m=g(n(900)),_=g(n(901));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var v=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b(n,"name",o,n),b(n,"editing_name",i,n),n.store=n.props.store,n.profile_model=n.store.profile,n.toggleNotification=n.toggleNotification.bind(n),n.profile_model.fetch(),n.name=n.store.user.name,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"toggleNotification",value:function(e){!e.workbook_id||!1 in e||this.profile_model.saveNotification(e)}},{key:"renderNotifications",value:function(){var e=this;return c.default.createElement("div",null,c.default.createElement("div",{className:m.default.title},"Notifications settings by Workbook"),c.default.createElement("table",{className:"table not-mobilize",style:{width:"100%"}},c.default.createElement("thead",null,c.default.createElement("th",{style:{width:"60%"}},"Workbook"),c.default.createElement("th",{style:{width:"20%",textAlign:"center"}},"When a task is assigned to me"),c.default.createElement("th",{style:{width:"20%",textAlign:"center"}},"When there's a new comment I'm involved in")),c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",null,"Default (for any new workbook)"),Object.keys(this.profile_model.notifications_per_workbook.default).map((function(t){return c.default.createElement("td",{className:"notification-setup",style:{textAlign:"center",fontSize:"18px"}},c.default.createElement(p.default,{clickFunc:function(){return e.toggleNotification({workbook_id:"default",settings:{name:t,value:!e.profile_model.notifications_per_workbook.default[t]}})},activationBoolean:function(){return!!e.profile_model.notifications_per_workbook.default[t]}}))}))),store.workbooks.filtered.map((function(t){return c.default.createElement("tr",null,c.default.createElement("td",null,t.name),Object.keys(e.profile_model.notifications_per_workbook[t.id]).map((function(n){return c.default.createElement("td",{className:"notification-setup",style:{textAlign:"center",fontSize:"18px"}},c.default.createElement(p.default,{clickFunc:function(){return e.toggleNotification({workbook_id:t.id,settings:{name:n,value:!e.profile_model.notifications_per_workbook[t.id][n]}})},activationBoolean:function(){return!!e.profile_model.notifications_per_workbook[t.id][n]}}))})))})),c.default.createElement("tr",null))))}},{key:"handleChange",value:function(e){this.name=e.target.value}},{key:"handleKey",value:function(e){27==e.keyCode&&(this.editing_name=!1,this.name=this.store.user.name),13==e.keyCode&&this.save()}},{key:"save",value:function(){this.store.user.update({name:this.name}),this.editing_name=!1}},{key:"renderProfile",value:function(){var e=this;return c.default.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:"100px",height:"100%"}},c.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},c.default.createElement(_.default,{store:this.store},c.default.createElement(h.default,{size:200,users:[{name:this.store.user.name,photo:{image_60x60:this.store.user.photo}}]}))),c.default.createElement("div",{className:m.default.title,style:{display:"flex",justifyContent:"center"}},!this.editing_name&&c.default.createElement("div",null,this.store.user.name,"  ",c.default.createElement("span",{style:{cursor:"pointer",fontSize:"14px"},onClick:function(){return e.editing_name=!0}},c.default.createElement("i",{className:"fas fa-pencil"}))),this.editing_name&&c.default.createElement("div",null,c.default.createElement("input",{autoFocus:!0,type:"text",value:this.name,onChange:function(t){return e.handleChange(t)},onBlur:function(){return e.save()},onKeyUp:function(t){return e.handleKey(t)}}))),c.default.createElement("div",{className:m.default.subtitle,style:{display:"flex",justifyContent:"center"}},this.store.user.email))}},{key:"render",value:function(){var e=0,t=this.store.uistate.current_modal_options||{active_tab:"profile"};return"profile"==t.active_tab?e=0:"notifications"==t.active_tab&&(e=1),c.default.createElement(f.default,{width:"700",height:"400",successButton:!1,title:"Configure your Profile",closeButton:!1,tabNames:["Profile","Notifications"],tabContent:[this.renderProfile(),this.renderNotifications()],activeTab:e,store:this.store})}}]),t}(),o=y(a.prototype,"name",[d.observable],{enumerable:!0,initializer:null}),i=y(a.prototype,"editing_name",[d.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=v},function(e,t,n){e.exports={title:"_2NFAZ0EmEZ75tC3OpniKiY",subtitle:"_1z-Uw9MuENOwMUBtwA8neo"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=(c=d)&&c.__esModule?c:{default:c},p=n(6),h=n(3);function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(56);var b={progressWrapper:{height:"10px",marginTop:"10px",width:"100%",overflow:"hidden",backgroundColor:"#f5f5f5",borderRadius:"2px",WebkitBoxShadow:"inset 0 1px 2px rgba(0,0,0,.1)",boxShadow:"inset 0 1px 2px rgba(0,0,0,.1)",position:"relative"},progressBar:{float:"left",width:"0",height:"100%",fontSize:"12px",lineHeight:"20px",color:"#fff",textAlign:"center",backgroundColor:"rgb(70, 179, 2)",WebkitBoxShadow:"inset 0 -1px 0 rgba(0,0,0,.15)",boxShadow:"inset 0 -1px 0 rgba(0,0,0,.15)",WebkitTransition:"width .6s ease",Otransition:"width .6s ease",transition:"width .6s ease"},cancelButton:{marginTop:"5px",WebkitAppearance:"none",padding:0,cursor:"pointer",background:"0 0",border:0,float:"left",fontSize:"21px",fontWeight:700,lineHeight:1,color:"#000",textShadow:"0 1px 0 #fff",filter:"alpha(opacity=20)",opacity:".2"},bslabel:{display:"inline-block",maxWidth:"100%",marginBottom:"5px",fontWeight:700},bsHelp:{display:"block",marginTop:"5px",marginBottom:"10px",color:"#737373"},bsButton:(r={padding:"1px 5px",fontSize:"12px",lineHeight:"1.5",borderRadius:"3px",color:"#fff",backgroundColor:"#337ab7",borderColor:"#2e6da4",display:"inline-block"},g(r,"padding","6px 12px"),g(r,"marginBottom",0),g(r,"fontWeight",400),g(r,"textAlign","center"),g(r,"whiteSpace","nowrap"),g(r,"verticalAlign","middle"),g(r,"touchAction","manipulation"),g(r,"cursor","pointer"),g(r,"WebkitUserSelect","none"),g(r,"MozUserSelect","none"),g(r,"msUserSelect","none"),g(r,"userSelect","none"),g(r,"backgroundImage","none"),g(r,"border","1px solid transparent"),r)},y=(0,p.observer)((o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return m(n,"file_upload_visible",i,n),m(n,"requests",s,n),m(n,"loading",l,n),n.reactions=[],n.store=n.props.store,n.onSubmit=n.onSubmit.bind(n),window.uploader=n,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"onSubmit",value:function(){var e,t,n=this;Object.keys(this.files_form.files).forEach((e=regeneratorRuntime.mark((function e(t,r){var a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=n.files_form.files[t]).size/1024/1024>15)){e.next=5;break}return alert("Files can't be higher than 15MB"),e.abrupt("return");case 5:n.requests[r]={progress:0,error:!1,file:a},(o=new FormData).append("file",a),(i=new XMLHttpRequest).open("POST","/profile/photo",!0),n.requests[r].xhr=i,i.addEventListener("load",(function(e){if(n.requests[r].progress=100,i.status>=200&&i.status<=299){n.requests[r].progress=100,n.loading=!1;var t=JSON.parse(i.responseText);n.store.user.photo=t.photo}else n.requests[r].error=!0}),!1),i.addEventListener("error",(function(e){n.requests[r].error=!0}),!1),i.upload.addEventListener("progress",(function(e){var t=0;0!==e.total&&(t=parseInt(e.loaded/e.total*100,10)),n.requests[r].progress=t,100==t&&(n.loading=!0)}),!1),i.addEventListener("abort",(function(e){n.requests[r].progress=-1}),!1),i.send(o);case 16:case"end":return e.stop()}}),e,n)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))},function(e,n){return t.apply(this,arguments)}))}},{key:"render",value:function(){var e=this;return f.default.createElement("div",null,f.default.createElement("form",{id:"customForm",style:{marginBottom:"0"}},f.default.createElement("div",{className:["btn-file",this.props.className].join(" "),style:{color:"#008ACA",cursor:"pointer",overflow:"visible"}},this.props.children||"Add files"," ",f.default.createElement("input",{onChange:this.onSubmit,style:{display:"block"},ref:function(t){return e.files_form=t},placeholder:"",type:"file",name:"file",id:"exampleInputFile"}))),this.requests.filter((function(e){return e.progress<100})).map((function(e){return f.default.createElement("div",{style:b.progressWrapper},f.default.createElement("div",{style:{width:e.progress+"%",backgroundColor:e.error?"red":"rgb(70, 179, 2)",position:"absolute",left:0,top:0,bottom:0}}))})),this.loading&&f.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"10px 0"}},f.default.createElement("i",{className:"fa fa-spin fa-spinner"})))}}]),t}(),i=_(o.prototype,"file_upload_visible",[h.observable],{enumerable:!0,initializer:function(){return!1}}),s=_(o.prototype,"requests",[h.observable],{enumerable:!0,initializer:function(){return[]}}),l=_(o.prototype,"loading",[h.observable],{enumerable:!0,initializer:function(){return!1}}),a=o))||a;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f,p,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(0),_=A(m),g=n(6),b=n(3),y=(n(55),A(n(78))),v=(n(68),A(n(111)),A(n(903)));function A(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function O(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9));var C=(0,g.observer)((a=function(e){function t(e){k(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return w(n,"option",o,n),w(n,"editing",i,n),w(n,"options",s,n),n.predecessor_id=n.props.predecessor_id,n.store=n.props.store,n.predecessor=n.store.tasks.get(n.predecessor_id),n.task=n.props.task,n.task_id=n.task.id,n.options.distance=n.task.distance_to_predecessor(n.predecessor_id),n.options.distance_type=n.task.distanceType(n.predecessor_id),n}return x(t,m.Component),h(t,[{key:"edit",value:function(){this.editing=!this.editing}},{key:"handleKeyUp",value:function(e){isNaN(e.target.value)&&"-"!=e.target.value&&""!=e.target.value||("-"==e.target.value?this.options.distance="-":""==e.target.value?this.options.distance="":this.options.distance=Number(e.target.value))}},{key:"setDistanceType",value:function(e){this.options.distance_type=e.distance_type}},{key:"disable",value:function(){this.task.deleteLeftDependency(this.predecessor_id)}},{key:"save",value:function(){this.options.distance_type&&this.task.setDistanceType({predecessor_id:this.predecessor_id,distance_type:this.options.distance_type}),"-"==this.options.distance&&(this.options.distance=0),this.options.distance!=this.task.distance_to_predecessor(this.predecessor_id)?this.task.updatePredecessorDistance(this.options.distance,this.predecessor_id):this.task.save(),this.edit()}},{key:"render",value:function(){var e=this,t=this.task.getDefaultDistanceType(),n={lag:"Lag",slack:"Slack"};return _.default.createElement("div",{className:v.default.field_row},_.default.createElement("div",{style:{padding:"5px",paddingRight:"20px"}},this.store.tasks.collection_uncollapsed.indexOf(this.predecessor)),_.default.createElement("div",{style:{flexGrow:1,padding:"5px",paddingRight:"20px"}},this.predecessor.name),this.editing&&_.default.createElement(_.default.Fragment,null,_.default.createElement("div",{className:v.default.column},_.default.createElement("input",{type:"text",value:this.options.distance,onChange:function(t){return e.handleKeyUp(t)}})),_.default.createElement("div",{className:v.default.column},_.default.createElement("select",{value:this.options.distance_type,onChange:function(t){return e.setDistanceType({predecessor_id:e.predecessor_id,distance_type:t.target.value})}},_.default.createElement("option",{value:null},"Default (",t,")"),_.default.createElement("option",{value:"lag"},"Lag"),_.default.createElement("option",{value:"slack"},"Slack"))),_.default.createElement("div",{className:v.default.column},_.default.createElement("div",{className:"btn btn-flat btn-success",style:{padding:"5px",cursor:"pointer",margin:"4px"},onClick:function(){return e.save()}},"Save"),_.default.createElement("div",{className:"btn btn-flat",style:{padding:"5px",cursor:"pointer",margin:"4px"},onClick:function(){return e.edit()}},"Cancel"))),!this.editing&&_.default.createElement(_.default.Fragment,null,_.default.createElement("div",{className:v.default.column},this.task.distance_to_predecessor(this.predecessor_id)," working days gap"),_.default.createElement("div",{className:v.default.column},this.task.distanceType(this.predecessor_id)?n[this.task.distanceType(this.predecessor_id)]:"Default ("+n[t]+")"),_.default.createElement("div",{className:v.default.column},_.default.createElement("div",{className:"btn btn-flat",style:{padding:"5px",cursor:"pointer",margin:"4px"},onClick:function(){return e.edit()}},_.default.createElement("i",{className:"fa fa-pen"})),_.default.createElement("div",{className:"btn btn-flat",style:{padding:"5px",cursor:"pointer",margin:"4px"},onClick:function(){return e.disable()}},_.default.createElement("i",{className:"fa fa-trash"})))))}}]),t}(),o=O(a.prototype,"option",[b.observable],{enumerable:!0,initializer:null}),i=O(a.prototype,"editing",[b.observable],{enumerable:!0,initializer:function(){return!1}}),s=O(a.prototype,"options",[b.observable],{enumerable:!0,initializer:function(){return{distance:0,distance_type:null}}}),r=a))||r,j=(0,g.observer)((c=function(e){function t(e){k(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return w(n,"cf",u,n),w(n,"creating",d,n),w(n,"custom_fields",f,n),w(n,"options",p,n),n.types={dropdown:"Dropdown List",text:"Text",number:"Decimal Number",compound_cost:"Currency",integer:"Integer Number",percentage:"Percentage"},n.store=n.props.store,n}return x(t,m.Component),h(t,[{key:"componentWillUnmount",value:function(){$(this.node).modal("hide")}},{key:"render",value:function(){var e=this,t=this.store.tasks.get(this.store.uistate.current_modal_options.task_id);return _.default.createElement(y.default,{title:"Predecessors of task "+t.name,successButton:!1,closeButton:!0,closeButtonCallback:this.props.close,store:this.props.store,width:750,bodyStyle:{height:"500px"}},_.default.createElement(_.default.Fragment,null,_.default.createElement("div",null,_.default.createElement("div",{className:v.default.field_row,style:{fontWeight:"bold"}},_.default.createElement("div",{style:{padding:"5px",fontSize:"14px"}},"Row"),_.default.createElement("div",{style:{flexGrow:1,padding:"5px",fontSize:"14px"}},"Predecessors"),_.default.createElement("div",{className:v.default.column},"Gap (days)"),_.default.createElement("div",{className:v.default.column},"Gap type"),_.default.createElement("div",{className:v.default.column})),_.default.createElement(_.default.Fragment,null,t.predecessor_ids.filter((function(e){return""!=e})).map((function(n){return _.default.createElement(C,{task:t,key:n,predecessor_id:n,store:e.store})}))))))}}]),t}(),u=O(c.prototype,"cf",[b.observable],{enumerable:!0,initializer:null}),d=O(c.prototype,"creating",[b.observable],{enumerable:!0,initializer:function(){return!1}}),f=O(c.prototype,"custom_fields",[b.observable],{enumerable:!0,initializer:function(){return[]}}),p=O(c.prototype,"options",[b.observable],{enumerable:!0,initializer:function(){return{name:"",type:"dropdown"}}}),l=c))||l;t.default=j},function(e,t,n){e.exports={field_row:"nkcfjBWNBphclTVzOTCd_",column:"_1WNBJvfejtQmX7ln5lDAxZ",column_small:"_2zUd0IRFYJBMSETubMcihk",gap_column:"mYkgVGCccmBb1sDrG1aVO",gap_type_column:"LMutwPEjT3_SZBfkYJ6Tn"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(905)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"project_groups",value:function(){return i.default.createElement(l.default,{key:0,width:"400",height:"500",title:"Multiple projects on the same chart",id:"project-groups-hint",closeButton:"true",closeButtonName:"Got it",successButton:!1,hint:"project_groups",store:this.store},i.default.createElement("div",null,i.default.createElement("p",{style:{textAlign:"center"}},i.default.createElement("img",{src:"/img/project-groups.png",style:{width:"65%"}})),"Project Groups let you mix up to 20 projects in the same chart, just like a folder.",i.default.createElement("br",null),'To create one, click on the "+"" icon on the left dark sidebar, and then choose Create Group of Projects'))}},{key:"estimated_hours",value:function(){return i.default.createElement(l.default,{key:1,width:"400",height:"500",title:"Estimated hours",id:"estimated-hours-hint",closeButton:"true",closeButtonName:"Got it",successButton:!1,hint:"estimated_hours",store:this.store},i.default.createElement("div",null,i.default.createElement("p",null,"If you're using Asana Premium and have a Custom Field called Estimated Hours, we will write this value right there. "),i.default.createElement("br",null),i.default.createElement("p",null,"Otherwise, we will append the estimated hours number to the end of your task name in brackets. You'll be able to view this and also edit it directly in Asana."),i.default.createElement("p",null,"Example: 'Build website prototype [10]'")))}},{key:"sort_order",value:function(){var e=this;return i.default.createElement(l.default,{key:2,width:"500",height:"600",title:"Task order",id:"sort-order-hint",closeButton:"true",closeButtonName:"Got it",closeButtonCallback:function(){e.store.uistate.hideHint("sort_order"),e.store.tasks.freeEditMode()},successButton:!1,hint:"sort_order",className:"help-tips",style:{top:"5%"},store:this.store},i.default.createElement("div",null,i.default.createElement("div",{className:"gs-body"},i.default.createElement("h3",null,"Important: How do we order tasks?"),i.default.createElement("p",{style:{textAlign:"center"}},i.default.createElement("img",{src:"/img/chronological.png",width:200})),"Tasks are sorted automatically by chronological order (start date). This is the best visuaization to keep a Gantt Chart ",i.default.createElement("b",null,"organized")," and ",i.default.createElement("b",null,"easy to read")," with a cascade effect. When you drag a task bar around, it's automatically reordered. ",i.default.createElement("br",null),i.default.createElement("br",null)," Use the task list Drag & Drop to re-order tasks that starts on the ",i.default.createElement("b",null,"same day"),", or to reorder ",i.default.createElement("b",null,"unscheduled tasks."),i.default.createElement("br",null),i.default.createElement("br",null),i.default.createElement("b",null,"When you change the vertical position manually")," and it doesn't fit the chronological order, the \"Free edit\" mode is enabled, which won't re-order your tasks ",i.default.createElement("b",null,"while you make adjustments"),'. It\'s not a permanent state, so when finished, click on "Done, sort now".')))}},{key:"react_beta",value:function(){var e=this;return i.default.createElement(l.default,{key:3,width:"700",height:"600",title:"You're in the beta of our new release!",id:"beta-release",closeButton:"true",closeButtonName:"Got it",closeButtonCallback:function(){e.store.uistate.hideHint("react_beta")},successButton:!1,hint:"react_beta",style:{top:"5%"},store:this.store},i.default.createElement("div",{className:"help-tips-white"},i.default.createElement("p",null,"Over the last 4 months, we've been working hard on an important technology change for Instagantt that will let us build faster and better features for our product."),i.default.createElement("p",null,"We'd love to hear your feedback and if you find any bug, please let us know using the chat window located on the bottom right corner of the screen!"),i.default.createElement("b",{style:{fontSize:"18px",marginBottom:"25px",display:"block",marginTop:"20px"}},"What's new"),i.default.createElement("ul",{className:"unstyled"},i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," Estimated Hours sync'd with Asana Custom Fields "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},"If you're using Asana Premium and have an \"Estimated Hours\" custom field, we will sync our Estimated Hours field with your Asana Custom Field when available. If it's not available, we will keep adding them to the task title in brackets.")),i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," Critical Path "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},'We created a Critical Path highlight tool. To activate it, just click on the "Critical Path" icon on the right toolbar.')),i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," Mini Map navigation window "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},"By clicking on the Map icon on the right toolbar, you'll have a small mini map window showing an entire representation of your Gantt Chart for a quick navigation.")),i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," Collapsible right toolbar "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},"The right toolbar could be some times a waste of space if you don't have a large screen. The last button is an arrow that will collapse it to save screen space.")),i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," Autolink selected tasks "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},'Either by multi selecting tasks on the chart, or by selecting multiple tasks on the task list, the multi-selected task details pane has an option for "Autolink". This will create immediately dependencies between all the selected tasks. If there are some tasks without dates, they will be scheduled in a cascade effect.')),i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," Date Range filter "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},"By right-clicking on an empty column on the Gantt Chart, you can create a date range filter. The header will show an expandable box that will filter out all tasks outside the selected date range")),i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," Project Settings shared across users "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},"Before, project settings (like time scale, zoom, or other options under the Options menu) were stored in your browser. So a cache/history cleaning would have removed them. Now they are stored in our backend, and also shared across users of the same project.")),i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," Option to show week numbers instead of week dates "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},"There's a new button on the header calendar (gear icon on the right side) where you can choose to show Week Numbers instead of Week Dates when you're on a \"Week view\"")),i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," Filter users on the Workload View "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},"Now you can filter and choose which users to show on the Workload View. Sometimes there are members with old tasks that you don't want them to appear there!")),i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," Lock dates "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},"When a task has dates, you can lock it. When a task is locked it won't be pushed when dragging connected tasks, and you won't be able to move that task by mistake until you unlock it.")),i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," Improved Spreadsheet Export "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},"We have improved the Spreadsheet export. Now you can choose which columns to include, and you can also choose to include the Gantt Chart on the export.")),i.default.createElement("li",{className:"news-item-container"},i.default.createElement("div",{className:["news-header"].join(" ")},i.default.createElement("i",{className:"fa fa-fw fa-bullhorn"}),i.default.createElement("a",{href:"javascript:void(0)"}," User Interface improvements "),i.default.createElement("span",{className:"label label-warning"},"New!")),i.default.createElement("div",{className:"news-body"},"We've done tens of User Interface improvements. Most of them are little details that will give you much better experience!")))))}},{key:"critical_path",value:function(){var e=this;return i.default.createElement(l.default,{key:3,width:"700",height:"600",title:"Using the Critical Path",closeButton:"true",closeButtonName:"Got it",closeButtonCallback:function(){e.store.uistate.hideHint("critical_path")},successButton:!1,hint:"critical_path",style:{top:"5%"},store:this.store},i.default.createElement("div",{className:"help-tips-white"},i.default.createElement("img",{src:"/img/critical_path.gif"}),i.default.createElement("b",{style:{fontSize:"18px",marginBottom:"25px",display:"block",marginTop:"20px"}},"What is the Critical Path?"),i.default.createElement("p",null,"Critical Path is the chain of tasks that could affect the end date of the project by moving any of them. It starts on the last task of the project and starts the analysis through all of it predecessor tasks."),i.default.createElement("p",null,"When enabling it, scroll to the last task in your project and check the highlighted path.")))}},{key:"draw_dates",value:function(){var e=this;return i.default.createElement(l.default,{key:4,width:"700",height:"600",closeButton:!1,successButton:!0,successButtonEnabled:!0,successButtonName:"Got it",successButtonCallback:function(){e.store.uistate.hideHint("draw_dates"),e.store.uistate.current_modal_options&&e.store.uistate.current_modal_options.ref&&setTimeout((function(){e.store.uistate.current_modal_options.ref.add_task_handler_state="task",e.store.uistate.current_modal_options=!1}),0)},hint:"draw_dates",style:{top:"5%"},store:this.store},i.default.createElement("div",{className:"help-tips-white"},i.default.createElement("b",{style:{fontSize:"28px",marginBottom:"12px",display:"block",marginTop:"0px",color:"#406a8a !important"}},"Drawing dates for tasks"),i.default.createElement("p",null,"When a task does not have dates, just put your mouse on the chart and click & drag on the desired dates"),i.default.createElement("img",{src:"/img/gs-drawdates2.gif"})))}},{key:"render",value:function(){var e=this,t=this.store.uistate.active_hints.filter((function(t){return e[t]})).map((function(t){return e[t]()}));return i.default.createElement("div",null,t)}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=(a=s)&&a.__esModule?a:{default:a},c=(0,n(6).observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n.close=n.close.bind(n),n.hint=n.props.hint,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){$(this.node).modal("show")}},{key:"componentWillUnmount",value:function(){$(this.node).modal("hide")}},{key:"close",value:function(){this.store.uistate.hideHint(this.props.hint)}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{id:this.props.id,className:"modal hide fade "+this.props.className,ref:function(t){return e.node=t},style:o({width:this.props.width+"px",marginLeft:-1*this.props.width/2+"px"},this.props.style)},this.props.title&&l.default.createElement("div",{className:"modal-header"},l.default.createElement("a",{href:"javascript:void(0);",className:"pull-right",onClick:this.props.closeButtonCallback||this.close},l.default.createElement("h3",{style:{color:"#666"}},l.default.createElement("i",{className:"fa fa-times"})," ")),l.default.createElement("h3",null,this.props.title)),l.default.createElement("div",{className:"modal-body",style:{maxHeight:this.props.height+"px"||!1}},this.props.children),l.default.createElement("div",{className:"modal-footer"},this.props.closeButton&&l.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-close btn-flat",onClick:this.props.closeButtonCallback||this.close}," ",this.props.closeButtonName||"Close"," "),this.props.successButton&&l.default.createElement("a",{href:"javascript:void(0)",className:"btn btn-success btn-flat",disabled:!this.props.successButtonEnabled||!1,onClick:this.props.successButtonCallback},this.props.successButtonName||"Continue")))}}]),t}())||r;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=n(6),l=(n(3),c(n(907)));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.store.uistate.connect,t=(!!e&&e.type,!!e&&e.supplier);switch(this.store.uistate.current_modal,t){case"asana":return i.default.createElement(l.default,{store:this.store,connect:e});default:return null}}}]),t}())||r;t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),p=A(f),h=n(6),m=n(3),g=A(n(401)),b=A(n(908)),y=A(n(910)),v=A(n(13));function A(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var E=(0,h.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return w(n,"workspace_id",o,n),w(n,"projects_typeahead",i,n),w(n,"users_typeahead",s,n),w(n,"loading",l,n),w(n,"loading_typeahead_projects",c,n),w(n,"loading_typeahead_users",u,n),n.reactions=[],n.store=n.props.store,n.close=n.close.bind(n),n.selectWorkspace=n.selectWorkspace.bind(n),n.renderProjects=n.renderProjects.bind(n),n.renderGroups=n.renderGroups.bind(n),n.renderUsers=n.renderUsers.bind(n),n.connectProject=n.connectProject.bind(n),n.disconnectProject=n.disconnectProject.bind(n),n.createGroup=n.createGroup.bind(n),n.close=n.close.bind(n),n.removeGroup=n.removeGroup.bind(n),n.searchProjects=n.searchProjects.bind(n),n.searchUsers=n.searchUsers.bind(n),n.debouncedSearch=_.debounce(n.debouncedSearch,300),n.debouncedSearchUsers=_.debounce(n.debouncedSearchUsers,300),n.createTeam=n.createTeam.bind(n),n.width=700,n.height=!1,n.title="Connect Projects",n.workspaces=new g.default(n.store,[],{supplier:"asana"}),n.supplierprojects=new b.default(n.store,[],{supplier:"asana"}),n.supplierusers=new y.default(n.store,[],{supplier:"asana"}),window.sp=n.supplierprojects,window.su=n.supplierusers,n.id="import-projects",n.supplierprojects.filters.type=n.store.uistate.connect.type,n.reactions.push((0,m.reaction)((function(){return n.store.uistate.connect.type}),(function(e){return n.changeType()}))),n.reactions.push((0,m.reaction)((function(){return n.supplierprojects.filters.query}),(function(e){return n.supplierusers.filters.query=e}))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),d(t,[{key:"searchProjects",value:function(e){var t=e.target.value,n=this.workspace_id;this.loading_typeahead_projects=!0,this.debouncedSearch(t,n)}},{key:"searchUsers",value:function(e){var t=e.target.value,n=this.workspace_id;this.loading_typeahead_users=!0,this.debouncedSearchUsers(t,n)}},{key:"debouncedSearch",value:function(e,t){var n=this;this.supplierprojects._fetchTypeahead({query:e,workspace_id:t}).then((function(){n.loading_typeahead_projects=!1}))}},{key:"debouncedSearchUsers",value:function(e,t){var n=this;this.supplierusers._fetchTypeahead({query:e,workspace_id:t}).then((function(){n.loading_typeahead_users=!1}))}},{key:"componentDidMount",value:function(){$(this.node).modal("show"),this.workspaces.fetch()}},{key:"componentWillUnmount",value:function(){$(this.node).modal("hide"),this.reactions.forEach((function(e){return e()}))}},{key:"close",value:function(){this.store.uistate.connect=!1,window.location.hash=""}},{key:"changeType",value:function(){var e=this;this.supplierprojects.filters.type=this.store.uistate.connect.type,"users"==this.store.uistate.connect.type&&(this.loading=!0,this.supplierusers._fetch({workspace_id:this.workspace_id,supplier:"asana"}).then((function(){e.loading=!1})).catch((function(){e.loading=!1,e.users_typeahead=!0}))),"projects"!=this.store.uistate.connect.type&&"groups"!=this.store.uistate.connect.type&&"team"!=this.store.uistate.connect.type||(this.loading=!0,this.supplierprojects._fetch({workspace_id:this.workspace_id,supplier:"asana"}).then((function(){e.loading=!1})).catch((function(){e.loading=!1,e.projects_typeahead=!0})))}},{key:"selectWorkspace",value:function(e){var t=this;this.workspace_id=e,"projects"==this.store.uistate.connect.type&&(this.loading=!0,this.supplierprojects._fetch({workspace_id:e,supplier:"asana"}).then((function(){t.loading=!1})).catch((function(){t.loading=!1,t.projects_typeahead=!0})),this.workspace_id=e),"users"==this.store.uistate.connect.type&&(this.supplierusers._fetch({workspace_id:this.workspace_id,supplier:"asana"}).then((function(){t.loading=!1})).catch((function(){t.loading=!1,t.users_typeahead=!0})),this.workspace_id=e),"groups"==this.store.uistate.connect.type&&this.createGroup(),"team"==this.store.uistate.connect.type&&this.createTeam()}},{key:"createGroup",value:function(){this.store.uistate.current_modal_options={workspace_id:this.workspace_id},this.store.uistate.current_modal="CREATE_GROUP",this.store.uistate.connect=!1}},{key:"createTeam",value:function(){this.store.uistate.current_modal_options={workspace_id:this.workspace_id},this.store.uistate.current_modal="CREATE_TEAM",this.store.uistate.connect=!1}},{key:"connectProject",value:function(e){var t=this,n=e.getJSON();"users"==this.store.uistate.connect.type&&this.users_typeahead&&!e.user_id&&(n.user_id=n.id,n.type="workspace",n.supplier="asana",n.supplier_project_id=this.workspace_id,n.workspace={name:this.workspaces.filtered.filter((function(e){return e.supplier_workspace_id==t.workspace_id}))[0].name,id:this.workspace_id}),delete n.id,"workspace"==n.type&&!n.supplier_project_id&&n.workspace&&(n.supplier_project_id=n.workspace.id),e.connected=!0,this.store.projects.create(n).then((function(t){return e.id=t.id}))}},{key:"disconnectProject",value:function(e){(0,m.toJS)(e),e.connected=!1,this.store.projects.get(e.id).destroy(),e.id=(new Date).getTime()*Math.random(),"group"==e.type&&e.collection.remove(e)}},{key:"removeGroup",value:function(e){var t=this.store.projects.get(e.id);t&&t.destroy(),e.collection.remove([e.id])}},{key:"renderWorkspaces",value:function(){var e=this;return 0==this.workspaces.filtered.length?p.default.createElement("p",{style:{textAlign:"center"}},p.default.createElement("img",{src:"/img/gears.gif"})):p.default.createElement("ul",{className:"projects unstyled"},this.workspaces.filtered.map((function(t){return p.default.createElement("li",{key:t.supplier_workspace_id,className:"workspace",onClick:function(n){return e.selectWorkspace(t.supplier_workspace_id)}},p.default.createElement("div",null,p.default.createElement("div",{className:"pull-right"},p.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})),p.default.createElement("i",{className:"fa fa-building-o fa-fw"}),t.name))})))}},{key:"renderProjects",value:function(){var e=this,t=(0,m.toJS)(this.supplierprojects.filtered),n=[],r=!1;return t.forEach((function(e){var t=!!e.team&&(e.team.id?e.team.id:e.team.gid);e.team&&t!=r&&(n.push({name:e.team.name,id:t,type:"team",supplier_project_id:t}),r=t),e.icon="project"==e.type?"fa-list-alt":"workspace"==e.type?"fa-user":"fa-folder",n.push(e)})),this.loading?p.default.createElement("p",{style:{textAlign:"center"}},p.default.createElement("img",{src:"/img/gears.gif"})):p.default.createElement("div",null,this.projects_typeahead&&p.default.createElement("div",{id:"supplier-projects-typeahead",className:"supplier-typeahead"},p.default.createElement("i",{className:"fa fa-search"}),p.default.createElement("input",{type:"text",style:{border:0,boxShadow:"none",outline:"none"},placeholder:"Search your projects on Asana...",onKeyUp:this.searchProjects})),p.default.createElement("ul",{className:"projects unstyled"},this.loading_typeahead_projects&&p.default.createElement("li",null,p.default.createElement("i",{className:"fa fa-spinner fa-spin"})," Connecting to Asana..."),n.map((function(t){return"team"==t.type?p.default.createElement("li",{key:t.supplier_project_id,className:"team"},p.default.createElement("i",{className:"fa fa-users"})," ",t.name):p.default.createElement("li",{key:t.supplier_project_id},p.default.createElement("div",null,t.connected&&p.default.createElement("button",{className:"pull-right btn btn-danger btn-mini btn-flat",onClick:function(){return e.disconnectProject(t)}},"Disconnect"),!t.connected&&p.default.createElement("button",{className:"pull-right btn btn-success btn-flat btn-mini",onClick:function(){return e.connectProject(t)}},"Connect"),p.default.createElement("i",{className:t.icon+" fa fa-fw"})," ",t.name))}))))}},{key:"renderUsers",value:function(){var e=this,t=(0,m.toJS)(this.supplierusers.filtered);return this.loading?p.default.createElement("p",{style:{textAlign:"center"}},p.default.createElement("img",{src:"/img/gears.gif"})):p.default.createElement("div",null,this.users_typeahead&&p.default.createElement("div",{id:"supplier-users-typeahead",className:"supplier-typeahead"},p.default.createElement("i",{className:"fa fa-search"}),p.default.createElement("input",{type:"text",style:{border:0,boxShadow:"none",outline:"none"},placeholder:"Search your projects on Asana...",onKeyUp:this.searchUsers})),p.default.createElement("ul",{className:"projects unstyled",style:{marginTop:"5px"}},this.loading_typeahead_users&&p.default.createElement("li",null,p.default.createElement("i",{className:"fa fa-spinner fa-spin"})," Connecting to Asana..."),t.map((function(t){return p.default.createElement("li",{key:t.user_id?t.user_id:t.id},p.default.createElement("div",{href:"javascript:void(0)"},t.connected&&p.default.createElement("button",{className:"pull-right btn btn-danger btn-mini btn-flat",onClick:function(){return e.disconnectProject(t)}},"Disconnect"),!t.connected&&p.default.createElement("button",{className:"pull-right btn btn-success btn-flat btn-mini",onClick:function(){return e.connectProject(t)}},"Connect"),p.default.createElement("i",{className:"fa-user fa fa-fw"})," ",t.name))}))))}},{key:"renderGroups",value:function(){var e=this,t=this.store.projects.filtered.filter((function(e){return"group"==e.type}));return t.length>0&&(t=(0,m.toJS)(t)).forEach((function(e){e.icon="team"==e.subtype?"fa-users":"fa-folder"})),p.default.createElement("div",null,p.default.createElement("ul",{className:"projects unstyled",style:{marginTop:"5px"}},t.map((function(t){return p.default.createElement("li",null,p.default.createElement("div",{href:"javascript:void(0)"},p.default.createElement("button",{onClick:function(){return e.removeGroup(t)},className:"pull-right btn btn-danger btn-mini btn-flat"},"Delete"),p.default.createElement("i",{className:t.icon+" fa fa-fw"})," ",t.name,p.default.createElement("div",{className:"muted small-group-list"},"team"!=t.subtype&&t.projects.map((function(e){return e.name})).join(", "),"team"==t.subtype&&t.users.map((function(e){return e.name})).join(", "))))}))),p.default.createElement("button",{className:"btn btn-success btn-flat pull-right",style:{marginTop:"15px"},onClick:this.createGroup},p.default.createElement("i",{className:"fa fa-plus fa-fw"})," Create new group"))}},{key:"renderTeams",value:function(){var e=this,t=(0,m.toJS)(this.supplierprojects.filtered);return t.forEach((function(e){e.icon="team"==e.subtype?"fa-users":"fa-folder"})),0==this.supplierprojects.models.length?p.default.createElement("p",{style:{textAlign:"center"}},p.default.createElement("img",{src:"/img/gears.gif"})):p.default.createElement("div",null,p.default.createElement("ul",{className:"projects unstyled",style:{marginTop:"5px"}},t.map((function(t){return p.default.createElement("li",null,p.default.createElement("div",{href:"javascript:void(0)"},p.default.createElement("button",{onClick:function(){return e.removeGroup(t)},className:"pull-right btn btn-danger btn-mini btn-flat"},"Delete"),p.default.createElement("i",{className:t.icon+" fa fa-fw"})," ",t.name,p.default.createElement("div",{className:"muted small-group-list"},"team"!=t.subtype&&t.projects.map((function(e){return e.name})).join(", "),"team"==t.subtype&&t.users.map((function(e){return e.name})).join(", "))))}))),p.default.createElement("button",{className:"btn btn-success btn-flat pull-right",style:{marginTop:"15px"},onClick:this.createTeam},p.default.createElement("i",{className:"fa fa-plus fa-fw"})," Create new Team Workload"))}},{key:"renderHeader",value:function(){var e=this,t=this.store.uistate.connect;return p.default.createElement("div",{className:"navigation-container"},p.default.createElement("ul",{className:"nav nav-tabs",id:"myTab"},p.default.createElement("li",{style:{padding:0},className:"projects"==t.type?"active":""},p.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){return e.store.uistate.connect.type="projects"}},"Projects")),p.default.createElement("li",{style:{padding:0},className:"groups"==t.type?"active":""},p.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){return e.store.uistate.connect.type="groups"}}," Groups")),p.default.createElement("li",{style:{padding:0},className:"users"==t.type?"active":""},p.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){return e.store.uistate.connect.type="users"}}," Users")),p.default.createElement("li",{style:{padding:0},className:"team"==t.type?"active":""},p.default.createElement("a",{href:"javascript:void(0);",onClick:function(t){return e.store.uistate.connect.type="team"}}," Team Workload")),("projects"==t.type&&!this.projects_typeahead||"users"==t.type&&!this.users_typeahead)&&p.default.createElement("li",{className:"pull-right",style:{padding:"7px 10px"}},p.default.createElement("input",{placeholder:"Search...",type:"text",value:this.supplierprojects.filters.query,onChange:function(t){return e.supplierprojects.filters.query=t.target.value}}))))}},{key:"render",value:function(){var e=this.store.uistate.connect;return p.default.createElement(v.default,{width:this.width+"px",title:"Connect Projects",id:this.id,closeButton:"true",store:this.store,closeButtonCallback:this.close},!this.workspace_id&&this.renderWorkspaces(),this.workspace_id&&this.renderHeader(),this.workspace_id&&"projects"==e.type&&this.renderProjects(),this.workspace_id&&"groups"==e.type&&this.renderGroups(),this.workspace_id&&"team"==e.type&&this.renderTeams(),this.workspace_id&&"users"==e.type&&this.renderUsers())}}]),t}(),o=k(a.prototype,"workspace_id",[m.observable],{enumerable:!0,initializer:function(){return!1}}),i=k(a.prototype,"projects_typeahead",[m.observable],{enumerable:!0,initializer:function(){return!1}}),s=k(a.prototype,"users_typeahead",[m.observable],{enumerable:!0,initializer:function(){return!1}}),l=k(a.prototype,"loading",[m.observable],{enumerable:!0,initializer:function(){return!1}}),c=k(a.prototype,"loading_typeahead_projects",[m.observable],{enumerable:!0,initializer:function(){return!1}}),u=k(a.prototype,"loading_typeahead_users",[m.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),c(n(20))),l=c(n(909));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var d=(r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i,s,l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return o=l,"filters",s=l,(i=a)&&Object.defineProperty(o,"filters",{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(s):void 0}),l.globalstore=e,l.options=r,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"model",value:function(){return l.default}},{key:"url",value:function(){return"/suppliers/"+this.options.supplier+"/projects"}},{key:"prefill",value:function(e){return e.forEach((function(e){e.id||(e.id=e.supplier_project_id)})),e}},{key:"_fetch",value:function(e){e||(e={});var t="/suppliers/"+this.options.supplier+"/workspaces/"+e.workspace_id+"/projects";return e.success||(e.success=function(){}),e.error||(e.error=function(){}),this.fetch({url:t})}},{key:"_fetchTypeahead",value:function(e){e||(e={});var t="/suppliers/"+this.options.supplier+"/workspaces/"+e.workspace_id+"/projects/typeahead?query="+e.query;return e.success||(e.success=function(){}),e.error||(e.error=function(){}),this.fetch({url:t})}},{key:"_filter",value:function(e){var t=e.query||"";return e.groups||e.teams?e.teams?(console.log("Filtering by teams"),this.filter((function(e){return e.get("name").toLowerCase().indexOf(t.toLowerCase())>-1&&"group"==e.get("type")&&"team"==e.get("subtype")}))):this.filter((function(e){return e.get("name").toLowerCase().indexOf(t.toLowerCase())>-1&&"group"==e.get("type")&&"team"!=e.get("subtype")})):this.filter((function(e){return e.get("name").toLowerCase().indexOf(t.toLowerCase())>-1&&"group"!=e.get("type")&&"team"!=e.get("subtype")}))}},{key:"stats",value:function(){return{projects:this.where({type:"project"}).length+this.where({type:"workspace"}).length,groups:this.where({type:"group"}).length}}},{key:"selectProject",value:function(e){this.selected&&(this.selected.selected=!1),e.selected=!0,this.globalstore.snapshots.fetch(),this.globalstore.uistate.last_project_id=this.globalstore.uistate.project_id,this.globalstore.uistate.project_id=e.id}},{key:"sorted",get:function(){return function e(t){var n=t.length;if(n<2)return t;var r=Math.ceil(n/2);return function(e,t){for(var n=[];e.length>0&&t.length>0;)e[0].comparator<t[0].comparator?n.push(e.shift()):n.push(t.shift());return n.concat(e,t)}(e(t.slice(0,r)),e(t.slice(r)))}(this.models.toJSON())}},{key:"filtered",get:function(){var e=this.filters.query||"",t=this.filters.type;return"projects"==t?this.sorted.filter((function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1&&"group"!=t.type&&"team"!=t.subtype})):"team"==t?this.sorted.filter((function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1&&"group"==t.type&&"team"==t.subtype})):this.sorted.filter((function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1&&"group"==t.type&&"team"!=t.subtype}))}},{key:"selected",get:function(){return this.models.filter((function(e){return e.selected}))[0]}}]),t}(),a=u(r.prototype,"filters",[i.observable],{enumerable:!0,initializer:function(){return{query:"",type:"projects"}}}),u(r.prototype,"sorted",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"sorted"),r.prototype),u(r.prototype,"filtered",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),u(r.prototype,"selected",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"selected"),r.prototype),r);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),d=(l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&l.__esModule?l:{default:l};function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return f(n,"name",a,n),f(n,"color",o,n),f(n,"type",i,n),f(n,"connected",s,n),n.sortOrder={project:2,workspace:1,group:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default),c(t,[{key:"defaults",get:function(){return t.defaults()}},{key:"comparator",get:function(){var e=this.team?this.team.name:0,t=this.workspace?this.workspace.id:0;return[this.sortOrder[this.type],t,e,this.name]}}],[{key:"defaults",value:function(){return{name:"",color:"",type:"",supplier_project_id:"",supplier:"",id:"",team:"",workspace:""}}}]),t}(),a=p(r.prototype,"name",[u.observable],{enumerable:!0,initializer:null}),o=p(r.prototype,"color",[u.observable],{enumerable:!0,initializer:null}),i=p(r.prototype,"type",[u.observable],{enumerable:!0,initializer:null}),s=p(r.prototype,"connected",[u.observable],{enumerable:!0,initializer:null}),r);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),c(n(20))),l=c(n(911));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var d=(r=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i,s,l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return o=l,"filters",s=l,(i=a)&&Object.defineProperty(o,"filters",{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(s):void 0}),l.globalstore=e,l.options=r,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"model",value:function(){return l.default}},{key:"url",value:function(){return"/workspaces/:id/users"}},{key:"_fetch",value:function(){var e="/workspaces/"+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).workspace_id+"/users";return this.fetch({url:e})}},{key:"_fetchTypeahead",value:function(e){e||(e={});var t="/suppliers/"+this.options.supplier+"/workspaces/"+e.workspace_id+"/users/typeahead?query="+e.query;return e.success||(e.success=function(){}),e.error||(e.error=function(){}),this.fetch({url:t})}},{key:"prefill",value:function(e){return e.forEach((function(e){e.id||(e.id=!!e.user_id&&e.user_id)})),e}},{key:"filtered",get:function(){var e=this.filters.query||"";return this.models.filter((function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1}))}}]),t}(),a=u(r.prototype,"filters",[i.observable],{enumerable:!0,initializer:function(){return{query:""}}}),u(r.prototype,"filtered",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),r);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),c=(i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&i.__esModule?i:{default:i};function u(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function d(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var f=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u(n,"name",a,n),u(n,"connected",o,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),s(t,[{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{name:"",color:"",type:"",supplier:"",id:"",user_id:"",workspace:""}}}]),t}(),a=d(r.prototype,"name",[l.observable],{enumerable:!0,initializer:null}),o=d(r.prototype,"connected",[l.observable],{enumerable:!0,initializer:null}),r);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(56);var u=n(0),d=y(u),f=n(3),p=n(6),h=y(n(913)),m=y(n(914)),_=y(n(915)),g=y(n(916)),b=y(n(917));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function A(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var w=(0,p.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return v(n,"creatingStatus",o,n),v(n,"creatingErrors",i,n),v(n,"loading_purchase_yearly",s,n),v(n,"loading_purchase_monthly",l,n),n.store=n.props.store,n.public_stripe_key="pk_live_uYwf838Tpa41dJ2x4nPUdSeZ","applocal1.instagantt.com"!=window.location.hostname&&"localhost"!=window.location.hostname||(n.public_stripe_key="pk_test_B0IlqFQVbczXJZFbhoIWh4zF"),n.buyStripe=n.buyStripe.bind(n),n.plan=n.plan.bind(n),setTimeout((function(){n.fetchSubscriptions()}),27e5),(0,f.reaction)((function(){return n.store.workbooks.selected}),(function(){return n.fetchSubscriptions()})),(0,f.reaction)((function(){return n.store.subscriptions.models}),(function(){n.checkSubscriptions()})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),c(t,[{key:"componentWillMount",value:function(){this.fetchSubscriptions()}},{key:"fetchSubscriptions",value:function(){var e=this;console.log("Fetching subscriptions"),this.store.subscriptions.fetch().then((function(){e.checkSubscriptions()}))}},{key:"checkSubscriptions",value:function(){if("standalone"==this.store.user.type){console.log("Running Check Subscriptions");var e=this.store.workbooks.selected,t=this.store.subscriptions.getByWorkbook(e);if(t)return this.store.uistate.free_trial_banner=!1,$(".billing-team-link").show(),t.suspended?void this.enableSuspended():(this.pushData(t),t.getMemberByEmail(this.store.user.email)?void 0:void this.notAMember());this.isTrialOver()&&(0==this.store.subscriptions.active().length&&this.upgradeModal(),0!=this.store.subscriptions.active().length&&this.upgradeWorkbook())}}},{key:"upgradeModal",value:function(){this.store.uistate.subscription_modal="CREATE_SUBSCRIPTION"}},{key:"upgradeWorkbook",value:function(){console.log("Rising Upgrade Workbook"),this.store.uistate.subscription_modal&&""!=this.store.uistate.subscription_modal||(this.store.uistate.subscription_modal="UPGRADE_WORKBOOK")}},{key:"notAMember",value:function(){console.log("Rising Not a Member Modal"),this.store.uistate.subscription_modal="NOT_A_MEMBER"}},{key:"isTrialOver",value:function(){return this.store.user.isTrialOver()}},{key:"enableSuspended",value:function(){var e=this.store.workbooks.selected;this.store.subscriptions.getByWorkbook(e),this.store.uistate.subscription_modal="SUSPENDED"}},{key:"plan",value:function(e,t){var n=0,r="";return"monthly"==(t=t||"monthly")?1==e?(n=7,r="standalone-single-monthly"):(n=5*e,r="standalone-team-monthly"):1==e?(n=70,r="standalone-single-yearly"):(n=5*e*10,r="standalone-team-yearly"),{amount:n,plan_name:r}}},{key:"pushData",value:function(e){$crisp&&$crisp.push(["set","session:segments",[["paid-account"]]]),"undefined"!=typeof HelpCrunch&&HelpCrunch("updateUserData",e)}},{key:"buyStripe",value:function(e,t,n,r,a,o){try{this.store.uistate.trackAnalytics("Checkout Standalone Intention Purchase Button Clicked")}catch(e){}o=o||function(){};var i=a.name,s=this.plan(e,t);s.amount,fetch("/subscriptions/intent",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({plan:s.plan_name,quantity:e,workbook_ids:n,members:r,name:i})}).then((function(e){e.json().then((function(e){window.location.href=e.url}))}))}},{key:"render",value:function(){var e=this;return d.default.createElement("div",null,("CREATE_SUBSCRIPTION"==this.store.uistate.subscription_modal||"UPGRADE_WORKBOOK_CREATE_SUBSCRIPTION"==this.store.uistate.subscription_modal||"UPGRADE_NOW"==this.store.uistate.subscription_modal)&&d.default.createElement(h.default,{store:this.store,creatingStatus:this.creatingStatus,creatingErrors:this.creatingErrors,calculatePlan:this.plan,buyStripe:this.buyStripe,loading_purchase_yearly:this.loading_purchase_yearly,loading_purchase_monthly:this.loading_purchase_monthly,changeLoading:function(t,n){return e[t]=n}}),"UPGRADE_WORKBOOK"==this.store.uistate.subscription_modal&&d.default.createElement(m.default,{store:this.store}),"MANAGE_SUBSCRIPTIONS"==this.store.uistate.subscription_modal&&d.default.createElement(b.default,{store:this.store,buyStripe:this.buyStripe}),"SUSPENDED"==this.store.uistate.subscription_modal&&d.default.createElement(_.default,{store:this.store,buyStripe:this.buyStripe}),"NOT_A_MEMBER"==this.store.uistate.subscription_modal&&d.default.createElement(g.default,{store:this.store,buyStripe:this.buyStripe}))}}]),t}(),o=A(a.prototype,"creatingStatus",[f.observable],{enumerable:!0,initializer:function(){return""}}),i=A(a.prototype,"creatingErrors",[f.observable],{enumerable:!0,initializer:function(){return""}}),s=A(a.prototype,"loading_purchase_yearly",[f.observable],{enumerable:!0,initializer:function(){return!1}}),l=A(a.prototype,"loading_purchase_monthly",[f.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=m(l),u=n(6),d=n(3),f=(m(n(13)),m(n(67))),p=m(n(177)),h=n(257);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(0,u.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.close=i.close.bind(i),"UPGRADE_WORKBOOK_CREATE_SUBSCRIPTION"==i.store.uistate.subscription_modal&&(i.options.step=2),"UPGRADE_NOW"==i.store.uistate.subscription_modal&&(i.options.step=0),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentDidMount",value:function(){$(this.component).modal({backdrop:"static",keyboard:!1}),this.populateWorkbooks()}},{key:"close",value:function(){$(this.component).modal("hide"),this.store.uistate.subscription_modal=!1,window.location.reload()}},{key:"populateWorkbooks",value:function(){var e=this;this.store.workbooks.filtered.forEach((function(t){if(!e.store.subscriptions.getByWorkbook(t)){e.options.loading++;var n=new f.default(e.store,[],{workbook_id:t.id});n.fetch().then((function(){var r,a;e.options.workbooks[t.id]={id:t.id,name:t.name,resources:n.members.map((function(e){return{name:e.name,email:e.email}}))},(0,d.extendObservable)(e.options.checkedWorkbooks,(r={},!0,(a=t.id)in r?Object.defineProperty(r,a,{value:!0,enumerable:!0,configurable:!0,writable:!0}):r[a]=!0,r)),e.options.loading--}))}}))}},{key:"buttons",value:function(){var e=this,t=this.options.step-1;return 1==t&&"UPGRADE_NOW"==this.store.uistate.subscription_modal&&(t=0),2==this.options.step?c.default.createElement("div",null,c.default.createElement("div",{className:"pull-left"},c.default.createElement("button",{disabled:!(!this.props.loading_purchase_monthly&&!this.props.loading_purchase_yearly),className:"btn btn-flat",onClick:function(){return e.options.step=t}},"Back")),c.default.createElement("div",{className:"pull-right"},c.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){e.checkedWorkbooksCount()>0?e.options.step=e.options.step+1:alert("At least one workbook needs to be selected")}},"Continue"))):c.default.createElement("div",null,this.options.step>1&&c.default.createElement("div",{className:"pull-left"},c.default.createElement("button",{disabled:!(!this.props.loading_purchase_monthly&&!this.props.loading_purchase_yearly),className:"btn btn-flat",onClick:function(){return e.options.step=t}},"Back")),this.options.step<3&&c.default.createElement("div",{className:"pull-right"},c.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){return e.options.step=e.options.step+1}},"Continue")))}},{key:"step0",value:function(){var e=this;return this.store.uistate.trackAnalytics("Checkout Standalone Intention"),c.default.createElement(h.CSSTransition,{key:1,timeout:500,classNames:"fade"},c.default.createElement("div",null,c.default.createElement("h1",{className:p.default.thankyou_header},c.default.createElement("div",{className:"pull-right",style:{marginRight:"15px",cursor:"pointer",fontSize:"18px"}},c.default.createElement("i",{onClick:function(){return e.close()},className:"fa fa-times"})),"Upgrade your account"),c.default.createElement("div",{className:[p.default.step,p.default.step1].join(" "),style:{top:"100px !important",textAlign:"center"}},c.default.createElement("p",null,"Upgrade to our Instagantt Premium plans to unlock all the power behind Gantt Charts"),c.default.createElement("div",{className:p.default.buy_options},c.default.createElement("div",{className:p.default.buy_one_option},c.default.createElement("h3",null,c.default.createElement("b",null,"For 1 user")),c.default.createElement("p",null,c.default.createElement("span",{style:{fontSize:"24px"}},"$",this.props.calculatePlan(1,"monthly").amount),"/month")),c.default.createElement("div",{className:p.default.buy_one_option}),c.default.createElement("div",{className:p.default.buy_one_option},c.default.createElement("h3",null,c.default.createElement("b",null,"For multiple users")),c.default.createElement("p",null,c.default.createElement("span",{style:{fontSize:"24px"}},"$",this.props.calculatePlan(2,"monthly").amount/2),"/user/month"))))))}},{key:"buttons_step0",value:function(){var e=this;return c.default.createElement("div",null,0===this.options.loading&&c.default.createElement("div",null,c.default.createElement("div",{className:"pull-right"},c.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){e.options.step=2}},"Continue"))))}},{key:"trialExtensionQualifier",value:function(){var e=this.store.workbooks.models.length,t=this.store.workbooks.selected.projects.length;return this.store.tasks.models.length,!(e>1||t>2||this.store.tasks.models.length>20||this.store.user.free_trial_days||(this.store.uistate.trackAnalytics("Checkout Standalone Trial Extension Offered"),0))}},{key:"extendTrial",value:function(){var e=this;this.options.extend_trial_loader=!0,this.store.uistate.trackAnalytics("Checkout Standalone Trial Extension Accepted"),fetch("/extend_trial?origin=app",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(t){e.options.extend_trial_loader=!1,e.options.trial_extended=!0,setTimeout((function(){window.location.reload()}),1e3)}))}},{key:"step1",value:function(){var e=this,t=this.trialExtensionQualifier();return this.store.uistate.trackAnalytics("Checkout Standalone Trial Expired Modal"),c.default.createElement(h.CSSTransition,{key:1,timeout:500,classNames:"fade"},c.default.createElement("div",null,c.default.createElement("h1",{className:p.default.thankyou_header},"Thank you for trying Instagantt ",c.default.createElement("i",{className:"fa fa-heart"})),c.default.createElement("div",{className:[p.default.step,p.default.step1].join(" "),style:{textAlign:"center"}},c.default.createElement("h2",null,"Your free trial has expired"),c.default.createElement("p",null,"Please upgrade to our Instagantt Premium plans to unlock all the power behind Instagantt"),c.default.createElement("div",{className:p.default.buy_options},c.default.createElement("div",{className:p.default.buy_one_option},c.default.createElement("h3",null,c.default.createElement("b",null,"For 1 user")),c.default.createElement("p",null,c.default.createElement("span",{style:{fontSize:"24px"}},"$",this.props.calculatePlan(1,"monthly").amount),"/month")),c.default.createElement("div",{className:[p.default.buy_one_option,p.default.buy_one_option_empty].join(" ")}),c.default.createElement("div",{className:p.default.buy_one_option},c.default.createElement("h3",null,c.default.createElement("b",null,"For multiple users")),c.default.createElement("p",null,c.default.createElement("span",{style:{fontSize:"24px"}},"$",this.props.calculatePlan(2,"monthly").amount/2),"/user/month"))),t&&!this.options.trial_extended&&c.default.createElement("div",{style:{marginTop:"20px",textAlign:"center"}},"Need more time? ",c.default.createElement("br",null),c.default.createElement("button",{className:"btn btn-flat",onClick:function(){return e.extendTrial()},disabled:this.options.extend_trial_loader,style:{marginTop:"10px"}},this.options.extend_trial_loader&&c.default.createElement("i",{className:"fa fa-spinner fa-spin"}),!this.options.extend_trial_loader&&"Extend your trial for 3 more days")),this.options.trial_extended&&c.default.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},c.default.createElement("span",null,"Your trial has been extended for 3 days!")))))}},{key:"buttons_step1",value:function(){return this.buttons()}},{key:"toggleAllWorkbooks",value:function(){var e=this,t=!0;Object.keys(this.options.workbooks).forEach((function(n){e.options.checkedWorkbooks[n]||(t=!1)})),t?Object.keys(this.options.workbooks).forEach((function(t){e.options.checkedWorkbooks[t]=!1})):Object.keys(this.options.workbooks).forEach((function(t){e.options.checkedWorkbooks[t]=!0}))}},{key:"checkedWorkbooksCount",value:function(){var e=this,t=0;return Object.entries(this.options.checkedWorkbooks).forEach((function(n){var r=i(n,2),a=r[0];r[1],e.options.checkedWorkbooks[a]&&t++})),t}},{key:"step2",value:function(){var e=this;return c.default.createElement(h.CSSTransition,{key:1,timeout:500,classNames:"fade"},c.default.createElement("div",{className:p.default.step},c.default.createElement("h2",null,"Add workbooks"),c.default.createElement("div",null,"Select the workbooks you want to associate with your subscription"),0===this.options.loading&&c.default.createElement("div",{className:p.default.options_container},c.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.toggleAllWorkbooks()},style:{marginBottom:"10px",display:"block"}},"Select all"),c.default.createElement("table",{className:"table not-mobilize"},Object.keys(this.options.workbooks).map((function(t){return c.default.createElement("tr",null,c.default.createElement("td",{style:{width:"30px"}},c.default.createElement("input",{type:"checkbox",className:p.default.workbook_select_input,onChange:function(){return e.options.checkedWorkbooks[t]=!e.options.checkedWorkbooks[t]},checked:e.options.checkedWorkbooks[t]})),c.default.createElement("td",null,c.default.createElement("div",{key:"workbook-select-"+t,className:p.default.workbook_select},e.options.workbooks[t].name)))})))),0!==this.options.loading&&c.default.createElement("div",null,"Loading...")))}},{key:"buttons_step2",value:function(){return c.default.createElement("div",null,0===this.options.loading&&this.buttons())}},{key:"step3",value:function(){var e=this;return this.store.uistate.trackAnalytics("Checkout Standalone Workbooks Picked"),c.default.createElement(h.CSSTransition,{key:1,timeout:500,classNames:"fade"},c.default.createElement("div",{className:p.default.step},c.default.createElement("h2",null,"Company name"),c.default.createElement("div",null,"Please set a name for this subscription. It can be the company name, or any other name that will help you identify it in the future"),c.default.createElement("input",{placeholder:"ACME Inc.",autoFocus:!0,type:"text",value:this.options.name,onChange:function(t){return e.options.name=t.target.value},style:{width:"87%",marginBottom:"20px",marginTop:"20px"}}),0!==this.options.loading&&c.default.createElement("div",null,"Loading...")))}},{key:"buttons_step3",value:function(){var e=this;return c.default.createElement("div",null,0===this.options.loading&&c.default.createElement("div",null,c.default.createElement("div",{className:"pull-left"},c.default.createElement("button",{className:"btn btn-flat",onClick:function(){return e.options.step=e.options.step-1}},"Back")),c.default.createElement("div",{className:"pull-right"},c.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){""!=e.options.name?e.options.step=e.options.step+1:alert("Name can't be empty")}},"Continue"))))}},{key:"decreaseUsers",value:function(){this.store.uistate.trackAnalytics("Checkout Standalone Decreasing Users"),this.options.additional_users>0&&this.options.additional_users--}},{key:"increaseUsers",value:function(){this.store.uistate.trackAnalytics("Checkout Standalone Increasing Users"),this.options.additional_users++}},{key:"getCheckedWorkbooks",value:function(){var e=this;return Object.keys(this.options.checkedWorkbooks).filter((function(t){return e.options.checkedWorkbooks[t]}))}},{key:"step4",value:function(){var e=this;return this.store.uistate.trackAnalytics("Checkout Standalone Company name set"),c.default.createElement(h.CSSTransition,{key:1,timeout:500,classNames:"fade"},c.default.createElement("div",{className:p.default.step},"pending"==this.props.creatingStatus&&c.default.createElement("div",null,"Loading... ",c.default.createElement("i",{className:"fa fa-spin fa-spinner"})),"pending"!=this.props.creatingStatus&&c.default.createElement("div",null,c.default.createElement("h2",null,"Purchase"),c.default.createElement("p",{style:{textAlign:"center"}},c.default.createElement("a",{className:p.default.licenses_control,href:"javascript:void(0)",onClick:function(){return e.decreaseUsers()}},"-"),c.default.createElement("span",{className:p.default.licenses_amount},this.total_users+this.options.additional_users),c.default.createElement("a",{href:"javascript:void(0)",className:p.default.licenses_control,onClick:function(){return e.increaseUsers()}},"+")," ",c.default.createElement("br",null),c.default.createElement("span",{style:{fontSize:"18px"}},"Licenses")),c.default.createElement("p",{style:{textAlign:"center"}},"Based on the selected workbooks, the total unique users are: ",parseInt(this.total_users+this.options.additional_users)),c.default.createElement("div",{className:p.default.buy_options,style:{marginBottom:"20px"}},c.default.createElement("div",{className:p.default.buy_one_option},c.default.createElement("h3",null,"Monthly"),c.default.createElement("p",null,c.default.createElement("span",{style:{fontSize:"24px"}},"$",this.perMonth.amount),"/month"),c.default.createElement("button",{className:"btn btn-flat btn-success",disabled:!(!this.props.loading_purchase_monthly&&!this.props.loading_purchase_yearly),onClick:function(){e.props.changeLoading("loading_purchase_monthly",!0),e.props.buyStripe(e.total_users+e.options.additional_users,"monthly",e.getCheckedWorkbooks(),e.members,e.options,(function(){return e.options.step=5}))}},this.props.loading_purchase_monthly?c.default.createElement("i",{className:"fa fa-spin fa-spinner"}):"Purchase")),c.default.createElement("div",{className:p.default.buy_one_option}),c.default.createElement("div",{className:p.default.buy_one_option},c.default.createElement("h3",null,"Yearly"),c.default.createElement("p",null,c.default.createElement("span",{style:{fontSize:"24px"}},"$",this.perYear.amount),"/year"),c.default.createElement("button",{className:"btn btn-flat btn-success",disabled:!(!this.props.loading_purchase_monthly&&!this.props.loading_purchase_yearly),onClick:function(){e.props.changeLoading("loading_purchase_yearly",!0),e.props.buyStripe(e.total_users+e.options.additional_users,"yearly",e.getCheckedWorkbooks(),e.members,e.options,(function(){return e.options.step=5}))}},this.props.loading_purchase_yearly?c.default.createElement("i",{className:"fa fa-spin fa-spinner"}):"Purchase"))))))}},{key:"buttons_step4",value:function(){return c.default.createElement("div",null,this.buttons())}},{key:"step5",value:function(){var e=this;return c.default.createElement("div",null,"pending"==this.props.creatingStatus&&c.default.createElement("div",null,"Loading... ",c.default.createElement("i",{className:"fa fa-spin fa-spinner"})),"ok"==this.props.creatingStatus&&c.default.createElement("div",null,c.default.createElement("h2",null,"Congratulations! Your subscription has been created!"),c.default.createElement("div",{style:{height:"50px"}}),c.default.createElement("p",{style:{textAlign:"center"}},c.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){e.close()}},"Finish"))),"error"==this.props.creatingStatus&&c.default.createElement("div",null,c.default.createElement("h2",null,"Oops"),c.default.createElement("div",null,"There was an error processing your payment. Please try again or contact support"),this.buttons()))}},{key:"buttons_step5",value:function(){return null}},{key:"render",value:function(){var e=this,t={width:"700px",marginLeft:"-350px",top:"5%"};return this.store.uistate.is_mobile&&(t={width:"100%",marginLeft:0,left:0,display:"block",top:0,bottom:0,borderRadius:"0"}),c.default.createElement("div",{className:["modal mobile",this.store.uistate.is_mobile?p.default.mobile:""].join(" "),ref:function(t){return e.component=t},style:t},c.default.createElement("div",{className:"modal-body",style:{position:"relative",height:"410px"}},c.default.createElement(h.TransitionGroup,null,this["step"+this.options.step]())),c.default.createElement("div",{className:"modal-footer"},this["buttons_step"+this.options.step]()))}},{key:"total_users",get:function(){var e=this,t={};return Object.keys(this.options.checkedWorkbooks).map((function(n){e.options.checkedWorkbooks[n]&&e.options.workbooks[n].resources.forEach((function(e){t[e.email]=1}))})),Object.keys(t).length}},{key:"members",get:function(){var e=this,t={},n=[];return Object.keys(this.options.checkedWorkbooks).map((function(r){e.options.checkedWorkbooks[r]&&e.options.workbooks[r].resources.forEach((function(e){t[e.email]||(t[e.email]=1,n.push(e))}))})),n}},{key:"perMonth",get:function(){return this.props.calculatePlan(this.total_users+this.options.additional_users,"monthly")}},{key:"perYear",get:function(){return this.props.calculatePlan(this.total_users+this.options.additional_users,"yearly")}}]),t}(),o=_(a.prototype,"options",[d.observable],{enumerable:!0,initializer:function(){return{step:1,loading:0,workbooks:[],checkedWorkbooks:{},name:"",additional_users:0,extend_trial_loader:!1,trial_extended:!1}}}),_(a.prototype,"total_users",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"total_users"),a.prototype),_(a.prototype,"members",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"members"),a.prototype),_(a.prototype,"perMonth",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"perMonth"),a.prototype),_(a.prototype,"perYear",[d.computed],Object.getOwnPropertyDescriptor(a.prototype,"perYear"),a.prototype),r=a))||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=h(s),c=n(6),u=n(3),d=(h(n(13)),h(n(67))),f=h(n(177)),p=n(257);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var _=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.close=i.close.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){$(this.component).modal({backdrop:"static"}),this.populateWorkbooks()}},{key:"close",value:function(){this.store.uistate.subscription_modal=!1}},{key:"populateWorkbooks",value:function(){var e=this;this.options.loading++,this.workbook_resources=new d.default(this.store,[],{workbook_id:this.store.workbooks.selected.id}),this.workbook_resources.fetch().then((function(){e.options.loading--}))}},{key:"buttons",value:function(){var e=this;return l.default.createElement("div",{className:f.default.footer},this.options.step>1&&l.default.createElement("div",{className:"pull-left"},l.default.createElement("button",{className:"btn btn-flat",onClick:function(){return e.options.step=e.options.step-1}},"Back")),this.options.step<3&&l.default.createElement("div",{className:"pull-right"},l.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){return e.options.step=e.options.step+1}},"Continue")))}},{key:"not_eligible",value:function(e){var t=this;return l.default.createElement("div",null,"Not eligible. ",l.default.createElement("a",{href:"javascript:void(0)",onClick:function(){t.options.step=6,t.options.not_eligible_subscription=e}},"Why?"))}},{key:"step1",value:function(){return l.default.createElement(p.CSSTransition,{key:1,timeout:500,classNames:"fade"},l.default.createElement("div",null,l.default.createElement("div",{className:f.default.step},l.default.createElement("h2",null,"You workbook needs to be upgraded"),"This workbook does not belong to any subscription yet. Please add this workbook to any of your current subscriptions or purchase a new one.",l.default.createElement("br",null),l.default.createElement("br",null))))}},{key:"buttons_step1",value:function(){return l.default.createElement("div",null,this.buttons())}},{key:"step2",value:function(){var e=this;return l.default.createElement(p.CSSTransition,{key:2,timeout:500,classNames:"fade"},l.default.createElement("div",null,l.default.createElement("div",{className:f.default.step},l.default.createElement("h2",null,"Subscription"),l.default.createElement("div",null,"Add your workbook to an existing subscription or create a new one"),0===this.options.loading&&l.default.createElement("table",{className:"table",style:{marginTop:"15px"}},l.default.createElement("thead",null,l.default.createElement("th",null),l.default.createElement("th",null,"Subscription"),l.default.createElement("th",null,"Owner"),l.default.createElement("th",null,"Status")),l.default.createElement("tbody",null,this.store.subscriptions.models.filter((function(e){return e.status&&!e.suspended})).map((function(t){return l.default.createElement("tr",null,l.default.createElement("td",null,l.default.createElement("input",{type:"radio",value:t.id,checked:t.id==e.options.selected_option,onClick:function(){return e.options.selected_option=t.id},disabled:t.owner._id!=e.store.user.id&&!t.is_eligible_for_workbook(e.store.workbooks.selected,e.workbook_resources.members)})),l.default.createElement("td",null,t.name),l.default.createElement("td",null,t.owner.name),l.default.createElement("td",null,t.owner._id==e.store.user.id||t.is_eligible_for_workbook(e.store.workbooks.selected,e.workbook_resources.members)?"Eligible":e.not_eligible(t)))})),l.default.createElement("tr",null,l.default.createElement("td",null,l.default.createElement("input",{type:"radio",value:"NEW",checked:"NEW"==this.options.selected_option,onClick:function(){return e.options.selected_option="NEW"}})),l.default.createElement("td",null,"New subscription"),l.default.createElement("td",null),l.default.createElement("td",null)))),1===this.options.loading&&l.default.createElement("div",null,"Loading..."))))}},{key:"buttons_step2",value:function(){var e=this;return l.default.createElement("div",null,0===this.options.loading&&l.default.createElement("div",{className:f.default.footer},l.default.createElement("div",{className:"pull-left"},l.default.createElement("button",{className:"btn btn-flat",onClick:function(){return e.options.step=e.options.step-1}},"Back")),l.default.createElement("div",{className:"pull-right"},l.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){return e.validateStep2()}},"Continue"))))}},{key:"validateStep2",value:function(){var e=this;if(this.options.selected_option||alert("Please select an option"),"NEW"==this.options.selected_option)return this.store.uistate.subscription_modal="UPGRADE_WORKBOOK_CREATE_SUBSCRIPTION",void $(this.component).modal("hide");var t=this.store.subscriptions.get(this.options.selected_option);(t.owner._id==this.store.user.id||t.is_eligible_for_workbook(this.store.workbooks.selected,this.workbook_resources.members))&&(t.missingMembers(this.store.workbooks.selected,this.workbook_resources.members).length>t.available_licenses()?this.options.step=3:0==t.missingMembers(this.store.workbooks.selected,this.workbook_resources.members).length?(this.options.loading++,this.options.step=4,t.addWorkbook(this.store.workbooks.selected).then((function(t){e.options.loading--}))):(this.options.loading++,this.options.step=4,t.addMembers(t.missingMembers(this.store.workbooks.selected,this.workbook_resources.members)).then((function(n){t.addWorkbook(e.store.workbooks.selected).then((function(t){e.options.loading--}))})).catch((function(t){e.options.loading--,e.options.step=5}))))}},{key:"step3",value:function(){var e=this.store.subscriptions.get(this.options.selected_option),t=e.missingMembers(this.store.workbooks.selected,this.workbook_resources.members);return l.default.createElement(p.CSSTransition,{key:3,timeout:500,classNames:"fade"},l.default.createElement("div",null,l.default.createElement("div",{className:f.default.step},l.default.createElement("h2",null,"Your current plan will be increased"),l.default.createElement("p",null,"Based on your current workbooks Users, you need to increase the amount of licenses in your plan in."),l.default.createElement("h3",null," ",l.default.createElement("b",null,t.length-e.available_licenses())," license(s) will be added."),l.default.createElement("p",null,"month"==e.frequency&&l.default.createElement("div",null,"Each additional license costs $",this.options.multi_price_month,"/month"),"month"!=e.frequency&&l.default.createElement("div",null,"Each additional user costs $",this.options.multi_price_year,"/year")))))}},{key:"buttons_step3",value:function(){var e=this;return l.default.createElement("div",null,l.default.createElement("div",{className:f.default.footer},l.default.createElement("div",{className:"pull-left"},l.default.createElement("button",{className:"btn btn-flat",onClick:function(){return e.options.step=2}},"Back")),l.default.createElement("div",{className:"pull-right"},l.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){return e.validateStep3()}},"Continue"))))}},{key:"validateStep3",value:function(){var e=this,t=this.store.subscriptions.get(this.options.selected_option),n=t.missingMembers(this.store.workbooks.selected,this.workbook_resources.members);this.options.loading++,this.options.step=4,t.changeQuantity(t.max_users+n.length).then((function(n){t.addMembers(t.missingMembers(e.store.workbooks.selected,e.workbook_resources.members)).then((function(n){t.addWorkbook(e.store.workbooks.selected).then((function(t){e.options.loading--,e.store.subscriptions.fetch()}))})).catch((function(t){e.options.loading--,e.options.step=5}))})).catch((function(t){e.options.loading--,e.options.step=5}))}},{key:"step4",value:function(){return l.default.createElement(p.CSSTransition,{key:4,timeout:500,classNames:"fade"},l.default.createElement("div",{className:f.default.step},l.default.createElement("div",null,this.options.loading>0&&l.default.createElement("div",null,"Loading... ",l.default.createElement("i",{className:"fa fa-spin fa-spinner"})),0==this.options.loading&&l.default.createElement("div",null,l.default.createElement("h2",null,"Congratulations!"),l.default.createElement("p",null,"Your workbook has been upgraded!")))))}},{key:"buttons_step4",value:function(){var e=this;return l.default.createElement("div",null,0==this.options.loading&&l.default.createElement("div",{className:f.default.footer},l.default.createElement("button",{className:"btn btn-flat btn-info pull-right",onClick:function(){e.store.uistate.subscription_modal=!1,$(e.component).modal("hide")}},"Finish")))}},{key:"step5",value:function(){return l.default.createElement(p.CSSTransition,{key:5,timeout:500,classNames:"fade"},l.default.createElement("div",{className:f.default.step},l.default.createElement("div",null,l.default.createElement("h2",null,"An error ocurred"),l.default.createElement("p",null,"Something unexpected happened. Please contact support for help"))))}},{key:"buttons_step5",value:function(){return null}},{key:"step6",value:function(){return l.default.createElement(p.CSSTransition,{key:4,timeout:500,classNames:"fade"},l.default.createElement("div",{className:f.default.step},l.default.createElement("div",null,l.default.createElement("h2",null,"Why this subscription is not eligible?"),l.default.createElement("p",null,"You're not the owner of this subscription and your workbook has members that doesn't have a License on this subscription."),l.default.createElement("p",null,"Adding this members to the subscription will increase the cost."),l.default.createElement("p",null,"Please contact the Subscription Owner and ask him for any of these two alternatives:"),l.default.createElement("ul",null,l.default.createElement("li",null," Ask him to add the missing members to the subscription, so this subscription becomes Eligible "),l.default.createElement("li",null," Or ask him to perform the Workbook Upgrade process himself. If he's not yet part of this workbook, you should invite him before.")),l.default.createElement("p",null,"Missing members"),l.default.createElement("ul",null,this.options.not_eligible_subscription.missingMembers(this.store.workbooks.selected,this.workbook_resources.members).map((function(e){return l.default.createElement("li",null,e.email)}))))))}},{key:"buttons_step6",value:function(){var e=this;return l.default.createElement("div",null,l.default.createElement("div",{className:f.default.footer},l.default.createElement("button",{className:"btn btn-flat pull-right",onClick:function(){e.options.step=2}},"Back")))}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"modal",ref:function(t){return e.component=t},style:{width:"700px",marginLeft:"-350px"}},l.default.createElement("div",{className:"modal-body",style:{position:"relative",height:"330px"}},l.default.createElement(p.TransitionGroup,null,this["step"+this.options.step]())),l.default.createElement("div",{className:"modal-footer"},this["buttons_step"+this.options.step]()))}},{key:"total_users",get:function(){var e=this,t={};return Object.keys(this.options.checkedWorkbooks).map((function(n){e.options.checkedWorkbooks[n]&&e.options.workbooks[n].resources.forEach((function(e){t[e]=1}))})),Object.keys(t).length}}]),t}(),o=m(a.prototype,"options",[u.observable],{enumerable:!0,initializer:function(){return{step:1,loading:0,workbooks:[],selected_option:!1,multi_price_month:5,multi_price_year:5,single_price_month:7,single_price_year:70,not_eligible_subscription:!1}}}),m(a.prototype,"total_users",[u.computed],Object.getOwnPropertyDescriptor(a.prototype,"total_users"),a.prototype),r=a))||r;t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=(f(n(13)),f(n(67)),f(n(177)));function f(e){return e&&e.__esModule?e:{default:e}}var p,h,m,_,g,b=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.close=i.close.bind(i),i.buyStripe=i.props.buyStripe,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){$(this.component).modal({backdrop:"static"})}},{key:"close",value:function(){$(this.component).modal("hide"),window.location.hash="",this.store.uistate.subscription_modal=!1}},{key:"reactivate",value:function(){var e=this,t=this.store.workbooks.selected,n=this.store.subscriptions.getByWorkbook(t),r="month"==n.frequency?"monthly":"yearly";this.options.reactivating=!0,this.buyStripe(n.max_users,r,n.workbooks,n.members,{name:n.name},(function(t){return fetch("/subscriptions/"+n.id+"/cancel",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(r){t.json().then((function(t){e.store.subscriptions.fetch().then((function(){e.options.reactivating=!1,e.options.reactivated=!0,n.status=!1,n.suspended=!1}))}))}))}))}},{key:"render",value:function(){var e=this,t=this.store.workbooks.selected,n=this.store.subscriptions.getByWorkbook(t),r=!1;return n.owner._id==this.store.user.id&&(r=!0),l.default.createElement("div",{className:"modal",ref:function(t){return e.component=t},style:{width:"700px",marginLeft:"-350px"}},l.default.createElement("div",{className:"modal-body",style:{position:"relative",height:"330px"}},l.default.createElement("div",{className:d.default.modal_inner},!this.options.reactivated&&l.default.createElement("div",null,l.default.createElement("h3",null,"This subscription has been suspended"),l.default.createElement("p",null,"This subscription has been suspended due to an expired credit card or failed payments."),l.default.createElement("p",null,r&&l.default.createElement("div",null,l.default.createElement("button",{disabled:!!this.options.reactivating,className:"btn btn-flat btn-success",onClick:function(){return e.reactivate()}},this.options.reactivating?l.default.createElement("i",{className:"fa fa-spin fa-spinner"}):""," Reactivate")),!r&&l.default.createElement("div",null,"Please contact your account administrator to get this subscription re-enabled: ",l.default.createElement("b",null,n.owner.name)))),this.options.reactivated&&l.default.createElement("div",null,l.default.createElement("h3",null,"Your subscription has been reactivated!"),l.default.createElement("p",null,l.default.createElement("button",{className:"btn btn-flat",onClick:function(){return e.close()}},"Close"))))))}}]),t}(),p=a.prototype,h="options",m=[u.observable],_={enumerable:!0,initializer:function(){return{step:1,loading:0,workbooks:[],selected_option:!1,multi_price_month:5,multi_price_year:5,single_price_month:7,single_price_year:70,reactivating:!1,reactivated:!1}}},g={},Object.keys(_).forEach((function(e){g[e]=_[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),void 0===(g=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),g)).initializer&&(Object.defineProperty(p,h,g),g=null),o=g,r=a))||r;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=(f(n(13)),f(n(67)),f(n(177)));function f(e){return e&&e.__esModule?e:{default:e}}var p,h,m,_,g,b=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"options",a=i,(r=o)&&Object.defineProperty(n,"options",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i.close=i.close.bind(i),i.buyStripe=i.props.buyStripe,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){$(this.component).modal({backdrop:"static"})}},{key:"close",value:function(){$(this.component).modal("hide"),window.location.hash="",this.store.uistate.subscription_modal=!1}},{key:"render",value:function(){var e=this,t=this.store.workbooks.selected,n=this.store.subscriptions.getByWorkbook(t);return l.default.createElement("div",{className:"modal",ref:function(t){return e.component=t},style:{width:"700px",marginLeft:"-350px"}},l.default.createElement("div",{className:"modal-body",style:{position:"relative",height:"330px"}},l.default.createElement("div",{className:d.default.modal_inner},l.default.createElement("div",null,l.default.createElement("h3",null,"You don't have a paid license to access this workbook"),l.default.createElement("p",null,l.default.createElement("div",null,"Please contact your account administrator to get a license on this subscription: ",l.default.createElement("b",null,n.owner.name)))))))}}]),t}(),p=a.prototype,h="options",m=[u.observable],_={enumerable:!0,initializer:function(){return{step:1,loading:0,workbooks:[],selected_option:!1,multi_price_month:5,multi_price_year:5,single_price_month:7,single_price_year:70,reactivating:!1,reactivated:!1}}},g={},Object.keys(_).forEach((function(e){g[e]=_[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),void 0===(g=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),g)).initializer&&(Object.defineProperty(p,h,g),g=null),o=g,r=a))||r;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),u=m(c),d=n(6),f=n(3),p=m(n(67)),h=m(n(918));function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function g(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}m(n(402));var b=(0,d.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));_(n,"total_workbookresources_loading",o,n),_(n,"workbooks_owner_or_admin",i,n),_(n,"options",s,n),n.store=n.props.store,n.buyStripe=n.props.buyStripe,n.close=n.close.bind(n),n.public_stripe_key="pk_live_uYwf838Tpa41dJ2x4nPUdSeZ","applocal1.instagantt.com"==window.location.hostname&&(n.public_stripe_key="pk_test_B0IlqFQVbczXJZFbhoIWh4zF");var r=n.store.workbooks.selected,a=n.store.subscriptions.getByWorkbook(r);return n.options.current_subscription=a?a.id:n.store.subscriptions.ownedAndActive()[0].id,window.sub=n,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.Component),l(t,[{key:"componentDidMount",value:function(){$(this.component).modal({backdrop:"static"}),this.populateWorkbooks(),this.populateAllWorkbooks()}},{key:"close",value:function(){$(this.component).modal("hide"),window.location.hash="",this.store.uistate.subscription_modal=!1}},{key:"populateWorkbooks",value:function(){var e=this;this.options.loading++,this.workbook_resources=new p.default(this.store,[],{workbook_id:this.store.workbooks.selected.id}),this.workbook_resources.fetch().then((function(){e.options.loading--}))}},{key:"populateAllWorkbooks",value:function(){var e=this;this.total_workbookresources_loading=this.store.workbooks.filtered.length,this.workbook_resources_map={},this.store.workbooks.filtered.forEach((function(t){e.workbook_resources_map[t.id]=new p.default(e.store,[],{workbook_id:t.id}),e.workbook_resources_map[t.id].fetch().then((function(){e.total_workbookresources_loading--,e.workbook_resources_map[t.id].models.forEach((function(n){n.email!=e.store.user.email||!0!==n.owner&&!0!==n.admin||(e.workbooks_owner_or_admin.push(t),e.options.invite_to_workbooks.push(t.id))}))}))}))}},{key:"reactivateBanner",value:function(){var e=this;return u.default.createElement("div",{style:{background:"#008ACA",color:"#ffffff",padding:"5px 10px",marginLeft:"-20px",marginRight:"-20px",marginTop:"-5px"}},"This subscription has been suspended due to failed payments. ",u.default.createElement("button",{disabled:!!this.options.reactivating,className:"btn btn-flat",onClick:function(){return e.reactivate()}},this.options.reactivating?u.default.createElement("i",{className:"fa fa-spin fa-spinner"}):"Reactivate"))}},{key:"reactivate",value:function(){var e=this,t=this.selected_subscription,n="month"==t.frequency?"monthly":"yearly";this.options.reactivating=!0,this.buyStripe(t.max_users,n,t.workbooks,t.members,{name:t.name},(function(n){return console.log("Subscription bought:",n),fetch("/subscriptions/"+t.id+"/cancel",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(r){n.json().then((function(n){e.store.subscriptions.fetch().then((function(){console.log("current subscription:",n.id),e.options.current_subscription=n.id,e.options.reactivating=!1,t.status=!1,t.suspended=!1}))}))}))}))}},{key:"cancel",value:function(){confirm("Are you sure you want to cancel this subscription?")&&(this.store.uistate.current_modal="COVID",this.store.uistate.current_modal_options={selected_subscription:this.selected_subscription},this.close())}},{key:"updateDetails",value:function(){var e=this,t=this.selected_subscription;this.options.updating_details=!0;var n={billing_name:this.options.editing_details_inputs.name,billing_address:this.options.editing_details_inputs.address,billing_details:this.options.editing_details_inputs.details};return fetch("/subscriptions/"+t.id+"/edit_billing_information",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}).then((function(n){return e.options.updating_details=!1,e.options.editing_details=!1,t.billing_information={name:e.options.editing_details_inputs.name,address:e.options.editing_details_inputs.address,details:e.options.editing_details_inputs.details},n.json()}))}},{key:"addMember",value:function(){var e=this,t={name:this.options.name,email:this.options.email};if(""!=this.options.email&&""!=this.options.name){var n=this.selected_subscription;if(n&&n.missingMembers({},[t]).length>0){if(n.available_licenses()>0)this.options.creating_user=!0,n.addMembers([t]).then((function(t){e.options.creating_user=!1,e.options.name="",e.options.email=""})).catch((function(e){alert("An error ocurred. Please contact our support team")}));else{if(!confirm("You don't have available seats for this new user. Create a new seat?"))return;this.options.creating_user=!0,n.changeQuantity(n.max_users+1).then((function(r){n.addMembers([t]).then((function(t){e.options.creating_user=!1,e.options.name="",e.options.email="",e.store.subscriptions.fetch()})).catch((function(e){alert("An error ocurred. Please contact our support team")}))})).catch((function(e){alert("An error ocurred. Please contact our support team")}))}this.inviteMembersToWorkbooks({name:t.name,email:t.email})}else alert("This user is already a member")}else alert("E-mail can't be blank")}},{key:"inviteMembersToWorkbooks",value:function(e){var t=this;this.options.invite_to_workbooks.length>0&&this.options.invite_to_workbooks.forEach((function(n){t.workbook_resources_map[n]&&t.workbook_resources_map[n].create(e)}))}},{key:"removeMember",value:function(e){confirm("Are you sure you want to remove privileges for this user?")&&this.selected_subscription.removeMember(e)}},{key:"changeQuantity",value:function(){var e=this,t=this.options.new_quantity,n=this.selected_subscription;t!=n.max_users&&t>0&&(this.options.updating_quantity=!0,n.changeQuantity(t).then((function(t){e.store.subscriptions.fetch().then((function(){e.options.updating_quantity=!1,e.options.editing_quantity=!1}))})).catch((function(t){alert("An error ocurred. Please contact our support team"),e.options.updating_quantity=!1,e.options.editing_quantity=!1})))}},{key:"updateCreditCard",value:function(){this.options.updating_credit_card=!0;var e=this.selected_subscription;fetch("/subscriptions/"+e.id+"/update_card",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){e.json().then((function(e){e.url&&(window.location.href=e.url)}))}))}},{key:"toggleEditMember",value:function(e){this.options.editing_member=!0,this.options.editing_member_id=e.email,this.options.editing_member_admin=void 0!==e.admin&&!0===e.admin}},{key:"saveEditingMember",value:function(e,t){e.admin=!0===t||"true"===t,this.selected_subscription.updateMember(e),this.options.editing_member=!1,this.options.editing_member_id=!1,this.options.editing_member_admin=!1}},{key:"toggleInvitingWorkbook",value:function(e){-1!=this.options.invite_to_workbooks.indexOf(e.id)?this.options.invite_to_workbooks.splice(this.options.invite_to_workbooks.indexOf(e.id),1):this.options.invite_to_workbooks.push(e.id)}},{key:"render",value:function(){var e=this,t=this.selected_subscription,n=!1;t.owner._id==this.store.user.id&&(n=!0);var r=!1,a=t.getMemberByEmail(this.store.user.email);!0!==a.admin&&"true"!=a.admin||(r=!0);for(var o=[],i=1;i<=100;i++)o.push(i);return u.default.createElement("div",{className:"modal",ref:function(t){return e.component=t},style:{width:"900px",marginLeft:"-450px"}},u.default.createElement("div",{className:"modal-body",style:{position:"relative",height:"500px",maxHeight:"500px"}},u.default.createElement("div",{className:h.default.modal_header},u.default.createElement("div",{style:{position:"absolute",right:"10px",top:"10px"}},u.default.createElement("a",{href:"javascript:void(0)",style:{fontSize:"24px",color:"#bbb"},onClick:this.close},u.default.createElement("i",{className:"fa fa-times"}))),u.default.createElement("h3",{style:{width:"500px"}},u.default.createElement("div",{className:"",style:{position:"relative"}},u.default.createElement("div",{className:"dropdown-toggle","data-toggle":"dropdown",style:{cursor:"pointer",fontWeight:"700 !important"}},"Subscription: ",t.name?t.name:"Unnamed"," ",u.default.createElement("i",{className:"fa fa-caret-down"})),u.default.createElement("ul",{className:"dropdown-menu"},this.store.subscriptions.ownedOrAdmin().map((function(t){return u.default.createElement("li",null,u.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.options.current_subscription=t.id}},!t.status&&"CANCELLED - ",t.suspended&&"SUSPENDED - ",t.name?t.name:"Unnamed"))})))),u.default.createElement("div",{className:"clearfix"})),u.default.createElement("div",{className:h.default.nav},u.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.options.active_menu="members"},className:"members"==this.options.active_menu?h.default.selected:""},"Members"),u.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.options.active_menu="billing"},className:"billing"==this.options.active_menu?h.default.selected:""},"Billing"),u.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.options.active_menu="receipts"},className:"receipts"==this.options.active_menu?h.default.selected:""},"Payment Receipts"))),u.default.createElement("div",{className:h.default.modal_inner},(n||r)&&"members"==this.options.active_menu&&u.default.createElement("div",{className:"member_list one-column-fields"},!t.status&&u.default.createElement("div",{style:{background:"#de1616",color:"#ffffff",padding:"5px 10px",marginLeft:"-20px",marginRight:"-20px",marginTop:"-5px"}},"This subscription has been cancelled"),t.suspended&&this.reactivateBanner(),u.default.createElement("h3",null,t.status&&!t.suspended&&!this.options.add_user_visible&&u.default.createElement("div",{className:"pull-right"},u.default.createElement("button",{className:"btn btn-flat btn-info",onClick:function(){return e.options.add_user_visible=!0}},u.default.createElement("i",{className:"fa fa-plus"})," Add User")),"Current users",u.default.createElement("div",{className:"clearfix"})),this.options.add_user_visible&&u.default.createElement("div",{style:{display:"flex"}},u.default.createElement("div",{style:{flexGrow:2,paddingRight:"10px"}},u.default.createElement("input",{id:"new-member-name",placeholder:"User name",type:"text",name:"member_name",className:"input-editable-cell",onChange:function(t){return e.options.name=t.target.value},value:this.options.name,autoFocus:!0})," "),u.default.createElement("div",{style:{flexGrow:2,paddingRight:"10px"}},u.default.createElement("input",{id:"new-member-email",placeholder:"User email (required)",type:"text",name:"member_email",className:"input-editable-cell",onChange:function(t){return e.options.email=t.target.value},value:this.options.email})," "),u.default.createElement("div",{style:{position:"relative",flexGrow:1}},u.default.createElement("button",{className:"btn btn-flat",onClick:function(){e.options.editing_invite_to_workbooks=!e.options.editing_invite_to_workbooks}},this.total_workbookresources_loading>0&&u.default.createElement("span",null,"Loading"),0==this.total_workbookresources_loading&&u.default.createElement("span",null,this.workbooks_owner_or_admin.length==this.options.invite_to_workbooks.length?"Invite to: All Workbooks":"Invite to: "+this.options.invite_to_workbooks.length+" Workbook(s)","  ",u.default.createElement("i",{className:"fa fa-chevron-down"}))),this.options.editing_invite_to_workbooks&&u.default.createElement("div",{style:{position:"absolute",width:"175px",height:"200px",borderRadius:"5px",boxShadow:"0 0 5px rgba(0,0,0,0.1)",padding:"10px",background:"#ffffff",overflowY:"scroll"}},u.default.createElement("a",{style:{textDecoration:"none",marginBottom:"10px",display:"block"},href:"javascript:void(0)",onClick:function(){e.options.invite_to_workbooks.length>0?e.options.invite_to_workbooks=[]:e.options.invite_to_workbooks=e.workbooks_owner_or_admin.map((function(e){return e.id}))}},0!=this.options.invite_to_workbooks.length&&"Unselect all",0==this.options.invite_to_workbooks.length&&"Select all"),u.default.createElement("ul",{className:"unstyled"},this.workbooks_owner_or_admin.map((function(t){return u.default.createElement("li",{style:{cursor:"pointer"},onClick:function(){return e.toggleInvitingWorkbook(t)}},-1!=e.options.invite_to_workbooks.indexOf(t.id)&&u.default.createElement("i",{className:"far fa-check-square fa-fw"}),-1==e.options.invite_to_workbooks.indexOf(t.id)&&u.default.createElement("i",{className:"far fa-square fa-fw"})," ",t.name)}))))," ",u.default.createElement("button",{disabled:!!this.options.creating_user,className:"btn btn-info btn-flat",onClick:function(){return e.addMember()}},this.options.creating_user?u.default.createElement("i",{className:"fa fa-spin fa-spinner"}):"Add User"))),u.default.createElement("table",{className:"table",style:{marginTop:"20px"}},u.default.createElement("thead",{style:{textAlign:"left"}},u.default.createElement("th",null,"Name"),u.default.createElement("th",null,"Email"),u.default.createElement("th",null)),u.default.createElement("tbody",null,t.members.map((function(r,a){return u.default.createElement("tr",{key:a},u.default.createElement("td",null,r.name),u.default.createElement("td",null,r.email),u.default.createElement("td",{style:{textAlign:"right"}},r.admin&&!n&&u.default.createElement("button",{className:"btn btn-flat",onClick:function(){return alert("Only the owner can change privileges")}},"Admin level"),!r.admin&&!n&&u.default.createElement("button",{className:"btn btn-flat",onClick:function(){return alert("Only the owner can change privileges")}},"User level"),n&&(!e.options.editing_member||e.options.editing_member_id!=r.email)&&r.email!=e.store.user.email&&u.default.createElement("button",{className:"btn btn-flat",onClick:function(){return e.toggleEditMember(r)}},r.admin?"Admin level":"User level"," ",u.default.createElement("i",{className:"fa fa-pen"})),n&&e.options.editing_member&&r.email==e.options.editing_member_id&&u.default.createElement("select",{value:e.options.editing_member_admin,onChange:function(t){return e.saveEditingMember(r,t.target.value)},style:{width:"100px",marginBottom:0}},u.default.createElement("option",{value:!0},"Admin level"),u.default.createElement("option",{value:!1},"User level")),r.email!=e.store.user.email&&t.status&&!t.suspended&&u.default.createElement("button",{className:"btn btn-flat btn-danger",onClick:function(){return e.removeMember(r)},style:{marginLeft:"10px"}},u.default.createElement("i",{className:"fas fa-trash"}))))}))))),(n||r)&&"billing"==this.options.active_menu&&u.default.createElement("div",null,!t.status&&u.default.createElement("div",{style:{background:"#de1616",color:"#ffffff",padding:"5px 10px",marginLeft:"-20px",marginRight:"-20px",marginTop:"-5px"}},"This subscription has been cancelled"),t.suspended&&this.reactivateBanner(),u.default.createElement("h3",null,"Billing Preferences"),u.default.createElement("table",{className:"table"},u.default.createElement("tr",null,u.default.createElement("td",{style:{width:"150px"}},"Licenses"),u.default.createElement("td",null,!this.options.editing_quantity&&u.default.createElement("div",null,"Your current plan has ",u.default.createElement("b",null,t.max_users)," licenses for ",u.default.createElement("b",null,"$",t.price," per ","month"==t.frequency?"Month":"Year")),this.options.editing_quantity&&u.default.createElement("div",null,u.default.createElement("select",{style:{marginBottom:0},onChange:function(n){n.target.value<t.members.filter((function(e){return e.email})).length?alert("You have more members than the number of selected licenses. Please remove some members from your workbooks, before reducing the number of licenses."):e.options.new_quantity=n.target.value},value:this.options.new_quantity>0?this.options.new_quantity:t.max_users},o.map((function(e){return u.default.createElement("option",{value:e},e)})))," ",u.default.createElement("button",{disabled:!!this.options.updating_quantity,className:"btn btn-flat btn-success",onClick:function(){return e.changeQuantity()}},this.options.updating_quantity?u.default.createElement("i",{className:"fa fa-spin fa-spinner"}):"Save"))),u.default.createElement("td",{style:{textAlign:"right",width:"180px"}},t.status&&!t.suspended&&u.default.createElement("a",{onClick:function(){return e.options.editing_quantity=!e.options.editing_quantity},href:"javascript:void(0)",className:"btn btn-flat"},u.default.createElement("i",{className:"fas fa-pen-square"})," Change"))),u.default.createElement("tr",null,u.default.createElement("td",null,"Billing details"),u.default.createElement("td",null,!this.options.editing_details&&t.billing_information&&u.default.createElement("div",null,"Business name: ",t.billing_information.name," ",u.default.createElement("br",null),"Business address: ",t.billing_information.address," ",u.default.createElement("br",null),"Business details: ",t.billing_information.details," ",u.default.createElement("br",null)),this.options.editing_details&&u.default.createElement("div",null,u.default.createElement("input",{style:{marginBottom:"10px"},placeholder:"Business name",type:"text",className:"input-editable-cell ",onChange:function(t){return e.options.editing_details_inputs.name=t.target.value},value:this.options.editing_details_inputs.name})," ",u.default.createElement("br",null),u.default.createElement("input",{style:{marginBottom:"10px"},placeholder:"Address",type:"text",className:"input-editable-cell ",onChange:function(t){return e.options.editing_details_inputs.address=t.target.value},value:this.options.editing_details_inputs.address})," ",u.default.createElement("br",null),u.default.createElement("input",{style:{marginBottom:"10px"},placeholder:"Other details",type:"text",className:"input-editable-cell ",onChange:function(t){return e.options.editing_details_inputs.details=t.target.value},value:this.options.editing_details_inputs.details})," ",u.default.createElement("br",null),u.default.createElement("button",{disabled:!!this.options.updating_details,className:"btn btn-info-bordered btn-info btn-flat",onClick:function(){return e.updateDetails()}},this.options.updating_details?u.default.createElement("i",{className:"fa fa-spin fa-spinner"}):"Save"))),u.default.createElement("td",{style:{textAlign:"right"}},t.status&&!t.suspended&&u.default.createElement("a",{onClick:function(){return e.options.editing_details=!e.options.editing_details},href:"javascript:void(0)",className:"btn btn-flat"},u.default.createElement("i",{className:"fas fa-pen-square"})," Change"))),u.default.createElement("tr",null,u.default.createElement("td",null,"Credit card"),u.default.createElement("td",null,"Your credit card statement will show this transaction as ",u.default.createElement("b",null,"Instagantt")),u.default.createElement("td",{style:{textAlign:"right"}},t.status&&!t.suspended&&u.default.createElement("button",{disabled:!!this.options.updating_credit_card,className:"btn btn-flat",onClick:function(){return e.updateCreditCard()}},u.default.createElement("i",{className:"fas fa-credit-card"})," ",this.options.updating_credit_card?u.default.createElement("i",{className:"fa fa-spin fa-spinner"}):" Update credit card"))),u.default.createElement("tr",null,u.default.createElement("td",null),u.default.createElement("td",null,"This subscription can be cancelled at any time. By cancelling, you'll loose access to your premium status immediately."),u.default.createElement("td",{style:{textAlign:"right"}},t.status&&!t.suspended&&u.default.createElement("button",{disabled:!!this.options.cancelling,className:"btn btn-flat btn-danger",onClick:function(){return e.cancel()}},u.default.createElement("i",{className:"fas fa-trash"})," ",this.options.cancelling?u.default.createElement("i",{className:"fa fa-spin fa-spinner"}):" Cancel"))))),(n||r)&&"receipts"==this.options.active_menu&&u.default.createElement("div",null,!t.status&&u.default.createElement("div",{style:{background:"#de1616",color:"#ffffff",padding:"5px 10px",marginLeft:"-20px",marginRight:"-20px",marginTop:"-5px"}},"This subscription has been cancelled"),t.suspended&&this.reactivateBanner(),u.default.createElement("h3",null,"Payments receipts"),u.default.createElement("table",{className:"table",id:"payment-history"},u.default.createElement("thead",null,u.default.createElement("th",null,"Invoice ID"),u.default.createElement("th",null,"Date"),u.default.createElement("th",null,"Amount"),u.default.createElement("th",null)),u.default.createElement("tbody",null,t.payments.map((function(e){return u.default.createElement("tr",null,u.default.createElement("td",null,e.id),u.default.createElement("td",null,moment(1e3*(e.date||e.created)).format("DD MMM YYYY HH:mm:ss")),u.default.createElement("td",null,"$",e.total/100),u.default.createElement("td",null,u.default.createElement("a",{className:"btn btn-flat",href:["/subscriptions/",t.id,"/print_invoice/",e.id].join(""),target:"_blank"},u.default.createElement("i",{className:"fa fa-print"})," Print")))}))))),!n&&!r&&u.default.createElement("div",null,u.default.createElement("h3",null,"Only the account manager has access to this section")))))}},{key:"total_users",get:function(){var e=this,t={};return Object.keys(this.options.checkedWorkbooks).map((function(n){e.options.checkedWorkbooks[n]&&e.options.workbooks[n].resources.forEach((function(e){t[e]=1}))})),Object.keys(t).length}},{key:"selected_subscription",get:function(){if(this.options.current_subscription)return this.store.subscriptions.get(this.options.current_subscription)}}]),t}(),o=g(a.prototype,"total_workbookresources_loading",[f.observable],{enumerable:!0,initializer:function(){return 0}}),i=g(a.prototype,"workbooks_owner_or_admin",[f.observable],{enumerable:!0,initializer:function(){return[]}}),s=g(a.prototype,"options",[f.observable],{enumerable:!0,initializer:function(){return{step:1,loading:0,current_subscription:!1,active_menu:"members",add_user_visible:!1,name:"",email:"",editing_details:!1,editing_details_inputs:{name:"",address:"",details:""},updating_details:!1,creating_user:!1,editing_quantity:!1,updating_quantity:!1,new_quantity:0,updating_credit_card:!1,cancelling:!1,reactivating:!1,editing_member:!1,editing_member_id:!1,editing_member_admin:!1,invite_to_workbooks:[],editing_invite_to_workbooks:!1}}}),g(a.prototype,"total_users",[f.computed],Object.getOwnPropertyDescriptor(a.prototype,"total_users"),a.prototype),g(a.prototype,"selected_subscription",[f.computed],Object.getOwnPropertyDescriptor(a.prototype,"selected_subscription"),a.prototype),r=a))||r;t.default=b},function(e,t,n){e.exports={modal_header:"_7088ALfx1sTCzcu_YcrDU",nav:"usPyJG2_yVz83aOhYI86m",selected:"hq0wIQ-gKT-H88bKc4Rq9",modal_inner:"_2sifeWeQhduuOyWEeuzD1Y",modal_container:"_9NSdBT60HMAj6ip5MKLp2"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=f(s),c=n(6),u=n(3),d=f(n(920));function f(e){return e&&e.__esModule?e:{default:e}}n(408);var p,h,m,_,g,b=(0,c.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,a,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"zoom_level",a=i,(r=o)&&Object.defineProperty(n,"zoom_level",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.store=i.props.store,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"zoom",value:function(e){e<=.2||($("#gantt-pane").css({width:100/e+"%",transform:"scale("+e+")",height:100/e+"%","transform-origin":"0 0"}),$("#workload-hours").css({width:100/e+"%",transform:"scale("+e+")",bottom:$("#workload-hours").height()*e-$("#workload-hours").height()+"px","transform-origin":"0 0"}))}},{key:"zoomOut",value:function(){this.zoom_level=this.zoom_level-.1,this.zoom(this.zoom_level)}},{key:"zoomIn",value:function(){this.zoom_level=this.zoom_level+.1,this.zoom(this.zoom_level)}},{key:"changeView",value:function(e){var t=this.store.uistate;"list"==e?this.zoom(1):this.zoom(this.zoom_level),t.active_view=e}},{key:"render",value:function(){var e=this;if(!this.store.uistate.is_mobile)return null;var t=this.store.uistate,n=this.store.uistate.active_view;return l.default.createElement("div",{style:{position:"fixed",bottom:0,height:"50px",background:"#ffffff",left:0,right:0,boxShadow:"rgba(0, 0, 0, 0.1) 0px -3px 8px",display:"flex",zIndex:"1030"}},l.default.createElement("div",{style:{display:"flex",flexGrow:1}},l.default.createElement("div",{onClick:function(){return e.changeView("gantt")},className:[d.default.footer_button_container,"gantt"==n?d.default.active:""].join(" ")},"Gantt"),l.default.createElement("div",{onClick:function(){return e.changeView("list")},className:[d.default.footer_button_container,"list"==n?d.default.active:""].join(" ")},"List"),!t.workload_hidden&&l.default.createElement("div",{onClick:function(){return e.changeView("workload")},className:[d.default.footer_button_container,"workload"==n?d.default.active:""].join(" ")},"Workload")),"list"!=t.active_view&&l.default.createElement("div",{style:{display:"flex"}},l.default.createElement("button",{class:"btn btn-flat",style:{margin:"5px"},onClick:function(){return e.zoomOut()}},l.default.createElement("i",{className:"fas fa-minus fa-fw"})),l.default.createElement("button",{class:"btn btn-flat",style:{margin:"5px"}},Number(100*this.zoom_level).toFixed(0),"%"),l.default.createElement("button",{class:"btn btn-flat",style:{margin:"5px"},onClick:function(){return e.zoomIn()}},l.default.createElement("i",{className:"fas fa-plus fa-fw"}))))}}]),t}(),p=a.prototype,h="zoom_level",m=[u.observable],_={enumerable:!0,initializer:function(){return 1}},g={},Object.keys(_).forEach((function(e){g[e]=_[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),void 0===(g=m.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),g)).initializer&&(Object.defineProperty(p,h,g),g=null),o=g,r=a))||r;t.default=b},function(e,t,n){e.exports={footer_button_container:"_1hfVBi9z6ZdSH742v3HMz2",active:"_3hn5PBMo_IXOpa4YxUq-4o"}},function(e,t,n){(e.exports=n(218)(!1)).push([e.i,'.tippy-touch{cursor:pointer!important}.tippy-notransition{transition:none!important}.tippy-popper{max-width:400px;-webkit-perspective:800px;perspective:800px;z-index:9999;outline:0;transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none}.tippy-popper.html-template{max-width:96%;max-width:calc(100% - 20px)}.tippy-popper[x-placement^=top] [x-arrow]{border-top:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;bottom:-7px;margin:0 9px}.tippy-popper[x-placement^=top] [x-arrow].arrow-small{border-top:5px solid #333;border-right:5px solid transparent;border-left:5px solid transparent;bottom:-5px}.tippy-popper[x-placement^=top] [x-arrow].arrow-big{border-top:10px solid #333;border-right:10px solid transparent;border-left:10px solid transparent;bottom:-10px}.tippy-popper[x-placement^=top] [x-circle]{-webkit-transform-origin:0 33%;transform-origin:0 33%}.tippy-popper[x-placement^=top] [x-circle].enter{-webkit-transform:scale(1) translate(-50%,-55%);transform:scale(1) translate(-50%,-55%);opacity:1}.tippy-popper[x-placement^=top] [x-circle].leave{-webkit-transform:scale(.15) translate(-50%,-50%);transform:scale(.15) translate(-50%,-50%);opacity:0}.tippy-popper[x-placement^=top] .tippy-tooltip.light-theme [x-circle]{background-color:#fff}.tippy-popper[x-placement^=top] .tippy-tooltip.light-theme [x-arrow]{border-top:7px solid #fff;border-right:7px solid transparent;border-left:7px solid transparent}.tippy-popper[x-placement^=top] .tippy-tooltip.light-theme [x-arrow].arrow-small{border-top:5px solid #fff;border-right:5px solid transparent;border-left:5px solid transparent}.tippy-popper[x-placement^=top] .tippy-tooltip.light-theme [x-arrow].arrow-big{border-top:10px solid #fff;border-right:10px solid transparent;border-left:10px solid transparent}.tippy-popper[x-placement^=top] .tippy-tooltip.transparent-theme [x-circle]{background-color:rgba(0,0,0,.7)}.tippy-popper[x-placement^=top] .tippy-tooltip.transparent-theme [x-arrow]{border-top:7px solid rgba(0,0,0,.7);border-right:7px solid transparent;border-left:7px solid transparent}.tippy-popper[x-placement^=top] .tippy-tooltip.transparent-theme [x-arrow].arrow-small{border-top:5px solid rgba(0,0,0,.7);border-right:5px solid transparent;border-left:5px solid transparent}.tippy-popper[x-placement^=top] .tippy-tooltip.transparent-theme [x-arrow].arrow-big{border-top:10px solid rgba(0,0,0,.7);border-right:10px solid transparent;border-left:10px solid transparent}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective].enter{opacity:1;-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective].leave{opacity:0;-webkit-transform:translateY(0) rotateX(90deg);transform:translateY(0) rotateX(90deg)}.tippy-popper[x-placement^=top] [data-animation=fade].enter{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade].leave{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift].enter{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift].leave{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale].enter{opacity:1;-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale].leave{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=bottom] [x-arrow]{border-bottom:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;top:-7px;margin:0 9px}.tippy-popper[x-placement^=bottom] [x-arrow].arrow-small{border-bottom:5px solid #333;border-right:5px solid transparent;border-left:5px solid transparent;top:-5px}.tippy-popper[x-placement^=bottom] [x-arrow].arrow-big{border-bottom:10px solid #333;border-right:10px solid transparent;border-left:10px solid transparent;top:-10px}.tippy-popper[x-placement^=bottom] [x-circle]{-webkit-transform-origin:0 -50%;transform-origin:0 -50%}.tippy-popper[x-placement^=bottom] [x-circle].enter{-webkit-transform:scale(1) translate(-50%,-45%);transform:scale(1) translate(-50%,-45%);opacity:1}.tippy-popper[x-placement^=bottom] [x-circle].leave{-webkit-transform:scale(.15) translate(-50%,-5%);transform:scale(.15) translate(-50%,-5%);opacity:0}.tippy-popper[x-placement^=bottom] .tippy-tooltip.light-theme [x-circle]{background-color:#fff}.tippy-popper[x-placement^=bottom] .tippy-tooltip.light-theme [x-arrow]{border-bottom:7px solid #fff;border-right:7px solid transparent;border-left:7px solid transparent}.tippy-popper[x-placement^=bottom] .tippy-tooltip.light-theme [x-arrow].arrow-small{border-bottom:5px solid #fff;border-right:5px solid transparent;border-left:5px solid transparent}.tippy-popper[x-placement^=bottom] .tippy-tooltip.light-theme [x-arrow].arrow-big{border-bottom:10px solid #fff;border-right:10px solid transparent;border-left:10px solid transparent}.tippy-popper[x-placement^=bottom] .tippy-tooltip.transparent-theme [x-circle]{background-color:rgba(0,0,0,.7)}.tippy-popper[x-placement^=bottom] .tippy-tooltip.transparent-theme [x-arrow]{border-bottom:7px solid rgba(0,0,0,.7);border-right:7px solid transparent;border-left:7px solid transparent}.tippy-popper[x-placement^=bottom] .tippy-tooltip.transparent-theme [x-arrow].arrow-small{border-bottom:5px solid rgba(0,0,0,.7);border-right:5px solid transparent;border-left:5px solid transparent}.tippy-popper[x-placement^=bottom] .tippy-tooltip.transparent-theme [x-arrow].arrow-big{border-bottom:10px solid rgba(0,0,0,.7);border-right:10px solid transparent;border-left:10px solid transparent}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective].enter{opacity:1;-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective].leave{opacity:0;-webkit-transform:translateY(0) rotateX(-90deg);transform:translateY(0) rotateX(-90deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade].enter{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade].leave{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift].enter{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift].leave{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale].enter{opacity:1;-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale].leave{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=left] [x-arrow]{border-left:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;right:-7px;margin:6px 0}.tippy-popper[x-placement^=left] [x-arrow].arrow-small{border-left:5px solid #333;border-top:5px solid transparent;border-bottom:5px solid transparent;right:-5px}.tippy-popper[x-placement^=left] [x-arrow].arrow-big{border-left:10px solid #333;border-top:10px solid transparent;border-bottom:10px solid transparent;right:-10px}.tippy-popper[x-placement^=left] [x-circle]{-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=left] [x-circle].enter{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%);opacity:1}.tippy-popper[x-placement^=left] [x-circle].leave{-webkit-transform:scale(.15) translate(-50%,-50%);transform:scale(.15) translate(-50%,-50%);opacity:0}.tippy-popper[x-placement^=left] .tippy-tooltip.light-theme [x-circle]{background-color:#fff}.tippy-popper[x-placement^=left] .tippy-tooltip.light-theme [x-arrow]{border-left:7px solid #fff;border-top:7px solid transparent;border-bottom:7px solid transparent}.tippy-popper[x-placement^=left] .tippy-tooltip.light-theme [x-arrow].arrow-small{border-left:5px solid #fff;border-top:5px solid transparent;border-bottom:5px solid transparent}.tippy-popper[x-placement^=left] .tippy-tooltip.light-theme [x-arrow].arrow-big{border-left:10px solid #fff;border-top:10px solid transparent;border-bottom:10px solid transparent}.tippy-popper[x-placement^=left] .tippy-tooltip.transparent-theme [x-circle]{background-color:rgba(0,0,0,.7)}.tippy-popper[x-placement^=left] .tippy-tooltip.transparent-theme [x-arrow]{border-left:7px solid rgba(0,0,0,.7);border-top:7px solid transparent;border-bottom:7px solid transparent}.tippy-popper[x-placement^=left] .tippy-tooltip.transparent-theme [x-arrow].arrow-small{border-left:5px solid rgba(0,0,0,.7);border-top:5px solid transparent;border-bottom:5px solid transparent}.tippy-popper[x-placement^=left] .tippy-tooltip.transparent-theme [x-arrow].arrow-big{border-left:10px solid rgba(0,0,0,.7);border-top:10px solid transparent;border-bottom:10px solid transparent}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective].enter{opacity:1;-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective].leave{opacity:0;-webkit-transform:translateX(0) rotateY(-90deg);transform:translateX(0) rotateY(-90deg)}.tippy-popper[x-placement^=left] [data-animation=fade].enter{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade].leave{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift].enter{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift].leave{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale].enter{opacity:1;-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale].leave{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper[x-placement^=right] [x-arrow]{border-right:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;left:-7px;margin:6px 0}.tippy-popper[x-placement^=right] [x-arrow].arrow-small{border-right:5px solid #333;border-top:5px solid transparent;border-bottom:5px solid transparent;left:-5px}.tippy-popper[x-placement^=right] [x-arrow].arrow-big{border-right:10px solid #333;border-top:10px solid transparent;border-bottom:10px solid transparent;left:-10px}.tippy-popper[x-placement^=right] [x-circle]{-webkit-transform-origin:-50% 0;transform-origin:-50% 0}.tippy-popper[x-placement^=right] [x-circle].enter{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%);opacity:1}.tippy-popper[x-placement^=right] [x-circle].leave{-webkit-transform:scale(.15) translate(-50%,-50%);transform:scale(.15) translate(-50%,-50%);opacity:0}.tippy-popper[x-placement^=right] .tippy-tooltip.light-theme [x-circle]{background-color:#fff}.tippy-popper[x-placement^=right] .tippy-tooltip.light-theme [x-arrow]{border-right:7px solid #fff;border-top:7px solid transparent;border-bottom:7px solid transparent}.tippy-popper[x-placement^=right] .tippy-tooltip.light-theme [x-arrow].arrow-small{border-right:5px solid #fff;border-top:5px solid transparent;border-bottom:5px solid transparent}.tippy-popper[x-placement^=right] .tippy-tooltip.light-theme [x-arrow].arrow-big{border-right:10px solid #fff;border-top:10px solid transparent;border-bottom:10px solid transparent}.tippy-popper[x-placement^=right] .tippy-tooltip.transparent-theme [x-circle]{background-color:rgba(0,0,0,.7)}.tippy-popper[x-placement^=right] .tippy-tooltip.transparent-theme [x-arrow]{border-right:7px solid rgba(0,0,0,.7);border-top:7px solid transparent;border-bottom:7px solid transparent}.tippy-popper[x-placement^=right] .tippy-tooltip.transparent-theme [x-arrow].arrow-small{border-right:5px solid rgba(0,0,0,.7);border-top:5px solid transparent;border-bottom:5px solid transparent}.tippy-popper[x-placement^=right] .tippy-tooltip.transparent-theme [x-arrow].arrow-big{border-right:10px solid rgba(0,0,0,.7);border-top:10px solid transparent;border-bottom:10px solid transparent}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective].enter{opacity:1;-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective].leave{opacity:0;-webkit-transform:translateX(0) rotateY(90deg);transform:translateX(0) rotateY(90deg)}.tippy-popper[x-placement^=right] [data-animation=fade].enter{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade].leave{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift].enter{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift].leave{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale].enter{opacity:1;-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale].leave{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper .tippy-tooltip.transparent-theme{background-color:rgba(0,0,0,.7)}.tippy-popper .tippy-tooltip.transparent-theme[data-animatefill]{background-color:transparent}.tippy-popper .tippy-tooltip.light-theme{color:#26323d;box-shadow:0 4px 20px 4px rgba(0,20,60,.1),0 4px 80px -8px rgba(0,20,60,.2);background-color:#fff}.tippy-popper .tippy-tooltip.light-theme[data-animatefill]{background-color:transparent}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.95rem;padding:.4rem .8rem;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip--small{padding:.25rem .5rem;font-size:.8rem}.tippy-tooltip--big{padding:.6rem 1.2rem;font-size:1.2rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-interactive]{pointer-events:auto}.tippy-tooltip[data-inertia]{transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip [x-arrow]{position:absolute;width:0;height:0}.tippy-tooltip [x-circle]{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:130%;width:calc(110% + 2rem);left:50%;top:50%;z-index:-1;overflow:hidden;transition:all ease}.tippy-tooltip [x-circle]:before{content:"";padding-top:90%;float:left}@media (max-width:450px){.tippy-popper{max-width:96%;max-width:calc(100% - 20px)}}\n',""])},function(e,t,n){"use strict";n.r(t),n.d(t,"Line",(function(){return iu})),n.d(t,"LineCanvas",(function(){return uu})),n.d(t,"LineCanvasDefaultProps",(function(){return Rc})),n.d(t,"LineCanvasPropTypes",(function(){return Ic})),n.d(t,"LineDefaultProps",(function(){return Uc})),n.d(t,"LinePropTypes",(function(){return Bc})),n.d(t,"ResponsiveLine",(function(){return su})),n.d(t,"ResponsiveLineCanvas",(function(){return du})),n.d(t,"useAreaGenerator",(function(){return zc})),n.d(t,"useLine",(function(){return Hc})),n.d(t,"useLineGenerator",(function(){return Fc})),n.d(t,"useSlices",(function(){return Qc}));var r=n(0),a=n(1),o=n.n(a),i=n(22),s=n(7);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},u=function(e,t){return"translate("+e+"px, "+t+"px)"},d=Object(r.memo)((function(e){var t,n=e.position,a=e.anchor,o=e.children,d=Ui(),f=_i(),p=f.animate,h=f.config,m=Mi(),_=m[0],g=m[1],b=Object(r.useRef)(!1),y=void 0,v=!1,A=g.width>0&&g.height>0,w=Math.round(n[0]),k=Math.round(n[1]);A&&("top"===a?(w-=g.width/2,k-=g.height+14):"right"===a?(w+=14,k-=g.height/2):"bottom"===a?(w-=g.width/2,k+=14):"left"===a?(w-=g.width+14,k-=g.height/2):"center"===a&&(w-=g.width/2,k-=g.height/2),y={transform:u(w,k)},b.current||(v=!0),b.current=[w,k]);var E=Object(i.useSpring)({to:y,config:h,immediate:!p||v}),x=l({},c,d.tooltip,{transform:null!=(t=E.transform)?t:u(w,k)});return Object(s.jsx)(i.animated.div,{ref:_,style:x,children:o})}));d.displayName="TooltipWrapper";var f=Object(r.memo)((function(e){var t=e.size,n=void 0===t?12:t,r=e.color,a=e.style;return Object(s.jsx)("span",{style:l({display:"block",width:n,height:n,background:r},void 0===a?{}:a)})})),p=Object(r.memo)((function(e){var t,n=e.id,r=e.value,a=e.format,o=e.enableChip,i=void 0!==o&&o,l=e.color,c=e.renderContent,u=Ui(),d=Pi(a);if("function"==typeof c)t=c();else{var p=r;void 0!==d&&void 0!==p&&(p=d(p)),t=Object(s.jsxs)("div",{style:u.tooltip.basic,children:[i&&Object(s.jsx)(f,{color:l,style:u.tooltip.chip}),void 0!==p?Object(s.jsxs)("span",{children:[n,": ",Object(s.jsx)("strong",{children:""+p})]}):n]})}return Object(s.jsx)("div",{style:u.tooltip.container,children:t})})),h={width:"100%",borderCollapse:"collapse"},m=Object(r.memo)((function(e){var t,n=e.title,r=e.rows,a=void 0===r?[]:r,o=e.renderContent,i=Ui();return a.length?(t="function"==typeof o?o():Object(s.jsxs)("div",{children:[n&&n,Object(s.jsx)("table",{style:l({},h,i.tooltip.table),children:Object(s.jsx)("tbody",{children:a.map((function(e,t){return Object(s.jsx)("tr",{children:e.map((function(e,t){return Object(s.jsx)("td",{style:i.tooltip.tableCell,children:e},t)}))},t)}))})})]}),Object(s.jsx)("div",{style:i.tooltip.container,children:t})):null}));m.displayName="TableTooltip";var _=Object(r.memo)((function(e){var t=e.x0,n=e.x1,a=e.y0,o=e.y1,c=Ui(),u=_i(),d=u.animate,f=u.config,p=Object(r.useMemo)((function(){return l({},c.crosshair.line,{pointerEvents:"none"})}),[c.crosshair.line]),h=Object(i.useSpring)({x1:t,x2:n,y1:a,y2:o,config:f,immediate:!d});return Object(s.jsx)(i.animated.line,l({},h,{fill:"none",style:p}))}));_.displayName="CrosshairLine";var g=Object(r.memo)((function(e){var t,n,r=e.width,a=e.height,o=e.type,i=e.x,l=e.y;return"cross"===o?(t={x0:i,x1:i,y0:0,y1:a},n={x0:0,x1:r,y0:l,y1:l}):"top-left"===o?(t={x0:i,x1:i,y0:0,y1:l},n={x0:0,x1:i,y0:l,y1:l}):"top"===o?t={x0:i,x1:i,y0:0,y1:l}:"top-right"===o?(t={x0:i,x1:i,y0:0,y1:l},n={x0:i,x1:r,y0:l,y1:l}):"right"===o?n={x0:i,x1:r,y0:l,y1:l}:"bottom-right"===o?(t={x0:i,x1:i,y0:l,y1:a},n={x0:i,x1:r,y0:l,y1:l}):"bottom"===o?t={x0:i,x1:i,y0:l,y1:a}:"bottom-left"===o?(t={x0:i,x1:i,y0:l,y1:a},n={x0:0,x1:i,y0:l,y1:l}):"left"===o?n={x0:0,x1:i,y0:l,y1:l}:"x"===o?t={x0:i,x1:i,y0:0,y1:a}:"y"===o&&(n={x0:0,x1:r,y0:l,y1:l}),Object(s.jsxs)(s.Fragment,{children:[t&&Object(s.jsx)(_,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),n&&Object(s.jsx)(_,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1})]})}));g.displayName="Crosshair";var b=Object(r.createContext)({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),y={isVisible:!1,position:[null,null],content:null,anchor:null},v=Object(r.createContext)(y),A=function(e){var t=Object(r.useState)(y),n=t[0],a=t[1],o=Object(r.useCallback)((function(e,t,n){var r=t[0],o=t[1];void 0===n&&(n="top"),a({isVisible:!0,position:[r,o],anchor:n,content:e})}),[a]),i=Object(r.useCallback)((function(t,n,r){void 0===r&&(r="top");var o=e.current.getBoundingClientRect(),i=e.current.offsetWidth,s=i===o.width?1:i/o.width,l=(n.clientX-o.left)*s,c=(n.clientY-o.top)*s;"left"!==r&&"right"!==r||(r=l<o.width/2?"right":"left"),a({isVisible:!0,position:[l,c],anchor:r,content:t})}),[e,a]),s=Object(r.useCallback)((function(){a(y)}),[a]);return{actions:Object(r.useMemo)((function(){return{showTooltipAt:o,showTooltipFromEvent:i,hideTooltip:s}}),[o,i,s]),state:n}},w=function(){var e=Object(r.useContext)(b);if(void 0===e)throw new Error("useTooltip must be used within a TooltipProvider");return e},k=function(){var e=function(){var e=Object(r.useContext)(v);if(void 0===e)throw new Error("useTooltipState must be used within a TooltipProvider");return e}();return function(e){return e.isVisible}(e)?Object(s.jsx)(d,{position:e.position,anchor:e.anchor,children:e.content}):null},E=function(e){var t=e.container,n=e.children,r=A(t),a=r.actions,o=r.state;return Object(s.jsx)(b.Provider,{value:a,children:Object(s.jsx)(v.Provider,{value:o,children:n})})},x=n(414),O=n.n(x),C=n(33),j=n.n(C),D=n(77),N=n.n(D),S=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},T=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,M=new RegExp(T.source,"g"),P=function(e,t){var n,r,a,o=T.lastIndex=M.lastIndex=0,i=-1,s=[],l=[];for(e+="",t+="";(n=T.exec(e))&&(r=M.exec(t));)(a=r.index)>o&&(a=t.slice(o,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(r=r[0])?s[i]?s[i]+=r:s[++i]=r:(s[++i]=null,l.push({i:i,x:S(n,r)})),o=M.lastIndex;return o<t.length&&(a=t.slice(o),s[i]?s[i]+=a:s[++i]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},B=n(262),I=n.n(B),L=n(12),U=n.n(L),R=(n(31),function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}),F=function(e){let t=e,n=e;function r(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){const o=r+a>>>1;n(e[o],t)<0?r=o+1:a=o}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>R(e(t),n)}(e)),{left:r,center:function(e,n,a,o){null==a&&(a=0),null==o&&(o=e.length);const i=r(e,n,a,o-1);return i>a&&t(e[i-1],n)>-t(e[i],n)?i-1:i},right:function(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){const o=r+a>>>1;n(e[o],t)>0?a=o:r=o+1}return r}}};const z=F(R),Q=z.right;z.left,F((function(e){return null===e?NaN:+e})).center;var H=Q,Y=Math.sqrt(50),K=Math.sqrt(10),W=Math.sqrt(2),q=function(e,t,n){var r,a,o,i,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),0===(i=G(e,t,n))||!isFinite(i))return[];if(i>0){let n=Math.round(e/i),r=Math.round(t/i);for(n*i<e&&++n,r*i>t&&--r,o=new Array(a=r-n+1);++s<a;)o[s]=(n+s)*i}else{i=-i;let n=Math.round(e*i),r=Math.round(t*i);for(n/i<e&&++n,r/i>t&&--r,o=new Array(a=r-n+1);++s<a;)o[s]=(n+s)/i}return r&&o.reverse(),o};function G(e,t,n){var r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,a);return a>=0?(o>=Y?10:o>=K?5:o>=W?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=Y?10:o>=K?5:o>=W?2:1)}var V=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function $(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function X(){}var J="\\s*([+-]?\\d+)\\s*",Z="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ee="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",te=/^#([0-9a-f]{3,8})$/,ne=new RegExp("^rgb\\("+[J,J,J]+"\\)$"),re=new RegExp("^rgb\\("+[ee,ee,ee]+"\\)$"),ae=new RegExp("^rgba\\("+[J,J,J,Z]+"\\)$"),oe=new RegExp("^rgba\\("+[ee,ee,ee,Z]+"\\)$"),ie=new RegExp("^hsl\\("+[Z,ee,ee]+"\\)$"),se=new RegExp("^hsla\\("+[Z,ee,ee,Z]+"\\)$"),le={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ce(){return this.rgb().formatHex()}function ue(){return this.rgb().formatRgb()}function de(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=te.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?fe(t):3===n?new _e(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?pe(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?pe(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ne.exec(e))?new _e(t[1],t[2],t[3],1):(t=re.exec(e))?new _e(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ae.exec(e))?pe(t[1],t[2],t[3],t[4]):(t=oe.exec(e))?pe(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ie.exec(e))?ve(t[1],t[2]/100,t[3]/100,1):(t=se.exec(e))?ve(t[1],t[2]/100,t[3]/100,t[4]):le.hasOwnProperty(e)?fe(le[e]):"transparent"===e?new _e(NaN,NaN,NaN,0):null}function fe(e){return new _e(e>>16&255,e>>8&255,255&e,1)}function pe(e,t,n,r){return r<=0&&(e=t=n=NaN),new _e(e,t,n,r)}function he(e){return e instanceof X||(e=de(e)),e?new _e((e=e.rgb()).r,e.g,e.b,e.opacity):new _e}function me(e,t,n,r){return 1===arguments.length?he(e):new _e(e,t,n,null==r?1:r)}function _e(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ge(){return"#"+ye(this.r)+ye(this.g)+ye(this.b)}function be(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function ye(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function ve(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new we(e,t,n,r)}function Ae(e){if(e instanceof we)return new we(e.h,e.s,e.l,e.opacity);if(e instanceof X||(e=de(e)),!e)return new we;if(e instanceof we)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,s=o-a,l=(o+a)/2;return s?(i=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new we(i,s,l,e.opacity)}function we(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ke(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Ee(e,t,n,r,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*a)/6}V(X,de,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ce,formatHex:ce,formatHsl:function(){return Ae(this).formatHsl()},formatRgb:ue,toString:ue}),V(_e,me,$(X,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ge,formatHex:ge,formatRgb:be,toString:be})),V(we,(function(e,t,n,r){return 1===arguments.length?Ae(e):new we(e,t,n,null==r?1:r)}),$(X,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new we(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new we(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new _e(ke(e>=240?e-240:e+120,a,r),ke(e,a,r),ke(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var xe=e=>()=>e;function Oe(e,t){return function(n){return e+n*t}}function Ce(e,t){var n=t-e;return n?Oe(e,n):xe(isNaN(e)?t:e)}var je=function e(t){var n=function(e){return 1==(e=+e)?Ce:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):xe(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=me(e)).r,(t=me(t)).r),a=n(e.g,t.g),o=n(e.b,t.b),i=Ce(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=o(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function De(e){return function(t){var n,r,a=t.length,o=new Array(a),i=new Array(a),s=new Array(a);for(n=0;n<a;++n)r=me(t[n]),o[n]=r.r||0,i[n]=r.g||0,s[n]=r.b||0;return o=e(o),i=e(i),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=i(e),r.b=s(e),r+""}}}var Ne=De((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],i=r>0?e[r-1]:2*a-o,s=r<t-1?e[r+2]:2*o-a;return Ee((n-r/t)*t,i,a,o,s)}})),Se=(De((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],s=e[(r+2)%t];return Ee((n-r/t)*t,a,o,i,s)}})),function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(o){for(n=0;n<r;++n)a[n]=e[n]*(1-o)+t[n]*o;return a}});function Te(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,o=new Array(a),i=new Array(r);for(n=0;n<a;++n)o[n]=Me(e[n],t[n]);for(;n<r;++n)i[n]=t[n];return function(e){for(n=0;n<a;++n)i[n]=o[n](e);return i}}var Me=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?xe(t):("number"===r?S:"string"===r?(n=de(t))?(t=n,je):P:t instanceof de?je:t instanceof Date?function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Se:Array.isArray(t)?Te:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var n,r={},a={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Me(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}:S)(e,t)},Pe=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}};function Be(e){return+e}var Ie=[0,1];function Le(e){return e}function Ue(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Re(e,t,n){var r=e[0],a=e[1],o=t[0],i=t[1];return a<r?(r=Ue(a,r),o=n(i,o)):(r=Ue(r,a),o=n(o,i)),function(e){return o(r(e))}}function Fe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),o=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)a[i]=Ue(e[i],e[i+1]),o[i]=n(t[i],t[i+1]);return function(t){var n=H(e,t,1,r)-1;return o[n](a[n](t))}}function ze(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Qe(){var e,t,n,r,a,o,i=Ie,s=Ie,l=Me,c=Le;function u(){var e,t,n,l=Math.min(i.length,s.length);return c!==Le&&(e=i[0],t=i[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?Fe:Re,a=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(i.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,i.map(e),S)))(n)))},d.domain=function(e){return arguments.length?(i=Array.from(e,Be),u()):i.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Pe,u()},d.clamp=function(e){return arguments.length?(c=!!e||Le,u()):c!==Le},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function He(){return Qe()(Le,Le)}function Ye(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var Ke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function We(e){if(!(t=Ke.exec(e)))throw new Error("invalid format: "+e);var t;return new qe({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function qe(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ge(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}We.prototype=qe.prototype,qe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ve,$e,Xe,Je,Ze=function(e){return(e=Ge(Math.abs(e)))?e[1]:NaN},et=function(e,t){var n=Ge(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")},tt={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return et(100*e,t)},r:et,s:function(e,t){var n=Ge(e,t);if(!n)return e+"";var r=n[0],a=n[1],o=a-(Ve=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=r.length;return o===i?r:o>i?r+new Array(o-i+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ge(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},nt=function(e){return e},rt=Array.prototype.map,at=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];$e=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?nt:(t=rt.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,o=[],i=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[i=(i+1)%t.length];return o.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?nt:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(rt.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=We(e)).fill,n=e.align,d=e.sign,f=e.symbol,p=e.zero,h=e.width,m=e.comma,_=e.precision,g=e.trim,b=e.type;"n"===b?(m=!0,b="g"):tt[b]||(void 0===_&&(_=12),g=!0,b="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var y="$"===f?a:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",v="$"===f?o:/[%p]/.test(b)?l:"",A=tt[b],w=/[defgprs%]/.test(b);function k(e){var a,o,l,f=y,k=v;if("c"===b)k=A(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:A(Math.abs(e),_),g&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==d&&(E=!1),f=(E?"("===d?d:c:"-"===d||"("===d?"":d)+f,k=("s"===b?at[8+Ve/3]:"")+k+(E&&"("===d?")":""),w)for(a=-1,o=e.length;++a<o;)if(48>(l=e.charCodeAt(a))||l>57){k=(46===l?i+e.slice(a+1):e.slice(a))+k,e=e.slice(0,a);break}}m&&!p&&(e=r(e,1/0));var x=f.length+e.length+k.length,O=x<h?new Array(h-x+1).join(t):"";switch(m&&p&&(e=r(O+e,O.length?h-k.length:1/0),O=""),n){case"<":e=f+e+k+O;break;case"=":e=f+O+e+k;break;case"^":e=O.slice(0,x=O.length>>1)+f+e+k+O.slice(x);break;default:e=O+f+e+k}return s(e)}return _=void 0===_?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=We(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Ze(t)/3))),a=Math.pow(10,-r),o=at[8+r/3];return function(e){return n(a*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Xe=$e.format,Je=$e.formatPrefix;function ot(e,t,n,r){var a,o=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/a;return o>=Y?a*=10:o>=K?a*=5:o>=W&&(a*=2),t<e?-a:a}(e,t,n);switch((r=We(null==r?",f":r)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ze(t)/3)))-Ze(Math.abs(e)))}(o,i))||(r.precision=a),Je(r,i);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ze(t)-Ze(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-Ze(Math.abs(e)))}(o))||(r.precision=a-2*("%"===r.type))}return Xe(r)}function it(e){var t=e.domain;return e.ticks=function(e){var n=t();return q(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return ot(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,o=t(),i=0,s=o.length-1,l=o[i],c=o[s],u=10;for(c<l&&(a=l,l=c,c=a,a=i,i=s,s=a);u-- >0;){if((a=G(l,c,n))===r)return o[i]=l,o[s]=c,t(o);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}const st=Symbol("implicit");function lt(){var e=new Map,t=[],n=[],r=st;function a(a){var o=a+"",i=e.get(o);if(!i){if(r!==st)return r;e.set(o,i=t.push(a))}return n[(i-1)%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const r of n){const n=r+"";e.has(n)||e.set(n,t.push(r))}return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return lt(t,n).unknown(r)},Ye.apply(a,arguments),a}function ct(e,t){var n,r=0,a=(e=e.slice()).length-1,o=e[r],i=e[a];return i<o&&(n=r,r=a,a=n,n=o,o=i,i=n),e[r]=t.floor(o),e[a]=t.ceil(i),e}function ut(e){return Math.log(e)}function dt(e){return Math.exp(e)}function ft(e){return-Math.log(-e)}function pt(e){return-Math.exp(-e)}function ht(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mt(e){return function(t){return-e(-t)}}function _t(e){var t,n,r=e(ut,dt),a=r.domain,o=10;function i(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?ht:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),a()[0]<0?(t=mt(t),n=mt(n),e(ft,pt)):e(ut,dt),r}return r.base=function(e){return arguments.length?(o=+e,i()):o},r.domain=function(e){return arguments.length?(a(e),i()):a()},r.ticks=function(e){var r,i=a(),s=i[0],l=i[i.length-1];(r=l<s)&&(f=s,s=l,l=f);var c,u,d,f=t(s),p=t(l),h=null==e?10:+e,m=[];if(!(o%1)&&p-f<h){if(f=Math.floor(f),p=Math.ceil(p),s>0){for(;f<=p;++f)for(u=1,c=n(f);u<o;++u)if(!((d=c*u)<s)){if(d>l)break;m.push(d)}}else for(;f<=p;++f)for(u=o-1,c=n(f);u>=1;--u)if(!((d=c*u)<s)){if(d>l)break;m.push(d)}2*m.length<h&&(m=q(s,l,h))}else m=q(f,p,Math.min(p-f,h)).map(n);return r?m.reverse():m},r.tickFormat=function(e,a){if(null==a&&(a=10===o?".0e":","),"function"!=typeof a&&(a=Xe(a)),e===1/0)return a;null==e&&(e=10);var i=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=i?a(e):""}},r.nice=function(){return a(ct(a(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function gt(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bt(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yt(e){var t=1,n=e(gt(t),bt(t));return n.constant=function(n){return arguments.length?e(gt(t=+n),bt(t)):t},it(n)}var vt=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n},At=e=>Ne(e[e.length-1]),wt=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(vt),kt=At(wt),Et=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(vt),xt=At(Et),Ot=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(vt),Ct=At(Ot),jt=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(vt),Dt=At(jt),Nt=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(vt),St=At(Nt),Tt=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(vt),Mt=At(Tt),Pt=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(vt),Bt=At(Pt),It=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(vt),Lt=At(It),Ut=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(vt),Rt=At(Ut),Ft=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(vt),zt=At(Ft),Qt=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(vt),Ht=At(Qt),Yt=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(vt),Kt=At(Yt),Wt=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(vt),qt=At(Wt),Gt=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(vt),Vt=At(Gt),$t=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(vt),Xt=At($t),Jt=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(vt),Zt=At(Jt),en=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(vt),tn=At(en),nn=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(vt),rn=At(nn),an=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(vt),on=At(an),sn=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(vt),ln=At(sn),cn=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(vt),un=At(cn),dn=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(vt),fn=At(dn),pn=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(vt),hn=At(pn),mn=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(vt),_n=At(mn),gn=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(vt),bn=At(gn),yn=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(vt),vn=At(yn),An=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(vt),wn=At(An),kn=vt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),En=vt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),xn=vt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),On=vt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Cn=vt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),jn=vt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Dn=vt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Nn=vt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Sn=vt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function Tn(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Mn=Tn(vt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Pn=Tn(vt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Bn=Tn(vt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),In=Tn(vt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Ln=Math.PI/180,Un=180/Math.PI;var Rn=-.29227,Fn=-.90649,zn=1.97294,Qn=zn*Fn,Hn=1.78277*zn,Yn=-.6557636667999999;function Kn(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Wn)return new Wn(e.h,e.s,e.l,e.opacity);e instanceof _e||(e=he(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(Yn*r+Qn*t-Hn*n)/(Yn+Qn-Hn),o=r-a,i=(zn*(n-a)-Rn*o)/Fn,s=Math.sqrt(i*i+o*o)/(zn*a*(1-a)),l=s?Math.atan2(i,o)*Un-120:NaN;return new Wn(l<0?l+360:l,s,a,e.opacity)}(e):new Wn(e,t,n,null==r?1:r)}function Wn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function qn(e){return function t(n){function r(t,r){var a=e((t=Kn(t)).h,(r=Kn(r)).h),o=Ce(t.s,r.s),i=Ce(t.l,r.l),s=Ce(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=o(e),t.l=i(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}V(Wn,Kn,$(X,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Wn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Wn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Ln,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new _e(255*(t+n*(-.14861*r+1.78277*a)),255*(t+n*(Rn*r+Fn*a)),255*(t+n*(zn*r)),this.opacity)}})),qn((function(e,t){var n=t-e;return n?Oe(e,n>180||n<-180?n-360*Math.round(n/360):n):xe(isNaN(e)?t:e)}));var Gn=qn(Ce),Vn=Gn(Kn(-100,.75,.35),Kn(80,1.5,.8)),$n=Gn(Kn(260,.75,.35),Kn(80,1.5,.8)),Xn=Kn(),Jn=Gn(Kn(300,.5,0),Kn(-240,.5,1)),Zn=me(),er=Math.PI/3,tr=2*Math.PI/3,nr=n(61),rr=n.n(nr),ar=n(263),or=n.n(ar);function ir(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function sr(e){this._context=e}sr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ir(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ir(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var lr=function(){};function cr(e){this._context=e}function ur(e){this._context=e}function dr(e,t){this._basis=new sr(e),this._beta=t}cr.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ir(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ur.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ir(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},dr.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,a=e[0],o=t[0],i=e[n]-a,s=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(a+r*i),this._beta*t[l]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var fr=function e(t){function n(e){return 1===t?new sr(e):new dr(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function pr(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function hr(e,t){this._context=e,this._k=(1-t)/6}hr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pr(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:pr(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var mr=function e(t){function n(e){return new hr(e,t)}return n.tension=function(t){return e(+t)},n}(0);function _r(e,t){this._context=e,this._k=(1-t)/6}_r.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:pr(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var gr=function e(t){function n(e){return new _r(e,t)}return n.tension=function(t){return e(+t)},n}(0);function br(e,t){this._context=e,this._k=(1-t)/6}br.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pr(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var yr=function e(t){function n(e){return new br(e,t)}return n.tension=function(t){return e(+t)},n}(0),vr=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,1e-12);function Ar(e,t,n){var r=e._x1,a=e._y1,o=e._x2,i=e._y2;if(e._l01_a>vr){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,a=(a*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>vr){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,i=(i*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,a,o,i,e._x2,e._y2)}function wr(e,t){this._context=e,this._alpha=t}Math.PI,wr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ar(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var kr=function e(t){function n(e){return t?new wr(e,t):new hr(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Er(e,t){this._context=e,this._alpha=t}Er.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ar(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var xr=function e(t){function n(e){return t?new Er(e,t):new _r(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Or(e,t){this._context=e,this._alpha=t}Or.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ar(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Cr=function e(t){function n(e){return t?new Or(e,t):new br(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function jr(e){this._context=e}jr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Dr=function(e){return new jr(e)};function Nr(e){this._context=e}function Sr(e){return e<0?-1:1}function Tr(e,t,n){var r=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(r||a<0&&-0),i=(n-e._y1)/(a||r<0&&-0),s=(o*a+i*r)/(r+a);return(Sr(o)+Sr(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Mr(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Pr(e,t,n){var r=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,a+s*t,o-s,i-s*n,o,i)}function Br(e){this._context=e}function Ir(e){this._context=new Lr(e)}function Lr(e){this._context=e}function Ur(e){this._context=e}function Rr(e){var t,n,r=e.length-1,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function Fr(e,t){this._context=e,this._t=t}Nr.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Br.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pr(this,this._t0,Mr(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Pr(this,Mr(this,n=Tr(this,e,t)),n);break;default:Pr(this,this._t0,n=Tr(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Ir.prototype=Object.create(Br.prototype)).point=function(e,t){Br.prototype.point.call(this,t,e)},Lr.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,o){this._context.bezierCurveTo(t,e,r,n,o,a)}},Ur.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Rr(e),a=Rr(t),o=0,i=1;i<n;++o,++i)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[i],t[i]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Fr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var zr=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n},Qr=function(e){var t=e.map(Hr);return zr(e).sort((function(e,n){return t[e]-t[n]}))};function Hr(e){for(var t,n=0,r=-1,a=e.length;++r<a;)(t=+e[r][1])&&(n+=t);return n}function Yr(e){for(var t,n=-1,r=0,a=e.length,o=-1/0;++n<a;)(t=+e[n][1])>o&&(o=t,r=n);return r}var Kr=function(e,t){if((a=e.length)>1)for(var n,r,a,o=1,i=e[t[0]],s=i.length;o<a;++o)for(r=i,i=e[t[o]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},Wr=new Date,qr=new Date;function Gr(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=function(t){return e(t=new Date(+t)),t},a.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},a.round=function(e){var t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},a.range=function(n,r,o){var i,s=[];if(n=a.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(i=new Date(+n)),t(n,o),e(n)}while(i<n&&n<r);return s},a.filter=function(n){return Gr((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(a.count=function(t,r){return Wr.setTime(+t),qr.setTime(+r),e(Wr),e(qr),Math.floor(n(Wr,qr))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?function(t){return r(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}var Vr=6e4,$r=6048e5;function Xr(e){return Gr((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/$r}))}var Jr=Xr(0),Zr=Xr(1),ea=Xr(2),ta=Xr(3),na=Xr(4),ra=Xr(5),aa=Xr(6),oa=(Jr.range,Zr.range,ea.range,ta.range,na.range,ra.range,aa.range,Gr((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),ia=oa;function sa(e){return Gr((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vr)/$r}))}oa.range;var la=sa(0),ca=sa(1),ua=sa(2),da=sa(3),fa=sa(4),pa=sa(5),ha=sa(6),ma=(la.range,ca.range,ua.range,da.range,fa.range,pa.range,ha.range,Gr((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vr)/864e5}),(function(e){return e.getDate()-1}))),_a=ma,ga=(ma.range,Gr((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));ga.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Gr((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var ba=ga,ya=(ga.range,Gr((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));ya.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Gr((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var va=ya;function Aa(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wa(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ka(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}ya.range;var Ea,xa,Oa,Ca,ja,Da={"-":"",_:" ",0:"0"},Na=/^\s*\d+/,Sa=/^%/,Ta=/[\\^$*+?|[\]().{}]/g;function Ma(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function Pa(e){return e.replace(Ta,"\\$&")}function Ba(e){return new RegExp("^(?:"+e.map(Pa).join("|")+")","i")}function Ia(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function La(e,t,n){var r=Na.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ua(e,t,n){var r=Na.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ra(e,t,n){var r=Na.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Fa(e,t,n){var r=Na.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function za(e,t,n){var r=Na.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Qa(e,t,n){var r=Na.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ha(e,t,n){var r=Na.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ya(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ka(e,t,n){var r=Na.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Wa(e,t,n){var r=Na.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qa(e,t,n){var r=Na.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ga(e,t,n){var r=Na.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Va(e,t,n){var r=Na.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function $a(e,t,n){var r=Na.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Xa(e,t,n){var r=Na.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ja(e,t,n){var r=Na.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Za(e,t,n){var r=Na.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eo(e,t,n){var r=Sa.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function to(e,t,n){var r=Na.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function no(e,t,n){var r=Na.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ro(e,t){return Ma(e.getDate(),t,2)}function ao(e,t){return Ma(e.getHours(),t,2)}function oo(e,t){return Ma(e.getHours()%12||12,t,2)}function io(e,t){return Ma(1+_a.count(ba(e),e),t,3)}function so(e,t){return Ma(e.getMilliseconds(),t,3)}function lo(e,t){return so(e,t)+"000"}function co(e,t){return Ma(e.getMonth()+1,t,2)}function uo(e,t){return Ma(e.getMinutes(),t,2)}function fo(e,t){return Ma(e.getSeconds(),t,2)}function po(e){var t=e.getDay();return 0===t?7:t}function ho(e,t){return Ma(la.count(ba(e)-1,e),t,2)}function mo(e){var t=e.getDay();return t>=4||0===t?fa(e):fa.ceil(e)}function _o(e,t){return e=mo(e),Ma(fa.count(ba(e),e)+(4===ba(e).getDay()),t,2)}function go(e){return e.getDay()}function bo(e,t){return Ma(ca.count(ba(e)-1,e),t,2)}function yo(e,t){return Ma(e.getFullYear()%100,t,2)}function vo(e,t){return Ma((e=mo(e)).getFullYear()%100,t,2)}function Ao(e,t){return Ma(e.getFullYear()%1e4,t,4)}function wo(e,t){var n=e.getDay();return Ma((e=n>=4||0===n?fa(e):fa.ceil(e)).getFullYear()%1e4,t,4)}function ko(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ma(t/60|0,"0",2)+Ma(t%60,"0",2)}function Eo(e,t){return Ma(e.getUTCDate(),t,2)}function xo(e,t){return Ma(e.getUTCHours(),t,2)}function Oo(e,t){return Ma(e.getUTCHours()%12||12,t,2)}function Co(e,t){return Ma(1+ia.count(va(e),e),t,3)}function jo(e,t){return Ma(e.getUTCMilliseconds(),t,3)}function Do(e,t){return jo(e,t)+"000"}function No(e,t){return Ma(e.getUTCMonth()+1,t,2)}function So(e,t){return Ma(e.getUTCMinutes(),t,2)}function To(e,t){return Ma(e.getUTCSeconds(),t,2)}function Mo(e){var t=e.getUTCDay();return 0===t?7:t}function Po(e,t){return Ma(Jr.count(va(e)-1,e),t,2)}function Bo(e){var t=e.getUTCDay();return t>=4||0===t?na(e):na.ceil(e)}function Io(e,t){return e=Bo(e),Ma(na.count(va(e),e)+(4===va(e).getUTCDay()),t,2)}function Lo(e){return e.getUTCDay()}function Uo(e,t){return Ma(Zr.count(va(e)-1,e),t,2)}function Ro(e,t){return Ma(e.getUTCFullYear()%100,t,2)}function Fo(e,t){return Ma((e=Bo(e)).getUTCFullYear()%100,t,2)}function zo(e,t){return Ma(e.getUTCFullYear()%1e4,t,4)}function Qo(e,t){var n=e.getUTCDay();return Ma((e=n>=4||0===n?na(e):na.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ho(){return"+0000"}function Yo(){return"%"}function Ko(e){return+e}function Wo(e){return Math.floor(+e/1e3)}Ea=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=Ba(a),u=Ia(a),d=Ba(o),f=Ia(o),p=Ba(i),h=Ia(i),m=Ba(s),_=Ia(s),g=Ba(l),b=Ia(l),y={a:function(e){return i[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:ro,e:ro,f:lo,g:vo,G:wo,H:ao,I:oo,j:io,L:so,m:co,M:uo,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ko,s:Wo,S:fo,u:po,U:ho,V:_o,w:go,W:bo,x:null,X:null,y:yo,Y:Ao,Z:ko,"%":Yo},v={a:function(e){return i[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Eo,e:Eo,f:Do,g:Fo,G:Qo,H:xo,I:Oo,j:Co,L:jo,m:No,M:So,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ko,s:Wo,S:To,u:Mo,U:Po,V:Io,w:Lo,W:Uo,x:null,X:null,y:Ro,Y:zo,Z:Ho,"%":Yo},A={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:qa,e:qa,f:Za,g:Ha,G:Qa,H:Va,I:Va,j:Ga,L:Ja,m:Wa,M:$a,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Ka,Q:to,s:no,S:Xa,u:Ua,U:Ra,V:Fa,w:La,W:za,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:Ha,Y:Qa,Z:Ya,"%":eo};function w(e,t){return function(n){var r,a,o,i=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(i.push(e.slice(l,s)),null!=(a=Da[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(o=t[r])&&(r=o(n,a)),i.push(r),l=s+1);return i.push(e.slice(l,s)),i.join("")}}function k(e,t){return function(n){var r,a,o=ka(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!t||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(a=(r=wa(ka(o.y,0,1))).getUTCDay(),r=a>4||0===a?Zr.ceil(r):Zr(r),r=ia.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(a=(r=Aa(ka(o.y,0,1))).getDay(),r=a>4||0===a?ca.ceil(r):ca(r),r=_a.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),a="Z"in o?wa(ka(o.y,0,1)).getUTCDay():Aa(ka(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,wa(o)):Aa(o)}}function E(e,t,n,r){for(var a,o,i=0,s=t.length,l=n.length;i<s;){if(r>=l)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(o=A[a in Da?t.charAt(i++):a])||(r=o(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return y.x=w(n,y),y.X=w(r,y),y.c=w(t,y),v.x=w(n,v),v.X=w(r,v),v.c=w(t,v),{format:function(e){var t=w(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),xa=Ea.format,Oa=Ea.parse,Ca=Ea.utcFormat,ja=Ea.utcParse,n(182),Object.prototype.hasOwnProperty;var qo=n(93),Go=n.n(qo),Vo=n(92),$o=n.n(Vo),Xo=n(415),Jo=n.n(Xo);function Zo(){return(Zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ei(e,t){return(ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ti(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var ni={fill:o.a.string,fontSize:o.a.number,fontFamily:o.a.string},ri=o.a.shape({domain:o.a.shape({line:o.a.shape({stroke:o.a.string.isRequired,strokeWidth:o.a.number.isRequired,strokeDasharray:o.a.string}).isRequired}).isRequired,ticks:o.a.shape({line:o.a.shape({stroke:o.a.string.isRequired,strokeWidth:o.a.number.isRequired,strokeDasharray:o.a.string}).isRequired,text:o.a.shape(Zo({},ni)).isRequired}).isRequired,legend:o.a.shape({text:o.a.shape(Zo({},ni)).isRequired}).isRequired}),ai=o.a.shape({line:o.a.shape({stroke:o.a.string.isRequired,strokeWidth:o.a.number.isRequired,strokeDasharray:o.a.string}).isRequired}),oi=o.a.shape({hidden:o.a.shape({symbol:o.a.shape({fill:o.a.string.isRequired,opacity:o.a.number}).isRequired,text:o.a.shape(Zo({},ni,{opacity:o.a.number})).isRequired}).isRequired,text:o.a.shape(Zo({},ni)).isRequired}),ii=o.a.shape({text:o.a.shape(Zo({},ni)).isRequired}),si=o.a.shape({text:o.a.shape(Zo({},ni)).isRequired}),li=o.a.shape({text:o.a.shape(Zo({},ni)).isRequired}),ci=o.a.shape({line:o.a.shape({stroke:o.a.string.isRequired,strokeWidth:o.a.number.isRequired,strokeDasharray:o.a.string}).isRequired}),ui=o.a.shape({text:o.a.shape(Zo({},ni,{outlineWidth:o.a.number.isRequired,outlineColor:o.a.string.isRequired})).isRequired,link:o.a.shape({stroke:o.a.string.isRequired,strokeWidth:o.a.number.isRequired,outlineWidth:o.a.number.isRequired,outlineColor:o.a.string.isRequired}).isRequired,outline:o.a.shape({stroke:o.a.string.isRequired,strokeWidth:o.a.number.isRequired,outlineWidth:o.a.number.isRequired,outlineColor:o.a.string.isRequired}).isRequired,symbol:o.a.shape({fill:o.a.string.isRequired,outlineWidth:o.a.number.isRequired,outlineColor:o.a.string.isRequired}).isRequired}),di=(o.a.shape({background:o.a.string.isRequired,fontFamily:o.a.string.isRequired,fontSize:o.a.number.isRequired,textColor:o.a.string.isRequired,axis:ri.isRequired,grid:ai.isRequired,legends:oi.isRequired,labels:ii.isRequired,dots:si.isRequired,markers:li,crosshair:ci.isRequired,annotations:ui.isRequired}),{background:"transparent",fontFamily:"sans-serif",fontSize:11,textColor:"#333333",axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}}),fi=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],pi=Object(r.createContext)(),hi=function(e){var t=e.children,n=e.animate,a=e.stiffness,o=e.damping,l=e.config,c=Object(r.useMemo)((function(){var e=I()(l)?i.config[l]:l;return{animate:n,springConfig:{stiffness:a,damping:o},config:e}}),[n,a,o,l]);return Object(s.jsx)(pi.Provider,{value:c,children:t})},mi={animate:o.a.bool,motionStiffness:o.a.number,motionDamping:o.a.number,motionConfig:o.a.oneOfType([o.a.oneOf(Object.keys(i.config)),o.a.shape({mass:o.a.number,tension:o.a.number,friction:o.a.number,clamp:o.a.bool,precision:o.a.number,velocity:o.a.number,duration:o.a.number,easing:o.a.func})])};hi.propTypes={children:o.a.node.isRequired,animate:mi.animate,stiffness:mi.motionStiffness,damping:mi.motionDamping,config:mi.motionConfig},hi.defaultProps={animate:!0,stiffness:90,damping:15,config:"default"};var _i=function(){return Object(r.useContext)(pi)},gi=function(e){var t=_i(),n=t.animate,a=t.config,o=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}(e),s=Object(r.useMemo)((function(){return P(o,e)}),[o,e]),l=Object(i.useSpring)({from:{value:0},to:{value:1},reset:!0,config:a,immediate:!n}).value;return Object(i.to)(l,s)},bi={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:U()(wt),PRGn:U()(Et),PiYG:U()(Ot),PuOr:U()(jt),RdBu:U()(Nt),RdGy:U()(Tt),RdYlBu:U()(Pt),RdYlGn:U()(It),spectral:U()(Ut),blues:U()(Ft),greens:U()(Qt),greys:U()(Yt),oranges:U()(Wt),purples:U()(Gt),reds:U()($t),BuGn:U()(Jt),BuPu:U()(en),GnBu:U()(nn),OrRd:U()(an),PuBuGn:U()(sn),PuBu:U()(cn),PuRd:U()(dn),RdPu:U()(pn),YlGnBu:U()(mn),YlGn:U()(gn),YlOrBr:U()(yn),YlOrRd:U()(An)},yi=Object.keys(bi),vi=(U()(wt),U()(Et),U()(Ot),U()(jt),U()(Nt),U()(Tt),U()(Pt),U()(It),U()(Ut),U()(Ft),U()(Qt),U()(Yt),U()(Wt),U()(Gt),U()($t),U()(Jt),U()(en),U()(nn),U()(an),U()(sn),U()(cn),U()(dn),U()(pn),U()(mn),U()(gn),U()(yn),U()(An),o.a.oneOfType([o.a.oneOf(yi),o.a.func,o.a.arrayOf(o.a.string)]),{basis:function(e){return new sr(e)},basisClosed:function(e){return new cr(e)},basisOpen:function(e){return new ur(e)},bundle:fr,cardinal:mr,cardinalClosed:gr,cardinalOpen:yr,catmullRom:kr,catmullRomClosed:xr,catmullRomOpen:Cr,linear:Dr,linearClosed:function(e){return new Nr(e)},monotoneX:function(e){return new Br(e)},monotoneY:function(e){return new Ir(e)},natural:function(e){return new Ur(e)},step:function(e){return new Fr(e,.5)},stepAfter:function(e){return new Fr(e,1)},stepBefore:function(e){return new Fr(e,0)}}),Ai=Object.keys(vi),wi=(o.a.oneOf(Ai),Ai.filter((function(e){return e.endsWith("Closed")})),or()(Ai,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),or()(Ai,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed")),ki=o.a.oneOf(wi),Ei=function(e){if(!vi[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return vi[e]},xi={defs:o.a.arrayOf(o.a.shape({id:o.a.string.isRequired})).isRequired,fill:o.a.arrayOf(o.a.shape({id:o.a.string.isRequired,match:o.a.oneOfType([o.a.oneOf(["*"]),o.a.object,o.a.func]).isRequired})).isRequired},Oi={ascending:Qr,descending:function(e){return Qr(e).reverse()},insideOut:function(e){var t,n,r=e.length,a=e.map(Hr),o=function(e){var t=e.map(Yr);return zr(e).sort((function(e,n){return t[e]-t[n]}))}(e),i=0,s=0,l=[],c=[];for(t=0;t<r;++t)n=o[t],i<s?(i+=a[n],l.push(n)):(s+=a[n],c.push(n));return c.reverse().concat(l)},none:zr,reverse:function(e){return zr(e).reverse()}},Ci=Object.keys(Oi),ji=(o.a.oneOf(Ci),{expand:function(e,t){if((r=e.length)>0){for(var n,r,a,o=0,i=e[0].length;o<i;++o){for(a=n=0;n<r;++n)a+=e[n][o][1]||0;if(a)for(n=0;n<r;++n)e[n][o][1]/=a}Kr(e,t)}},diverging:function(e,t){if((s=e.length)>0)for(var n,r,a,o,i,s,l=0,c=e[t[0]].length;l<c;++l)for(o=i=0,n=0;n<s;++n)(a=(r=e[t[n]][l])[1]-r[0])>0?(r[0]=o,r[1]=o+=a):a<0?(r[1]=i,r[0]=i+=a):(r[0]=0,r[1]=a)},none:Kr,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],o=a.length;r<o;++r){for(var i=0,s=0;i<n;++i)s+=e[i][r][1]||0;a[r][1]+=a[r][0]=-s/2}Kr(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,o=0,i=1;i<r;++i){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[i][1]||0,f=(d-(u[i-1][1]||0))/2,p=0;p<s;++p){var h=e[t[p]];f+=(h[i][1]||0)-(h[i-1][1]||0)}l+=d,c+=f*d}n[i-1][1]+=n[i-1][0]=o,l&&(o-=c/l)}n[i-1][1]+=n[i-1][0]=o,Kr(e,t)}}}),Di=Object.keys(ji),Ni=(o.a.oneOf(Di),o.a.shape({top:o.a.number,right:o.a.number,bottom:o.a.number,left:o.a.number}).isRequired,o.a.oneOf(["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"])),Si=(lt(Sn),{top:0,right:0,bottom:0,left:0}),Ti=function(e,t,n){return void 0===n&&(n={}),Object(r.useMemo)((function(){var r=Zo({},Si,n);return{margin:r,innerWidth:e-r.left-r.right,innerHeight:t-r.top-r.bottom,outerWidth:e,outerHeight:t}}),[e,t,n.top,n.right,n.bottom,n.left])},Mi=function(){var e=Object(r.useRef)(null),t=Object(r.useState)({left:0,top:0,width:0,height:0}),n=t[0],a=t[1],o=Object(r.useState)((function(){return"undefined"!=typeof window?new ResizeObserver((function(e){var t=e[0];return a(t.contentRect)})):null}))[0];return Object(r.useEffect)((function(){return e.current&&null!==o&&o.observe(e.current),function(){null!==o&&o.disconnect()}}),[]),[e,n]},Pi=function(e){return Object(r.useMemo)((function(){return function(e){return"function"==typeof e?e:"string"==typeof e?0===e.indexOf("time:")?xa(e.slice("5")):Xe(e):function(e){return""+e}}(e)}),[e])},Bi=Object(r.createContext)(),Ii={},Li=function(e){var t=e.theme,n=void 0===t?Ii:t,a=e.children,o=function(e){return Object(r.useMemo)((function(){return function(e,t){var n=O()({},e,t);return fi.forEach((function(e){void 0===j()(n,e+".fontFamily")&&N()(n,e+".fontFamily",n.fontFamily),void 0===j()(n,e+".fontSize")&&N()(n,e+".fontSize",n.fontSize),void 0===j()(n,e+".fill")&&N()(n,e+".fill",n.textColor)})),n}(di,e)}),[e])}(n);return Object(s.jsx)(Bi.Provider,{value:o,children:a})};Li.propTypes={children:o.a.node.isRequired,theme:o.a.object};var Ui=function(){return Object(r.useContext)(Bi)},Ri=function(e){var t=e.children,n=e.condition,a=e.wrapper;return n?Object(r.cloneElement)(a,{},t):t};Ri.propTypes={children:o.a.node.isRequired,condition:o.a.bool.isRequired,wrapper:o.a.element.isRequired};var Fi={position:"relative"},zi=function(e){var t=e.children,n=e.theme,a=e.renderWrapper,o=void 0===a||a,i=e.isInteractive,l=void 0===i||i,c=e.animate,u=e.motionStiffness,d=e.motionDamping,f=e.motionConfig,p=Object(r.useRef)(null);return Object(s.jsx)(Li,{theme:n,children:Object(s.jsx)(hi,{animate:c,stiffness:u,damping:d,config:f,children:Object(s.jsx)(E,{container:p,children:Object(s.jsxs)(Ri,{condition:o,wrapper:Object(s.jsx)("div",{style:Fi,ref:p}),children:[t,l&&Object(s.jsx)(k,{})]})})})})};zi.propTypes={children:o.a.element.isRequired,isInteractive:o.a.bool,renderWrapper:o.a.bool,theme:o.a.object,animate:o.a.bool,motionStiffness:o.a.number,motionDamping:o.a.number,motionConfig:o.a.string},o.a.func.isRequired,o.a.bool,o.a.bool,o.a.object.isRequired,o.a.bool.isRequired,o.a.number,o.a.number,o.a.string;var Qi=function(e){var t=e.children,n=Mi(),r=n[0],a=n[1],o=a.width>0&&a.height>0;return Object(s.jsx)("div",{ref:r,style:{width:"100%",height:"100%"},children:o&&t({width:a.width,height:a.height})})};Qi.propTypes={children:o.a.func.isRequired};var Hi=["id","colors"],Yi=function(e){var t=e.id,n=e.colors,r=ti(e,Hi);return Object(s.jsx)("linearGradient",Zo({id:t,x1:0,x2:0,y1:0,y2:1},r,{children:n.map((function(e){var t=e.offset,n=e.color,r=e.opacity;return Object(s.jsx)("stop",{offset:t+"%",stopColor:n,stopOpacity:void 0!==r?r:1},t)}))}))};Yi.propTypes={id:o.a.string.isRequired,colors:o.a.arrayOf(o.a.shape({offset:o.a.number.isRequired,color:o.a.string.isRequired,opacity:o.a.number})).isRequired,gradientTransform:o.a.string};var Ki={linearGradient:Yi},Wi=Object(r.memo)((function(e){var t=e.id,n=e.background,r=e.color,a=e.size,o=e.padding,i=e.stagger,l=a+o,c=a/2,u=o/2;return!0===i&&(l=2*a+2*o),Object(s.jsxs)("pattern",{id:t,width:l,height:l,patternUnits:"userSpaceOnUse",children:[Object(s.jsx)("rect",{width:l,height:l,fill:n}),Object(s.jsx)("circle",{cx:u+c,cy:u+c,r:c,fill:r}),i&&Object(s.jsx)("circle",{cx:1.5*o+a+c,cy:1.5*o+a+c,r:c,fill:r})]})}));Wi.displayName="PatternDots",Wi.propTypes={id:o.a.string.isRequired,color:o.a.string.isRequired,background:o.a.string.isRequired,size:o.a.number.isRequired,padding:o.a.number.isRequired,stagger:o.a.bool.isRequired},Wi.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Math.PI;var qi=function(e){return e*Math.PI/180},Gi={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},Vi=Object(r.memo)((function(e){var t=e.id,n=e.spacing,r=e.rotation,a=e.background,o=e.color,i=e.lineWidth,l=Math.round(r)%360,c=Math.abs(n);l>180?l-=360:l>90?l-=180:l<-180?l+=360:l<-90&&(l+=180);var u,d=c,f=c;return 0===l?u="\n                M 0 0 L "+d+" 0\n                M 0 "+f+" L "+d+" "+f+"\n            ":90===l?u="\n                M 0 0 L 0 "+f+"\n                M "+d+" 0 L "+d+" "+f+"\n            ":(d=Math.abs(c/Math.sin(qi(l))),f=c/Math.sin(qi(90-l)),u=l>0?"\n                    M 0 "+-f+" L "+2*d+" "+f+"\n                    M "+-d+" "+-f+" L "+d+" "+f+"\n                    M "+-d+" 0 L "+d+" "+2*f+"\n                ":"\n                    M "+-d+" "+f+" L "+d+" "+-f+"\n                    M "+-d+" "+2*f+" L "+2*d+" "+-f+"\n                    M 0 "+2*f+" L "+2*d+" 0\n                "),Object(s.jsxs)("pattern",{id:t,width:d,height:f,patternUnits:"userSpaceOnUse",children:[Object(s.jsx)("rect",{width:d,height:f,fill:a,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),Object(s.jsx)("path",{d:u,strokeWidth:i,stroke:o,strokeLinecap:"square"})]})}));Vi.displayName="PatternLines",Vi.propTypes={id:o.a.string.isRequired,spacing:o.a.number.isRequired,rotation:o.a.number.isRequired,background:o.a.string.isRequired,color:o.a.string.isRequired,lineWidth:o.a.number.isRequired},Vi.defaultProps={spacing:5,rotation:0,color:"#000000",background:"#ffffff",lineWidth:2};var $i=Object(r.memo)((function(e){var t=e.id,n=e.background,r=e.color,a=e.size,o=e.padding,i=e.stagger,l=a+o,c=o/2;return!0===i&&(l=2*a+2*o),Object(s.jsxs)("pattern",{id:t,width:l,height:l,patternUnits:"userSpaceOnUse",children:[Object(s.jsx)("rect",{width:l,height:l,fill:n}),Object(s.jsx)("rect",{x:c,y:c,width:a,height:a,fill:r}),i&&Object(s.jsx)("rect",{x:1.5*o+a,y:1.5*o+a,width:a,height:a,fill:r})]})}));$i.displayName="PatternSquares",$i.propTypes={id:o.a.string.isRequired,color:o.a.string.isRequired,background:o.a.string.isRequired,size:o.a.number.isRequired,padding:o.a.number.isRequired,stagger:o.a.bool.isRequired},$i.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};var Xi={patternDots:Wi,patternLines:Vi,patternSquares:$i},Ji=["type"],Zi=Zo({},Ki,Xi),es=function(e){var t=e.defs;return!t||t.length<1?null:Object(s.jsx)("defs",{"aria-hidden":!0,children:t.map((function(e){var t=e.type,n=ti(e,Ji);return Zi[t]?Object(r.createElement)(Zi[t],Zo({key:n.id},n)):null}))})};es.propTypes={defs:o.a.arrayOf(o.a.shape({type:o.a.oneOf(Object.keys(Zi)).isRequired,id:o.a.string.isRequired}))};var ts=Object(r.memo)(es),ns=function(e){var t=e.width,n=e.height,r=e.margin,a=e.defs,o=e.children,i=e.role,l=e.ariaLabel,c=e.ariaLabelledBy,u=e.ariaDescribedBy,d=e.isFocusable,f=Ui();return Object(s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,role:i,"aria-label":l,"aria-labelledby":c,"aria-describedby":u,focusable:d,tabIndex:d?0:void 0,children:[Object(s.jsx)(ts,{defs:a}),Object(s.jsx)("rect",{width:t,height:n,fill:f.background}),Object(s.jsx)("g",{transform:"translate("+r.left+","+r.top+")",children:o})]})};ns.propTypes={width:o.a.number.isRequired,height:o.a.number.isRequired,margin:o.a.shape({top:o.a.number.isRequired,left:o.a.number.isRequired}).isRequired,defs:o.a.array,children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired,role:o.a.string,isFocusable:o.a.bool,ariaLabel:o.a.string,ariaLabelledBy:o.a.string,ariaDescribedBy:o.a.string};var rs=function(e){var t=e.size,n=e.color,r=e.borderWidth,a=e.borderColor;return Object(s.jsx)("circle",{r:t/2,fill:n,stroke:a,strokeWidth:r,style:{pointerEvents:"none"}})};rs.propTypes={size:o.a.number.isRequired,color:o.a.string.isRequired,borderWidth:o.a.number.isRequired,borderColor:o.a.string.isRequired};var as=Object(r.memo)(rs),os=function(e){var t=e.x,n=e.y,a=e.symbol,o=void 0===a?as:a,l=e.size,c=e.datum,u=e.color,d=e.borderWidth,f=e.borderColor,p=e.label,h=e.labelTextAnchor,m=void 0===h?"middle":h,_=e.labelYOffset,g=void 0===_?-12:_,b=Ui(),y=_i(),v=y.animate,A=y.config,w=Object(i.useSpring)({transform:"translate("+t+", "+n+")",config:A,immediate:!v});return Object(s.jsxs)(i.animated.g,{transform:w.transform,style:{pointerEvents:"none"},children:[Object(r.createElement)(o,{size:l,color:u,datum:c,borderWidth:d,borderColor:f}),p&&Object(s.jsx)("text",{textAnchor:m,y:g,style:b.dots.text,children:p})]})};os.propTypes={x:o.a.number.isRequired,y:o.a.number.isRequired,datum:o.a.object.isRequired,size:o.a.number.isRequired,color:o.a.string.isRequired,borderWidth:o.a.number.isRequired,borderColor:o.a.string.isRequired,symbol:o.a.oneOfType([o.a.func,o.a.object]),label:o.a.oneOfType([o.a.string,o.a.number]),labelTextAnchor:o.a.oneOf(["start","middle","end"]),labelYOffset:o.a.number};var is=Object(r.memo)(os),ss=function(e){var t=e.width,n=e.height,r=e.axis,a=e.scale,o=e.value,i=e.lineStyle,l=e.textStyle,c=e.legend,u=e.legendPosition,d=e.legendOffsetX,f=e.legendOffsetY,p=e.legendOrientation,h=Ui(),m=0,_=0,g=0,b=0;"y"===r?(g=a(o),_=t):(m=a(o),b=n);var y=null;if(c){var v=function(e){var t=e.width,n=e.height,r=e.position,a=e.offsetX,o=e.offsetY,i=e.orientation,s=0,l=0,c="vertical"===i?-90:0,u="start";if("x"===e.axis)switch(r){case"top-left":s=-a,l=o,u="end";break;case"top":l=-o,u="horizontal"===i?"middle":"start";break;case"top-right":s=a,l=o,u="horizontal"===i?"start":"end";break;case"right":s=a,l=n/2,u="horizontal"===i?"start":"middle";break;case"bottom-right":s=a,l=n-o,u="start";break;case"bottom":l=n+o,u="horizontal"===i?"middle":"end";break;case"bottom-left":l=n-o,s=-a,u="horizontal"===i?"end":"start";break;case"left":s=-a,l=n/2,u="horizontal"===i?"end":"middle"}else switch(r){case"top-left":s=a,l=-o,u="start";break;case"top":s=t/2,l=-o,u="horizontal"===i?"middle":"start";break;case"top-right":s=t-a,l=-o,u="horizontal"===i?"end":"start";break;case"right":s=t+a,u="horizontal"===i?"start":"middle";break;case"bottom-right":s=t-a,l=o,u="end";break;case"bottom":s=t/2,l=o,u="horizontal"===i?"middle":"end";break;case"bottom-left":s=a,l=o,u="horizontal"===i?"start":"end";break;case"left":s=-a,u="horizontal"===i?"end":"middle"}return{x:s,y:l,rotation:c,textAnchor:u}}({axis:r,width:t,height:n,position:u,offsetX:d,offsetY:f,orientation:p});y=Object(s.jsx)("text",{transform:"translate("+v.x+", "+v.y+") rotate("+v.rotation+")",textAnchor:v.textAnchor,dominantBaseline:"central",style:l,children:c})}return Object(s.jsxs)("g",{transform:"translate("+m+", "+g+")",children:[Object(s.jsx)("line",{x1:0,x2:_,y1:0,y2:b,stroke:h.markers.lineColor,strokeWidth:h.markers.lineStrokeWidth,style:i}),y]})};ss.propTypes={width:o.a.number.isRequired,height:o.a.number.isRequired,axis:o.a.oneOf(["x","y"]).isRequired,scale:o.a.func.isRequired,value:o.a.oneOfType([o.a.number,o.a.string,o.a.instanceOf(Date)]).isRequired,lineStyle:o.a.object,textStyle:o.a.object,legend:o.a.string,legendPosition:o.a.oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:o.a.number.isRequired,legendOffsetY:o.a.number.isRequired,legendOrientation:o.a.oneOf(["horizontal","vertical"]).isRequired},ss.defaultProps={legendPosition:"top-right",legendOffsetX:14,legendOffsetY:14,legendOrientation:"horizontal"};var ls=Object(r.memo)(ss),cs=function(e){var t=e.markers,n=e.width,r=e.height,a=e.xScale,o=e.yScale;return t&&0!==t.length?t.map((function(e,t){return Object(s.jsx)(ls,Zo({},e,{width:n,height:r,scale:"y"===e.axis?o:a}),t)})):null};cs.propTypes={width:o.a.number.isRequired,height:o.a.number.isRequired,xScale:o.a.func.isRequired,yScale:o.a.func.isRequired,markers:o.a.arrayOf(o.a.shape({axis:o.a.oneOf(["x","y"]).isRequired,value:o.a.oneOfType([o.a.number,o.a.string,o.a.instanceOf(Date)]).isRequired,lineStyle:o.a.object,textStyle:o.a.object}))};var us=Object(r.memo)(cs),ds=["theme","renderWrapper","animate","motionStiffness","motionDamping","motionConfig"],fs=function(e){return function(t){var n,r;function a(){return t.apply(this,arguments)||this}return r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,ei(n,r),a.prototype.render=function(){var t=this.props,n=t.theme,r=t.renderWrapper,a=t.animate,o=t.motionStiffness,i=t.motionDamping,l=t.motionConfig,c=ti(t,ds);return Object(s.jsx)(zi,{theme:n,renderWrapper:r,isInteractive:c.isInteractive,animate:a,motionStiffness:o,motionDamping:i,motionConfig:l,children:Object(s.jsx)(e,Zo({},c))})},a}(r.Component)},ps=function(e,t){var n=t.clientX,r=t.clientY,a=e.getBoundingClientRect(),o=e.getBBox(),i=o.width===a.width?1:o.width/a.width;return[(n-a.left)*i,(r-a.top)*i]},hs=Object.keys(Ki),ms=Object.keys(Xi),_s=function(e,t,n,r){var a=void 0===r?{}:r,o=a.dataKey,i=a.colorKey,s=void 0===i?"color":i,l=a.targetKey,c=void 0===l?"fill":l,u=[],d={};return e.length&&t.length&&(u=[].concat(e),t.forEach((function(t){for(var r=function(r){var a=n[r],i=a.id;if(function(e,t,n){if("*"===e)return!0;if(rr()(e))return e(t);if($o()(e)){var r=n?j()(t,n):t;return Go()(Jo()(r,Object.keys(e)),e)}return!1}(a.match,t,o)){var l=e.find((function(e){return e.id===i}));if(l)if(ms.includes(l.type))if("inherit"===l.background||"inherit"===l.color){var f=j()(t,s),p=l.background,h=l.color,m=i;"inherit"===l.background&&(m=m+".bg."+f,p=f),"inherit"===l.color&&(m=m+".fg."+f,h=f),N()(t,c,"url(#"+m+")"),d[m]||(u.push(Zo({},l,{id:m,background:p,color:h})),d[m]=1)}else N()(t,c,"url(#"+i+")");else if(hs.includes(l.type))if(l.colors.map((function(e){return e.color})).includes("inherit")){var _=j()(t,s),g=i,b=Zo({},l,{colors:l.colors.map((function(e,t){return"inherit"!==e.color?e:(g=g+"."+t+"."+_,Zo({},e,{color:"inherit"===e.color?_:e.color}))}))});b.id=g,N()(t,c,"url(#"+g+")"),d[g]||(u.push(b),d[g]=1)}else N()(t,c,"url(#"+i+")");return"break"}},a=0;a<n.length&&"break"!==r(a);a++);}))),u};function gs(){return(gs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ys={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:kn,accent:En,dark2:xn,paired:On,pastel1:Cn,pastel2:jn,set1:Dn,set2:Nn,set3:Sn},vs=Object.keys(ys),As={brown_blueGreen:wt,purpleRed_green:Et,pink_yellowGreen:Ot,purple_orange:jt,red_blue:Nt,red_grey:Tt,red_yellow_blue:Pt,red_yellow_green:It,spectral:Ut},ws=Object.keys(As),ks={brown_blueGreen:kt,purpleRed_green:xt,pink_yellowGreen:Ct,purple_orange:Dt,red_blue:St,red_grey:Mt,red_yellow_blue:Bt,red_yellow_green:Lt,spectral:Rt},Es={blues:Ft,greens:Qt,greys:Yt,oranges:Wt,purples:Gt,reds:$t,blue_green:Jt,blue_purple:en,green_blue:nn,orange_red:an,purple_blue_green:sn,purple_blue:cn,purple_red:dn,red_purple:pn,yellow_green_blue:mn,yellow_green:gn,yellow_orange_brown:yn,yellow_orange_red:An},xs=Object.keys(Es),Os={blues:zt,greens:Ht,greys:Kt,oranges:qt,purples:Vt,reds:Xt,turbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},viridis:Mn,inferno:Bn,magma:Pn,plasma:In,cividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},warm:Vn,cool:$n,cubehelixDefault:Jn,blue_green:Zt,blue_purple:tn,green_blue:rn,orange_red:on,purple_blue_green:ln,purple_blue:un,purple_red:fn,red_purple:hn,yellow_green_blue:_n,yellow_green:bn,yellow_orange_brown:vn,yellow_orange_red:wn},Cs=gs({},ys,As,Es),js=Object.keys(Cs),Ds=gs({},ks,Os,{rainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Xn.h=360*e-100,Xn.s=1.5-1.5*t,Xn.l=.8-.9*t,Xn+""},sinebow:function(e){var t;return e=(.5-e)*Math.PI,Zn.r=255*(t=Math.sin(e))*t,Zn.g=255*(t=Math.sin(e+er))*t,Zn.b=255*(t=Math.sin(e+tr))*t,Zn+""}}),Ns=(Object.keys(Ds),function(e,t){if("function"==typeof e)return e;if($o()(e)){if(function(e){return void 0!==e.theme}(e)){if(void 0===t)throw new Error("Unable to use color from theme as no theme was provided");var n=j()(t,e.theme);if(void 0===n)throw new Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return n}}if(function(e){return void 0!==e.from}(e)){var r=function(t){return j()(t,e.from)};if(Array.isArray(e.modifiers)){for(var a,o=[],i=function(){var e=a.value,t=e[0],n=e[1];if("brighter"===t)o.push((function(e){return e.brighter(n)}));else if("darker"===t)o.push((function(e){return e.darker(n)}));else{if("opacity"!==t)throw new Error("Invalid color modifier: '"+t+"', must be one of: 'brighter', 'darker', 'opacity'");o.push((function(e){return e.opacity=n,e}))}},s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bs(e,t):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.modifiers);!(a=s()).done;)i();return 0===o.length?r:function(e){return o.reduce((function(e,t){return t(e)}),me(r(e))).toString()}}return r}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}}),Ss=function(e,t){return Object(r.useMemo)((function(){return Ns(e,t)}),[e,t])},Ts=o.a.oneOfType([o.a.func,o.a.arrayOf(o.a.string),o.a.shape({scheme:o.a.oneOf(js).isRequired,size:o.a.number}),o.a.shape({datum:o.a.string.isRequired}),o.a.string]),Ms=(o.a.oneOfType([o.a.string,o.a.func,o.a.shape({theme:o.a.string.isRequired}),o.a.shape({from:o.a.string.isRequired,modifiers:o.a.arrayOf(o.a.array)})]),function(e,t){if("function"==typeof e)return e;var n="function"==typeof t?t:function(e){return j()(e,t)};if(Array.isArray(e)){var r=lt(e),a=function(e){return r(n(e))};return a.scale=r,a}if($o()(e)){if(function(e){return void 0!==e.datum}(e))return function(t){return j()(t,e.datum)};if(function(e){return void 0!==e.scheme}(e)){if(function(e){return vs.includes(e)}(e.scheme)){var o=lt(Cs[e.scheme]),i=function(e){return o(n(e))};return i.scale=o,i}if(function(e){return ws.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>11))throw new Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var s=lt(Cs[e.scheme][e.size||11]),l=function(e){return s(n(e))};return l.scale=s,l}if(function(e){return xs.includes(e)}(e.scheme)){if(void 0!==e.size&&(e.size<3||e.size>9))throw new Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var c=lt(Cs[e.scheme][e.size||9]),u=function(e){return c(n(e))};return u.scale=c,u}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}}),Ps=n(264),Bs=n.n(Ps),Is=n(416),Ls=n.n(Is),Us=n(417),Rs=n.n(Us),Fs=n(418),zs=n.n(Fs),Qs=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(a);++r<a;)o[r]=e+r*n;return o};function Hs(){var e,t,n=lt().unknown(void 0),r=n.domain,a=n.range,o=0,i=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=i<o,f=d?i:o,p=d?o:i;e=(p-f)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),f+=(p-f-e*(n-l))*u,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var h=Qs(n).map((function(t){return f+e*t}));return a(d?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,i]=e,o=+o,i=+i,d()):[o,i]},n.rangeRound=function(e){return[o,i]=e,o=+o,i=+i,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Hs(r(),[o,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Ye.apply(d(),arguments)}var Ys=Gr((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Ks=Ys,Ws=(Ys.range,Gr((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),qs=Ws,Gs=(Ws.range,Gr((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*Vr)}),(function(e,t){return(t-e)/Vr}),(function(e){return e.getUTCMinutes()}))),Vs=Gs,$s=(Gs.range,Gr((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),Xs=$s,Js=($s.range,Gr((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),Zs=Js,el=(Js.range,Gr((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*Vr)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),tl=el,nl=(el.range,Gr((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+t*Vr)}),(function(e,t){return(t-e)/Vr}),(function(e){return e.getMinutes()}))),rl=nl;function al(e){return new Date(e)}function ol(e){return e instanceof Date?+e:+new Date(+e)}function il(e,t,n,r,a,o,i,s,l,c){var u=He(),d=u.invert,f=u.domain,p=c(".%L"),h=c(":%S"),m=c("%I:%M"),_=c("%I %p"),g=c("%a %d"),b=c("%b %d"),y=c("%B"),v=c("%Y");function A(e){return(l(e)<e?p:s(e)<e?h:i(e)<e?m:o(e)<e?_:r(e)<e?a(e)<e?g:b:n(e)<e?y:v)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,ol)):f().map(al)},u.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?A:c(t)},u.nice=function(e){var n=f();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(ct(n,e)):u},u.copy=function(){return ze(u,il(e,t,n,r,a,o,i,s,l,c))},u}nl.range;var sl=Gr((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));sl.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Gr((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):sl:null};var ll=sl;function cl(){return(cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}sl.range;var ul=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],dl={millisecond:[],second:ul.slice(0,1),minute:ul.slice(0,2),hour:ul.slice(0,3),day:ul.slice(0,4),month:ul.slice(0,5),year:ul.slice(0,6)},fl=function(e){var t=e.format,n=void 0===t?"native":t,r=e.precision,a=void 0===r?"millisecond":r,o=e.useUTC,i=void 0===o||o,s=function(e){return function(t){return dl[e].forEach((function(e){e(t)})),t}}(a);return function(e){if(void 0===e)return e;if("native"===n||e instanceof Date)return s(e);var t=i?ja(n):Oa(n);return s(t(e))}},pl=function(e,t,n,r){var a,o,i,s,l=e.min,c=void 0===l?0:l,u=e.max,d=void 0===u?"auto":u,f=e.stacked,p=void 0!==f&&f,h=e.reverse,m=void 0!==h&&h,_=e.clamp,g=void 0!==_&&_,b=e.nice,y=void 0!==b&&b;a="auto"===c?!0===p?null!=(o=t.minStacked)?o:0:t.min:c,i="auto"===d?!0===p?null!=(s=t.maxStacked)?s:0:t.max:d;var v=function e(){var t=He();return t.copy=function(){return ze(t,e())},Ye.apply(t,arguments),it(t)}().rangeRound("x"===r?[0,n]:[n,0]).domain(m?[i,a]:[a,i]).clamp(g);return!0===y?v.nice():"number"==typeof y&&v.nice(y),hl(v,p)},hl=function(e,t){void 0===t&&(t=!1);var n=e;return n.type="linear",n.stacked=t,n},ml=function(e,t,n){var r=function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(Hs.apply(null,arguments).paddingInner(1))}().range([0,n]).domain(t.all);return r.type="point",r},_l=function(e){var t=e;return t.type="band",t},gl=function(e,t){return e===t},bl=function(e,t){return e.getTime()===t.getTime()};function yl(e,t,n,r){switch(e.type){case"linear":return pl(e,t,n,r);case"point":return ml(0,t,n);case"band":return function(e,t,n,r){var a=e.round,o=void 0===a||a,i=Hs().range("x"===r?[0,n]:[n,0]).domain(t.all).round(o);return _l(i)}(e,t,n,r);case"time":return function(e,t,n){var r,a,o=e.format,i=void 0===o?"native":o,s=e.precision,l=void 0===s?"millisecond":s,c=e.min,u=void 0===c?"auto":c,d=e.max,f=void 0===d?"auto":d,p=e.useUTC,h=void 0===p||p,m=e.nice,_=void 0!==m&&m,g=fl({format:i,precision:l,useUTC:h});r="auto"===u?g(t.min):"native"!==i?g(u):u,a="auto"===f?g(t.max):"native"!==i?g(f):f;var b=h?function(){return Ye.apply(il(void 0,void 0,va,Ks,Jr,ia,qs,Vs,Xs,Ca).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}():function(){return Ye.apply(il(void 0,void 0,ba,Zs,la,_a,tl,rl,Xs,xa).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}();b.range([0,n]),r&&a&&b.domain([r,a]),!0===_?b.nice():"object"!=typeof _&&"number"!=typeof _||b.nice(_);var y=b;return y.type="time",y.useUTC=h,y}(e,t,n);case"log":return function(e,t,n,r){var a,o=e.base,i=void 0===o?10:o,s=e.min,l=void 0===s?"auto":s,c=e.max,u=void 0===c?"auto":c;if(t.all.some((function(e){return 0===e})))throw new Error("a log scale domain must not include or cross zero");var d,f,p=!1;if(t.all.filter((function(e){return null!=e})).forEach((function(e){p||(void 0===a?a=Math.sign(e):Math.sign(e)!==a&&(p=!0))})),p)throw new Error("a log scale domain must be strictly-positive or strictly-negative");d="auto"===l?t.min:l,f="auto"===u?t.max:u;var h=function e(){var t=_t(Qe()).domain([1,10]);return t.copy=function(){return ze(t,e()).base(t.base())},Ye.apply(t,arguments),t}().domain([d,f]).rangeRound("x"===r?[0,n]:[n,0]).base(i).nice();return h.type="log",h}(e,t,n,r);case"symlog":return function(e,t,n,r){var a,o,i=e.constant,s=void 0===i?1:i,l=e.min,c=void 0===l?"auto":l,u=e.max,d=void 0===u?"auto":u,f=e.reverse,p=void 0!==f&&f;a="auto"===c?t.min:c,o="auto"===d?t.max:d;var h=function e(){var t=yt(Qe());return t.copy=function(){return ze(t,e()).constant(t.constant())},Ye.apply(t,arguments)}().constant(s).rangeRound("x"===r?[0,n]:[n,0]).nice();!0===p?h.domain([o,a]):h.domain([a,o]);var m=h;return m.type="symlog",m}(e,t,n,r);default:throw new Error("invalid scale spec")}}var vl=function(e,t,n){var r;if("stacked"in n&&n.stacked){var a=e.data["x"===t?"xStacked":"yStacked"];return null==a?null:n(a)}return null!=(r=n(e.data[t]))?r:null},Al=function(e,t,n,r){var a=void 0===r?{}:r,o=a.getValue,i=void 0===o?function(e){return e.data[t]}:o,s=a.setValue,l=void 0===s?function(e,n){e.data[t]=n}:s;if("linear"===n.type)e.forEach((function(e){e.data.forEach((function(e){var t=i(e);t&&l(e,parseFloat(String(t)))}))}));else if("time"===n.type&&"native"!==n.format){var c=fl(n);e.forEach((function(e){e.data.forEach((function(e){var t=i(e);t&&l(e,c(t))}))}))}var u=[];switch(e.forEach((function(e){e.data.forEach((function(e){u.push(i(e))}))})),n.type){case"linear":var d=Rs()(Bs()(u).filter((function(e){return null!==e})),(function(e){return e}));return{all:d,min:Math.min.apply(Math,d),max:Math.max.apply(Math,d)};case"time":var f=Ls()(u,(function(e){return e.getTime()})).slice(0).sort((function(e,t){return t.getTime()-e.getTime()})).reverse();return{all:f,min:f[0],max:U()(f)};default:var p=Bs()(u);return{all:p,min:p[0],max:U()(p)}}},wl=function(e,t,n){var r=function(e){return"x"===e?"y":"x"}(e),a=[];t[r].all.forEach((function(t){var o=zs()(t)?bl:gl,i=[];n.forEach((function(n){var s=n.data.find((function(e){return o(e.data[r],t)})),l=null,c=null;if(void 0!==s){if(null!==(l=s.data[e])){var u=U()(i);void 0===u?c=l:null!==u&&(c=u+l)}s.data["x"===e?"xStacked":"yStacked"]=c}i.push(c),null!==c&&a.push(c)}))})),t[e].minStacked=Math.min.apply(Math,a),t[e].maxStacked=Math.max.apply(Math,a)},kl=function(e){var t=e.bandwidth();if(0===t)return e;var n=t/2;return e.round()&&(n=Math.round(n)),function(t){var r;return(null!=(r=e(t))?r:0)+n}},El={millisecond:[ll,ll],second:[Xs,Xs],minute:[rl,Vs],hour:[tl,qs],day:[Gr((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)})),Gr((function(e){return e.setUTCHours(0,0,0,0)}),(function(e,t){return e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/864e5}),(function(e){return Math.floor(e.getTime()/864e5)}))],week:[la,Jr],sunday:[la,Jr],monday:[ca,Zr],tuesday:[ua,ea],wednesday:[da,ta],thursday:[fa,na],friday:[pa,ra],saturday:[ha,aa],month:[Zs,Ks],year:[ba,va]},xl=Object.keys(El),Ol=new RegExp("^every\\s*(\\d+)?\\s*("+xl.join("|")+")s?$","i"),Cl=function(e,t){if(Array.isArray(t))return t;if("string"==typeof t&&"useUTC"in e){var n=t.match(Ol);if(n){var r=n[1],a=n[2],o=El[a][e.useUTC?1:0];if("day"===a){var i,s,l=e.domain(),c=l[0],u=l[1],d=new Date(u);return d.setDate(d.getDate()+1),null!=(i=null==(s=o.every(Number(null!=r?r:1)))?void 0:s.range(c,d))?i:[]}if(void 0===r)return e.ticks(o);var f=o.every(Number(r));if(f)return e.ticks(f)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(void 0===t)return e.ticks();if("number"==typeof(p=t)&&isFinite(p)&&Math.floor(p)===p)return e.ticks(t)}var p;return e.domain()};function jl(){return(jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Dl=function(e){var t,n=e.axis,r=e.scale,a=e.ticksPosition,o=e.tickValues,i=e.tickSize,s=e.tickPadding,l=e.tickRotation,c=e.engine,u=void 0===c?"svg":c,d=Cl(r,o),f=Gi[u],p="bandwidth"in r?kl(r):r,h={lineX:0,lineY:0},m={textX:0,textY:0},_="object"==typeof document&&"rtl"===document.dir,g=f.align.center,b=f.baseline.center;return"x"===n?(t=function(e){var t;return{x:null!=(t=p(e))?t:0,y:0}},h.lineY=i*("after"===a?1:-1),m.textY=(i+s)*("after"===a?1:-1),b="after"===a?f.baseline.top:f.baseline.bottom,0===l?g=f.align.center:"after"===a&&l<0||"before"===a&&l>0?(g=f.align[_?"left":"right"],b=f.baseline.center):("after"===a&&l>0||"before"===a&&l<0)&&(g=f.align[_?"right":"left"],b=f.baseline.center)):(t=function(e){var t;return{x:0,y:null!=(t=p(e))?t:0}},h.lineX=i*("after"===a?1:-1),m.textX=(i+s)*("after"===a?1:-1),g="after"===a?f.align.left:f.align.right),{ticks:d.map((function(e){return jl({key:e instanceof Date?""+e.valueOf():""+e,value:e},t(e),h,m)})),textAlign:g,textBaseline:b}},Nl=function(e,t){if(void 0===e||"function"==typeof e)return e;if("time"===t.type){var n=xa(e);return function(e){return n(e instanceof Date?e:new Date(e))}}return Xe(e)},Sl=function(e){var t,n=e.width,r=e.height,a=e.scale,o=e.axis,i=e.values,s=(t=i,(Array.isArray(t)?i:void 0)||Cl(a,i)),l="bandwidth"in a?kl(a):a;return"x"===o?s.map((function(e){var t,n;return{key:e instanceof Date?""+e.valueOf():""+e,x1:null!=(t=l(e))?t:0,x2:null!=(n=l(e))?n:0,y1:0,y2:r}})):s.map((function(e){var t,r;return{key:e instanceof Date?""+e.valueOf():""+e,x1:0,x2:n,y1:null!=(t=l(e))?t:0,y2:null!=(r=l(e))?r:0}}))},Tl=Object(r.memo)((function(e){var t,n=e.value,a=e.format,o=e.lineX,l=e.lineY,c=e.onClick,u=e.textBaseline,d=e.textAnchor,f=e.animatedProps,p=Ui(),h=null!=(t=null==a?void 0:a(n))?t:n,m=Object(r.useMemo)((function(){var e={opacity:f.opacity};return c?{style:jl({},e,{cursor:"pointer"}),onClick:function(e){return c(e,h)}}:{style:e}}),[f.opacity,c,h]);return Object(s.jsxs)(i.animated.g,jl({transform:f.transform},m,{children:[Object(s.jsx)("line",{x1:0,x2:o,y1:0,y2:l,style:p.axis.ticks.line}),Object(s.jsx)(i.animated.text,{dominantBaseline:u,textAnchor:d,transform:f.textTransform,style:p.axis.ticks.text,children:h})]}))})),Ml=Object(r.memo)((function(e){var t=e.axis,n=e.scale,a=e.x,o=void 0===a?0:a,l=e.y,c=void 0===l?0:l,u=e.length,d=e.ticksPosition,f=e.tickValues,p=e.tickSize,h=void 0===p?5:p,m=e.tickPadding,_=void 0===m?5:m,g=e.tickRotation,b=void 0===g?0:g,y=e.format,v=e.renderTick,A=void 0===v?Tl:v,w=e.legend,k=e.legendPosition,E=void 0===k?"end":k,x=e.legendOffset,O=void 0===x?0:x,C=e.onClick,j=e.ariaHidden,D=Ui(),N=Object(r.useMemo)((function(){return Nl(y,n)}),[y,n]),S=Dl({axis:t,scale:n,ticksPosition:d,tickValues:f,tickSize:h,tickPadding:_,tickRotation:b}),T=S.ticks,M=S.textAlign,P=S.textBaseline,B=null;if(void 0!==w){var I,L=0,U=0,R=0;"y"===t?(R=-90,L=O,"start"===E?(I="start",U=u):"middle"===E?(I="middle",U=u/2):"end"===E&&(I="end")):(U=O,"start"===E?I="start":"middle"===E?(I="middle",L=u/2):"end"===E&&(I="end",L=u)),B=Object(s.jsx)("text",{transform:"translate("+L+", "+U+") rotate("+R+")",textAnchor:I,style:jl({dominantBaseline:"central"},D.axis.legend.text),children:w})}var F=_i(),z=F.animate,Q=F.config,H=Object(i.useSpring)({transform:"translate("+o+","+c+")",lineX2:"x"===t?u:0,lineY2:"x"===t?0:u,config:Q,immediate:!z}),Y=Object(i.useTransition)(T,{keys:function(e){return e.key},initial:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+b+")"}},from:function(e){return{opacity:0,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+b+")"}},enter:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+b+")"}},update:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+b+")"}},leave:{opacity:0},config:Q,immediate:!z});return Object(s.jsxs)(i.animated.g,{transform:H.transform,"aria-hidden":j,children:[Y((function(e,t,n,a){return r.createElement(A,jl({tickIndex:a,format:N,rotate:b,textBaseline:P,textAnchor:M,animatedProps:e},t,C?{onClick:C}:{}))})),Object(s.jsx)(i.animated.line,{style:D.axis.domain.line,x1:0,x2:H.lineX2,y1:0,y2:H.lineY2}),B]})})),Pl={ticksPosition:o.a.oneOf(["before","after"]),tickValues:o.a.oneOfType([o.a.number,o.a.arrayOf(o.a.oneOfType([o.a.number,o.a.string,o.a.instanceOf(Date)])),o.a.string]),tickSize:o.a.number,tickPadding:o.a.number,tickRotation:o.a.number,format:o.a.oneOfType([o.a.func,o.a.string]),renderTick:o.a.func,legend:o.a.node,legendPosition:o.a.oneOf(["start","middle","end"]),legendOffset:o.a.number,ariaHidden:o.a.bool},Bl=o.a.shape(Pl),Il=["top","right","bottom","left"],Ll=Object(r.memo)((function(e){var t=e.xScale,n=e.yScale,r=e.width,a=e.height,o={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return Object(s.jsx)(s.Fragment,{children:Il.map((function(e){var i=o[e];if(!i)return null;var l="top"===e||"bottom"===e;return Object(s.jsx)(Ml,jl({},i,{axis:l?"x":"y",x:"right"===e?r:0,y:"bottom"===e?a:0,scale:l?t:n,length:l?r:a,ticksPosition:"top"===e||"left"===e?"before":"after"}),e)}))})})),Ul=Object(r.memo)((function(e){var t=e.animatedProps,n=Ui();return Object(s.jsx)(i.animated.line,jl({},t,n.grid.line))})),Rl=Object(r.memo)((function(e){var t=e.lines,n=_i(),a=n.animate,o=n.config,l=Object(i.useTransition)(t,{keys:function(e){return e.key},initial:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},from:function(e){return{opacity:0,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},enter:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},update:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},leave:{opacity:0},config:o,immediate:!a});return Object(s.jsx)("g",{children:l((function(e,t){return Object(r.createElement)(Ul,jl({},t,{key:t.key,animatedProps:e}))}))})})),Fl=Object(r.memo)((function(e){var t=e.width,n=e.height,a=e.xScale,o=e.yScale,i=e.xValues,l=e.yValues,c=Object(r.useMemo)((function(){return!!a&&Sl({width:t,height:n,scale:a,axis:"x",values:i})}),[a,i,t,n]),u=Object(r.useMemo)((function(){return!!o&&Sl({width:t,height:n,scale:o,axis:"y",values:l})}),[n,t,o,l]);return Object(s.jsxs)(s.Fragment,{children:[c&&Object(s.jsx)(Rl,{lines:c}),u&&Object(s.jsx)(Rl,{lines:u})]})})),zl=function(e,t){var n=t.width,r=t.height,a=t.scale,o=t.axis,i=t.values;Sl({width:n,height:r,scale:a,axis:o,values:i}).forEach((function(t){e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()}))};function Ql(){return(Ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Hl={top:0,right:0,bottom:0,left:0},Yl=function(e){var t,n=e.direction,r=e.itemsSpacing,a=e.padding,o=e.itemCount,i=e.itemWidth,s=e.itemHeight;if("number"!=typeof a&&("object"!=typeof(t=a)||Array.isArray(t)||null===t))throw new Error("Invalid property padding, must be one of: number, object");var l="number"==typeof a?{top:a,right:a,bottom:a,left:a}:Ql({},Hl,a),c=l.left+l.right,u=l.top+l.bottom,d=i+c,f=s+u,p=(o-1)*r;return"row"===n?d=i*o+p+c:"column"===n&&(f=s*o+p+u),{width:d,height:f,padding:l}},Kl=function(e){var t=e.anchor,n=e.translateX,r=e.translateY,a=e.containerWidth,o=e.containerHeight,i=e.width,s=e.height,l=n,c=r;switch(t){case"top":l+=(a-i)/2;break;case"top-right":l+=a-i;break;case"right":l+=a-i,c+=(o-s)/2;break;case"bottom-right":l+=a-i,c+=o-s;break;case"bottom":l+=(a-i)/2,c+=o-s;break;case"bottom-left":c+=o-s;break;case"left":c+=(o-s)/2;break;case"center":l+=(a-i)/2,c+=(o-s)/2}return{x:l,y:c}},Wl=function(e){var t,n,r,a,o,i,s=e.direction,l=e.justify,c=e.symbolSize,u=e.symbolSpacing,d=e.width,f=e.height;switch(s){case"left-to-right":t=0,n=(f-c)/2,a=f/2,i="central",l?(r=d,o="end"):(r=c+u,o="start");break;case"right-to-left":t=d-c,n=(f-c)/2,a=f/2,i="central",l?(r=0,o="start"):(r=d-c-u,o="end");break;case"top-to-bottom":t=(d-c)/2,n=0,r=d/2,o="middle",l?(a=f,i="alphabetic"):(a=c+u,i="text-before-edge");break;case"bottom-to-top":t=(d-c)/2,n=f-c,r=d/2,o="middle",l?(a=0,i="text-before-edge"):(a=f-c-u,i="alphabetic")}return{symbolX:t,symbolY:n,labelX:r,labelY:a,labelAnchor:o,labelAlignment:i}},ql={circle:function(e){var t=e.x,n=e.y,r=e.size,a=e.fill,o=e.opacity,i=void 0===o?1:o,l=e.borderWidth,c=void 0===l?0:l,u=e.borderColor;return Object(s.jsx)("circle",{r:r/2,cx:t+r/2,cy:n+r/2,fill:a,opacity:i,strokeWidth:c,stroke:void 0===u?"transparent":u,style:{pointerEvents:"none"}})},diamond:function(e){var t=e.x,n=e.y,r=e.size,a=e.fill,o=e.opacity,i=void 0===o?1:o,l=e.borderWidth,c=void 0===l?0:l,u=e.borderColor;return Object(s.jsx)("g",{transform:"translate("+t+","+n+")",children:Object(s.jsx)("path",{d:"\n                    M"+r/2+" 0\n                    L"+.8*r+" "+r/2+"\n                    L"+r/2+" "+r+"\n                    L"+.2*r+" "+r/2+"\n                    L"+r/2+" 0\n                ",fill:a,opacity:i,strokeWidth:c,stroke:void 0===u?"transparent":u,style:{pointerEvents:"none"}})})},square:function(e){var t=e.x,n=e.y,r=e.size,a=e.fill,o=e.opacity,i=void 0===o?1:o,l=e.borderWidth,c=void 0===l?0:l,u=e.borderColor;return Object(s.jsx)("rect",{x:t,y:n,fill:a,opacity:i,strokeWidth:c,stroke:void 0===u?"transparent":u,width:r,height:r,style:{pointerEvents:"none"}})},triangle:function(e){var t=e.x,n=e.y,r=e.size,a=e.fill,o=e.opacity,i=void 0===o?1:o,l=e.borderWidth,c=void 0===l?0:l,u=e.borderColor;return Object(s.jsx)("g",{transform:"translate("+t+","+n+")",children:Object(s.jsx)("path",{d:"\n                M"+r/2+" 0\n                L"+r+" "+r+"\n                L0 "+r+"\n                L"+r/2+" 0\n            ",fill:a,opacity:i,strokeWidth:c,stroke:void 0===u?"transparent":u,style:{pointerEvents:"none"}})})}},Gl=function(e){var t,n,a,o,i,l,c,u,d,f,p,h=e.x,m=e.y,_=e.width,g=e.height,b=e.data,y=e.direction,v=void 0===y?"left-to-right":y,A=e.justify,w=void 0!==A&&A,k=e.textColor,E=e.background,x=void 0===E?"transparent":E,O=e.opacity,C=void 0===O?1:O,j=e.symbolShape,D=void 0===j?"square":j,N=e.symbolSize,S=void 0===N?16:N,T=e.symbolSpacing,M=void 0===T?8:T,P=e.symbolBorderWidth,B=void 0===P?0:P,I=e.symbolBorderColor,L=void 0===I?"transparent":I,U=e.onClick,R=e.onMouseEnter,F=e.onMouseLeave,z=e.toggleSerie,Q=e.effects,H=Object(r.useState)({}),Y=H[0],K=H[1],W=Ui(),q=Object(r.useCallback)((function(e){if(Q){var t=Q.filter((function(e){return"hover"===e.on})).reduce((function(e,t){return Ql({},e,t.style)}),{});K(t)}null==R||R(b,e)}),[R,b,Q]),G=Object(r.useCallback)((function(e){if(Q){var t=Q.filter((function(e){return"hover"!==e.on})).reduce((function(e,t){return Ql({},e,t.style)}),{});K(t)}null==F||F(b,e)}),[F,b,Q]),V=Wl({direction:v,justify:w,symbolSize:null!=(t=Y.symbolSize)?t:S,symbolSpacing:M,width:_,height:g}),$=V.symbolX,X=V.symbolY,J=V.labelX,Z=V.labelY,ee=V.labelAnchor,te=V.labelAlignment,ne=[U,R,F,z].some((function(e){return void 0!==e})),re="function"==typeof D?D:ql[D];return Object(s.jsxs)("g",{transform:"translate("+h+","+m+")",style:{opacity:null!=(n=Y.itemOpacity)?n:C},children:[Object(s.jsx)("rect",{width:_,height:g,fill:null!=(a=Y.itemBackground)?a:x,style:{cursor:ne?"pointer":"auto"},onClick:function(e){null==U||U(b,e),null==z||z(b.id)},onMouseEnter:q,onMouseLeave:G}),r.createElement(re,Ql({id:b.id,x:$,y:X,size:null!=(o=Y.symbolSize)?o:S,fill:null!=(i=null!=(l=b.fill)?l:b.color)?i:"black",borderWidth:null!=(c=Y.symbolBorderWidth)?c:B,borderColor:null!=(u=Y.symbolBorderColor)?u:L},b.hidden?W.legends.hidden.symbol:void 0)),Object(s.jsx)("text",{textAnchor:ee,style:Ql({},W.legends.text,{fill:null!=(d=null!=(f=null!=(p=Y.itemTextColor)?p:k)?f:W.legends.text.fill)?d:"black",dominantBaseline:te,pointerEvents:"none",userSelect:"none"},b.hidden?W.legends.hidden.text:void 0),x:J,y:Z,children:b.label})]})},Vl=function(e){var t=e.data,n=e.x,r=e.y,a=e.direction,o=e.padding,i=void 0===o?0:o,l=e.justify,c=e.effects,u=e.itemWidth,d=e.itemHeight,f=e.itemDirection,p=void 0===f?"left-to-right":f,h=e.itemsSpacing,m=void 0===h?0:h,_=e.itemTextColor,g=e.itemBackground,b=void 0===g?"transparent":g,y=e.itemOpacity,v=void 0===y?1:y,A=e.symbolShape,w=e.symbolSize,k=e.symbolSpacing,E=e.symbolBorderWidth,x=e.symbolBorderColor,O=e.onClick,C=e.onMouseEnter,j=e.onMouseLeave,D=e.toggleSerie,N=Yl({itemCount:t.length,itemWidth:u,itemHeight:d,itemsSpacing:m,direction:a,padding:i}).padding,S="row"===a?u+m:0,T="column"===a?d+m:0;return Object(s.jsx)("g",{transform:"translate("+n+","+r+")",children:t.map((function(e,t){return Object(s.jsx)(Gl,{data:e,x:t*S+N.left,y:t*T+N.top,width:u,height:d,direction:p,justify:l,effects:c,textColor:_,background:b,opacity:v,symbolShape:A,symbolSize:w,symbolSpacing:k,symbolBorderWidth:E,symbolBorderColor:x,onClick:O,onMouseEnter:C,onMouseLeave:j,toggleSerie:D},t)}))})},$l=function(e){var t=e.data,n=e.containerWidth,r=e.containerHeight,a=e.translateX,o=void 0===a?0:a,i=e.translateY,l=void 0===i?0:i,c=e.anchor,u=e.direction,d=e.padding,f=void 0===d?0:d,p=e.justify,h=e.itemsSpacing,m=void 0===h?0:h,_=e.itemWidth,g=e.itemHeight,b=e.itemDirection,y=e.itemTextColor,v=e.itemBackground,A=e.itemOpacity,w=e.symbolShape,k=e.symbolSize,E=e.symbolSpacing,x=e.symbolBorderWidth,O=e.symbolBorderColor,C=e.onClick,j=e.onMouseEnter,D=e.onMouseLeave,N=e.toggleSerie,S=e.effects,T=Yl({itemCount:t.length,itemsSpacing:m,itemWidth:_,itemHeight:g,direction:u,padding:f}),M=T.width,P=T.height,B=Kl({anchor:c,translateX:o,translateY:l,containerWidth:n,containerHeight:r,width:M,height:P}),I=B.x,L=B.y;return Object(s.jsx)(Vl,{data:t,x:I,y:L,direction:u,padding:f,justify:p,effects:S,itemsSpacing:m,itemWidth:_,itemHeight:g,itemDirection:b,itemTextColor:y,itemBackground:v,itemOpacity:A,symbolShape:w,symbolSize:k,symbolSpacing:E,symbolBorderWidth:x,symbolBorderColor:O,onClick:C,onMouseEnter:j,onMouseLeave:D,toggleSerie:"boolean"==typeof N?void 0:N})},Xl={start:"left",middle:"center",end:"right"},Jl={data:o.a.arrayOf(o.a.object),anchor:o.a.oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:o.a.number,translateY:o.a.number,direction:o.a.oneOf(["row","column"]).isRequired,itemsSpacing:o.a.number,itemWidth:o.a.number.isRequired,itemHeight:o.a.number.isRequired,itemDirection:o.a.oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:o.a.string,itemBackground:o.a.string,itemOpacity:o.a.number,symbolShape:o.a.oneOfType([o.a.oneOf(["circle","diamond","square","triangle"]),o.a.func]),symbolSize:o.a.number,symbolSpacing:o.a.number,symbolBorderWidth:o.a.number,symbolBorderColor:o.a.string,onClick:o.a.func,onMouseEnter:o.a.func,onMouseLeave:o.a.func,effects:o.a.arrayOf(o.a.shape({on:o.a.oneOfType([o.a.oneOf(["hover"])]).isRequired,style:o.a.shape({itemTextColor:o.a.string,itemBackground:o.a.string,itemOpacity:o.a.number,symbolSize:o.a.number,symbolBorderWidth:o.a.number,symbolBorderColor:o.a.string}).isRequired}))},Zl=Math.PI,ec=2*Zl,tc=ec-1e-6;function nc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function rc(){return new nc}nc.prototype=rc.prototype={constructor:nc,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var o=this._x1,i=this._y1,s=n-e,l=r-t,c=o-e,u=i-t,d=c*c+u*u;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>1e-6)if(Math.abs(u*s-l*c)>1e-6&&a){var f=n-o,p=r-i,h=s*s+l*l,m=f*f+p*p,_=Math.sqrt(h),g=Math.sqrt(d),b=a*Math.tan((Zl-Math.acos((h+d-m)/(2*_*g)))/2),y=b/g,v=b/_;Math.abs(y-1)>1e-6&&(this._+="L"+(e+y*c)+","+(t+y*u)),this._+="A"+a+","+a+",0,0,"+ +(u*f>c*p)+","+(this._x1=e+v*s)+","+(this._y1=t+v*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,a,o){e=+e,t=+t,o=!!o;var i=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+i,c=t+s,u=1^o,d=o?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%ec+ec),d>tc?this._+="A"+n+","+n+",0,1,"+u+","+(e-i)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=Zl)+","+u+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var ac=rc,oc=function(e){return function(){return e}};function ic(e){return e[0]}function sc(e){return e[1]}var lc=function(){var e=ic,t=sc,n=oc(!0),r=null,a=Dr,o=null;function i(i){var s,l,c,u=i.length,d=!1;for(null==r&&(o=a(c=ac())),s=0;s<=u;++s)!(s<u&&n(l=i[s],s,i))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(l,s,i),+t(l,s,i));if(c)return o=null,c+""||null}return i.x=function(t){return arguments.length?(e="function"==typeof t?t:oc(+t),i):e},i.y=function(e){return arguments.length?(t="function"==typeof e?e:oc(+e),i):t},i.defined=function(e){return arguments.length?(n="function"==typeof e?e:oc(!!e),i):n},i.curve=function(e){return arguments.length?(a=e,null!=r&&(o=a(r)),i):a},i.context=function(e){return arguments.length?(null==e?r=o=null:o=a(r=e),i):r},i};const cc=Math.pow(2,-52),uc=new Uint32Array(512);class dc{static from(e,t=function(e){return e[0]},n=function(e){return e[1]}){const r=e.length,a=new Float64Array(2*r);for(let o=0;o<r;o++){const r=e[o];a[2*o]=t(r),a[2*o+1]=n(r)}return new dc(a)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:a}=this,o=e.length>>1;let i=1/0,s=1/0,l=-1/0,c=-1/0;for(let t=0;t<o;t++){const n=e[2*t],r=e[2*t+1];n<i&&(i=n),r<s&&(s=r),n>l&&(l=n),r>c&&(c=r),this._ids[t]=t}const u=(i+l)/2,d=(s+c)/2;let f,p,h,m=1/0;for(let t=0;t<o;t++){const n=fc(u,d,e[2*t],e[2*t+1]);n<m&&(f=t,m=n)}const _=e[2*f],g=e[2*f+1];m=1/0;for(let t=0;t<o;t++){if(t===f)continue;const n=fc(_,g,e[2*t],e[2*t+1]);n<m&&n>0&&(p=t,m=n)}let b=e[2*p],y=e[2*p+1],v=1/0;for(let t=0;t<o;t++){if(t===f||t===p)continue;const n=_c(_,g,b,y,e[2*t],e[2*t+1]);n<v&&(h=t,v=n)}let A=e[2*h],w=e[2*h+1];if(v===1/0){for(let t=0;t<o;t++)this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1];gc(this._ids,this._dists,0,o-1);const t=new Uint32Array(o);let n=0;for(let e=0,r=-1/0;e<o;e++){const a=this._ids[e];this._dists[a]>r&&(t[n++]=a,r=this._dists[a])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(hc(_,g,b,y,A,w)){const e=p,t=b,n=y;p=h,b=A,y=w,h=e,A=t,w=n}const k=function(e,t,n,r,a,o){const i=n-e,s=r-t,l=a-e,c=o-t,u=i*i+s*s,d=l*l+c*c,f=.5/(i*c-s*l);return{x:e+(c*u-s*d)*f,y:t+(i*d-l*u)*f}}(_,g,b,y,A,w);this._cx=k.x,this._cy=k.y;for(let t=0;t<o;t++)this._dists[t]=fc(e[2*t],e[2*t+1],k.x,k.y);gc(this._ids,this._dists,0,o-1),this._hullStart=f;let E=3;n[f]=t[h]=p,n[p]=t[f]=h,n[h]=t[p]=f,r[f]=0,r[p]=1,r[h]=2,a.fill(-1),a[this._hashKey(_,g)]=f,a[this._hashKey(b,y)]=p,a[this._hashKey(A,w)]=h,this.trianglesLen=0,this._addTriangle(f,p,h,-1,-1,-1);for(let o,i,s=0;s<this._ids.length;s++){const l=this._ids[s],c=e[2*l],u=e[2*l+1];if(s>0&&Math.abs(c-o)<=cc&&Math.abs(u-i)<=cc)continue;if(o=c,i=u,l===f||l===p||l===h)continue;let d=0;for(let e=0,t=this._hashKey(c,u);e<this._hashSize&&(-1===(d=a[(t+e)%this._hashSize])||d===n[d]);e++);let m,_=d=t[d];for(;m=n[_],!hc(c,u,e[2*_],e[2*_+1],e[2*m],e[2*m+1]);)if((_=m)===d){_=-1;break}if(-1===_)continue;let g=this._addTriangle(_,l,n[_],-1,-1,r[_]);r[l]=this._legalize(g+2),r[_]=g,E++;let b=n[_];for(;m=n[b],hc(c,u,e[2*b],e[2*b+1],e[2*m],e[2*m+1]);)g=this._addTriangle(b,l,m,r[l],-1,r[b]),r[l]=this._legalize(g+2),n[b]=b,E--,b=m;if(_===d)for(;hc(c,u,e[2*(m=t[_])],e[2*m+1],e[2*_],e[2*_+1]);)g=this._addTriangle(m,l,_,-1,r[_],r[m]),this._legalize(g+2),r[m]=g,n[_]=_,E--,_=m;this._hullStart=t[l]=_,n[_]=t[b]=l,n[l]=b,a[this._hashKey(c,u)]=l,a[this._hashKey(e[2*_],e[2*_+1])]=_}this.hull=new Uint32Array(E);for(let e=0,t=this._hullStart;e<E;e++)this.hull[e]=t,t=n[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let a=0,o=0;for(;;){const i=n[e],s=e-e%3;if(o=s+(e+2)%3,-1===i){if(0===a)break;e=uc[--a];continue}const l=i-i%3,c=s+(e+1)%3,u=l+(i+2)%3,d=t[o],f=t[e],p=t[c],h=t[u];if(mc(r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1],r[2*h],r[2*h+1])){t[e]=h,t[i]=d;const r=n[u];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(i,n[o]),this._link(o,u);const s=l+(i+1)%3;a<uc.length&&(uc[a++]=s)}else{if(0===a)break;e=uc[--a]}}return o}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,a,o){const i=this.trianglesLen;return this._triangles[i]=e,this._triangles[i+1]=t,this._triangles[i+2]=n,this._link(i,r),this._link(i+1,a),this._link(i+2,o),this.trianglesLen+=3,i}}function fc(e,t,n,r){const a=e-n,o=t-r;return a*a+o*o}function pc(e,t,n,r,a,o){const i=(r-t)*(a-e),s=(n-e)*(o-t);return Math.abs(i-s)>=33306690738754716e-32*Math.abs(i+s)?i-s:0}function hc(e,t,n,r,a,o){return(pc(a,o,e,t,n,r)||pc(e,t,n,r,a,o)||pc(n,r,a,o,e,t))<0}function mc(e,t,n,r,a,o,i,s){const l=e-i,c=t-s,u=n-i,d=r-s,f=a-i,p=o-s,h=u*u+d*d,m=f*f+p*p;return l*(d*m-h*p)-c*(u*m-h*f)+(l*l+c*c)*(u*p-d*f)<0}function _c(e,t,n,r,a,o){const i=n-e,s=r-t,l=a-e,c=o-t,u=i*i+s*s,d=l*l+c*c,f=.5/(i*c-s*l),p=(c*u-s*d)*f,h=(i*d-l*u)*f;return p*p+h*h}function gc(e,t,n,r){if(r-n<=20)for(let a=n+1;a<=r;a++){const r=e[a],o=t[r];let i=a-1;for(;i>=n&&t[e[i]]>o;)e[i+1]=e[i--];e[i+1]=r}else{let a=n+1,o=r;bc(e,n+r>>1,a),t[e[n]]>t[e[r]]&&bc(e,n,r),t[e[a]]>t[e[r]]&&bc(e,a,r),t[e[n]]>t[e[a]]&&bc(e,n,a);const i=e[a],s=t[i];for(;;){do{a++}while(t[e[a]]<s);do{o--}while(t[e[o]]>s);if(o<a)break;bc(e,a,o)}e[n+1]=e[o],e[o]=i,r-a+1>=o-n?(gc(e,t,a,r),gc(e,t,n,o-1)):(gc(e,t,n,o-1),gc(e,t,a,r))}}function bc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}class yc{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const r=(e=+e)+(n=+n),a=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${a}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-a)>1e-6)&&(this._+="L"+r+","+a),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=a}`)}rect(e,t,n,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class vc{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class Ac{constructor(e,[t,n,r,a]=[0,0,960,500]){if(!((r=+r)>=(t=+t)&&(a=+a)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=a,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this,a=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let t,r,o=0,i=0,s=n.length;o<s;o+=3,i+=2){const s=2*n[o],l=2*n[o+1],c=2*n[o+2],u=e[s],d=e[s+1],f=e[l],p=e[l+1],h=e[c],m=e[c+1],_=f-u,g=p-d,b=h-u,y=m-d,v=_*_+g*g,A=b*b+y*y,w=2*(_*y-g*b);if(w)if(Math.abs(w)<1e-8)t=(u+h)/2,r=(d+m)/2;else{const e=1/w;t=u+(y*v-g*A)*e,r=d+(_*A-b*v)*e}else t=(u+h)/2-1e8*y,r=(d+m)/2+1e8*b;a[i]=t,a[i+1]=r}let o,i,s,l=t[t.length-1],c=4*l,u=e[2*l],d=e[2*l+1];r.fill(0);for(let n=0;n<t.length;++n)o=c,i=u,s=d,c=4*(l=t[n]),u=e[2*l],d=e[2*l+1],r[o+2]=r[c]=s-d,r[o+3]=r[c+1]=u-i}render(e){const t=null==e?e=new yc:void 0,{delaunay:{halfedges:n,inedges:r,hull:a},circumcenters:o,vectors:i}=this;if(a.length<=1)return null;for(let t=0,r=n.length;t<r;++t){const r=n[t];if(r<t)continue;const a=2*Math.floor(t/3),i=2*Math.floor(r/3),s=o[a],l=o[a+1],c=o[i],u=o[i+1];this._renderSegment(s,l,c,u,e)}let s,l=a[a.length-1];for(let t=0;t<a.length;++t){s=l,l=a[t];const n=2*Math.floor(r[l]/3),c=o[n],u=o[n+1],d=4*s,f=this._project(c,u,i[d+2],i[d+3]);f&&this._renderSegment(c,u,f[0],f[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new yc:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new yc:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let a=r.length;for(;r[0]===r[a-2]&&r[1]===r[a-1]&&a>1;)a-=2;for(let e=2;e<a;e+=2)r[e]===r[e-2]&&r[e+1]===r[e-1]||t.lineTo(r[e],r[e+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new vc;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,a){let o;const i=this._regioncode(e,t),s=this._regioncode(n,r);0===i&&0===s?(a.moveTo(e,t),a.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,i,s))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,a=t.length;r<a;r+=2)for(let o=0,i=e.length;o<i;o+=2)if(t[r]==e[o]&&t[r+1]==e[o+1]&&t[(r+2)%a]==e[(o+i-2)%i]&&t[(r+3)%a]==e[(o+i-1)%i]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:a}}=this,o=n[e];if(-1===o)return null;const i=[];let s=o;do{const n=Math.floor(s/3);if(i.push(t[2*n],t[2*n+1]),a[s=s%3==2?s-2:s+1]!==e)break;s=r[s]}while(s!==o&&-1!==s);return i}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}_clipFinite(e,t){const n=t.length;let r,a,o,i,s,l=null,c=t[n-2],u=t[n-1],d=this._regioncode(c,u);for(let f=0;f<n;f+=2)if(r=c,a=u,c=t[f],u=t[f+1],o=d,d=this._regioncode(c,u),0===o&&0===d)i=s,s=0,l?l.push(c,u):l=[c,u];else{let t,n,f,p,h;if(0===o){if(null===(t=this._clipSegment(r,a,c,u,o,d)))continue;[n,f,p,h]=t}else{if(null===(t=this._clipSegment(c,u,r,a,d,o)))continue;[p,h,n,f]=t,i=s,s=this._edgecode(n,f),i&&s&&this._edge(e,i,s,l,l.length),l?l.push(n,f):l=[n,f]}i=s,s=this._edgecode(p,h),i&&s&&this._edge(e,i,s,l,l.length),l?l.push(p,h):l=[p,h]}if(l)i=s,s=this._edgecode(l[0],l[1]),i&&s&&this._edge(e,i,s,l,l.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(e,t,n,r,a,o){for(;;){if(0===a&&0===o)return[e,t,n,r];if(a&o)return null;let i,s,l=a||o;8&l?(i=e+(n-e)*(this.ymax-t)/(r-t),s=this.ymax):4&l?(i=e+(n-e)*(this.ymin-t)/(r-t),s=this.ymin):2&l?(s=t+(r-t)*(this.xmax-e)/(n-e),i=this.xmax):(s=t+(r-t)*(this.xmin-e)/(n-e),i=this.xmin),a?(e=i,t=s,a=this._regioncode(e,t)):(n=i,r=s,o=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,a,o){let i,s=Array.from(t);if((i=this._project(s[0],s[1],n,r))&&s.unshift(i[0],i[1]),(i=this._project(s[s.length-2],s[s.length-1],a,o))&&s.push(i[0],i[1]),s=this._clipFinite(e,s))for(let t,n=0,r=s.length,a=this._edgecode(s[r-2],s[r-1]);n<r;n+=2)t=a,a=this._edgecode(s[n],s[n+1]),t&&a&&(n=this._edge(e,t,a,s,n),r=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,t,n,r,a){for(;t!==n;){let n,o;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,o=this.ymin}r[a]===n&&r[a+1]===o||!this.contains(e,n,o)||(r.splice(a,0,n,o),a+=2)}if(r.length>4)for(let e=0;e<r.length;e+=2){const t=(e+2)%r.length,n=(e+4)%r.length;(r[e]===r[t]&&r[t]===r[n]||r[e+1]===r[t+1]&&r[t+1]===r[n+1])&&(r.splice(t,2),e-=2)}return a}_project(e,t,n,r){let a,o,i,s=1/0;if(r<0){if(t<=this.ymin)return null;(a=(this.ymin-t)/r)<s&&(i=this.ymin,o=e+(s=a)*n)}else if(r>0){if(t>=this.ymax)return null;(a=(this.ymax-t)/r)<s&&(i=this.ymax,o=e+(s=a)*n)}if(n>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/n)<s&&(o=this.xmax,i=t+(s=a)*r)}else if(n<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/n)<s&&(o=this.xmin,i=t+(s=a)*r)}return[o,i]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const wc=2*Math.PI,kc=Math.pow;function Ec(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class xc{static from(e,t=function(e){return e[0]},n=function(e){return e[1]},r){return new xc("length"in e?function(e,t,n,r){const a=e.length,o=new Float64Array(2*a);for(let i=0;i<a;++i){const a=e[i];o[2*i]=t.call(r,a,i,e),o[2*i+1]=n.call(r,a,i,e)}return o}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let a=0;for(const o of e)yield t.call(r,o,a,e),yield n.call(r,o,a,e),++a}(e,t,n,r)))}constructor(e){this._delaunator=new dc(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let e=0;e<t.length;e+=3){const r=2*t[e],a=2*t[e+1],o=2*t[e+2];if((n[o]-n[r])*(n[a+1]-n[r+1])-(n[a]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]);const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],a=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let e=0,n=t.length/2;e<n;++e){const n=Ec(t[2*e],t[2*e+1],a);t[2*e]=n[0],t[2*e+1]=n[1]}this._delaunator=new dc(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),i=this._hullIndex.fill(-1);for(let e=0,t=n.length;e<t;++e){const t=a[e%3==2?e-2:e+1];-1!==n[e]&&-1!==o[t]||(o[t]=e)}for(let e=0,t=r.length;e<t;++e)i[r[e]]=e;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(e){return new Ac(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:a,triangles:o,collinear:i}=this;if(i){const t=i.indexOf(e);return t>0&&(yield i[t-1]),void(t<i.length-1&&(yield i[t+1]))}const s=t[e];if(-1===s)return;let l=s,c=-1;do{if(yield c=o[l],o[l=l%3==2?l-2:l+1]!==e)return;if(-1===(l=a[l])){const t=n[(r[e]+1)%n.length];return void(t!==c&&(yield t))}}while(l!==s)}find(e,t,n=0){if((e=+e)!=e||(t=+t)!=t)return-1;const r=n;let a;for(;(a=this._step(n,e,t))>=0&&a!==n&&a!==r;)n=a;return a}_step(e,t,n){const{inedges:r,hull:a,_hullIndex:o,halfedges:i,triangles:s,points:l}=this;if(-1===r[e]||!l.length)return(e+1)%(l.length>>1);let c=e,u=kc(t-l[2*e],2)+kc(n-l[2*e+1],2);const d=r[e];let f=d;do{let r=s[f];const d=kc(t-l[2*r],2)+kc(n-l[2*r+1],2);if(d<u&&(u=d,c=r),s[f=f%3==2?f-2:f+1]!==e)break;if(-1===(f=i[f])){if((f=a[(o[e]+1)%a.length])!==r&&kc(t-l[2*f],2)+kc(n-l[2*f+1],2)<u)return f;break}}while(f!==d);return c}render(e){const t=null==e?e=new yc:void 0,{points:n,halfedges:r,triangles:a}=this;for(let t=0,o=r.length;t<o;++t){const o=r[t];if(o<t)continue;const i=2*a[t],s=2*a[o];e.moveTo(n[i],n[i+1]),e.lineTo(n[s],n[s+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t=2){const n=null==e?e=new yc:void 0,{points:r}=this;for(let n=0,a=r.length;n<a;n+=2){const a=r[n],o=r[n+1];e.moveTo(a+t,o),e.arc(a,o,t,0,wc)}return n&&n.value()}renderHull(e){const t=null==e?e=new yc:void 0,{hull:n,points:r}=this,a=2*n[0],o=n.length;e.moveTo(r[a],r[a+1]);for(let t=1;t<o;++t){const a=2*n[t];e.lineTo(r[a],r[a+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new vc;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new yc:void 0,{points:r,triangles:a}=this,o=2*a[e*=3],i=2*a[e+1],s=2*a[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[i],r[i+1]),t.lineTo(r[s],r[s+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new vc;return this.renderTriangle(e,t),t.value()}}var Oc=function(e){return"function"==typeof e?e:function(t){return t[e]}},Cc=function(e){var t=e.points,n=e.x,a=e.y,o=e.width,i=e.height,s=e.debug,l=Object(r.useMemo)((function(){return function(e){var t=e.points,n=e.x,r=e.y,a=void 0===r?"y":r,o=Oc(void 0===n?"x":n),i=Oc(a);return t.map((function(e){return[o(e),i(e)]}))}({points:t,x:n,y:a})}),[t,n,a]);return Object(r.useMemo)((function(){return function(e){var t=e.points,n=e.width,r=e.height,a=e.debug,o=xc.from(t),i=a?o.voronoi([0,0,n,r]):void 0;return{delaunay:o,voronoi:i}}({points:l,width:o,height:i,debug:s})}),[l,o,i,s])},jc=function(e){var t=e.nodes,n=e.width,a=e.height,o=e.x,i=e.y,l=e.onMouseEnter,c=e.onMouseMove,u=e.onMouseLeave,d=e.onClick,f=e.debug,p=Object(r.useRef)(null),h=Object(r.useState)(null),m=h[0],_=h[1],g=Cc({points:t,x:o,y:i,width:n,height:a,debug:f}),b=g.delaunay,y=g.voronoi,v=Object(r.useMemo)((function(){if(f&&y)return y.render()}),[f,y]),A=Object(r.useCallback)((function(e){if(!p.current)return[null,null];var n=ps(p.current,e),r=n[0],a=n[1],o=b.find(r,a);return[o,void 0!==o?t[o]:null]}),[p,b]),w=Object(r.useCallback)((function(e){var t=A(e),n=t[0],r=t[1];_(n),r&&(null==l||l(r,e))}),[A,_,l]),k=Object(r.useCallback)((function(e){var t=A(e),n=t[0],r=t[1];_(n),r&&(null==c||c(r,e))}),[A,_,c]),E=Object(r.useCallback)((function(e){if(_(null),u){var n=void 0;null!==m&&(n=t[m]),n&&u(n,e)}}),[_,m,u,t]),x=Object(r.useCallback)((function(e){var t=A(e),n=t[0],r=t[1];_(n),r&&(null==d||d(r,e))}),[A,_,d]);return Object(s.jsxs)("g",{ref:p,children:[f&&y&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("path",{d:v,stroke:"red",strokeWidth:1,opacity:.75}),null!==m&&Object(s.jsx)("path",{fill:"pink",opacity:.35,d:y.renderCell(m)})]}),Object(s.jsx)("rect",{width:n,height:a,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:w,onMouseMove:k,onMouseLeave:E,onClick:x})]})};function Dc(){return(Dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Nc=function(e){var t=e.point;return Object(s.jsx)(p,{id:Object(s.jsxs)("span",{children:["x: ",Object(s.jsx)("strong",{children:t.data.xFormatted}),", y:"," ",Object(s.jsx)("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};Nc.propTypes={point:o.a.object.isRequired};var Sc=Object(r.memo)(Nc),Tc=function(e){var t=e.slice,n=e.axis,r=Ui(),a="x"===n?"y":"x";return Object(s.jsx)(m,{rows:t.points.map((function(e){return[Object(s.jsx)(f,{color:e.serieColor,style:r.tooltip.chip},"chip"),e.serieId,Object(s.jsx)("span",{style:r.tooltip.tableCellValue,children:e.data[a+"Formatted"]},"value")]}))})};Tc.propTypes={slice:o.a.object.isRequired,axis:o.a.oneOf(["x","y"]).isRequired};var Mc=Object(r.memo)(Tc),Pc={data:o.a.arrayOf(o.a.shape({id:o.a.oneOfType([o.a.string,o.a.number]).isRequired,data:o.a.arrayOf(o.a.shape({x:o.a.oneOfType([o.a.number,o.a.string,o.a.instanceOf(Date)]),y:o.a.oneOfType([o.a.number,o.a.string,o.a.instanceOf(Date)])})).isRequired})).isRequired,xScale:o.a.object.isRequired,xFormat:o.a.oneOfType([o.a.func,o.a.string]),yScale:o.a.object.isRequired,yFormat:o.a.oneOfType([o.a.func,o.a.string]),layers:o.a.arrayOf(o.a.oneOfType([o.a.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),o.a.func])).isRequired,curve:ki.isRequired,axisTop:Bl,axisRight:Bl,axisBottom:Bl,axisLeft:Bl,enableGridX:o.a.bool.isRequired,enableGridY:o.a.bool.isRequired,gridXValues:o.a.oneOfType([o.a.number,o.a.arrayOf(o.a.oneOfType([o.a.number,o.a.string,o.a.instanceOf(Date)]))]),gridYValues:o.a.oneOfType([o.a.number,o.a.arrayOf(o.a.oneOfType([o.a.number,o.a.string,o.a.instanceOf(Date)]))]),enablePoints:o.a.bool.isRequired,pointSymbol:o.a.func,pointSize:o.a.number.isRequired,pointColor:o.a.any.isRequired,pointBorderWidth:o.a.number.isRequired,pointBorderColor:o.a.any.isRequired,enablePointLabel:o.a.bool.isRequired,pointLabel:o.a.oneOfType([o.a.string,o.a.func]).isRequired,markers:o.a.arrayOf(o.a.shape({axis:o.a.oneOf(["x","y"]).isRequired,value:o.a.oneOfType([o.a.number,o.a.string,o.a.instanceOf(Date)]).isRequired,style:o.a.object})),colors:Ts.isRequired,enableArea:o.a.bool.isRequired,areaOpacity:o.a.number.isRequired,areaBlendMode:Ni.isRequired,areaBaselineValue:o.a.oneOfType([o.a.number,o.a.string,o.a.instanceOf(Date)]).isRequired,lineWidth:o.a.number.isRequired,legends:o.a.arrayOf(o.a.shape(Jl)).isRequired,isInteractive:o.a.bool.isRequired,debugMesh:o.a.bool.isRequired,tooltip:o.a.oneOfType([o.a.func,o.a.object]).isRequired,enableSlices:o.a.oneOf(["x","y",!1]).isRequired,debugSlices:o.a.bool.isRequired,sliceTooltip:o.a.oneOfType([o.a.func,o.a.object]).isRequired,enableCrosshair:o.a.bool.isRequired,crosshairType:o.a.string.isRequired},Bc=Dc({},Pc,{enablePointLabel:o.a.bool.isRequired,role:o.a.string.isRequired,useMesh:o.a.bool.isRequired},mi,xi),Ic=Dc({pixelRatio:o.a.number.isRequired},Pc),Lc={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:Sc,enableSlices:!1,debugSlices:!1,sliceTooltip:Mc,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},Uc=Dc({},Lc,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),Rc=Dc({},Lc,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),Fc=function(e){var t=e.curve;return Object(r.useMemo)((function(){return lc().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(Ei(t))}),[t])},zc=function(e){var t=e.curve,n=e.yScale,a=e.areaBaselineValue;return Object(r.useMemo)((function(){return function(){var e=ic,t=null,n=oc(0),r=sc,a=oc(!0),o=null,i=Dr,s=null;function l(l){var c,u,d,f,p,h=l.length,m=!1,_=new Array(h),g=new Array(h);for(null==o&&(s=i(p=ac())),c=0;c<=h;++c){if(!(c<h&&a(f=l[c],c,l))===m)if(m=!m)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=c-1;d>=u;--d)s.point(_[d],g[d]);s.lineEnd(),s.areaEnd()}m&&(_[c]=+e(f,c,l),g[c]=+n(f,c,l),s.point(t?+t(f,c,l):_[c],r?+r(f,c,l):g[c]))}if(p)return s=null,p+""||null}function c(){return lc().defined(a).curve(i).context(o)}return l.x=function(n){return arguments.length?(e="function"==typeof n?n:oc(+n),t=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:oc(+t),l):e},l.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:oc(+e),l):t},l.y=function(e){return arguments.length?(n="function"==typeof e?e:oc(+e),r=null,l):n},l.y0=function(e){return arguments.length?(n="function"==typeof e?e:oc(+e),l):n},l.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:oc(+e),l):r},l.lineX0=l.lineY0=function(){return c().x(e).y(n)},l.lineY1=function(){return c().x(e).y(r)},l.lineX1=function(){return c().x(t).y(n)},l.defined=function(e){return arguments.length?(a="function"==typeof e?e:oc(!!e),l):a},l.curve=function(e){return arguments.length?(i=e,null!=o&&(s=i(o)),l):i},l.context=function(e){return arguments.length?(null==e?o=s=null:s=i(o=e),l):o},l}().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(Ei(t)).y0(n(a))}),[t,n,a])},Qc=function(e){var t=e.enableSlices,n=e.points,a=e.width,o=e.height;return Object(r.useMemo)((function(){if(!1===t)return[];if("x"===t){var e=new Map;return n.forEach((function(t){null!==t.data.x&&null!==t.data.y&&(e.has(t.x)?e.get(t.x).push(t):e.set(t.x,[t]))})),Array.from(e.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,n){var r,i=e[0],s=e[1],l=n[t-1],c=n[t+1];return{id:i,x0:r=l?i-(i-l[0])/2:i,x:i,y0:0,y:0,width:c?i-r+(c[0]-i)/2:a-r,height:o,points:s.reverse()}}))}if("y"===t){var r=new Map;return n.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(r.has(e.y)?r.get(e.y).push(e):r.set(e.y,[e]))})),Array.from(r.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,n){var r,i,s=e[0],l=e[1],c=n[t-1],u=n[t+1];return r=c?s-(s-c[0])/2:s,i=u?s-r+(u[0]-s)/2:o-r,{id:s,x0:0,x:0,y0:r,y:s,width:a,height:i,points:l.reverse()}}))}}),[t,n])},Hc=function(e){var t=e.data,n=e.xScale,a=void 0===n?Uc.xScale:n,o=e.xFormat,i=e.yScale,s=void 0===i?Uc.yScale:i,l=e.yFormat,c=e.width,u=e.height,d=e.colors,f=void 0===d?Uc.colors:d,p=e.curve,h=void 0===p?Uc.curve:p,m=e.areaBaselineValue,_=void 0===m?Uc.areaBaselineValue:m,g=e.pointColor,b=void 0===g?Uc.pointColor:g,y=e.pointBorderColor,v=void 0===y?Uc.pointBorderColor:y,A=e.enableSlices,w=void 0===A?Uc.enableSlicesTooltip:A,k=Pi(o),E=Pi(l),x=function(e,t){return Object(r.useMemo)((function(){return Ms(e,"id")}),[e,"id"])}(f),O=Ui(),C=Ss(b,O),j=Ss(v,O),D=Object(r.useState)([]),N=D[0],S=D[1],T=Object(r.useMemo)((function(){return function(e,t,n,r,a){var o=e.map((function(e){return function(e){return cl({},e,{data:e.data.map((function(e){return{data:cl({},e)}}))})}(e)})),i=function(e,t,n){return{x:Al(e,"x",t),y:Al(e,"y",n)}}(o,t,n);"stacked"in t&&!0===t.stacked&&function(e,t){wl("x",e,t)}(i,o),"stacked"in n&&!0===n.stacked&&function(e,t){wl("y",e,t)}(i,o);var s=yl(t,i.x,r,"x"),l=yl(n,i.y,a,"y"),c=o.map((function(e){return cl({},e,{data:e.data.map((function(e){return cl({},e,{position:{x:vl(e,"x",s),y:vl(e,"y",l)}})}))})}));return cl({},i,{series:c,xScale:s,yScale:l})}(t.filter((function(e){return-1===N.indexOf(e.id)})),a,s,c,u)}),[t,N,a,s,c,u]),M=T.xScale,P=T.yScale,B=T.series,I=Object(r.useMemo)((function(){var e=t.map((function(e){return{id:e.id,label:e.id,color:x(e)}})),n=e.map((function(e){return Dc({},B.find((function(t){return t.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return Dc({},e,{hidden:!n.find((function(t){return t.id===e.id}))})})).reverse(),series:n}}),[t,B,x]),L=I.legendData,U=I.series,R=Object(r.useCallback)((function(e){S((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),F=function(e){var t=e.series,n=e.getPointColor,a=e.getPointBorderColor,o=e.formatX,i=e.formatY;return Object(r.useMemo)((function(){return t.reduce((function(e,t){return[].concat(e,t.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(r,s){var l={id:t.id+"."+s,index:e.length+s,serieId:t.id,serieColor:t.color,x:r.position.x,y:r.position.y};return l.color=n(t),l.borderColor=a(l),l.data=Dc({},r.data,{xFormatted:o(r.data.x),yFormatted:i(r.data.y)}),l})))}),[])}),[t,n,a,o,i])}({series:U,getPointColor:C,getPointBorderColor:j,formatX:k,formatY:E}),z=Qc({enableSlices:w,points:F,width:c,height:u});return{legendData:L,toggleSerie:R,lineGenerator:Fc({curve:h}),areaGenerator:zc({curve:h,yScale:P,areaBaselineValue:_}),getColor:x,series:U,xScale:M,yScale:P,slices:z,points:F}},Yc=function(e){var t=e.areaBlendMode,n=e.areaOpacity,r=e.color,a=e.fill,o=e.path,l=_i(),c=l.animate,u=l.config,d=gi(o),f=Object(i.useSpring)({color:r,config:u,immediate:!c});return Object(s.jsx)(i.animated.path,{d:d,fill:a||f.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:t}})};Yc.propTypes={areaBlendMode:Ni.isRequired,areaOpacity:o.a.number.isRequired,color:o.a.string,fill:o.a.string,path:o.a.string.isRequired};var Kc=function(e){var t=e.areaGenerator,n=e.areaOpacity,r=e.areaBlendMode,a=e.lines.slice(0).reverse();return Object(s.jsx)("g",{children:a.map((function(e){return Object(s.jsx)(Yc,Dc({path:t(e.data.map((function(e){return e.position})))},Dc({areaOpacity:n,areaBlendMode:r},e)),e.id)}))})};Kc.propTypes={areaGenerator:o.a.func.isRequired,areaOpacity:o.a.number.isRequired,areaBlendMode:Ni.isRequired,lines:o.a.arrayOf(o.a.object).isRequired};var Wc=Object(r.memo)(Kc),qc=function(e){var t=e.lineGenerator,n=e.points,a=e.color,o=e.thickness,l=Object(r.useMemo)((function(){return t(n)}),[t,n]),c=gi(l);return Object(s.jsx)(i.animated.path,{d:c,fill:"none",strokeWidth:o,stroke:a})};qc.propTypes={points:o.a.arrayOf(o.a.shape({x:o.a.oneOfType([o.a.string,o.a.number]),y:o.a.oneOfType([o.a.string,o.a.number])})),lineGenerator:o.a.func.isRequired,color:o.a.string.isRequired,thickness:o.a.number.isRequired};var Gc=Object(r.memo)(qc),Vc=function(e){var t=e.lines,n=e.lineGenerator,r=e.lineWidth;return t.slice(0).reverse().map((function(e){var t=e.id,a=e.data,o=e.color;return Object(s.jsx)(Gc,{id:t,points:a.map((function(e){return e.position})),lineGenerator:n,color:o,thickness:r},t)}))};Vc.propTypes={lines:o.a.arrayOf(o.a.shape({id:o.a.oneOfType([o.a.string,o.a.number]).isRequired,color:o.a.string.isRequired,data:o.a.arrayOf(o.a.shape({data:o.a.shape({x:o.a.oneOfType([o.a.string,o.a.number,o.a.instanceOf(Date)]),y:o.a.oneOfType([o.a.string,o.a.number,o.a.instanceOf(Date)])}).isRequired,position:o.a.shape({x:o.a.number,y:o.a.number}).isRequired})).isRequired})).isRequired,lineWidth:o.a.number.isRequired,lineGenerator:o.a.func.isRequired};var $c=Object(r.memo)(Vc),Xc=function(e){var t=e.slice,n=e.axis,a=e.debug,o=e.tooltip,i=e.isCurrent,l=e.setCurrent,c=w(),u=c.showTooltipFromEvent,d=c.hideTooltip,f=Object(r.useCallback)((function(e){u(Object(r.createElement)(o,{slice:t,axis:n}),e,"right"),l(t)}),[u,o,t]),p=Object(r.useCallback)((function(e){u(Object(r.createElement)(o,{slice:t,axis:n}),e,"right")}),[u,o,t]),h=Object(r.useCallback)((function(){d(),l(null)}),[d]);return Object(s.jsx)("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:i&&a?.35:0,onMouseEnter:f,onMouseMove:p,onMouseLeave:h})};Xc.propTypes={slice:o.a.object.isRequired,axis:o.a.oneOf(["x","y"]).isRequired,debug:o.a.bool.isRequired,height:o.a.number.isRequired,tooltip:o.a.oneOfType([o.a.func,o.a.object]),isCurrent:o.a.bool.isRequired,setCurrent:o.a.func.isRequired};var Jc=Object(r.memo)(Xc),Zc=function(e){var t=e.slices,n=e.axis,r=e.debug,a=e.height,o=e.tooltip,i=e.current,l=e.setCurrent;return t.map((function(e){return Object(s.jsx)(Jc,{slice:e,axis:n,debug:r,height:a,tooltip:o,setCurrent:l,isCurrent:null!==i&&i.id===e.id},e.id)}))};Zc.propTypes={slices:o.a.arrayOf(o.a.shape({id:o.a.oneOfType([o.a.number,o.a.string,o.a.instanceOf(Date)]).isRequired,x:o.a.number.isRequired,y:o.a.number.isRequired,points:o.a.arrayOf(o.a.object).isRequired})).isRequired,axis:o.a.oneOf(["x","y"]).isRequired,debug:o.a.bool.isRequired,height:o.a.number.isRequired,tooltip:o.a.oneOfType([o.a.func,o.a.object]).isRequired,current:o.a.object,setCurrent:o.a.func.isRequired};var eu=Object(r.memo)(Zc),tu=function(e){var t=e.points,n=e.symbol,r=e.size,a=e.borderWidth,o=e.enableLabel,i=e.label,l=e.labelYOffset,c=Ui(),u=function(e,t){var n,r=rr()(e)?e:function(t){return j()(t,e)};return n?function(e){return n(r(e))}:r}(i),d=t.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:o?u(e.data):null}}));return Object(s.jsx)("g",{children:d.map((function(e){return Object(s.jsx)(is,{x:e.x,y:e.y,datum:e.datum,symbol:n,size:r,color:e.fill,borderWidth:a,borderColor:e.stroke,label:e.label,labelYOffset:l,theme:c},e.id)}))})};tu.propTypes={points:o.a.arrayOf(o.a.object),symbol:o.a.func,size:o.a.number.isRequired,color:o.a.func.isRequired,borderWidth:o.a.number.isRequired,borderColor:o.a.func.isRequired,enableLabel:o.a.bool.isRequired,label:o.a.oneOfType([o.a.string,o.a.func]).isRequired,labelYOffset:o.a.number};var nu=Object(r.memo)(tu),ru=function(e){var t=e.points,n=e.width,a=e.height,o=e.margin,i=e.setCurrent,l=e.onMouseEnter,c=e.onMouseMove,u=e.onMouseLeave,d=e.onClick,f=e.tooltip,p=e.debug,h=w(),m=h.showTooltipAt,_=h.hideTooltip,g=Object(r.useCallback)((function(e,t){m(Object(r.createElement)(f,{point:e}),[e.x+o.left,e.y+o.top],"top"),i(e),l&&l(e,t)}),[i,m,f,l,o]),b=Object(r.useCallback)((function(e,t){m(Object(r.createElement)(f,{point:e}),[e.x+o.left,e.y+o.top],"top"),i(e),c&&c(e,t)}),[i,m,f,c]),y=Object(r.useCallback)((function(e,t){_(),i(null),u&&u(e,t)}),[_,i,u]),v=Object(r.useCallback)((function(e,t){d&&d(e,t)}),[d]);return Object(s.jsx)(jc,{nodes:t,width:n,height:a,onMouseEnter:g,onMouseMove:b,onMouseLeave:y,onClick:v,debug:p})};ru.propTypes={points:o.a.arrayOf(o.a.object).isRequired,width:o.a.number.isRequired,height:o.a.number.isRequired,margin:o.a.object.isRequired,setCurrent:o.a.func.isRequired,onMouseEnter:o.a.func,onMouseMove:o.a.func,onMouseLeave:o.a.func,onClick:o.a.func,tooltip:o.a.oneOfType([o.a.func,o.a.object]).isRequired,debug:o.a.bool.isRequired};var au=Object(r.memo)(ru),ou=function(e){var t=e.data,n=e.xScale,a=e.xFormat,o=e.yScale,i=e.yFormat,l=e.layers,c=e.curve,u=e.areaBaselineValue,d=e.colors,f=e.margin,p=e.width,h=e.height,m=e.axisTop,_=e.axisRight,b=e.axisBottom,y=e.axisLeft,v=e.enableGridX,A=e.enableGridY,w=e.gridXValues,k=e.gridYValues,E=e.lineWidth,x=e.enableArea,O=e.areaOpacity,C=e.areaBlendMode,j=e.enablePoints,D=e.pointSymbol,N=e.pointSize,S=e.pointColor,T=e.pointBorderWidth,M=e.pointBorderColor,P=e.enablePointLabel,B=e.pointLabel,I=e.pointLabelYOffset,L=e.defs,U=e.fill,R=e.markers,F=e.legends,z=e.isInteractive,Q=e.useMesh,H=e.debugMesh,Y=e.onMouseEnter,K=e.onMouseMove,W=e.onMouseLeave,q=e.onClick,G=e.tooltip,V=e.enableSlices,$=e.debugSlices,X=e.sliceTooltip,J=e.enableCrosshair,Z=e.crosshairType,ee=e.role,te=Ti(p,h,f),ne=te.margin,re=te.innerWidth,ae=te.innerHeight,oe=te.outerWidth,ie=te.outerHeight,se=Hc({data:t,xScale:n,xFormat:a,yScale:o,yFormat:i,width:re,height:ae,colors:d,curve:c,areaBaselineValue:u,pointColor:S,pointBorderColor:M,enableSlices:V}),le=se.legendData,ce=se.toggleSerie,ue=se.lineGenerator,de=se.areaGenerator,fe=se.series,pe=se.xScale,he=se.yScale,me=se.slices,_e=se.points,ge=Ui(),be=Ss(S,ge),ye=Ss(M,ge),ve=Object(r.useState)(null),Ae=ve[0],we=ve[1],ke=Object(r.useState)(null),Ee=ke[0],xe=ke[1],Oe={grid:Object(s.jsx)(Fl,{theme:ge,width:re,height:ae,xScale:v?pe:null,yScale:A?he:null,xValues:w,yValues:k},"grid"),markers:Object(s.jsx)(us,{markers:R,width:re,height:ae,xScale:pe,yScale:he,theme:ge},"markers"),axes:Object(s.jsx)(Ll,{xScale:pe,yScale:he,width:re,height:ae,theme:ge,top:m,right:_,bottom:b,left:y},"axes"),areas:null,lines:Object(s.jsx)($c,{lines:fe,lineGenerator:ue,lineWidth:E},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:F.map((function(e,t){return Object(s.jsx)($l,Dc({},e,{containerWidth:re,containerHeight:ae,data:e.data||le,theme:ge,toggleSerie:e.toggleSerie?ce:void 0}),"legend."+t)}))},Ce=_s(L,fe,U);return x&&(Oe.areas=Object(s.jsx)(Wc,{areaGenerator:de,areaOpacity:O,areaBlendMode:C,lines:fe},"areas")),z&&!1!==V&&(Oe.slices=Object(s.jsx)(eu,{slices:me,axis:V,debug:$,height:ae,tooltip:X,current:Ee,setCurrent:xe},"slices")),j&&(Oe.points=Object(s.jsx)(nu,{points:_e,symbol:D,size:N,color:be,borderWidth:T,borderColor:ye,enableLabel:P,label:B,labelYOffset:I},"points")),z&&J&&(null!==Ae&&(Oe.crosshair=Object(s.jsx)(g,{width:re,height:ae,x:Ae.x,y:Ae.y,type:Z},"crosshair")),null!==Ee&&(Oe.crosshair=Object(s.jsx)(g,{width:re,height:ae,x:Ee.x,y:Ee.y,type:V},"crosshair"))),z&&Q&&!1===V&&(Oe.mesh=Object(s.jsx)(au,{points:_e,width:re,height:ae,margin:ne,current:Ae,setCurrent:we,onMouseEnter:Y,onMouseMove:K,onMouseLeave:W,onClick:q,tooltip:G,debug:H},"mesh")),Object(s.jsx)(ns,{defs:Ce,width:oe,height:ie,margin:ne,role:ee,children:l.map((function(t,n){return"function"==typeof t?Object(s.jsx)(r.Fragment,{children:t(Dc({},e,{innerWidth:re,innerHeight:ae,series:fe,slices:me,points:_e,xScale:pe,yScale:he,lineGenerator:ue,areaGenerator:de,currentPoint:Ae,setCurrentPoint:we,currentSlice:Ee,setCurrentSlice:xe}))},n):Oe[t]}))})};ou.propTypes=Bc,ou.defaultProps=Uc;var iu=fs(ou),su=function(e){return Object(s.jsx)(Qi,{children:function(t){var n=t.width,r=t.height;return Object(s.jsx)(iu,Dc({width:n,height:r},e))}})},lu=function(e){var t=e.width,n=e.height,a=e.margin,o=e.pixelRatio,i=e.data,l=e.xScale,c=e.xFormat,u=e.yScale,d=e.yFormat,f=e.curve,p=e.layers,h=e.colors,m=e.lineWidth,_=e.enableArea,g=e.areaBaselineValue,b=e.areaOpacity,y=e.enablePoints,v=e.pointSize,A=e.pointColor,k=e.pointBorderWidth,E=e.pointBorderColor,x=e.enableGridX,O=e.gridXValues,C=e.enableGridY,j=e.gridYValues,D=e.axisTop,N=e.axisRight,S=e.axisBottom,T=e.axisLeft,M=e.legends,P=e.isInteractive,B=e.debugMesh,I=e.onMouseLeave,L=e.onClick,U=e.tooltip,R=e.canvasRef,F=Object(r.useRef)(null),z=Ti(t,n,a),Q=z.margin,H=z.innerWidth,Y=z.innerHeight,K=z.outerWidth,W=z.outerHeight,q=Ui(),G=Object(r.useState)(null),V=G[0],$=G[1],X=Hc({data:i,xScale:l,xFormat:c,yScale:u,yFormat:d,width:H,height:Y,colors:h,curve:f,areaBaselineValue:g,pointColor:A,pointBorderColor:E}),J=X.lineGenerator,Z=X.areaGenerator,ee=X.series,te=X.xScale,ne=X.yScale,re=X.points,ae=Cc({points:re,width:H,height:Y,debug:B}),oe=ae.delaunay,ie=ae.voronoi;Object(r.useEffect)((function(){R&&(R.current=F.current),F.current.width=K*o,F.current.height=W*o;var e=F.current.getContext("2d");e.scale(o,o),e.fillStyle=q.background,e.fillRect(0,0,K,W),e.translate(Q.left,Q.top),p.forEach((function(t){if("function"==typeof t&&t({ctx:e,innerWidth:H,innerHeight:Y,series:ee,points:re,xScale:te,yScale:ne,lineWidth:m,lineGenerator:J,areaGenerator:Z,currentPoint:V,setCurrentPoint:$}),"grid"===t&&q.grid.line.strokeWidth>0&&(e.lineWidth=q.grid.line.strokeWidth,e.strokeStyle=q.grid.line.stroke,x&&zl(e,{width:H,height:Y,scale:te,axis:"x",values:O}),C&&zl(e,{width:H,height:Y,scale:ne,axis:"y",values:j})),"axes"===t&&function(e,t){var n=t.xScale,r=t.yScale,a=t.width,o=t.height,i=t.top,s=t.right,l=t.bottom,c=t.left,u=t.theme,d={top:i,right:s,bottom:l,left:c};Il.forEach((function(t){var i=d[t];if(!i)return null;var s="top"===t||"bottom"===t,l="top"===t||"left"===t?"before":"after",c=s?n:r,f=Nl(i.format,c);!function(e,t){var n,r=t.axis,a=t.scale,o=t.x,i=void 0===o?0:o,s=t.y,l=void 0===s?0:s,c=t.length,u=t.ticksPosition,d=t.tickValues,f=t.tickSize,p=void 0===f?5:f,h=t.tickPadding,m=void 0===h?5:h,_=t.tickRotation,g=void 0===_?0:_,b=t.format,y=t.legend,v=t.legendPosition,A=void 0===v?"end":v,w=t.legendOffset,k=void 0===w?0:w,E=t.theme,x=Dl({axis:r,scale:a,ticksPosition:u,tickValues:d,tickSize:p,tickPadding:m,tickRotation:g,engine:"canvas"}),O=x.ticks,C=x.textAlign,j=x.textBaseline;e.save(),e.translate(i,l),e.textAlign=C,e.textBaseline=j,e.font=(E.axis.ticks.text.fontWeight?E.axis.ticks.text.fontWeight+" ":"")+E.axis.ticks.text.fontSize+"px "+E.axis.ticks.text.fontFamily,(null!=(n=E.axis.domain.line.strokeWidth)?n:0)>0&&(e.lineWidth=Number(E.axis.domain.line.strokeWidth),e.lineCap="square",E.axis.domain.line.stroke&&(e.strokeStyle=E.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo("x"===r?c:0,"x"===r?0:c),e.stroke());var D="function"==typeof b?b:function(e){return""+e};if(O.forEach((function(t){var n;(null!=(n=E.axis.ticks.line.strokeWidth)?n:0)>0&&(e.lineWidth=Number(E.axis.ticks.line.strokeWidth),e.lineCap="square",E.axis.ticks.line.stroke&&(e.strokeStyle=E.axis.ticks.line.stroke),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+t.lineX,t.y+t.lineY),e.stroke());var r=D(t.value);e.save(),e.translate(t.x+t.textX,t.y+t.textY),e.rotate(qi(g)),E.axis.ticks.text.fill&&(e.fillStyle=E.axis.ticks.text.fill),e.fillText(String(r),0,0),e.restore()})),void 0!==y){var N=0,S=0,T=0,M="center";"y"===r?(T=-90,N=k,"start"===A?(M="start",S=c):"middle"===A?(M="center",S=c/2):"end"===A&&(M="end")):(S=k,"start"===A?M="start":"middle"===A?(M="center",N=c/2):"end"===A&&(M="end",N=c)),e.translate(N,S),e.rotate(qi(T)),e.font=(E.axis.legend.text.fontWeight?E.axis.legend.text.fontWeight+" ":"")+E.axis.legend.text.fontSize+"px "+E.axis.legend.text.fontFamily,E.axis.legend.text.fill&&(e.fillStyle=E.axis.legend.text.fill),e.textAlign=M,e.textBaseline="middle",e.fillText(y,0,0)}e.restore()}(e,jl({},i,{axis:s?"x":"y",x:"right"===t?a:0,y:"bottom"===t?o:0,scale:c,format:f,length:s?a:o,ticksPosition:l,theme:u}))}))}(e,{xScale:te,yScale:ne,width:H,height:Y,top:D,right:N,bottom:S,left:T,theme:q}),"areas"===t&&!0===_&&(e.save(),e.globalAlpha=b,Z.context(e),ee.forEach((function(t){e.fillStyle=t.color,e.beginPath(),Z(t.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===t&&(J.context(e),ee.forEach((function(t){e.strokeStyle=t.color,e.lineWidth=m,e.beginPath(),J(t.data.map((function(e){return e.position}))),e.stroke()}))),"points"===t&&!0===y&&v>0&&re.forEach((function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.x,t.y,v/2,0,2*Math.PI),e.fill(),k>0&&(e.strokeStyle=t.borderColor,e.lineWidth=k,e.stroke())})),"mesh"===t&&!0===B&&(function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()}(e,ie),V&&function(e,t,n){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(n,e),e.fillStyle="red",e.fill(),e.restore()}(e,ie,V.index)),"legends"===t){var n=ee.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();M.forEach((function(t){!function(e,t){var n=t.data,r=t.containerWidth,a=t.containerHeight,o=t.translateX,i=void 0===o?0:o,s=t.translateY,l=void 0===s?0:s,c=t.anchor,u=t.direction,d=t.padding,f=void 0===d?0:d,p=t.justify,h=void 0!==p&&p,m=t.itemsSpacing,_=void 0===m?0:m,g=t.itemWidth,b=t.itemHeight,y=t.itemDirection,v=void 0===y?"left-to-right":y,A=t.itemTextColor,w=t.symbolSize,k=void 0===w?16:w,E=t.symbolSpacing,x=void 0===E?8:E,O=t.theme,C=Yl({itemCount:n.length,itemWidth:g,itemHeight:b,itemsSpacing:_,direction:u,padding:f}),j=C.width,D=C.height,N=C.padding,S=Kl({anchor:c,translateX:i,translateY:l,containerWidth:r,containerHeight:a,width:j,height:D}),T=S.x,M=S.y,P="row"===u?g+_:0,B="column"===u?b+_:0;e.save(),e.translate(T,M),e.font=O.legends.text.fontSize+"px "+(O.legends.text.fontFamily||"sans-serif"),n.forEach((function(t,n){var r,a,o=n*P+N.left,i=n*B+N.top,s=Wl({direction:v,justify:h,symbolSize:k,symbolSpacing:x,width:g,height:b}),l=s.symbolX,c=s.symbolY,u=s.labelX,d=s.labelY,f=s.labelAnchor,p=s.labelAlignment;e.fillStyle=null!=(r=t.color)?r:"black",e.fillRect(o+l,i+c,k,k),e.textAlign=Xl[f],"central"===p&&(e.textBaseline="middle"),e.fillStyle=null!=(a=null!=A?A:O.legends.text.fill)?a:"black",e.fillText(String(t.label),o+u,i+d)})),e.restore()}(e,Dc({},t,{data:t.data||n,containerWidth:H,containerHeight:Y,theme:q}))}))}}))}),[F,K,W,p,q,J,ee,te,ne,x,O,C,j,D,N,S,T,M,re,y,v,V]);var se=Object(r.useCallback)((function(e){var t=ps(F.current,e),n=t[0],r=t[1];if(!function(e,t,n,r,a,o){return e<=a&&a<=e+n&&t<=o&&o<=t+r}(Q.left,Q.top,H,Y,n,r))return null;var a=oe.find(n-Q.left,r-Q.top);return re[a]}),[F,Q,H,Y,oe]),le=w(),ce=le.showTooltipFromEvent,ue=le.hideTooltip,de=Object(r.useCallback)((function(e){var t=se(e);$(t),t?ce(Object(r.createElement)(U,{point:t}),e):ue()}),[se,$,ce,ue,U]),fe=Object(r.useCallback)((function(e){ue(),$(null),V&&I&&I(V,e)}),[ue,$,I]),pe=Object(r.useCallback)((function(e){if(L){var t=se(e);t&&L(t,e)}}),[se,L]);return Object(s.jsx)("canvas",{ref:F,width:K*o,height:W*o,style:{width:K,height:W,cursor:P?"auto":"normal"},onMouseEnter:P?de:void 0,onMouseMove:P?de:void 0,onMouseLeave:P?fe:void 0,onClick:P?pe:void 0})};lu.propTypes=Ic,lu.defaultProps=Rc;var cu=fs(lu),uu=Object(r.forwardRef)((function(e,t){return Object(s.jsx)(cu,Dc({},e,{canvasRef:t}))})),du=Object(r.forwardRef)((function(e,t){return Object(s.jsx)(Qi,{children:function(n){var r=n.width,a=n.height;return Object(s.jsx)(uu,Dc({width:r,height:a},e,{ref:t}))}})}))},function(e,t,n){"use strict";n.r(t),n.d(t,"useStateManager",(function(){return Yt})),n.d(t,"createFilter",(function(){return ln})),n.d(t,"defaultTheme",(function(){return xn})),n.d(t,"mergeStyles",(function(){return En})),n.d(t,"components",(function(){return Qt})),n.d(t,"NonceProvider",(function(){return Fn}));var r=n(10),a=n(0),o=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i="-ms-",s="-moz-",l="-webkit-",c="comm",u="rule",d="decl",f="@keyframes",p=Math.abs,h=String.fromCharCode,m=Object.assign;function _(e){return e.trim()}function g(e,t,n){return e.replace(t,n)}function b(e,t){return e.indexOf(t)}function y(e,t){return 0|e.charCodeAt(t)}function v(e,t,n){return e.slice(t,n)}function A(e){return e.length}function w(e){return e.length}function k(e,t){return t.push(e),e}var E=1,x=1,O=0,C=0,j=0,D="";function N(e,t,n,r,a,o,i){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:E,column:x,length:i,return:""}}function S(e,t){return m(N("",null,null,"",null,null,0),e,{length:-e.length},t)}function T(){return j=C>0?y(D,--C):0,x--,10===j&&(x=1,E--),j}function M(){return j=C<O?y(D,C++):0,x++,10===j&&(x=1,E++),j}function P(){return y(D,C)}function B(){return C}function I(e,t){return v(D,e,t)}function L(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function U(e){return E=x=1,O=A(D=e),C=0,[]}function R(e){return D="",e}function F(e){return _(I(C-1,function e(t){for(;M();)switch(j){case t:return C;case 34:case 39:34!==t&&39!==t&&e(j);break;case 40:41===t&&e(t);break;case 92:M()}return C}(91===e?e+2:40===e?e+1:e)))}function z(e){for(;(j=P())&&j<33;)M();return L(e)>2||L(j)>3?"":" "}function Q(e,t){for(;--t&&M()&&!(j<48||j>102||j>57&&j<65||j>70&&j<97););return I(e,B()+(t<6&&32==P()&&32==M()))}function H(e,t){for(;M()&&e+j!==57&&(e+j!==84||47!==P()););return"/*"+I(t,C-1)+"*"+h(47===e?e:M())}function Y(e){for(;!L(P());)M();return I(e,C)}function K(e,t,n,r,a,o,i,s,l,c,d){for(var f=a-1,h=0===a?o:[""],m=w(h),b=0,y=0,A=0;b<r;++b)for(var k=0,E=v(e,f+1,f=p(y=i[b])),x=e;k<m;++k)(x=_(y>0?h[k]+" "+E:g(E,/&\f/g,h[k])))&&(l[A++]=x);return N(e,t,n,0===a?u:s,l,c,d)}function W(e,t,n){return N(e,t,n,c,h(j),v(e,2,-2),0)}function q(e,t,n,r){return N(e,t,n,d,v(e,0,r),v(e,r+1,-1),r)}function G(e,t){for(var n="",r=w(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function V(e,t,n,r){switch(e.type){case"@import":case d:return e.return=e.return||e.value;case c:return"";case f:return e.return=e.value+"{"+G(e.children,r)+"}";case u:e.value=e.props.join(",")}return A(n=G(e.children,r))?e.return=e.value+"{"+n+"}":""}var $=function(e,t,n){for(var r=0,a=0;r=a,a=P(),38===r&&12===a&&(t[n]=1),!L(a);)M();return I(e,C)},X=new WeakMap,J=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||X.get(n))&&!r){X.set(e,!0);for(var a=[],o=function(e,t){return R(function(e,t){var n=-1,r=44;do{switch(L(r)){case 0:38===r&&12===P()&&(t[n]=1),e[n]+=$(C-1,t,n);break;case 2:e[n]+=F(r);break;case 4:if(44===r){e[++n]=58===P()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=h(r)}}while(r=M());return e}(U(e),t))}(t,a),i=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<i.length;c++,l++)e.props[l]=a[s]?o[s].replace(/&\f/g,i[c]):i[c]+" "+o[s]}}},Z=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ee=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case d:e.return=function e(t,n){switch(function(e,t){return(((t<<2^y(e,0))<<2^y(e,1))<<2^y(e,2))<<2^y(e,3)}(t,n)){case 5103:return l+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return l+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return l+t+s+t+i+t+t;case 6828:case 4268:return l+t+i+t+t;case 6165:return l+t+i+"flex-"+t+t;case 5187:return l+t+g(t,/(\w+).+(:[^]+)/,l+"box-$1$2"+i+"flex-$1$2")+t;case 5443:return l+t+i+"flex-item-"+g(t,/flex-|-self/,"")+t;case 4675:return l+t+i+"flex-line-pack"+g(t,/align-content|flex-|-self/,"")+t;case 5548:return l+t+i+g(t,"shrink","negative")+t;case 5292:return l+t+i+g(t,"basis","preferred-size")+t;case 6060:return l+"box-"+g(t,"-grow","")+l+t+i+g(t,"grow","positive")+t;case 4554:return l+g(t,/([^-])(transform)/g,"$1"+l+"$2")+t;case 6187:return g(g(g(t,/(zoom-|grab)/,l+"$1"),/(image-set)/,l+"$1"),t,"")+t;case 5495:case 3959:return g(t,/(image-set\([^]*)/,l+"$1$`$1");case 4968:return g(g(t,/(.+:)(flex-)?(.*)/,l+"box-pack:$3"+i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+l+t+t;case 4095:case 3583:case 4068:case 2532:return g(t,/(.+)-inline(.+)/,l+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(A(t)-1-n>6)switch(y(t,n+1)){case 109:if(45!==y(t,n+4))break;case 102:return g(t,/(.+:)(.+)-([^]+)/,"$1"+l+"$2-$3$1"+s+(108==y(t,n+3)?"$3":"$2-$3"))+t;case 115:return~b(t,"stretch")?e(g(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==y(t,n+1))break;case 6444:switch(y(t,A(t)-3-(~b(t,"!important")&&10))){case 107:return g(t,":",":"+l)+t;case 101:return g(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+l+(45===y(t,14)?"inline-":"")+"box$3$1"+l+"$2$3$1"+i+"$2box$3")+t}break;case 5936:switch(y(t,n+11)){case 114:return l+t+i+g(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return l+t+i+g(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return l+t+i+g(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return l+t+i+t+t}return t}(e.value,e.length);break;case f:return G([S(e,{value:g(e.value,"@","@"+l)})],r);case u:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return G([S(e,{props:[g(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return G([S(e,{props:[g(t,/:(plac\w+)/,":"+l+"input-$1")]}),S(e,{props:[g(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[g(t,/:(plac\w+)/,i+"input-$1")]})],r)}return""}))}}],te=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,a,i=e.stylisPlugins||ee,s={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var c,u,d=[V,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],f=function(e){var t=w(e);return function(n,r,a,o){for(var i="",s=0;s<t;s++)i+=e[s](n,r,a,o)||"";return i}}([J,Z].concat(i,d));a=function(e,t,n,r){c=n,G(function(e){return R(function e(t,n,r,a,o,i,s,l,c){for(var u=0,d=0,f=s,p=0,m=0,_=0,y=1,v=1,w=1,E=0,x="",O=o,C=i,j=a,D=x;v;)switch(_=E,E=M()){case 40:if(108!=_&&58==D.charCodeAt(f-1)){-1!=b(D+=g(F(E),"&","&\f"),"&\f")&&(w=-1);break}case 34:case 39:case 91:D+=F(E);break;case 9:case 10:case 13:case 32:D+=z(_);break;case 92:D+=Q(B()-1,7);continue;case 47:switch(P()){case 42:case 47:k(W(H(M(),B()),n,r),c);break;default:D+="/"}break;case 123*y:l[u++]=A(D)*w;case 125*y:case 59:case 0:switch(E){case 0:case 125:v=0;case 59+d:m>0&&A(D)-f&&k(m>32?q(D+";",a,r,f-1):q(g(D," ","")+";",a,r,f-2),c);break;case 59:D+=";";default:if(k(j=K(D,n,r,u,d,o,l,x,O=[],C=[],f),i),123===E)if(0===d)e(D,n,j,j,O,i,f,l,C);else switch(p){case 100:case 109:case 115:e(t,j,j,a&&k(K(t,j,j,0,0,o,l,x,o,O=[],f),C),o,C,f,l,a?O:C);break;default:e(D,j,j,j,[""],C,0,l,C)}}u=d=m=0,y=w=1,x=D="",f=s;break;case 58:f=1+A(D),m=_;default:if(y<1)if(123==E)--y;else if(125==E&&0==y++&&125==T())continue;switch(D+=h(E),E*y){case 38:w=d>0?1:(D+="\f",-1);break;case 44:l[u++]=(A(D)-1)*w,w=1;break;case 64:45===P()&&(D+=F(M())),p=P(),d=f=A(x=D+=Y(B())),E++;break;case 45:45===_&&2==A(D)&&(y=0)}}return i}("",null,null,null,[""],e=U(e),0,[0],e))}(e?e+"{"+t.styles+"}":t.styles),f),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new o({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return p.sheet.hydrate(l),p};function ne(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}n(91);var re=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ae=function(e,t,n){re(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}},oe=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},ie={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},se=/[A-Z]|^ms/g,le=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ce=function(e){return 45===e.charCodeAt(1)},ue=function(e){return null!=e&&"boolean"!=typeof e},de=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return ce(e)?e:e.replace(se,"-$&").toLowerCase()})),fe=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(le,(function(e,t,n){return he={name:t,styles:n,next:he},t}))}return 1===ie[e]||ce(e)||"number"!=typeof t||0===t?t:t+"px"};function pe(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return he={name:n.name,styles:n.styles,next:he},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)he={name:r.name,styles:r.styles,next:he},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=pe(e,t,n[a])+";";else for(var o in n){var i=n[o];if("object"!=typeof i)null!=t&&void 0!==t[i]?r+=o+"{"+t[i]+"}":ue(i)&&(r+=de(o)+":"+fe(o,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var s=pe(e,t,i);switch(o){case"animation":case"animationName":r+=de(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<i.length;l++)ue(i[l])&&(r+=de(o)+":"+fe(o,i[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=he,o=n(e);return he=a,pe(e,t,o)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var he,me=/label:\s*([^\s;\n{]+)\s*(;|$)/g,_e=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";he=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,a+=pe(n,t,o)):a+=o[0];for(var i=1;i<e.length;i++)a+=pe(n,t,e[i]),r&&(a+=o[i]);me.lastIndex=0;for(var s,l="";null!==(s=me.exec(a));)l+="-"+s[1];return{name:oe(a)+l,styles:a,next:he}},ge={}.hasOwnProperty,be=Object(a.createContext)("undefined"!=typeof HTMLElement?te({key:"css"}):null),ye=be.Provider,ve=function(e){return Object(a.forwardRef)((function(t,n){var r=Object(a.useContext)(be);return e(t,r,n)}))},Ae=Object(a.createContext)({}),we=a.useInsertionEffect?a.useInsertionEffect:function(e){e()};function ke(e){we(e)}var Ee="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",xe=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return re(t,n,r),ke((function(){return ae(t,n,r)})),null},Oe=ve((function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[Ee],i=[r],s="";"string"==typeof e.className?s=ne(t.registered,i,e.className):null!=e.className&&(s=e.className+" ");var l=_e(i,void 0,Object(a.useContext)(Ae));s+=t.key+"-"+l.name;var c={};for(var u in e)ge.call(e,u)&&"css"!==u&&u!==Ee&&(c[u]=e[u]);return c.ref=n,c.className=s,Object(a.createElement)(a.Fragment,null,Object(a.createElement)(xe,{cache:t,serialized:l,isStringTag:"string"==typeof o}),Object(a.createElement)(o,c))}));n(76);var Ce=function(e,t){var n=arguments;if(null==t||!ge.call(t,"css"))return a.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=Oe,o[1]=function(e,t){var n={};for(var r in t)ge.call(t,r)&&(n[r]=t[r]);return n[Ee]=e,n}(e,t);for(var i=2;i<r;i++)o[i]=n[i];return a.createElement.apply(null,o)};function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _e(t)}a.useInsertionEffect?a.useInsertionEffect:a.useLayoutEffect;var De=function(e){var t=e.cache,n=e.serializedArr;return ke((function(){for(var e=0;e<n.length;e++)ae(t,n[e],!1)})),null},Ne=ve((function(e,t){var n=[],r=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var o=_e(r,t.registered);return n.push(o),re(t,o,!1),t.key+"-"+o.name},o={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return function(e,t,n){var r=[],a=ne(e,r,n);return r.length<2?n:a+t(r)}(t.registered,r,function e(t){for(var n=t.length,r=0,a="";r<n;r++){var o=t[r];if(null!=o){var i=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))i=e(o);else for(var s in i="",o)o[s]&&s&&(i&&(i+=" "),i+=s);break;default:i=o}i&&(a&&(a+=" "),a+=i)}}return a}(n))},theme:Object(a.useContext)(Ae)},i=e.children(o);return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(De,{cache:t,serializedArr:n}),i)})),Se=n(50);function Te(e,t){if(null==e)return{};var n,r,a=Object(Se.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t){if(e){if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,n){return t&&Ue(e.prototype,t),n&&Ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Fe=n(187);function ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(Fe.a)(e,t)}var Qe=n(43),He=n(15);function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qe(e);if(t){var a=qe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ge(this,n)}}var $e=["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Xe=function(){};function Je(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}var Ze=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===Ie(e)&&null!==e?[e]:[];var t},et=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,We({},Te(e,$e))};function tt(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function nt(e){return tt(e)?window.pageYOffset:e.scrollTop}function rt(e,t){tt(e)?window.scrollTo(0,t):e.scrollTop=t}function at(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xe,a=nt(e),o=t-a,i=10,s=0;!function t(){var l,c=o*((l=(l=s+=i)/n-1)*l*l+1)+a;rt(e,c),s<n?window.requestAnimationFrame(t):r(e)}()}function ot(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var it=!1,st={get passive(){return it=!0}},lt="undefined"!=typeof window?window:{};lt.addEventListener&&lt.removeEventListener&&(lt.addEventListener("p",Xe,st),lt.removeEventListener("p",Xe,!1));var ct=it;function ut(e){return null!=e}function dt(e,t,n){return e?t:n}function ft(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,a=e.placement,o=e.shouldScroll,i=e.isFixedPosition,s=e.theme.spacing,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),f=d.bottom,p=d.height,h=d.top,m=n.offsetParent.getBoundingClientRect().top,_=window.innerHeight,g=nt(l),b=parseInt(getComputedStyle(n).marginBottom,10),y=parseInt(getComputedStyle(n).marginTop,10),v=m-y,A=_-h,w=v+g,k=u-g-h,E=f-_+g+b,x=g+h-y;switch(a){case"auto":case"bottom":if(A>=p)return{placement:"bottom",maxHeight:t};if(k>=p&&!i)return o&&at(l,E,160),{placement:"bottom",maxHeight:t};if(!i&&k>=r||i&&A>=r)return o&&at(l,E,160),{placement:"bottom",maxHeight:i?A-b:k-b};if("auto"===a||i){var O=t,C=i?v:w;return C>=r&&(O=Math.min(C-b-s.controlHeight,t)),{placement:"top",maxHeight:O}}if("bottom"===a)return o&&rt(l,E),{placement:"bottom",maxHeight:t};break;case"top":if(v>=p)return{placement:"top",maxHeight:t};if(w>=p&&!i)return o&&at(l,x,160),{placement:"top",maxHeight:t};if(!i&&w>=r||i&&v>=r){var j=t;return(!i&&w>=r||i&&v>=r)&&(j=i?v-y:w-y),o&&at(l,x,160),{placement:"top",maxHeight:j}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return c}var pt=function(e){return"auto"===e?"bottom":e},ht=Object(a.createContext)({getPortalPlacement:null}),mt=function(e){ze(n,a.Component);var t=Ve(n);function n(){var e;Le(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.context=void 0,e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,a=n.maxMenuHeight,o=n.menuPlacement,i=n.menuPosition,s=n.menuShouldScrollIntoView,l=n.theme;if(t){var c="fixed"===i,u=ft({maxHeight:a,menuEl:t,minHeight:r,placement:o,shouldScroll:s&&!c,isFixedPosition:c,theme:l}),d=e.context.getPortalPlacement;d&&d(u),e.setState(u)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||pt(t);return We(We({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return Re(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}();mt.contextType=ht;var _t=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},gt=_t,bt=_t,yt=function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,i=e.innerProps;return Ce("div",Object(r.a)({css:o("noOptionsMessage",e),className:a({"menu-notice":!0,"menu-notice--no-options":!0},n)},i),t)};yt.defaultProps={children:"No options"};var vt=function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,i=e.innerProps;return Ce("div",Object(r.a)({css:o("loadingMessage",e),className:a({"menu-notice":!0,"menu-notice--loading":!0},n)},i),t)};vt.defaultProps={children:"Loading..."};var At,wt,kt,Et=function(e){ze(n,a.Component);var t=Ve(n);function n(){var e;Le(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==pt(e.props.menuPlacement)&&e.setState({placement:n})},e}return Re(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,a=e.className,o=e.controlElement,i=e.cx,s=e.innerProps,l=e.menuPlacement,c=e.menuPosition,u=e.getStyles,d="fixed"===c;if(!t&&!d||!o)return null;var f=this.state.placement||pt(l),p=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(o),h=d?0:window.pageYOffset,m={offset:p[f]+h,position:c,rect:p},_=Ce("div",Object(r.a)({css:u("menuPortal",m),className:i({"menu-portal":!0},a)},s),n);return Ce(ht.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?Object(He.createPortal)(_,t):_)}}]),n}(),xt=["size"],Ot={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Ct=function(e){var t=e.size,n=Te(e,xt);return Ce("svg",Object(r.a)({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Ot},n))},jt=function(e){return Ce(Ct,Object(r.a)({size:20},e),Ce("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Dt=function(e){return Ce(Ct,Object(r.a)({size:20},e),Ce("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Nt=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,a=n.colors;return{label:"indicatorContainer",color:t?a.neutral60:a.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?a.neutral80:a.neutral40}}},St=Nt,Tt=Nt,Mt=function(){var e=je.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(At||(wt=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],kt||(kt=wt.slice(0)),At=Object.freeze(Object.defineProperties(wt,{raw:{value:Object.freeze(kt)}})))),Pt=function(e){var t=e.delay,n=e.offset;return Ce("span",{css:je({animation:"".concat(Mt," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Bt=function(e){var t=e.className,n=e.cx,a=e.getStyles,o=e.innerProps,i=e.isRtl;return Ce("div",Object(r.a)({css:a("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},o),Ce(Pt,{delay:0,offset:i}),Ce(Pt,{delay:160,offset:!0}),Ce(Pt,{delay:320,offset:!i}))};Bt.defaultProps={size:4};var It=["data"],Lt=["innerRef","isDisabled","isHidden","inputClassName"],Ut={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Rt={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":We({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Ut)},Ft=function(e){return We({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Ut)},zt=function(e){var t=e.children,n=e.innerProps;return Ce("div",n,t)},Qt={ClearIndicator:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,i=e.innerProps;return Ce("div",Object(r.a)({css:o("clearIndicator",e),className:a({indicator:!0,"clear-indicator":!0},n)},i),t||Ce(jt,null))},Control:function(e){var t=e.children,n=e.cx,a=e.getStyles,o=e.className,i=e.isDisabled,s=e.isFocused,l=e.innerRef,c=e.innerProps,u=e.menuIsOpen;return Ce("div",Object(r.a)({ref:l,css:a("control",e),className:n({control:!0,"control--is-disabled":i,"control--is-focused":s,"control--menu-is-open":u},o)},c),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,i=e.innerProps;return Ce("div",Object(r.a)({css:o("dropdownIndicator",e),className:a({indicator:!0,"dropdown-indicator":!0},n)},i),t||Ce(Dt,null))},DownChevron:Dt,CrossIcon:jt,Group:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,i=e.Heading,s=e.headingProps,l=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return Ce("div",Object(r.a)({css:o("group",e),className:a({group:!0},n)},l),Ce(i,Object(r.a)({},s,{selectProps:d,theme:u,getStyles:o,cx:a}),c),Ce("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,a=e.className,o=et(e);o.data;var i=Te(o,It);return Ce("div",Object(r.a)({css:t("groupHeading",e),className:n({"group-heading":!0},a)},i))},IndicatorsContainer:function(e){var t=e.children,n=e.className,a=e.cx,o=e.innerProps,i=e.getStyles;return Ce("div",Object(r.a)({css:i("indicatorsContainer",e),className:a({indicators:!0},n)},o),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,a=e.getStyles,o=e.innerProps;return Ce("span",Object(r.a)({},o,{css:a("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,a=e.getStyles,o=e.value,i=et(e),s=i.innerRef,l=i.isDisabled,c=i.isHidden,u=i.inputClassName,d=Te(i,Lt);return Ce("div",{className:n({"input-container":!0},t),css:a("input",e),"data-value":o||""},Ce("input",Object(r.a)({className:n({input:!0},u),ref:s,style:Ft(c),disabled:l},d)))},LoadingIndicator:Bt,Menu:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,i=e.innerRef,s=e.innerProps;return Ce("div",Object(r.a)({css:o("menu",e),className:a({menu:!0},n),ref:i},s),t)},MenuList:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,i=e.innerProps,s=e.innerRef,l=e.isMulti;return Ce("div",Object(r.a)({css:o("menuList",e),className:a({"menu-list":!0,"menu-list--is-multi":l},n),ref:s},i),t)},MenuPortal:Et,LoadingMessage:vt,NoOptionsMessage:yt,MultiValue:function(e){var t=e.children,n=e.className,r=e.components,a=e.cx,o=e.data,i=e.getStyles,s=e.innerProps,l=e.isDisabled,c=e.removeProps,u=e.selectProps,d=r.Container,f=r.Label,p=r.Remove;return Ce(Ne,null,(function(r){var h=r.css,m=r.cx;return Ce(d,{data:o,innerProps:We({className:m(h(i("multiValue",e)),a({"multi-value":!0,"multi-value--is-disabled":l},n))},s),selectProps:u},Ce(f,{data:o,innerProps:{className:m(h(i("multiValueLabel",e)),a({"multi-value__label":!0},n))},selectProps:u},t),Ce(p,{data:o,innerProps:We({className:m(h(i("multiValueRemove",e)),a({"multi-value__remove":!0},n)),"aria-label":"Remove ".concat(t||"option")},c),selectProps:u}))}))},MultiValueContainer:zt,MultiValueLabel:zt,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Ce("div",Object(r.a)({role:"button"},n),t||Ce(jt,{size:14}))},Option:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,i=e.isDisabled,s=e.isFocused,l=e.isSelected,c=e.innerRef,u=e.innerProps;return Ce("div",Object(r.a)({css:o("option",e),className:a({option:!0,"option--is-disabled":i,"option--is-focused":s,"option--is-selected":l},n),ref:c,"aria-disabled":i},u),t)},Placeholder:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,i=e.innerProps;return Ce("div",Object(r.a)({css:o("placeholder",e),className:a({placeholder:!0},n)},i),t)},SelectContainer:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,i=e.innerProps,s=e.isDisabled,l=e.isRtl;return Ce("div",Object(r.a)({css:o("container",e),className:a({"--is-disabled":s,"--is-rtl":l},n)},i),t)},SingleValue:function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,i=e.isDisabled,s=e.innerProps;return Ce("div",Object(r.a)({css:o("singleValue",e),className:a({"single-value":!0,"single-value--is-disabled":i},n)},s),t)},ValueContainer:function(e){var t=e.children,n=e.className,a=e.cx,o=e.innerProps,i=e.isMulti,s=e.getStyles,l=e.hasValue;return Ce("div",Object(r.a)({css:s("valueContainer",e),className:a({"value-container":!0,"value-container--is-multi":i,"value-container--has-value":l},n)},o),t)}},Ht=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Yt(e){var t=e.defaultInputValue,n=void 0===t?"":t,r=e.defaultMenuIsOpen,o=void 0!==r&&r,i=e.defaultValue,s=void 0===i?null:i,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,d=e.onInputChange,f=e.onMenuClose,p=e.onMenuOpen,h=e.value,m=Te(e,Ht),_=Be(Object(a.useState)(void 0!==l?l:n),2),g=_[0],b=_[1],y=Be(Object(a.useState)(void 0!==c?c:o),2),v=y[0],A=y[1],w=Be(Object(a.useState)(void 0!==h?h:s),2),k=w[0],E=w[1],x=Object(a.useCallback)((function(e,t){"function"==typeof u&&u(e,t),E(e)}),[u]),O=Object(a.useCallback)((function(e,t){var n;"function"==typeof d&&(n=d(e,t)),b(void 0!==n?n:e)}),[d]),C=Object(a.useCallback)((function(){"function"==typeof p&&p(),A(!0)}),[p]),j=Object(a.useCallback)((function(){"function"==typeof f&&f(),A(!1)}),[f]),D=void 0!==l?l:g,N=void 0!==c?c:v,S=void 0!==h?h:k;return We(We({},m),{},{inputValue:D,menuIsOpen:N,onChange:x,onInputChange:O,onMenuClose:j,onMenuOpen:C,value:S})}function Kt(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}for(var Wt=n(26),qt={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Gt=function(e){return Ce("span",Object(r.a)({css:qt},e))},Vt={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,a=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,a=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,a=e.label,o=void 0===a?"":a,i=e.selectValue,s=e.isDisabled,l=e.isSelected,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&i)return"value ".concat(o," focused, ").concat(c(i,n),".");if("menu"===t){var u=s?" disabled":"",d="".concat(l?"selected":"focused").concat(u);return"option ".concat(o," ").concat(d,", ").concat(c(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},$t=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,o=e.focusableOptions,i=e.isFocused,s=e.selectValue,l=e.selectProps,c=e.id,u=l.ariaLiveMessages,d=l.getOptionLabel,f=l.inputValue,p=l.isMulti,h=l.isOptionDisabled,m=l.isSearchable,_=l.menuIsOpen,g=l.options,b=l.screenReaderStatus,y=l.tabSelectsValue,v=l["aria-label"],A=l["aria-live"],w=Object(a.useMemo)((function(){return We(We({},Vt),u||{})}),[u]),k=Object(a.useMemo)((function(){var e,n="";if(t&&w.onChange){var r=t.option,a=t.options,o=t.removedValue,i=t.removedValues,l=t.value,c=o||r||(e=l,Array.isArray(e)?null:e),u=c?d(c):"",f=a||i||void 0,p=f?f.map(d):[],m=We({isDisabled:c&&h(c,s),label:u,labels:p},t);n=w.onChange(m)}return n}),[t,w,h,s,d]),E=Object(a.useMemo)((function(){var e="",t=n||r,a=!!(n&&s&&s.includes(n));if(t&&w.onFocus){var o={focused:t,label:d(t),isDisabled:h(t,s),isSelected:a,options:g,context:t===n?"menu":"value",selectValue:s};e=w.onFocus(o)}return e}),[n,r,d,h,w,g,s]),x=Object(a.useMemo)((function(){var e="";if(_&&g.length&&w.onFilter){var t=b({count:o.length});e=w.onFilter({inputValue:f,resultsMessage:t})}return e}),[o,f,_,w,g,b]),O=Object(a.useMemo)((function(){var e="";if(w.guidance){var t=r?"value":_?"menu":"input";e=w.guidance({"aria-label":v,context:t,isDisabled:n&&h(n,s),isMulti:p,isSearchable:m,tabSelectsValue:y})}return e}),[v,n,r,p,h,m,_,w,s,y]),C="".concat(E," ").concat(x," ").concat(O),j=Ce(a.Fragment,null,Ce("span",{id:"aria-selection"},k),Ce("span",{id:"aria-context"},C)),D="initial-input-focus"===(null==t?void 0:t.action);return Ce(a.Fragment,null,Ce(Gt,{id:c},D&&j),Ce(Gt,{"aria-live":A,"aria-atomic":"false","aria-relevant":"additions text"},i&&!D&&j))},Xt=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Jt=new RegExp("["+Xt.map((function(e){return e.letters})).join("")+"]","g"),Zt={},en=0;en<Xt.length;en++)for(var tn=Xt[en],nn=0;nn<tn.letters.length;nn++)Zt[tn.letters[nn]]=tn.base;var rn=function(e){return e.replace(Jt,(function(e){return Zt[e]}))},an=Object(Wt.a)(rn),on=function(e){return e.replace(/^\s+|\s+$/g,"")},sn=function(e){return"".concat(e.label," ").concat(e.value)},ln=function(e){return function(t,n){if(t.data.__isNew__)return!0;var r=We({ignoreCase:!0,ignoreAccents:!0,stringify:sn,trim:!0,matchFrom:"any"},e),a=r.ignoreCase,o=r.ignoreAccents,i=r.stringify,s=r.trim,l=r.matchFrom,c=s?on(n):n,u=s?on(i(t)):i(t);return a&&(c=c.toLowerCase(),u=u.toLowerCase()),o&&(c=an(c),u=rn(u)),"start"===l?u.substr(0,c.length)===c:u.indexOf(c)>-1}},cn=["innerRef"];function un(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.entries(e).filter((function(e){var t=Be(e,1)[0];return!n.includes(t)})).reduce((function(e,t){var n=Be(t,2),r=n[0],a=n[1];return e[r]=a,e}),{})}(Te(e,cn),"onExited","in","enter","exit","appear");return Ce("input",Object(r.a)({ref:t},n,{css:je({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var dn=["boxSizing","height","overflow","paddingRight","position"],fn={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function pn(e){e.preventDefault()}function hn(e){e.stopPropagation()}function mn(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function _n(){return"ontouchstart"in window||navigator.maxTouchPoints}var gn=!("undefined"==typeof window||!window.document||!window.document.createElement),bn=0,yn={capture:!1,passive:!1},vn=function(){return document.activeElement&&document.activeElement.blur()},An={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function wn(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,o=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,i=e.onTopLeave,s=Object(a.useRef)(!1),l=Object(a.useRef)(!1),c=Object(a.useRef)(0),u=Object(a.useRef)(null),d=Object(a.useCallback)((function(e,t){if(null!==u.current){var a=u.current,c=a.scrollTop,d=a.scrollHeight,f=a.clientHeight,p=u.current,h=t>0,m=d-f-c,_=!1;m>t&&s.current&&(r&&r(e),s.current=!1),h&&l.current&&(i&&i(e),l.current=!1),h&&t>m?(n&&!s.current&&n(e),p.scrollTop=d,_=!0,s.current=!0):!h&&-t>c&&(o&&!l.current&&o(e),p.scrollTop=0,_=!0,l.current=!0),_&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[n,r,o,i]),f=Object(a.useCallback)((function(e){d(e,e.deltaY)}),[d]),p=Object(a.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),h=Object(a.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;d(e,t)}),[d]),m=Object(a.useCallback)((function(e){if(e){var t=!!ct&&{passive:!1};e.addEventListener("wheel",f,t),e.addEventListener("touchstart",p,t),e.addEventListener("touchmove",h,t)}}),[h,p,f]),_=Object(a.useCallback)((function(e){e&&(e.removeEventListener("wheel",f,!1),e.removeEventListener("touchstart",p,!1),e.removeEventListener("touchmove",h,!1))}),[h,p,f]);return Object(a.useEffect)((function(){if(t){var e=u.current;return m(e),function(){_(e)}}}),[t,m,_]),function(e){u.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),i=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,o=Object(a.useRef)({}),i=Object(a.useRef)(null),s=Object(a.useCallback)((function(e){if(gn){var t=document.body,n=t&&t.style;if(r&&dn.forEach((function(e){var t=n&&n[e];o.current[e]=t})),r&&bn<1){var a=parseInt(o.current.paddingRight,10)||0,i=document.body?document.body.clientWidth:0,s=window.innerWidth-i+a||0;Object.keys(fn).forEach((function(e){var t=fn[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&_n()&&(t.addEventListener("touchmove",pn,yn),e&&(e.addEventListener("touchstart",mn,yn),e.addEventListener("touchmove",hn,yn))),bn+=1}}),[r]),l=Object(a.useCallback)((function(e){if(gn){var t=document.body,n=t&&t.style;bn=Math.max(bn-1,0),r&&bn<1&&dn.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&_n()&&(t.removeEventListener("touchmove",pn,yn),e&&(e.removeEventListener("touchstart",mn,yn),e.removeEventListener("touchmove",hn,yn)))}}),[r]);return Object(a.useEffect)((function(){if(t){var e=i.current;return s(e),function(){l(e)}}}),[t,s,l]),function(e){i.current=e}}({isEnabled:n});return Ce(a.Fragment,null,n&&Ce("div",{onClick:vn,css:An}),t((function(e){o(e),i(e)})))}var kn={clearIndicator:Tt,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,a=r.colors,o=r.borderRadius,i=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?a.neutral5:a.neutral0,borderColor:t?a.neutral10:n?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(a.primary):void 0,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?a.primary:a.neutral30}}},dropdownIndicator:St,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,a=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?a.neutral10:a.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.value,r=e.theme,a=r.spacing,o=r.colors;return We({margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,visibility:t?"hidden":"visible",color:o.neutral80,transform:n?"translateZ(0)":""},Rt)},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,a=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?a.neutral60:a.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:bt,menu:function(e){var t,n=e.placement,r=e.theme,a=r.borderRadius,o=r.spacing,i=r.colors;return t={label:"menu"},Object(Qe.a)(t,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),Object(Qe.a)(t,"backgroundColor",i.neutral0),Object(Qe.a)(t,"borderRadius",a),Object(Qe.a)(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Object(Qe.a)(t,"marginBottom",o.menuGutter),Object(Qe.a)(t,"marginTop",o.menuGutter),Object(Qe.a)(t,"position","absolute"),Object(Qe.a)(t,"width","100%"),Object(Qe.a)(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,a=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:a||void 0===a?"ellipsis":void 0,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,a=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused?a.dangerLight:void 0,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}}},noOptionsMessage:gt,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,a=e.theme,o=a.spacing,i=a.colors;return{label:"option",backgroundColor:r?i.primary:n?i.primary25:"transparent",color:t?i.neutral20:r?i.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:t?void 0:r?i.primary:i.primary50}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,gridArea:"1 / 1 / 2 / 3",marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,a=n.colors;return{label:"singleValue",color:t?a.neutral40:a.neutral80,gridArea:"1 / 1 / 2 / 3",marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},valueContainer:function(e){var t=e.theme.spacing,n=e.isMulti,r=e.hasValue,a=e.selectProps.controlShouldRenderValue;return{alignItems:"center",display:n&&r&&a?"flex":"grid",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=We({},e);return Object.keys(t).forEach((function(r){var a=r;e[a]?n[a]=function(n,r){return t[a](e[a](n,r),r)}:n[a]=t[a]})),n}var xn={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},On={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:ot(),captureMenuScroll:!ot(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:ln(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0};function Cn(e,t,n,r){return{type:"option",data:t,isDisabled:Mn(e,t,n),isSelected:Pn(e,t,n),label:Sn(e,t),value:Tn(e,t),index:r}}function jn(e,t){return e.options.map((function(n,r){if("options"in n){var a=n.options.map((function(n,r){return Cn(e,n,t,r)})).filter((function(t){return Nn(e,t)}));return a.length>0?{type:"group",data:n,options:a,index:r}:void 0}var o=Cn(e,n,t,r);return Nn(e,o)?o:void 0})).filter(ut)}function Dn(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Kt(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function Nn(e,t){var n=e.inputValue,r=void 0===n?"":n,a=t.data,o=t.isSelected,i=t.label,s=t.value;return(!In(e)||!o)&&Bn(e,{label:i,value:s,data:a},r)}var Sn=function(e,t){return e.getOptionLabel(t)},Tn=function(e,t){return e.getOptionValue(t)};function Mn(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function Pn(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=Tn(e,t);return n.some((function(t){return Tn(e,t)===r}))}function Bn(e,t,n){return!e.filterOption||e.filterOption(t,n)}var In=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},Ln=1,Un=function(e){ze(n,a.Component);var t=Ve(n);function n(e){var r;return Le(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,a=n.onChange,o=n.name;t.name=o,r.ariaOnChange(e,t),a(e,t)},r.setValue=function(e,t,n){var a=r.props,o=a.closeMenuOnSelect,i=a.isMulti,s=a.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:s}),o&&(r.setState({inputIsHiddenAfterUpdate:!i}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,a=t.isMulti,o=t.name,i=r.state.selectValue,s=a&&r.isOptionSelected(e,i),l=r.isOptionDisabled(e,i);if(s){var c=r.getOptionValue(e);r.setValue(i.filter((function(e){return r.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void r.ariaOnChange(e,{action:"select-option",option:e,name:o});a?r.setValue([].concat(Kt(i),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,a=r.getOptionValue(e),o=n.filter((function(e){return r.getOptionValue(e)!==a})),i=dt(t,o,o[0]||null);r.onChange(i,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(dt(r.props.isMulti,[],null),{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],a=t.slice(0,t.length-1),o=dt(e,a,a[0]||null);r.onChange(o,{action:"pop-value",removedValue:n})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t,n){var r=[n];if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&r.push("".concat(Je(e,a)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return Sn(r.props,e)},r.getOptionValue=function(e){return Tn(r.props,e)},r.getStyles=function(e,t){var n=kn[e](t);n.boxSizing="border-box";var a=r.props.styles[e];return a?a(n,t):n},r.getElementId=function(e){return"".concat(r.instancePrefix,"-").concat(e)},r.getComponents=function(){return function(e){return We(We({},Qt),e.components)}(r.props)},r.buildCategorizedOptions=function(){return jn(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return Dn(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:We({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},r.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||r.props.isDisabled)){var t=r.props,n=t.isMulti,a=t.menuIsOpen;r.focusInput(),a?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.preventDefault(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"==typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&tt(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var a=Math.abs(n.clientX-r.initialTouchX),o=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=a>5||o>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=r.props.inputValue,n=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(n,{action:"input-change",prevInputValue:t}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){var t=r.props.inputValue;r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur",prevInputValue:t}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){r.blockOptionHover||r.state.focusedOption===e||r.setState({focusedOption:e})},r.shouldHideSelectedOptions=function(){return In(r.props)},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,a=t.backspaceRemovesValue,o=t.escapeClearsValue,i=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,u=t.onKeyDown,d=t.tabSelectsValue,f=t.openMenuOnFocus,p=r.state,h=p.focusedOption,m=p.focusedValue,_=p.selectValue;if(!(l||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||i)return;r.focusValue("previous");break;case"ArrowRight":if(!n||i)return;r.focusValue("next");break;case"Delete":case"Backspace":if(i)return;if(m)r.removeValue(m);else{if(!a)return;n?r.popValue():s&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!c||!d||!h||f&&r.isOptionSelected(h,_))return;r.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(r.isComposing)return;r.selectOption(h);break}return;case"Escape":c?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:i}),r.onMenuClose()):s&&o&&r.clearValue();break;case" ":if(i)return;if(!c){r.openMenu("first");break}if(!h)return;r.selectOption(h);break;case"ArrowUp":c?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":c?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!c)return;r.focusOption("pageup");break;case"PageDown":if(!c)return;r.focusOption("pagedown");break;case"Home":if(!c)return;r.focusOption("first");break;case"End":if(!c)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++Ln),r.state.selectValue=Ze(e.value),r}return Re(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t,n,r,a,o,i=this.props,s=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!s&&e.isDisabled||c&&l&&!e.menuIsOpen)&&this.focusInput(),c&&s&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,n=this.focusedOptionRef,r=t.getBoundingClientRect(),a=n.getBoundingClientRect(),o=n.offsetHeight/3,a.bottom+o>r.bottom?rt(t,Math.min(n.offsetTop+n.clientHeight-t.offsetHeight+o,t.scrollHeight)):a.top-o<r.top&&rt(t,Math.max(n.offsetTop-o,0)),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,a=n.isFocused,o=this.buildFocusableOptions(),i="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(r[0]);s>-1&&(i=s)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[i]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=n.indexOf(r);r||(a=-1);var o=n.length-1,i=-1;if(n.length){switch(e){case"previous":i=0===a?0:-1===a?o:a-1;break;case"next":a>-1&&a<o&&(i=a+1)}this.setState({inputIsHidden:-1!==i,focusedValue:n[i]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var a=0,o=r.indexOf(n);n||(o=-1),"up"===e?a=o>0?o-1:r.length-1:"down"===e?a=(o+1)%r.length:"pageup"===e?(a=o-t)<0&&(a=0):"pagedown"===e?(a=o+t)>r.length-1&&(a=r.length-1):"last"===e&&(a=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[a],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(xn):We(We({},xn),this.props.theme):xn}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,a=this.selectOption,o=this.setValue,i=this.props,s=i.isMulti,l=i.isRtl,c=i.options;return{clearValue:e,cx:t,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:s,isRtl:l,options:c,selectOption:a,selectProps:i,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Mn(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return Pn(this.props,e,t)}},{key:"filterOption",value:function(e,t){return Bn(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,o=e.inputId,i=e.inputValue,s=e.tabIndex,l=e.form,c=e.menuIsOpen,u=this.getComponents().Input,d=this.state,f=d.inputIsHidden,p=d.ariaSelection,h=this.commonProps,m=o||this.getElementId("input"),_=We(We(We({"aria-autocomplete":"list","aria-expanded":c,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],role:"combobox"},c&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==p?void 0:p.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?a.createElement(u,Object(r.a)({},h,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:f,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:s,form:l,type:"text",value:i},_)):a.createElement(un,Object(r.a)({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Xe,onFocus:this.onInputFocus,disabled:t,tabIndex:s,inputMode:"none",form:l,value:""},_))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,o=t.MultiValueContainer,i=t.MultiValueLabel,s=t.MultiValueRemove,l=t.SingleValue,c=t.Placeholder,u=this.commonProps,d=this.props,f=d.controlShouldRenderValue,p=d.isDisabled,h=d.isMulti,m=d.inputValue,_=d.placeholder,g=this.state,b=g.selectValue,y=g.focusedValue,v=g.isFocused;if(!this.hasValue()||!f)return m?null:a.createElement(c,Object(r.a)({},u,{key:"placeholder",isDisabled:p,isFocused:v,innerProps:{id:this.getElementId("placeholder")}}),_);if(h)return b.map((function(t,l){var c=t===y,d="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return a.createElement(n,Object(r.a)({},u,{components:{Container:o,Label:i,Remove:s},isFocused:c,isDisabled:p,key:d,index:l,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(m)return null;var A=b[0];return a.createElement(l,Object(r.a)({},u,{data:A,isDisabled:p}),this.formatOptionLabel(A,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,o=n.isDisabled,i=n.isLoading,s=this.state.isFocused;if(!this.isClearable()||!e||o||!this.hasValue()||i)return null;var l={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return a.createElement(e,Object(r.a)({},t,{innerProps:l,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,o=n.isDisabled,i=n.isLoading,s=this.state.isFocused;return e&&i?a.createElement(e,Object(r.a)({},t,{innerProps:{"aria-hidden":"true"},isDisabled:o,isFocused:s})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var o=this.commonProps,i=this.props.isDisabled,s=this.state.isFocused;return a.createElement(n,Object(r.a)({},o,{isDisabled:i,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,o=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return a.createElement(e,Object(r.a)({},t,{innerProps:i,isDisabled:n,isFocused:o}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,o=t.GroupHeading,i=t.Menu,s=t.MenuList,l=t.MenuPortal,c=t.LoadingMessage,u=t.NoOptionsMessage,d=t.Option,f=this.commonProps,p=this.state.focusedOption,h=this.props,m=h.captureMenuScroll,_=h.inputValue,g=h.isLoading,b=h.loadingMessage,y=h.minMenuHeight,v=h.maxMenuHeight,A=h.menuIsOpen,w=h.menuPlacement,k=h.menuPosition,E=h.menuPortalTarget,x=h.menuShouldBlockScroll,O=h.menuShouldScrollIntoView,C=h.noOptionsMessage,j=h.onMenuScrollToTop,D=h.onMenuScrollToBottom;if(!A)return null;var N,S=function(t,n){var o=t.type,i=t.data,s=t.isDisabled,l=t.isSelected,c=t.label,u=t.value,h=p===i,m=s?void 0:function(){return e.onOptionHover(i)},_=s?void 0:function(){return e.selectOption(i)},g="".concat(e.getElementId("option"),"-").concat(n),b={id:g,onClick:_,onMouseMove:m,onMouseOver:m,tabIndex:-1};return a.createElement(d,Object(r.a)({},f,{innerProps:b,data:i,isDisabled:s,isSelected:l,key:g,label:c,type:o,value:u,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())N=this.getCategorizedOptions().map((function(t){if("group"===t.type){var i=t.data,s=t.options,l=t.index,c="".concat(e.getElementId("group"),"-").concat(l),u="".concat(c,"-heading");return a.createElement(n,Object(r.a)({},f,{key:c,data:i,options:s,Heading:o,headingProps:{id:u,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return S(e,"".concat(l,"-").concat(e.index))})))}if("option"===t.type)return S(t,"".concat(t.index))}));else if(g){var T=b({inputValue:_});if(null===T)return null;N=a.createElement(c,f,T)}else{var M=C({inputValue:_});if(null===M)return null;N=a.createElement(u,f,M)}var P={minMenuHeight:y,maxMenuHeight:v,menuPlacement:w,menuPosition:k,menuShouldScrollIntoView:O},B=a.createElement(mt,Object(r.a)({},f,P),(function(t){var n=t.ref,o=t.placerProps,l=o.placement,c=o.maxHeight;return a.createElement(i,Object(r.a)({},f,P,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:g,placement:l}),a.createElement(wn,{captureEnabled:m,onTopArrive:j,onBottomArrive:D,lockEnabled:x},(function(t){return a.createElement(s,Object(r.a)({},f,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:g,maxHeight:c,focusedOption:p}),N)})))}));return E||"fixed"===k?a.createElement(l,Object(r.a)({},f,{appendTo:E,controlElement:this.controlRef,menuPlacement:w,menuPosition:k}),B):B}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,o=t.isMulti,i=t.name,s=this.state.selectValue;if(i&&!r){if(o){if(n){var l=s.map((function(t){return e.getOptionValue(t)})).join(n);return a.createElement("input",{name:i,type:"hidden",value:l})}var c=s.length>0?s.map((function(t,n){return a.createElement("input",{key:"i-".concat(n),name:i,type:"hidden",value:e.getOptionValue(t)})})):a.createElement("input",{name:i,type:"hidden"});return a.createElement("div",null,c)}var u=s[0]?this.getOptionValue(s[0]):"";return a.createElement("input",{name:i,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,o=t.focusedOption,i=t.focusedValue,s=t.isFocused,l=t.selectValue,c=this.getFocusableOptions();return a.createElement($t,Object(r.a)({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:o,focusedValue:i,isFocused:s,selectValue:l,focusableOptions:c}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,o=e.SelectContainer,i=e.ValueContainer,s=this.props,l=s.className,c=s.id,u=s.isDisabled,d=s.menuIsOpen,f=this.state.isFocused,p=this.commonProps=this.getCommonProps();return a.createElement(o,Object(r.a)({},p,{className:l,innerProps:{id:c,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:f}),this.renderLiveRegion(),a.createElement(t,Object(r.a)({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:f,menuIsOpen:d}),a.createElement(i,Object(r.a)({},p,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),a.createElement(n,Object(r.a)({},p,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,a=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,i=t.isFocused,s=t.prevWasFocused,l=e.options,c=e.value,u=e.menuIsOpen,d=e.inputValue,f=e.isMulti,p=Ze(c),h={};if(n&&(c!==n.value||l!==n.options||u!==n.menuIsOpen||d!==n.inputValue)){var m=u?function(e,t){return Dn(jn(e,t))}(e,p):[],_=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,p):null;h={selectValue:p,focusedOption:function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,m),focusedValue:_,clearFocusValueOnUpdate:!1}}var g=null!=a&&e!==n?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},b=o,y=i&&s;return i&&!y&&(b={value:dt(f,p,p[0]||null),options:p,action:"initial-input-focus"},y=!s),"initial-input-focus"===(null==o?void 0:o.action)&&(b=null),We(We(We({},h),g),{},{prevProps:e,ariaSelection:b,prevWasFocused:y})}}]),n}();Un.defaultProps=On,n(817),n(821),n(822),n(826),n(827),n(25);var Rn=Object(a.forwardRef)((function(e,t){var n=Yt(e);return a.createElement(Un,Object(r.a)({ref:t},n))})),Fn=function(e){ze(n,a.Component);var t=Ve(n);function n(e){var r;return Le(this,n),(r=t.call(this,e)).createEmotionCache=function(e,t){return te({nonce:e,key:t})},r.createEmotionCache=Object(Wt.a)(r.createEmotionCache),r}return Re(n,[{key:"render",value:function(){var e=this.createEmotionCache(this.props.nonce,this.props.cacheKey);return a.createElement(ye,{value:e},this.props.children)}}]),n}();t.default=Rn},function(e,t,n){"use strict";n.r(t),n.d(t,"Popper",(function(){return D})),n.d(t,"placements",(function(){return j})),n.d(t,"Manager",(function(){return A})),n.d(t,"Reference",(function(){return M}));var r=n(259),a=n.n(r),o=n(76),i=n.n(o),s=n(107),l=n.n(s),c=n(16),u=n.n(c),d=n(25),f=n.n(d),p=n(411),h=n.n(p),m=n(0),_=n(183),g=n(261),b=n.n(g),y=b()(),v=b()(),A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,f()(u()(u()(t)),"referenceNode",void 0),f()(u()(u()(t)),"setReferenceNode",(function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())})),t}l()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return m.createElement(y.Provider,{value:this.referenceNode},m.createElement(v.Provider,{value:this.setReferenceNode},this.props.children))},t}(m.Component),w=function(e){return Array.isArray(e)?e[0]:e},k=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},E=function(e,t){if("function"==typeof e)return k(e,t);null!=e&&(e.current=t)},x={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},O={},C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,f()(u()(u()(t)),"state",{data:void 0,placement:void 0}),f()(u()(u()(t)),"popperInstance",void 0),f()(u()(u()(t)),"popperNode",null),f()(u()(u()(t)),"arrowNode",null),f()(u()(u()(t)),"setPopperNode",(function(e){e&&t.popperNode!==e&&(E(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),f()(u()(u()(t)),"setArrowNode",(function(e){t.arrowNode=e})),f()(u()(u()(t)),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),f()(u()(u()(t)),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:i()({},t.props.modifiers,{arrow:i()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),f()(u()(u()(t)),"getPopperStyle",(function(){return t.popperNode&&t.state.data?i()({position:t.state.data.offsets.popper.position},t.state.data.styles):x})),f()(u()(u()(t)),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),f()(u()(u()(t)),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:O})),f()(u()(u()(t)),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),f()(u()(u()(t)),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),f()(u()(u()(t)),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=u()(u()(t)).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new _.default(n,e,t.getOptions()))})),f()(u()(u()(t)),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}l()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&h()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){E(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return w(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(m.Component);f()(C,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});var j=_.default.placements;function D(e){var t=e.referenceElement,n=a()(e,["referenceElement"]);return m.createElement(y.Consumer,null,(function(e){return m.createElement(C,i()({referenceElement:void 0!==t?t:e},n))}))}var N=n(180),S=n.n(N),T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,f()(u()(u()(t)),"refHandler",(function(e){E(t.props.innerRef,e),k(t.props.setReferenceNode,e)})),t}l()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){E(this.props.innerRef,null)},n.render=function(){return S()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),w(this.props.children)({ref:this.refHandler})},t}(m.Component);function M(e){return m.createElement(v.Consumer,null,(function(t){return m.createElement(T,i()({setReferenceNode:t},e))}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"Editor",(function(){return O}));var r,a,o=n(0),i=n(1),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l={onActivate:i.func,onAddUndo:i.func,onBeforeAddUndo:i.func,onBeforeExecCommand:i.func,onBeforeGetContent:i.func,onBeforeRenderUI:i.func,onBeforeSetContent:i.func,onBeforePaste:i.func,onBlur:i.func,onChange:i.func,onClearUndos:i.func,onClick:i.func,onContextMenu:i.func,onCopy:i.func,onCut:i.func,onDblclick:i.func,onDeactivate:i.func,onDirty:i.func,onDrag:i.func,onDragDrop:i.func,onDragEnd:i.func,onDragGesture:i.func,onDragOver:i.func,onDrop:i.func,onExecCommand:i.func,onFocus:i.func,onFocusIn:i.func,onFocusOut:i.func,onGetContent:i.func,onHide:i.func,onInit:i.func,onKeyDown:i.func,onKeyPress:i.func,onKeyUp:i.func,onLoadContent:i.func,onMouseDown:i.func,onMouseEnter:i.func,onMouseLeave:i.func,onMouseMove:i.func,onMouseOut:i.func,onMouseOver:i.func,onMouseUp:i.func,onNodeChange:i.func,onObjectResizeStart:i.func,onObjectResized:i.func,onObjectSelected:i.func,onPaste:i.func,onPostProcess:i.func,onPostRender:i.func,onPreProcess:i.func,onProgressState:i.func,onRedo:i.func,onRemove:i.func,onReset:i.func,onSaveContent:i.func,onSelectionChange:i.func,onSetAttrib:i.func,onSetContent:i.func,onShow:i.func,onSubmit:i.func,onUndo:i.func,onVisualAid:i.func},c=s({apiKey:i.string,id:i.string,inline:i.bool,init:i.object,initialValue:i.string,onEditorChange:i.func,outputFormat:i.oneOf(["html","text"]),value:i.string,tagName:i.string,cloudChannel:i.string,plugins:i.oneOfType([i.string,i.array]),toolbar:i.oneOfType([i.string,i.array]),disabled:i.bool,textareaName:i.string,tinymceScriptSrc:i.string,rollback:i.oneOfType([i.number,i.oneOf([!1])]),scriptLoading:i.shape({async:i.bool,defer:i.bool,delay:i.number})},l),u=function(e){return"function"==typeof e},d=function(e){return e in l},f=function(e){return e.substr(2)},p=0,h=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++p+String(t)},m=function(e){return null!==e&&("textarea"===e.tagName.toLowerCase()||"input"===e.tagName.toLowerCase())},_=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},g=function(e,t){return _(e).concat(_(t))},b=function(e,t){void 0!==e&&(null!=e.mode&&"object"==typeof e.mode&&"function"==typeof e.mode.set?e.mode.set(t):e.setMode(t))},y=function(){return{listeners:[],scriptId:h("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},v=(r=y(),{load:function(e,t,n,a,o,i){var s=function(){return function(e,t,n,r,a,o){var i=t.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=e,i.src=n,i.async=r,i.defer=a;var s=function(){i.removeEventListener("load",s),o()};i.addEventListener("load",s),t.head&&t.head.appendChild(i)}(r.scriptId,e,t,n,a,(function(){r.listeners.forEach((function(e){return e()})),r.scriptLoaded=!0}))};r.scriptLoaded?i():(r.listeners.push(i),r.scriptLoading||(r.scriptLoading=!0,o>0?setTimeout(s,o):s()))},reinitialize:function(){r=y()}}),A=n(191),w=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},E=function(){var e,t,n;return(null===(n=null===(t=null===(e=Object(A.a)())||void 0===e?void 0:e.Env)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.isIE())?"change keyup compositionend setcontent":"change input compositionend setcontent"},x=function(){return window.InputEvent&&"function"==typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"},O=function(e){function t(t){var n,r,a,i=this;return(i=e.call(this,t)||this).rollbackTimer=void 0,i.valueCursor=void 0,i.rollbackChange=function(){var e=i.editor,t=i.props.value;e&&t&&t!==i.currentContent&&e.undoManager.ignore((function(){if(e.setContent(t),i.valueCursor&&(!i.inline||e.hasFocus()))try{e.selection.moveToBookmark(i.valueCursor)}catch(e){}})),i.rollbackTimer=void 0},i.handleBeforeInput=function(e){if(void 0!==i.props.value&&i.props.value===i.currentContent&&i.editor&&(!i.inline||i.editor.hasFocus))try{i.valueCursor=i.editor.selection.getBookmark(3)}catch(e){}},i.handleBeforeInputSpecial=function(e){"Enter"!==e.key&&"Backspace"!==e.key&&"Delete"!==e.key||i.handleBeforeInput(e)},i.handleEditorChange=function(e){var t=i.editor;if(t&&t.initialized){var n=t.getContent();if(void 0!==i.props.value&&i.props.value!==n&&!1!==i.props.rollback&&(i.rollbackTimer||(i.rollbackTimer=window.setTimeout(i.rollbackChange,"number"==typeof i.props.rollback?i.props.rollback:200))),n!==i.currentContent&&(i.currentContent=n,u(i.props.onEditorChange))){var r=i.props.outputFormat,a="html"===r?n:t.getContent({format:r});i.props.onEditorChange(a,t)}}},i.handleEditorChangeSpecial=function(e){"Backspace"!==e.key&&"Delete"!==e.key||i.handleEditorChange(e)},i.initialise=function(e){var t,n,r;void 0===e&&(e=0);var a=i.elementRef.current;if(a)if(function(e){if(!("isConnected"in Node.prototype)){for(var t=e,n=e.parentNode;null!=n;)n=(t=n).parentNode;return t===e.ownerDocument}return e.isConnected}(a)){var o=Object(A.a)();if(!o)throw new Error("tinymce should have been loaded into global scope");var s=k(k({},i.props.init),{selector:void 0,target:a,readonly:i.props.disabled,inline:i.inline,plugins:g(null===(t=i.props.init)||void 0===t?void 0:t.plugins,i.props.plugins),toolbar:null!==(n=i.props.toolbar)&&void 0!==n?n:null===(r=i.props.init)||void 0===r?void 0:r.toolbar,setup:function(e){i.editor=e,i.bindHandlers({}),i.inline&&!m(a)&&e.once("PostRender",(function(t){e.setContent(i.getInitialValue(),{no_events:!0})})),i.props.init&&u(i.props.init.setup)&&i.props.init.setup(e)},init_instance_callback:function(e){var t,n,r=i.getInitialValue();i.currentContent=null!==(t=i.currentContent)&&void 0!==t?t:e.getContent(),i.currentContent!==r&&(i.currentContent=r,e.setContent(r),e.undoManager.clear(),e.undoManager.add(),e.setDirty(!1));var a=null!==(n=i.props.disabled)&&void 0!==n&&n;b(i.editor,a?"readonly":"design"),i.props.init&&u(i.props.init.init_instance_callback)&&i.props.init.init_instance_callback(e)}});i.inline||(a.style.visibility=""),m(a)&&(a.value=i.getInitialValue()),o.init(s)}else if(0===e)setTimeout((function(){return i.initialise(1)}),1);else{if(!(e<100))throw new Error("tinymce can only be initialised when in a document");setTimeout((function(){return i.initialise(e+1)}),100)}},i.id=i.props.id||h("tiny-react"),i.elementRef=o.createRef(),i.inline=null!==(a=null!==(n=i.props.inline)&&void 0!==n?n:null===(r=i.props.init)||void 0===r?void 0:r.inline)&&void 0!==a&&a,i.boundHandlers={},i}return w(t,e),t.prototype.componentDidUpdate=function(e){var t,n,r=this;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(e),this.editor.initialized)){if(this.currentContent=null!==(t=this.currentContent)&&void 0!==t?t:this.editor.getContent(),"string"==typeof this.props.initialValue&&this.props.initialValue!==e.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"==typeof this.props.value&&this.props.value!==this.currentContent){var a=this.editor;a.undoManager.transact((function(){var e;if(!r.inline||a.hasFocus())try{e=a.selection.getBookmark(3)}catch(e){}var t=r.valueCursor;if(a.setContent(r.props.value),!r.inline||a.hasFocus())for(var n=0,o=[e,t];n<o.length;n++){var i=o[n];if(i)try{a.selection.moveToBookmark(i),r.valueCursor=i;break}catch(e){}}}))}if(this.props.disabled!==e.disabled){var o=null!==(n=this.props.disabled)&&void 0!==n&&n;b(this.editor,o?"readonly":"design")}}},t.prototype.componentDidMount=function(){var e,t,n,r,a,o;null!==Object(A.a)()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&v.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),null!==(t=null===(e=this.props.scriptLoading)||void 0===e?void 0:e.async)&&void 0!==t&&t,null!==(r=null===(n=this.props.scriptLoading)||void 0===n?void 0:n.defer)&&void 0!==r&&r,null!==(o=null===(a=this.props.scriptLoading)||void 0===a?void 0:a.delay)&&void 0!==o?o:0,this.initialise)},t.prototype.componentWillUnmount=function(){var e=this,t=this.editor;t&&(t.off(E(),this.handleEditorChange),t.off(x(),this.handleBeforeInput),t.off("keypress",this.handleEditorChangeSpecial),t.off("keydown",this.handleBeforeInputSpecial),t.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(n){t.off(n,e.boundHandlers[n])})),this.boundHandlers={},t.remove(),this.editor=void 0)},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.renderInline=function(){var e=this.props.tagName,t=void 0===e?"div":e;return o.createElement(t,{ref:this.elementRef,id:this.id})},t.prototype.renderIframe=function(){return o.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},t.prototype.getScriptSrc=function(){if("string"==typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var e=this.props.cloudChannel,t=this.props.apiKey?this.props.apiKey:"no-api-key";return"https://cdn.tiny.cloud/1/".concat(t,"/tinymce/").concat(e,"/tinymce.min.js")},t.prototype.getInitialValue=function(){return"string"==typeof this.props.initialValue?this.props.initialValue:"string"==typeof this.props.value?this.props.value:""},t.prototype.bindHandlers=function(e){var t=this;if(void 0!==this.editor){!function(e,t,n,r,a){(function(e,t,n,r,a,o,i){var s=Object.keys(a).filter(d),l=Object.keys(o).filter(d),c=s.filter((function(e){return void 0===o[e]})),u=l.filter((function(e){return void 0===a[e]}));c.forEach((function(e){var t=f(e),r=i[t];n(t,r),delete i[t]})),u.forEach((function(n){var a=r(e,n),o=f(n);i[o]=a,t(o,a)}))})(a,e.on.bind(e),e.off.bind(e),(function(t,n){return function(r){var a;return null===(a=t(n))||void 0===a?void 0:a(r,e)}}),t,n,r)}(this.editor,e,this.props,this.boundHandlers,(function(e){return t.props[e]}));var n=function(e){return void 0!==e.onEditorChange||void 0!==e.value},r=n(e),a=n(this.props);!r&&a?(this.editor.on(E(),this.handleEditorChange),this.editor.on(x(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):r&&!a&&(this.editor.off(E(),this.handleEditorChange),this.editor.off(x(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},t.propTypes=c,t.defaultProps={cloudChannel:"5"},t}(o.Component)},,,,,function(e,t,n){e.exports={project_name_container:"_1KjJhOzL2NPUeDzWA4kRRh",ellipsis:"_3MigJOPZ9PA7mM1MH6MKbg",navbar:"_2OSvu70OBBhs1ZZzoeRpK1",views:"_3IXXxccNXNygpOdajv4B4l",view_item:"_1EwiOKfayQf4gxHlAOyhuL",star_container:"_3Go_w1FdKpksX4Qh4f8m8g",view_item_mini:"_2MSR1UmcTxAMI0UG7ksyLd",view_item_button:"H091IBo7hs4sFy-n_-gWp",selected:"_3qqv1FyU75zCmfNdItSnKO",buttons:"OMekjKh1CTRvYrN0uxyqS",dropdown_item:"_3ctYhC21otb49Sn1YGYJh2",dropdown_item_element:"_2_vf3o-F_vHuAdmwXwjJP7",icon_container:"_3YLLPSAyfugbQc-ydb1_Qj",icon_text_container:"_3fOgS1dt-WE2x6sPcn1eOa",unread_counter:"_3Fi1f2O2nvvJHCzB1DX8qm",non_highlighted:"_2MBu1ocyRYXDrd9zgjd1Pn",highlighted:"_3gvDAS7jVkUEBMDe9OmQgh",minitext:"_2FpLMaxalS13rznUAFKPkp",separator:"_3FaPm3a5RU5C1dWZj2ruP2",counter:"_3erL6UQUY5J_4bzVhHB1sH",filter_item:"_2UJNHgEZFc_V4Cmtzkt8R5",menu_button:"_27sIxj0a2CEc0lEN3JRxWI"}},function(e,t,n){n(425),e.exports=n(932)},function(e,t,n){"use strict";var r=u(n(0)),a=n(15);n(430);var o=u(n(933)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),s=u(n(456)),l=u(n(457)),c=u(n(458));function u(e){return e&&e.__esModule?e:{default:e}}window.store=o.default.Store,window.utils=i,window.App=window.App||{},window.App.Utils=window.App.Utils||{},window.App.Utils.Typeaheads=l.default,window.files=c.default,function(){if(window&&window.location&&(window.location.search||"").search("tests=kFl16pjDQDquOiO0zccvKSwaRLGmpna1")>=0)console.log("loading router"),window.router=new s.default({store:o.default.Store}),console.log("loading tests"),(new(0,n(940).default)).test_all();else{window.router=new s.default({store:o.default.Store}),Backbone.history.start();var e=n(941).default;(0,a.render)(r.default.createElement(e,{store:o.default.Store}),document.getElementById("root"))}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=k(n(268)),a=k(n(934)),o=k(n(432)),i=k(n(434)),s=k(n(271)),l=k(n(272)),c=k(n(273)),u=k(n(439)),d=k(n(441)),f=k(n(444)),p=k(n(446)),h=k(n(448)),m=k(n(449)),_=k(n(451)),g=k(n(452)),b=k(n(936)),y=k(n(938)),v=k(n(453)),A=k(n(454)),w=k(n(455));function k(e){return e&&e.__esModule?e:{default:e}}var E={},x=new r.default(E),O=new w.default(E),C=new o.default(E),j=new i.default(E),D=new s.default(E),N=new l.default(E),S=new c.default(E),T=new u.default(E),M=new d.default(E),P=new p.default(E),B=new b.default(E),I=new g.default({id:1}),L=new _.default({id:1}),U=new h.default(E),R=new m.default(E),F=new v.default({id:1}),z=new A.default({id:1}),Q=new y.default(E);z.custom_globalstore=E,F.custom_globalstore=E,I.custom_globalstore=E,L.custom_globalstore=E,E.notifications=B,E.tasks=x,E.uistate=O,E.users=C,E.projects=j,E.dates=D,E.projectsettings=L,E.workbooksettings=I,E.tags=N,E.snapshots=S,E.user=F,E.news=T,E.workbooks=M,E.logs=P,E.subscriptions=R,E.presence=U,E.templates=Q;var H=new a.default(E);E.inbox=H;var Y=new f.default(E);E.comments=Y,E.profile=z,L.load_defaults(),I.init(),t.default={Store:E}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),s=u(n(145)),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),u(n(20))),c=u(n(935));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var f=(r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o,s,l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n||[]));return r=l,"sele",s=l,(o=a)&&Object.defineProperty(r,"sele",{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(s):void 0}),l.reactions=[],l.limit=100,l.firebase_realtime=!1,l.globalstore=e,l.subtasks=new c.default(l.globalstore),l.reactions.push((0,i.reaction)((function(){return l.selected}),(function(){l.hack()}))),l.reactions.push((0,i.reaction)((function(){return l.globalstore.workbooks.selected}),(function(){"inbox"!=l.globalstore.uistate.active_view&&(l.limit=30,l.fetch()),"inbox"==l.globalstore.uistate.active_view&&(l.globalstore.projects.selected&&(l.globalstore.projects.selected.selected=!1),l.globalstore.tasks.reset([]),l.globalstore.tags.reset([]),l.globalstore.tags.fetch(),l.fetch())}))),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),o(t,[{key:"hack",value:function(){if(0!=this.selected.length&&(!this.globalstore.tasks.selected[0]||this.globalstore.tasks.selected[0].id!=this.selected[0].id)){var e=this.selected[0].project_id,t=!1;this.globalstore.projects.selected?(e!=this.globalstore.projects.selected.id&&(t=!0),this.globalstore.projects.selected.selected=!1):t=!0,this.globalstore.projects.get(e).selected=!0,t&&0==this.globalstore.tags.models.length&&this.globalstore.tags.fetch(),this.globalstore.tasks.reset([]);var n=this.globalstore.tasks.prefill([this.selected[0].getAttributes()]);this.globalstore.tasks.set(n),this.globalstore.tasks.models[0].selected=!0,this.subtasks._fetch()}}},{key:"_fetch",value:function(){return this.limit=100,this.fetch()}},{key:"updateLocalInbox",value:function(){var e=this;this.globalstore.tasks.selected.forEach((function(t){var n=e.get(t.id);n&&n.set(t.getAttributes())})),0==this.globalstore.tasks.selected.length&&this.unselectAll()}},{key:"model",value:function(){return s.default}},{key:"url",value:function(){return"/"}},{key:"firebaseRef",value:function(){return this.globalstore.db.collectionGroup("tasks").where("followers","array-contains",this.globalstore.user.id).where("workbook_id","==",this.globalstore.workbooks.selected.id).orderBy("last_change","desc").limit(this.limit)}},{key:"comparator",value:function(e){return e.static_comparator}},{key:"prefill",value:function(e){var t=this;return e.forEach((function(e){var n=e.last_change>(e.last_read[t.globalstore.user.id]||0),r=parseFloat(1/parseFloat("0."+e.last_change),20);e.static_comparator=[n?0:1,r]})),e}},{key:"unselectAll",value:function(){this.filtered.forEach((function(e){e.selected=!1}))}},{key:"sorted",get:function(){var e=this,t=function(t,n){for(var r=[];t.length>0&&n.length>0;)e.comparator(t[0])<e.comparator(n[0])?r.push(t.shift()):r.push(n.shift());return r.concat(t,n)};return function e(n){var r=n.length;if(r<2)return n;var a=Math.ceil(r/2);return t(e(n.slice(0,a)),e(n.slice(a)))}(this.models)}},{key:"collection",get:function(){return this.sorted}},{key:"filtered",get:function(){return this.collection}},{key:"selected",get:function(){return this.filtered.filter((function(e){return e.selected}))}},{key:"unreads",get:function(){var e=this,t=0,n=0;return this.filtered.forEach((function(r){n<10&&(r.last_change>(r.last_read[e.globalstore.user.id]||0)&&t++,n++)})),t}}]),t}(),a=d(r.prototype,"sele",[i.observable],{enumerable:!0,initializer:function(){return!1}}),d(r.prototype,"sorted",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"sorted"),r.prototype),d(r.prototype,"collection",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"collection"),r.prototype),d(r.prototype,"filtered",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),d(r.prototype,"selected",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"selected"),r.prototype),d(r.prototype,"unreads",[i.computed],Object.getOwnPropertyDescriptor(r.prototype,"unreads"),r.prototype),d(r.prototype,"unselectAll",[i.action],Object.getOwnPropertyDescriptor(r.prototype,"unselectAll"),r.prototype),r);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=u(n(145)),c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),u(n(20)));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function f(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var p=(r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n||[]));return d(r,"current_project",a,r),d(r,"selected_siblings_ids",o,r),r.firebase_realtime=!1,r.globalstore=e,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),i(t,[{key:"model",value:function(){return l.default}},{key:"url",value:function(){return"/?"}},{key:"firebaseRef",value:function(){var e=this.globalstore.workbooks.selected.id,t=this.globalstore.projects.selected.id,n=this.globalstore.tasks.selected[0].id;return this.globalstore.db.collection("workbooks").doc(e).collection("projects").doc(t).collection("tasks").where("parent.id","==",n)}},{key:"_fetch",value:function(){var e=this;if(0==this.globalstore.tasks.selected.length)return!1;this.fetch().then((function(t){e.globalstore.tasks.add(e.models.toJS()),e.crawl(e.models.toJS())}))}},{key:"crawl",value:function(e){var t=this,n=[],r=this.globalstore.workbooks.selected.id,a=this.globalstore.projects.selected.id;e.forEach((function(e){n.push(t.globalstore.db.collection("workbooks").doc(r).collection("projects").doc(a).collection("tasks").where("parent.id","==",e.id))})),this.fetchCrawl(n).then((function(e){var n=[];e.forEach((function(e){e.length>0&&e.forEach((function(e){t.globalstore.tasks.add([e]),n.push(e)}))})),n.length>0&&t.crawl(n)}))}},{key:"fetchCrawl",value:function(e){return Promise.all(e.map((function(e){return e.get().then((function(e){var t=[];return e.forEach((function(e){var n=e.data();n&&e.ref&&(n.__ref=e.ref),n.id=e.id,t.push(n)})),t}))})))}},{key:"prefill",value:function(e){return e}},{key:"toJS",value:function(){return this.models.map((function(e){return e.toJS()}))}}]),t}(),a=f(r.prototype,"current_project",[s.observable],{enumerable:!0,initializer:function(){return!1}}),o=f(r.prototype,"selected_siblings_ids",[s.observable],{enumerable:!0,initializer:function(){return[]}}),r);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),l(n(20))),s=l(n(937));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var u=(c((r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n||[]));return r.storage_type="HTTPSaver",r.showCampaign=function(e){r.globalstore.uistate.current_modal_options={id:e.id},r.globalstore.uistate.current_modal="NOTIFICATION"},r.globalstore=e,r._fetch=r._fetch.bind(r),setTimeout((function(){r._fetch()}),1e4),setInterval((function(){r._fetch()}),1e6),setInterval((function(){r.renderTooltips()}),5e3),setInterval((function(){r.renderHelpers()}),2e3),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"_fetch",value:function(){var e=this;this.fetch().then((function(){e.recent&&e.showCampaign(e.recent)}))}},{key:"renderTooltips",value:function(){var e=this;this.tooltips.forEach((function(t){!t.is_showing&&document&&document.querySelector(t.selector)&&(t.is_showing=!0,tippy(t.selector,{content:"<div style='max-width:150px;padding:5px;white-space:break-spaces'><p>"+t.name+"</p><button class='btn-transparent-blue btn btn-small btn-flat dismiss'>Dismiss</button><button class='btn btn-small btn-flat btn-white more'>Read more</button></div>",allowHTML:!0,theme:"ig",interactive:!0,placement:"bottom",trigger:"manual",hideOnClick:!1,onShown:function(n){n.popper.querySelector(".dismiss").addEventListener("click",(function(){n.hide(),e.closeTooltip(t)})),n.popper.querySelector(".more").addEventListener("click",(function(){n.hide(),e.closeTooltip(t),e.showCampaign(t)}))}})[0].show())}))}},{key:"preview",value:function(e){this.reset([]),this.add([e]),this.renderTooltips(),this.recent&&this.showCampaign(this.recent)}},{key:"renderHelpers",value:function(){var e=this;this.helpers.forEach((function(t){if(!t.is_showing&&t.selector&&document&&document.querySelector(t.selector)&&!document.querySelector(t.selector).querySelector(".helper-click")){var n=$("<span class='helper-click'><i class='fas fa-question' /></span>")[0];$(n).on("click",(function(){e.showCampaign(t)})),document.querySelector(t.selector).appendChild(n)}}))}},{key:"closeTooltip",value:function(e){e.is_preview||($.ajax({url:"/read-news",type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({tooltip_id:e.id})}),e.markRead())}},{key:"prefill",value:function(e){return e}},{key:"model",value:function(){return s.default}},{key:"url",value:function(){return"/campaigns"}},{key:"filtered",get:function(){return 0==this.models.length?[]:this.models.filter((function(e){return"tooltip"!=e.widget&&"helper"!=e.widget}))}},{key:"tooltips",get:function(){return 0==this.models.length?[]:this.models.filter((function(e){return"tooltip"==e.widget&&!e.read}))}},{key:"helpers",get:function(){return 0==this.models.length?[]:this.models.filter((function(e){return"helper"==e.widget}))}},{key:"recent",get:function(){return 0!=this.filtered.length&&this.filtered[0]}}]),t}()).prototype,"filtered",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"filtered"),r.prototype),c(r.prototype,"tooltips",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"tooltips"),r.prototype),c(r.prototype,"helpers",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"helpers"),r.prototype),c(r.prototype,"recent",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"recent"),r.prototype),r);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),u=(s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&s.__esModule?s:{default:s};function d(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function f(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var p=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return d(n,"name",a,n),d(n,"read",o,n),d(n,"is_showing",i,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),l(t,[{key:"getContent",value:function(){var e=this;return new Promise((function(t,n){return $.get("/notifications/"+e.id).then((function(n){e.content=n,t()}))}))}},{key:"markRead",value:function(){this.read=!0}},{key:"defaults",get:function(){return t.defaults()}},{key:"comparator",get:function(){return this.publish_date}}],[{key:"defaults",value:function(){return{name:"",id:"",title:"",slug:"",content:"",publish_date:"",read:!1,is_showing:!1}}}]),t}(),a=f(r.prototype,"name",[c.observable],{enumerable:!0,initializer:null}),o=f(r.prototype,"read",[c.observable],{enumerable:!0,initializer:null}),i=f(r.prototype,"is_showing",[c.observable],{enumerable:!0,initializer:null}),f(r.prototype,"comparator",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"comparator"),r.prototype),r);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(n(3),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),i(n(20))),o=i(n(939));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.globalstore=e,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"model",value:function(){return o.default}},{key:"url",value:function(){return"/templates"}},{key:"firebaseRef",value:function(){return this.globalstore.db.collection("templates")}},{key:"prefill",value:function(e){return e}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),p=(o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(9)),n(19)))&&o.__esModule?o:{default:o},h=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,r,o,i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=i,"name",o=i,(r=a)&&Object.defineProperty(n,"name",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),d(t,[{key:"defaults",get:function(){return t.defaults()}}],[{key:"defaults",value:function(){return{id:"",name:"",snapshotUrl:"",description:"",image:"",created_at:"",last_update:"",icon:""}}}]),t}(),i=r.prototype,s="name",l=[f.observable],c={enumerable:!0,initializer:null},u={},Object.keys(c).forEach((function(e){u[e]=c[e]})),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),void 0===(u=l.slice().reverse().reduce((function(e,t){return t(i,s,e)||e}),u)).initializer&&(Object.defineProperty(i,s,u),u=null),a=u,r);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"test_task_permissions",value:function(){console.log("executing the tests!!!");store.db.collection("workbooks").doc("kEf6FpGwEQEy3NujE22O").collection("projects").doc("3lVrf32vixbDa5sIIuxt").collection("tasks").add({name:"tarea1"}).then((function(e){console.log("TEST FAILED: was able to create task from project without permission :("),console.log(e)})).catch((function(e){console.log("TEST OK: was not able to create task :)"),console.error(e)}))}},{key:"test_create_project",value:function(){console.log("executing the tests!!!");var e={name:"Cookie project 2",supplier:"standalone",type:"project",workbook:{name:"Cookie Team",id:"kEf6FpGwEQEy3NujE22O"}};store.db.collection("workbooks").doc(e.workbook.id).collection("projects").add(e).then((function(e){console.log("TEST FAILED: was able to create project :("),console.log(e)})).catch((function(e){console.log("TEST OK: was not able to create project :)"),console.error(e)}))}},{key:"test_all",value:function(){var e=this,t=setTimeout((function(){store&&store.db&&store.db.collection?(e.test_task_permissions(),e.test_create_project(),clearTimeout(t)):console.log("waiting to Firebase to load")}),6e3)}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(942),s=n(0),l=y(s),c=n(6),u=(n(3),y(n(459))),d=(y(n(798)),y(n(943))),f=y(n(945)),p=y(n(809)),h=y(n(904)),m=y(n(906)),_=y(n(912)),g=y(n(919));n(408);var b=y(n(419));function y(e){return e&&e.__esModule?e:{default:e}}var v=(0,c.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.store=n.props.store,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),o(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize.bind(this)),this.resize()}},{key:"resize",value:function(){var e=window.innerWidth<=760;this.store.uistate.is_mobile!==e&&(this.store.uistate.is_mobile&&(this.store.uistate.task_list_hidden=!1,this.store.uistate.hidden_task_list_width=20),this.store.uistate.is_mobile=e),e&&(this.store.uistate.hidden_task_list_width=0,this.store.uistate.workload_sidebar_width=150,this.store.uistate.task_list_hidden=!0)}},{key:"componentDidUpdate",value:function(){}},{key:"managementApp",value:function(){return this.store.uistate.management_app?l.default.createElement(b.default,{store:this.store}):null}},{key:"onClick",value:function(){this.store.uistate.bar_context_menu_id=!1}},{key:"render",value:function(){var e=this;if(this.store.uistate,this.store.uistate.management_app)return this.managementApp();var t={top:"100px"};return this.store.uistate.is_mobile&&(t.top=60,t.left=0),"inbox"==this.store.uistate.active_view&&(t.top=60),l.default.createElement("div",{onClick:function(){return e.onClick()}},l.default.createElement(f.default,{store:this.store}),"inbox"!=this.store.uistate.active_view&&l.default.createElement(g.default,{store:this.store}),l.default.createElement("div",{id:"mobile-bottom-popup"}),l.default.createElement("div",{id:"mobile-message"}),l.default.createElement(d.default,{store:this.store}),l.default.createElement("div",{id:"chart-container",className:"pane active-sidebar",style:a({},this.store.uistate.centralContentStyle,t)},l.default.createElement(u.default,{store:this.store})),l.default.createElement(p.default,{store:this.store}),l.default.createElement(_.default,{store:this.store}),l.default.createElement(h.default,{store:this.store}),l.default.createElement(m.default,{store:this.store}),l.default.createElement("div",{id:"react-datepicker-container"}),l.default.createElement("div",{id:"header-filter-container"}),l.default.createElement("div",{id:"mobile-task-details-view"}))}}]),t}())||r;t.default=(0,i.hot)(v)},function(e,t,n){t.hot=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(0),m=E(h),_=n(6),g=n(3),b=E(n(420)),y=E(n(9)),v=E(n(94)),A=E(n(944)),w=n(63),k=E(n(421));function E(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function C(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var j=(0,_.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return O(n,"new_project_toggle",o,n),O(n,"new_project_value",i,n),O(n,"new_project_creating",s,n),O(n,"new_folder_toggle",l,n),O(n,"new_folder_value",c,n),O(n,"new_folder_creating",u,n),O(n,"active_view",d,n),O(n,"selected_folder_id",f,n),n.componentDidUpdate=function(){n.store.uistate.is_mobile||(n.is_mobile=n.store.uistate.is_mobile,$(n.component).sortable({handle:".drag-handle",axis:"y",items:"li.project-item",update:(0,g.action)((function(e,t){var r=$(t.item).attr("data-id"),a=t.item.index(),o=$(">li",$(t.item).parent()).filter((function(e,t){return $(t).attr("data-id")})).map((function(e,t){return $(t).attr("data-id")})).toArray(),i="all";n.store&&n.store.user&&"standalone"==n.store.user.type&&(i=n.store.workbooks.selected.id);var s={};s.projects_order=o,s.container_id=i,n.store.user.saveProjectsOrder(s);var l=n.store.projects.get(r),c=l.collection.projectsFolders[r],u=n.store.projects.get(c);a>0&&("group"!=l.type&&"folder"!=l.subtype&&c&&c!==l.collection.projectsFolders[o[a-1]]&&u.removeFromFolder(r),"group"!=l.type&&"folder"!=l.subtype&&l.collection.projectsFolders[o[a-1]]&&(u=l.collection.get(l.collection.projectsFolders[o[a-1]])).addToFolder(r)),u&&u.save(),n.store.projects.force_sort++,$(n.component).sortable("cancel")})),start:function(e,t){var r=$(t.item).attr("data-id");n.store.projects.get(r).type,document.getElementsByClassName("sortable-container")[0].addEventListener("mousemove",n.shouldScrollListContainer)},sort:function(e,t){},stop:function(e,t){n.store.projects.force_sort++,document.getElementsByClassName("sortable-container")[0].removeEventListener("mousemove",n.shouldScrollListContainer)},helper:function(){return $("<div class='tooltip-inner ghost'><span class='task-name'>Move here</span></div>")},placeholder:"droppable-position-projects-list",containment:"ul.projects-list.ui-sortable"}))},n.store=n.props.store,n.handleChange=n.handleChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.createProject=n.createProject.bind(n),n.createFolder=n.createFolder.bind(n),n.handleKeyDownFolder=n.handleKeyDownFolder.bind(n),n.createProject=n.createProject.bind(n),n.createFolder=n.createFolder.bind(n),n.handleClickOutside=n.handleClickOutside.bind(n),window.sidebar=n,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.Component),p(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"handleClickOutside",value:function(e){if(this.node&&!this.node.contains(e.target)){if($(e.target).parents(".modal").length>0)return;if($(e.target).parents(".floating-menu").length>0)return;this.store.uistate.hideContentSidebar()}}},{key:"toggleContentSidebar",value:function(e){this.active_view!=e||this.hidden_content_sidebar?(this.active_view=e,this.store.uistate.hidden_content_sidebar=!1):this.store.uistate.hidden_content_sidebar=!0}},{key:"createProject",value:function(){var e=this;this.workbook_projects=new v.default(this.store,[],{workbook_id:this.store.workbooks.selected.id}),this.new_project_creating=!0;var t={name:this.new_project_value,workbook:{id:this.store.workbooks.selected.id,name:this.store.workbooks.selected.name},supplier:"standalone",flags:this.store.projects.model().default_flags()};this.workbook_projects.create(t).then((function(n){if(""!=e.selected_folder_id){var r=e.store.projects.get(e.selected_folder_id);r&&(r.addToFolder(n.id),r.save())}e.new_project_value="",e.new_project_creating=!1,e.new_project_toggle=!1,t.id=n.id,e.store.projects.add([t]),window.utils.inev("app","Create Project","blank"),window.location.hash="projects/"+t.id+"/"+t.id}))}},{key:"createFolder",value:function(){var e=this;this.workbook_projects=new v.default(this.store,[],{workbook_id:this.store.workbooks.selected.id}),this.new_folder_creating=!0;var t={name:this.new_folder_value,workbook:{id:this.store.workbooks.selected.id,name:this.store.workbooks.selected.name},supplier:"standalone",type:"group",subtype:"folder"};this.workbook_projects.create(t).then((function(n){e.new_folder_value="",e.new_folder_creating=!1,e.new_folder_toggle=!1,t.id=n.id,t.type="group",t.subtype="folder",e.store.projects.add([t]),e.store.projects.filteredWorkbook.filter((function(e){return"group"!=e.type&&"folder"!=e.type})).length>0&&(e.store.uistate.current_modal_options={id:n.id},e.store.uistate.current_modal="FOLDER_SETUP")}))}},{key:"handleKeyDown",value:function(e){this.new_project_value=e.target.value,13==e.keyCode?(e.preventDefault(),e.stopPropagation(),this.createProject()):27==e.keyCode&&(this.new_project_toggle=!1,this.new_project_value="")}},{key:"handleKeyDownFolder",value:function(e){this.new_folder_value=e.target.value,13==e.keyCode?(e.preventDefault(),e.stopPropagation(),this.createFolder()):27==e.keyCode&&(this.new_folder_toggle=!1,this.new_folder_value="")}},{key:"shouldScrollListContainer",value:function(e){var t=document.getElementsByClassName("sortable-container")[0].getBoundingClientRect(),n=e.clientY-t.top,r=document.getElementsByClassName("sortable-container")[0].scrollTop;n<70&&(r-=5),n+70>t.height&&(r+=5),document.getElementsByClassName("sortable-container")[0].scrollTop=r}},{key:"handleChange",value:function(e){this.store.projects.filters.query=e.target.value}},{key:"editWorkbook",value:function(e){var t=this.store;e.stopPropagation(),e.preventDefault(),t.uistate.current_modal_options||(t.uistate.current_modal_options={}),t.uistate.current_modal_options.workbook_id=t.workbooks.selected.id,t.uistate.current_modal_options.active_view="projects",t.uistate.current_modal="STANDALONE_EDIT"}},{key:"editMembers",value:function(e){var t=this.store;e.stopPropagation(),e.preventDefault(),t.uistate.current_modal_options||(t.uistate.current_modal_options={}),t.uistate.current_modal_options.workbook_id=t.workbooks.selected.id,t.uistate.current_modal_options.active_view="members",t.uistate.current_modal="STANDALONE_EDIT"}},{key:"inbox",value:function(){this.store.uistate.hideContentSidebar(),window.router.navigate("/inbox",{trigger:!0})}},{key:"toggleCreateProject",value:function(){this.folders=this.store.projects.filteredWorkbook.filter((function(e){return"folder"==e.subtype})),this.new_project_toggle=!0}},{key:"logout",value:function(){window.location.href="/logout"}},{key:"notifications",value:function(){this.store.uistate.current_modal_options={active_tab:"notifications"},this.store.uistate.current_modal="PROFILE"}},{key:"profile",value:function(){this.store.uistate.current_modal_options={active_tab:"profile"},this.store.uistate.current_modal="PROFILE"}},{key:"hide",value:function(){this.store.uistate.hidden_content_sidebar=!0,this.store.uistate.pinned_content_sidebar=!1}},{key:"togglePin",value:function(){this.store.uistate.toggleSidebarPin()}},{key:"renderStandalone",value:function(){var e=this,t=this.store.uistate.is_mobile&&this.store.uistate.hidden_content_sidebar?"none":"flex";return m.default.createElement("div",{className:A.default.sidebar_container,ref:function(t){return e.node=t},style:{display:t}},m.default.createElement("div",{className:A.default.sidebar},m.default.createElement("div",{className:[A.default.item,A.default.logo].join(" "),onClick:function(){return e.toggleContentSidebar("projects")}},m.default.createElement("img",{src:"/img/iso.png"})),m.default.createElement(w.Tooltip,{arrow:!0,position:"right",title:"Projects",size:"small"},m.default.createElement("div",{className:[A.default.item,"projects"!=this.active_view||this.hidden_content_sidebar?"":A.default.selected].join(" "),onClick:function(){return e.toggleContentSidebar("projects")}},m.default.createElement("i",{class:"fa-light fa-file-contract fa-fw"}))),m.default.createElement(w.Tooltip,{arrow:!0,position:"right",title:"Learning center",size:"small"},m.default.createElement("div",{className:[A.default.item,"learn"!=this.active_view||this.hidden_content_sidebar?"":A.default.selected].join(" "),onClick:function(){return e.toggleContentSidebar("learn")}},m.default.createElement("i",{class:"fa-light fa-graduation-cap fa-fw"}))),m.default.createElement(w.Tooltip,{arrow:!0,position:"right",title:"My Profile",size:"small"},m.default.createElement("div",{className:[A.default.item,"profile"!=this.active_view||this.hidden_content_sidebar?"":A.default.selected].join(" "),onClick:function(){return e.toggleContentSidebar("profile")}},m.default.createElement("i",{class:"fa-light fa-address-card fa-fw"}))),m.default.createElement("div",{style:{marginTop:"auto"}}),this.store.user.is_staff&&m.default.createElement(w.Tooltip,{arrow:!0,position:"right",title:"Management",size:"small"},m.default.createElement("div",{className:[A.default.item].join(" "),onClick:function(){return e.store.uistate.management_app=!0}},m.default.createElement("i",{className:"fa-regular fa-fw fa-database fa-fw"}))),m.default.createElement(w.Tooltip,{arrow:!0,position:"right",title:"Logout",size:"small"},m.default.createElement("div",{className:[A.default.item].join(" "),onClick:function(){return e.logout()}},m.default.createElement("i",{className:"fal fa-sign-out"})))),"projects"==this.active_view&&this.renderProjectsStandalone(),"learn"==this.active_view&&this.renderLearn(),"profile"==this.active_view&&this.renderProfile())}},{key:"renderAsana",value:function(){var e=this,t=this.store.uistate.is_mobile&&this.store.uistate.hidden_content_sidebar?"none":"flex";return m.default.createElement("div",{className:A.default.sidebar_container,ref:function(t){return e.node=t},style:{display:t}},m.default.createElement("div",{className:A.default.sidebar},m.default.createElement("div",{className:[A.default.item,A.default.logo].join(" "),onClick:function(){return e.byUser()}},m.default.createElement("img",{src:"/img/iso.png"})),m.default.createElement(w.Tooltip,{arrow:!0,position:"right",title:"Projects",size:"small"},m.default.createElement("div",{className:[A.default.item,"projects"!=this.active_view||this.hidden_content_sidebar?"":A.default.selected].join(" "),onClick:function(){return e.toggleContentSidebar("projects")}},m.default.createElement("i",{class:"fa-light fa-file-contract"}))),m.default.createElement(w.Tooltip,{arrow:!0,position:"right",title:"Learning center",size:"small"},m.default.createElement("div",{className:[A.default.item,"learn"!=this.active_view||this.hidden_content_sidebar?"":A.default.selected].join(" "),onClick:function(){return e.toggleContentSidebar("learn")}},m.default.createElement("i",{class:"fa-light fa-graduation-cap"}))),m.default.createElement(w.Tooltip,{arrow:!0,position:"right",title:"My Profile",size:"small"},m.default.createElement("div",{className:[A.default.item,"profile"!=this.active_view||this.hidden_content_sidebar?"":A.default.selected].join(" "),onClick:function(){return e.toggleContentSidebar("profile")}},m.default.createElement("i",{class:"fa-light fa-address-card"}))),m.default.createElement(w.Tooltip,{arrow:!0,position:"right",title:"Logout",size:"small",style:{marginTop:"auto"}},m.default.createElement("div",{className:[A.default.item].join(" "),onClick:function(){return e.logout()}},m.default.createElement("i",{className:"fal fa-sign-out"})))),"projects"==this.active_view&&this.renderProjectsAsana(),"learn"==this.active_view&&this.renderLearn(),"profile"==this.active_view&&this.renderProfile())}},{key:"renderProjectsStandalone",value:function(){var e=this;return m.default.createElement("div",{className:[A.default.content,this.hidden_content_sidebar?A.default.hidden_content_sidebar:"",this.store.uistate.pinned_content_sidebar?A.default.pinned:""].join(" ")},m.default.createElement("div",{className:[A.default.row_container,A.default.section_container].join(" ")},m.default.createElement("div",{className:[A.default.title,A.default.grow].join(" ")},"Workbook"),!this.store.uistate.is_mobile&&m.default.createElement(w.Tooltip,{arrow:!0,position:"bottom",title:"Fix Projects Sidebar",size:"small"},m.default.createElement("div",{className:[A.default.clickable,this.store.uistate.pinned_content_sidebar?A.default.clickable_selected:""].join(" "),onClick:function(){return e.togglePin()}},m.default.createElement("i",{class:"fa-regular fa-thumbtack"}))),m.default.createElement("div",{className:[A.default.clickable],onClick:function(){return e.hide()}},m.default.createElement("i",{class:"fa-solid fa-arrow-left-to-line"}))),m.default.createElement("div",{style:{position:"relative",paddingBottom:"0"},className:[A.default.section_container,A.default.workbook_picker_container].join(" ")},m.default.createElement("div",{className:[,"dropdown-toggle"].join(" "),"data-toggle":"dropdown"},m.default.createElement("div",null,m.default.createElement("div",{className:A.default.workbook_picker},m.default.createElement("div",{className:A.default.workbook_name},this.store.workbooks.selected&&this.store.workbooks.selected.name,!this.store.workbooks.selected&&"Loading..."),m.default.createElement("div",{className:A.default.workbook_arrow},m.default.createElement("i",{className:"fa fa-caret-down"}))))),m.default.createElement("ul",{className:"dropdown-menu workbooks",role:"menu","aria-labelledby":"dropdownMenu",style:{fontSize:12,minWidth:"auto",width:"230px",left:"10px",height:"auto",maxHeight:"400px",overflowX:"hidden",marginTop:"-20px"}},this.store.workbooks.filtered.map((function(e){return m.default.createElement("li",{className:"",onClick:function(){return e.select()}},m.default.createElement("a",{href:"javascript:void(0)"},m.default.createElement("div",{style:{fontSize:"14px"}},e.name),m.default.createElement("div",{style:{fontSize:"12px",fontWeight:300}},e.projects.length," projects")))})),m.default.createElement("li",{className:""},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(e){return store.uistate.current_modal="STANDALONE_CREATE"}},m.default.createElement("i",{className:"fas fa-plus"})," New workbook")))),this.store.workbooks.filtered.length>0&&m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:"unstyled projects-list",style:{paddingBottom:0,marginBottom:0,display:"flex",marginLeft:"20px",marginRight:"20px"}},m.default.createElement("div",{className:"btn btn-grey btn-flat btn-small",onClick:function(t){return e.editWorkbook(t)},style:{display:"flex",flexGrow:1,marginRight:"5px"}},m.default.createElement("div",{style:{padding:"2px 0px 2px 0px"}},m.default.createElement("div",{className:"icon"},m.default.createElement("i",{className:"far fa-fw fa-cog"}))),m.default.createElement("div",{style:{padding:"2px 5px",flexGrow:1}},m.default.createElement("div",{className:"title-inner",style:{whiteSpace:"normal",overflow:"visible"}},m.default.createElement("span",null,"Settings")))),m.default.createElement("div",{className:"btn btn-grey btn-flat btn-small",onClick:function(t){return e.editMembers(t)},style:{display:"flex",flexGrow:1}},m.default.createElement("div",{style:{padding:"2px 0px 2px 0px"}},m.default.createElement("div",{className:"icon"},m.default.createElement("i",{className:"fa-regular fa-fw fa-users"}))),m.default.createElement("div",{style:{padding:"2px 5px",flexGrow:1}},m.default.createElement("div",{className:"title-inner",style:{whiteSpace:"normal",overflow:"visible"}},m.default.createElement("span",null,"Members"))))),m.default.createElement("ul",{className:"unstyled projects-list",style:{paddingBottom:0,marginBottom:0}},m.default.createElement("li",{style:{display:"flex",marginTop:"20px"}},m.default.createElement("div",{style:{padding:"5px 10px",flexGrow:1}},m.default.createElement("div",{className:[A.default.subtitle,A.default.row_container].join(" ")},m.default.createElement("div",{className:A.default.grow},"Projects ",m.default.createElement("span",{className:A.default.text},"(",this.store.workbooks.selected&&this.store.workbooks.selected.projects&&this.store.workbooks.selected.projects.length||0,")")),m.default.createElement("div",{style:{position:"relative"},className:A.default.text},m.default.createElement("button",{className:"btn btn-flat btn-success btn-small dropdown-toggle","data-toggle":"dropdown",style:{marginLeft:"10px"}},m.default.createElement("i",{className:"fa-solid fa-plus",style:{fontSize:"inherit"}})),m.default.createElement("ul",{className:"dropdown-menu",style:{overflow:"hidden",marginLeft:"-150px"}},m.default.createElement("li",{style:{padding:0}},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.toggleCreateProject()}},"Blank Project")),m.default.createElement("li",{style:{padding:0}},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.store.uistate.current_modal="NEW_PROJECT_FROM_TEMPLATE"}},"From template")),m.default.createElement("li",{style:{padding:0}},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.new_folder_toggle=!0}},"Folder (Organize your projects)"))))))),m.default.createElement("li",{style:{display:"flex"}},m.default.createElement("div",{className:A.default.search_field},m.default.createElement("i",{className:"fa-regular fa-fw fa-search"}),m.default.createElement("input",{type:"text",placeholder:"Search projects...",className:A.default.input,onChange:this.handleChange,value:this.store.projects.filters.query}))))),m.default.createElement("div",{className:[A.default.projects_list_container,"sortable-container"].join(" ")},this.store.workbooks.filtered.length>0&&m.default.createElement("div",{className:A.default.projects_list_container},m.default.createElement("div",{className:"tap-small-resolutions"},"Click to show project list"),m.default.createElement("ul",{className:"unstyled projects-list",style:{padding:0,marginBottom:0}},m.default.createElement("li",{className:"inbox"==this.store.uistate.active_view?"selected":"",onClick:function(){return e.inbox()},style:{display:"flex"}},m.default.createElement("div",{style:{padding:"2px 0px 2px 10px"}},m.default.createElement("div",{className:"icon"},m.default.createElement("i",{className:"far fa-fw fa-comment"}))),m.default.createElement("div",{style:{padding:"2px 5px",flexGrow:1}},m.default.createElement("div",{className:"title-inner",style:{whiteSpace:"normal",overflow:"visible",fontSize:(this.store.uistate.active_view,"")}},m.default.createElement("span",null,"Inbox")," ",m.default.createElement("span",{className:"inbox-counter"},this.store.inbox.unreads))))),m.default.createElement("ul",{ref:function(t){return e.component=t},className:"unstyled projects-list projects-list-hoverable sortable-items"},m.default.createElement(b.default,{store:this.store,is_standalone:!0}),m.default.createElement("li",{className:"non-hover"},!this.new_project_toggle&&!this.new_folder_toggle&&m.default.createElement("div",null,m.default.createElement("button",{className:"btn btn-flat btn-success btn-small dropdown-toggle","data-toggle":"dropdown",style:{marginLeft:"10px"}},m.default.createElement("i",{className:"fa fa-plus"})," New ",m.default.createElement("span",{style:{borderLeft:"1px solid rgba(0,0,0,0.3)",padding:"5px 0 5px 5px",marginLeft:"5px"}},m.default.createElement("i",{className:"fa fa-chevron-down"}))),m.default.createElement("ul",{className:"dropdown-menu",style:{overflow:"hidden",marginLeft:"20px"}},m.default.createElement("li",{style:{padding:0}},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.toggleCreateProject()}},"Blank Project")),m.default.createElement("li",{style:{padding:0}},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.store.uistate.current_modal="NEW_PROJECT_FROM_TEMPLATE"}},"From template")),m.default.createElement("li",{style:{padding:0}},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.new_folder_toggle=!0}},"Folder (Organize your projects)")))),this.new_project_toggle&&m.default.createElement("div",{style:{padding:"10px",background:"#fff",boxSizing:"borderBox",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.7)"}},this.folders.length>0&&m.default.createElement("div",null,m.default.createElement("select",{value:this.selected_folder_id,onChange:function(t){return e.selected_folder_id=t.target.value},style:{boxSizing:"border-box",width:"100%",fontSize:"12px"}},m.default.createElement("option",{value:""},"No folder"),this.folders.map((function(e){return m.default.createElement("option",{value:e.id},e.name)})))),m.default.createElement("input",{type:"text",autoFocus:!0,onKeyDown:this.handleKeyDown,onChange:this.handleKeyDown,value:this.new_project_value,style:{width:"126px",fontSize:"12px"},placeholder:"Project name..."}),m.default.createElement("button",{className:"btn btn-flat btn-success",style:{marginTop:"-7px",marginLeft:"5px"},onClick:this.createProject,disabled:this.new_project_creating||this.new_folder_creating},(this.new_project_creating||this.new_folder_creating)&&m.default.createElement("i",{className:"fa fa-spin fa-spinner"}),!(this.new_project_creating||this.new_folder_creating)&&"Create")),this.new_folder_toggle&&m.default.createElement("div",{style:{padding:"10px",background:"#fff",boxSizing:"borderBox",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.7)"}},m.default.createElement("input",{type:"text",autoFocus:!0,onKeyDown:this.handleKeyDownFolder,onChange:this.handleKeyDownFolder,value:this.new_folder_value,style:{width:"126px",fontSize:"12px"},placeholder:"Folder name..."}),m.default.createElement("button",{className:"btn btn-flat btn-success",style:{marginTop:"-7px",marginLeft:"5px"},onClick:this.createFolder},(this.new_project_creating||this.new_folder_creating)&&m.default.createElement("i",{className:"fa fa-spin fa-spinner"}),!(this.new_project_creating||this.new_folder_creating)&&"Create"))),m.default.createElement("li",{className:"non-hover"})))))}},{key:"renderProjectsAsana",value:function(){var e,t=this;return m.default.createElement("div",{className:[A.default.content,this.hidden_content_sidebar?A.default.hidden_content_sidebar:"",this.store.uistate.pinned_content_sidebar?A.default.pinned:""].join(" ")},m.default.createElement("div",{className:[A.default.row_container,A.default.section_container].join(" ")},m.default.createElement("div",{className:[A.default.title,A.default.grow].join(" ")},"Asana Projects"),!this.store.uistate.is_mobile&&m.default.createElement(w.Tooltip,{arrow:!0,position:"bottom",title:"Fix Projects Sidebar",size:"small"},m.default.createElement("div",{className:[A.default.clickable,this.store.uistate.pinned_content_sidebar?A.default.clickable_selected:""].join(" "),onClick:function(){return t.togglePin()}},m.default.createElement("i",{class:"fa-regular fa-thumbtack"}))),m.default.createElement("div",{className:[A.default.clickable],onClick:function(){return t.hide()}},m.default.createElement("i",{class:"fa-solid fa-arrow-left-to-line"}))),m.default.createElement("div",{style:{position:"relative",paddingBottom:"10px",borderBottom:"1px solid #ddd"},className:[A.default.section_container,A.default.workbook_picker_container].join(" ")},m.default.createElement("div",(x(e={className:"workbook-picker"},"className","dropdown-toggle"),x(e,"data-toggle","dropdown"),x(e,"style",{cursor:"pointer",padding:"0px",color:"#525252",position:"relative"}),x(e,"onClick",(function(e){return t.store.uistate.current_modal="ADD_PROJECT_POPUP"})),e),m.default.createElement("div",null,m.default.createElement("div",{style:{fontSize:"13px",color:"#525252"}},m.default.createElement("i",{className:"fa fa-plus"})," Manage projects"),m.default.createElement("div",{style:{fontWeight:"300",color:"#525252",fontSize:"11px"}},m.default.createElement("div",{className:"pull-right"},m.default.createElement("i",{className:"fa fa-circle",style:{color:"#08bd08"}})),"Connection established",m.default.createElement("div",{className:"clearfix"}))))),m.default.createElement("div",{className:[A.default.projects_list_container,"sortable-container"].join(" ")},m.default.createElement("div",{className:A.default.projects_list_container},m.default.createElement("div",{className:"tap-small-resolutions"},"Click to show project list"),m.default.createElement("ul",{className:"unstyled projects-list",style:{paddingBottom:0,marginBottom:0}},m.default.createElement("li",{style:{display:"flex",marginTop:"10px"}},m.default.createElement("div",{style:{padding:"5px 10px",flexGrow:1}},m.default.createElement("div",{className:[A.default.subtitle,A.default.row_container].join(" ")},m.default.createElement("div",{className:A.default.grow},"Projects ",m.default.createElement("span",{className:A.default.text},"(",this.store.workbooks.selected&&this.store.workbooks.selected.projects&&this.store.workbooks.selected.projects.length||0,")")),m.default.createElement("div",{style:{position:"relative"},className:A.default.text},m.default.createElement("button",{className:"btn btn-flat btn-grey btn-small",onClick:function(e){return t.store.uistate.current_modal="ADD_PROJECT_POPUP"},style:{marginLeft:"10px"}},m.default.createElement("i",{className:"fa-solid fa-plus",style:{fontSize:"inherit"}})))))),m.default.createElement("li",{style:{display:"flex"}},m.default.createElement("div",{className:A.default.search_field},m.default.createElement("i",{className:"fa-regular fa-fw fa-search"}),m.default.createElement("input",{type:"text",placeholder:"Search projects...",className:A.default.input,onChange:this.handleChange,value:this.store.projects.filters.query})))),m.default.createElement("ul",{ref:function(e){return t.component=e},className:"unstyled projects-list projects-list-hoverable sortable-items"},m.default.createElement(b.default,{store:this.store})))))}},{key:"renderProfile",value:function(){var e=this;return m.default.createElement("div",{style:{overflowY:"scroll"},className:[A.default.content,this.hidden_content_sidebar?A.default.hidden_content_sidebar:"",this.store.uistate.pinned_content_sidebar?A.default.pinned:""].join(" ")},m.default.createElement("div",{className:[A.default.row_container,A.default.section_container].join(" ")},m.default.createElement("div",{className:[A.default.title,A.default.grow].join(" ")},"Settings"),!this.store.uistate.is_mobile&&m.default.createElement(w.Tooltip,{arrow:!0,position:"bottom",title:"Fix Projects Sidebar",size:"small"},m.default.createElement("div",{className:[A.default.clickable,this.store.uistate.pinned_content_sidebar?A.default.clickable_selected:""].join(" "),onClick:function(){return e.togglePin()}},m.default.createElement("i",{class:"fa-regular fa-thumbtack"}))),m.default.createElement("div",{className:[A.default.clickable],onClick:function(){return e.hide()}},m.default.createElement("i",{class:"fa-solid fa-arrow-left-to-line"}))),m.default.createElement("div",{className:[A.default.text,A.default.section_container].join(" ")},"standalone"==this.store.user.type&&m.default.createElement("span",null,"Update your name, your Avatar and Notifications settings."),"standalone"!=this.store.user.type&&m.default.createElement("span",null,"Your profile and notification settings needs to be updated directly in Asana.")),m.default.createElement("div",{className:[A.default.text,A.default.section_container].join(" ")},"standalone"==this.store.user.type&&m.default.createElement(m.default.Fragment,null,m.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.profile()},className:"btn btn-primary btn-small btn-flat"},m.default.createElement("i",{class:"fa-regular fa-user"})," Profile")," ",m.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.notifications()},className:"btn btn-primary btn-small btn-flat"},m.default.createElement("i",{class:"fa-regular fa-envelope"})," Notifications")),"standalone"!=this.store.user.type&&m.default.createElement(m.default.Fragment,null,m.default.createElement("a",{href:"https://app.asana.com/",target:"_blank",className:"btn btn-primary btn-small btn-flat"},m.default.createElement("i",{class:"fa-regular fa-user"})," Go to Asana"))),this.store.subscriptions.active_subscriptions.length>0&&m.default.createElement("div",{className:"billing-team-link"},m.default.createElement("div",{className:[A.default.title,A.default.section_container].join(" ")},"Subscription & Plan"),m.default.createElement("div",{className:[A.default.text,A.default.section_container].join(" ")},"Manage your subscriptions. Invite members, grow your plan, and update your card."),m.default.createElement("div",{className:[A.default.text,A.default.section_container].join(" ")},m.default.createElement("a",{href:"#/subscriptions/team",className:"btn btn-primary btn-small btn-flat"},m.default.createElement("i",{class:"fa-light fa-credit-card"})," Subscription settings"))))}},{key:"renderLearn",value:function(){var e=this;return m.default.createElement("div",{style:{overflowY:"scroll"},className:[A.default.content,this.hidden_content_sidebar?A.default.hidden_content_sidebar:"",this.store.uistate.pinned_content_sidebar?A.default.pinned:""].join(" ")},m.default.createElement("div",{className:[A.default.row_container,A.default.section_container].join(" ")},m.default.createElement("div",{className:[A.default.title,A.default.grow].join(" ")},"Help Guide"),!this.store.uistate.is_mobile&&m.default.createElement(w.Tooltip,{arrow:!0,position:"bottom",title:"Fix Projects Sidebar",size:"small"},m.default.createElement("div",{className:[A.default.clickable,this.store.uistate.pinned_content_sidebar?A.default.clickable_selected:""].join(" "),onClick:function(){return e.togglePin()}},m.default.createElement("i",{class:"fa-regular fa-thumbtack"}))),m.default.createElement("div",{className:[A.default.clickable],onClick:function(){return e.hide()}},m.default.createElement("i",{class:"fa-solid fa-arrow-left-to-line"}))),m.default.createElement("div",{className:[A.default.text,A.default.section_container].join(" ")},"We have an extensive collection of step by step articles to guide you through the use of Instagantt"),m.default.createElement("div",{className:[A.default.text,A.default.section_container].join(" ")},m.default.createElement("a",{href:"https://instagantt.com/help-guide/tasks-and-subtasks",target:"_blank",className:"btn btn-primary btn-small btn-flat"},m.default.createElement("i",{class:"fa-light fa-graduation-cap"})," Instagantt University")),m.default.createElement("div",{className:[A.default.title,A.default.section_container].join(" ")},"Getting Started Videos"),m.default.createElement("div",{className:[A.default.text,A.default.section_container].join(" ")},m.default.createElement(k.default,{store:this.store})))}},{key:"renderStandaloneOld",value:function(){var e,t,n=this;return m.default.createElement("div",{id:"sidebar-toolbar",className:["standalone",this.store.uistate.is_mobile?"mobile":""].join(" "),style:{width:"250px"}},m.default.createElement("div",{className:"sidebar-header",style:{boxShadow:"0 0 15px rgba(0,0,0,0.5)",height:"100px",position:"relative"}},m.default.createElement("div",{id:"",style:{position:"absolute",top:"15px",right:"10px"}},m.default.createElement("div",{id:"user-name"},m.default.createElement("a",{href:"javascript:void(0);",className:"dropdown-toggle","data-toggle":"dropdown",style:{width:"100%",textDecoration:"none"}},m.default.createElement("div",{style:{display:"flex"}},m.default.createElement("div",null,this.store.uistate.user_photo&&m.default.createElement("img",{src:this.store.uistate.user_photo,width:26,style:{borderRadius:15,width:24,marginRight:5,marginTop:"-3px",marginBottom:"-2px",border:"2px solid rgba(255,255,255,0.6)"}}),!this.store.uistate.user_photo&&m.default.createElement("div",{id:"user-name-text",className:"non-photo"},y.default.nameAbbreviation(this.store.user.name))),m.default.createElement("div",null," ",m.default.createElement("i",{className:"fa fa-caret-down"})))),m.default.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdownMenu",style:{zIndex:1e4,fontSize:12,minWidth:"auto",width:"auto",marginLeft:"-75px"}},m.default.createElement("li",null,m.default.createElement("a",{href:"javascript:void(0)"},m.default.createElement("div",null,this.store.user.name),m.default.createElement("span",{className:"muted"},"Logged in as ",this.store.user.email))),m.default.createElement("li",{className:"divider"}),m.default.createElement("li",{className:"profile-link",onClick:function(){return store.uistate.current_modal="PROFILE"}},m.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"javascript:void(0)"},m.default.createElement("i",{className:"far fa-user fa-fw"})," Profile")),m.default.createElement("li",{className:"billing-team-link"},m.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"#/subscriptions/team"},m.default.createElement("i",{className:"fa fa-star fa-fw"})," Billing & Team")),this.store.user.is_staff&&m.default.createElement("li",null,m.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"javascript:void(0)",onClick:function(){return n.store.uistate.management_app=!0}},m.default.createElement("i",{className:"fas fa-fw fa-database"})," Management")),m.default.createElement("li",null,m.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"#/logout"},m.default.createElement("i",{className:"fa fa-fw fa-sign-out-alt"})," Logout"))))),m.default.createElement("div",{className:"logo",style:{padding:"15px"}},m.default.createElement("img",{src:"/img/logo-for-dark-bg.png",width:"120"})),m.default.createElement("div",(x(e={className:"workbook-picker"},"className","dropdown-toggle"),x(e,"data-toggle","dropdown"),x(e,"style",{cursor:"pointer",padding:"0px 15px 0 15px",color:"#ffffff",position:"relative"}),e),m.default.createElement("div",{style:{position:"absolute",left:"20px",top:"0px"}},m.default.createElement("div",null,this.store.workbooks.selected&&this.store.workbooks.selected.name,!this.store.workbooks.selected&&"Loading...","  ",m.default.createElement("i",{className:"fa fa-caret-down"})),m.default.createElement("div",{style:{fontSize:"11px",color:"rgba(255,255,255,0.6)"}},this.store.workbooks.selected&&this.store.workbooks.selected.projects&&this.store.workbooks.selected.projects.length||0," Projects."))),m.default.createElement("ul",{className:"dropdown-menu workbooks",role:"menu","aria-labelledby":"dropdownMenu",style:{fontSize:12,minWidth:"auto",width:"230px",left:"10px",height:"auto",maxHeight:"400px",overflowX:"hidden"}},this.store.workbooks.filtered.map((function(e){return m.default.createElement("li",{className:"",onClick:function(){return e.select()}},m.default.createElement("a",{href:"javascript:void(0)"},m.default.createElement("div",{style:{fontSize:"14px"}},e.name),m.default.createElement("div",{style:{fontSize:"12px",fontWeight:300}},e.projects.length," projects")))})),m.default.createElement("li",{className:""},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(e){return store.uistate.current_modal="STANDALONE_CREATE"}},m.default.createElement("i",{className:"fas fa-plus"})," New workbook")))),this.store.workbooks.filtered.length>0&&m.default.createElement("div",{className:"sidebar sidebar-1",style:(t={left:"0px",width:"231px",top:"110px",paddingLeft:"0px",paddingRight:"10px",right:"-10px"},x(t,"width","initial"),x(t,"height","auto"),x(t,"bottom",0),t)},m.default.createElement("div",{className:"tap-small-resolutions"},"Click to show project list"),m.default.createElement("ul",{ref:function(e){return n.component=e},className:"unstyled projects-list"},m.default.createElement("li",{className:"settings non-hover"},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(e){return n.editWorkbook(e)}},m.default.createElement("i",{className:"fa fa-cog"}),"  Workbook Settings")," ",m.default.createElement("a",{href:"javascript:void(0)",style:{marginLeft:"20px"},onClick:function(e){return n.editMembers(e)}},m.default.createElement("i",{className:"fa fa-users"}),"  Team")),m.default.createElement("li",{className:"non-hover"},m.default.createElement("div",{className:"filter-projects-container"},m.default.createElement("i",{className:"fa fa-search"}),"  ",m.default.createElement("input",{type:"text",placeholder:"Filter projects...",className:"projects-search",onChange:this.handleChange,value:this.store.projects.filters.query,style:{width:"100%"}}))),m.default.createElement("li",{className:"inbox"==this.store.uistate.active_view?"selected":"",onClick:function(){return n.inbox()},style:{display:"flex"}},m.default.createElement("div",{style:{padding:"5px 5px 5px 10px"}},m.default.createElement("div",{className:"icon"},m.default.createElement("i",{className:"far fa-fw fa-comment"}))),m.default.createElement("div",{style:{padding:"5px",flexGrow:1}},m.default.createElement("div",{className:"title-inner",style:{whiteSpace:"normal",overflow:"visible",fontSize:"inbox"==this.store.uistate.active_view?"14px":""}},m.default.createElement("span",null,"Inbox")," ",m.default.createElement("span",{className:"inbox-counter"},this.store.inbox.unreads)))),m.default.createElement(b.default,{store:this.store,is_standalone:!0}),m.default.createElement("li",{className:"non-hover"},!this.new_project_toggle&&!this.new_folder_toggle&&m.default.createElement("div",null,m.default.createElement("button",{className:"btn btn-flat btn-success btn-small dropdown-toggle","data-toggle":"dropdown",style:{marginLeft:"10px"}},m.default.createElement("i",{className:"fa fa-plus"})," New ",m.default.createElement("span",{style:{borderLeft:"1px solid rgba(0,0,0,0.3)",padding:"5px 0 5px 5px",marginLeft:"5px"}},m.default.createElement("i",{className:"fa fa-chevron-down"}))),m.default.createElement("ul",{className:"dropdown-menu",style:{overflow:"hidden",marginLeft:"20px"}},m.default.createElement("li",{style:{padding:0}},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return n.toggleCreateProject()}},"Blank Project")),m.default.createElement("li",{style:{padding:0}},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return n.store.uistate.current_modal="NEW_PROJECT_FROM_TEMPLATE"}},"From template")),m.default.createElement("li",{style:{padding:0}},m.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return n.new_folder_toggle=!0}},"Folder (Organize your projects)")))),this.new_project_toggle&&m.default.createElement("div",{style:{padding:"10px",background:"#fff",boxSizing:"borderBox",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.7)"}},this.folders.length>0&&m.default.createElement("div",null,m.default.createElement("select",{value:this.selected_folder_id,onChange:function(e){return n.selected_folder_id=e.target.value},style:{boxSizing:"border-box",width:"100%",fontSize:"12px"}},m.default.createElement("option",{value:""},"No folder"),this.folders.map((function(e){return m.default.createElement("option",{value:e.id},e.name)})))),m.default.createElement("input",{type:"text",autoFocus:!0,onKeyDown:this.handleKeyDown,onChange:this.handleKeyDown,value:this.new_project_value,style:{width:"126px",fontSize:"12px"},placeholder:"Project name..."}),m.default.createElement("button",{className:"btn btn-flat btn-success",style:{marginTop:"-7px",marginLeft:"5px"},onClick:this.createProject,disabled:this.new_project_creating||this.new_folder_creating},(this.new_project_creating||this.new_folder_creating)&&m.default.createElement("i",{className:"fa fa-spin fa-spinner"}),!(this.new_project_creating||this.new_folder_creating)&&"Create")),this.new_folder_toggle&&m.default.createElement("div",{style:{padding:"10px",background:"#fff",boxSizing:"borderBox",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.7)"}},m.default.createElement("input",{type:"text",autoFocus:!0,onKeyDown:this.handleKeyDownFolder,onChange:this.handleKeyDownFolder,value:this.new_folder_value,style:{width:"126px",fontSize:"12px"},placeholder:"Folder name..."}),m.default.createElement("button",{className:"btn btn-flat btn-success",style:{marginTop:"-7px",marginLeft:"5px"},onClick:this.createFolder},(this.new_project_creating||this.new_folder_creating)&&m.default.createElement("i",{className:"fa fa-spin fa-spinner"}),!(this.new_project_creating||this.new_folder_creating)&&"Create"))),m.default.createElement("li",{className:"non-hover"}))))}},{key:"render",value:function(){var e,t=this;return this.store.uistate.user_resolved?"standalone"==this.store.user.type?this.renderStandalone():"standalone"!=this.store.user.type?this.renderAsana():m.default.createElement("div",{id:"sidebar-toolbar",className:this.store.uistate.is_mobile?"mobile":""},m.default.createElement("div",{className:"sidebar-header",style:{boxShadow:"0 0 15px rgba(0,0,0,0.5)",height:"100px",position:"relative"}},m.default.createElement("div",{id:"",style:{position:"absolute",top:"15px",right:"10px"}},m.default.createElement("div",{id:"user"},m.default.createElement("div",{id:"user-name"},m.default.createElement("a",{href:"javascript:void(0);",className:"dropdown-toggle","data-toggle":"dropdown",style:{width:"100%",textDecoration:"none"}},m.default.createElement("div",{style:{display:"flex"}},m.default.createElement("div",null,m.default.createElement("img",{src:"/img/user.png",width:26,style:{display:"none",borderRadius:15,width:24,marginRight:5,marginTop:"-3px",marginBottom:"-2px"}}),m.default.createElement("div",{id:"user-name-text",className:"non-photo"})),m.default.createElement("div",null," ",m.default.createElement("i",{className:"fa fa-caret-down"})))),m.default.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdownMenu",style:{fontSize:12,minWidth:"auto",width:"auto",marginLeft:"-75px"}},m.default.createElement("li",{className:"billing-team-link"},m.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"#/subscriptions/team"},m.default.createElement("i",{className:"fa fa-star fa-fw"})," Billing & Team")),this.store.user.type&&"standalone"==this.store.user.type&&m.default.createElement("li",null,m.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"https://app.instagantt.com/logout"},m.default.createElement("i",{className:"fa fa-fw fa-sign-out"})," Logout")),"standalone"!=this.store.user.type&&m.default.createElement("li",null,m.default.createElement("a",{style:{paddingLeft:5},tabIndex:-1,href:"#/logout"},m.default.createElement("i",{className:"fa fa-fw fa-sign-out"})," Logout")))))),m.default.createElement("div",{className:"logo",style:{padding:"15px"}},m.default.createElement("img",{src:"/img/logo-for-dark-bg.png",width:"120"})),m.default.createElement("div",(x(e={className:"workbook-picker"},"className","dropdown-toggle"),x(e,"data-toggle","dropdown"),x(e,"style",{cursor:"pointer",padding:"0px 15px 0 15px",color:"#ffffff",position:"relative"}),x(e,"onClick",(function(e){return t.store.uistate.current_modal="ADD_PROJECT_POPUP"})),e),m.default.createElement("div",{style:{position:"absolute",left:"20px",top:"0px",right:"10px"}},m.default.createElement("div",{style:{fontSize:"13px",color:"#fff"}},m.default.createElement("i",{className:"fa fa-plus"})," Manage projects"),m.default.createElement("div",{style:{fontWeight:"300",color:"#efefef",fontSize:"11px"}},m.default.createElement("div",{className:"pull-right"},m.default.createElement("i",{className:"fa fa-circle",style:{color:"#08bd08"}})),"Asana connection established",m.default.createElement("div",{className:"clearfix"}))))),m.default.createElement("div",{className:"sidebar sidebar-1",style:{width:"initial",paddingRight:"15px",boxSizing:"border-box",top:"110px",bottom:"70px",height:"auto",right:"-15px"}},m.default.createElement("div",{className:"tap-small-resolutions"},"Click to show project list"),m.default.createElement("div",{className:"filter-projects-container"},m.default.createElement("i",{className:"fa fa-search"}),"  ",m.default.createElement("input",{type:"text",placeholder:"Filter projects...",className:"projects-search",onChange:this.handleChange,value:this.store.projects.filters.query})),m.default.createElement("ul",{ref:function(e){return t.component=e},className:"unstyled projects-list projects-list-hoverable"},m.default.createElement(b.default,{store:this.store}))),m.default.createElement("div",{style:{position:"absolute",bottom:"0",padding:"10px",height:"60px"}},m.default.createElement("ul",{className:"sidebar-bottom-menu"},m.default.createElement("li",{"data-elevio-module":"articles"},m.default.createElement("i",{className:"fa-fw far fa-lightbulb"})," Help Guide"),m.default.createElement("li",{onClick:function(){return Intercom("show")}},m.default.createElement("i",{className:"fa fa-fw fa-life-ring"})," Support"))),m.default.createElement("div",{className:"modal hide",id:"resync-modal"},m.default.createElement("div",{className:"modal-body",style:{textAlign:"center"}},m.default.createElement("h3",null,"Sync Projects List"),m.default.createElement("p",null,"By doing this action, your ",m.default.createElement("b",null,"connected")," projects will be updated with the last Asana name & colors. This could take a couple of minutes."),m.default.createElement("button",{className:"resync-projects btn btn-success"},"Sync")),m.default.createElement("div",{className:"modal-footer"},m.default.createElement("a",{href:"javascript:void(0);","data-dismiss":"modal",className:"btn"},"Close")))):null}},{key:"hidden_content_sidebar",get:function(){return!this.store.uistate.pinned_content_sidebar&&this.store.uistate.hidden_content_sidebar}}]),t}(),o=C(a.prototype,"new_project_toggle",[g.observable],{enumerable:!0,initializer:function(){return!1}}),i=C(a.prototype,"new_project_value",[g.observable],{enumerable:!0,initializer:function(){return""}}),s=C(a.prototype,"new_project_creating",[g.observable],{enumerable:!0,initializer:function(){return!1}}),l=C(a.prototype,"new_folder_toggle",[g.observable],{enumerable:!0,initializer:function(){return!1}}),c=C(a.prototype,"new_folder_value",[g.observable],{enumerable:!0,initializer:function(){return""}}),u=C(a.prototype,"new_folder_creating",[g.observable],{enumerable:!0,initializer:function(){return!1}}),d=C(a.prototype,"active_view",[g.observable],{enumerable:!0,initializer:function(){return"projects"}}),f=C(a.prototype,"selected_folder_id",[g.observable],{enumerable:!0,initializer:function(){return""}}),C(a.prototype,"hidden_content_sidebar",[g.computed],Object.getOwnPropertyDescriptor(a.prototype,"hidden_content_sidebar"),a.prototype),r=a))||r;t.default=j},function(e,t,n){e.exports={sidebar_container:"_1Md2gBMuzgbMW1IEBgkbUL",sidebar:"_3mBHjAzlKhY_ty-ELQnQwa",item:"_33ex13PFe4BB_08TcccSM4",logo:"_2LMtwQlilw-8USuDu9mN6u",selected:"_6hH345rGbImEYI_gW-ygX",content:"_36DBdwvz10wuAiZnR3vpL4",pinned:"_2ia-UU8AQg2Y_iGFSbAHB7",workbook_picker_container:"_3Wbg0V8H2EcVXeKBmokkJU",workbook_picker:"wO4Y0rD2Yp4dq4nRLpF0L",workbook_name:"kxbZmiE4Aj9S6FlTeIz_d",workbook_arrow:"J9gi3dv4d0Et0JFMjpJMs",projects_list_container:"_3_x8aNdyTAT0RNG_kK9kxX",row_container:"_1GNfy_UF9uxhBnYbtjGw-d",section_container:"_3G23KxTebbWP0LPRsnlhJu",grow:"_1rvBva8WW_Jc8ghtqv30QC",title:"XvNCOvwjM9ldM_A7_m23G",subtitle:"_2Jkd4mOPGm3LoUvTZJPITW",text:"K_a4dedfMUAJ2Iw3kzjDB",clickable:"_1o6g9ErPMV_HnknMip8MbT",clickable_selected:"_3M0-vsgfxgkO-VcYWqOw4f",hidden_content_sidebar:"_2E_UliHesbtD0JHlvINEA3",input:"_3OFywjsRrkUWENq5nau1L2",search_field:"_2ZXB79ZnwM92U3K7dhevtA"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=n(0),f=D(d),p=n(6),h=n(3),m=D(n(803)),_=D(n(805)),g=D(n(946)),b=D(n(806)),y=n(63),v=D(n(95)),A=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(267)),w=D(n(930)),k=D(n(96)),E=D(n(266)),x=D(n(109)),O=D(n(110)),C=D(n(948)),j=D(n(265));function D(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function S(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var T=function(e){var t={};return e.options?(e.options.forEach((function(n){t[n.id]=f.default.createElement(k.default,u({cf:e},n))})),t):[]},M=(0,p.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return N(n,"mobile_menu_open",o,n),N(n,"visible_filters",i,n),N(n,"custom_fields_manager_open",s,n),n.store=n.props.store,n.snapshotsModal=n.snapshotsModal.bind(n),n.imageExportModal=n.imageExportModal.bind(n),n.spreadsheetExportModal=n.spreadsheetExportModal.bind(n),n.quickGuide=n.quickGuide.bind(n),n.sync=n.sync.bind(n),n.shareModal=n.shareModal.bind(n),n.templateDayWeekScale=A.DayWeekScale.bind(n),n.toggleTodayIndicator=n.toggleTodayIndicator.bind(n),n.toggleWeekNumber=n.toggleWeekNumber.bind(n),(0,h.reaction)((function(){return n.store.tasks.active_filters}),(function(){"gantt"==n.store.uistate.active_view&&(n.visible_filters=Object.entries(n.store.tasks.active_filters).map((function(e){var t=l(e,2),n=t[0];return t[1],n})))})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),c(t,[{key:"setDefaultEveryoneView",value:function(e){var t=this.store.projectsettings.getSetting("default_view");t.everyone=e,this.store.projectsettings._set_setting("default_view",t),this.store.projectsettings._save()}},{key:"showColumnsHint",value:function(){}},{key:"toggleWeekNumber",value:function(e){this.store.uistate.show_week_number=!this.store.uistate.show_week_number}},{key:"toggleTodayIndicator",value:function(e){this.store.uistate.today_indicator=!this.store.uistate.today_indicator}},{key:"sync",value:function(){this.store.user&&"standalone"==this.store.user.type||(this.store.uistate.last_project_id=this.store.uistate.project_id,NProgress.start(),this.store.tasks.fetch().then((function(){NProgress.done()})))}},{key:"quickGuide",value:function(){this.store.uistate.current_modal="HELP_ROUTER"}},{key:"componentDidMount",value:function(){$(".refresher-container").tooltip()}},{key:"componentDidUpdate",value:function(){}},{key:"snapshotsModal",value:function(){this.store.uistate.current_modal="SNAPSHOTS"}},{key:"shareModal",value:function(){this.store.uistate.current_modal="SHARE_GROUP"}},{key:"imageExportModal",value:function(){this.store.uistate.current_modal="IMAGE_EXPORT"}},{key:"spreadsheetExportModal",value:function(){this.store.uistate.current_modal="SPREADSHEET_EXPORT"}},{key:"inviteMembers",value:function(e){var t=this.store;e.stopPropagation(),e.preventDefault(),t.uistate.current_modal_options||(t.uistate.current_modal_options={}),t.uistate.current_modal_options.workbook_id=t.workbooks.selected.id,t.uistate.current_modal_options.active_view="members",t.uistate.current_modal="STANDALONE_EDIT"}},{key:"criticalPath",value:function(e){this.store.uistate.showHint("critical_path"),this.store.uistate.critical_path=!this.store.uistate.critical_path}},{key:"undo",value:function(){this.store.uistate.undoing=!this.store.uistate.undoing}},{key:"sortManual",value:function(){this.store.tasks.sort_options.sort_by_local=!1,this.store.tasks.sort_options.sort_by_date=!1,this.store.tasks.sort_options.keep_tasks_sorted=!1}},{key:"sortByDate",value:function(){this.store.tasks.sort_options.sort_by_local=!1,this.store.tasks.sort_options.sort_by_date=!0,this.store.tasks.sort_options.keep_tasks_sorted=!0}},{key:"duplicate",value:function(){this.store.uistate.current_modal="DUPLICATE_PROJECT"}},{key:"renderInbox",value:function(){var e=this;return f.default.createElement("div",{className:"navbar  navbar-fixed-top active-sidebar",style:u({},this.store.uistate.centralContentStyle)},f.default.createElement("div",{className:"navbar-inner",style:{minWidth:"1100px"}},f.default.createElement("div",{className:"container"},f.default.createElement("div",{className:"navbar-content"},f.default.createElement("div",{className:"last-column"},f.default.createElement("div",{className:"pull-right",style:{minWidth:"300px"}},f.default.createElement("ul",{className:"pull-right unstyled user-options",style:{fontSize:12,marginTop:"10px"}},f.default.createElement("li",{style:{background:"transparent",display:"none"}},f.default.createElement("a",{href:"javascript:void(0)"},f.default.createElement("span",{className:"sync-counter",style:{display:"none"}}),f.default.createElement("i",{className:"fa fa-spinner sync-indicator muted",style:{display:"none"}}))),this.store.uistate.free_trial_banner&&f.default.createElement("li",{style:{position:"relative",marginTop:"-13px"}},f.default.createElement("div",{style:{color:"#777",fontSize:"10px"}},"Free trial status"),f.default.createElement("div",null,f.default.createElement("div",{style:{height:"6px",background:"#ddd",position:"relative",margin:"5px 0"}},f.default.createElement("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:100*Number((this.store.uistate.free_trial_days-this.store.uistate.free_trial_days_left)/this.store.uistate.free_trial_days)+"%",background:"#7ED321"}}))),f.default.createElement("div",{style:{color:"#777",textAlign:"center",fontSize:"10px"}},this.store.uistate.free_trial_days_left," days left")),this.store.uistate.free_trial_banner&&f.default.createElement("li",{className:"notice upgrade",style:{position:"relative"}},f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.store.uistate.subscription_modal="UPGRADE_NOW"}},f.default.createElement("i",{className:"fa fa-star"})," Upgrade")),this.store.user&&"standalone"!=this.store.user.type&&f.default.createElement("li",{className:"notice upgrade hide",style:{position:"relative"}},f.default.createElement("a",{href:"#/subscriptions/upgrade"},f.default.createElement("i",{className:"fa fa-star"})," Upgrade")),this.store.user&&"standalone"==this.store.user.type&&f.default.createElement("li",{className:"notice-blue",style:{position:"relative"},onClick:function(){return e.inviteMembers()}},f.default.createElement("a",{href:"javascript:void(0)",onClick:function(t){return e.inviteMembers(t)}},f.default.createElement("i",{className:"fa fa-user-plus fa-fw"})," Invite")))),f.default.createElement("div",{className:"clearfix"})),f.default.createElement("div",{style:{position:"absolute",left:"20px",right:0,top:"10px",zIndex:10,width:"480px"}},f.default.createElement("div",{style:{textAlign:"left"}},f.default.createElement("div",{className:"project-name"},"Inbox for ",this.store.workbooks.selected.name),f.default.createElement("ul",{className:"unstyled subnavbar",style:{position:"relative",margin:"0",textAlign:"left"}},f.default.createElement("li",{className:["dropdown"].join(" "),style:{color:"rgb(96, 117, 139)"}},"Unread tasks where you have been tagged"),f.default.createElement("div",{className:"clearfix"}))))))))}},{key:"renderMobile",value:function(){var e=this,t=this.store.projects.selected;this.store.projects.selected;var n=this.store.snapshots.snapshots.length;return this.store.uistate.active_view,f.default.createElement("div",{className:"mobile navbar  navbar-fixed-top active-sidebar"},f.default.createElement("div",{className:"navbar-inner"},f.default.createElement("div",{className:"container"},f.default.createElement("div",{className:"navbar-content",style:{display:"flex"}},f.default.createElement("div",{className:"first-column"},f.default.createElement("div",{className:"pull-left drive-brand collapse-button",onClick:function(){return router.toggleSidebar()}},f.default.createElement("i",{className:"fa fa-fw fa-bars"}))),f.default.createElement("div",{style:{flexGrow:1}},f.default.createElement("div",{style:{textAlign:"left"}},f.default.createElement("div",{className:"mobile project-name"},"inbox"==this.store.uistate.active_view?"Inbox":t?t.name:"Select a project from the list..."))),"inbox"!=this.store.uistate.active_view&&f.default.createElement("div",{style:{padding:"17px",fontSize:"24px",color:"#4F677F"},onClick:function(){return e.mobile_menu_open="base"}},f.default.createElement("i",{className:"fas fa-ellipsis-h"}))))),"base"==this.mobile_menu_open&&f.default.createElement(v.default,{title:"Project",onClose:function(){return e.mobile_menu_open=!1}},f.default.createElement("ul",{class:"unstyled mobile-menu"},f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.mobile_menu_open="export"}},"Export & Share")),f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.mobile_menu_open="baselines"}},"Change Tracking (Baselines)")),f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.mobile_menu_open="settings"}},"Settings")))),"export"==this.mobile_menu_open&&f.default.createElement(v.default,{title:"Export & Share",onClose:function(){return e.mobile_menu_open=!1}},f.default.createElement("ul",{class:"unstyled mobile-menu",onClick:function(){return e.mobile_menu_open=!1}},f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0);",className:"export-image",onClick:this.imageExportModal},f.default.createElement("i",{class:"fa-light fa-camera"})," Export as Image & PDF asd",f.default.createElement("br",null))),f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0);",className:"export-spreadsheet",onClick:this.spreadsheetExportModal},f.default.createElement("i",{class:"fa-thin fa-file-excel"})," Export as Spreadsheet ",f.default.createElement("br",null))),f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0);",className:"create-snapshot",onClick:this.snapshotsModal},f.default.createElement("i",{class:"fa-light fa-globe"})," Public Snapshots ",f.default.createElement("span",{className:"label label-info snapshots-counter"},n),f.default.createElement("br",null),f.default.createElement("div",{className:"muted small",style:{marginLeft:20}},"Snapshots are captures of the timeline on a given time, ",f.default.createElement("br",null)," for sharing (read-only public link) and loading as Baselines."))))),"baselines"==this.mobile_menu_open&&f.default.createElement(v.default,{title:"Change Tracking",onClose:function(){return e.mobile_menu_open=!1}},f.default.createElement("ul",{class:"unstyled mobile-menu",onClick:function(){return e.mobile_menu_open=!1}},f.default.createElement(b.default,{store:this.store}))),"settings"==this.mobile_menu_open&&f.default.createElement(v.default,{title:"Settings",onClose:function(){return e.mobile_menu_open=!1}},f.default.createElement("ul",{class:"unstyled mobile-menu"},f.default.createElement(m.default,{store:this.store}))))}},{key:"filterMenu",value:function(){var e=this;return f.default.createElement("div",{className:["dropdown",w.default.view_item_mini].join(" ")},f.default.createElement("div",{className:["dropdown-toggle"].join(" "),"data-toggle":"dropdown",tabIndex:-1,href:"javascript:void(0)"},f.default.createElement("i",{class:"fa-light fa-filter"})," Filters "),f.default.createElement("ul",{className:"dropdown-menu",style:{fontSize:"12px"}},Object.keys(this.store.uistate.columns).sort().filter((function(t){return void 0!==e.store.uistate.columns[t].filter_key})).map((function(t){return f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.visible_filters.push(e.store.uistate.columns[t].filter_key)}},e.store.uistate.columns[t].name))})),this.store.uistate.columns.custom_fields.filter((function(e){return e.active})).map((function(t){return f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.visible_filters.push(t.id)}},t.name))}))))}},{key:"renderExportAndShare",value:function(){if(this.store.uistate.is_mobile)return this.renderMobile();if("inbox"==this.store.uistate.active_view)return this.renderInbox();var e=this.store.projects.selected,t="disabled";void 0!==this.store.projects.selected&&(t="");var n=this.store.snapshots.snapshots.length;return this.store.uistate.active_view,this.store.tasks,this.store.uistate,this.store.uistate.connections.length,f.default.createElement("li",{className:["dropdown",t].join(" ")},f.default.createElement("a",{href:"javascript:void(0);",className:" dropdown-toggle","data-toggle":"dropdown",style:{}},"Export & Share",f.default.createElement("i",{style:{marginLeft:2},className:"fa fa-caret-down"})),f.default.createElement("ul",{className:"dropdown-menu snapshots-dropdown",style:{}},f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0);",className:w.default.dropdown_item,onClick:this.imageExportModal},f.default.createElement("div",{className:w.default.dropdown_item_element},f.default.createElement("i",{class:"fa-light fa-camera fa-fw"})),f.default.createElement("span",null,"Export as Image & PDF "))),f.default.createElement("li",{className:"divider"}),f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0);",className:w.default.dropdown_item,onClick:this.spreadsheetExportModal},f.default.createElement("div",{className:w.default.dropdown_item_element},f.default.createElement("i",{class:"fa-thin fa-file-excel fa-fw"})),f.default.createElement("span",null,"Export as Spreadsheet"))),f.default.createElement("li",{className:"divider"}),f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0);",className:w.default.dropdown_item,onClick:this.snapshotsModal},f.default.createElement("div",{className:w.default.dropdown_item_element},f.default.createElement("i",{className:"fa-light fa-globe fa-fw"})),f.default.createElement("div",{className:w.default.dropdown_item_element},"Public Snapshots ",f.default.createElement("span",{className:w.default.counter},n),f.default.createElement("div",{className:"muted small"},"Snapshots are captures of the timeline on a given time, ",f.default.createElement("br",null)," for sharing (read-only public link) and loading as Baselines.")))),e&&"group"==e.type&&this.store.user&&"standalone"!=this.store.user.type&&[f.default.createElement("li",{key:198,className:"divider for-groups"}),f.default.createElement("li",{key:199,className:"for-groups"},f.default.createElement("a",{href:"javascript:void(0);",className:"share-group",onClick:this.shareModal},f.default.createElement("i",{className:"fa fa-users fa-fw"})," Share this Group",f.default.createElement("br",null),f.default.createElement("div",{className:"muted small",style:{marginLeft:20}},"Make this group available for other team members")))]))}},{key:"render",value:function(){var e=this;if(this.store.uistate.is_mobile)return this.renderMobile();if("inbox"==this.store.uistate.active_view)return this.renderInbox();var t=this.store.projects.selected,n="disabled";void 0!==this.store.projects.selected&&(n=""),this.store.snapshots.snapshots.length;var r=this.store.uistate.active_view,a=(this.store.tasks,this.store.uistate,this.store.uistate.connections.length),o=!!this.store.projects.selected&&this.store.projectsettings.getSetting("default_view");return f.default.createElement("div",{className:"navbar  navbar-fixed-top active-sidebar",style:u({},this.store.uistate.centralContentStyle)},f.default.createElement("div",{className:"navbar-inner",style:{minWidth:"1100px",height:"100px"}},f.default.createElement("div",{className:"container"},f.default.createElement("div",{className:"navbar-content"},f.default.createElement("div",{className:"first-column",style:{flexGrow:1,paddingLeft:"15px"}},f.default.createElement("div",{style:{flexGrow:1}},f.default.createElement("div",{style:{textAlign:"left"}},f.default.createElement("div",{className:w.default.project_name_container},f.default.createElement("div",{className:"project-name"},t?t.name:"Select a project from the list..."),this.store.projects.selected&&f.default.createElement("div",{className:[w.default.ellipsis,"dropdown"].join(" ")},f.default.createElement("div",{href:"javascript:void(0)",className:"dropdown-toggle","data-toggle":"dropdown"},f.default.createElement("i",{class:"fa-solid fa-gear"})," ",f.default.createElement("i",{class:"fa-solid fa-caret-down"})),f.default.createElement("ul",{className:"dropdown-menu",style:{fontSize:"12px"}},f.default.createElement("li",{className:"dropdown-submenu"},f.default.createElement("a",{href:"javascript:void(0);"},f.default.createElement("i",{className:"fa-light fa-star"})," Set default view"),f.default.createElement("ul",{className:"dropdown-menu"},f.default.createElement("li",{className:""},f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.setDefaultEveryoneView("gantt")}},o&&"gantt"==o.everyone&&f.default.createElement("i",{className:"fa-solid fa-star"}),!o||"gantt"!=o.everyone&&f.default.createElement("i",{className:"fa-light fa-star"}),"  Gantt")),"standalone"==this.store.user.type&&f.default.createElement("li",{className:""},f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.setDefaultEveryoneView("table")}},o&&"table"==o.everyone&&f.default.createElement("i",{className:"fa-solid fa-star"}),!o||"table"!=o.everyone&&f.default.createElement("i",{className:"fa-light fa-star"}),"  Table")),"standalone"==this.store.user.type&&f.default.createElement("li",{className:""},f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.setDefaultEveryoneView("board")}},o&&"board"==o.everyone&&f.default.createElement("i",{className:"fa-solid fa-star"}),!o||"board"!=o.everyone&&f.default.createElement("i",{className:"fa-light fa-star"}),"  Board")),f.default.createElement("li",{className:""},f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.setDefaultEveryoneView("workload")}},o&&"workload"==o.everyone&&f.default.createElement("i",{className:"fa-solid fa-star"}),!o||"workload"!=o.everyone&&f.default.createElement("i",{className:"fa-light fa-star"}),"  Workload")),this.store.projects.selected&&"workspace"!=this.store.projects.selected.type&&"team"!=this.store.projects.selected.subtype&&f.default.createElement("li",{className:""},f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.setDefaultEveryoneView("overview")}},o&&"overview"==o.everyone&&f.default.createElement("i",{className:"fa-solid fa-star"}),!o||"overview"!=o.everyone&&f.default.createElement("i",{className:"fa-light fa-star"}),"  Overview"))))))),f.default.createElement("div",{className:w.default.navbar},f.default.createElement("div",{className:w.default.views},f.default.createElement("div",{onClick:function(){return e.store.uistate.changeView("gantt")},className:[w.default.view_item,"gantt"==r?w.default.selected:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},f.default.createElement("img",{src:"/img/gantt-icon-2.png",width:"13",style:{marginTop:0}})),f.default.createElement("span",null,"Gantt"),o&&"gantt"==o.everyone&&f.default.createElement("div",{className:w.default.star_container},f.default.createElement("i",{className:"fa-solid fa-star"}))),"standalone"==this.store.user.type&&f.default.createElement("div",{onClick:function(){return e.store.uistate.changeView("table")},className:[w.default.view_item,"table"==r?w.default.selected:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},f.default.createElement("i",{class:"fa-thin fa-table"})),f.default.createElement("span",null,"Table"),o&&"table"==o.everyone&&f.default.createElement("div",{className:w.default.star_container},f.default.createElement("i",{className:"fa-solid fa-star"}))),"standalone"==this.store.user.type&&f.default.createElement("div",{onClick:function(){return e.store.uistate.changeView("board")},className:[w.default.view_item,"board"==r?w.default.selected:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},f.default.createElement("i",{className:"far fa-fw fa-line-columns"})),f.default.createElement("span",null,"Board"),o&&"board"==o.everyone&&f.default.createElement("div",{className:w.default.star_container},f.default.createElement("i",{className:"fa-solid fa-star"}))),f.default.createElement("div",{onClick:function(){return e.store.uistate.changeView("workload")},className:["workload-section",w.default.view_item,"workload"==r?w.default.selected:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},f.default.createElement("i",{className:"fal fa-fw fa-user-friends"})),f.default.createElement("span",null,"Workload"),o&&"workload"==o.everyone&&f.default.createElement("div",{className:w.default.star_container},f.default.createElement("i",{className:"fa-solid fa-star"}))),f.default.createElement("div",{onClick:function(){return e.store.uistate.changeView("overview")},style:{opacity:"workspace"==(this.store.projects.selected||{}).type||"team"==(this.store.projects.selected||{}).subtype?.5:1},className:[w.default.view_item,"overview"==r?w.default.selected:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},f.default.createElement("i",{className:"fal fa-fw fa-tachometer-alt-fast"})),f.default.createElement("span",null,"Overview"),o&&"overview"==o.everyone&&f.default.createElement("div",{className:w.default.star_container},f.default.createElement("i",{className:"fa-solid fa-star"}))))),("board"==r||"workload"==r||"table"==r)&&f.default.createElement("div",{className:w.default.navbar,style:{marginTop:"2px"}},f.default.createElement("ul",{className:"unstyled subnavbar",style:{position:"relative",margin:"4px 0",textAlign:"left",display:"flex",alignItems:"center"}},this.renderExportAndShare(),this.store.uistate&&"table"!=this.store.uistate.active_view&&f.default.createElement("li",{className:["dropdown",n].join(" "),style:{}},f.default.createElement("a",{href:"#",style:{borderRight:0},className:"dropdown-toggle","data-toggle":"dropdown"},"Options",f.default.createElement("i",{style:{marginLeft:2},className:"fa fa-caret-down"})),f.default.createElement(m.default,{store:this.store})),f.default.createElement("li",{className:[n].join(" "),style:{marginRight:0}},f.default.createElement(g.default,{store:this.store}))),f.default.createElement("div",{className:w.default.separator},"|"),f.default.createElement("div",{className:w.default.views},this.modules.inSync&&f.default.createElement(y.Tooltip,{arrow:!0,title:"In Sync",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){return e.sync()},className:[w.default.view_item_button].join(" "),style:{marginRight:0}},f.default.createElement("div",{className:w.default.icon_container},0==a&&f.default.createElement("i",{className:"fa-regular fa-cloud-check"}),0!=a&&f.default.createElement(f.default.Fragment,null,f.default.createElement("i",{className:"fa-regular fa-cloud fa-beat"})))))),f.default.createElement("div",{className:w.default.separator},"|"),"table"!=r&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:w.default.views,style:{marginRight:"10px"}},this.filterMenu()),f.default.createElement("div",{className:w.default.views},this.renderActiveFilters())),"table"==r&&f.default.createElement("div",{className:w.default.views,style:{marginRight:"10px"}},f.default.createElement("div",{onClick:function(){return e.custom_fields_manager_open=!0},style:{marginRight:0},className:[w.default.view_item_button].join(" ")},f.default.createElement("div",{className:w.default.icon_container,style:{fontSize:"11px"}},f.default.createElement("i",{class:"fa fa-cog"})," ",f.default.createElement("span",null," Custom fields "))),this.custom_fields_manager_open&&f.default.createElement(j.default,{store:this.store,close:function(){return e.custom_fields_manager_open=!1},workbook:this.store.workbooks.selected})),"workload"==r&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:w.default.separator,style:{marginLeft:"-10px"}},"|"),f.default.createElement("div",{className:w.default.views},f.default.createElement(y.Tooltip,{arrow:!0,title:this.store.uistate.show_parents_on_workload?"Parent tasks are visible":"Parent tasks are hidden",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){return e.store.uistate.show_parents_on_workload=!e.store.uistate.show_parents_on_workload},style:{marginRight:0},className:[w.default.view_item_button,this.store.uistate.show_parents_on_workload?w.default.highlighted:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},f.default.createElement("i",{class:"fa-light fa-sitemap"}))))),f.default.createElement("div",{className:w.default.separator,style:{marginLeft:"0px"}},"|"),f.default.createElement("div",{className:w.default.views},f.default.createElement(C.default,{store:this.store}))),this.modules.unread_counter&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:w.default.separator,style:{marginLeft:"0px"}},"|"),f.default.createElement("div",{className:w.default.views},f.default.createElement(y.Tooltip,{arrow:!0,title:"Unread comments",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){e.store.uistate.toggleNewComments()},style:{marginRight:0},className:[w.default.view_item_button,this.store.uistate.new_comments_visible?w.default.highlighted:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},!this.store.uistate.new_comments_visible&&this.store.tasks.unread_counter>0&&f.default.createElement("i",{className:"fa-regular fa-message fa-beat-fade"}),!this.store.uistate.new_comments_visible&&0==this.store.tasks.unread_counter&&f.default.createElement("i",{className:"fa-regular fa-message",style:{}}),this.store.uistate.new_comments_visible&&f.default.createElement("i",{className:"fa-regular fa-message",style:{}}),this.store.tasks.unread_counter>0&&f.default.createElement("div",{className:w.default.unread_counter},this.store.tasks.unread_counter)))))),"workload"==r&&f.default.createElement("div",{className:w.default.views,style:{marginLeft:"auto"}},f.default.createElement("div",{className:w.default.view_item_button},this.templateDayWeekScale()))),"overview"==r&&f.default.createElement("div",{className:w.default.navbar,style:{marginTop:"2px"}},f.default.createElement("ul",{className:"unstyled subnavbar",style:{position:"relative",margin:"4px 0",textAlign:"left",display:"flex",alignItems:"center"}},this.renderExportAndShare()),f.default.createElement("div",{className:w.default.separator},"|"),f.default.createElement("div",{className:w.default.views},this.modules.inSync&&f.default.createElement(y.Tooltip,{arrow:!0,title:"In Sync",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){return e.sync()},className:[w.default.view_item_button].join(" "),style:{marginRight:0}},f.default.createElement("div",{className:w.default.icon_container},0==a&&f.default.createElement("i",{className:"fa-regular fa-cloud-check"}),0!=a&&f.default.createElement(f.default.Fragment,null,f.default.createElement("i",{className:"fa-regular fa-cloud fa-beat"}))))))),"gantt"==r&&f.default.createElement("div",{className:w.default.navbar,style:{marginTop:"2px"}},f.default.createElement("ul",{className:"unstyled subnavbar",style:{position:"relative",margin:"4px 0",textAlign:"left"}},this.renderExportAndShare(),this.store.uistate&&"table"!=this.store.uistate.active_view&&f.default.createElement("li",{className:["dropdown",n].join(" ")},f.default.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown",style:{}},"Baselines",f.default.createElement("i",{style:{marginLeft:2},className:"fa fa-caret-down"})),f.default.createElement(b.default,{store:this.store})),this.store.uistate&&"table"!=this.store.uistate.active_view&&f.default.createElement("li",{className:["dropdown",n].join(" "),style:{}},f.default.createElement("a",{href:"#",style:{borderRight:0},className:"dropdown-toggle","data-toggle":"dropdown"},"Options",f.default.createElement("i",{style:{marginLeft:2},className:"fa fa-caret-down"})),f.default.createElement(m.default,{store:this.store})),f.default.createElement("li",{className:[n].join(" "),style:{visibility:this.store.uistate&&"gantt"==this.store.uistate.active_view?"visible":"hidden"}},f.default.createElement(_.default,{store:this.store})),f.default.createElement("li",{className:[n].join(" "),style:{marginRight:0}},f.default.createElement(g.default,{store:this.store})),f.default.createElement("div",{className:"clearfix"})),f.default.createElement("div",{className:w.default.separator},"|"),f.default.createElement("div",{className:w.default.views},this.store.user&&"standalone"!=this.store.user.type&&f.default.createElement(y.Tooltip,{arrow:!0,title:"In Sync",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){return e.sync()},className:[w.default.view_item_button].join(" ")},f.default.createElement("div",{className:w.default.icon_container},f.default.createElement("i",{className:"fa-regular fa-sync"})))),this.modules.inSync&&f.default.createElement(y.Tooltip,{arrow:!0,title:"In Sync",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){return e.sync()},className:[w.default.view_item_button].join(" ")},f.default.createElement("div",{className:w.default.icon_container},0==a&&f.default.createElement("i",{className:"fa-regular fa-cloud-check"}),0!=a&&f.default.createElement(f.default.Fragment,null,f.default.createElement("i",{className:"fa-regular fa-cloud fa-beat"}))))),this.modules.undo&&f.default.createElement(y.Tooltip,{arrow:!0,title:"Undo",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){return e.undo()},style:{marginRight:0},className:[w.default.view_item_button,this.store.uistate.undoing?w.default.highlighted:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},f.default.createElement("i",{class:"fa-regular fa-rotate-left"}))))),f.default.createElement("div",{className:w.default.separator},"|"),f.default.createElement("div",{className:w.default.views},f.default.createElement(y.Tooltip,{arrow:!0,title:"Sort by",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:0},className:["dropdown",w.default.view_item_button,this.store.tasks.sort_options.sort_by_date?"":w.default.highlighted].join(" ")},f.default.createElement("div",{className:"dropdown-toggle","data-toggle":"dropdown",style:{display:"flex",alignItems:"center"}},f.default.createElement("div",{className:w.default.icon_container},this.store.tasks.sort_options.sort_by_date&&f.default.createElement("i",{class:"fa-regular fa-arrow-down-short-wide"}),!this.store.tasks.sort_options.sort_by_date&&f.default.createElement("i",{class:"fa-regular fa-sort-numeric-down"})),f.default.createElement("span",{className:w.default.minitext},this.store.tasks.sort_options.sort_by_date?"Date":"Manual")),f.default.createElement("ul",{className:"dropdown-menu snapshots-dropdown",style:{fontSize:"11px"}},f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0);",className:"export-image",onClick:function(){return e.sortByDate()}},"Date (recommended)")),f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0);",className:"export-spreadsheet",onClick:function(){return e.sortManual()}},"Manual")))))),f.default.createElement("div",{className:w.default.separator},"|"),f.default.createElement("div",{className:w.default.views},this.modules["critical-path"]&&f.default.createElement(y.Tooltip,{arrow:!0,title:"Critical Path",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){return e.criticalPath()},className:[w.default.view_item_button,this.store.uistate.critical_path?w.default.highlighted:""].join(" ")},f.default.createElement("div",{className:[w.default.icon_container,this.store.uistate.critical_path?w.default.highlighted:""].join(" ")},f.default.createElement("i",{class:"fa-regular fa-code-branch"})))),this.modules.duplicate&&f.default.createElement(y.Tooltip,{arrow:!0,title:"Duplicate Project",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){return e.duplicate()},className:[w.default.view_item_button,"board"==r?w.default.selected:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},f.default.createElement("i",{class:"fa-light fa-copy"})))),this.modules.map&&f.default.createElement(y.Tooltip,{arrow:!0,title:"Minimap Navigation",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){e.store.uistate.toggleMap()},className:[w.default.view_item_button,this.store.uistate.map_active?w.default.highlighted:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},f.default.createElement("i",{class:"fa-regular fa-map"})))),this.store.user&&"standalone"==this.store.user.type&&f.default.createElement(y.Tooltip,{arrow:!0,title:"Changes since you've been gone",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){return e.store.uistate.toggleHistory()},className:[w.default.view_item_button,this.store.uistate.logs_visible?w.default.highlighted:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},f.default.createElement("i",{className:"far fa-newspaper"})))),this.modules.unread_counter&&f.default.createElement(y.Tooltip,{arrow:!0,title:"Unread comments",position:"bottom",size:"small",style:{display:"flex"}},f.default.createElement("div",{onClick:function(){e.store.uistate.toggleNewComments()},style:{marginRight:0},className:[w.default.view_item_button,this.store.uistate.new_comments_visible?w.default.highlighted:""].join(" ")},f.default.createElement("div",{className:w.default.icon_container},!this.store.uistate.new_comments_visible&&this.store.tasks.unread_counter>0&&f.default.createElement("i",{className:"fa-regular fa-message fa-beat-fade"}),!this.store.uistate.new_comments_visible&&0==this.store.tasks.unread_counter&&f.default.createElement("i",{className:"fa-regular fa-message",style:{}}),this.store.uistate.new_comments_visible&&f.default.createElement("i",{className:"fa-regular fa-message",style:{}}),this.store.tasks.unread_counter>0&&f.default.createElement("div",{className:w.default.unread_counter},this.store.tasks.unread_counter))))),f.default.createElement("div",{className:w.default.views,style:{marginLeft:"auto"}},f.default.createElement("div",{className:w.default.view_item_button},this.templateDayWeekScale())))))),f.default.createElement("div",{className:"middle-column gantt-display-options",style:{minWidth:"330px",display:"none"}},f.default.createElement("div",{style:{display:"flex"}},f.default.createElement("div",null,f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.store.uistate.changeView("gantt")},className:["gantt-section","gantt"==r?"active-section":""].join(" ")},f.default.createElement("img",{src:"/img/gantt-icon-2.png",width:"15",style:{marginTop:-2}})," Gantt")),f.default.createElement("div",null,f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.store.uistate.changeView("workload")},className:["workload-section","workload"==r?"active-section":""].join(" ")},f.default.createElement("i",{className:"fal fa-fw fa-user-friends"})," Workload")),"standalone"==this.store.user.type&&f.default.createElement("div",null,f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.store.uistate.changeView("board")},className:["board-section","board"==r?"active-section":""].join(" ")},f.default.createElement("i",{className:"far fa-fw fa-line-columns"})," Board")),f.default.createElement("div",{style:{opacity:"workspace"==(this.store.projects.selected||{}).type||"team"==(this.store.projects.selected||{}).subtype?.5:1}},f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.store.uistate.changeView("overview")},className:["workload-section","overview"==r?"active-section":""].join(" ")},f.default.createElement("i",{className:"fal fa-fw fa-tachometer-alt-fast"})," Overview")))),f.default.createElement("div",{className:"last-column"},f.default.createElement("div",{className:"pull-right",style:{minWidth:"300px"}},f.default.createElement("ul",{className:"pull-right unstyled user-options",style:{fontSize:12,marginTop:"10px"}},f.default.createElement("li",{style:{background:"transparent",display:"none"}},f.default.createElement("a",{href:"javascript:void(0)"},f.default.createElement("span",{className:"sync-counter",style:{display:"none"}}),f.default.createElement("i",{className:"fa fa-spinner sync-indicator muted",style:{display:"none"}}))),this.store.uistate.free_trial_banner&&f.default.createElement("li",{style:{position:"relative",marginTop:"-13px"}},f.default.createElement("div",{style:{color:"#777",fontSize:"10px"}},"Free trial status"),f.default.createElement("div",null,f.default.createElement("div",{style:{height:"6px",background:"#ddd",position:"relative",margin:"5px 0"}},f.default.createElement("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:100*Number((this.store.uistate.free_trial_days-this.store.uistate.free_trial_days_left)/this.store.uistate.free_trial_days)+"%",background:"#7ED321"}}))),f.default.createElement("div",{style:{color:"#777",textAlign:"center",fontSize:"10px"}},this.store.uistate.free_trial_days_left," days left")),this.store.uistate.free_trial_banner&&f.default.createElement("li",{className:"notice upgrade",style:{position:"relative"}},f.default.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.store.uistate.subscription_modal="UPGRADE_NOW"}},f.default.createElement("i",{className:"fa fa-star"})," Upgrade")),this.store.user&&"standalone"!=this.store.user.type&&f.default.createElement("li",{className:"notice upgrade hide",style:{position:"relative"}},f.default.createElement("a",{href:"#/subscriptions/upgrade"},f.default.createElement("i",{className:"fa fa-star"})," Upgrade")),this.store.user&&"standalone"==this.store.user.type&&f.default.createElement("li",{className:"notice-blue",style:{position:"relative"},onClick:function(){return e.inviteMembers()}},f.default.createElement("a",{href:"javascript:void(0)",onClick:function(t){return e.inviteMembers(t)}},f.default.createElement("i",{className:"fa fa-user-plus fa-fw"})," Invite")))),f.default.createElement("div",{className:"clearfix"}))))))}},{key:"hideFilter",value:function(e){this.visible_filters.indexOf(e)>-1&&this.visible_filters.splice(this.visible_filters.indexOf(e),1)}},{key:"renderActiveFilters",value:function(){var e=this,t={background:"#efefef",borderRadius:"3px",padding:"2px 5px"},n={background:"#facb1f",borderRadius:"3px",padding:"2px 5px"};return f.default.createElement(f.default.Fragment,null,this.store.uistate.columns.custom_fields.filter((function(t){return t.active&&-1!=e.visible_filters.indexOf(t.id)})).map((function(r){return f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"dropdown"==r.type?"list":"range",filter:e.store.tasks.active_filters[r.id],column_type:"custom",column:r.id,name:r.name,attribute:r.id,subattribute:!1,attributeType:"Object",items:"dropdown"==r.type?r.options.filter((function(e){return e.enabled})):[],templates:T(r),removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters[r.id])},updateFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter(r.id)},createFilter:function(t){return e.store.tasks.setFilter(t)},visible:!e.store.tasks.active_filters[r.id],clearOnCloseIfEmpty:!0,style:t,selected_style:n},r.short_name))})),-1!=this.visible_filters.indexOf("assignee")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"list",filter:this.store.tasks.active_filters.assignee,column:"assignee",name:"Assignee",attribute:"get_users",attributeType:"Array",items:this.store.users.filtered.map((function(e){return e.id&&0!=e.id?{id:e.id,name:e.name}:{id:0,name:"Unassigned"}})).concat({id:0,name:"Unassigned"}),removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.assignee)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("assignee")},visible:!this.store.tasks.active_filters.assignee,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.assignee.name)),-1!=this.visible_filters.indexOf("tags")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"list",filter:this.store.tasks.active_filters.tags,column:"tags",name:"Tags",attribute:"tags",attributeType:"Array",items:this.store.tasks.tags,removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.tags)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("tags")},visible:!this.store.tasks.active_filters.tags,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.tags.name)),-1!=this.visible_filters.indexOf("estimated_hours")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"range",filter:this.store.tasks.active_filters.estimated_hours,column:"estimated_hours",name:"Estimated Hours",attribute:"get_estimated_hours",subattribute:"estimated_hours",attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.estimated_hours)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("estimated_hours")},visible:!this.store.tasks.active_filters.estimated_hours,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.estimatedhours.name)),-1!=this.visible_filters.indexOf("actual_hours")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"range",filter:this.store.tasks.active_filters.actual_hours,column:"actual_hours",name:"Actual Hours",attribute:"get_actual_hours",subattribute:"actual_hours",attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.actual_hours)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("actual_hours")},visible:!this.store.tasks.active_filters.actual_hours,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.actualhours.name)),-1!=this.visible_filters.indexOf("estimated_cost")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"range",filter:this.store.tasks.active_filters.estimated_cost,column:"estimated_cost",name:"Estimated Cost",attribute:"get_estimated_cost",subattribute:"estimated_cost",attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.estimated_cost)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("estimated_cost")},visible:!this.store.tasks.active_filters.estimated_cost,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.estimatedcost.name)),-1!=this.visible_filters.indexOf("actual_cost")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"range",filter:this.store.tasks.active_filters.actual_cost,column:"actual_cost",name:"Actual Cost",attribute:"get_actual_cost",subattribute:"actual_cost",attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.actual_cost)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("actual_cost")},visible:!this.store.tasks.active_filters.actual_cost,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.actualcost.name)),-1!=this.visible_filters.indexOf("start")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"range",subtype:"date",filter:this.store.tasks.active_filters.start,column:"start",name:"Start",attribute:"start",subattribute:!1,attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.start)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("start")},visible:!this.store.tasks.active_filters.start,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.workingdaysduration.name)),-1!=this.visible_filters.indexOf("working_days")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"range",filter:this.store.tasks.active_filters.working_days,column:"working_days",name:"Working days",attribute:"working_duration",subattribute:!1,attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.working_days)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("working_duration")},visible:!this.store.tasks.active_filters.working_days,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.workingdaysduration.name)),-1!=this.visible_filters.indexOf("due")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"range",subtype:"date",filter:this.store.tasks.active_filters.due,column:"due",name:"Due",attribute:"due",subattribute:!1,attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.due)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("due")},visible:!this.store.tasks.active_filters.due,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.due.name)),-1!=this.visible_filters.indexOf("priority")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"list",filter:this.store.tasks.active_filters.priority,column:"priority",name:"Priority",attribute:"get_priority",subattribute:"priority",templates:{"":x.default[0].dropdown_display,1:x.default[1].dropdown_display,2:x.default[2].dropdown_display,3:x.default[3].dropdown_display,4:x.default[4].dropdown_display,5:x.default[5].dropdown_display},attributeType:"Object",items:[{id:""},{id:1},{id:2},{id:3},{id:4},{id:5}],removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.priority)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("priority")},visible:!this.store.tasks.active_filters.priority,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.priority.name)),-1!=this.visible_filters.indexOf("risk")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"list",filter:this.store.tasks.active_filters.risk,column:"risk",name:"Risk",attribute:"get_risk",subattribute:"risk",templates:{"":O.default[0].dropdown_display,1:O.default[1].dropdown_display,2:O.default[2].dropdown_display,3:O.default[3].dropdown_display,4:O.default[4].dropdown_display,5:O.default[5].dropdown_display},attributeType:"Object",items:[{id:""},{id:1},{id:2},{id:3},{id:4},{id:5}],removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.risk)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("risk")},visible:!this.store.tasks.active_filters.risk,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.risk.name)),-1!=this.visible_filters.indexOf("progress")&&f.default.createElement("div",{className:w.default.filter_item},f.default.createElement(E.default,{type:"range",filter:this.store.tasks.active_filters.progress,column:"progress",name:"Progress",attribute:"calculated_progress",subattribute:!1,attributeType:"Object",removeFilter:function(){return e.store.tasks.removeFilter(e.store.tasks.active_filters.progress)},updateFilter:function(t){return e.store.tasks.setFilter(t)},createFilter:function(t){return e.store.tasks.setFilter(t)},afterClear:function(){return e.hideFilter("progress")},visible:!this.store.tasks.active_filters.progress,style:t,clearOnCloseIfEmpty:!0,selected_style:n},this.store.uistate.columns.progress.name)))}},{key:"modules",get:function(){var e=this.store.tasks,t=this.store.projects,n=this.store.uistate;return{inSync:"offline"!=this.store.mode,sort:"gantt"==n.active_view&&"offline"!=this.store.mode,undo:"offline"!=this.store.mode,"zoom-module":!0,"scale-module":!0,"subtasks-module":!1,"selector-button":"gantt"==n.active_view,freeEditMode:"gantt"==n.active_view&&e.sort_options.sort_by_date,today:!1,"critical-path":"gantt"==n.active_view&&t.selected&&"project"==t.selected.type,duplicate:"gantt"==n.active_view&&t.selected&&"project"==t.selected.type&&"offline"!=this.store.mode,map:"gantt"==n.active_view,unread_counter:"offline"!=this.store.mode}}}]),t}(),o=S(a.prototype,"mobile_menu_open",[h.observable],{enumerable:!0,initializer:function(){return!1}}),i=S(a.prototype,"visible_filters",[h.observable],{enumerable:!0,initializer:function(){return[]}}),s=S(a.prototype,"custom_fields_manager_open",[h.observable],{enumerable:!0,initializer:function(){return!1}}),S(a.prototype,"modules",[h.computed],Object.getOwnPropertyDescriptor(a.prototype,"modules"),a.prototype),r=a))||r;t.default=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=b(d),p=n(6),h=n(3),m=(b(n(53)),b(n(111))),_=b(n(265)),g=b(n(947));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var A=(0,p.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return y(n,"dropdown_visibility",o,n),y(n,"creating_filter",i,n),y(n,"creating_filter_name",s,n),y(n,"configure_custom_field",l,n),y(n,"custom_fields_manager_open",c,n),n.store=n.props.store,n.handleKeyboard=n.handleKeyboard.bind(n),n.handleClickOutside=n.handleClickOutside.bind(n),n.handleEsc=n.handleEsc.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"howToSync",value:function(){this.store.uistate.current_modal="HOW_TO_SYNC_COLUMNS"}},{key:"handleKeyboard",value:function(e){this.creating_filter_name=e.target.value}},{key:"handleKeyboardOperators",value:function(e){13==e.keyCode&&""!=this.creating_filter_name&&this.createFilter()}},{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),document.addEventListener("keydown",this.handleEsc)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside),document.removeEventListener("keydown",this.handleEsc)}},{key:"handleClickOutside",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&(this.dropdown_visibility=!1)}},{key:"handleEsc",value:function(e){27==e.keyCode&&(this.dropdown_visibility=!1,this.creating_filter=!1)}},{key:"showCustomFieldSetup",value:function(e){this.configure_custom_field=e}},{key:"hideCustomFieldSetup",value:function(){this.configure_custom_field=!1}},{key:"manageCustomFields",value:function(){this.custom_fields_manager_open=!0}},{key:"hideCustomFieldsManager",value:function(){this.custom_fields_manager_open=!1}},{key:"createFilter",value:function(){if(""!=this.creating_filter_name){var e=this.store.tasks.serializeFilters()||[],t=this.store.projectsettings.getSetting("saved_filters")||[];t.push({name:this.creating_filter_name,filters:e}),this.store.projectsettings._set_setting("saved_filters",t),this.creating_filter=!1,this.creating_filter_name="",this.store.projectsettings._save(),this.loadFilter(e,t.length-1)}}},{key:"deleteSegment",value:function(e){if(confirm("Delete this segment?")){var t=this.store.projectsettings.getSetting("saved_filters")||[];t.splice(e,1),this.store.projectsettings._set_setting("saved_filters",t),this.store.projectsettings._save(),this.store.uistate.active_segment===e&&(this.store.tasks.removeAllFilters(),this.store.uistate.active_segment=!1,this.dropdown_visibility=!1)}}},{key:"loadFilter",value:function(e,t){if(this.store.tasks.removeAllFilters(),t===this.store.uistate.active_segment)return this.store.uistate.active_segment=!1,void(this.dropdown_visibility=!1);this.store.tasks.setFilters(e),this.store.uistate.active_segment=t,this.dropdown_visibility=!1}},{key:"filterCreator",value:function(){this.creating_filter=!0}},{key:"open",value:function(){this.dropdown_visibility=!this.dropdown_visibility,this.creating_filter=!1,this.creating_filter_name=""}},{key:"render",value:function(){var e=this,t=this.store.projectsettings.getSetting("saved_filters")||[];return f.default.createElement("div",{className:"",style:{paddingRight:10,marginTop:0,position:"relative"},"data-toggle":"tooltip","data-placement":"bottom","data-html":"true","data-title":"You can customize the columns in the task list. We also have an Estimated Hours field now! <br> <button class='tooltip-button close-tooltip'>Got it</button>"},f.default.createElement("a",{href:"javascript:void(0);",className:!0,style:{},onClick:function(){return e.open()}},"Segments",f.default.createElement("i",{style:{marginLeft:2},className:"fa fa-caret-down"})),f.default.createElement("ul",{ref:function(t){return e.wrapper=t},className:"dropdown-menu",style:{display:this.dropdown_visibility?"block":"none"}},f.default.createElement("li",{className:"",style:{display:"flex",alignItems:"center",padding:"5px 0"}},f.default.createElement("div",{href:"javascript:void(0);",style:{flexGrow:"1",paddingLeft:"10px"}},"Segments"),f.default.createElement("div",{style:{cursor:"pointer",padding:"0 10px"},onClick:function(){return e.dropdown_visibility=!e.dropdown_visibility}},f.default.createElement("i",{className:"fa fa-times"}))),f.default.createElement("li",{className:"divider"}),f.default.createElement("li",{style:{maxHeight:"290px",overflow:"scroll"}},t.map((function(t,n){return f.default.createElement("a",{className:g.default.option_row,style:{display:"flex"},key:n},f.default.createElement("div",{className:g.default.option_element,onClick:function(){return e.loadFilter(t.filters,n)}},e.store.uistate.active_segment===n&&f.default.createElement("i",{className:"fa-solid fa-square"}),e.store.uistate.active_segment!==n&&f.default.createElement("i",{className:"fa-regular fa-square"})),f.default.createElement("div",{className:g.default.option_element,style:{flexGrow:1},onClick:function(){return e.loadFilter(t.filters,n)}},t.name),f.default.createElement("div",{className:g.default.option_element,onClick:function(){return e.deleteSegment(n)}},f.default.createElement("i",{className:"fa-regular fa-trash"})))}))),0==t.length&&f.default.createElement(f.default.Fragment,null,f.default.createElement("li",null,f.default.createElement("a",{href:"javascript:void(0)"},"You don't have any segment yet. ",f.default.createElement("br",null),"Apply filters to your tasks and then ",f.default.createElement("br",null)," click here to create your ",f.default.createElement("br",null)," first Segment!"))),f.default.createElement(f.default.Fragment,null,f.default.createElement("li",{className:"divider"}),f.default.createElement("li",null,0!=Object.keys(this.store.tasks.active_filters).length&&f.default.createElement("div",{style:{display:"flex",alignItems:"center",padding:"0 10px 5px"}},!this.creating_filter&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:"btn btn-flat btn-small btn-success",onClick:function(){return e.filterCreator()},style:{flexGrow:1}},"Save active filters")),this.creating_filter&&f.default.createElement(f.default.Fragment,null,f.default.createElement("input",{autoFocus:!0,type:"text",style:{flexGrow:1,height:"14px",marginRight:"5px",fontSize:"12px"},value:this.creating_filter_name,onKeyUp:function(t){return e.handleKeyboardOperators(t)},onChange:function(t){return e.handleKeyboard(t)}}),f.default.createElement("div",{className:"btn btn-flat btn-small btn-success",onClick:function(){return e.createFilter()},style:{flexGrow:1,marginTop:0}},"Save"))),0==Object.keys(this.store.tasks.active_filters).length&&f.default.createElement("div",{style:{display:"flex",padding:"0 10px 5px"}},f.default.createElement("div",{className:"btn btn-flat btn-small btn-success",disabled:!0,onClick:function(){return e.saveFilters()},style:{flexGrow:1}},"Save active filters"))))),this.configure_custom_field&&f.default.createElement(m.default,{cf:this.store.workbooksettings.customField(this.configure_custom_field),store:this.store,close:function(){return e.hideCustomFieldSetup()}}),this.custom_fields_manager_open&&f.default.createElement(_.default,{store:this.store,close:function(){return e.hideCustomFieldsManager()},workbook:this.store.workbooks.selected}))}}]),t}(),o=v(a.prototype,"dropdown_visibility",[h.observable],{enumerable:!0,initializer:function(){return!1}}),i=v(a.prototype,"creating_filter",[h.observable],{enumerable:!0,initializer:function(){return!1}}),s=v(a.prototype,"creating_filter_name",[h.observable],{enumerable:!0,initializer:function(){return""}}),l=v(a.prototype,"configure_custom_field",[h.observable],{enumerable:!0,initializer:function(){return!1}}),c=v(a.prototype,"custom_fields_manager_open",[h.observable],{enumerable:!0,initializer:function(){return!1}}),r=a))||r;t.default=A},function(e,t,n){e.exports={option_row:"_3uQFe5jF9JBSXaTUznspFg",option_element:"_3XcGeOa4l9QsQN1BECRuBO"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o,i,s,l,c,u,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),h=k(p),m=n(6),_=n(3),g=n(63),b=k(n(930)),y=n(15),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(9)),A=k(n(78)),w=k(n(949));function k(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function x(e,t,n,r,a){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var O=function(e){var t=e.children;return(0,y.createPortal)(t,document.body)},C=function(e){var t=e.children;return(0,y.createPortal)(t,document.getElementsByClassName("bars-container")[0])},j=(0,m.observer)((a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return E(n,"drawing",o,n),E(n,"drawing_task",i,n),E(n,"drawing_name",s,n),E(n,"screen_positions",l,n),E(n,"modal_visible",c,n),E(n,"clickable_placeholder_height",u,n),E(n,"modal_parameters",d,n),n.reactions=[],n.store=n.props.store,n.handleKeyboard=n.handleKeyboard.bind(n),n.handleClickOutside=n.handleClickOutside.bind(n),n.handleEsc=n.handleEsc.bind(n),n.mouseMove=n.mouseMove.bind(n),n.reactions.push((0,_.reaction)((function(){return n.store.projects.selected}),(function(){return n.resetModalParameters()}))),window.newtask=n,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),f(t,[{key:"resetModalParameters",value:function(){this.modal_parameters.project_id=!1,this.modal_parameters.section_id=!1,this.modal_parameters.start=!1,this.modal_parameters.due=!1,this.modal_parameters.user=!1}},{key:"handleKeyboard",value:function(e){this.creating_filter_name=e.target.value}},{key:"handleKeyboardOperators",value:function(e){13==e.keyCode&&""!=this.creating_filter_name&&this.createFilter()}},{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),document.addEventListener("keydown",this.handleEsc)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside),document.removeEventListener("keydown",this.handleEsc),this.reactions.map((function(e){return e()}))}},{key:"componentDidUpdate",value:function(){document.removeEventListener("mousemove",this.mouseMove),this.modal_visible||document.addEventListener("mousemove",this.mouseMove),this.clickable_placeholder_height=document.getElementsByClassName("bars-list")[0].offsetHeight}},{key:"mouseMove",value:function(e){this.screen_positions.x=e.clientX+2,this.screen_positions.y=e.clientY+2}},{key:"handleClickOutside",value:function(e){this.wrapper&&this.wrapper.contains(e.target)}},{key:"handleEsc",value:function(e){27==e.keyCode&&(this.drawing=!1,this.modal_visible=!1)}},{key:"showCustomFieldSetup",value:function(e){this.configure_custom_field=e}},{key:"hideCustomFieldSetup",value:function(){this.configure_custom_field=!1}},{key:"manageCustomFields",value:function(){this.custom_fields_manager_open=!0}},{key:"hideCustomFieldsManager",value:function(){this.custom_fields_manager_open=!1}},{key:"createFilter",value:function(){if(""!=this.creating_filter_name){var e=this.store.tasks.serializeFilters()||[],t=this.store.projectsettings.getSetting("saved_filters")||[];t.push({name:this.creating_filter_name,filters:e}),this.store.projectsettings._set_setting("saved_filters",t),this.creating_filter=!1,this.creating_filter_name="",this.store.projectsettings._save()}}},{key:"loadFilter",value:function(e){this.store.tasks.setFilters(e),this.dropdown_visibility=!1}},{key:"filterCreator",value:function(){this.creating_filter=!0}},{key:"open",value:function(){this.dropdown_visibility=!this.dropdown_visibility,this.creating_filter=!1,this.creating_filter_name=""}},{key:"toggleDrawing",value:function(e){this.modal_visible||("standalone"==this.store.user.type||("group"!=this.store.projects.selected.type||"team"!=this.store.projects.selected.subtype)&&"workspace"!=this.store.projects.selected.type?this.drawing=!this.drawing:alert("This functionality does not works on User Groups or User Tasks list. Please use the Gantt Chart instead"))}},{key:"clickOnHandler",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"handleDrawerClick",value:function(e){var t=this,n=e.target.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top-41;e.stopPropagation();var o=v.buildDates(r,this.store.uistate.column_width,{first_month_first_date:this.store.uistate.calendar.first_month_first_date,column_width:this.store.uistate.column_width,column_length:this.store.uistate.column_length}),i=v.getMonday(moment(o.start).toDate()),s=new Date(moment(i).toDate()),l=moment(s).add("days",4).toDate(),c=this.filtered_project_users,u=this.store.users,d=this.filtered_non_project_users,f=[25,1];c.forEach((function(e){var n=(t.store.tasks.compressedTimelines[e.id]||[[]]).map((function(t){return String(e.id)}));(f=f.concat(n)).push(e.id),f.push(1)})),u.non_project_members_expanded&&d.length>0&&(f.push(25),f.push(1),d.forEach((function(e){var n=(t.store.tasks.compressedTimelines[e.id]||[[]]).map((function(t){return e.id}));(f=f.concat(n)).push(e.id),f.push(1)})));var p=0,h=!1,m=!1;f.forEach((function(e){var n=p;"string"==typeof e?(n+=25,h=t.store.users.get(e)):0===e||"0"===e?(n+=25,h={id:0,name:"Unassigned"}):"number"==typeof e&&(n+=e),a>=p&&a<n&&(m=!1===h?{id:0,name:"Unassigned"}:h),p=n})),this.modal_parameters.start=i,this.modal_parameters.due=l,this.modal_parameters.user=m.id,this.showModal()}},{key:"showModal",value:function(){this.modal_visible=!0}},{key:"hideModal",value:function(){this.modal_parameters.name="",this.modal_visible=!1}},{key:"createTask",value:function(e){if(""!=this.modal_parameters.name)if(""!=this.modal_parameters.section_id){var t=this.store;if(this.store.projects.selected){var n=this.store.uistate.context_menu.ref,r=this.modal_parameters.start,a=this.modal_parameters.due,o=[],i="",s="",l=this.store.users.get(this.modal_parameters.user);if(l&&(s=l.getAttributes(),i=l.id),this.store.tasks.active_filters.tags&&this.store.tasks.active_filters.tags.selected[0]&&this.store.tasks.active_filters.tags.selected[0].id){var c=t.tags.get(t.tasks.active_filters.tags.selected[0].id);c||(c=t.tasks.tags.filter((function(e){return e.id==t.tasks.active_filters.tags.selected[0].id}))[0]),c&&(o=[{id:c.id,name:c.name}])}var u=this.store.projects.selected;if("project"!=u.type)var d=[{id:this.modal_parameters.project_id}];else d=[{id:u.id}];var f=[],p=this.modal_parameters.section_id;p&&(f=[{project:d[0].id,section:p}]);var h=t.tasks.get(this.modal_parameters.section_id);this.store.tasks.setLocalPositions({trigger_model:n,silent:!0});var m=this.store.tasks.collection_uncollapsed.filter((function(e){return e.priority_heading_id==h.id}));if(m.length>0)var _=m[m.length-2];else _=!1;if(_)var g=_.priority,b=_.local_priority;else g=1,b=1;var y={name:this.modal_parameters.name,due:moment(a).format("YYYY-MM-DD"),start:moment(r).format("YYYY-MM-DD"),tags:o,projects:d,project_id:d&&d[0]&&d[0].id?d[0].id:"",assignee:i,user:s,parent_priority_heading:h.priority,priority_heading_id:p,memberships:f,parent:"",previous_task_id:n.id,project_priority:h.project_priority,priority:parseFloat(g)+.01,local_priority:parseFloat(b)+.01};this.store.projects.selected&&this.store.projects.selected.id&&(y.ig_project_id=this.store.projects.selected.id),this.store.tasks.create(y),this.hideModal()}else alert("You must select a project to highlight dates")}else alert("Section can't be empty");else alert("Name can't be empty")}},{key:"render",value:function(){var e=this,t={background:"#008ACA",height:"20px",borderRadius:"3px",position:"absolute",zIndex:"10000",left:this.screen_positions.x,top:this.screen_positions.y};return 7==this.store.uistate.column_length?t.width=this.store.uistate.column_width:t.width=5*this.store.uistate.column_width,h.default.createElement(g.Tooltip,{arrow:!0,title:"Create new task on any week",position:"bottom",size:"small",style:{display:"flex"}},h.default.createElement("div",{onClick:function(t){return e.toggleDrawing(t)},style:{marginRight:0},className:[b.default.view_item_button,this.drawing?b.default.highlighted:""].join(" ")},h.default.createElement("div",{className:b.default.icon_container},h.default.createElement("i",{class:"fa-regular fa-plus"})),h.default.createElement("span",{style:{fontSize:"11px"}},"New task"),this.drawing&&h.default.createElement(h.default.Fragment,null,!this.modal_visible&&h.default.createElement(h.default.Fragment,null,h.default.createElement(O,null,h.default.createElement("div",{style:t,onClick:function(t){return e.clickOnHandler(t)}})),h.default.createElement(C,null,h.default.createElement("div",{style:{position:"absolute",top:0,left:0,width:this.store.uistate.calendar.total_width+"px",bottom:0,background:"#ffffff",opacity:.4,zIndex:2,height:this.clickable_placeholder_height+"px"},onClick:function(t){return e.handleDrawerClick(t)}}))),this.modal_visible&&this.renderModal())))}},{key:"renderModal",value:function(){var e=this,t="project"!=this.store.projects.selected.type,n=[],r=[];return t&&("standalone"==this.store.user.type?n="all"==this.store.projects.selected.subtype?this.store.projects.filteredWorkbook.filter((function(e){return"project"==e.type})):this.store.projects.selected.projects_in_folder.map((function(t){return e.store.projects.get(t)})):"group"==this.store.projects.selected.type&&"team"!=this.store.projects.selected.subtype&&(n=this.store.projects.selected.projects.map((function(e){return{id:e.supplier_project_id,name:e.name}})))),t?(this.modal_parameters.project_id||(this.modal_parameters.project_id=n[0].id),r=this.store.tasks.collection_uncollapsed.filter((function(t){return t.is_priority_heading&&t.projects[0].id==e.modal_parameters.project_id}))):r=this.store.tasks.collection_uncollapsed.filter((function(e){return e.is_priority_heading})),h.default.createElement(A.default,{successButton:!0,successButtonName:"Create task",successButtonEnabled:!0,successButtonCallback:function(t){t.preventDefault(),t.stopPropagation(),e.createTask()},title:!1,closeButton:!0,closeButtonCallback:function(){return e.modal_visible=!1},store:this.store,bodyStyle:{height:t?"250px":"150px"},style:{width:"300px",marginLeft:"-150px"}},h.default.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation()}},h.default.createElement(h.default.Fragment,null,t&&h.default.createElement("div",{className:w.default.row},h.default.createElement("div",{className:w.default.row_item},"Project"),h.default.createElement("div",{className:w.default.row_item},h.default.createElement("select",{value:this.modal_parameters.project_id,onChange:function(t){e.modal_parameters.project_id=t.target.value,e.modal_parameters.section_id=!1}},h.default.createElement("option",{value:!1},"Select a project"),n.map((function(e){return h.default.createElement("option",{value:e.id},e.name)}))))),h.default.createElement("div",{className:w.default.row},h.default.createElement("div",{className:w.default.row_item},"Section"),h.default.createElement("div",{className:w.default.row_item},h.default.createElement("select",{value:this.modal_parameters.section_id,onChange:function(t){e.modal_parameters.section_id=t.target.value}},h.default.createElement("option",{value:!1},"Select a section"),r.map((function(e){return h.default.createElement("option",{value:e.id},e.name)}))))),h.default.createElement("div",{className:w.default.row},h.default.createElement("div",{className:w.default.row_item},"Task name"),h.default.createElement("div",{className:w.default.row_item},h.default.createElement("input",{type:"text",value:this.modal_parameters.name,onChange:function(t){e.modal_parameters.name=t.target.value},autoFocus:!0,onKeyDown:function(t){13==t.keyCode&&e.createTask()}}))))))}},{key:"filtered_project_users",get:function(){var e=this;return this.store.users.filtered_project_members.filter((function(t){var n=t.name||"",r=e.query||"";return n.toLowerCase().indexOf(r.toLowerCase())>-1}))}},{key:"filtered_non_project_users",get:function(){var e=this;return this.store.users.filtered_non_project_members.filter((function(t){var n=t.name||"",r=e.query||"";return n.toLowerCase().indexOf(r.toLowerCase())>-1}))}}]),t}(),o=x(a.prototype,"drawing",[_.observable],{enumerable:!0,initializer:function(){return!1}}),i=x(a.prototype,"drawing_task",[_.observable],{enumerable:!0,initializer:function(){return!1}}),s=x(a.prototype,"drawing_name",[_.observable],{enumerable:!0,initializer:function(){return""}}),l=x(a.prototype,"screen_positions",[_.observable],{enumerable:!0,initializer:function(){return{x:0,y:0}}}),c=x(a.prototype,"modal_visible",[_.observable],{enumerable:!0,initializer:function(){return!1}}),u=x(a.prototype,"clickable_placeholder_height",[_.observable],{enumerable:!0,initializer:function(){return 0}}),d=x(a.prototype,"modal_parameters",[_.observable],{enumerable:!0,initializer:function(){return{name:"",project_id:!1,section_id:!1,start:!1,due:!1,user:!1}}}),x(a.prototype,"filtered_project_users",[_.computed],Object.getOwnPropertyDescriptor(a.prototype,"filtered_project_users"),a.prototype),x(a.prototype,"filtered_non_project_users",[_.computed],Object.getOwnPropertyDescriptor(a.prototype,"filtered_non_project_users"),a.prototype),r=a))||r;t.default=j},function(e,t,n){e.exports={row:"EOWJDghkguyf-K47MB8Rg",row_item:"_1Z-GK2tgipU80omd4Zn81h"}}]);